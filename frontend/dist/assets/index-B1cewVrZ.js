var gU=Object.defineProperty;var yU=(t,e,n)=>e in t?gU(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ft=(t,e,n)=>(yU(t,typeof e!="symbol"?e+"":e,n),n);function bU(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var ao=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function oM(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var R_={exports:{}},Jp={},L_={exports:{}},jn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HA;function xU(){if(HA)return jn;HA=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;function m(F){return F===null||typeof F!="object"?null:(F=f&&F[f]||F["@@iterator"],typeof F=="function"?F:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,y={};function x(F,H,de){this.props=F,this.context=H,this.refs=y,this.updater=de||g}x.prototype.isReactComponent={},x.prototype.setState=function(F,H){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,H,"setState")},x.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function w(){}w.prototype=x.prototype;function C(F,H,de){this.props=F,this.context=H,this.refs=y,this.updater=de||g}var k=C.prototype=new w;k.constructor=C,b(k,x.prototype),k.isPureReactComponent=!0;var A=Array.isArray,N=Object.prototype.hasOwnProperty,P={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function L(F,H,de){var ee,fe={},ve=null,Ce=null;if(H!=null)for(ee in H.ref!==void 0&&(Ce=H.ref),H.key!==void 0&&(ve=""+H.key),H)N.call(H,ee)&&!M.hasOwnProperty(ee)&&(fe[ee]=H[ee]);var De=arguments.length-2;if(De===1)fe.children=de;else if(1<De){for(var Ee=Array(De),Be=0;Be<De;Be++)Ee[Be]=arguments[Be+2];fe.children=Ee}if(F&&F.defaultProps)for(ee in De=F.defaultProps,De)fe[ee]===void 0&&(fe[ee]=De[ee]);return{$$typeof:t,type:F,key:ve,ref:Ce,props:fe,_owner:P.current}}function D(F,H){return{$$typeof:t,type:F.type,key:H,ref:F.ref,props:F.props,_owner:F._owner}}function S(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function z(F){var H={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(de){return H[de]})}var O=/\/+/g;function U(F,H){return typeof F=="object"&&F!==null&&F.key!=null?z(""+F.key):H.toString(36)}function j(F,H,de,ee,fe){var ve=typeof F;(ve==="undefined"||ve==="boolean")&&(F=null);var Ce=!1;if(F===null)Ce=!0;else switch(ve){case"string":case"number":Ce=!0;break;case"object":switch(F.$$typeof){case t:case e:Ce=!0}}if(Ce)return Ce=F,fe=fe(Ce),F=ee===""?"."+U(Ce,0):ee,A(fe)?(de="",F!=null&&(de=F.replace(O,"$&/")+"/"),j(fe,H,de,"",function(Be){return Be})):fe!=null&&(S(fe)&&(fe=D(fe,de+(!fe.key||Ce&&Ce.key===fe.key?"":(""+fe.key).replace(O,"$&/")+"/")+F)),H.push(fe)),1;if(Ce=0,ee=ee===""?".":ee+":",A(F))for(var De=0;De<F.length;De++){ve=F[De];var Ee=ee+U(ve,De);Ce+=j(ve,H,de,Ee,fe)}else if(Ee=m(F),typeof Ee=="function")for(F=Ee.call(F),De=0;!(ve=F.next()).done;)ve=ve.value,Ee=ee+U(ve,De++),Ce+=j(ve,H,de,Ee,fe);else if(ve==="object")throw H=String(F),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return Ce}function V(F,H,de){if(F==null)return F;var ee=[],fe=0;return j(F,ee,"","",function(ve){return H.call(de,ve,fe++)}),ee}function K(F){if(F._status===-1){var H=F._result;H=H(),H.then(function(de){(F._status===0||F._status===-1)&&(F._status=1,F._result=de)},function(de){(F._status===0||F._status===-1)&&(F._status=2,F._result=de)}),F._status===-1&&(F._status=0,F._result=H)}if(F._status===1)return F._result.default;throw F._result}var te={current:null},J={transition:null},X={ReactCurrentDispatcher:te,ReactCurrentBatchConfig:J,ReactCurrentOwner:P};function Y(){throw Error("act(...) is not supported in production builds of React.")}return jn.Children={map:V,forEach:function(F,H,de){V(F,function(){H.apply(this,arguments)},de)},count:function(F){var H=0;return V(F,function(){H++}),H},toArray:function(F){return V(F,function(H){return H})||[]},only:function(F){if(!S(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},jn.Component=x,jn.Fragment=n,jn.Profiler=s,jn.PureComponent=C,jn.StrictMode=r,jn.Suspense=c,jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,jn.act=Y,jn.cloneElement=function(F,H,de){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var ee=b({},F.props),fe=F.key,ve=F.ref,Ce=F._owner;if(H!=null){if(H.ref!==void 0&&(ve=H.ref,Ce=P.current),H.key!==void 0&&(fe=""+H.key),F.type&&F.type.defaultProps)var De=F.type.defaultProps;for(Ee in H)N.call(H,Ee)&&!M.hasOwnProperty(Ee)&&(ee[Ee]=H[Ee]===void 0&&De!==void 0?De[Ee]:H[Ee])}var Ee=arguments.length-2;if(Ee===1)ee.children=de;else if(1<Ee){De=Array(Ee);for(var Be=0;Be<Ee;Be++)De[Be]=arguments[Be+2];ee.children=De}return{$$typeof:t,type:F.type,key:fe,ref:ve,props:ee,_owner:Ce}},jn.createContext=function(F){return F={$$typeof:a,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:i,_context:F},F.Consumer=F},jn.createElement=L,jn.createFactory=function(F){var H=L.bind(null,F);return H.type=F,H},jn.createRef=function(){return{current:null}},jn.forwardRef=function(F){return{$$typeof:l,render:F}},jn.isValidElement=S,jn.lazy=function(F){return{$$typeof:h,_payload:{_status:-1,_result:F},_init:K}},jn.memo=function(F,H){return{$$typeof:u,type:F,compare:H===void 0?null:H}},jn.startTransition=function(F){var H=J.transition;J.transition={};try{F()}finally{J.transition=H}},jn.unstable_act=Y,jn.useCallback=function(F,H){return te.current.useCallback(F,H)},jn.useContext=function(F){return te.current.useContext(F)},jn.useDebugValue=function(){},jn.useDeferredValue=function(F){return te.current.useDeferredValue(F)},jn.useEffect=function(F,H){return te.current.useEffect(F,H)},jn.useId=function(){return te.current.useId()},jn.useImperativeHandle=function(F,H,de){return te.current.useImperativeHandle(F,H,de)},jn.useInsertionEffect=function(F,H){return te.current.useInsertionEffect(F,H)},jn.useLayoutEffect=function(F,H){return te.current.useLayoutEffect(F,H)},jn.useMemo=function(F,H){return te.current.useMemo(F,H)},jn.useReducer=function(F,H,de){return te.current.useReducer(F,H,de)},jn.useRef=function(F){return te.current.useRef(F)},jn.useState=function(F){return te.current.useState(F)},jn.useSyncExternalStore=function(F,H,de){return te.current.useSyncExternalStore(F,H,de)},jn.useTransition=function(){return te.current.useTransition()},jn.version="18.3.1",jn}var WA;function Wa(){return WA||(WA=1,L_.exports=xU()),L_.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VA;function vU(){if(VA)return Jp;VA=1;var t=Wa(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function a(l,c,u){var h,f={},m=null,g=null;u!==void 0&&(m=""+u),c.key!==void 0&&(m=""+c.key),c.ref!==void 0&&(g=c.ref);for(h in c)r.call(c,h)&&!i.hasOwnProperty(h)&&(f[h]=c[h]);if(l&&l.defaultProps)for(h in c=l.defaultProps,c)f[h]===void 0&&(f[h]=c[h]);return{$$typeof:e,type:l,key:m,ref:g,props:f,_owner:s.current}}return Jp.Fragment=n,Jp.jsx=a,Jp.jsxs=a,Jp}var qA;function wU(){return qA||(qA=1,R_.exports=vU()),R_.exports}var o=wU(),_=Wa();const Zt=Jr(_),tx=bU({__proto__:null,default:Zt},[_]);var Uy={},F_={exports:{}},ki={},B_={exports:{}},$_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YA;function _U(){return YA||(YA=1,function(t){function e(J,X){var Y=J.length;J.push(X);e:for(;0<Y;){var F=Y-1>>>1,H=J[F];if(0<s(H,X))J[F]=X,J[Y]=H,Y=F;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var X=J[0],Y=J.pop();if(Y!==X){J[0]=Y;e:for(var F=0,H=J.length,de=H>>>1;F<de;){var ee=2*(F+1)-1,fe=J[ee],ve=ee+1,Ce=J[ve];if(0>s(fe,Y))ve<H&&0>s(Ce,fe)?(J[F]=Ce,J[ve]=Y,F=ve):(J[F]=fe,J[ee]=Y,F=ee);else if(ve<H&&0>s(Ce,Y))J[F]=Ce,J[ve]=Y,F=ve;else break e}}return X}function s(J,X){var Y=J.sortIndex-X.sortIndex;return Y!==0?Y:J.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,f=null,m=3,g=!1,b=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(J){for(var X=n(u);X!==null;){if(X.callback===null)r(u);else if(X.startTime<=J)r(u),X.sortIndex=X.expirationTime,e(c,X);else break;X=n(u)}}function A(J){if(y=!1,k(J),!b)if(n(c)!==null)b=!0,K(N);else{var X=n(u);X!==null&&te(A,X.startTime-J)}}function N(J,X){b=!1,y&&(y=!1,w(L),L=-1),g=!0;var Y=m;try{for(k(X),f=n(c);f!==null&&(!(f.expirationTime>X)||J&&!z());){var F=f.callback;if(typeof F=="function"){f.callback=null,m=f.priorityLevel;var H=F(f.expirationTime<=X);X=t.unstable_now(),typeof H=="function"?f.callback=H:f===n(c)&&r(c),k(X)}else r(c);f=n(c)}if(f!==null)var de=!0;else{var ee=n(u);ee!==null&&te(A,ee.startTime-X),de=!1}return de}finally{f=null,m=Y,g=!1}}var P=!1,M=null,L=-1,D=5,S=-1;function z(){return!(t.unstable_now()-S<D)}function O(){if(M!==null){var J=t.unstable_now();S=J;var X=!0;try{X=M(!0,J)}finally{X?U():(P=!1,M=null)}}else P=!1}var U;if(typeof C=="function")U=function(){C(O)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,V=j.port2;j.port1.onmessage=O,U=function(){V.postMessage(null)}}else U=function(){x(O,0)};function K(J){M=J,P||(P=!0,U())}function te(J,X){L=x(function(){J(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_continueExecution=function(){b||g||(b=!0,K(N))},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(J){switch(m){case 1:case 2:case 3:var X=3;break;default:X=m}var Y=m;m=X;try{return J()}finally{m=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(J,X){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var Y=m;m=J;try{return X()}finally{m=Y}},t.unstable_scheduleCallback=function(J,X,Y){var F=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?F+Y:F):Y=F,J){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=Y+H,J={id:h++,callback:X,priorityLevel:J,startTime:Y,expirationTime:H,sortIndex:-1},Y>F?(J.sortIndex=Y,e(u,J),n(c)===null&&J===n(u)&&(y?(w(L),L=-1):y=!0,te(A,Y-F))):(J.sortIndex=H,e(c,J),b||g||(b=!0,K(N))),J},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(J){var X=m;return function(){var Y=m;m=X;try{return J.apply(this,arguments)}finally{m=Y}}}}($_)),$_}var GA;function SU(){return GA||(GA=1,B_.exports=_U()),B_.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KA;function CU(){if(KA)return ki;KA=1;var t=Wa(),e=SU();function n(d){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+d,v=1;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(d,p){a(d,p),a(d+"Capture",p)}function a(d,p){for(s[d]=p,d=0;d<p.length;d++)r.add(p[d])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},f={};function m(d){return c.call(f,d)?!0:c.call(h,d)?!1:u.test(d)?f[d]=!0:(h[d]=!0,!1)}function g(d,p,v,E){if(v!==null&&v.type===0)return!1;switch(typeof p){case"function":case"symbol":return!0;case"boolean":return E?!1:v!==null?!v.acceptsBooleans:(d=d.toLowerCase().slice(0,5),d!=="data-"&&d!=="aria-");default:return!1}}function b(d,p,v,E){if(p===null||typeof p>"u"||g(d,p,v,E))return!0;if(E)return!1;if(v!==null)switch(v.type){case 3:return!p;case 4:return p===!1;case 5:return isNaN(p);case 6:return isNaN(p)||1>p}return!1}function y(d,p,v,E,$,q,le){this.acceptsBooleans=p===2||p===3||p===4,this.attributeName=E,this.attributeNamespace=$,this.mustUseProperty=v,this.propertyName=d,this.type=p,this.sanitizeURL=q,this.removeEmptyString=le}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(d){x[d]=new y(d,0,!1,d,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(d){var p=d[0];x[p]=new y(p,1,!1,d[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(d){x[d]=new y(d,2,!1,d.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(d){x[d]=new y(d,2,!1,d,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(d){x[d]=new y(d,3,!1,d.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(d){x[d]=new y(d,3,!0,d,null,!1,!1)}),["capture","download"].forEach(function(d){x[d]=new y(d,4,!1,d,null,!1,!1)}),["cols","rows","size","span"].forEach(function(d){x[d]=new y(d,6,!1,d,null,!1,!1)}),["rowSpan","start"].forEach(function(d){x[d]=new y(d,5,!1,d.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function C(d){return d[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(d){var p=d.replace(w,C);x[p]=new y(p,1,!1,d,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(d){var p=d.replace(w,C);x[p]=new y(p,1,!1,d,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(d){var p=d.replace(w,C);x[p]=new y(p,1,!1,d,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(d){x[d]=new y(d,1,!1,d.toLowerCase(),null,!1,!1)}),x.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(d){x[d]=new y(d,1,!1,d.toLowerCase(),null,!0,!0)});function k(d,p,v,E){var $=x.hasOwnProperty(p)?x[p]:null;($!==null?$.type!==0:E||!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(b(p,v,$,E)&&(v=null),E||$===null?m(p)&&(v===null?d.removeAttribute(p):d.setAttribute(p,""+v)):$.mustUseProperty?d[$.propertyName]=v===null?$.type===3?!1:"":v:(p=$.attributeName,E=$.attributeNamespace,v===null?d.removeAttribute(p):($=$.type,v=$===3||$===4&&v===!0?"":""+v,E?d.setAttributeNS(E,p,v):d.setAttribute(p,v))))}var A=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N=Symbol.for("react.element"),P=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),z=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),te=Symbol.for("react.offscreen"),J=Symbol.iterator;function X(d){return d===null||typeof d!="object"?null:(d=J&&d[J]||d["@@iterator"],typeof d=="function"?d:null)}var Y=Object.assign,F;function H(d){if(F===void 0)try{throw Error()}catch(v){var p=v.stack.trim().match(/\n( *(at )?)/);F=p&&p[1]||""}return`
`+F+d}var de=!1;function ee(d,p){if(!d||de)return"";de=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(st){var E=st}Reflect.construct(d,[],p)}else{try{p.call()}catch(st){E=st}d.call(p.prototype)}else{try{throw Error()}catch(st){E=st}d()}}catch(st){if(st&&E&&typeof st.stack=="string"){for(var $=st.stack.split(`
`),q=E.stack.split(`
`),le=$.length-1,je=q.length-1;1<=le&&0<=je&&$[le]!==q[je];)je--;for(;1<=le&&0<=je;le--,je--)if($[le]!==q[je]){if(le!==1||je!==1)do if(le--,je--,0>je||$[le]!==q[je]){var Re=`
`+$[le].replace(" at new "," at ");return d.displayName&&Re.includes("<anonymous>")&&(Re=Re.replace("<anonymous>",d.displayName)),Re}while(1<=le&&0<=je);break}}}finally{de=!1,Error.prepareStackTrace=v}return(d=d?d.displayName||d.name:"")?H(d):""}function fe(d){switch(d.tag){case 5:return H(d.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return d=ee(d.type,!1),d;case 11:return d=ee(d.type.render,!1),d;case 1:return d=ee(d.type,!0),d;default:return""}}function ve(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case M:return"Fragment";case P:return"Portal";case D:return"Profiler";case L:return"StrictMode";case U:return"Suspense";case j:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case z:return(d.displayName||"Context")+".Consumer";case S:return(d._context.displayName||"Context")+".Provider";case O:var p=d.render;return d=d.displayName,d||(d=p.displayName||p.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case V:return p=d.displayName||null,p!==null?p:ve(d.type)||"Memo";case K:p=d._payload,d=d._init;try{return ve(d(p))}catch{}}return null}function Ce(d){var p=d.type;switch(d.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=p.render,d=d.displayName||d.name||"",p.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(p);case 8:return p===L?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function De(d){switch(typeof d){case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function Ee(d){var p=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function Be(d){var p=Ee(d)?"checked":"value",v=Object.getOwnPropertyDescriptor(d.constructor.prototype,p),E=""+d[p];if(!d.hasOwnProperty(p)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var $=v.get,q=v.set;return Object.defineProperty(d,p,{configurable:!0,get:function(){return $.call(this)},set:function(le){E=""+le,q.call(this,le)}}),Object.defineProperty(d,p,{enumerable:v.enumerable}),{getValue:function(){return E},setValue:function(le){E=""+le},stopTracking:function(){d._valueTracker=null,delete d[p]}}}}function Ve(d){d._valueTracker||(d._valueTracker=Be(d))}function rt(d){if(!d)return!1;var p=d._valueTracker;if(!p)return!0;var v=p.getValue(),E="";return d&&(E=Ee(d)?d.checked?"true":"false":d.value),d=E,d!==v?(p.setValue(d),!0):!1}function it(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}function G(d,p){var v=p.checked;return Y({},p,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:v??d._wrapperState.initialChecked})}function Ae(d,p){var v=p.defaultValue==null?"":p.defaultValue,E=p.checked!=null?p.checked:p.defaultChecked;v=De(p.value!=null?p.value:v),d._wrapperState={initialChecked:E,initialValue:v,controlled:p.type==="checkbox"||p.type==="radio"?p.checked!=null:p.value!=null}}function be(d,p){p=p.checked,p!=null&&k(d,"checked",p,!1)}function re(d,p){be(d,p);var v=De(p.value),E=p.type;if(v!=null)E==="number"?(v===0&&d.value===""||d.value!=v)&&(d.value=""+v):d.value!==""+v&&(d.value=""+v);else if(E==="submit"||E==="reset"){d.removeAttribute("value");return}p.hasOwnProperty("value")?ce(d,p.type,v):p.hasOwnProperty("defaultValue")&&ce(d,p.type,De(p.defaultValue)),p.checked==null&&p.defaultChecked!=null&&(d.defaultChecked=!!p.defaultChecked)}function ne(d,p,v){if(p.hasOwnProperty("value")||p.hasOwnProperty("defaultValue")){var E=p.type;if(!(E!=="submit"&&E!=="reset"||p.value!==void 0&&p.value!==null))return;p=""+d._wrapperState.initialValue,v||p===d.value||(d.value=p),d.defaultValue=p}v=d.name,v!==""&&(d.name=""),d.defaultChecked=!!d._wrapperState.initialChecked,v!==""&&(d.name=v)}function ce(d,p,v){(p!=="number"||it(d.ownerDocument)!==d)&&(v==null?d.defaultValue=""+d._wrapperState.initialValue:d.defaultValue!==""+v&&(d.defaultValue=""+v))}var Te=Array.isArray;function he(d,p,v,E){if(d=d.options,p){p={};for(var $=0;$<v.length;$++)p["$"+v[$]]=!0;for(v=0;v<d.length;v++)$=p.hasOwnProperty("$"+d[v].value),d[v].selected!==$&&(d[v].selected=$),$&&E&&(d[v].defaultSelected=!0)}else{for(v=""+De(v),p=null,$=0;$<d.length;$++){if(d[$].value===v){d[$].selected=!0,E&&(d[$].defaultSelected=!0);return}p!==null||d[$].disabled||(p=d[$])}p!==null&&(p.selected=!0)}}function se(d,p){if(p.dangerouslySetInnerHTML!=null)throw Error(n(91));return Y({},p,{value:void 0,defaultValue:void 0,children:""+d._wrapperState.initialValue})}function ye(d,p){var v=p.value;if(v==null){if(v=p.children,p=p.defaultValue,v!=null){if(p!=null)throw Error(n(92));if(Te(v)){if(1<v.length)throw Error(n(93));v=v[0]}p=v}p==null&&(p=""),v=p}d._wrapperState={initialValue:De(v)}}function Pe(d,p){var v=De(p.value),E=De(p.defaultValue);v!=null&&(v=""+v,v!==d.value&&(d.value=v),p.defaultValue==null&&d.defaultValue!==v&&(d.defaultValue=v)),E!=null&&(d.defaultValue=""+E)}function Oe(d){var p=d.textContent;p===d._wrapperState.initialValue&&p!==""&&p!==null&&(d.value=p)}function xe(d){switch(d){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function at(d,p){return d==null||d==="http://www.w3.org/1999/xhtml"?xe(p):d==="http://www.w3.org/2000/svg"&&p==="foreignObject"?"http://www.w3.org/1999/xhtml":d}var lt,ze=function(d){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(p,v,E,$){MSApp.execUnsafeLocalFunction(function(){return d(p,v,E,$)})}:d}(function(d,p){if(d.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in d)d.innerHTML=p;else{for(lt=lt||document.createElement("div"),lt.innerHTML="<svg>"+p.valueOf().toString()+"</svg>",p=lt.firstChild;d.firstChild;)d.removeChild(d.firstChild);for(;p.firstChild;)d.appendChild(p.firstChild)}});function Le(d,p){if(p){var v=d.firstChild;if(v&&v===d.lastChild&&v.nodeType===3){v.nodeValue=p;return}}d.textContent=p}var ct={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tt=["Webkit","ms","Moz","O"];Object.keys(ct).forEach(function(d){tt.forEach(function(p){p=p+d.charAt(0).toUpperCase()+d.substring(1),ct[p]=ct[d]})});function He(d,p,v){return p==null||typeof p=="boolean"||p===""?"":v||typeof p!="number"||p===0||ct.hasOwnProperty(d)&&ct[d]?(""+p).trim():p+"px"}function gt(d,p){d=d.style;for(var v in p)if(p.hasOwnProperty(v)){var E=v.indexOf("--")===0,$=He(v,p[v],E);v==="float"&&(v="cssFloat"),E?d.setProperty(v,$):d[v]=$}}var ie=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ie(d,p){if(p){if(ie[d]&&(p.children!=null||p.dangerouslySetInnerHTML!=null))throw Error(n(137,d));if(p.dangerouslySetInnerHTML!=null){if(p.children!=null)throw Error(n(60));if(typeof p.dangerouslySetInnerHTML!="object"||!("__html"in p.dangerouslySetInnerHTML))throw Error(n(61))}if(p.style!=null&&typeof p.style!="object")throw Error(n(62))}}function We(d,p){if(d.indexOf("-")===-1)return typeof p.is=="string";switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yt=null;function Ye(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var Ze=null,Z=null,ae=null;function me(d){if(d=W(d)){if(typeof Ze!="function")throw Error(n(280));var p=d.stateNode;p&&(p=pe(p),Ze(d.stateNode,d.type,p))}}function oe(d){Z?ae?ae.push(d):ae=[d]:Z=d}function Ne(){if(Z){var d=Z,p=ae;if(ae=Z=null,me(d),p)for(d=0;d<p.length;d++)me(p[d])}}function xt(d,p){return d(p)}function At(){}var $t=!1;function wt(d,p,v){if($t)return d(p,v);$t=!0;try{return xt(d,p,v)}finally{$t=!1,(Z!==null||ae!==null)&&(At(),Ne())}}function Jt(d,p){var v=d.stateNode;if(v===null)return null;var E=pe(v);if(E===null)return null;v=E[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(E=!E.disabled)||(d=d.type,E=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!E;break e;default:d=!1}if(d)return null;if(v&&typeof v!="function")throw Error(n(231,p,typeof v));return v}var ir=!1;if(l)try{var Ir={};Object.defineProperty(Ir,"passive",{get:function(){ir=!0}}),window.addEventListener("test",Ir,Ir),window.removeEventListener("test",Ir,Ir)}catch{ir=!1}function Wn(d,p,v,E,$,q,le,je,Re){var st=Array.prototype.slice.call(arguments,3);try{p.apply(v,st)}catch(St){this.onError(St)}}var Qt=!1,gn=null,qr=!1,Qs=null,Vn={onError:function(d){Qt=!0,gn=d}};function ns(d,p,v,E,$,q,le,je,Re){Qt=!1,gn=null,Wn.apply(Vn,arguments)}function Ns(d,p,v,E,$,q,le,je,Re){if(ns.apply(this,arguments),Qt){if(Qt){var st=gn;Qt=!1,gn=null}else throw Error(n(198));qr||(qr=!0,Qs=st)}}function bn(d){var p=d,v=d;if(d.alternate)for(;p.return;)p=p.return;else{d=p;do p=d,p.flags&4098&&(v=p.return),d=p.return;while(d)}return p.tag===3?v:null}function fc(d){if(d.tag===13){var p=d.memoizedState;if(p===null&&(d=d.alternate,d!==null&&(p=d.memoizedState)),p!==null)return p.dehydrated}return null}function Bi(d){if(bn(d)!==d)throw Error(n(188))}function _o(d){var p=d.alternate;if(!p){if(p=bn(d),p===null)throw Error(n(188));return p!==d?null:d}for(var v=d,E=p;;){var $=v.return;if($===null)break;var q=$.alternate;if(q===null){if(E=$.return,E!==null){v=E;continue}break}if($.child===q.child){for(q=$.child;q;){if(q===v)return Bi($),d;if(q===E)return Bi($),p;q=q.sibling}throw Error(n(188))}if(v.return!==E.return)v=$,E=q;else{for(var le=!1,je=$.child;je;){if(je===v){le=!0,v=$,E=q;break}if(je===E){le=!0,E=$,v=q;break}je=je.sibling}if(!le){for(je=q.child;je;){if(je===v){le=!0,v=q,E=$;break}if(je===E){le=!0,E=q,v=$;break}je=je.sibling}if(!le)throw Error(n(189))}}if(v.alternate!==E)throw Error(n(190))}if(v.tag!==3)throw Error(n(188));return v.stateNode.current===v?d:p}function So(d){return d=_o(d),d!==null?yi(d):null}function yi(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var p=yi(d);if(p!==null)return p;d=d.sibling}return null}var qn=e.unstable_scheduleCallback,ml=e.unstable_cancelCallback,Co=e.unstable_shouldYield,Ka=e.unstable_requestPaint,ur=e.unstable_now,gl=e.unstable_getCurrentPriorityLevel,To=e.unstable_ImmediatePriority,$i=e.unstable_UserBlockingPriority,bi=e.unstable_NormalPriority,yl=e.unstable_LowPriority,da=e.unstable_IdlePriority,ko=null,Or=null;function ha(d){if(Or&&typeof Or.onCommitFiberRoot=="function")try{Or.onCommitFiberRoot(ko,d,void 0,(d.current.flags&128)===128)}catch{}}var rs=Math.clz32?Math.clz32:pa,fa=Math.log,Xa=Math.LN2;function pa(d){return d>>>=0,d===0?32:31-(fa(d)/Xa|0)|0}var As=64,Eo=4194304;function ma(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function jo(d,p){var v=d.pendingLanes;if(v===0)return 0;var E=0,$=d.suspendedLanes,q=d.pingedLanes,le=v&268435455;if(le!==0){var je=le&~$;je!==0?E=ma(je):(q&=le,q!==0&&(E=ma(q)))}else le=v&~$,le!==0?E=ma(le):q!==0&&(E=ma(q));if(E===0)return 0;if(p!==0&&p!==E&&!(p&$)&&($=E&-E,q=p&-p,$>=q||$===16&&(q&4194240)!==0))return p;if(E&4&&(E|=v&16),p=d.entangledLanes,p!==0)for(d=d.entanglements,p&=E;0<p;)v=31-rs(p),$=1<<v,E|=d[v],p&=~$;return E}function pc(d,p){switch(d){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zs(d,p){for(var v=d.suspendedLanes,E=d.pingedLanes,$=d.expirationTimes,q=d.pendingLanes;0<q;){var le=31-rs(q),je=1<<le,Re=$[le];Re===-1?(!(je&v)||je&E)&&($[le]=pc(je,p)):Re<=p&&(d.expiredLanes|=je),q&=~je}}function we(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function Je(){var d=As;return As<<=1,!(As&4194240)&&(As=64),d}function qe(d){for(var p=[],v=0;31>v;v++)p.push(d);return p}function pt(d,p,v){d.pendingLanes|=p,p!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,p=31-rs(p),d[p]=v}function ue(d,p){var v=d.pendingLanes&~p;d.pendingLanes=p,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=p,d.mutableReadLanes&=p,d.entangledLanes&=p,p=d.entanglements;var E=d.eventTimes;for(d=d.expirationTimes;0<v;){var $=31-rs(v),q=1<<$;p[$]=0,E[$]=-1,d[$]=-1,v&=~q}}function Fe(d,p){var v=d.entangledLanes|=p;for(d=d.entanglements;v;){var E=31-rs(v),$=1<<E;$&p|d[E]&p&&(d[E]|=p),v&=~$}}var Ge=0;function bt(d){return d&=-d,1<d?4<d?d&268435455?16:536870912:4:1}var Ct,Tt,Mt,an,pn,Vt=!1,Gt=[],wn=null,kn=null,Nn=null,Kn=new Map,Yr=new Map,Gr=[],E0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function j0(d,p){switch(d){case"focusin":case"focusout":wn=null;break;case"dragenter":case"dragleave":kn=null;break;case"mouseover":case"mouseout":Nn=null;break;case"pointerover":case"pointerout":Kn.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yr.delete(p.pointerId)}}function No(d,p,v,E,$,q){return d===null||d.nativeEvent!==q?(d={blockedOn:p,domEventName:v,eventSystemFlags:E,nativeEvent:q,targetContainers:[$]},p!==null&&(p=W(p),p!==null&&Tt(p)),d):(d.eventSystemFlags|=E,p=d.targetContainers,$!==null&&p.indexOf($)===-1&&p.push($),d)}function Kd(d,p,v,E,$){switch(p){case"focusin":return wn=No(wn,d,p,v,E,$),!0;case"dragenter":return kn=No(kn,d,p,v,E,$),!0;case"mouseover":return Nn=No(Nn,d,p,v,E,$),!0;case"pointerover":var q=$.pointerId;return Kn.set(q,No(Kn.get(q)||null,d,p,v,E,$)),!0;case"gotpointercapture":return q=$.pointerId,Yr.set(q,No(Yr.get(q)||null,d,p,v,E,$)),!0}return!1}function vp(d){var p=R(d.target);if(p!==null){var v=bn(p);if(v!==null){if(p=v.tag,p===13){if(p=fc(v),p!==null){d.blockedOn=p,pn(d.priority,function(){Mt(v)});return}}else if(p===3&&v.stateNode.current.memoizedState.isDehydrated){d.blockedOn=v.tag===3?v.stateNode.containerInfo:null;return}}}d.blockedOn=null}function Xd(d){if(d.blockedOn!==null)return!1;for(var p=d.targetContainers;0<p.length;){var v=_p(d.domEventName,d.eventSystemFlags,p[0],d.nativeEvent);if(v===null){v=d.nativeEvent;var E=new v.constructor(v.type,v);yt=E,v.target.dispatchEvent(E),yt=null}else return p=W(v),p!==null&&Tt(p),d.blockedOn=v,!1;p.shift()}return!0}function N0(d,p,v){Xd(d)&&v.delete(p)}function A0(){Vt=!1,wn!==null&&Xd(wn)&&(wn=null),kn!==null&&Xd(kn)&&(kn=null),Nn!==null&&Xd(Nn)&&(Nn=null),Kn.forEach(N0),Yr.forEach(N0)}function mc(d,p){d.blockedOn===p&&(d.blockedOn=null,Vt||(Vt=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,A0)))}function Cu(d){function p($){return mc($,d)}if(0<Gt.length){mc(Gt[0],d);for(var v=1;v<Gt.length;v++){var E=Gt[v];E.blockedOn===d&&(E.blockedOn=null)}}for(wn!==null&&mc(wn,d),kn!==null&&mc(kn,d),Nn!==null&&mc(Nn,d),Kn.forEach(p),Yr.forEach(p),v=0;v<Gr.length;v++)E=Gr[v],E.blockedOn===d&&(E.blockedOn=null);for(;0<Gr.length&&(v=Gr[0],v.blockedOn===null);)vp(v),v.blockedOn===null&&Gr.shift()}var bl=A.ReactCurrentBatchConfig,Qd=!0;function lw(d,p,v,E){var $=Ge,q=bl.transition;bl.transition=null;try{Ge=1,wp(d,p,v,E)}finally{Ge=$,bl.transition=q}}function cw(d,p,v,E){var $=Ge,q=bl.transition;bl.transition=null;try{Ge=4,wp(d,p,v,E)}finally{Ge=$,bl.transition=q}}function wp(d,p,v,E){if(Qd){var $=_p(d,p,v,E);if($===null)Cc(d,p,E,Zd,v),j0(d,E);else if(Kd($,d,p,v,E))E.stopPropagation();else if(j0(d,E),p&4&&-1<E0.indexOf(d)){for(;$!==null;){var q=W($);if(q!==null&&Ct(q),q=_p(d,p,v,E),q===null&&Cc(d,p,E,Zd,v),q===$)break;$=q}$!==null&&E.stopPropagation()}else Cc(d,p,E,null,v)}}var Zd=null;function _p(d,p,v,E){if(Zd=null,d=Ye(E),d=R(d),d!==null)if(p=bn(d),p===null)d=null;else if(v=p.tag,v===13){if(d=fc(p),d!==null)return d;d=null}else if(v===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;d=null}else p!==d&&(d=null);return Zd=d,null}function Jd(d){switch(d){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gl()){case To:return 1;case $i:return 4;case bi:case yl:return 16;case da:return 536870912;default:return 16}default:return 16}}var Ao=null,eh=null,xl=null;function D0(){if(xl)return xl;var d,p=eh,v=p.length,E,$="value"in Ao?Ao.value:Ao.textContent,q=$.length;for(d=0;d<v&&p[d]===$[d];d++);var le=v-d;for(E=1;E<=le&&p[v-E]===$[q-E];E++);return xl=$.slice(d,1<E?1-E:void 0)}function th(d){var p=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&p===13&&(d=13)):d=p,d===10&&(d=13),32<=d||d===13?d:0}function nh(){return!0}function P0(){return!1}function Js(d){function p(v,E,$,q,le){this._reactName=v,this._targetInst=$,this.type=E,this.nativeEvent=q,this.target=le,this.currentTarget=null;for(var je in d)d.hasOwnProperty(je)&&(v=d[je],this[je]=v?v(q):q[je]);return this.isDefaultPrevented=(q.defaultPrevented!=null?q.defaultPrevented:q.returnValue===!1)?nh:P0,this.isPropagationStopped=P0,this}return Y(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var v=this.nativeEvent;v&&(v.preventDefault?v.preventDefault():typeof v.returnValue!="unknown"&&(v.returnValue=!1),this.isDefaultPrevented=nh)},stopPropagation:function(){var v=this.nativeEvent;v&&(v.stopPropagation?v.stopPropagation():typeof v.cancelBubble!="unknown"&&(v.cancelBubble=!0),this.isPropagationStopped=nh)},persist:function(){},isPersistent:nh}),p}var Qa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vl=Js(Qa),Za=Y({},Qa,{view:0,detail:0}),rh=Js(Za),ei,zi,Do,Tu=Y({},Za,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sp,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==Do&&(Do&&d.type==="mousemove"?(ei=d.screenX-Do.screenX,zi=d.screenY-Do.screenY):zi=ei=0,Do=d),ei)},movementY:function(d){return"movementY"in d?d.movementY:zi}}),I0=Js(Tu),uw=Y({},Tu,{dataTransfer:0}),dw=Js(uw),hw=Y({},Za,{relatedTarget:0}),sh=Js(hw),O0=Y({},Qa,{animationName:0,elapsedTime:0,pseudoElement:0}),ih=Js(O0),ku=Y({},Qa,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),ah=Js(ku),wl=Y({},Qa,{data:0}),M0=Js(wl),R0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},L0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},F0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fw(d){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(d):(d=F0[d])?!!p[d]:!1}function Sp(){return fw}var pw=Y({},Za,{key:function(d){if(d.key){var p=R0[d.key]||d.key;if(p!=="Unidentified")return p}return d.type==="keypress"?(d=th(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?L0[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sp,charCode:function(d){return d.type==="keypress"?th(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?th(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),oh=Js(pw),mw=Y({},Tu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cp=Js(mw),gw=Y({},Za,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sp}),yw=Js(gw),B0=Y({},Qa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tp=Js(B0),bw=Y({},Tu,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),xw=Js(bw),vw=[9,13,27,32],Eu=l&&"CompositionEvent"in window,ju=null;l&&"documentMode"in document&&(ju=document.documentMode);var $0=l&&"TextEvent"in window&&!ju,z0=l&&(!Eu||ju&&8<ju&&11>=ju),U0=" ",kp=!1;function H0(d,p){switch(d){case"keyup":return vw.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ep(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var _l=!1;function W0(d,p){switch(d){case"compositionend":return Ep(p);case"keypress":return p.which!==32?null:(kp=!0,U0);case"textInput":return d=p.data,d===U0&&kp?null:d;default:return null}}function ww(d,p){if(_l)return d==="compositionend"||!Eu&&H0(d,p)?(d=D0(),xl=eh=Ao=null,_l=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return z0&&p.locale!=="ko"?null:p.data;default:return null}}var _w={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nu(d){var p=d&&d.nodeName&&d.nodeName.toLowerCase();return p==="input"?!!_w[d.type]:p==="textarea"}function V0(d,p,v,E){oe(E),p=ph(p,"onChange"),0<p.length&&(v=new vl("onChange","change",null,v,E),d.push({event:v,listeners:p}))}var Au=null,Du=null;function Sw(d){ty(d,0)}function Pu(d){var p=Q(d);if(rt(p))return d}function Cw(d,p){if(d==="change")return p}var gc=!1;if(l){var lh;if(l){var yc="oninput"in document;if(!yc){var bc=document.createElement("div");bc.setAttribute("oninput","return;"),yc=typeof bc.oninput=="function"}lh=yc}else lh=!1;gc=lh&&(!document.documentMode||9<document.documentMode)}function Tr(){Au&&(Au.detachEvent("onpropertychange",Sl),Du=Au=null)}function Sl(d){if(d.propertyName==="value"&&Pu(Du)){var p=[];V0(p,Du,d,Ye(d)),wt(Sw,p)}}function jp(d,p,v){d==="focusin"?(Tr(),Au=p,Du=v,Au.attachEvent("onpropertychange",Sl)):d==="focusout"&&Tr()}function Tw(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return Pu(Du)}function kw(d,p){if(d==="click")return Pu(p)}function Ew(d,p){if(d==="input"||d==="change")return Pu(p)}function jw(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var xi=typeof Object.is=="function"?Object.is:jw;function xc(d,p){if(xi(d,p))return!0;if(typeof d!="object"||d===null||typeof p!="object"||p===null)return!1;var v=Object.keys(d),E=Object.keys(p);if(v.length!==E.length)return!1;for(E=0;E<v.length;E++){var $=v[E];if(!c.call(p,$)||!xi(d[$],p[$]))return!1}return!0}function Np(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function Ap(d,p){var v=Np(d);d=0;for(var E;v;){if(v.nodeType===3){if(E=d+v.textContent.length,d<=p&&E>=p)return{node:v,offset:p-d};d=E}e:{for(;v;){if(v.nextSibling){v=v.nextSibling;break e}v=v.parentNode}v=void 0}v=Np(v)}}function Dp(d,p){return d&&p?d===p?!0:d&&d.nodeType===3?!1:p&&p.nodeType===3?Dp(d,p.parentNode):"contains"in d?d.contains(p):d.compareDocumentPosition?!!(d.compareDocumentPosition(p)&16):!1:!1}function ch(){for(var d=window,p=it();p instanceof d.HTMLIFrameElement;){try{var v=typeof p.contentWindow.location.href=="string"}catch{v=!1}if(v)d=p.contentWindow;else break;p=it(d.document)}return p}function uh(d){var p=d&&d.nodeName&&d.nodeName.toLowerCase();return p&&(p==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||p==="textarea"||d.contentEditable==="true")}function Pp(d){var p=ch(),v=d.focusedElem,E=d.selectionRange;if(p!==v&&v&&v.ownerDocument&&Dp(v.ownerDocument.documentElement,v)){if(E!==null&&uh(v)){if(p=E.start,d=E.end,d===void 0&&(d=p),"selectionStart"in v)v.selectionStart=p,v.selectionEnd=Math.min(d,v.value.length);else if(d=(p=v.ownerDocument||document)&&p.defaultView||window,d.getSelection){d=d.getSelection();var $=v.textContent.length,q=Math.min(E.start,$);E=E.end===void 0?q:Math.min(E.end,$),!d.extend&&q>E&&($=E,E=q,q=$),$=Ap(v,q);var le=Ap(v,E);$&&le&&(d.rangeCount!==1||d.anchorNode!==$.node||d.anchorOffset!==$.offset||d.focusNode!==le.node||d.focusOffset!==le.offset)&&(p=p.createRange(),p.setStart($.node,$.offset),d.removeAllRanges(),q>E?(d.addRange(p),d.extend(le.node,le.offset)):(p.setEnd(le.node,le.offset),d.addRange(p)))}}for(p=[],d=v;d=d.parentNode;)d.nodeType===1&&p.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<p.length;v++)d=p[v],d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}var Nw=l&&"documentMode"in document&&11>=document.documentMode,ga=null,Ip=null,vc=null,dh=!1;function q0(d,p,v){var E=v.window===v?v.document:v.nodeType===9?v:v.ownerDocument;dh||ga==null||ga!==it(E)||(E=ga,"selectionStart"in E&&uh(E)?E={start:E.selectionStart,end:E.selectionEnd}:(E=(E.ownerDocument&&E.ownerDocument.defaultView||window).getSelection(),E={anchorNode:E.anchorNode,anchorOffset:E.anchorOffset,focusNode:E.focusNode,focusOffset:E.focusOffset}),vc&&xc(vc,E)||(vc=E,E=ph(Ip,"onSelect"),0<E.length&&(p=new vl("onSelect","select",null,p,v),d.push({event:p,listeners:E}),p.target=ga)))}function hh(d,p){var v={};return v[d.toLowerCase()]=p.toLowerCase(),v["Webkit"+d]="webkit"+p,v["Moz"+d]="moz"+p,v}var Cl={animationend:hh("Animation","AnimationEnd"),animationiteration:hh("Animation","AnimationIteration"),animationstart:hh("Animation","AnimationStart"),transitionend:hh("Transition","TransitionEnd")},Op={},Y0={};l&&(Y0=document.createElement("div").style,"AnimationEvent"in window||(delete Cl.animationend.animation,delete Cl.animationiteration.animation,delete Cl.animationstart.animation),"TransitionEvent"in window||delete Cl.transitionend.transition);function wc(d){if(Op[d])return Op[d];if(!Cl[d])return d;var p=Cl[d],v;for(v in p)if(p.hasOwnProperty(v)&&v in Y0)return Op[d]=p[v];return d}var G0=wc("animationend"),K0=wc("animationiteration"),X0=wc("animationstart"),Q0=wc("transitionend"),Z0=new Map,J0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Po(d,p){Z0.set(d,p),i(p,[d])}for(var Mp=0;Mp<J0.length;Mp++){var Rp=J0[Mp],Aw=Rp.toLowerCase(),Dw=Rp[0].toUpperCase()+Rp.slice(1);Po(Aw,"on"+Dw)}Po(G0,"onAnimationEnd"),Po(K0,"onAnimationIteration"),Po(X0,"onAnimationStart"),Po("dblclick","onDoubleClick"),Po("focusin","onFocus"),Po("focusout","onBlur"),Po(Q0,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pw=new Set("cancel close invalid load scroll toggle".split(" ").concat(vi));function ey(d,p,v){var E=d.type||"unknown-event";d.currentTarget=v,Ns(E,p,void 0,d),d.currentTarget=null}function ty(d,p){p=(p&4)!==0;for(var v=0;v<d.length;v++){var E=d[v],$=E.event;E=E.listeners;e:{var q=void 0;if(p)for(var le=E.length-1;0<=le;le--){var je=E[le],Re=je.instance,st=je.currentTarget;if(je=je.listener,Re!==q&&$.isPropagationStopped())break e;ey($,je,st),q=Re}else for(le=0;le<E.length;le++){if(je=E[le],Re=je.instance,st=je.currentTarget,je=je.listener,Re!==q&&$.isPropagationStopped())break e;ey($,je,st),q=Re}}}if(qr)throw d=Qs,qr=!1,Qs=null,d}function pr(d,p){var v=p[T];v===void 0&&(v=p[T]=new Set);var E=d+"__bubble";v.has(E)||(Iu(p,d,2,!1),v.add(E))}function fh(d,p,v){var E=0;p&&(E|=4),Iu(v,d,E,p)}var _c="_reactListening"+Math.random().toString(36).slice(2);function Sc(d){if(!d[_c]){d[_c]=!0,r.forEach(function(v){v!=="selectionchange"&&(Pw.has(v)||fh(v,!1,d),fh(v,!0,d))});var p=d.nodeType===9?d:d.ownerDocument;p===null||p[_c]||(p[_c]=!0,fh("selectionchange",!1,p))}}function Iu(d,p,v,E){switch(Jd(p)){case 1:var $=lw;break;case 4:$=cw;break;default:$=wp}v=$.bind(null,p,v,d),$=void 0,!ir||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||($=!0),E?$!==void 0?d.addEventListener(p,v,{capture:!0,passive:$}):d.addEventListener(p,v,!0):$!==void 0?d.addEventListener(p,v,{passive:$}):d.addEventListener(p,v,!1)}function Cc(d,p,v,E,$){var q=E;if(!(p&1)&&!(p&2)&&E!==null)e:for(;;){if(E===null)return;var le=E.tag;if(le===3||le===4){var je=E.stateNode.containerInfo;if(je===$||je.nodeType===8&&je.parentNode===$)break;if(le===4)for(le=E.return;le!==null;){var Re=le.tag;if((Re===3||Re===4)&&(Re=le.stateNode.containerInfo,Re===$||Re.nodeType===8&&Re.parentNode===$))return;le=le.return}for(;je!==null;){if(le=R(je),le===null)return;if(Re=le.tag,Re===5||Re===6){E=q=le;continue e}je=je.parentNode}}E=E.return}wt(function(){var st=q,St=Ye(v),kt=[];e:{var _t=Z0.get(d);if(_t!==void 0){var Ht=vl,Kt=d;switch(d){case"keypress":if(th(v)===0)break e;case"keydown":case"keyup":Ht=oh;break;case"focusin":Kt="focus",Ht=sh;break;case"focusout":Kt="blur",Ht=sh;break;case"beforeblur":case"afterblur":Ht=sh;break;case"click":if(v.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ht=I0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ht=dw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ht=yw;break;case G0:case K0:case X0:Ht=ih;break;case Q0:Ht=Tp;break;case"scroll":Ht=rh;break;case"wheel":Ht=xw;break;case"copy":case"cut":case"paste":Ht=ah;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ht=Cp}var en=(p&4)!==0,Kr=!en&&d==="scroll",Xe=en?_t!==null?_t+"Capture":null:_t;en=[];for(var $e=st,et;$e!==null;){et=$e;var It=et.stateNode;if(et.tag===5&&It!==null&&(et=It,Xe!==null&&(It=Jt($e,Xe),It!=null&&en.push(Ou($e,It,et)))),Kr)break;$e=$e.return}0<en.length&&(_t=new Ht(_t,Kt,null,v,St),kt.push({event:_t,listeners:en}))}}if(!(p&7)){e:{if(_t=d==="mouseover"||d==="pointerover",Ht=d==="mouseout"||d==="pointerout",_t&&v!==yt&&(Kt=v.relatedTarget||v.fromElement)&&(R(Kt)||Kt[xa]))break e;if((Ht||_t)&&(_t=St.window===St?St:(_t=St.ownerDocument)?_t.defaultView||_t.parentWindow:window,Ht?(Kt=v.relatedTarget||v.toElement,Ht=st,Kt=Kt?R(Kt):null,Kt!==null&&(Kr=bn(Kt),Kt!==Kr||Kt.tag!==5&&Kt.tag!==6)&&(Kt=null)):(Ht=null,Kt=st),Ht!==Kt)){if(en=I0,It="onMouseLeave",Xe="onMouseEnter",$e="mouse",(d==="pointerout"||d==="pointerover")&&(en=Cp,It="onPointerLeave",Xe="onPointerEnter",$e="pointer"),Kr=Ht==null?_t:Q(Ht),et=Kt==null?_t:Q(Kt),_t=new en(It,$e+"leave",Ht,v,St),_t.target=Kr,_t.relatedTarget=et,It=null,R(St)===st&&(en=new en(Xe,$e+"enter",Kt,v,St),en.target=et,en.relatedTarget=Kr,It=en),Kr=It,Ht&&Kt)t:{for(en=Ht,Xe=Kt,$e=0,et=en;et;et=Tc(et))$e++;for(et=0,It=Xe;It;It=Tc(It))et++;for(;0<$e-et;)en=Tc(en),$e--;for(;0<et-$e;)Xe=Tc(Xe),et--;for(;$e--;){if(en===Xe||Xe!==null&&en===Xe.alternate)break t;en=Tc(en),Xe=Tc(Xe)}en=null}else en=null;Ht!==null&&ny(kt,_t,Ht,en,!1),Kt!==null&&Kr!==null&&ny(kt,Kr,Kt,en,!0)}}e:{if(_t=st?Q(st):window,Ht=_t.nodeName&&_t.nodeName.toLowerCase(),Ht==="select"||Ht==="input"&&_t.type==="file")var tn=Cw;else if(Nu(_t))if(gc)tn=Ew;else{tn=Tw;var cn=jp}else(Ht=_t.nodeName)&&Ht.toLowerCase()==="input"&&(_t.type==="checkbox"||_t.type==="radio")&&(tn=kw);if(tn&&(tn=tn(d,st))){V0(kt,tn,v,St);break e}cn&&cn(d,_t,st),d==="focusout"&&(cn=_t._wrapperState)&&cn.controlled&&_t.type==="number"&&ce(_t,"number",_t.value)}switch(cn=st?Q(st):window,d){case"focusin":(Nu(cn)||cn.contentEditable==="true")&&(ga=cn,Ip=st,vc=null);break;case"focusout":vc=Ip=ga=null;break;case"mousedown":dh=!0;break;case"contextmenu":case"mouseup":case"dragend":dh=!1,q0(kt,v,St);break;case"selectionchange":if(Nw)break;case"keydown":case"keyup":q0(kt,v,St)}var un;if(Eu)e:{switch(d){case"compositionstart":var yn="onCompositionStart";break e;case"compositionend":yn="onCompositionEnd";break e;case"compositionupdate":yn="onCompositionUpdate";break e}yn=void 0}else _l?H0(d,v)&&(yn="onCompositionEnd"):d==="keydown"&&v.keyCode===229&&(yn="onCompositionStart");yn&&(z0&&v.locale!=="ko"&&(_l||yn!=="onCompositionStart"?yn==="onCompositionEnd"&&_l&&(un=D0()):(Ao=St,eh="value"in Ao?Ao.value:Ao.textContent,_l=!0)),cn=ph(st,yn),0<cn.length&&(yn=new M0(yn,d,null,v,St),kt.push({event:yn,listeners:cn}),un?yn.data=un:(un=Ep(v),un!==null&&(yn.data=un)))),(un=$0?W0(d,v):ww(d,v))&&(st=ph(st,"onBeforeInput"),0<st.length&&(St=new M0("onBeforeInput","beforeinput",null,v,St),kt.push({event:St,listeners:st}),St.data=un))}ty(kt,p)})}function Ou(d,p,v){return{instance:d,listener:p,currentTarget:v}}function ph(d,p){for(var v=p+"Capture",E=[];d!==null;){var $=d,q=$.stateNode;$.tag===5&&q!==null&&($=q,q=Jt(d,v),q!=null&&E.unshift(Ou(d,q,$)),q=Jt(d,p),q!=null&&E.push(Ou(d,q,$))),d=d.return}return E}function Tc(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5);return d||null}function ny(d,p,v,E,$){for(var q=p._reactName,le=[];v!==null&&v!==E;){var je=v,Re=je.alternate,st=je.stateNode;if(Re!==null&&Re===E)break;je.tag===5&&st!==null&&(je=st,$?(Re=Jt(v,q),Re!=null&&le.unshift(Ou(v,Re,je))):$||(Re=Jt(v,q),Re!=null&&le.push(Ou(v,Re,je)))),v=v.return}le.length!==0&&d.push({event:p,listeners:le})}var Iw=/\r\n?/g,Lp=/\u0000|\uFFFD/g;function ry(d){return(typeof d=="string"?d:""+d).replace(Iw,`
`).replace(Lp,"")}function mh(d,p,v){if(p=ry(p),ry(d)!==p&&v)throw Error(n(425))}function Mu(){}var Io=null,Ln=null;function Ja(d,p){return d==="textarea"||d==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var ls=typeof setTimeout=="function"?setTimeout:void 0,ya=typeof clearTimeout=="function"?clearTimeout:void 0,sy=typeof Promise=="function"?Promise:void 0,iy=typeof queueMicrotask=="function"?queueMicrotask:typeof sy<"u"?function(d){return sy.resolve(null).then(d).catch(Ow)}:ls;function Ow(d){setTimeout(function(){throw d})}function Fp(d,p){var v=p,E=0;do{var $=v.nextSibling;if(d.removeChild(v),$&&$.nodeType===8)if(v=$.data,v==="/$"){if(E===0){d.removeChild($),Cu(p);return}E--}else v!=="$"&&v!=="$?"&&v!=="$!"||E++;v=$}while(v);Cu(p)}function Oo(d){for(;d!=null;d=d.nextSibling){var p=d.nodeType;if(p===1||p===3)break;if(p===8){if(p=d.data,p==="$"||p==="$!"||p==="$?")break;if(p==="/$")return null}}return d}function ay(d){d=d.previousSibling;for(var p=0;d;){if(d.nodeType===8){var v=d.data;if(v==="$"||v==="$!"||v==="$?"){if(p===0)return d;p--}else v==="/$"&&p++}d=d.previousSibling}return null}var kc=Math.random().toString(36).slice(2),ba="__reactFiber$"+kc,Ru="__reactProps$"+kc,xa="__reactContainer$"+kc,T="__reactEvents$"+kc,I="__reactListeners$"+kc,B="__reactHandles$"+kc;function R(d){var p=d[ba];if(p)return p;for(var v=d.parentNode;v;){if(p=v[xa]||v[ba]){if(v=p.alternate,p.child!==null||v!==null&&v.child!==null)for(d=ay(d);d!==null;){if(v=d[ba])return v;d=ay(d)}return p}d=v,v=d.parentNode}return null}function W(d){return d=d[ba]||d[xa],!d||d.tag!==5&&d.tag!==6&&d.tag!==13&&d.tag!==3?null:d}function Q(d){if(d.tag===5||d.tag===6)return d.stateNode;throw Error(n(33))}function pe(d){return d[Ru]||null}var ge=[],_e=-1;function ke(d){return{current:d}}function Me(d){0>_e||(d.current=ge[_e],ge[_e]=null,_e--)}function Ke(d,p){_e++,ge[_e]=d.current,d.current=p}var Pt={},ot=ke(Pt),Wt=ke(!1),mn=Pt;function br(d,p){var v=d.type.contextTypes;if(!v)return Pt;var E=d.stateNode;if(E&&E.__reactInternalMemoizedUnmaskedChildContext===p)return E.__reactInternalMemoizedMaskedChildContext;var $={},q;for(q in v)$[q]=p[q];return E&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=p,d.__reactInternalMemoizedMaskedChildContext=$),$}function ar(d){return d=d.childContextTypes,d!=null}function Ui(){Me(Wt),Me(ot)}function Ec(d,p,v){if(ot.current!==Pt)throw Error(n(168));Ke(ot,p),Ke(Wt,v)}function jc(d,p,v){var E=d.stateNode;if(p=p.childContextTypes,typeof E.getChildContext!="function")return v;E=E.getChildContext();for(var $ in E)if(!($ in p))throw Error(n(108,Ce(d)||"Unknown",$));return Y({},v,E)}function Mo(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||Pt,mn=ot.current,Ke(ot,d),Ke(Wt,Wt.current),!0}function Nc(d,p,v){var E=d.stateNode;if(!E)throw Error(n(169));v?(d=jc(d,p,mn),E.__reactInternalMemoizedMergedChildContext=d,Me(Wt),Me(ot),Ke(ot,d)):Me(Wt),Ke(Wt,v)}var wi=null,Xn=!1,Tl=!1;function _i(d){wi===null?wi=[d]:wi.push(d)}function Mz(d){Xn=!0,_i(d)}function Ac(){if(!Tl&&wi!==null){Tl=!0;var d=0,p=Ge;try{var v=wi;for(Ge=1;d<v.length;d++){var E=v[d];do E=E(!0);while(E!==null)}wi=null,Xn=!1}catch($){throw wi!==null&&(wi=wi.slice(d+1)),qn(To,Ac),$}finally{Ge=p,Tl=!1}}return null}var gh=[],yh=0,oy=null,ly=0,va=[],wa=0,Lu=null,kl=1,El="";function Fu(d,p){gh[yh++]=ly,gh[yh++]=oy,oy=d,ly=p}function mN(d,p,v){va[wa++]=kl,va[wa++]=El,va[wa++]=Lu,Lu=d;var E=kl;d=El;var $=32-rs(E)-1;E&=~(1<<$),v+=1;var q=32-rs(p)+$;if(30<q){var le=$-$%5;q=(E&(1<<le)-1).toString(32),E>>=le,$-=le,kl=1<<32-rs(p)+$|v<<$|E,El=q+d}else kl=1<<q|v<<$|E,El=d}function Mw(d){d.return!==null&&(Fu(d,1),mN(d,1,0))}function Rw(d){for(;d===oy;)oy=gh[--yh],gh[yh]=null,ly=gh[--yh],gh[yh]=null;for(;d===Lu;)Lu=va[--wa],va[wa]=null,El=va[--wa],va[wa]=null,kl=va[--wa],va[wa]=null}var Hi=null,Wi=null,kr=!1,eo=null;function gN(d,p){var v=Ta(5,null,null,0);v.elementType="DELETED",v.stateNode=p,v.return=d,p=d.deletions,p===null?(d.deletions=[v],d.flags|=16):p.push(v)}function yN(d,p){switch(d.tag){case 5:var v=d.type;return p=p.nodeType!==1||v.toLowerCase()!==p.nodeName.toLowerCase()?null:p,p!==null?(d.stateNode=p,Hi=d,Wi=Oo(p.firstChild),!0):!1;case 6:return p=d.pendingProps===""||p.nodeType!==3?null:p,p!==null?(d.stateNode=p,Hi=d,Wi=null,!0):!1;case 13:return p=p.nodeType!==8?null:p,p!==null?(v=Lu!==null?{id:kl,overflow:El}:null,d.memoizedState={dehydrated:p,treeContext:v,retryLane:1073741824},v=Ta(18,null,null,0),v.stateNode=p,v.return=d,d.child=v,Hi=d,Wi=null,!0):!1;default:return!1}}function Lw(d){return(d.mode&1)!==0&&(d.flags&128)===0}function Fw(d){if(kr){var p=Wi;if(p){var v=p;if(!yN(d,p)){if(Lw(d))throw Error(n(418));p=Oo(v.nextSibling);var E=Hi;p&&yN(d,p)?gN(E,v):(d.flags=d.flags&-4097|2,kr=!1,Hi=d)}}else{if(Lw(d))throw Error(n(418));d.flags=d.flags&-4097|2,kr=!1,Hi=d}}}function bN(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;Hi=d}function cy(d){if(d!==Hi)return!1;if(!kr)return bN(d),kr=!0,!1;var p;if((p=d.tag!==3)&&!(p=d.tag!==5)&&(p=d.type,p=p!=="head"&&p!=="body"&&!Ja(d.type,d.memoizedProps)),p&&(p=Wi)){if(Lw(d))throw xN(),Error(n(418));for(;p;)gN(d,p),p=Oo(p.nextSibling)}if(bN(d),d.tag===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(317));e:{for(d=d.nextSibling,p=0;d;){if(d.nodeType===8){var v=d.data;if(v==="/$"){if(p===0){Wi=Oo(d.nextSibling);break e}p--}else v!=="$"&&v!=="$!"&&v!=="$?"||p++}d=d.nextSibling}Wi=null}}else Wi=Hi?Oo(d.stateNode.nextSibling):null;return!0}function xN(){for(var d=Wi;d;)d=Oo(d.nextSibling)}function bh(){Wi=Hi=null,kr=!1}function Bw(d){eo===null?eo=[d]:eo.push(d)}var Rz=A.ReactCurrentBatchConfig;function Bp(d,p,v){if(d=v.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(v._owner){if(v=v._owner,v){if(v.tag!==1)throw Error(n(309));var E=v.stateNode}if(!E)throw Error(n(147,d));var $=E,q=""+d;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===q?p.ref:(p=function(le){var je=$.refs;le===null?delete je[q]:je[q]=le},p._stringRef=q,p)}if(typeof d!="string")throw Error(n(284));if(!v._owner)throw Error(n(290,d))}return d}function uy(d,p){throw d=Object.prototype.toString.call(p),Error(n(31,d==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":d))}function vN(d){var p=d._init;return p(d._payload)}function wN(d){function p(Xe,$e){if(d){var et=Xe.deletions;et===null?(Xe.deletions=[$e],Xe.flags|=16):et.push($e)}}function v(Xe,$e){if(!d)return null;for(;$e!==null;)p(Xe,$e),$e=$e.sibling;return null}function E(Xe,$e){for(Xe=new Map;$e!==null;)$e.key!==null?Xe.set($e.key,$e):Xe.set($e.index,$e),$e=$e.sibling;return Xe}function $(Xe,$e){return Xe=Fc(Xe,$e),Xe.index=0,Xe.sibling=null,Xe}function q(Xe,$e,et){return Xe.index=et,d?(et=Xe.alternate,et!==null?(et=et.index,et<$e?(Xe.flags|=2,$e):et):(Xe.flags|=2,$e)):(Xe.flags|=1048576,$e)}function le(Xe){return d&&Xe.alternate===null&&(Xe.flags|=2),Xe}function je(Xe,$e,et,It){return $e===null||$e.tag!==6?($e=A_(et,Xe.mode,It),$e.return=Xe,$e):($e=$($e,et),$e.return=Xe,$e)}function Re(Xe,$e,et,It){var tn=et.type;return tn===M?St(Xe,$e,et.props.children,It,et.key):$e!==null&&($e.elementType===tn||typeof tn=="object"&&tn!==null&&tn.$$typeof===K&&vN(tn)===$e.type)?(It=$($e,et.props),It.ref=Bp(Xe,$e,et),It.return=Xe,It):(It=Oy(et.type,et.key,et.props,null,Xe.mode,It),It.ref=Bp(Xe,$e,et),It.return=Xe,It)}function st(Xe,$e,et,It){return $e===null||$e.tag!==4||$e.stateNode.containerInfo!==et.containerInfo||$e.stateNode.implementation!==et.implementation?($e=D_(et,Xe.mode,It),$e.return=Xe,$e):($e=$($e,et.children||[]),$e.return=Xe,$e)}function St(Xe,$e,et,It,tn){return $e===null||$e.tag!==7?($e=qu(et,Xe.mode,It,tn),$e.return=Xe,$e):($e=$($e,et),$e.return=Xe,$e)}function kt(Xe,$e,et){if(typeof $e=="string"&&$e!==""||typeof $e=="number")return $e=A_(""+$e,Xe.mode,et),$e.return=Xe,$e;if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case N:return et=Oy($e.type,$e.key,$e.props,null,Xe.mode,et),et.ref=Bp(Xe,null,$e),et.return=Xe,et;case P:return $e=D_($e,Xe.mode,et),$e.return=Xe,$e;case K:var It=$e._init;return kt(Xe,It($e._payload),et)}if(Te($e)||X($e))return $e=qu($e,Xe.mode,et,null),$e.return=Xe,$e;uy(Xe,$e)}return null}function _t(Xe,$e,et,It){var tn=$e!==null?$e.key:null;if(typeof et=="string"&&et!==""||typeof et=="number")return tn!==null?null:je(Xe,$e,""+et,It);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case N:return et.key===tn?Re(Xe,$e,et,It):null;case P:return et.key===tn?st(Xe,$e,et,It):null;case K:return tn=et._init,_t(Xe,$e,tn(et._payload),It)}if(Te(et)||X(et))return tn!==null?null:St(Xe,$e,et,It,null);uy(Xe,et)}return null}function Ht(Xe,$e,et,It,tn){if(typeof It=="string"&&It!==""||typeof It=="number")return Xe=Xe.get(et)||null,je($e,Xe,""+It,tn);if(typeof It=="object"&&It!==null){switch(It.$$typeof){case N:return Xe=Xe.get(It.key===null?et:It.key)||null,Re($e,Xe,It,tn);case P:return Xe=Xe.get(It.key===null?et:It.key)||null,st($e,Xe,It,tn);case K:var cn=It._init;return Ht(Xe,$e,et,cn(It._payload),tn)}if(Te(It)||X(It))return Xe=Xe.get(et)||null,St($e,Xe,It,tn,null);uy($e,It)}return null}function Kt(Xe,$e,et,It){for(var tn=null,cn=null,un=$e,yn=$e=0,bs=null;un!==null&&yn<et.length;yn++){un.index>yn?(bs=un,un=null):bs=un.sibling;var Bn=_t(Xe,un,et[yn],It);if(Bn===null){un===null&&(un=bs);break}d&&un&&Bn.alternate===null&&p(Xe,un),$e=q(Bn,$e,yn),cn===null?tn=Bn:cn.sibling=Bn,cn=Bn,un=bs}if(yn===et.length)return v(Xe,un),kr&&Fu(Xe,yn),tn;if(un===null){for(;yn<et.length;yn++)un=kt(Xe,et[yn],It),un!==null&&($e=q(un,$e,yn),cn===null?tn=un:cn.sibling=un,cn=un);return kr&&Fu(Xe,yn),tn}for(un=E(Xe,un);yn<et.length;yn++)bs=Ht(un,Xe,yn,et[yn],It),bs!==null&&(d&&bs.alternate!==null&&un.delete(bs.key===null?yn:bs.key),$e=q(bs,$e,yn),cn===null?tn=bs:cn.sibling=bs,cn=bs);return d&&un.forEach(function(Bc){return p(Xe,Bc)}),kr&&Fu(Xe,yn),tn}function en(Xe,$e,et,It){var tn=X(et);if(typeof tn!="function")throw Error(n(150));if(et=tn.call(et),et==null)throw Error(n(151));for(var cn=tn=null,un=$e,yn=$e=0,bs=null,Bn=et.next();un!==null&&!Bn.done;yn++,Bn=et.next()){un.index>yn?(bs=un,un=null):bs=un.sibling;var Bc=_t(Xe,un,Bn.value,It);if(Bc===null){un===null&&(un=bs);break}d&&un&&Bc.alternate===null&&p(Xe,un),$e=q(Bc,$e,yn),cn===null?tn=Bc:cn.sibling=Bc,cn=Bc,un=bs}if(Bn.done)return v(Xe,un),kr&&Fu(Xe,yn),tn;if(un===null){for(;!Bn.done;yn++,Bn=et.next())Bn=kt(Xe,Bn.value,It),Bn!==null&&($e=q(Bn,$e,yn),cn===null?tn=Bn:cn.sibling=Bn,cn=Bn);return kr&&Fu(Xe,yn),tn}for(un=E(Xe,un);!Bn.done;yn++,Bn=et.next())Bn=Ht(un,Xe,yn,Bn.value,It),Bn!==null&&(d&&Bn.alternate!==null&&un.delete(Bn.key===null?yn:Bn.key),$e=q(Bn,$e,yn),cn===null?tn=Bn:cn.sibling=Bn,cn=Bn);return d&&un.forEach(function(mU){return p(Xe,mU)}),kr&&Fu(Xe,yn),tn}function Kr(Xe,$e,et,It){if(typeof et=="object"&&et!==null&&et.type===M&&et.key===null&&(et=et.props.children),typeof et=="object"&&et!==null){switch(et.$$typeof){case N:e:{for(var tn=et.key,cn=$e;cn!==null;){if(cn.key===tn){if(tn=et.type,tn===M){if(cn.tag===7){v(Xe,cn.sibling),$e=$(cn,et.props.children),$e.return=Xe,Xe=$e;break e}}else if(cn.elementType===tn||typeof tn=="object"&&tn!==null&&tn.$$typeof===K&&vN(tn)===cn.type){v(Xe,cn.sibling),$e=$(cn,et.props),$e.ref=Bp(Xe,cn,et),$e.return=Xe,Xe=$e;break e}v(Xe,cn);break}else p(Xe,cn);cn=cn.sibling}et.type===M?($e=qu(et.props.children,Xe.mode,It,et.key),$e.return=Xe,Xe=$e):(It=Oy(et.type,et.key,et.props,null,Xe.mode,It),It.ref=Bp(Xe,$e,et),It.return=Xe,Xe=It)}return le(Xe);case P:e:{for(cn=et.key;$e!==null;){if($e.key===cn)if($e.tag===4&&$e.stateNode.containerInfo===et.containerInfo&&$e.stateNode.implementation===et.implementation){v(Xe,$e.sibling),$e=$($e,et.children||[]),$e.return=Xe,Xe=$e;break e}else{v(Xe,$e);break}else p(Xe,$e);$e=$e.sibling}$e=D_(et,Xe.mode,It),$e.return=Xe,Xe=$e}return le(Xe);case K:return cn=et._init,Kr(Xe,$e,cn(et._payload),It)}if(Te(et))return Kt(Xe,$e,et,It);if(X(et))return en(Xe,$e,et,It);uy(Xe,et)}return typeof et=="string"&&et!==""||typeof et=="number"?(et=""+et,$e!==null&&$e.tag===6?(v(Xe,$e.sibling),$e=$($e,et),$e.return=Xe,Xe=$e):(v(Xe,$e),$e=A_(et,Xe.mode,It),$e.return=Xe,Xe=$e),le(Xe)):v(Xe,$e)}return Kr}var xh=wN(!0),_N=wN(!1),dy=ke(null),hy=null,vh=null,$w=null;function zw(){$w=vh=hy=null}function Uw(d){var p=dy.current;Me(dy),d._currentValue=p}function Hw(d,p,v){for(;d!==null;){var E=d.alternate;if((d.childLanes&p)!==p?(d.childLanes|=p,E!==null&&(E.childLanes|=p)):E!==null&&(E.childLanes&p)!==p&&(E.childLanes|=p),d===v)break;d=d.return}}function wh(d,p){hy=d,$w=vh=null,d=d.dependencies,d!==null&&d.firstContext!==null&&(d.lanes&p&&(Si=!0),d.firstContext=null)}function _a(d){var p=d._currentValue;if($w!==d)if(d={context:d,memoizedValue:p,next:null},vh===null){if(hy===null)throw Error(n(308));vh=d,hy.dependencies={lanes:0,firstContext:d}}else vh=vh.next=d;return p}var Bu=null;function Ww(d){Bu===null?Bu=[d]:Bu.push(d)}function SN(d,p,v,E){var $=p.interleaved;return $===null?(v.next=v,Ww(p)):(v.next=$.next,$.next=v),p.interleaved=v,jl(d,E)}function jl(d,p){d.lanes|=p;var v=d.alternate;for(v!==null&&(v.lanes|=p),v=d,d=d.return;d!==null;)d.childLanes|=p,v=d.alternate,v!==null&&(v.childLanes|=p),v=d,d=d.return;return v.tag===3?v.stateNode:null}var Dc=!1;function Vw(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function CN(d,p){d=d.updateQueue,p.updateQueue===d&&(p.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function Nl(d,p){return{eventTime:d,lane:p,tag:0,payload:null,callback:null,next:null}}function Pc(d,p,v){var E=d.updateQueue;if(E===null)return null;if(E=E.shared,Fn&2){var $=E.pending;return $===null?p.next=p:(p.next=$.next,$.next=p),E.pending=p,jl(d,v)}return $=E.interleaved,$===null?(p.next=p,Ww(E)):(p.next=$.next,$.next=p),E.interleaved=p,jl(d,v)}function fy(d,p,v){if(p=p.updateQueue,p!==null&&(p=p.shared,(v&4194240)!==0)){var E=p.lanes;E&=d.pendingLanes,v|=E,p.lanes=v,Fe(d,v)}}function TN(d,p){var v=d.updateQueue,E=d.alternate;if(E!==null&&(E=E.updateQueue,v===E)){var $=null,q=null;if(v=v.firstBaseUpdate,v!==null){do{var le={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};q===null?$=q=le:q=q.next=le,v=v.next}while(v!==null);q===null?$=q=p:q=q.next=p}else $=q=p;v={baseState:E.baseState,firstBaseUpdate:$,lastBaseUpdate:q,shared:E.shared,effects:E.effects},d.updateQueue=v;return}d=v.lastBaseUpdate,d===null?v.firstBaseUpdate=p:d.next=p,v.lastBaseUpdate=p}function py(d,p,v,E){var $=d.updateQueue;Dc=!1;var q=$.firstBaseUpdate,le=$.lastBaseUpdate,je=$.shared.pending;if(je!==null){$.shared.pending=null;var Re=je,st=Re.next;Re.next=null,le===null?q=st:le.next=st,le=Re;var St=d.alternate;St!==null&&(St=St.updateQueue,je=St.lastBaseUpdate,je!==le&&(je===null?St.firstBaseUpdate=st:je.next=st,St.lastBaseUpdate=Re))}if(q!==null){var kt=$.baseState;le=0,St=st=Re=null,je=q;do{var _t=je.lane,Ht=je.eventTime;if((E&_t)===_t){St!==null&&(St=St.next={eventTime:Ht,lane:0,tag:je.tag,payload:je.payload,callback:je.callback,next:null});e:{var Kt=d,en=je;switch(_t=p,Ht=v,en.tag){case 1:if(Kt=en.payload,typeof Kt=="function"){kt=Kt.call(Ht,kt,_t);break e}kt=Kt;break e;case 3:Kt.flags=Kt.flags&-65537|128;case 0:if(Kt=en.payload,_t=typeof Kt=="function"?Kt.call(Ht,kt,_t):Kt,_t==null)break e;kt=Y({},kt,_t);break e;case 2:Dc=!0}}je.callback!==null&&je.lane!==0&&(d.flags|=64,_t=$.effects,_t===null?$.effects=[je]:_t.push(je))}else Ht={eventTime:Ht,lane:_t,tag:je.tag,payload:je.payload,callback:je.callback,next:null},St===null?(st=St=Ht,Re=kt):St=St.next=Ht,le|=_t;if(je=je.next,je===null){if(je=$.shared.pending,je===null)break;_t=je,je=_t.next,_t.next=null,$.lastBaseUpdate=_t,$.shared.pending=null}}while(!0);if(St===null&&(Re=kt),$.baseState=Re,$.firstBaseUpdate=st,$.lastBaseUpdate=St,p=$.shared.interleaved,p!==null){$=p;do le|=$.lane,$=$.next;while($!==p)}else q===null&&($.shared.lanes=0);Uu|=le,d.lanes=le,d.memoizedState=kt}}function kN(d,p,v){if(d=p.effects,p.effects=null,d!==null)for(p=0;p<d.length;p++){var E=d[p],$=E.callback;if($!==null){if(E.callback=null,E=v,typeof $!="function")throw Error(n(191,$));$.call(E)}}}var $p={},Ro=ke($p),zp=ke($p),Up=ke($p);function $u(d){if(d===$p)throw Error(n(174));return d}function qw(d,p){switch(Ke(Up,p),Ke(zp,d),Ke(Ro,$p),d=p.nodeType,d){case 9:case 11:p=(p=p.documentElement)?p.namespaceURI:at(null,"");break;default:d=d===8?p.parentNode:p,p=d.namespaceURI||null,d=d.tagName,p=at(p,d)}Me(Ro),Ke(Ro,p)}function _h(){Me(Ro),Me(zp),Me(Up)}function EN(d){$u(Up.current);var p=$u(Ro.current),v=at(p,d.type);p!==v&&(Ke(zp,d),Ke(Ro,v))}function Yw(d){zp.current===d&&(Me(Ro),Me(zp))}var Mr=ke(0);function my(d){for(var p=d;p!==null;){if(p.tag===13){var v=p.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||v.data==="$?"||v.data==="$!"))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if(p.flags&128)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var Gw=[];function Kw(){for(var d=0;d<Gw.length;d++)Gw[d]._workInProgressVersionPrimary=null;Gw.length=0}var gy=A.ReactCurrentDispatcher,Xw=A.ReactCurrentBatchConfig,zu=0,Rr=null,cs=null,gs=null,yy=!1,Hp=!1,Wp=0,Lz=0;function Fs(){throw Error(n(321))}function Qw(d,p){if(p===null)return!1;for(var v=0;v<p.length&&v<d.length;v++)if(!xi(d[v],p[v]))return!1;return!0}function Zw(d,p,v,E,$,q){if(zu=q,Rr=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,gy.current=d===null||d.memoizedState===null?zz:Uz,d=v(E,$),Hp){q=0;do{if(Hp=!1,Wp=0,25<=q)throw Error(n(301));q+=1,gs=cs=null,p.updateQueue=null,gy.current=Hz,d=v(E,$)}while(Hp)}if(gy.current=vy,p=cs!==null&&cs.next!==null,zu=0,gs=cs=Rr=null,yy=!1,p)throw Error(n(300));return d}function Jw(){var d=Wp!==0;return Wp=0,d}function Lo(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gs===null?Rr.memoizedState=gs=d:gs=gs.next=d,gs}function Sa(){if(cs===null){var d=Rr.alternate;d=d!==null?d.memoizedState:null}else d=cs.next;var p=gs===null?Rr.memoizedState:gs.next;if(p!==null)gs=p,cs=d;else{if(d===null)throw Error(n(310));cs=d,d={memoizedState:cs.memoizedState,baseState:cs.baseState,baseQueue:cs.baseQueue,queue:cs.queue,next:null},gs===null?Rr.memoizedState=gs=d:gs=gs.next=d}return gs}function Vp(d,p){return typeof p=="function"?p(d):p}function e_(d){var p=Sa(),v=p.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=d;var E=cs,$=E.baseQueue,q=v.pending;if(q!==null){if($!==null){var le=$.next;$.next=q.next,q.next=le}E.baseQueue=$=q,v.pending=null}if($!==null){q=$.next,E=E.baseState;var je=le=null,Re=null,st=q;do{var St=st.lane;if((zu&St)===St)Re!==null&&(Re=Re.next={lane:0,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null}),E=st.hasEagerState?st.eagerState:d(E,st.action);else{var kt={lane:St,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null};Re===null?(je=Re=kt,le=E):Re=Re.next=kt,Rr.lanes|=St,Uu|=St}st=st.next}while(st!==null&&st!==q);Re===null?le=E:Re.next=je,xi(E,p.memoizedState)||(Si=!0),p.memoizedState=E,p.baseState=le,p.baseQueue=Re,v.lastRenderedState=E}if(d=v.interleaved,d!==null){$=d;do q=$.lane,Rr.lanes|=q,Uu|=q,$=$.next;while($!==d)}else $===null&&(v.lanes=0);return[p.memoizedState,v.dispatch]}function t_(d){var p=Sa(),v=p.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=d;var E=v.dispatch,$=v.pending,q=p.memoizedState;if($!==null){v.pending=null;var le=$=$.next;do q=d(q,le.action),le=le.next;while(le!==$);xi(q,p.memoizedState)||(Si=!0),p.memoizedState=q,p.baseQueue===null&&(p.baseState=q),v.lastRenderedState=q}return[q,E]}function jN(){}function NN(d,p){var v=Rr,E=Sa(),$=p(),q=!xi(E.memoizedState,$);if(q&&(E.memoizedState=$,Si=!0),E=E.queue,n_(PN.bind(null,v,E,d),[d]),E.getSnapshot!==p||q||gs!==null&&gs.memoizedState.tag&1){if(v.flags|=2048,qp(9,DN.bind(null,v,E,$,p),void 0,null),ys===null)throw Error(n(349));zu&30||AN(v,p,$)}return $}function AN(d,p,v){d.flags|=16384,d={getSnapshot:p,value:v},p=Rr.updateQueue,p===null?(p={lastEffect:null,stores:null},Rr.updateQueue=p,p.stores=[d]):(v=p.stores,v===null?p.stores=[d]:v.push(d))}function DN(d,p,v,E){p.value=v,p.getSnapshot=E,IN(p)&&ON(d)}function PN(d,p,v){return v(function(){IN(p)&&ON(d)})}function IN(d){var p=d.getSnapshot;d=d.value;try{var v=p();return!xi(d,v)}catch{return!0}}function ON(d){var p=jl(d,1);p!==null&&so(p,d,1,-1)}function MN(d){var p=Lo();return typeof d=="function"&&(d=d()),p.memoizedState=p.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vp,lastRenderedState:d},p.queue=d,d=d.dispatch=$z.bind(null,Rr,d),[p.memoizedState,d]}function qp(d,p,v,E){return d={tag:d,create:p,destroy:v,deps:E,next:null},p=Rr.updateQueue,p===null?(p={lastEffect:null,stores:null},Rr.updateQueue=p,p.lastEffect=d.next=d):(v=p.lastEffect,v===null?p.lastEffect=d.next=d:(E=v.next,v.next=d,d.next=E,p.lastEffect=d)),d}function RN(){return Sa().memoizedState}function by(d,p,v,E){var $=Lo();Rr.flags|=d,$.memoizedState=qp(1|p,v,void 0,E===void 0?null:E)}function xy(d,p,v,E){var $=Sa();E=E===void 0?null:E;var q=void 0;if(cs!==null){var le=cs.memoizedState;if(q=le.destroy,E!==null&&Qw(E,le.deps)){$.memoizedState=qp(p,v,q,E);return}}Rr.flags|=d,$.memoizedState=qp(1|p,v,q,E)}function LN(d,p){return by(8390656,8,d,p)}function n_(d,p){return xy(2048,8,d,p)}function FN(d,p){return xy(4,2,d,p)}function BN(d,p){return xy(4,4,d,p)}function $N(d,p){if(typeof p=="function")return d=d(),p(d),function(){p(null)};if(p!=null)return d=d(),p.current=d,function(){p.current=null}}function zN(d,p,v){return v=v!=null?v.concat([d]):null,xy(4,4,$N.bind(null,p,d),v)}function r_(){}function UN(d,p){var v=Sa();p=p===void 0?null:p;var E=v.memoizedState;return E!==null&&p!==null&&Qw(p,E[1])?E[0]:(v.memoizedState=[d,p],d)}function HN(d,p){var v=Sa();p=p===void 0?null:p;var E=v.memoizedState;return E!==null&&p!==null&&Qw(p,E[1])?E[0]:(d=d(),v.memoizedState=[d,p],d)}function WN(d,p,v){return zu&21?(xi(v,p)||(v=Je(),Rr.lanes|=v,Uu|=v,d.baseState=!0),p):(d.baseState&&(d.baseState=!1,Si=!0),d.memoizedState=v)}function Fz(d,p){var v=Ge;Ge=v!==0&&4>v?v:4,d(!0);var E=Xw.transition;Xw.transition={};try{d(!1),p()}finally{Ge=v,Xw.transition=E}}function VN(){return Sa().memoizedState}function Bz(d,p,v){var E=Rc(d);if(v={lane:E,action:v,hasEagerState:!1,eagerState:null,next:null},qN(d))YN(p,v);else if(v=SN(d,p,v,E),v!==null){var $=ni();so(v,d,E,$),GN(v,p,E)}}function $z(d,p,v){var E=Rc(d),$={lane:E,action:v,hasEagerState:!1,eagerState:null,next:null};if(qN(d))YN(p,$);else{var q=d.alternate;if(d.lanes===0&&(q===null||q.lanes===0)&&(q=p.lastRenderedReducer,q!==null))try{var le=p.lastRenderedState,je=q(le,v);if($.hasEagerState=!0,$.eagerState=je,xi(je,le)){var Re=p.interleaved;Re===null?($.next=$,Ww(p)):($.next=Re.next,Re.next=$),p.interleaved=$;return}}catch{}finally{}v=SN(d,p,$,E),v!==null&&($=ni(),so(v,d,E,$),GN(v,p,E))}}function qN(d){var p=d.alternate;return d===Rr||p!==null&&p===Rr}function YN(d,p){Hp=yy=!0;var v=d.pending;v===null?p.next=p:(p.next=v.next,v.next=p),d.pending=p}function GN(d,p,v){if(v&4194240){var E=p.lanes;E&=d.pendingLanes,v|=E,p.lanes=v,Fe(d,v)}}var vy={readContext:_a,useCallback:Fs,useContext:Fs,useEffect:Fs,useImperativeHandle:Fs,useInsertionEffect:Fs,useLayoutEffect:Fs,useMemo:Fs,useReducer:Fs,useRef:Fs,useState:Fs,useDebugValue:Fs,useDeferredValue:Fs,useTransition:Fs,useMutableSource:Fs,useSyncExternalStore:Fs,useId:Fs,unstable_isNewReconciler:!1},zz={readContext:_a,useCallback:function(d,p){return Lo().memoizedState=[d,p===void 0?null:p],d},useContext:_a,useEffect:LN,useImperativeHandle:function(d,p,v){return v=v!=null?v.concat([d]):null,by(4194308,4,$N.bind(null,p,d),v)},useLayoutEffect:function(d,p){return by(4194308,4,d,p)},useInsertionEffect:function(d,p){return by(4,2,d,p)},useMemo:function(d,p){var v=Lo();return p=p===void 0?null:p,d=d(),v.memoizedState=[d,p],d},useReducer:function(d,p,v){var E=Lo();return p=v!==void 0?v(p):p,E.memoizedState=E.baseState=p,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:p},E.queue=d,d=d.dispatch=Bz.bind(null,Rr,d),[E.memoizedState,d]},useRef:function(d){var p=Lo();return d={current:d},p.memoizedState=d},useState:MN,useDebugValue:r_,useDeferredValue:function(d){return Lo().memoizedState=d},useTransition:function(){var d=MN(!1),p=d[0];return d=Fz.bind(null,d[1]),Lo().memoizedState=d,[p,d]},useMutableSource:function(){},useSyncExternalStore:function(d,p,v){var E=Rr,$=Lo();if(kr){if(v===void 0)throw Error(n(407));v=v()}else{if(v=p(),ys===null)throw Error(n(349));zu&30||AN(E,p,v)}$.memoizedState=v;var q={value:v,getSnapshot:p};return $.queue=q,LN(PN.bind(null,E,q,d),[d]),E.flags|=2048,qp(9,DN.bind(null,E,q,v,p),void 0,null),v},useId:function(){var d=Lo(),p=ys.identifierPrefix;if(kr){var v=El,E=kl;v=(E&~(1<<32-rs(E)-1)).toString(32)+v,p=":"+p+"R"+v,v=Wp++,0<v&&(p+="H"+v.toString(32)),p+=":"}else v=Lz++,p=":"+p+"r"+v.toString(32)+":";return d.memoizedState=p},unstable_isNewReconciler:!1},Uz={readContext:_a,useCallback:UN,useContext:_a,useEffect:n_,useImperativeHandle:zN,useInsertionEffect:FN,useLayoutEffect:BN,useMemo:HN,useReducer:e_,useRef:RN,useState:function(){return e_(Vp)},useDebugValue:r_,useDeferredValue:function(d){var p=Sa();return WN(p,cs.memoizedState,d)},useTransition:function(){var d=e_(Vp)[0],p=Sa().memoizedState;return[d,p]},useMutableSource:jN,useSyncExternalStore:NN,useId:VN,unstable_isNewReconciler:!1},Hz={readContext:_a,useCallback:UN,useContext:_a,useEffect:n_,useImperativeHandle:zN,useInsertionEffect:FN,useLayoutEffect:BN,useMemo:HN,useReducer:t_,useRef:RN,useState:function(){return t_(Vp)},useDebugValue:r_,useDeferredValue:function(d){var p=Sa();return cs===null?p.memoizedState=d:WN(p,cs.memoizedState,d)},useTransition:function(){var d=t_(Vp)[0],p=Sa().memoizedState;return[d,p]},useMutableSource:jN,useSyncExternalStore:NN,useId:VN,unstable_isNewReconciler:!1};function to(d,p){if(d&&d.defaultProps){p=Y({},p),d=d.defaultProps;for(var v in d)p[v]===void 0&&(p[v]=d[v]);return p}return p}function s_(d,p,v,E){p=d.memoizedState,v=v(E,p),v=v==null?p:Y({},p,v),d.memoizedState=v,d.lanes===0&&(d.updateQueue.baseState=v)}var wy={isMounted:function(d){return(d=d._reactInternals)?bn(d)===d:!1},enqueueSetState:function(d,p,v){d=d._reactInternals;var E=ni(),$=Rc(d),q=Nl(E,$);q.payload=p,v!=null&&(q.callback=v),p=Pc(d,q,$),p!==null&&(so(p,d,$,E),fy(p,d,$))},enqueueReplaceState:function(d,p,v){d=d._reactInternals;var E=ni(),$=Rc(d),q=Nl(E,$);q.tag=1,q.payload=p,v!=null&&(q.callback=v),p=Pc(d,q,$),p!==null&&(so(p,d,$,E),fy(p,d,$))},enqueueForceUpdate:function(d,p){d=d._reactInternals;var v=ni(),E=Rc(d),$=Nl(v,E);$.tag=2,p!=null&&($.callback=p),p=Pc(d,$,E),p!==null&&(so(p,d,E,v),fy(p,d,E))}};function KN(d,p,v,E,$,q,le){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(E,q,le):p.prototype&&p.prototype.isPureReactComponent?!xc(v,E)||!xc($,q):!0}function XN(d,p,v){var E=!1,$=Pt,q=p.contextType;return typeof q=="object"&&q!==null?q=_a(q):($=ar(p)?mn:ot.current,E=p.contextTypes,q=(E=E!=null)?br(d,$):Pt),p=new p(v,q),d.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=wy,d.stateNode=p,p._reactInternals=d,E&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=$,d.__reactInternalMemoizedMaskedChildContext=q),p}function QN(d,p,v,E){d=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(v,E),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(v,E),p.state!==d&&wy.enqueueReplaceState(p,p.state,null)}function i_(d,p,v,E){var $=d.stateNode;$.props=v,$.state=d.memoizedState,$.refs={},Vw(d);var q=p.contextType;typeof q=="object"&&q!==null?$.context=_a(q):(q=ar(p)?mn:ot.current,$.context=br(d,q)),$.state=d.memoizedState,q=p.getDerivedStateFromProps,typeof q=="function"&&(s_(d,p,q,v),$.state=d.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof $.getSnapshotBeforeUpdate=="function"||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(p=$.state,typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount(),p!==$.state&&wy.enqueueReplaceState($,$.state,null),py(d,v,$,E),$.state=d.memoizedState),typeof $.componentDidMount=="function"&&(d.flags|=4194308)}function Sh(d,p){try{var v="",E=p;do v+=fe(E),E=E.return;while(E);var $=v}catch(q){$=`
Error generating stack: `+q.message+`
`+q.stack}return{value:d,source:p,stack:$,digest:null}}function a_(d,p,v){return{value:d,source:null,stack:v??null,digest:p??null}}function o_(d,p){try{console.error(p.value)}catch(v){setTimeout(function(){throw v})}}var Wz=typeof WeakMap=="function"?WeakMap:Map;function ZN(d,p,v){v=Nl(-1,v),v.tag=3,v.payload={element:null};var E=p.value;return v.callback=function(){jy||(jy=!0,__=E),o_(d,p)},v}function JN(d,p,v){v=Nl(-1,v),v.tag=3;var E=d.type.getDerivedStateFromError;if(typeof E=="function"){var $=p.value;v.payload=function(){return E($)},v.callback=function(){o_(d,p)}}var q=d.stateNode;return q!==null&&typeof q.componentDidCatch=="function"&&(v.callback=function(){o_(d,p),typeof E!="function"&&(Oc===null?Oc=new Set([this]):Oc.add(this));var le=p.stack;this.componentDidCatch(p.value,{componentStack:le!==null?le:""})}),v}function eA(d,p,v){var E=d.pingCache;if(E===null){E=d.pingCache=new Wz;var $=new Set;E.set(p,$)}else $=E.get(p),$===void 0&&($=new Set,E.set(p,$));$.has(v)||($.add(v),d=sU.bind(null,d,p,v),p.then(d,d))}function tA(d){do{var p;if((p=d.tag===13)&&(p=d.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return d;d=d.return}while(d!==null);return null}function nA(d,p,v,E,$){return d.mode&1?(d.flags|=65536,d.lanes=$,d):(d===p?d.flags|=65536:(d.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:(p=Nl(-1,1),p.tag=2,Pc(v,p,1))),v.lanes|=1),d)}var Vz=A.ReactCurrentOwner,Si=!1;function ti(d,p,v,E){p.child=d===null?_N(p,null,v,E):xh(p,d.child,v,E)}function rA(d,p,v,E,$){v=v.render;var q=p.ref;return wh(p,$),E=Zw(d,p,v,E,q,$),v=Jw(),d!==null&&!Si?(p.updateQueue=d.updateQueue,p.flags&=-2053,d.lanes&=~$,Al(d,p,$)):(kr&&v&&Mw(p),p.flags|=1,ti(d,p,E,$),p.child)}function sA(d,p,v,E,$){if(d===null){var q=v.type;return typeof q=="function"&&!N_(q)&&q.defaultProps===void 0&&v.compare===null&&v.defaultProps===void 0?(p.tag=15,p.type=q,iA(d,p,q,E,$)):(d=Oy(v.type,null,E,p,p.mode,$),d.ref=p.ref,d.return=p,p.child=d)}if(q=d.child,!(d.lanes&$)){var le=q.memoizedProps;if(v=v.compare,v=v!==null?v:xc,v(le,E)&&d.ref===p.ref)return Al(d,p,$)}return p.flags|=1,d=Fc(q,E),d.ref=p.ref,d.return=p,p.child=d}function iA(d,p,v,E,$){if(d!==null){var q=d.memoizedProps;if(xc(q,E)&&d.ref===p.ref)if(Si=!1,p.pendingProps=E=q,(d.lanes&$)!==0)d.flags&131072&&(Si=!0);else return p.lanes=d.lanes,Al(d,p,$)}return l_(d,p,v,E,$)}function aA(d,p,v){var E=p.pendingProps,$=E.children,q=d!==null?d.memoizedState:null;if(E.mode==="hidden")if(!(p.mode&1))p.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(Th,Vi),Vi|=v;else{if(!(v&1073741824))return d=q!==null?q.baseLanes|v:v,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:d,cachePool:null,transitions:null},p.updateQueue=null,Ke(Th,Vi),Vi|=d,null;p.memoizedState={baseLanes:0,cachePool:null,transitions:null},E=q!==null?q.baseLanes:v,Ke(Th,Vi),Vi|=E}else q!==null?(E=q.baseLanes|v,p.memoizedState=null):E=v,Ke(Th,Vi),Vi|=E;return ti(d,p,$,v),p.child}function oA(d,p){var v=p.ref;(d===null&&v!==null||d!==null&&d.ref!==v)&&(p.flags|=512,p.flags|=2097152)}function l_(d,p,v,E,$){var q=ar(v)?mn:ot.current;return q=br(p,q),wh(p,$),v=Zw(d,p,v,E,q,$),E=Jw(),d!==null&&!Si?(p.updateQueue=d.updateQueue,p.flags&=-2053,d.lanes&=~$,Al(d,p,$)):(kr&&E&&Mw(p),p.flags|=1,ti(d,p,v,$),p.child)}function lA(d,p,v,E,$){if(ar(v)){var q=!0;Mo(p)}else q=!1;if(wh(p,$),p.stateNode===null)Sy(d,p),XN(p,v,E),i_(p,v,E,$),E=!0;else if(d===null){var le=p.stateNode,je=p.memoizedProps;le.props=je;var Re=le.context,st=v.contextType;typeof st=="object"&&st!==null?st=_a(st):(st=ar(v)?mn:ot.current,st=br(p,st));var St=v.getDerivedStateFromProps,kt=typeof St=="function"||typeof le.getSnapshotBeforeUpdate=="function";kt||typeof le.UNSAFE_componentWillReceiveProps!="function"&&typeof le.componentWillReceiveProps!="function"||(je!==E||Re!==st)&&QN(p,le,E,st),Dc=!1;var _t=p.memoizedState;le.state=_t,py(p,E,le,$),Re=p.memoizedState,je!==E||_t!==Re||Wt.current||Dc?(typeof St=="function"&&(s_(p,v,St,E),Re=p.memoizedState),(je=Dc||KN(p,v,je,E,_t,Re,st))?(kt||typeof le.UNSAFE_componentWillMount!="function"&&typeof le.componentWillMount!="function"||(typeof le.componentWillMount=="function"&&le.componentWillMount(),typeof le.UNSAFE_componentWillMount=="function"&&le.UNSAFE_componentWillMount()),typeof le.componentDidMount=="function"&&(p.flags|=4194308)):(typeof le.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=E,p.memoizedState=Re),le.props=E,le.state=Re,le.context=st,E=je):(typeof le.componentDidMount=="function"&&(p.flags|=4194308),E=!1)}else{le=p.stateNode,CN(d,p),je=p.memoizedProps,st=p.type===p.elementType?je:to(p.type,je),le.props=st,kt=p.pendingProps,_t=le.context,Re=v.contextType,typeof Re=="object"&&Re!==null?Re=_a(Re):(Re=ar(v)?mn:ot.current,Re=br(p,Re));var Ht=v.getDerivedStateFromProps;(St=typeof Ht=="function"||typeof le.getSnapshotBeforeUpdate=="function")||typeof le.UNSAFE_componentWillReceiveProps!="function"&&typeof le.componentWillReceiveProps!="function"||(je!==kt||_t!==Re)&&QN(p,le,E,Re),Dc=!1,_t=p.memoizedState,le.state=_t,py(p,E,le,$);var Kt=p.memoizedState;je!==kt||_t!==Kt||Wt.current||Dc?(typeof Ht=="function"&&(s_(p,v,Ht,E),Kt=p.memoizedState),(st=Dc||KN(p,v,st,E,_t,Kt,Re)||!1)?(St||typeof le.UNSAFE_componentWillUpdate!="function"&&typeof le.componentWillUpdate!="function"||(typeof le.componentWillUpdate=="function"&&le.componentWillUpdate(E,Kt,Re),typeof le.UNSAFE_componentWillUpdate=="function"&&le.UNSAFE_componentWillUpdate(E,Kt,Re)),typeof le.componentDidUpdate=="function"&&(p.flags|=4),typeof le.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof le.componentDidUpdate!="function"||je===d.memoizedProps&&_t===d.memoizedState||(p.flags|=4),typeof le.getSnapshotBeforeUpdate!="function"||je===d.memoizedProps&&_t===d.memoizedState||(p.flags|=1024),p.memoizedProps=E,p.memoizedState=Kt),le.props=E,le.state=Kt,le.context=Re,E=st):(typeof le.componentDidUpdate!="function"||je===d.memoizedProps&&_t===d.memoizedState||(p.flags|=4),typeof le.getSnapshotBeforeUpdate!="function"||je===d.memoizedProps&&_t===d.memoizedState||(p.flags|=1024),E=!1)}return c_(d,p,v,E,q,$)}function c_(d,p,v,E,$,q){oA(d,p);var le=(p.flags&128)!==0;if(!E&&!le)return $&&Nc(p,v,!1),Al(d,p,q);E=p.stateNode,Vz.current=p;var je=le&&typeof v.getDerivedStateFromError!="function"?null:E.render();return p.flags|=1,d!==null&&le?(p.child=xh(p,d.child,null,q),p.child=xh(p,null,je,q)):ti(d,p,je,q),p.memoizedState=E.state,$&&Nc(p,v,!0),p.child}function cA(d){var p=d.stateNode;p.pendingContext?Ec(d,p.pendingContext,p.pendingContext!==p.context):p.context&&Ec(d,p.context,!1),qw(d,p.containerInfo)}function uA(d,p,v,E,$){return bh(),Bw($),p.flags|=256,ti(d,p,v,E),p.child}var u_={dehydrated:null,treeContext:null,retryLane:0};function d_(d){return{baseLanes:d,cachePool:null,transitions:null}}function dA(d,p,v){var E=p.pendingProps,$=Mr.current,q=!1,le=(p.flags&128)!==0,je;if((je=le)||(je=d!==null&&d.memoizedState===null?!1:($&2)!==0),je?(q=!0,p.flags&=-129):(d===null||d.memoizedState!==null)&&($|=1),Ke(Mr,$&1),d===null)return Fw(p),d=p.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?(p.mode&1?d.data==="$!"?p.lanes=8:p.lanes=1073741824:p.lanes=1,null):(le=E.children,d=E.fallback,q?(E=p.mode,q=p.child,le={mode:"hidden",children:le},!(E&1)&&q!==null?(q.childLanes=0,q.pendingProps=le):q=My(le,E,0,null),d=qu(d,E,v,null),q.return=p,d.return=p,q.sibling=d,p.child=q,p.child.memoizedState=d_(v),p.memoizedState=u_,d):h_(p,le));if($=d.memoizedState,$!==null&&(je=$.dehydrated,je!==null))return qz(d,p,le,E,je,$,v);if(q){q=E.fallback,le=p.mode,$=d.child,je=$.sibling;var Re={mode:"hidden",children:E.children};return!(le&1)&&p.child!==$?(E=p.child,E.childLanes=0,E.pendingProps=Re,p.deletions=null):(E=Fc($,Re),E.subtreeFlags=$.subtreeFlags&14680064),je!==null?q=Fc(je,q):(q=qu(q,le,v,null),q.flags|=2),q.return=p,E.return=p,E.sibling=q,p.child=E,E=q,q=p.child,le=d.child.memoizedState,le=le===null?d_(v):{baseLanes:le.baseLanes|v,cachePool:null,transitions:le.transitions},q.memoizedState=le,q.childLanes=d.childLanes&~v,p.memoizedState=u_,E}return q=d.child,d=q.sibling,E=Fc(q,{mode:"visible",children:E.children}),!(p.mode&1)&&(E.lanes=v),E.return=p,E.sibling=null,d!==null&&(v=p.deletions,v===null?(p.deletions=[d],p.flags|=16):v.push(d)),p.child=E,p.memoizedState=null,E}function h_(d,p){return p=My({mode:"visible",children:p},d.mode,0,null),p.return=d,d.child=p}function _y(d,p,v,E){return E!==null&&Bw(E),xh(p,d.child,null,v),d=h_(p,p.pendingProps.children),d.flags|=2,p.memoizedState=null,d}function qz(d,p,v,E,$,q,le){if(v)return p.flags&256?(p.flags&=-257,E=a_(Error(n(422))),_y(d,p,le,E)):p.memoizedState!==null?(p.child=d.child,p.flags|=128,null):(q=E.fallback,$=p.mode,E=My({mode:"visible",children:E.children},$,0,null),q=qu(q,$,le,null),q.flags|=2,E.return=p,q.return=p,E.sibling=q,p.child=E,p.mode&1&&xh(p,d.child,null,le),p.child.memoizedState=d_(le),p.memoizedState=u_,q);if(!(p.mode&1))return _y(d,p,le,null);if($.data==="$!"){if(E=$.nextSibling&&$.nextSibling.dataset,E)var je=E.dgst;return E=je,q=Error(n(419)),E=a_(q,E,void 0),_y(d,p,le,E)}if(je=(le&d.childLanes)!==0,Si||je){if(E=ys,E!==null){switch(le&-le){case 4:$=2;break;case 16:$=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:$=32;break;case 536870912:$=268435456;break;default:$=0}$=$&(E.suspendedLanes|le)?0:$,$!==0&&$!==q.retryLane&&(q.retryLane=$,jl(d,$),so(E,d,$,-1))}return j_(),E=a_(Error(n(421))),_y(d,p,le,E)}return $.data==="$?"?(p.flags|=128,p.child=d.child,p=iU.bind(null,d),$._reactRetry=p,null):(d=q.treeContext,Wi=Oo($.nextSibling),Hi=p,kr=!0,eo=null,d!==null&&(va[wa++]=kl,va[wa++]=El,va[wa++]=Lu,kl=d.id,El=d.overflow,Lu=p),p=h_(p,E.children),p.flags|=4096,p)}function hA(d,p,v){d.lanes|=p;var E=d.alternate;E!==null&&(E.lanes|=p),Hw(d.return,p,v)}function f_(d,p,v,E,$){var q=d.memoizedState;q===null?d.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:E,tail:v,tailMode:$}:(q.isBackwards=p,q.rendering=null,q.renderingStartTime=0,q.last=E,q.tail=v,q.tailMode=$)}function fA(d,p,v){var E=p.pendingProps,$=E.revealOrder,q=E.tail;if(ti(d,p,E.children,v),E=Mr.current,E&2)E=E&1|2,p.flags|=128;else{if(d!==null&&d.flags&128)e:for(d=p.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&hA(d,v,p);else if(d.tag===19)hA(d,v,p);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===p)break e;for(;d.sibling===null;){if(d.return===null||d.return===p)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}E&=1}if(Ke(Mr,E),!(p.mode&1))p.memoizedState=null;else switch($){case"forwards":for(v=p.child,$=null;v!==null;)d=v.alternate,d!==null&&my(d)===null&&($=v),v=v.sibling;v=$,v===null?($=p.child,p.child=null):($=v.sibling,v.sibling=null),f_(p,!1,$,v,q);break;case"backwards":for(v=null,$=p.child,p.child=null;$!==null;){if(d=$.alternate,d!==null&&my(d)===null){p.child=$;break}d=$.sibling,$.sibling=v,v=$,$=d}f_(p,!0,v,null,q);break;case"together":f_(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function Sy(d,p){!(p.mode&1)&&d!==null&&(d.alternate=null,p.alternate=null,p.flags|=2)}function Al(d,p,v){if(d!==null&&(p.dependencies=d.dependencies),Uu|=p.lanes,!(v&p.childLanes))return null;if(d!==null&&p.child!==d.child)throw Error(n(153));if(p.child!==null){for(d=p.child,v=Fc(d,d.pendingProps),p.child=v,v.return=p;d.sibling!==null;)d=d.sibling,v=v.sibling=Fc(d,d.pendingProps),v.return=p;v.sibling=null}return p.child}function Yz(d,p,v){switch(p.tag){case 3:cA(p),bh();break;case 5:EN(p);break;case 1:ar(p.type)&&Mo(p);break;case 4:qw(p,p.stateNode.containerInfo);break;case 10:var E=p.type._context,$=p.memoizedProps.value;Ke(dy,E._currentValue),E._currentValue=$;break;case 13:if(E=p.memoizedState,E!==null)return E.dehydrated!==null?(Ke(Mr,Mr.current&1),p.flags|=128,null):v&p.child.childLanes?dA(d,p,v):(Ke(Mr,Mr.current&1),d=Al(d,p,v),d!==null?d.sibling:null);Ke(Mr,Mr.current&1);break;case 19:if(E=(v&p.childLanes)!==0,d.flags&128){if(E)return fA(d,p,v);p.flags|=128}if($=p.memoizedState,$!==null&&($.rendering=null,$.tail=null,$.lastEffect=null),Ke(Mr,Mr.current),E)break;return null;case 22:case 23:return p.lanes=0,aA(d,p,v)}return Al(d,p,v)}var pA,p_,mA,gA;pA=function(d,p){for(var v=p.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===p)break;for(;v.sibling===null;){if(v.return===null||v.return===p)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},p_=function(){},mA=function(d,p,v,E){var $=d.memoizedProps;if($!==E){d=p.stateNode,$u(Ro.current);var q=null;switch(v){case"input":$=G(d,$),E=G(d,E),q=[];break;case"select":$=Y({},$,{value:void 0}),E=Y({},E,{value:void 0}),q=[];break;case"textarea":$=se(d,$),E=se(d,E),q=[];break;default:typeof $.onClick!="function"&&typeof E.onClick=="function"&&(d.onclick=Mu)}Ie(v,E);var le;v=null;for(st in $)if(!E.hasOwnProperty(st)&&$.hasOwnProperty(st)&&$[st]!=null)if(st==="style"){var je=$[st];for(le in je)je.hasOwnProperty(le)&&(v||(v={}),v[le]="")}else st!=="dangerouslySetInnerHTML"&&st!=="children"&&st!=="suppressContentEditableWarning"&&st!=="suppressHydrationWarning"&&st!=="autoFocus"&&(s.hasOwnProperty(st)?q||(q=[]):(q=q||[]).push(st,null));for(st in E){var Re=E[st];if(je=$!=null?$[st]:void 0,E.hasOwnProperty(st)&&Re!==je&&(Re!=null||je!=null))if(st==="style")if(je){for(le in je)!je.hasOwnProperty(le)||Re&&Re.hasOwnProperty(le)||(v||(v={}),v[le]="");for(le in Re)Re.hasOwnProperty(le)&&je[le]!==Re[le]&&(v||(v={}),v[le]=Re[le])}else v||(q||(q=[]),q.push(st,v)),v=Re;else st==="dangerouslySetInnerHTML"?(Re=Re?Re.__html:void 0,je=je?je.__html:void 0,Re!=null&&je!==Re&&(q=q||[]).push(st,Re)):st==="children"?typeof Re!="string"&&typeof Re!="number"||(q=q||[]).push(st,""+Re):st!=="suppressContentEditableWarning"&&st!=="suppressHydrationWarning"&&(s.hasOwnProperty(st)?(Re!=null&&st==="onScroll"&&pr("scroll",d),q||je===Re||(q=[])):(q=q||[]).push(st,Re))}v&&(q=q||[]).push("style",v);var st=q;(p.updateQueue=st)&&(p.flags|=4)}},gA=function(d,p,v,E){v!==E&&(p.flags|=4)};function Yp(d,p){if(!kr)switch(d.tailMode){case"hidden":p=d.tail;for(var v=null;p!==null;)p.alternate!==null&&(v=p),p=p.sibling;v===null?d.tail=null:v.sibling=null;break;case"collapsed":v=d.tail;for(var E=null;v!==null;)v.alternate!==null&&(E=v),v=v.sibling;E===null?p||d.tail===null?d.tail=null:d.tail.sibling=null:E.sibling=null}}function Bs(d){var p=d.alternate!==null&&d.alternate.child===d.child,v=0,E=0;if(p)for(var $=d.child;$!==null;)v|=$.lanes|$.childLanes,E|=$.subtreeFlags&14680064,E|=$.flags&14680064,$.return=d,$=$.sibling;else for($=d.child;$!==null;)v|=$.lanes|$.childLanes,E|=$.subtreeFlags,E|=$.flags,$.return=d,$=$.sibling;return d.subtreeFlags|=E,d.childLanes=v,p}function Gz(d,p,v){var E=p.pendingProps;switch(Rw(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bs(p),null;case 1:return ar(p.type)&&Ui(),Bs(p),null;case 3:return E=p.stateNode,_h(),Me(Wt),Me(ot),Kw(),E.pendingContext&&(E.context=E.pendingContext,E.pendingContext=null),(d===null||d.child===null)&&(cy(p)?p.flags|=4:d===null||d.memoizedState.isDehydrated&&!(p.flags&256)||(p.flags|=1024,eo!==null&&(T_(eo),eo=null))),p_(d,p),Bs(p),null;case 5:Yw(p);var $=$u(Up.current);if(v=p.type,d!==null&&p.stateNode!=null)mA(d,p,v,E,$),d.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!E){if(p.stateNode===null)throw Error(n(166));return Bs(p),null}if(d=$u(Ro.current),cy(p)){E=p.stateNode,v=p.type;var q=p.memoizedProps;switch(E[ba]=p,E[Ru]=q,d=(p.mode&1)!==0,v){case"dialog":pr("cancel",E),pr("close",E);break;case"iframe":case"object":case"embed":pr("load",E);break;case"video":case"audio":for($=0;$<vi.length;$++)pr(vi[$],E);break;case"source":pr("error",E);break;case"img":case"image":case"link":pr("error",E),pr("load",E);break;case"details":pr("toggle",E);break;case"input":Ae(E,q),pr("invalid",E);break;case"select":E._wrapperState={wasMultiple:!!q.multiple},pr("invalid",E);break;case"textarea":ye(E,q),pr("invalid",E)}Ie(v,q),$=null;for(var le in q)if(q.hasOwnProperty(le)){var je=q[le];le==="children"?typeof je=="string"?E.textContent!==je&&(q.suppressHydrationWarning!==!0&&mh(E.textContent,je,d),$=["children",je]):typeof je=="number"&&E.textContent!==""+je&&(q.suppressHydrationWarning!==!0&&mh(E.textContent,je,d),$=["children",""+je]):s.hasOwnProperty(le)&&je!=null&&le==="onScroll"&&pr("scroll",E)}switch(v){case"input":Ve(E),ne(E,q,!0);break;case"textarea":Ve(E),Oe(E);break;case"select":case"option":break;default:typeof q.onClick=="function"&&(E.onclick=Mu)}E=$,p.updateQueue=E,E!==null&&(p.flags|=4)}else{le=$.nodeType===9?$:$.ownerDocument,d==="http://www.w3.org/1999/xhtml"&&(d=xe(v)),d==="http://www.w3.org/1999/xhtml"?v==="script"?(d=le.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild)):typeof E.is=="string"?d=le.createElement(v,{is:E.is}):(d=le.createElement(v),v==="select"&&(le=d,E.multiple?le.multiple=!0:E.size&&(le.size=E.size))):d=le.createElementNS(d,v),d[ba]=p,d[Ru]=E,pA(d,p,!1,!1),p.stateNode=d;e:{switch(le=We(v,E),v){case"dialog":pr("cancel",d),pr("close",d),$=E;break;case"iframe":case"object":case"embed":pr("load",d),$=E;break;case"video":case"audio":for($=0;$<vi.length;$++)pr(vi[$],d);$=E;break;case"source":pr("error",d),$=E;break;case"img":case"image":case"link":pr("error",d),pr("load",d),$=E;break;case"details":pr("toggle",d),$=E;break;case"input":Ae(d,E),$=G(d,E),pr("invalid",d);break;case"option":$=E;break;case"select":d._wrapperState={wasMultiple:!!E.multiple},$=Y({},E,{value:void 0}),pr("invalid",d);break;case"textarea":ye(d,E),$=se(d,E),pr("invalid",d);break;default:$=E}Ie(v,$),je=$;for(q in je)if(je.hasOwnProperty(q)){var Re=je[q];q==="style"?gt(d,Re):q==="dangerouslySetInnerHTML"?(Re=Re?Re.__html:void 0,Re!=null&&ze(d,Re)):q==="children"?typeof Re=="string"?(v!=="textarea"||Re!=="")&&Le(d,Re):typeof Re=="number"&&Le(d,""+Re):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(s.hasOwnProperty(q)?Re!=null&&q==="onScroll"&&pr("scroll",d):Re!=null&&k(d,q,Re,le))}switch(v){case"input":Ve(d),ne(d,E,!1);break;case"textarea":Ve(d),Oe(d);break;case"option":E.value!=null&&d.setAttribute("value",""+De(E.value));break;case"select":d.multiple=!!E.multiple,q=E.value,q!=null?he(d,!!E.multiple,q,!1):E.defaultValue!=null&&he(d,!!E.multiple,E.defaultValue,!0);break;default:typeof $.onClick=="function"&&(d.onclick=Mu)}switch(v){case"button":case"input":case"select":case"textarea":E=!!E.autoFocus;break e;case"img":E=!0;break e;default:E=!1}}E&&(p.flags|=4)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return Bs(p),null;case 6:if(d&&p.stateNode!=null)gA(d,p,d.memoizedProps,E);else{if(typeof E!="string"&&p.stateNode===null)throw Error(n(166));if(v=$u(Up.current),$u(Ro.current),cy(p)){if(E=p.stateNode,v=p.memoizedProps,E[ba]=p,(q=E.nodeValue!==v)&&(d=Hi,d!==null))switch(d.tag){case 3:mh(E.nodeValue,v,(d.mode&1)!==0);break;case 5:d.memoizedProps.suppressHydrationWarning!==!0&&mh(E.nodeValue,v,(d.mode&1)!==0)}q&&(p.flags|=4)}else E=(v.nodeType===9?v:v.ownerDocument).createTextNode(E),E[ba]=p,p.stateNode=E}return Bs(p),null;case 13:if(Me(Mr),E=p.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(kr&&Wi!==null&&p.mode&1&&!(p.flags&128))xN(),bh(),p.flags|=98560,q=!1;else if(q=cy(p),E!==null&&E.dehydrated!==null){if(d===null){if(!q)throw Error(n(318));if(q=p.memoizedState,q=q!==null?q.dehydrated:null,!q)throw Error(n(317));q[ba]=p}else bh(),!(p.flags&128)&&(p.memoizedState=null),p.flags|=4;Bs(p),q=!1}else eo!==null&&(T_(eo),eo=null),q=!0;if(!q)return p.flags&65536?p:null}return p.flags&128?(p.lanes=v,p):(E=E!==null,E!==(d!==null&&d.memoizedState!==null)&&E&&(p.child.flags|=8192,p.mode&1&&(d===null||Mr.current&1?us===0&&(us=3):j_())),p.updateQueue!==null&&(p.flags|=4),Bs(p),null);case 4:return _h(),p_(d,p),d===null&&Sc(p.stateNode.containerInfo),Bs(p),null;case 10:return Uw(p.type._context),Bs(p),null;case 17:return ar(p.type)&&Ui(),Bs(p),null;case 19:if(Me(Mr),q=p.memoizedState,q===null)return Bs(p),null;if(E=(p.flags&128)!==0,le=q.rendering,le===null)if(E)Yp(q,!1);else{if(us!==0||d!==null&&d.flags&128)for(d=p.child;d!==null;){if(le=my(d),le!==null){for(p.flags|=128,Yp(q,!1),E=le.updateQueue,E!==null&&(p.updateQueue=E,p.flags|=4),p.subtreeFlags=0,E=v,v=p.child;v!==null;)q=v,d=E,q.flags&=14680066,le=q.alternate,le===null?(q.childLanes=0,q.lanes=d,q.child=null,q.subtreeFlags=0,q.memoizedProps=null,q.memoizedState=null,q.updateQueue=null,q.dependencies=null,q.stateNode=null):(q.childLanes=le.childLanes,q.lanes=le.lanes,q.child=le.child,q.subtreeFlags=0,q.deletions=null,q.memoizedProps=le.memoizedProps,q.memoizedState=le.memoizedState,q.updateQueue=le.updateQueue,q.type=le.type,d=le.dependencies,q.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),v=v.sibling;return Ke(Mr,Mr.current&1|2),p.child}d=d.sibling}q.tail!==null&&ur()>kh&&(p.flags|=128,E=!0,Yp(q,!1),p.lanes=4194304)}else{if(!E)if(d=my(le),d!==null){if(p.flags|=128,E=!0,v=d.updateQueue,v!==null&&(p.updateQueue=v,p.flags|=4),Yp(q,!0),q.tail===null&&q.tailMode==="hidden"&&!le.alternate&&!kr)return Bs(p),null}else 2*ur()-q.renderingStartTime>kh&&v!==1073741824&&(p.flags|=128,E=!0,Yp(q,!1),p.lanes=4194304);q.isBackwards?(le.sibling=p.child,p.child=le):(v=q.last,v!==null?v.sibling=le:p.child=le,q.last=le)}return q.tail!==null?(p=q.tail,q.rendering=p,q.tail=p.sibling,q.renderingStartTime=ur(),p.sibling=null,v=Mr.current,Ke(Mr,E?v&1|2:v&1),p):(Bs(p),null);case 22:case 23:return E_(),E=p.memoizedState!==null,d!==null&&d.memoizedState!==null!==E&&(p.flags|=8192),E&&p.mode&1?Vi&1073741824&&(Bs(p),p.subtreeFlags&6&&(p.flags|=8192)):Bs(p),null;case 24:return null;case 25:return null}throw Error(n(156,p.tag))}function Kz(d,p){switch(Rw(p),p.tag){case 1:return ar(p.type)&&Ui(),d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 3:return _h(),Me(Wt),Me(ot),Kw(),d=p.flags,d&65536&&!(d&128)?(p.flags=d&-65537|128,p):null;case 5:return Yw(p),null;case 13:if(Me(Mr),d=p.memoizedState,d!==null&&d.dehydrated!==null){if(p.alternate===null)throw Error(n(340));bh()}return d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 19:return Me(Mr),null;case 4:return _h(),null;case 10:return Uw(p.type._context),null;case 22:case 23:return E_(),null;case 24:return null;default:return null}}var Cy=!1,$s=!1,Xz=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function Ch(d,p){var v=d.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(E){Br(d,p,E)}else v.current=null}function m_(d,p,v){try{v()}catch(E){Br(d,p,E)}}var yA=!1;function Qz(d,p){if(Io=Qd,d=ch(),uh(d)){if("selectionStart"in d)var v={start:d.selectionStart,end:d.selectionEnd};else e:{v=(v=d.ownerDocument)&&v.defaultView||window;var E=v.getSelection&&v.getSelection();if(E&&E.rangeCount!==0){v=E.anchorNode;var $=E.anchorOffset,q=E.focusNode;E=E.focusOffset;try{v.nodeType,q.nodeType}catch{v=null;break e}var le=0,je=-1,Re=-1,st=0,St=0,kt=d,_t=null;t:for(;;){for(var Ht;kt!==v||$!==0&&kt.nodeType!==3||(je=le+$),kt!==q||E!==0&&kt.nodeType!==3||(Re=le+E),kt.nodeType===3&&(le+=kt.nodeValue.length),(Ht=kt.firstChild)!==null;)_t=kt,kt=Ht;for(;;){if(kt===d)break t;if(_t===v&&++st===$&&(je=le),_t===q&&++St===E&&(Re=le),(Ht=kt.nextSibling)!==null)break;kt=_t,_t=kt.parentNode}kt=Ht}v=je===-1||Re===-1?null:{start:je,end:Re}}else v=null}v=v||{start:0,end:0}}else v=null;for(Ln={focusedElem:d,selectionRange:v},Qd=!1,Yt=p;Yt!==null;)if(p=Yt,d=p.child,(p.subtreeFlags&1028)!==0&&d!==null)d.return=p,Yt=d;else for(;Yt!==null;){p=Yt;try{var Kt=p.alternate;if(p.flags&1024)switch(p.tag){case 0:case 11:case 15:break;case 1:if(Kt!==null){var en=Kt.memoizedProps,Kr=Kt.memoizedState,Xe=p.stateNode,$e=Xe.getSnapshotBeforeUpdate(p.elementType===p.type?en:to(p.type,en),Kr);Xe.__reactInternalSnapshotBeforeUpdate=$e}break;case 3:var et=p.stateNode.containerInfo;et.nodeType===1?et.textContent="":et.nodeType===9&&et.documentElement&&et.removeChild(et.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(It){Br(p,p.return,It)}if(d=p.sibling,d!==null){d.return=p.return,Yt=d;break}Yt=p.return}return Kt=yA,yA=!1,Kt}function Gp(d,p,v){var E=p.updateQueue;if(E=E!==null?E.lastEffect:null,E!==null){var $=E=E.next;do{if(($.tag&d)===d){var q=$.destroy;$.destroy=void 0,q!==void 0&&m_(p,v,q)}$=$.next}while($!==E)}}function Ty(d,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var v=p=p.next;do{if((v.tag&d)===d){var E=v.create;v.destroy=E()}v=v.next}while(v!==p)}}function g_(d){var p=d.ref;if(p!==null){var v=d.stateNode;switch(d.tag){case 5:d=v;break;default:d=v}typeof p=="function"?p(d):p.current=d}}function bA(d){var p=d.alternate;p!==null&&(d.alternate=null,bA(p)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(p=d.stateNode,p!==null&&(delete p[ba],delete p[Ru],delete p[T],delete p[I],delete p[B])),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function xA(d){return d.tag===5||d.tag===3||d.tag===4}function vA(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||xA(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function y_(d,p,v){var E=d.tag;if(E===5||E===6)d=d.stateNode,p?v.nodeType===8?v.parentNode.insertBefore(d,p):v.insertBefore(d,p):(v.nodeType===8?(p=v.parentNode,p.insertBefore(d,v)):(p=v,p.appendChild(d)),v=v._reactRootContainer,v!=null||p.onclick!==null||(p.onclick=Mu));else if(E!==4&&(d=d.child,d!==null))for(y_(d,p,v),d=d.sibling;d!==null;)y_(d,p,v),d=d.sibling}function b_(d,p,v){var E=d.tag;if(E===5||E===6)d=d.stateNode,p?v.insertBefore(d,p):v.appendChild(d);else if(E!==4&&(d=d.child,d!==null))for(b_(d,p,v),d=d.sibling;d!==null;)b_(d,p,v),d=d.sibling}var Ds=null,no=!1;function Ic(d,p,v){for(v=v.child;v!==null;)wA(d,p,v),v=v.sibling}function wA(d,p,v){if(Or&&typeof Or.onCommitFiberUnmount=="function")try{Or.onCommitFiberUnmount(ko,v)}catch{}switch(v.tag){case 5:$s||Ch(v,p);case 6:var E=Ds,$=no;Ds=null,Ic(d,p,v),Ds=E,no=$,Ds!==null&&(no?(d=Ds,v=v.stateNode,d.nodeType===8?d.parentNode.removeChild(v):d.removeChild(v)):Ds.removeChild(v.stateNode));break;case 18:Ds!==null&&(no?(d=Ds,v=v.stateNode,d.nodeType===8?Fp(d.parentNode,v):d.nodeType===1&&Fp(d,v),Cu(d)):Fp(Ds,v.stateNode));break;case 4:E=Ds,$=no,Ds=v.stateNode.containerInfo,no=!0,Ic(d,p,v),Ds=E,no=$;break;case 0:case 11:case 14:case 15:if(!$s&&(E=v.updateQueue,E!==null&&(E=E.lastEffect,E!==null))){$=E=E.next;do{var q=$,le=q.destroy;q=q.tag,le!==void 0&&(q&2||q&4)&&m_(v,p,le),$=$.next}while($!==E)}Ic(d,p,v);break;case 1:if(!$s&&(Ch(v,p),E=v.stateNode,typeof E.componentWillUnmount=="function"))try{E.props=v.memoizedProps,E.state=v.memoizedState,E.componentWillUnmount()}catch(je){Br(v,p,je)}Ic(d,p,v);break;case 21:Ic(d,p,v);break;case 22:v.mode&1?($s=(E=$s)||v.memoizedState!==null,Ic(d,p,v),$s=E):Ic(d,p,v);break;default:Ic(d,p,v)}}function _A(d){var p=d.updateQueue;if(p!==null){d.updateQueue=null;var v=d.stateNode;v===null&&(v=d.stateNode=new Xz),p.forEach(function(E){var $=aU.bind(null,d,E);v.has(E)||(v.add(E),E.then($,$))})}}function ro(d,p){var v=p.deletions;if(v!==null)for(var E=0;E<v.length;E++){var $=v[E];try{var q=d,le=p,je=le;e:for(;je!==null;){switch(je.tag){case 5:Ds=je.stateNode,no=!1;break e;case 3:Ds=je.stateNode.containerInfo,no=!0;break e;case 4:Ds=je.stateNode.containerInfo,no=!0;break e}je=je.return}if(Ds===null)throw Error(n(160));wA(q,le,$),Ds=null,no=!1;var Re=$.alternate;Re!==null&&(Re.return=null),$.return=null}catch(st){Br($,p,st)}}if(p.subtreeFlags&12854)for(p=p.child;p!==null;)SA(p,d),p=p.sibling}function SA(d,p){var v=d.alternate,E=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:if(ro(p,d),Fo(d),E&4){try{Gp(3,d,d.return),Ty(3,d)}catch(en){Br(d,d.return,en)}try{Gp(5,d,d.return)}catch(en){Br(d,d.return,en)}}break;case 1:ro(p,d),Fo(d),E&512&&v!==null&&Ch(v,v.return);break;case 5:if(ro(p,d),Fo(d),E&512&&v!==null&&Ch(v,v.return),d.flags&32){var $=d.stateNode;try{Le($,"")}catch(en){Br(d,d.return,en)}}if(E&4&&($=d.stateNode,$!=null)){var q=d.memoizedProps,le=v!==null?v.memoizedProps:q,je=d.type,Re=d.updateQueue;if(d.updateQueue=null,Re!==null)try{je==="input"&&q.type==="radio"&&q.name!=null&&be($,q),We(je,le);var st=We(je,q);for(le=0;le<Re.length;le+=2){var St=Re[le],kt=Re[le+1];St==="style"?gt($,kt):St==="dangerouslySetInnerHTML"?ze($,kt):St==="children"?Le($,kt):k($,St,kt,st)}switch(je){case"input":re($,q);break;case"textarea":Pe($,q);break;case"select":var _t=$._wrapperState.wasMultiple;$._wrapperState.wasMultiple=!!q.multiple;var Ht=q.value;Ht!=null?he($,!!q.multiple,Ht,!1):_t!==!!q.multiple&&(q.defaultValue!=null?he($,!!q.multiple,q.defaultValue,!0):he($,!!q.multiple,q.multiple?[]:"",!1))}$[Ru]=q}catch(en){Br(d,d.return,en)}}break;case 6:if(ro(p,d),Fo(d),E&4){if(d.stateNode===null)throw Error(n(162));$=d.stateNode,q=d.memoizedProps;try{$.nodeValue=q}catch(en){Br(d,d.return,en)}}break;case 3:if(ro(p,d),Fo(d),E&4&&v!==null&&v.memoizedState.isDehydrated)try{Cu(p.containerInfo)}catch(en){Br(d,d.return,en)}break;case 4:ro(p,d),Fo(d);break;case 13:ro(p,d),Fo(d),$=d.child,$.flags&8192&&(q=$.memoizedState!==null,$.stateNode.isHidden=q,!q||$.alternate!==null&&$.alternate.memoizedState!==null||(w_=ur())),E&4&&_A(d);break;case 22:if(St=v!==null&&v.memoizedState!==null,d.mode&1?($s=(st=$s)||St,ro(p,d),$s=st):ro(p,d),Fo(d),E&8192){if(st=d.memoizedState!==null,(d.stateNode.isHidden=st)&&!St&&d.mode&1)for(Yt=d,St=d.child;St!==null;){for(kt=Yt=St;Yt!==null;){switch(_t=Yt,Ht=_t.child,_t.tag){case 0:case 11:case 14:case 15:Gp(4,_t,_t.return);break;case 1:Ch(_t,_t.return);var Kt=_t.stateNode;if(typeof Kt.componentWillUnmount=="function"){E=_t,v=_t.return;try{p=E,Kt.props=p.memoizedProps,Kt.state=p.memoizedState,Kt.componentWillUnmount()}catch(en){Br(E,v,en)}}break;case 5:Ch(_t,_t.return);break;case 22:if(_t.memoizedState!==null){kA(kt);continue}}Ht!==null?(Ht.return=_t,Yt=Ht):kA(kt)}St=St.sibling}e:for(St=null,kt=d;;){if(kt.tag===5){if(St===null){St=kt;try{$=kt.stateNode,st?(q=$.style,typeof q.setProperty=="function"?q.setProperty("display","none","important"):q.display="none"):(je=kt.stateNode,Re=kt.memoizedProps.style,le=Re!=null&&Re.hasOwnProperty("display")?Re.display:null,je.style.display=He("display",le))}catch(en){Br(d,d.return,en)}}}else if(kt.tag===6){if(St===null)try{kt.stateNode.nodeValue=st?"":kt.memoizedProps}catch(en){Br(d,d.return,en)}}else if((kt.tag!==22&&kt.tag!==23||kt.memoizedState===null||kt===d)&&kt.child!==null){kt.child.return=kt,kt=kt.child;continue}if(kt===d)break e;for(;kt.sibling===null;){if(kt.return===null||kt.return===d)break e;St===kt&&(St=null),kt=kt.return}St===kt&&(St=null),kt.sibling.return=kt.return,kt=kt.sibling}}break;case 19:ro(p,d),Fo(d),E&4&&_A(d);break;case 21:break;default:ro(p,d),Fo(d)}}function Fo(d){var p=d.flags;if(p&2){try{e:{for(var v=d.return;v!==null;){if(xA(v)){var E=v;break e}v=v.return}throw Error(n(160))}switch(E.tag){case 5:var $=E.stateNode;E.flags&32&&(Le($,""),E.flags&=-33);var q=vA(d);b_(d,q,$);break;case 3:case 4:var le=E.stateNode.containerInfo,je=vA(d);y_(d,je,le);break;default:throw Error(n(161))}}catch(Re){Br(d,d.return,Re)}d.flags&=-3}p&4096&&(d.flags&=-4097)}function Zz(d,p,v){Yt=d,CA(d)}function CA(d,p,v){for(var E=(d.mode&1)!==0;Yt!==null;){var $=Yt,q=$.child;if($.tag===22&&E){var le=$.memoizedState!==null||Cy;if(!le){var je=$.alternate,Re=je!==null&&je.memoizedState!==null||$s;je=Cy;var st=$s;if(Cy=le,($s=Re)&&!st)for(Yt=$;Yt!==null;)le=Yt,Re=le.child,le.tag===22&&le.memoizedState!==null?EA($):Re!==null?(Re.return=le,Yt=Re):EA($);for(;q!==null;)Yt=q,CA(q),q=q.sibling;Yt=$,Cy=je,$s=st}TA(d)}else $.subtreeFlags&8772&&q!==null?(q.return=$,Yt=q):TA(d)}}function TA(d){for(;Yt!==null;){var p=Yt;if(p.flags&8772){var v=p.alternate;try{if(p.flags&8772)switch(p.tag){case 0:case 11:case 15:$s||Ty(5,p);break;case 1:var E=p.stateNode;if(p.flags&4&&!$s)if(v===null)E.componentDidMount();else{var $=p.elementType===p.type?v.memoizedProps:to(p.type,v.memoizedProps);E.componentDidUpdate($,v.memoizedState,E.__reactInternalSnapshotBeforeUpdate)}var q=p.updateQueue;q!==null&&kN(p,q,E);break;case 3:var le=p.updateQueue;if(le!==null){if(v=null,p.child!==null)switch(p.child.tag){case 5:v=p.child.stateNode;break;case 1:v=p.child.stateNode}kN(p,le,v)}break;case 5:var je=p.stateNode;if(v===null&&p.flags&4){v=je;var Re=p.memoizedProps;switch(p.type){case"button":case"input":case"select":case"textarea":Re.autoFocus&&v.focus();break;case"img":Re.src&&(v.src=Re.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(p.memoizedState===null){var st=p.alternate;if(st!==null){var St=st.memoizedState;if(St!==null){var kt=St.dehydrated;kt!==null&&Cu(kt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}$s||p.flags&512&&g_(p)}catch(_t){Br(p,p.return,_t)}}if(p===d){Yt=null;break}if(v=p.sibling,v!==null){v.return=p.return,Yt=v;break}Yt=p.return}}function kA(d){for(;Yt!==null;){var p=Yt;if(p===d){Yt=null;break}var v=p.sibling;if(v!==null){v.return=p.return,Yt=v;break}Yt=p.return}}function EA(d){for(;Yt!==null;){var p=Yt;try{switch(p.tag){case 0:case 11:case 15:var v=p.return;try{Ty(4,p)}catch(Re){Br(p,v,Re)}break;case 1:var E=p.stateNode;if(typeof E.componentDidMount=="function"){var $=p.return;try{E.componentDidMount()}catch(Re){Br(p,$,Re)}}var q=p.return;try{g_(p)}catch(Re){Br(p,q,Re)}break;case 5:var le=p.return;try{g_(p)}catch(Re){Br(p,le,Re)}}}catch(Re){Br(p,p.return,Re)}if(p===d){Yt=null;break}var je=p.sibling;if(je!==null){je.return=p.return,Yt=je;break}Yt=p.return}}var Jz=Math.ceil,ky=A.ReactCurrentDispatcher,x_=A.ReactCurrentOwner,Ca=A.ReactCurrentBatchConfig,Fn=0,ys=null,ss=null,Ps=0,Vi=0,Th=ke(0),us=0,Kp=null,Uu=0,Ey=0,v_=0,Xp=null,Ci=null,w_=0,kh=1/0,Dl=null,jy=!1,__=null,Oc=null,Ny=!1,Mc=null,Ay=0,Qp=0,S_=null,Dy=-1,Py=0;function ni(){return Fn&6?ur():Dy!==-1?Dy:Dy=ur()}function Rc(d){return d.mode&1?Fn&2&&Ps!==0?Ps&-Ps:Rz.transition!==null?(Py===0&&(Py=Je()),Py):(d=Ge,d!==0||(d=window.event,d=d===void 0?16:Jd(d.type)),d):1}function so(d,p,v,E){if(50<Qp)throw Qp=0,S_=null,Error(n(185));pt(d,v,E),(!(Fn&2)||d!==ys)&&(d===ys&&(!(Fn&2)&&(Ey|=v),us===4&&Lc(d,Ps)),Ti(d,E),v===1&&Fn===0&&!(p.mode&1)&&(kh=ur()+500,Xn&&Ac()))}function Ti(d,p){var v=d.callbackNode;Zs(d,p);var E=jo(d,d===ys?Ps:0);if(E===0)v!==null&&ml(v),d.callbackNode=null,d.callbackPriority=0;else if(p=E&-E,d.callbackPriority!==p){if(v!=null&&ml(v),p===1)d.tag===0?Mz(NA.bind(null,d)):_i(NA.bind(null,d)),iy(function(){!(Fn&6)&&Ac()}),v=null;else{switch(bt(E)){case 1:v=To;break;case 4:v=$i;break;case 16:v=bi;break;case 536870912:v=da;break;default:v=bi}v=LA(v,jA.bind(null,d))}d.callbackPriority=p,d.callbackNode=v}}function jA(d,p){if(Dy=-1,Py=0,Fn&6)throw Error(n(327));var v=d.callbackNode;if(Eh()&&d.callbackNode!==v)return null;var E=jo(d,d===ys?Ps:0);if(E===0)return null;if(E&30||E&d.expiredLanes||p)p=Iy(d,E);else{p=E;var $=Fn;Fn|=2;var q=DA();(ys!==d||Ps!==p)&&(Dl=null,kh=ur()+500,Wu(d,p));do try{nU();break}catch(je){AA(d,je)}while(!0);zw(),ky.current=q,Fn=$,ss!==null?p=0:(ys=null,Ps=0,p=us)}if(p!==0){if(p===2&&($=we(d),$!==0&&(E=$,p=C_(d,$))),p===1)throw v=Kp,Wu(d,0),Lc(d,E),Ti(d,ur()),v;if(p===6)Lc(d,E);else{if($=d.current.alternate,!(E&30)&&!eU($)&&(p=Iy(d,E),p===2&&(q=we(d),q!==0&&(E=q,p=C_(d,q))),p===1))throw v=Kp,Wu(d,0),Lc(d,E),Ti(d,ur()),v;switch(d.finishedWork=$,d.finishedLanes=E,p){case 0:case 1:throw Error(n(345));case 2:Vu(d,Ci,Dl);break;case 3:if(Lc(d,E),(E&130023424)===E&&(p=w_+500-ur(),10<p)){if(jo(d,0)!==0)break;if($=d.suspendedLanes,($&E)!==E){ni(),d.pingedLanes|=d.suspendedLanes&$;break}d.timeoutHandle=ls(Vu.bind(null,d,Ci,Dl),p);break}Vu(d,Ci,Dl);break;case 4:if(Lc(d,E),(E&4194240)===E)break;for(p=d.eventTimes,$=-1;0<E;){var le=31-rs(E);q=1<<le,le=p[le],le>$&&($=le),E&=~q}if(E=$,E=ur()-E,E=(120>E?120:480>E?480:1080>E?1080:1920>E?1920:3e3>E?3e3:4320>E?4320:1960*Jz(E/1960))-E,10<E){d.timeoutHandle=ls(Vu.bind(null,d,Ci,Dl),E);break}Vu(d,Ci,Dl);break;case 5:Vu(d,Ci,Dl);break;default:throw Error(n(329))}}}return Ti(d,ur()),d.callbackNode===v?jA.bind(null,d):null}function C_(d,p){var v=Xp;return d.current.memoizedState.isDehydrated&&(Wu(d,p).flags|=256),d=Iy(d,p),d!==2&&(p=Ci,Ci=v,p!==null&&T_(p)),d}function T_(d){Ci===null?Ci=d:Ci.push.apply(Ci,d)}function eU(d){for(var p=d;;){if(p.flags&16384){var v=p.updateQueue;if(v!==null&&(v=v.stores,v!==null))for(var E=0;E<v.length;E++){var $=v[E],q=$.getSnapshot;$=$.value;try{if(!xi(q(),$))return!1}catch{return!1}}}if(v=p.child,p.subtreeFlags&16384&&v!==null)v.return=p,p=v;else{if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function Lc(d,p){for(p&=~v_,p&=~Ey,d.suspendedLanes|=p,d.pingedLanes&=~p,d=d.expirationTimes;0<p;){var v=31-rs(p),E=1<<v;d[v]=-1,p&=~E}}function NA(d){if(Fn&6)throw Error(n(327));Eh();var p=jo(d,0);if(!(p&1))return Ti(d,ur()),null;var v=Iy(d,p);if(d.tag!==0&&v===2){var E=we(d);E!==0&&(p=E,v=C_(d,E))}if(v===1)throw v=Kp,Wu(d,0),Lc(d,p),Ti(d,ur()),v;if(v===6)throw Error(n(345));return d.finishedWork=d.current.alternate,d.finishedLanes=p,Vu(d,Ci,Dl),Ti(d,ur()),null}function k_(d,p){var v=Fn;Fn|=1;try{return d(p)}finally{Fn=v,Fn===0&&(kh=ur()+500,Xn&&Ac())}}function Hu(d){Mc!==null&&Mc.tag===0&&!(Fn&6)&&Eh();var p=Fn;Fn|=1;var v=Ca.transition,E=Ge;try{if(Ca.transition=null,Ge=1,d)return d()}finally{Ge=E,Ca.transition=v,Fn=p,!(Fn&6)&&Ac()}}function E_(){Vi=Th.current,Me(Th)}function Wu(d,p){d.finishedWork=null,d.finishedLanes=0;var v=d.timeoutHandle;if(v!==-1&&(d.timeoutHandle=-1,ya(v)),ss!==null)for(v=ss.return;v!==null;){var E=v;switch(Rw(E),E.tag){case 1:E=E.type.childContextTypes,E!=null&&Ui();break;case 3:_h(),Me(Wt),Me(ot),Kw();break;case 5:Yw(E);break;case 4:_h();break;case 13:Me(Mr);break;case 19:Me(Mr);break;case 10:Uw(E.type._context);break;case 22:case 23:E_()}v=v.return}if(ys=d,ss=d=Fc(d.current,null),Ps=Vi=p,us=0,Kp=null,v_=Ey=Uu=0,Ci=Xp=null,Bu!==null){for(p=0;p<Bu.length;p++)if(v=Bu[p],E=v.interleaved,E!==null){v.interleaved=null;var $=E.next,q=v.pending;if(q!==null){var le=q.next;q.next=$,E.next=le}v.pending=E}Bu=null}return d}function AA(d,p){do{var v=ss;try{if(zw(),gy.current=vy,yy){for(var E=Rr.memoizedState;E!==null;){var $=E.queue;$!==null&&($.pending=null),E=E.next}yy=!1}if(zu=0,gs=cs=Rr=null,Hp=!1,Wp=0,x_.current=null,v===null||v.return===null){us=1,Kp=p,ss=null;break}e:{var q=d,le=v.return,je=v,Re=p;if(p=Ps,je.flags|=32768,Re!==null&&typeof Re=="object"&&typeof Re.then=="function"){var st=Re,St=je,kt=St.tag;if(!(St.mode&1)&&(kt===0||kt===11||kt===15)){var _t=St.alternate;_t?(St.updateQueue=_t.updateQueue,St.memoizedState=_t.memoizedState,St.lanes=_t.lanes):(St.updateQueue=null,St.memoizedState=null)}var Ht=tA(le);if(Ht!==null){Ht.flags&=-257,nA(Ht,le,je,q,p),Ht.mode&1&&eA(q,st,p),p=Ht,Re=st;var Kt=p.updateQueue;if(Kt===null){var en=new Set;en.add(Re),p.updateQueue=en}else Kt.add(Re);break e}else{if(!(p&1)){eA(q,st,p),j_();break e}Re=Error(n(426))}}else if(kr&&je.mode&1){var Kr=tA(le);if(Kr!==null){!(Kr.flags&65536)&&(Kr.flags|=256),nA(Kr,le,je,q,p),Bw(Sh(Re,je));break e}}q=Re=Sh(Re,je),us!==4&&(us=2),Xp===null?Xp=[q]:Xp.push(q),q=le;do{switch(q.tag){case 3:q.flags|=65536,p&=-p,q.lanes|=p;var Xe=ZN(q,Re,p);TN(q,Xe);break e;case 1:je=Re;var $e=q.type,et=q.stateNode;if(!(q.flags&128)&&(typeof $e.getDerivedStateFromError=="function"||et!==null&&typeof et.componentDidCatch=="function"&&(Oc===null||!Oc.has(et)))){q.flags|=65536,p&=-p,q.lanes|=p;var It=JN(q,je,p);TN(q,It);break e}}q=q.return}while(q!==null)}IA(v)}catch(tn){p=tn,ss===v&&v!==null&&(ss=v=v.return);continue}break}while(!0)}function DA(){var d=ky.current;return ky.current=vy,d===null?vy:d}function j_(){(us===0||us===3||us===2)&&(us=4),ys===null||!(Uu&268435455)&&!(Ey&268435455)||Lc(ys,Ps)}function Iy(d,p){var v=Fn;Fn|=2;var E=DA();(ys!==d||Ps!==p)&&(Dl=null,Wu(d,p));do try{tU();break}catch($){AA(d,$)}while(!0);if(zw(),Fn=v,ky.current=E,ss!==null)throw Error(n(261));return ys=null,Ps=0,us}function tU(){for(;ss!==null;)PA(ss)}function nU(){for(;ss!==null&&!Co();)PA(ss)}function PA(d){var p=RA(d.alternate,d,Vi);d.memoizedProps=d.pendingProps,p===null?IA(d):ss=p,x_.current=null}function IA(d){var p=d;do{var v=p.alternate;if(d=p.return,p.flags&32768){if(v=Kz(v,p),v!==null){v.flags&=32767,ss=v;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{us=6,ss=null;return}}else if(v=Gz(v,p,Vi),v!==null){ss=v;return}if(p=p.sibling,p!==null){ss=p;return}ss=p=d}while(p!==null);us===0&&(us=5)}function Vu(d,p,v){var E=Ge,$=Ca.transition;try{Ca.transition=null,Ge=1,rU(d,p,v,E)}finally{Ca.transition=$,Ge=E}return null}function rU(d,p,v,E){do Eh();while(Mc!==null);if(Fn&6)throw Error(n(327));v=d.finishedWork;var $=d.finishedLanes;if(v===null)return null;if(d.finishedWork=null,d.finishedLanes=0,v===d.current)throw Error(n(177));d.callbackNode=null,d.callbackPriority=0;var q=v.lanes|v.childLanes;if(ue(d,q),d===ys&&(ss=ys=null,Ps=0),!(v.subtreeFlags&2064)&&!(v.flags&2064)||Ny||(Ny=!0,LA(bi,function(){return Eh(),null})),q=(v.flags&15990)!==0,v.subtreeFlags&15990||q){q=Ca.transition,Ca.transition=null;var le=Ge;Ge=1;var je=Fn;Fn|=4,x_.current=null,Qz(d,v),SA(v,d),Pp(Ln),Qd=!!Io,Ln=Io=null,d.current=v,Zz(v),Ka(),Fn=je,Ge=le,Ca.transition=q}else d.current=v;if(Ny&&(Ny=!1,Mc=d,Ay=$),q=d.pendingLanes,q===0&&(Oc=null),ha(v.stateNode),Ti(d,ur()),p!==null)for(E=d.onRecoverableError,v=0;v<p.length;v++)$=p[v],E($.value,{componentStack:$.stack,digest:$.digest});if(jy)throw jy=!1,d=__,__=null,d;return Ay&1&&d.tag!==0&&Eh(),q=d.pendingLanes,q&1?d===S_?Qp++:(Qp=0,S_=d):Qp=0,Ac(),null}function Eh(){if(Mc!==null){var d=bt(Ay),p=Ca.transition,v=Ge;try{if(Ca.transition=null,Ge=16>d?16:d,Mc===null)var E=!1;else{if(d=Mc,Mc=null,Ay=0,Fn&6)throw Error(n(331));var $=Fn;for(Fn|=4,Yt=d.current;Yt!==null;){var q=Yt,le=q.child;if(Yt.flags&16){var je=q.deletions;if(je!==null){for(var Re=0;Re<je.length;Re++){var st=je[Re];for(Yt=st;Yt!==null;){var St=Yt;switch(St.tag){case 0:case 11:case 15:Gp(8,St,q)}var kt=St.child;if(kt!==null)kt.return=St,Yt=kt;else for(;Yt!==null;){St=Yt;var _t=St.sibling,Ht=St.return;if(bA(St),St===st){Yt=null;break}if(_t!==null){_t.return=Ht,Yt=_t;break}Yt=Ht}}}var Kt=q.alternate;if(Kt!==null){var en=Kt.child;if(en!==null){Kt.child=null;do{var Kr=en.sibling;en.sibling=null,en=Kr}while(en!==null)}}Yt=q}}if(q.subtreeFlags&2064&&le!==null)le.return=q,Yt=le;else e:for(;Yt!==null;){if(q=Yt,q.flags&2048)switch(q.tag){case 0:case 11:case 15:Gp(9,q,q.return)}var Xe=q.sibling;if(Xe!==null){Xe.return=q.return,Yt=Xe;break e}Yt=q.return}}var $e=d.current;for(Yt=$e;Yt!==null;){le=Yt;var et=le.child;if(le.subtreeFlags&2064&&et!==null)et.return=le,Yt=et;else e:for(le=$e;Yt!==null;){if(je=Yt,je.flags&2048)try{switch(je.tag){case 0:case 11:case 15:Ty(9,je)}}catch(tn){Br(je,je.return,tn)}if(je===le){Yt=null;break e}var It=je.sibling;if(It!==null){It.return=je.return,Yt=It;break e}Yt=je.return}}if(Fn=$,Ac(),Or&&typeof Or.onPostCommitFiberRoot=="function")try{Or.onPostCommitFiberRoot(ko,d)}catch{}E=!0}return E}finally{Ge=v,Ca.transition=p}}return!1}function OA(d,p,v){p=Sh(v,p),p=ZN(d,p,1),d=Pc(d,p,1),p=ni(),d!==null&&(pt(d,1,p),Ti(d,p))}function Br(d,p,v){if(d.tag===3)OA(d,d,v);else for(;p!==null;){if(p.tag===3){OA(p,d,v);break}else if(p.tag===1){var E=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(Oc===null||!Oc.has(E))){d=Sh(v,d),d=JN(p,d,1),p=Pc(p,d,1),d=ni(),p!==null&&(pt(p,1,d),Ti(p,d));break}}p=p.return}}function sU(d,p,v){var E=d.pingCache;E!==null&&E.delete(p),p=ni(),d.pingedLanes|=d.suspendedLanes&v,ys===d&&(Ps&v)===v&&(us===4||us===3&&(Ps&130023424)===Ps&&500>ur()-w_?Wu(d,0):v_|=v),Ti(d,p)}function MA(d,p){p===0&&(d.mode&1?(p=Eo,Eo<<=1,!(Eo&130023424)&&(Eo=4194304)):p=1);var v=ni();d=jl(d,p),d!==null&&(pt(d,p,v),Ti(d,v))}function iU(d){var p=d.memoizedState,v=0;p!==null&&(v=p.retryLane),MA(d,v)}function aU(d,p){var v=0;switch(d.tag){case 13:var E=d.stateNode,$=d.memoizedState;$!==null&&(v=$.retryLane);break;case 19:E=d.stateNode;break;default:throw Error(n(314))}E!==null&&E.delete(p),MA(d,v)}var RA;RA=function(d,p,v){if(d!==null)if(d.memoizedProps!==p.pendingProps||Wt.current)Si=!0;else{if(!(d.lanes&v)&&!(p.flags&128))return Si=!1,Yz(d,p,v);Si=!!(d.flags&131072)}else Si=!1,kr&&p.flags&1048576&&mN(p,ly,p.index);switch(p.lanes=0,p.tag){case 2:var E=p.type;Sy(d,p),d=p.pendingProps;var $=br(p,ot.current);wh(p,v),$=Zw(null,p,E,d,$,v);var q=Jw();return p.flags|=1,typeof $=="object"&&$!==null&&typeof $.render=="function"&&$.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,ar(E)?(q=!0,Mo(p)):q=!1,p.memoizedState=$.state!==null&&$.state!==void 0?$.state:null,Vw(p),$.updater=wy,p.stateNode=$,$._reactInternals=p,i_(p,E,d,v),p=c_(null,p,E,!0,q,v)):(p.tag=0,kr&&q&&Mw(p),ti(null,p,$,v),p=p.child),p;case 16:E=p.elementType;e:{switch(Sy(d,p),d=p.pendingProps,$=E._init,E=$(E._payload),p.type=E,$=p.tag=lU(E),d=to(E,d),$){case 0:p=l_(null,p,E,d,v);break e;case 1:p=lA(null,p,E,d,v);break e;case 11:p=rA(null,p,E,d,v);break e;case 14:p=sA(null,p,E,to(E.type,d),v);break e}throw Error(n(306,E,""))}return p;case 0:return E=p.type,$=p.pendingProps,$=p.elementType===E?$:to(E,$),l_(d,p,E,$,v);case 1:return E=p.type,$=p.pendingProps,$=p.elementType===E?$:to(E,$),lA(d,p,E,$,v);case 3:e:{if(cA(p),d===null)throw Error(n(387));E=p.pendingProps,q=p.memoizedState,$=q.element,CN(d,p),py(p,E,null,v);var le=p.memoizedState;if(E=le.element,q.isDehydrated)if(q={element:E,isDehydrated:!1,cache:le.cache,pendingSuspenseBoundaries:le.pendingSuspenseBoundaries,transitions:le.transitions},p.updateQueue.baseState=q,p.memoizedState=q,p.flags&256){$=Sh(Error(n(423)),p),p=uA(d,p,E,v,$);break e}else if(E!==$){$=Sh(Error(n(424)),p),p=uA(d,p,E,v,$);break e}else for(Wi=Oo(p.stateNode.containerInfo.firstChild),Hi=p,kr=!0,eo=null,v=_N(p,null,E,v),p.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(bh(),E===$){p=Al(d,p,v);break e}ti(d,p,E,v)}p=p.child}return p;case 5:return EN(p),d===null&&Fw(p),E=p.type,$=p.pendingProps,q=d!==null?d.memoizedProps:null,le=$.children,Ja(E,$)?le=null:q!==null&&Ja(E,q)&&(p.flags|=32),oA(d,p),ti(d,p,le,v),p.child;case 6:return d===null&&Fw(p),null;case 13:return dA(d,p,v);case 4:return qw(p,p.stateNode.containerInfo),E=p.pendingProps,d===null?p.child=xh(p,null,E,v):ti(d,p,E,v),p.child;case 11:return E=p.type,$=p.pendingProps,$=p.elementType===E?$:to(E,$),rA(d,p,E,$,v);case 7:return ti(d,p,p.pendingProps,v),p.child;case 8:return ti(d,p,p.pendingProps.children,v),p.child;case 12:return ti(d,p,p.pendingProps.children,v),p.child;case 10:e:{if(E=p.type._context,$=p.pendingProps,q=p.memoizedProps,le=$.value,Ke(dy,E._currentValue),E._currentValue=le,q!==null)if(xi(q.value,le)){if(q.children===$.children&&!Wt.current){p=Al(d,p,v);break e}}else for(q=p.child,q!==null&&(q.return=p);q!==null;){var je=q.dependencies;if(je!==null){le=q.child;for(var Re=je.firstContext;Re!==null;){if(Re.context===E){if(q.tag===1){Re=Nl(-1,v&-v),Re.tag=2;var st=q.updateQueue;if(st!==null){st=st.shared;var St=st.pending;St===null?Re.next=Re:(Re.next=St.next,St.next=Re),st.pending=Re}}q.lanes|=v,Re=q.alternate,Re!==null&&(Re.lanes|=v),Hw(q.return,v,p),je.lanes|=v;break}Re=Re.next}}else if(q.tag===10)le=q.type===p.type?null:q.child;else if(q.tag===18){if(le=q.return,le===null)throw Error(n(341));le.lanes|=v,je=le.alternate,je!==null&&(je.lanes|=v),Hw(le,v,p),le=q.sibling}else le=q.child;if(le!==null)le.return=q;else for(le=q;le!==null;){if(le===p){le=null;break}if(q=le.sibling,q!==null){q.return=le.return,le=q;break}le=le.return}q=le}ti(d,p,$.children,v),p=p.child}return p;case 9:return $=p.type,E=p.pendingProps.children,wh(p,v),$=_a($),E=E($),p.flags|=1,ti(d,p,E,v),p.child;case 14:return E=p.type,$=to(E,p.pendingProps),$=to(E.type,$),sA(d,p,E,$,v);case 15:return iA(d,p,p.type,p.pendingProps,v);case 17:return E=p.type,$=p.pendingProps,$=p.elementType===E?$:to(E,$),Sy(d,p),p.tag=1,ar(E)?(d=!0,Mo(p)):d=!1,wh(p,v),XN(p,E,$),i_(p,E,$,v),c_(null,p,E,!0,d,v);case 19:return fA(d,p,v);case 22:return aA(d,p,v)}throw Error(n(156,p.tag))};function LA(d,p){return qn(d,p)}function oU(d,p,v,E){this.tag=d,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ta(d,p,v,E){return new oU(d,p,v,E)}function N_(d){return d=d.prototype,!(!d||!d.isReactComponent)}function lU(d){if(typeof d=="function")return N_(d)?1:0;if(d!=null){if(d=d.$$typeof,d===O)return 11;if(d===V)return 14}return 2}function Fc(d,p){var v=d.alternate;return v===null?(v=Ta(d.tag,p,d.key,d.mode),v.elementType=d.elementType,v.type=d.type,v.stateNode=d.stateNode,v.alternate=d,d.alternate=v):(v.pendingProps=p,v.type=d.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=d.flags&14680064,v.childLanes=d.childLanes,v.lanes=d.lanes,v.child=d.child,v.memoizedProps=d.memoizedProps,v.memoizedState=d.memoizedState,v.updateQueue=d.updateQueue,p=d.dependencies,v.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},v.sibling=d.sibling,v.index=d.index,v.ref=d.ref,v}function Oy(d,p,v,E,$,q){var le=2;if(E=d,typeof d=="function")N_(d)&&(le=1);else if(typeof d=="string")le=5;else e:switch(d){case M:return qu(v.children,$,q,p);case L:le=8,$|=8;break;case D:return d=Ta(12,v,p,$|2),d.elementType=D,d.lanes=q,d;case U:return d=Ta(13,v,p,$),d.elementType=U,d.lanes=q,d;case j:return d=Ta(19,v,p,$),d.elementType=j,d.lanes=q,d;case te:return My(v,$,q,p);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case S:le=10;break e;case z:le=9;break e;case O:le=11;break e;case V:le=14;break e;case K:le=16,E=null;break e}throw Error(n(130,d==null?d:typeof d,""))}return p=Ta(le,v,p,$),p.elementType=d,p.type=E,p.lanes=q,p}function qu(d,p,v,E){return d=Ta(7,d,E,p),d.lanes=v,d}function My(d,p,v,E){return d=Ta(22,d,E,p),d.elementType=te,d.lanes=v,d.stateNode={isHidden:!1},d}function A_(d,p,v){return d=Ta(6,d,null,p),d.lanes=v,d}function D_(d,p,v){return p=Ta(4,d.children!==null?d.children:[],d.key,p),p.lanes=v,p.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},p}function cU(d,p,v,E,$){this.tag=p,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qe(0),this.expirationTimes=qe(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qe(0),this.identifierPrefix=E,this.onRecoverableError=$,this.mutableSourceEagerHydrationData=null}function P_(d,p,v,E,$,q,le,je,Re){return d=new cU(d,p,v,je,Re),p===1?(p=1,q===!0&&(p|=8)):p=0,q=Ta(3,null,null,p),d.current=q,q.stateNode=d,q.memoizedState={element:E,isDehydrated:v,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vw(q),d}function uU(d,p,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:E==null?null:""+E,children:d,containerInfo:p,implementation:v}}function FA(d){if(!d)return Pt;d=d._reactInternals;e:{if(bn(d)!==d||d.tag!==1)throw Error(n(170));var p=d;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(ar(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(n(171))}if(d.tag===1){var v=d.type;if(ar(v))return jc(d,v,p)}return p}function BA(d,p,v,E,$,q,le,je,Re){return d=P_(v,E,!0,d,$,q,le,je,Re),d.context=FA(null),v=d.current,E=ni(),$=Rc(v),q=Nl(E,$),q.callback=p??null,Pc(v,q,$),d.current.lanes=$,pt(d,$,E),Ti(d,E),d}function Ry(d,p,v,E){var $=p.current,q=ni(),le=Rc($);return v=FA(v),p.context===null?p.context=v:p.pendingContext=v,p=Nl(q,le),p.payload={element:d},E=E===void 0?null:E,E!==null&&(p.callback=E),d=Pc($,p,le),d!==null&&(so(d,$,le,q),fy(d,$,le)),le}function Ly(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return d.child.stateNode;default:return d.child.stateNode}}function $A(d,p){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var v=d.retryLane;d.retryLane=v!==0&&v<p?v:p}}function I_(d,p){$A(d,p),(d=d.alternate)&&$A(d,p)}function dU(){return null}var zA=typeof reportError=="function"?reportError:function(d){console.error(d)};function O_(d){this._internalRoot=d}Fy.prototype.render=O_.prototype.render=function(d){var p=this._internalRoot;if(p===null)throw Error(n(409));Ry(d,p,null,null)},Fy.prototype.unmount=O_.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var p=d.containerInfo;Hu(function(){Ry(null,d,null,null)}),p[xa]=null}};function Fy(d){this._internalRoot=d}Fy.prototype.unstable_scheduleHydration=function(d){if(d){var p=an();d={blockedOn:null,target:d,priority:p};for(var v=0;v<Gr.length&&p!==0&&p<Gr[v].priority;v++);Gr.splice(v,0,d),v===0&&vp(d)}};function M_(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function By(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11&&(d.nodeType!==8||d.nodeValue!==" react-mount-point-unstable "))}function UA(){}function hU(d,p,v,E,$){if($){if(typeof E=="function"){var q=E;E=function(){var st=Ly(le);q.call(st)}}var le=BA(p,E,d,0,null,!1,!1,"",UA);return d._reactRootContainer=le,d[xa]=le.current,Sc(d.nodeType===8?d.parentNode:d),Hu(),le}for(;$=d.lastChild;)d.removeChild($);if(typeof E=="function"){var je=E;E=function(){var st=Ly(Re);je.call(st)}}var Re=P_(d,0,!1,null,null,!1,!1,"",UA);return d._reactRootContainer=Re,d[xa]=Re.current,Sc(d.nodeType===8?d.parentNode:d),Hu(function(){Ry(p,Re,v,E)}),Re}function $y(d,p,v,E,$){var q=v._reactRootContainer;if(q){var le=q;if(typeof $=="function"){var je=$;$=function(){var Re=Ly(le);je.call(Re)}}Ry(p,le,d,$)}else le=hU(v,p,d,$,E);return Ly(le)}Ct=function(d){switch(d.tag){case 3:var p=d.stateNode;if(p.current.memoizedState.isDehydrated){var v=ma(p.pendingLanes);v!==0&&(Fe(p,v|1),Ti(p,ur()),!(Fn&6)&&(kh=ur()+500,Ac()))}break;case 13:Hu(function(){var E=jl(d,1);if(E!==null){var $=ni();so(E,d,1,$)}}),I_(d,1)}},Tt=function(d){if(d.tag===13){var p=jl(d,134217728);if(p!==null){var v=ni();so(p,d,134217728,v)}I_(d,134217728)}},Mt=function(d){if(d.tag===13){var p=Rc(d),v=jl(d,p);if(v!==null){var E=ni();so(v,d,p,E)}I_(d,p)}},an=function(){return Ge},pn=function(d,p){var v=Ge;try{return Ge=d,p()}finally{Ge=v}},Ze=function(d,p,v){switch(p){case"input":if(re(d,v),p=v.name,v.type==="radio"&&p!=null){for(v=d;v.parentNode;)v=v.parentNode;for(v=v.querySelectorAll("input[name="+JSON.stringify(""+p)+'][type="radio"]'),p=0;p<v.length;p++){var E=v[p];if(E!==d&&E.form===d.form){var $=pe(E);if(!$)throw Error(n(90));rt(E),re(E,$)}}}break;case"textarea":Pe(d,v);break;case"select":p=v.value,p!=null&&he(d,!!v.multiple,p,!1)}},xt=k_,At=Hu;var fU={usingClientEntryPoint:!1,Events:[W,Q,pe,oe,Ne,k_]},Zp={findFiberByHostInstance:R,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pU={bundleType:Zp.bundleType,version:Zp.version,rendererPackageName:Zp.rendererPackageName,rendererConfig:Zp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(d){return d=So(d),d===null?null:d.stateNode},findFiberByHostInstance:Zp.findFiberByHostInstance||dU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zy.isDisabled&&zy.supportsFiber)try{ko=zy.inject(pU),Or=zy}catch{}}return ki.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fU,ki.createPortal=function(d,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!M_(p))throw Error(n(200));return uU(d,p,null,v)},ki.createRoot=function(d,p){if(!M_(d))throw Error(n(299));var v=!1,E="",$=zA;return p!=null&&(p.unstable_strictMode===!0&&(v=!0),p.identifierPrefix!==void 0&&(E=p.identifierPrefix),p.onRecoverableError!==void 0&&($=p.onRecoverableError)),p=P_(d,1,!1,null,null,v,!1,E,$),d[xa]=p.current,Sc(d.nodeType===8?d.parentNode:d),new O_(p)},ki.findDOMNode=function(d){if(d==null)return null;if(d.nodeType===1)return d;var p=d._reactInternals;if(p===void 0)throw typeof d.render=="function"?Error(n(188)):(d=Object.keys(d).join(","),Error(n(268,d)));return d=So(p),d=d===null?null:d.stateNode,d},ki.flushSync=function(d){return Hu(d)},ki.hydrate=function(d,p,v){if(!By(p))throw Error(n(200));return $y(null,d,p,!0,v)},ki.hydrateRoot=function(d,p,v){if(!M_(d))throw Error(n(405));var E=v!=null&&v.hydratedSources||null,$=!1,q="",le=zA;if(v!=null&&(v.unstable_strictMode===!0&&($=!0),v.identifierPrefix!==void 0&&(q=v.identifierPrefix),v.onRecoverableError!==void 0&&(le=v.onRecoverableError)),p=BA(p,null,d,1,v??null,$,!1,q,le),d[xa]=p.current,Sc(d),E)for(d=0;d<E.length;d++)v=E[d],$=v._getVersion,$=$(v._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[v,$]:p.mutableSourceEagerHydrationData.push(v,$);return new Fy(p)},ki.render=function(d,p,v){if(!By(p))throw Error(n(200));return $y(null,d,p,!1,v)},ki.unmountComponentAtNode=function(d){if(!By(d))throw Error(n(40));return d._reactRootContainer?(Hu(function(){$y(null,null,d,!1,function(){d._reactRootContainer=null,d[xa]=null})}),!0):!1},ki.unstable_batchedUpdates=k_,ki.unstable_renderSubtreeIntoContainer=function(d,p,v,E){if(!By(v))throw Error(n(200));if(d==null||d._reactInternals===void 0)throw Error(n(38));return $y(d,p,v,!1,E)},ki.version="18.3.1-next-f1338f8080-20240426",ki}var XA;function lM(){if(XA)return F_.exports;XA=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),F_.exports=CU(),F_.exports}var QA;function TU(){if(QA)return Uy;QA=1;var t=lM();return Uy.createRoot=t.createRoot,Uy.hydrateRoot=t.hydrateRoot,Uy}var kU=TU();const EU=Jr(kU),jU="modulepreload",NU=function(t){return"/"+t},ZA={},li=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=NU(c),c in ZA)return;ZA[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":jU,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((m,g)=>{f.addEventListener("load",m),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})};/**
 * @remix-run/router v1.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eg(){return eg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eg.apply(this,arguments)}var Zc;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Zc||(Zc={}));const JA="popstate";function AU(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:a,hash:l}=r.location;return WS("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:nx(s)}return PU(e,n,null,t)}function ps(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function qT(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DU(){return Math.random().toString(36).substr(2,8)}function e3(t,e){return{usr:t.state,key:t.key,idx:e}}function WS(t,e,n,r){return n===void 0&&(n=null),eg({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Yf(e):e,{state:n,key:e&&e.key||r||DU()})}function nx(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Yf(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function PU(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l=Zc.Pop,c=null,u=h();u==null&&(u=0,a.replaceState(eg({},a.state,{idx:u}),""));function h(){return(a.state||{idx:null}).idx}function f(){l=Zc.Pop;let x=h(),w=x==null?null:x-u;u=x,c&&c({action:l,location:y.location,delta:w})}function m(x,w){l=Zc.Push;let C=WS(y.location,x,w);u=h()+1;let k=e3(C,u),A=y.createHref(C);try{a.pushState(k,"",A)}catch{s.location.assign(A)}i&&c&&c({action:l,location:y.location,delta:1})}function g(x,w){l=Zc.Replace;let C=WS(y.location,x,w);u=h();let k=e3(C,u),A=y.createHref(C);a.replaceState(k,"",A),i&&c&&c({action:l,location:y.location,delta:0})}function b(x){let w=s.location.origin!=="null"?s.location.origin:s.location.href,C=typeof x=="string"?x:nx(x);return ps(w,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,w)}let y={get action(){return l},get location(){return t(s,a)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(JA,f),c=x,()=>{s.removeEventListener(JA,f),c=null}},createHref(x){return e(s,x)},createURL:b,encodeLocation(x){let w=b(x);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:g,go(x){return a.go(x)}};return y}var t3;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(t3||(t3={}));function IU(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Yf(e):e,s=YT(r.pathname||"/",n);if(s==null)return null;let i=cM(t);OU(i);let a=null;for(let l=0;a==null&&l<i.length;++l)a=HU(i[l],qU(s));return a}function cM(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(ps(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=su([r,c.relativePath]),h=n.concat(c);i.children&&i.children.length>0&&(ps(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),cM(i.children,e,h,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:zU(u,i.index),routesMeta:h})};return t.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of uM(i.path))s(i,a,c)}),e}function uM(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=uM(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function OU(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:UU(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const MU=/^:\w+$/,RU=3,LU=2,FU=1,BU=10,$U=-2,n3=t=>t==="*";function zU(t,e){let n=t.split("/"),r=n.length;return n.some(n3)&&(r+=$U),e&&(r+=LU),n.filter(s=>!n3(s)).reduce((s,i)=>s+(MU.test(i)?RU:i===""?FU:BU),r)}function UU(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function HU(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,u=s==="/"?e:e.slice(s.length)||"/",h=WU({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u);if(!h)return null;Object.assign(r,h.params);let f=l.route;i.push({params:r,pathname:su([s,h.pathname]),pathnameBase:XU(su([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=su([s,h.pathnameBase]))}return i}function WU(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=VU(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,h,f)=>{if(h==="*"){let m=l[f]||"";a=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}return u[h]=YU(l[f]||"",h),u},{}),pathname:i,pathnameBase:a,pattern:t}}function VU(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),qT(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(a,l)=>(r.push(l),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function qU(t){try{return decodeURI(t)}catch(e){return qT(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function YU(t,e){try{return decodeURIComponent(t)}catch(n){return qT(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function YT(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function GU(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Yf(t):t;return{pathname:n?n.startsWith("/")?n:KU(n,e):e,search:QU(r),hash:ZU(s)}}function KU(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function z_(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function dM(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function hM(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Yf(t):(s=eg({},t),ps(!s.pathname||!s.pathname.includes("?"),z_("?","pathname","search",s)),ps(!s.pathname||!s.pathname.includes("#"),z_("#","pathname","hash",s)),ps(!s.search||!s.search.includes("#"),z_("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,l;if(r||a==null)l=n;else{let f=e.length-1;if(a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}l=f>=0?e[f]:"/"}let c=GU(s,l),u=a&&a!=="/"&&a.endsWith("/"),h=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const su=t=>t.join("/").replace(/\/\/+/g,"/"),XU=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),QU=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ZU=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function JU(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const fM=["post","put","patch","delete"];new Set(fM);const eH=["get",...fM];new Set(eH);/**
 * React Router v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const pM=_.createContext(null),mM=_.createContext(null),$g=_.createContext(null),Ev=_.createContext(null),Ud=_.createContext({outlet:null,matches:[]}),gM=_.createContext(null);function VS(){return VS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VS.apply(this,arguments)}function tH(t,e){let{relative:n}=e===void 0?{}:e;zg()||ps(!1);let{basename:r,navigator:s}=_.useContext($g),{hash:i,pathname:a,search:l}=yM(t,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:su([r,a])),s.createHref({pathname:c,search:l,hash:i})}function zg(){return _.useContext(Ev)!=null}function go(){return zg()||ps(!1),_.useContext(Ev).location}function fr(){zg()||ps(!1);let{basename:t,navigator:e}=_.useContext($g),{matches:n}=_.useContext(Ud),{pathname:r}=go(),s=JSON.stringify(dM(n).map(l=>l.pathnameBase)),i=_.useRef(!1);return _.useEffect(()=>{i.current=!0}),_.useCallback(function(l,c){if(c===void 0&&(c={}),!i.current)return;if(typeof l=="number"){e.go(l);return}let u=hM(l,JSON.parse(s),r,c.relative==="path");t!=="/"&&(u.pathname=u.pathname==="/"?t:su([t,u.pathname])),(c.replace?e.replace:e.push)(u,c.state,c)},[t,e,s,r])}function Hd(){let{matches:t}=_.useContext(Ud),e=t[t.length-1];return e?e.params:{}}function yM(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=_.useContext(Ud),{pathname:s}=go(),i=JSON.stringify(dM(r).map(a=>a.pathnameBase));return _.useMemo(()=>hM(t,JSON.parse(i),s,n==="path"),[t,i,s,n])}function nH(t,e){zg()||ps(!1);let{navigator:n}=_.useContext($g),r=_.useContext(mM),{matches:s}=_.useContext(Ud),i=s[s.length-1],a=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let c=go(),u;if(e){var h;let y=typeof e=="string"?Yf(e):e;l==="/"||(h=y.pathname)!=null&&h.startsWith(l)||ps(!1),u=y}else u=c;let f=u.pathname||"/",m=l==="/"?f:f.slice(l.length)||"/",g=IU(t,{pathname:m}),b=aH(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:su([l,n.encodeLocation?n.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:su([l,n.encodeLocation?n.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,r||void 0);return e&&b?_.createElement(Ev.Provider,{value:{location:VS({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Zc.Pop}},b):b}function rH(){let t=uH(),e=JU(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:s},n):null,null)}class sH extends _.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?_.createElement(Ud.Provider,{value:this.props.routeContext},_.createElement(gM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function iH(t){let{routeContext:e,match:n,children:r}=t,s=_.useContext(pM);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(Ud.Provider,{value:e},r)}function aH(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,s=n==null?void 0:n.errors;if(s!=null){let i=r.findIndex(a=>a.route.id&&(s==null?void 0:s[a.route.id]));i>=0||ps(!1),r=r.slice(0,Math.min(r.length,i+1))}return r.reduceRight((i,a,l)=>{let c=a.route.id?s==null?void 0:s[a.route.id]:null,u=null;n&&(a.route.ErrorBoundary?u=_.createElement(a.route.ErrorBoundary,null):a.route.errorElement?u=a.route.errorElement:u=_.createElement(rH,null));let h=e.concat(r.slice(0,l+1)),f=()=>{let m=i;return c?m=u:a.route.Component?m=_.createElement(a.route.Component,null):a.route.element&&(m=a.route.element),_.createElement(iH,{match:a,routeContext:{outlet:i,matches:h},children:m})};return n&&(a.route.ErrorBoundary||a.route.errorElement||l===0)?_.createElement(sH,{location:n.location,component:u,error:c,children:f(),routeContext:{outlet:null,matches:h}}):f()},null)}var r3;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(r3||(r3={}));var rx;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(rx||(rx={}));function oH(t){let e=_.useContext(mM);return e||ps(!1),e}function lH(t){let e=_.useContext(Ud);return e||ps(!1),e}function cH(t){let e=lH(),n=e.matches[e.matches.length-1];return n.route.id||ps(!1),n.route.id}function uH(){var t;let e=_.useContext(gM),n=oH(rx.UseRouteError),r=cH(rx.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function nr(t){ps(!1)}function dH(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Zc.Pop,navigator:i,static:a=!1}=t;zg()&&ps(!1);let l=e.replace(/^\/*/,"/"),c=_.useMemo(()=>({basename:l,navigator:i,static:a}),[l,i,a]);typeof r=="string"&&(r=Yf(r));let{pathname:u="/",search:h="",hash:f="",state:m=null,key:g="default"}=r,b=_.useMemo(()=>{let y=YT(u,l);return y==null?null:{location:{pathname:y,search:h,hash:f,state:m,key:g},navigationType:s}},[l,u,h,f,m,g,s]);return b==null?null:_.createElement($g.Provider,{value:c},_.createElement(Ev.Provider,{children:n,value:b}))}function hH(t){let{children:e,location:n}=t,r=_.useContext(pM),s=r&&!e?r.router.routes:qS(e);return nH(s,n)}var s3;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(s3||(s3={}));new Promise(()=>{});function qS(t,e){e===void 0&&(e=[]);let n=[];return _.Children.forEach(t,(r,s)=>{if(!_.isValidElement(r))return;let i=[...e,s];if(r.type===_.Fragment){n.push.apply(n,qS(r.props.children,i));return}r.type!==nr&&ps(!1),!r.props.index||!r.props.children||ps(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=qS(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function YS(){return YS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YS.apply(this,arguments)}function fH(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function pH(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function mH(t,e){return t.button===0&&(!e||e==="_self")&&!pH(t)}const gH=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function yH(t){let{basename:e,children:n,window:r}=t,s=_.useRef();s.current==null&&(s.current=AU({window:r,v5Compat:!0}));let i=s.current,[a,l]=_.useState({action:i.action,location:i.location});return _.useLayoutEffect(()=>i.listen(l),[i]),_.createElement(dH,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:i})}const bH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xH=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pn=_.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:h}=e,f=fH(e,gH),{basename:m}=_.useContext($g),g,b=!1;if(typeof u=="string"&&xH.test(u)&&(g=u,bH)){let C=new URL(window.location.href),k=u.startsWith("//")?new URL(C.protocol+u):new URL(u),A=YT(k.pathname,m);k.origin===C.origin&&A!=null?u=A+k.search+k.hash:b=!0}let y=tH(u,{relative:s}),x=vH(u,{replace:a,state:l,target:c,preventScrollReset:h,relative:s});function w(C){r&&r(C),C.defaultPrevented||x(C)}return _.createElement("a",YS({},f,{href:g||y,onClick:b||i?r:w,ref:n,target:c}))});var i3;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(i3||(i3={}));var a3;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(a3||(a3={}));function vH(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a}=e===void 0?{}:e,l=fr(),c=go(),u=yM(t,{relative:a});return _.useCallback(h=>{if(mH(h,n)){h.preventDefault();let f=r!==void 0?r:nx(c)===nx(u);l(t,{replace:f,state:s,preventScrollReset:i,relative:a})}},[c,l,u,r,s,n,t,i,a])}var wH=Object.create,bM=Object.defineProperty,_H=Object.getOwnPropertyDescriptor,SH=Object.getOwnPropertyNames,CH=Object.getPrototypeOf,TH=Object.prototype.hasOwnProperty,kH=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),EH=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of SH(e))!TH.call(t,s)&&s!==n&&bM(t,s,{get:()=>e[s],enumerable:!(r=_H(e,s))||r.enumerable});return t},jH=(t,e,n)=>(n=t!=null?wH(CH(t)):{},EH(!t||!t.__esModule?bM(n,"default",{value:t,enumerable:!0}):n,t)),NH=kH((t,e)=>{(function(n,r){typeof t=="object"&&typeof e<"u"?r(t):typeof define=="function"&&define.amd?define(["exports"],r):(n=typeof globalThis<"u"?globalThis:n||self,r(n.fastUniqueNumbers={}))})(t,function(n){var r=function(g){return function(b){var y=g(b);return b.add(y),y}},s=function(g){return function(b,y){return g.set(b,y),y}},i=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,a=536870912,l=a*2,c=function(g,b){return function(y){var x=b.get(y),w=x===void 0?y.size:x<l?x+1:0;if(!y.has(w))return g(y,w);if(y.size<a){for(;y.has(w);)w=Math.floor(Math.random()*l);return g(y,w)}if(y.size>i)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;y.has(w);)w=Math.floor(Math.random()*i);return g(y,w)}},u=new WeakMap,h=s(u),f=c(h,u),m=r(f);n.addUniqueNumber=m,n.generateUniqueNumber=f})});jH(NH());var Wl=(typeof window>"u"?"undefined":typeof window)=="object",oo={setTimeout:Wl?setTimeout.bind(window):setTimeout,clearTimeout:Wl?clearTimeout.bind(window):clearTimeout,setInterval:Wl?setInterval.bind(window):setInterval,clearInterval:Wl?clearInterval.bind(window):clearInterval};function AH(t){oo.setTimeout=t.setTimeout,oo.clearTimeout=t.clearTimeout,oo.setInterval=t.setInterval,oo.clearInterval=t.clearInterval}var jh={},DH=class{constructor(t){Ft(this,"name");Ft(this,"closed",!1);Ft(this,"mc",new MessageChannel);this.name=t,jh[t]=jh[t]||[],jh[t].push(this),this.mc.port1.start(),this.mc.port2.start(),this.onStorage=this.onStorage.bind(this),window.addEventListener("storage",this.onStorage)}onStorage(t){if(t.storageArea!==window.localStorage||t.key.substring(0,this.name.length)!==this.name||t.newValue===null)return;let e=JSON.parse(t.newValue);this.mc.port2.postMessage(e)}postMessage(t){if(this.closed)throw new Error("InvalidStateError");let e=JSON.stringify(t),n=`${this.name}:${String(Date.now())}${String(Math.random())}`;window.localStorage.setItem(n,e),oo.setTimeout(()=>{window.localStorage.removeItem(n)},500),jh[this.name].forEach(r=>{r!==this&&r.mc.port2.postMessage(JSON.parse(e))})}close(){if(this.closed)return;this.closed=!0,this.mc.port1.close(),this.mc.port2.close(),window.removeEventListener("storage",this.onStorage);let t=jh[this.name].indexOf(this);jh[this.name].splice(t,1)}get onmessage(){return this.mc.port1.onmessage}set onmessage(t){this.mc.port1.onmessage=t}get onmessageerror(){return this.mc.port1.onmessageerror}set onmessageerror(t){this.mc.port1.onmessageerror=t}addEventListener(t,e){return this.mc.port1.addEventListener(t,e)}removeEventListener(t,e){return this.mc.port1.removeEventListener(t,e)}dispatchEvent(t){return this.mc.port1.dispatchEvent(t)}},PH=typeof window>"u"?void 0:typeof window.BroadcastChannel=="function"?window.BroadcastChannel:DH;function IH(t=0){return new Promise(e=>oo.setTimeout(e,t))}function xM(){return Math.random().toString(36).substring(2)}var OH=class{constructor(t,e){Ft(this,"options");Ft(this,"channel");Ft(this,"token",xM());Ft(this,"isLeader",!1);Ft(this,"isDead",!1);Ft(this,"isApplying",!1);Ft(this,"reApply",!1);Ft(this,"intervals",[]);Ft(this,"listeners",[]);Ft(this,"deferred");this.channel=t,this.options=e,this.apply=this.apply.bind(this),this.awaitLeadership=this.awaitLeadership.bind(this),this.sendAction=this.sendAction.bind(this)}async apply(){if(this.isLeader||this.isDead)return!1;if(this.isApplying)return this.reApply=!0,!1;this.isApplying=!0;let t=!1,e=n=>{let{token:r,action:s}=n.data;r!==this.token&&(s===0&&r>this.token&&(t=!0),s===1&&(t=!0))};this.channel.addEventListener("message",e);try{return this.sendAction(0),await IH(this.options.responseTime),this.channel.removeEventListener("message",e),this.isApplying=!1,t?this.reApply?this.apply():!1:(this.assumeLead(),!0)}catch{return!1}}awaitLeadership(){if(this.isLeader)return Promise.resolve();let t=!1,e=null;return new Promise(n=>{let r=()=>{if(t)return;t=!0;try{oo.clearInterval(e)}catch{}let i=this.intervals.indexOf(e);i>=0&&this.intervals.splice(i,1),this.channel.removeEventListener("message",s),n()};e=oo.setInterval(()=>{this.apply().then(()=>{this.isLeader&&r()})},this.options.fallbackInterval),this.intervals.push(e);let s=i=>{let{action:a}=i.data;a===2&&this.apply().then(()=>{this.isLeader&&r()})};this.channel.addEventListener("message",s)})}sendAction(t){this.channel.postMessage({action:t,token:this.token})}assumeLead(){this.isLeader=!0;let t=e=>{let{action:n}=e.data;n===0&&this.sendAction(1)};return this.channel.addEventListener("message",t),this.listeners.push(t),this.sendAction(1)}waitForLeadership(){return this.deferred?this.deferred:(this.deferred=this.awaitLeadership(),this.deferred)}close(){if(!this.isDead){this.isDead=!0,this.isLeader=!1,this.sendAction(2);try{this.listeners.forEach(t=>this.channel.removeEventListener("message",t)),this.intervals.forEach(t=>oo.clearInterval(t))}catch{}}}},MH=class{constructor(t){Ft(this,"channel");Ft(this,"options");Ft(this,"elector");Ft(this,"token",xM());Ft(this,"registry",new Map);Ft(this,"allIdle",!1);Ft(this,"isLastActive",!1);let{channelName:e}=t;if(this.options=t,this.channel=new PH(e),this.registry.set(this.token,1),t.leaderElection){let n={fallbackInterval:2e3,responseTime:100};this.elector=new OH(this.channel,n),this.elector.waitForLeadership()}this.channel.addEventListener("message",n=>{let{action:r,token:s,data:i}=n.data;switch(r){case 3:this.registry.set(s,2);break;case 4:this.registry.delete(s);break;case 5:this.idle(s);break;case 6:this.active(s);break;case 7:this.prompt(s);break;case 8:this.start(s);break;case 9:this.reset(s);break;case 10:this.activate(s);break;case 11:this.pause(s);break;case 12:this.resume(s);break;case 13:this.options.onMessage(i);break}}),this.send(3)}get isLeader(){if(!this.elector)throw new Error('❌ Leader election is not enabled. To Enable it set the "leaderElection" property to true.');return this.elector.isLeader}prompt(t=this.token){this.registry.set(t,0);let e=[...this.registry.values()].every(n=>n===0);t===this.token&&this.send(7),e&&this.options.onPrompt()}idle(t=this.token){this.registry.set(t,2);let e=[...this.registry.values()].every(n=>n===2);t===this.token&&this.send(5),!this.allIdle&&e&&(this.allIdle=!0,this.options.onIdle())}active(t=this.token){this.allIdle=!1,this.registry.set(t,1);let e=[...this.registry.values()].some(n=>n===1);t===this.token&&this.send(6),e&&this.options.onActive(),this.isLastActive=t===this.token}start(t=this.token){this.allIdle=!1,this.registry.set(t,1),t===this.token?this.send(8):this.options.start(!0),this.isLastActive=t===this.token}reset(t=this.token){this.allIdle=!1,this.registry.set(t,1),t===this.token?this.send(9):this.options.reset(!0),this.isLastActive=t===this.token}activate(t=this.token){this.allIdle=!1,this.registry.set(t,1),t===this.token?this.send(10):this.options.activate(!0),this.isLastActive=t===this.token}pause(t=this.token){t===this.token?this.send(11):this.options.pause(!0)}resume(t=this.token){t===this.token?this.send(12):this.options.resume(!0)}message(t){try{this.channel.postMessage({action:13,token:this.token,data:t})}catch{}}send(t){try{this.channel.postMessage({action:t,token:this.token})}catch{}}close(){this.options.leaderElection&&this.elector.close(),this.send(4),this.channel.close()}},RH=Wl?document:null,LH=["mousemove","keydown","wheel","DOMMouseScroll","mousewheel","mousedown","touchstart","touchmove","MSPointerDown","MSPointerMove","visibilitychange","focus"];function FH(t,e){let n;function r(...s){n&&clearTimeout(n),n=setTimeout(()=>{t(...s),n=null},e)}return r.cancel=function(){clearTimeout(n)},r}function U_(t,e){let n=0;return function(...r){let s=new Date().getTime();if(!(s-n<e))return n=s,t(...r)}}var is=()=>Date.now(),Nh=2147483647;function BH({timeout:t=1e3*60*20,promptTimeout:e=0,promptBeforeIdle:n=0,element:r=RH,events:s=LH,timers:i=void 0,immediateEvents:a=[],onPresenceChange:l=()=>{},onPrompt:c=()=>{},onIdle:u=()=>{},onActive:h=()=>{},onAction:f=()=>{},onMessage:m=()=>{},debounce:g=0,throttle:b=0,eventsThrottle:y=200,startOnMount:x=!0,startManually:w=!1,stopOnIdle:C=!1,crossTab:k=!1,name:A="idle-timer",syncTimers:N=0,leaderElection:P=!1,disabled:M=!1}={}){let L=_.useRef(is()),D=_.useRef(is()),S=_.useRef(null),z=_.useRef(null),O=_.useRef(0),U=_.useRef(0),j=_.useRef(0),V=_.useRef(0),K=_.useRef(!1),te=_.useRef(!1),J=_.useRef(!1),X=_.useRef(!0),Y=_.useRef(!1),F=_.useRef(null),H=_.useRef(null),de=_.useRef(t),ee=_.useRef(0);_.useEffect(()=>{if(e&&console.warn("⚠️ IdleTimer -- The `promptTimeout` property has been deprecated in favor of `promptBeforeIdle`. It will be removed in the next major release."),n&&e)throw new Error("❌ Both promptTimeout and promptBeforeIdle can not be set. The promptTimeout property will be deprecated in a future version.");if(t>=Nh)throw new Error(`❌ The value for the timeout property must fit in a 32 bit signed integer, ${Nh}.`);if(e>=Nh)throw new Error(`❌ The value for the promptTimeout property must fit in a 32 bit signed integer, ${Nh}.`);if(n>=Nh)throw new Error(`❌ The value for the promptBeforeIdle property must fit in a 32 bit signed integer, ${Nh}.`);if(n>=t)throw new Error(`❌ The value for the promptBeforeIdle property must be less than the timeout property, ${t}.`);if(n?(de.current=t-n,ee.current=n):(de.current=t,ee.current=e),!X.current){if(w||M)return;K.current&&(it.current(null,$t),H.current&&H.current.active()),lt()}},[t,e,n,w,M]);let fe=_.useRef(C);_.useEffect(()=>{fe.current=C},[C]);let ve=_.useRef(a),Ce=_.useRef(r),De=_.useRef([...new Set([...s,...a]).values()]),Ee=_.useRef(M);_.useEffect(()=>{Ee.current=M,!X.current&&(M?ct():w||lt())},[M]);let Be=_.useRef(l);_.useEffect(()=>{Be.current=l},[l]);let Ve=_.useRef(c);_.useEffect(()=>{Ve.current=c},[c]);let rt=_.useRef(u);_.useEffect(()=>{rt.current=u},[u]);let it=_.useRef(h);_.useEffect(()=>{it.current=h},[h]);let G=_.useRef(f);_.useEffect(()=>{G.current=f},[f]);let Ae=_.useRef(m);_.useEffect(()=>{Ae.current=m},[m]);let be=_.useMemo(()=>{let wt=(Jt,ir)=>G.current(Jt,ir);return g>0?FH(wt,g):b>0?U_(wt,b):wt},[b,g]),re=_.useRef();_.useEffect(()=>{k&&N&&(re.current=U_(()=>{H.current.active()},N))},[k,N]);let ne=()=>{F.current!==null&&(oo.clearTimeout(F.current),F.current=null)},ce=(wt,Jt=!0)=>{ne(),F.current=oo.setTimeout(ye,wt||de.current),Jt&&(z.current=is())},Te=wt=>{!te.current&&!K.current&&(Ve.current(wt,$t),Be.current({type:"active",prompted:!0},$t)),V.current=0,j.current=is(),te.current=!0,ce(ee.current,!1)},he=()=>{ne(),K.current||(rt.current(null,$t),Be.current({type:"idle"},$t)),K.current=!0,S.current=is(),fe.current?at():te.current&&(j.current=0,te.current=!1)},se=wt=>{ne(),(K.current||te.current)&&(it.current(wt,$t),Be.current({type:"active",prompted:!1},$t)),te.current=!1,j.current=0,K.current=!1,O.current+=is()-S.current,U.current+=is()-S.current,xe(),ce()},ye=wt=>{if(!K.current){be.cancel&&be.cancel();let Jt=is()-z.current;if(!(de.current+ee.current<Jt)&&ee.current>0&&!te.current){H.current?H.current.prompt():Te(wt);return}H.current?H.current.idle():he();return}H.current?H.current.active():se(wt)},Pe=wt=>{if(!x&&!z.current&&(z.current=is(),it.current(null,$t)),be(wt,$t),te.current)return;if(ne(),!K.current&&ve.current.includes(wt.type)){ye(wt);return}let Jt=is()-z.current;if(K.current&&!C||!K.current&&Jt>=de.current){ye(wt);return}J.current=!1,V.current=0,j.current=0,ce(),k&&N&&re.current()},Oe=_.useRef(Pe);_.useEffect(()=>{let wt=Y.current;wt&&at(),y>0?Oe.current=U_(Pe,y):Oe.current=Pe,wt&&xe()},[y,b,g,G,k,N]);let xe=()=>{Wl&&Ce.current&&(Y.current||(De.current.forEach(wt=>{Ce.current.addEventListener(wt,Oe.current,{capture:!0,passive:!0})}),Y.current=!0))},at=(wt=!1)=>{Wl&&Ce.current&&(Y.current||wt)&&(De.current.forEach(Jt=>{Ce.current.removeEventListener(Jt,Oe.current,{capture:!0})}),Y.current=!1)},lt=_.useCallback(wt=>Ee.current?!1:(ne(),xe(),K.current=!1,te.current=!1,J.current=!1,V.current=0,j.current=0,H.current&&!wt&&H.current.start(),ce(),!0),[F,K,Ee,de,H]),ze=_.useCallback(wt=>Ee.current?!1:(ne(),xe(),D.current=is(),O.current+=is()-S.current,U.current+=is()-S.current,O.current=0,K.current=!1,te.current=!1,J.current=!1,V.current=0,j.current=0,H.current&&!wt&&H.current.reset(),w||ce(),!0),[F,K,de,w,Ee,H]),Le=_.useCallback(wt=>Ee.current?!1:(ne(),xe(),(K.current||te.current)&&se(),K.current=!1,te.current=!1,J.current=!1,V.current=0,j.current=0,D.current=is(),H.current&&!wt&&H.current.activate(),ce(),!0),[F,K,te,Ee,de,H]),ct=_.useCallback((wt=!1)=>Ee.current||J.current?!1:(V.current=Ye(),J.current=!0,at(),ne(),H.current&&!wt&&H.current.pause(),!0),[F,Ee,H]),tt=_.useCallback((wt=!1)=>Ee.current||!J.current?!1:(J.current=!1,te.current||xe(),K.current||ce(V.current),j.current&&(j.current=is()),H.current&&!wt&&H.current.resume(),!0),[F,de,Ee,V,H]),He=_.useCallback((wt,Jt)=>(H.current?(Jt&&Ae.current(wt,$t),H.current.message(wt)):Jt&&Ae.current(wt,$t),!0),[m]),gt=_.useCallback(()=>K.current,[K]),ie=_.useCallback(()=>te.current,[te]),Ie=_.useCallback(()=>H.current?H.current.isLeader:null,[H]),We=_.useCallback(()=>H.current?H.current.isLastActive:null,[H]),yt=_.useCallback(()=>H.current?H.current.token:null,[H]),Ye=_.useCallback(()=>{if(J.current)return V.current;let wt=V.current?V.current:ee.current+de.current,Jt=z.current?is()-z.current:0,ir=Math.floor(wt-Jt);return ir<0?0:Math.abs(ir)},[de,ee,te,V,z]),Ze=_.useCallback(()=>Math.round(is()-D.current),[D]),Z=_.useCallback(()=>Math.round(is()-L.current),[L]),ae=_.useCallback(()=>S.current?new Date(S.current):null,[S]),me=_.useCallback(()=>z.current?new Date(z.current):null,[z]),oe=_.useCallback(()=>K.current?Math.round(is()-S.current+O.current):Math.round(O.current),[S,O]),Ne=_.useCallback(()=>K.current?Math.round(is()-S.current+U.current):Math.round(U.current),[S,U]),xt=_.useCallback(()=>{let wt=Math.round(Ze()-oe());return wt>=0?wt:0},[S,O]),At=_.useCallback(()=>{let wt=Math.round(Z()-Ne());return wt>=0?wt:0},[S,O]);_.useEffect(()=>{if(g>0&&b>0)throw new Error("❌ onAction can either be throttled or debounced, not both.");i&&AH(i);let wt=()=>{H.current&&H.current.close(),be.cancel&&be.cancel(),ne(),at(!0)};return Wl&&window.addEventListener("beforeunload",wt),()=>{Wl&&window.removeEventListener("beforeunload",wt),H.current&&H.current.close(),be.cancel&&be.cancel(),ne(),at(!0)}},[]),_.useEffect(()=>{H.current&&H.current.close(),k?H.current=new MH({channelName:A,leaderElection:P,onPrompt:()=>{Te()},onIdle:()=>{he()},onActive:()=>{se()},onMessage:wt=>{Ae.current(wt,$t)},start:lt,reset:ze,activate:Le,pause:ct,resume:tt}):H.current=null},[k,A,P,Ve,rt,it,Ae,lt,ze,ct,tt]),_.useEffect(()=>{X.current||(ne(),at(!0)),!(w||M)&&(x?lt():xe())},[w,x,M,X]),_.useEffect(()=>{if(!X.current){let wt=[...new Set([...s,...a]).values()];if(at(),De.current=wt,Ce.current=r,ve.current=a,w||M)return;x?lt():xe()}},[r,JSON.stringify(s),JSON.stringify(a),X,M,w,x]),_.useEffect(()=>{X.current&&(X.current=!1)},[X]);let $t={message:He,start:lt,reset:ze,activate:Le,pause:ct,resume:tt,isIdle:gt,isPrompted:ie,isLeader:Ie,isLastActiveTab:We,getTabId:yt,getRemainingTime:Ye,getElapsedTime:Ze,getTotalElapsedTime:Z,getLastIdleTime:ae,getLastActiveTime:me,getIdleTime:oe,getTotalIdleTime:Ne,getActiveTime:xt,getTotalActiveTime:At,setOnPresenceChange:wt=>{l=wt,Be.current=wt},setOnPrompt:wt=>{c=wt,Ve.current=wt},setOnIdle:wt=>{u=wt,rt.current=wt},setOnActive:wt=>{h=wt,it.current=wt},setOnAction:wt=>{f=wt,G.current=wt},setOnMessage:wt=>{m=wt,Ae.current=wt}};return $t}var $H=_.createContext(null);$H.Consumer;/*! js-cookie v3.0.5 | MIT */function Hy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}var zH={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function GS(t,e){function n(s,i,a){if(!(typeof document>"u")){a=Hy({},e,a),typeof a.expires=="number"&&(a.expires=new Date(Date.now()+a.expires*864e5)),a.expires&&(a.expires=a.expires.toUTCString()),s=encodeURIComponent(s).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var l="";for(var c in a)a[c]&&(l+="; "+c,a[c]!==!0&&(l+="="+a[c].split(";")[0]));return document.cookie=s+"="+t.write(i,s)+l}}function r(s){if(!(typeof document>"u"||arguments.length&&!s)){for(var i=document.cookie?document.cookie.split("; "):[],a={},l=0;l<i.length;l++){var c=i[l].split("="),u=c.slice(1).join("=");try{var h=decodeURIComponent(c[0]);if(a[h]=t.read(u,h),s===h)break}catch{}}return s?a[s]:a}}return Object.create({set:n,get:r,remove:function(s,i){n(s,"",Hy({},i,{expires:-1}))},withAttributes:function(s){return GS(this.converter,Hy({},this.attributes,s))},withConverter:function(s){return GS(Hy({},this.converter,s),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var xn=GS(zH,{path:"/"});const Ug=_.createContext(),Hg=_.createContext();function vM(t,e){return function(){return t.apply(e,arguments)}}const{toString:UH}=Object.prototype,{getPrototypeOf:GT}=Object,jv=(t=>e=>{const n=UH.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),yo=t=>(t=t.toLowerCase(),e=>jv(e)===t),Nv=t=>e=>typeof e===t,{isArray:Gf}=Array,tg=Nv("undefined");function HH(t){return t!==null&&!tg(t)&&t.constructor!==null&&!tg(t.constructor)&&Qi(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const wM=yo("ArrayBuffer");function WH(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&wM(t.buffer),e}const VH=Nv("string"),Qi=Nv("function"),_M=Nv("number"),Av=t=>t!==null&&typeof t=="object",qH=t=>t===!0||t===!1,Nb=t=>{if(jv(t)!=="object")return!1;const e=GT(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},YH=yo("Date"),GH=yo("File"),KH=yo("Blob"),XH=yo("FileList"),QH=t=>Av(t)&&Qi(t.pipe),ZH=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Qi(t.append)&&((e=jv(t))==="formdata"||e==="object"&&Qi(t.toString)&&t.toString()==="[object FormData]"))},JH=yo("URLSearchParams"),[eW,tW,nW,rW]=["ReadableStream","Request","Response","Headers"].map(yo),sW=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Wg(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),Gf(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),a=i.length;let l;for(r=0;r<a;r++)l=i[r],e.call(null,t[l],l,t)}}function SM(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const dd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,CM=t=>!tg(t)&&t!==dd;function KS(){const{caseless:t}=CM(this)&&this||{},e={},n=(r,s)=>{const i=t&&SM(e,s)||s;Nb(e[i])&&Nb(r)?e[i]=KS(e[i],r):Nb(r)?e[i]=KS({},r):Gf(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Wg(arguments[r],n);return e}const iW=(t,e,n,{allOwnKeys:r}={})=>(Wg(e,(s,i)=>{n&&Qi(s)?t[i]=vM(s,n):t[i]=s},{allOwnKeys:r}),t),aW=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),oW=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},lW=(t,e,n,r)=>{let s,i,a;const l={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)a=s[i],(!r||r(a,t,e))&&!l[a]&&(e[a]=t[a],l[a]=!0);t=n!==!1&&GT(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},cW=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},uW=t=>{if(!t)return null;if(Gf(t))return t;let e=t.length;if(!_M(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},dW=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&GT(Uint8Array)),hW=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},fW=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},pW=yo("HTMLFormElement"),mW=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),o3=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),gW=yo("RegExp"),TM=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Wg(n,(s,i)=>{let a;(a=e(s,i,t))!==!1&&(r[i]=a||s)}),Object.defineProperties(t,r)},yW=t=>{TM(t,(e,n)=>{if(Qi(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Qi(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},bW=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Gf(t)?r(t):r(String(t).split(e)),n},xW=()=>{},vW=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function wW(t){return!!(t&&Qi(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const _W=t=>{const e=new Array(10),n=(r,s)=>{if(Av(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=Gf(r)?[]:{};return Wg(r,(a,l)=>{const c=n(a,s+1);!tg(c)&&(i[l]=c)}),e[s]=void 0,i}}return r};return n(t,0)},SW=yo("AsyncFunction"),CW=t=>t&&(Av(t)||Qi(t))&&Qi(t.then)&&Qi(t.catch),kM=((t,e)=>t?setImmediate:e?((n,r)=>(dd.addEventListener("message",({source:s,data:i})=>{s===dd&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),dd.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Qi(dd.postMessage)),TW=typeof queueMicrotask<"u"?queueMicrotask.bind(dd):typeof process<"u"&&process.nextTick||kM,dt={isArray:Gf,isArrayBuffer:wM,isBuffer:HH,isFormData:ZH,isArrayBufferView:WH,isString:VH,isNumber:_M,isBoolean:qH,isObject:Av,isPlainObject:Nb,isReadableStream:eW,isRequest:tW,isResponse:nW,isHeaders:rW,isUndefined:tg,isDate:YH,isFile:GH,isBlob:KH,isRegExp:gW,isFunction:Qi,isStream:QH,isURLSearchParams:JH,isTypedArray:dW,isFileList:XH,forEach:Wg,merge:KS,extend:iW,trim:sW,stripBOM:aW,inherits:oW,toFlatObject:lW,kindOf:jv,kindOfTest:yo,endsWith:cW,toArray:uW,forEachEntry:hW,matchAll:fW,isHTMLForm:pW,hasOwnProperty:o3,hasOwnProp:o3,reduceDescriptors:TM,freezeMethods:yW,toObjectSet:bW,toCamelCase:mW,noop:xW,toFiniteNumber:vW,findKey:SM,global:dd,isContextDefined:CM,isSpecCompliantForm:wW,toJSONObject:_W,isAsyncFn:SW,isThenable:CW,setImmediate:kM,asap:TW};function Sn(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}dt.inherits(Sn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:dt.toJSONObject(this.config),code:this.code,status:this.status}}});const EM=Sn.prototype,jM={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{jM[t]={value:t}});Object.defineProperties(Sn,jM);Object.defineProperty(EM,"isAxiosError",{value:!0});Sn.from=(t,e,n,r,s,i)=>{const a=Object.create(EM);return dt.toFlatObject(t,a,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),Sn.call(a,t.message,e,n,r,s),a.cause=t,a.name=t.name,i&&Object.assign(a,i),a};const kW=null;function XS(t){return dt.isPlainObject(t)||dt.isArray(t)}function NM(t){return dt.endsWith(t,"[]")?t.slice(0,-2):t}function l3(t,e,n){return t?t.concat(e).map(function(s,i){return s=NM(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function EW(t){return dt.isArray(t)&&!t.some(XS)}const jW=dt.toFlatObject(dt,{},null,function(e){return/^is[A-Z]/.test(e)});function Dv(t,e,n){if(!dt.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=dt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,x){return!dt.isUndefined(x[y])});const r=n.metaTokens,s=n.visitor||h,i=n.dots,a=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&dt.isSpecCompliantForm(e);if(!dt.isFunction(s))throw new TypeError("visitor must be a function");function u(b){if(b===null)return"";if(dt.isDate(b))return b.toISOString();if(!c&&dt.isBlob(b))throw new Sn("Blob is not supported. Use a Buffer instead.");return dt.isArrayBuffer(b)||dt.isTypedArray(b)?c&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function h(b,y,x){let w=b;if(b&&!x&&typeof b=="object"){if(dt.endsWith(y,"{}"))y=r?y:y.slice(0,-2),b=JSON.stringify(b);else if(dt.isArray(b)&&EW(b)||(dt.isFileList(b)||dt.endsWith(y,"[]"))&&(w=dt.toArray(b)))return y=NM(y),w.forEach(function(k,A){!(dt.isUndefined(k)||k===null)&&e.append(a===!0?l3([y],A,i):a===null?y:y+"[]",u(k))}),!1}return XS(b)?!0:(e.append(l3(x,y,i),u(b)),!1)}const f=[],m=Object.assign(jW,{defaultVisitor:h,convertValue:u,isVisitable:XS});function g(b,y){if(!dt.isUndefined(b)){if(f.indexOf(b)!==-1)throw Error("Circular reference detected in "+y.join("."));f.push(b),dt.forEach(b,function(w,C){(!(dt.isUndefined(w)||w===null)&&s.call(e,w,dt.isString(C)?C.trim():C,y,m))===!0&&g(w,y?y.concat(C):[C])}),f.pop()}}if(!dt.isObject(t))throw new TypeError("data must be an object");return g(t),e}function c3(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function KT(t,e){this._pairs=[],t&&Dv(t,this,e)}const AM=KT.prototype;AM.append=function(e,n){this._pairs.push([e,n])};AM.toString=function(e){const n=e?function(r){return e.call(this,r,c3)}:c3;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function NW(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function DM(t,e,n){if(!e)return t;const r=n&&n.encode||NW;dt.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(e,n):i=dt.isURLSearchParams(e)?e.toString():new KT(e,n).toString(r),i){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class u3{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){dt.forEach(this.handlers,function(r){r!==null&&e(r)})}}const PM={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},AW=typeof URLSearchParams<"u"?URLSearchParams:KT,DW=typeof FormData<"u"?FormData:null,PW=typeof Blob<"u"?Blob:null,IW={isBrowser:!0,classes:{URLSearchParams:AW,FormData:DW,Blob:PW},protocols:["http","https","file","blob","url","data"]},XT=typeof window<"u"&&typeof document<"u",QS=typeof navigator=="object"&&navigator||void 0,OW=XT&&(!QS||["ReactNative","NativeScript","NS"].indexOf(QS.product)<0),MW=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",RW=XT&&window.location.href||"http://localhost",LW=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:XT,hasStandardBrowserEnv:OW,hasStandardBrowserWebWorkerEnv:MW,navigator:QS,origin:RW},Symbol.toStringTag,{value:"Module"})),Hs={...LW,...IW};function FW(t,e){return Dv(t,new Hs.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return Hs.isNode&&dt.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function BW(t){return dt.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function $W(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function IM(t){function e(n,r,s,i){let a=n[i++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),c=i>=n.length;return a=!a&&dt.isArray(s)?s.length:a,c?(dt.hasOwnProp(s,a)?s[a]=[s[a],r]:s[a]=r,!l):((!s[a]||!dt.isObject(s[a]))&&(s[a]=[]),e(n,r,s[a],i)&&dt.isArray(s[a])&&(s[a]=$W(s[a])),!l)}if(dt.isFormData(t)&&dt.isFunction(t.entries)){const n={};return dt.forEachEntry(t,(r,s)=>{e(BW(r),s,n,0)}),n}return null}function zW(t,e,n){if(dt.isString(t))try{return(e||JSON.parse)(t),dt.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Vg={transitional:PM,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=dt.isObject(e);if(i&&dt.isHTMLForm(e)&&(e=new FormData(e)),dt.isFormData(e))return s?JSON.stringify(IM(e)):e;if(dt.isArrayBuffer(e)||dt.isBuffer(e)||dt.isStream(e)||dt.isFile(e)||dt.isBlob(e)||dt.isReadableStream(e))return e;if(dt.isArrayBufferView(e))return e.buffer;if(dt.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return FW(e,this.formSerializer).toString();if((l=dt.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Dv(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),zW(e)):e}],transformResponse:[function(e){const n=this.transitional||Vg.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(dt.isResponse(e)||dt.isReadableStream(e))return e;if(e&&dt.isString(e)&&(r&&!this.responseType||s)){const a=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(l){if(a)throw l.name==="SyntaxError"?Sn.from(l,Sn.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Hs.classes.FormData,Blob:Hs.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};dt.forEach(["delete","get","head","post","put","patch"],t=>{Vg.headers[t]={}});const UW=dt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),HW=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(a){s=a.indexOf(":"),n=a.substring(0,s).trim().toLowerCase(),r=a.substring(s+1).trim(),!(!n||e[n]&&UW[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},d3=Symbol("internals");function em(t){return t&&String(t).trim().toLowerCase()}function Ab(t){return t===!1||t==null?t:dt.isArray(t)?t.map(Ab):String(t)}function WW(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const VW=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function H_(t,e,n,r,s){if(dt.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!dt.isString(e)){if(dt.isString(r))return e.indexOf(r)!==-1;if(dt.isRegExp(r))return r.test(e)}}function qW(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function YW(t,e){const n=dt.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,a){return this[r].call(this,e,s,i,a)},configurable:!0})})}let Ii=class{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(l,c,u){const h=em(c);if(!h)throw new Error("header name must be a non-empty string");const f=dt.findKey(s,h);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||c]=Ab(l))}const a=(l,c)=>dt.forEach(l,(u,h)=>i(u,h,c));if(dt.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(dt.isString(e)&&(e=e.trim())&&!VW(e))a(HW(e),n);else if(dt.isHeaders(e))for(const[l,c]of e.entries())i(c,l,r);else e!=null&&i(n,e,r);return this}get(e,n){if(e=em(e),e){const r=dt.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return WW(s);if(dt.isFunction(n))return n.call(this,s,r);if(dt.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=em(e),e){const r=dt.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||H_(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(a){if(a=em(a),a){const l=dt.findKey(r,a);l&&(!n||H_(r,r[l],l,n))&&(delete r[l],s=!0)}}return dt.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||H_(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return dt.forEach(this,(s,i)=>{const a=dt.findKey(r,i);if(a){n[a]=Ab(s),delete n[i];return}const l=e?qW(i):String(i).trim();l!==i&&delete n[i],n[l]=Ab(s),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return dt.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&dt.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[d3]=this[d3]={accessors:{}}).accessors,s=this.prototype;function i(a){const l=em(a);r[l]||(YW(s,a),r[l]=!0)}return dt.isArray(e)?e.forEach(i):i(e),this}};Ii.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);dt.reduceDescriptors(Ii.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});dt.freezeMethods(Ii);function W_(t,e){const n=this||Vg,r=e||n,s=Ii.from(r.headers);let i=r.data;return dt.forEach(t,function(l){i=l.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function OM(t){return!!(t&&t.__CANCEL__)}function Kf(t,e,n){Sn.call(this,t??"canceled",Sn.ERR_CANCELED,e,n),this.name="CanceledError"}dt.inherits(Kf,Sn,{__CANCEL__:!0});function MM(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Sn("Request failed with status code "+n.status,[Sn.ERR_BAD_REQUEST,Sn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function GW(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function KW(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,a;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),h=r[i];a||(a=u),n[s]=c,r[s]=u;let f=i,m=0;for(;f!==s;)m+=n[f++],f=f%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),u-a<e)return;const g=h&&u-h;return g?Math.round(m*1e3/g):void 0}}function XW(t,e){let n=0,r=1e3/e,s,i;const a=(u,h=Date.now())=>{n=h,s=null,i&&(clearTimeout(i),i=null),t.apply(null,u)};return[(...u)=>{const h=Date.now(),f=h-n;f>=r?a(u,h):(s=u,i||(i=setTimeout(()=>{i=null,a(s)},r-f)))},()=>s&&a(s)]}const sx=(t,e,n=3)=>{let r=0;const s=KW(50,250);return XW(i=>{const a=i.loaded,l=i.lengthComputable?i.total:void 0,c=a-r,u=s(c),h=a<=l;r=a;const f={loaded:a,total:l,progress:l?a/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&h?(l-a)/u:void 0,event:i,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(f)},n)},h3=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},f3=t=>(...e)=>dt.asap(()=>t(...e)),QW=Hs.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Hs.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Hs.origin),Hs.navigator&&/(msie|trident)/i.test(Hs.navigator.userAgent)):()=>!0,ZW=Hs.hasStandardBrowserEnv?{write(t,e,n,r,s,i){const a=[t+"="+encodeURIComponent(e)];dt.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),dt.isString(r)&&a.push("path="+r),dt.isString(s)&&a.push("domain="+s),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function JW(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function eV(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function RM(t,e,n){let r=!JW(e);return t&&(r||n==!1)?eV(t,e):e}const p3=t=>t instanceof Ii?{...t}:t;function Ad(t,e){e=e||{};const n={};function r(u,h,f,m){return dt.isPlainObject(u)&&dt.isPlainObject(h)?dt.merge.call({caseless:m},u,h):dt.isPlainObject(h)?dt.merge({},h):dt.isArray(h)?h.slice():h}function s(u,h,f,m){if(dt.isUndefined(h)){if(!dt.isUndefined(u))return r(void 0,u,f,m)}else return r(u,h,f,m)}function i(u,h){if(!dt.isUndefined(h))return r(void 0,h)}function a(u,h){if(dt.isUndefined(h)){if(!dt.isUndefined(u))return r(void 0,u)}else return r(void 0,h)}function l(u,h,f){if(f in e)return r(u,h);if(f in t)return r(void 0,u)}const c={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(u,h,f)=>s(p3(u),p3(h),f,!0)};return dt.forEach(Object.keys(Object.assign({},t,e)),function(h){const f=c[h]||s,m=f(t[h],e[h],h);dt.isUndefined(m)&&f!==l||(n[h]=m)}),n}const LM=t=>{const e=Ad({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:a,auth:l}=e;e.headers=a=Ii.from(a),e.url=DM(RM(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(dt.isFormData(n)){if(Hs.hasStandardBrowserEnv||Hs.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((c=a.getContentType())!==!1){const[u,...h]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];a.setContentType([u||"multipart/form-data",...h].join("; "))}}if(Hs.hasStandardBrowserEnv&&(r&&dt.isFunction(r)&&(r=r(e)),r||r!==!1&&QW(e.url))){const u=s&&i&&ZW.read(i);u&&a.set(s,u)}return e},tV=typeof XMLHttpRequest<"u",nV=tV&&function(t){return new Promise(function(n,r){const s=LM(t);let i=s.data;const a=Ii.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,h,f,m,g,b;function y(){g&&g(),b&&b(),s.cancelToken&&s.cancelToken.unsubscribe(h),s.signal&&s.signal.removeEventListener("abort",h)}let x=new XMLHttpRequest;x.open(s.method.toUpperCase(),s.url,!0),x.timeout=s.timeout;function w(){if(!x)return;const k=Ii.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),N={data:!l||l==="text"||l==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:k,config:t,request:x};MM(function(M){n(M),y()},function(M){r(M),y()},N),x=null}"onloadend"in x?x.onloadend=w:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(w)},x.onabort=function(){x&&(r(new Sn("Request aborted",Sn.ECONNABORTED,t,x)),x=null)},x.onerror=function(){r(new Sn("Network Error",Sn.ERR_NETWORK,t,x)),x=null},x.ontimeout=function(){let A=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const N=s.transitional||PM;s.timeoutErrorMessage&&(A=s.timeoutErrorMessage),r(new Sn(A,N.clarifyTimeoutError?Sn.ETIMEDOUT:Sn.ECONNABORTED,t,x)),x=null},i===void 0&&a.setContentType(null),"setRequestHeader"in x&&dt.forEach(a.toJSON(),function(A,N){x.setRequestHeader(N,A)}),dt.isUndefined(s.withCredentials)||(x.withCredentials=!!s.withCredentials),l&&l!=="json"&&(x.responseType=s.responseType),u&&([m,b]=sx(u,!0),x.addEventListener("progress",m)),c&&x.upload&&([f,g]=sx(c),x.upload.addEventListener("progress",f),x.upload.addEventListener("loadend",g)),(s.cancelToken||s.signal)&&(h=k=>{x&&(r(!k||k.type?new Kf(null,t,x):k),x.abort(),x=null)},s.cancelToken&&s.cancelToken.subscribe(h),s.signal&&(s.signal.aborted?h():s.signal.addEventListener("abort",h)));const C=GW(s.url);if(C&&Hs.protocols.indexOf(C)===-1){r(new Sn("Unsupported protocol "+C+":",Sn.ERR_BAD_REQUEST,t));return}x.send(i||null)})},rV=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const i=function(u){if(!s){s=!0,l();const h=u instanceof Error?u:this.reason;r.abort(h instanceof Sn?h:new Kf(h instanceof Error?h.message:h))}};let a=e&&setTimeout(()=>{a=null,i(new Sn(`timeout ${e} of ms exceeded`,Sn.ETIMEDOUT))},e);const l=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),t=null)};t.forEach(u=>u.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>dt.asap(l),c}},sV=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},iV=async function*(t,e){for await(const n of aV(t))yield*sV(n,e)},aV=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},m3=(t,e,n,r)=>{const s=iV(t,e);let i=0,a,l=c=>{a||(a=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:h}=await s.next();if(u){l(),c.close();return}let f=h.byteLength;if(n){let m=i+=f;n(m)}c.enqueue(new Uint8Array(h))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},Pv=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",FM=Pv&&typeof ReadableStream=="function",oV=Pv&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),BM=(t,...e)=>{try{return!!t(...e)}catch{return!1}},lV=FM&&BM(()=>{let t=!1;const e=new Request(Hs.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),g3=64*1024,ZS=FM&&BM(()=>dt.isReadableStream(new Response("").body)),ix={stream:ZS&&(t=>t.body)};Pv&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!ix[e]&&(ix[e]=dt.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Sn(`Response type '${e}' is not supported`,Sn.ERR_NOT_SUPPORT,r)})})})(new Response);const cV=async t=>{if(t==null)return 0;if(dt.isBlob(t))return t.size;if(dt.isSpecCompliantForm(t))return(await new Request(Hs.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(dt.isArrayBufferView(t)||dt.isArrayBuffer(t))return t.byteLength;if(dt.isURLSearchParams(t)&&(t=t+""),dt.isString(t))return(await oV(t)).byteLength},uV=async(t,e)=>{const n=dt.toFiniteNumber(t.getContentLength());return n??cV(e)},dV=Pv&&(async t=>{let{url:e,method:n,data:r,signal:s,cancelToken:i,timeout:a,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:h,withCredentials:f="same-origin",fetchOptions:m}=LM(t);u=u?(u+"").toLowerCase():"text";let g=rV([s,i&&i.toAbortSignal()],a),b;const y=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let x;try{if(c&&lV&&n!=="get"&&n!=="head"&&(x=await uV(h,r))!==0){let N=new Request(e,{method:"POST",body:r,duplex:"half"}),P;if(dt.isFormData(r)&&(P=N.headers.get("content-type"))&&h.setContentType(P),N.body){const[M,L]=h3(x,sx(f3(c)));r=m3(N.body,g3,M,L)}}dt.isString(f)||(f=f?"include":"omit");const w="credentials"in Request.prototype;b=new Request(e,{...m,signal:g,method:n.toUpperCase(),headers:h.normalize().toJSON(),body:r,duplex:"half",credentials:w?f:void 0});let C=await fetch(b);const k=ZS&&(u==="stream"||u==="response");if(ZS&&(l||k&&y)){const N={};["status","statusText","headers"].forEach(D=>{N[D]=C[D]});const P=dt.toFiniteNumber(C.headers.get("content-length")),[M,L]=l&&h3(P,sx(f3(l),!0))||[];C=new Response(m3(C.body,g3,M,()=>{L&&L(),y&&y()}),N)}u=u||"text";let A=await ix[dt.findKey(ix,u)||"text"](C,t);return!k&&y&&y(),await new Promise((N,P)=>{MM(N,P,{data:A,headers:Ii.from(C.headers),status:C.status,statusText:C.statusText,config:t,request:b})})}catch(w){throw y&&y(),w&&w.name==="TypeError"&&/fetch/i.test(w.message)?Object.assign(new Sn("Network Error",Sn.ERR_NETWORK,t,b),{cause:w.cause||w}):Sn.from(w,w&&w.code,t,b)}}),JS={http:kW,xhr:nV,fetch:dV};dt.forEach(JS,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const y3=t=>`- ${t}`,hV=t=>dt.isFunction(t)||t===null||t===!1,$M={getAdapter:t=>{t=dt.isArray(t)?t:[t];const{length:e}=t;let n,r;const s={};for(let i=0;i<e;i++){n=t[i];let a;if(r=n,!hV(n)&&(r=JS[(a=String(n)).toLowerCase()],r===void 0))throw new Sn(`Unknown adapter '${a}'`);if(r)break;s[a||"#"+i]=r}if(!r){const i=Object.entries(s).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=e?i.length>1?`since :
`+i.map(y3).join(`
`):" "+y3(i[0]):"as no adapter specified";throw new Sn("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:JS};function V_(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Kf(null,t)}function b3(t){return V_(t),t.headers=Ii.from(t.headers),t.data=W_.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),$M.getAdapter(t.adapter||Vg.adapter)(t).then(function(r){return V_(t),r.data=W_.call(t,t.transformResponse,r),r.headers=Ii.from(r.headers),r},function(r){return OM(r)||(V_(t),r&&r.response&&(r.response.data=W_.call(t,t.transformResponse,r.response),r.response.headers=Ii.from(r.response.headers))),Promise.reject(r)})}const zM="1.8.4",Iv={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Iv[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const x3={};Iv.transitional=function(e,n,r){function s(i,a){return"[Axios v"+zM+"] Transitional option '"+i+"'"+a+(r?". "+r:"")}return(i,a,l)=>{if(e===!1)throw new Sn(s(a," has been removed"+(n?" in "+n:"")),Sn.ERR_DEPRECATED);return n&&!x3[a]&&(x3[a]=!0,console.warn(s(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,a,l):!0}};Iv.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function fV(t,e,n){if(typeof t!="object")throw new Sn("options must be an object",Sn.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],a=e[i];if(a){const l=t[i],c=l===void 0||a(l,i,t);if(c!==!0)throw new Sn("option "+i+" must be "+c,Sn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Sn("Unknown option "+i,Sn.ERR_BAD_OPTION)}}const Db={assertOptions:fV,validators:Iv},Bo=Db.validators;let xd=class{constructor(e){this.defaults=e,this.interceptors={request:new u3,response:new u3}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ad(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Db.assertOptions(r,{silentJSONParsing:Bo.transitional(Bo.boolean),forcedJSONParsing:Bo.transitional(Bo.boolean),clarifyTimeoutError:Bo.transitional(Bo.boolean)},!1),s!=null&&(dt.isFunction(s)?n.paramsSerializer={serialize:s}:Db.assertOptions(s,{encode:Bo.function,serialize:Bo.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Db.assertOptions(n,{baseUrl:Bo.spelling("baseURL"),withXsrfToken:Bo.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=i&&dt.merge(i.common,i[n.method]);i&&dt.forEach(["delete","get","head","post","put","patch","common"],b=>{delete i[b]}),n.headers=Ii.concat(a,i);const l=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(c=c&&y.synchronous,l.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let h,f=0,m;if(!c){const b=[b3.bind(this),void 0];for(b.unshift.apply(b,l),b.push.apply(b,u),m=b.length,h=Promise.resolve(n);f<m;)h=h.then(b[f++],b[f++]);return h}m=l.length;let g=n;for(f=0;f<m;){const b=l[f++],y=l[f++];try{g=b(g)}catch(x){y.call(this,x);break}}try{h=b3.call(this,g)}catch(b){return Promise.reject(b)}for(f=0,m=u.length;f<m;)h=h.then(u[f++],u[f++]);return h}getUri(e){e=Ad(this.defaults,e);const n=RM(e.baseURL,e.url,e.allowAbsoluteUrls);return DM(n,e.params,e.paramsSerializer)}};dt.forEach(["delete","get","head","options"],function(e){xd.prototype[e]=function(n,r){return this.request(Ad(r||{},{method:e,url:n,data:(r||{}).data}))}});dt.forEach(["post","put","patch"],function(e){function n(r){return function(i,a,l){return this.request(Ad(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}xd.prototype[e]=n(),xd.prototype[e+"Form"]=n(!0)});let pV=class UM{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const a=new Promise(l=>{r.subscribe(l),i=l}).then(s);return a.cancel=function(){r.unsubscribe(i)},a},e(function(i,a,l){r.reason||(r.reason=new Kf(i,a,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new UM(function(s){e=s}),cancel:e}}};function mV(t){return function(n){return t.apply(null,n)}}function gV(t){return dt.isObject(t)&&t.isAxiosError===!0}const eC={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(eC).forEach(([t,e])=>{eC[e]=t});function HM(t){const e=new xd(t),n=vM(xd.prototype.request,e);return dt.extend(n,xd.prototype,e,{allOwnKeys:!0}),dt.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return HM(Ad(t,s))},n}const _r=HM(Vg);_r.Axios=xd;_r.CanceledError=Kf;_r.CancelToken=pV;_r.isCancel=OM;_r.VERSION=zM;_r.toFormData=Dv;_r.AxiosError=Sn;_r.Cancel=_r.CanceledError;_r.all=function(e){return Promise.all(e)};_r.spread=mV;_r.isAxiosError=gV;_r.mergeConfig=Ad;_r.AxiosHeaders=Ii;_r.formToJSON=t=>IM(dt.isHTMLForm(t)?new FormData(t):t);_r.getAdapter=$M.getAdapter;_r.HttpStatusCode=eC;_r.default=_r;const{Axios:Kke,AxiosError:Xke,CanceledError:Qke,isCancel:Zke,CancelToken:Jke,VERSION:eEe,all:tEe,Cancel:nEe,isAxiosError:rEe,spread:sEe,toFormData:iEe,AxiosHeaders:aEe,HttpStatusCode:oEe,formToJSON:lEe,getAdapter:cEe,mergeConfig:uEe}=_r;function tC(t){this.message=t}tC.prototype=new Error,tC.prototype.name="InvalidCharacterError";var v3=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(t){var e=String(t).replace(/=+$/,"");if(e.length%4==1)throw new tC("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,s=0,i=0,a="";r=e.charAt(i++);~r&&(n=s%4?64*n+r:r,s++%4)?a+=String.fromCharCode(255&n>>(-2*s&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return a};function yV(t){var e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw"Illegal base64url string!"}try{return function(n){return decodeURIComponent(v3(n).replace(/(.)/g,function(r,s){var i=s.charCodeAt(0).toString(16).toUpperCase();return i.length<2&&(i="0"+i),"%"+i}))}(e)}catch{return v3(e)}}function ax(t){this.message=t}function QT(t,e){if(typeof t!="string")throw new ax("Invalid token specified");var n=(e=e||{}).header===!0?0:1;try{return JSON.parse(yV(t.split(".")[n]))}catch(r){throw new ax("Invalid token specified: "+r.message)}}ax.prototype=new Error,ax.prototype.name="InvalidTokenError";function zt(){let t=xn.get("access_token"),e=xn.get("refresh_token");if(t&&e)return QT(e)}const Zi="https://api.bonjourclasse.online/api/v1/",ui="https://api.bonjourclasse.online";var aM;(aM=zt())==null||aM.user_id;const bV={},w3=t=>{let e;const n=new Set,r=(h,f)=>{const m=typeof h=="function"?h(e):h;if(!Object.is(m,e)){const g=e;e=f??(typeof m!="object"||m===null)?m:Object.assign({},e,m),n.forEach(b=>b(e,g))}},s=()=>e,c={setState:r,getState:s,getInitialState:()=>u,subscribe:h=>(n.add(h),()=>n.delete(h)),destroy:()=>{(bV?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=e=t(r,s,c);return c},xV=t=>t?w3(t):w3;var q_={exports:{}},Y_={},G_={exports:{}},K_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _3;function vV(){if(_3)return K_;_3=1;var t=Wa();function e(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,i=t.useLayoutEffect,a=t.useDebugValue;function l(f,m){var g=m(),b=r({inst:{value:g,getSnapshot:m}}),y=b[0].inst,x=b[1];return i(function(){y.value=g,y.getSnapshot=m,c(y)&&x({inst:y})},[f,g,m]),s(function(){return c(y)&&x({inst:y}),f(function(){c(y)&&x({inst:y})})},[f]),a(g),g}function c(f){var m=f.getSnapshot;f=f.value;try{var g=m();return!n(f,g)}catch{return!0}}function u(f,m){return m()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return K_.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,K_}var S3;function wV(){return S3||(S3=1,G_.exports=vV()),G_.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C3;function _V(){if(C3)return Y_;C3=1;var t=Wa(),e=wV();function n(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var r=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,i=t.useRef,a=t.useEffect,l=t.useMemo,c=t.useDebugValue;return Y_.useSyncExternalStoreWithSelector=function(u,h,f,m,g){var b=i(null);if(b.current===null){var y={hasValue:!1,value:null};b.current=y}else y=b.current;b=l(function(){function w(P){if(!C){if(C=!0,k=P,P=m(P),g!==void 0&&y.hasValue){var M=y.value;if(g(M,P))return A=M}return A=P}if(M=A,r(k,P))return M;var L=m(P);return g!==void 0&&g(M,L)?(k=P,M):(k=P,A=L)}var C=!1,k,A,N=f===void 0?null:f;return[function(){return w(h())},N===null?void 0:function(){return w(N())}]},[h,f,m,g]);var x=s(u,b[0],b[1]);return a(function(){y.hasValue=!0,y.value=x},[x]),c(x),x},Y_}var T3;function SV(){return T3||(T3=1,q_.exports=_V()),q_.exports}var CV=SV();const TV=Jr(CV),WM={},{useDebugValue:kV}=Zt,{useSyncExternalStoreWithSelector:EV}=TV;let k3=!1;const jV=t=>t;function NV(t,e=jV,n){(WM?"production":void 0)!=="production"&&n&&!k3&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),k3=!0);const r=EV(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return kV(r),r}const E3=t=>{(WM?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?xV(t):t,n=(r,s)=>NV(e,r,s);return Object.assign(n,e),n},AV=t=>t?E3(t):E3,nC=AV((t,e)=>({allUserData:null,loading:!1,user:()=>{var n,r,s;return{user_id:((n=e().allUserData)==null?void 0:n.user_id)||null,username:((r=e().allUserData)==null?void 0:r.username)||null,user_type:((s=e().allUserData)==null?void 0:s.user_type)||null}},setUser:n=>t({allUserData:n}),setLoading:n=>t({loading:n}),isLoggedIn:()=>e().allUserData!==null}));/*!
* sweetalert2 v11.17.2
* Released under the MIT License.
*/function VM(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function DV(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function j3(t,e){return t.get(VM(t,e))}function PV(t,e,n){DV(t,e),e.set(t,n)}function IV(t,e,n){return t.set(VM(t,e),n),n}const OV=100,dn={},MV=()=>{dn.previousActiveElement instanceof HTMLElement?(dn.previousActiveElement.focus(),dn.previousActiveElement=null):document.body&&document.body.focus()},RV=t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,r=window.scrollY;dn.restoreFocusTimeout=setTimeout(()=>{MV(),e()},OV),window.scrollTo(n,r)}),qM="swal2-",LV=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],ut=LV.reduce((t,e)=>(t[e]=qM+e,t),{}),FV=["success","warning","info","question","error"],ox=FV.reduce((t,e)=>(t[e]=qM+e,t),{}),YM="SweetAlert2:",ZT=t=>t.charAt(0).toUpperCase()+t.slice(1),pi=t=>{console.warn(`${YM} ${typeof t=="object"?t.join(" "):t}`)},Wd=t=>{console.error(`${YM} ${t}`)},N3=[],BV=t=>{N3.includes(t)||(N3.push(t),pi(t))},GM=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;BV(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},Ov=t=>typeof t=="function"?t():t,JT=t=>t&&typeof t.toPromise=="function",qg=t=>JT(t)?t.toPromise():Promise.resolve(t),ek=t=>t&&Promise.resolve(t)===t,mi=()=>document.body.querySelector(`.${ut.container}`),Yg=t=>{const e=mi();return e?e.querySelector(t):null},oa=t=>Yg(`.${t}`),zn=()=>oa(ut.popup),Xf=()=>oa(ut.icon),$V=()=>oa(ut["icon-content"]),KM=()=>oa(ut.title),tk=()=>oa(ut["html-container"]),XM=()=>oa(ut.image),nk=()=>oa(ut["progress-steps"]),Mv=()=>oa(ut["validation-message"]),ol=()=>Yg(`.${ut.actions} .${ut.confirm}`),Qf=()=>Yg(`.${ut.actions} .${ut.cancel}`),Vd=()=>Yg(`.${ut.actions} .${ut.deny}`),zV=()=>oa(ut["input-label"]),Zf=()=>Yg(`.${ut.loader}`),Gg=()=>oa(ut.actions),QM=()=>oa(ut.footer),Rv=()=>oa(ut["timer-progress-bar"]),rk=()=>oa(ut.close),UV=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,sk=()=>{const t=zn();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort((i,a)=>{const l=parseInt(i.getAttribute("tabindex")||"0"),c=parseInt(a.getAttribute("tabindex")||"0");return l>c?1:l<c?-1:0}),r=t.querySelectorAll(UV),s=Array.from(r).filter(i=>i.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(s))].filter(i=>Oi(i))},ik=()=>Gl(document.body,ut.shown)&&!Gl(document.body,ut["toast-shown"])&&!Gl(document.body,ut["no-backdrop"]),Lv=()=>{const t=zn();return t?Gl(t,ut.toast):!1},HV=()=>{const t=zn();return t?t.hasAttribute("data-loading"):!1},la=(t,e)=>{if(t.textContent="",e){const r=new DOMParser().parseFromString(e,"text/html"),s=r.querySelector("head");s&&Array.from(s.childNodes).forEach(a=>{t.appendChild(a)});const i=r.querySelector("body");i&&Array.from(i.childNodes).forEach(a=>{a instanceof HTMLVideoElement||a instanceof HTMLAudioElement?t.appendChild(a.cloneNode(!0)):t.appendChild(a)})}},Gl=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let r=0;r<n.length;r++)if(!t.classList.contains(n[r]))return!1;return!0},WV=(t,e)=>{Array.from(t.classList).forEach(n=>{!Object.values(ut).includes(n)&&!Object.values(ox).includes(n)&&!Object.values(e.showClass||{}).includes(n)&&t.classList.remove(n)})},ra=(t,e,n)=>{if(WV(t,e),!e.customClass)return;const r=e.customClass[n];if(r){if(typeof r!="string"&&!r.forEach){pi(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof r}"`);return}Mn(t,r)}},Fv=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${ut.popup} > .${ut[e]}`);case"checkbox":return t.querySelector(`.${ut.popup} > .${ut.checkbox} input`);case"radio":return t.querySelector(`.${ut.popup} > .${ut.radio} input:checked`)||t.querySelector(`.${ut.popup} > .${ut.radio} input:first-child`);case"range":return t.querySelector(`.${ut.popup} > .${ut.range} input`);default:return t.querySelector(`.${ut.popup} > .${ut.input}`)}},ZM=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},JM=(t,e,n)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(r=>{Array.isArray(t)?t.forEach(s=>{n?s.classList.add(r):s.classList.remove(r)}):n?t.classList.add(r):t.classList.remove(r)}))},Mn=(t,e)=>{JM(t,e,!0)},Ba=(t,e)=>{JM(t,e,!1)},Jc=(t,e)=>{const n=Array.from(t.children);for(let r=0;r<n.length;r++){const s=n[r];if(s instanceof HTMLElement&&Gl(s,e))return s}},vd=(t,e,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||parseInt(n)===0?t.style.setProperty(e,typeof n=="number"?`${n}px`:n):t.style.removeProperty(e)},ks=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";t&&(t.style.display=e)},Ks=t=>{t&&(t.style.display="none")},ak=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";t&&new MutationObserver(()=>{Kg(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},A3=(t,e,n,r)=>{const s=t.querySelector(e);s&&s.style.setProperty(n,r)},Kg=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";e?ks(t,n):Ks(t)},Oi=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),VV=()=>!Oi(ol())&&!Oi(Vd())&&!Oi(Qf()),D3=t=>t.scrollHeight>t.clientHeight,eR=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||r>0},ok=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=Rv();n&&Oi(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"},10))},qV=()=>{const t=Rv();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),r=e/n*100;t.style.width=`${r}%`},YV=()=>typeof window>"u"||typeof document>"u",GV=`
 <div aria-labelledby="${ut.title}" aria-describedby="${ut["html-container"]}" class="${ut.popup}" tabindex="-1">
   <button type="button" class="${ut.close}"></button>
   <ul class="${ut["progress-steps"]}"></ul>
   <div class="${ut.icon}"></div>
   <img class="${ut.image}" />
   <h2 class="${ut.title}" id="${ut.title}"></h2>
   <div class="${ut["html-container"]}" id="${ut["html-container"]}"></div>
   <input class="${ut.input}" id="${ut.input}" />
   <input type="file" class="${ut.file}" />
   <div class="${ut.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${ut.select}" id="${ut.select}"></select>
   <div class="${ut.radio}"></div>
   <label class="${ut.checkbox}">
     <input type="checkbox" id="${ut.checkbox}" />
     <span class="${ut.label}"></span>
   </label>
   <textarea class="${ut.textarea}" id="${ut.textarea}"></textarea>
   <div class="${ut["validation-message"]}" id="${ut["validation-message"]}"></div>
   <div class="${ut.actions}">
     <div class="${ut.loader}"></div>
     <button type="button" class="${ut.confirm}"></button>
     <button type="button" class="${ut.deny}"></button>
     <button type="button" class="${ut.cancel}"></button>
   </div>
   <div class="${ut.footer}"></div>
   <div class="${ut["timer-progress-bar-container"]}">
     <div class="${ut["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),KV=()=>{const t=mi();return t?(t.remove(),Ba([document.documentElement,document.body],[ut["no-backdrop"],ut["toast-shown"],ut["has-column"]]),!0):!1},Yu=()=>{dn.currentInstance.resetValidationMessage()},XV=()=>{const t=zn(),e=Jc(t,ut.input),n=Jc(t,ut.file),r=t.querySelector(`.${ut.range} input`),s=t.querySelector(`.${ut.range} output`),i=Jc(t,ut.select),a=t.querySelector(`.${ut.checkbox} input`),l=Jc(t,ut.textarea);e.oninput=Yu,n.onchange=Yu,i.onchange=Yu,a.onchange=Yu,l.oninput=Yu,r.oninput=()=>{Yu(),s.value=r.value},r.onchange=()=>{Yu(),s.value=r.value}},QV=t=>typeof t=="string"?document.querySelector(t):t,ZV=t=>{const e=zn();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},JV=t=>{window.getComputedStyle(t).direction==="rtl"&&Mn(mi(),ut.rtl)},eq=t=>{const e=KV();if(YV()){Wd("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=ut.container,e&&Mn(n,ut["no-transition"]),la(n,GV),n.dataset.swal2Theme=t.theme;const r=QV(t.target);r.appendChild(n),ZV(t),JV(r),XV()},lk=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?tq(t,e):t&&la(e,t)},tq=(t,e)=>{t.jquery?nq(e,t):la(e,t.toString())},nq=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},rq=(t,e)=>{const n=Gg(),r=Zf();!n||!r||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?Ks(n):ks(n),ra(n,e,"actions"),sq(n,r,e),la(r,e.loaderHtml||""),ra(r,e,"loader"))};function sq(t,e,n){const r=ol(),s=Vd(),i=Qf();!r||!s||!i||(X_(r,"confirm",n),X_(s,"deny",n),X_(i,"cancel",n),iq(r,s,i,n),n.reverseButtons&&(n.toast?(t.insertBefore(i,r),t.insertBefore(s,r)):(t.insertBefore(i,e),t.insertBefore(s,e),t.insertBefore(r,e))))}function iq(t,e,n,r){if(!r.buttonsStyling){Ba([t,e,n],ut.styled);return}Mn([t,e,n],ut.styled),r.confirmButtonColor&&(t.style.backgroundColor=r.confirmButtonColor,Mn(t,ut["default-outline"])),r.denyButtonColor&&(e.style.backgroundColor=r.denyButtonColor,Mn(e,ut["default-outline"])),r.cancelButtonColor&&(n.style.backgroundColor=r.cancelButtonColor,Mn(n,ut["default-outline"]))}function X_(t,e,n){const r=ZT(e);Kg(t,n[`show${r}Button`],"inline-block"),la(t,n[`${e}ButtonText`]||""),t.setAttribute("aria-label",n[`${e}ButtonAriaLabel`]||""),t.className=ut[e],ra(t,n,`${e}Button`)}const aq=(t,e)=>{const n=rk();n&&(la(n,e.closeButtonHtml||""),ra(n,e,"closeButton"),Kg(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))},oq=(t,e)=>{const n=mi();n&&(lq(n,e.backdrop),cq(n,e.position),uq(n,e.grow),ra(n,e,"container"))};function lq(t,e){typeof e=="string"?t.style.background=e:e||Mn([document.documentElement,document.body],ut["no-backdrop"])}function cq(t,e){e&&(e in ut?Mn(t,ut[e]):(pi('The "position" parameter is not valid, defaulting to "center"'),Mn(t,ut.center)))}function uq(t,e){e&&Mn(t,ut[`grow-${e}`])}var yr={innerParams:new WeakMap,domCache:new WeakMap};const dq=["input","file","range","select","radio","checkbox","textarea"],hq=(t,e)=>{const n=zn();if(!n)return;const r=yr.innerParams.get(t),s=!r||e.input!==r.input;dq.forEach(i=>{const a=Jc(n,ut[i]);a&&(mq(i,e.inputAttributes),a.className=ut[i],s&&Ks(a))}),e.input&&(s&&fq(e),gq(e))},fq=t=>{if(!t.input)return;if(!Xr[t.input]){Wd(`Unexpected type of input! Expected ${Object.keys(Xr).join(" | ")}, got "${t.input}"`);return}const e=tR(t.input);if(!e)return;const n=Xr[t.input](e,t);ks(e),t.inputAutoFocus&&setTimeout(()=>{ZM(n)})},pq=t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}},mq=(t,e)=>{const n=zn();if(!n)return;const r=Fv(n,t);if(r){pq(r);for(const s in e)r.setAttribute(s,e[s])}},gq=t=>{if(!t.input)return;const e=tR(t.input);e&&ra(e,t,"input")},ck=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},Xg=(t,e,n)=>{if(n.inputLabel){const r=document.createElement("label"),s=ut["input-label"];r.setAttribute("for",t.id),r.className=s,typeof n.customClass=="object"&&Mn(r,n.customClass.inputLabel),r.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",r)}},tR=t=>{const e=zn();if(e)return Jc(e,ut[t]||ut.input)},lx=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:ek(e)||pi(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},Xr={};Xr.text=Xr.email=Xr.password=Xr.number=Xr.tel=Xr.url=Xr.search=Xr.date=Xr["datetime-local"]=Xr.time=Xr.week=Xr.month=(t,e)=>(lx(t,e.inputValue),Xg(t,t,e),ck(t,e),t.type=e.input,t);Xr.file=(t,e)=>(Xg(t,t,e),ck(t,e),t);Xr.range=(t,e)=>{const n=t.querySelector("input"),r=t.querySelector("output");return lx(n,e.inputValue),n.type=e.input,lx(r,e.inputValue),Xg(n,t,e),t};Xr.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");la(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return Xg(t,t,e),t};Xr.radio=t=>(t.textContent="",t);Xr.checkbox=(t,e)=>{const n=Fv(zn(),"checkbox");n.value="1",n.checked=!!e.inputValue;const r=t.querySelector("span");return la(r,e.inputPlaceholder||e.inputLabel),n};Xr.textarea=(t,e)=>{lx(t,e.inputValue),ck(t,e),Xg(t,t,e);const n=r=>parseInt(window.getComputedStyle(r).marginLeft)+parseInt(window.getComputedStyle(r).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const r=parseInt(window.getComputedStyle(zn()).width),s=()=>{if(!document.body.contains(t))return;const i=t.offsetWidth+n(t);i>r?zn().style.width=`${i}px`:vd(zn(),"width",e.width)};new MutationObserver(s).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const yq=(t,e)=>{const n=tk();n&&(ak(n),ra(n,e,"htmlContainer"),e.html?(lk(e.html,n),ks(n,"block")):e.text?(n.textContent=e.text,ks(n,"block")):Ks(n),hq(t,e))},bq=(t,e)=>{const n=QM();n&&(ak(n),Kg(n,e.footer,"block"),e.footer&&lk(e.footer,n),ra(n,e,"footer"))},xq=(t,e)=>{const n=yr.innerParams.get(t),r=Xf();if(!r)return;if(n&&e.icon===n.icon){I3(r,e),P3(r,e);return}if(!e.icon&&!e.iconHtml){Ks(r);return}if(e.icon&&Object.keys(ox).indexOf(e.icon)===-1){Wd(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),Ks(r);return}ks(r),I3(r,e),P3(r,e),Mn(r,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",nR)},P3=(t,e)=>{for(const[n,r]of Object.entries(ox))e.icon!==n&&Ba(t,r);Mn(t,e.icon&&ox[e.icon]),_q(t,e),nR(),ra(t,e,"icon")},nR=()=>{const t=zn();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let r=0;r<n.length;r++)n[r].style.backgroundColor=e},vq=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,wq=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,I3=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let n=t.innerHTML,r="";e.iconHtml?r=O3(e.iconHtml):e.icon==="success"?(r=vq,n=n.replace(/ style=".*?"/g,"")):e.icon==="error"?r=wq:e.icon&&(r=O3({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==r.trim()&&la(t,r)},_q=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])A3(t,n,"background-color",e.iconColor);A3(t,".swal2-success-ring","border-color",e.iconColor)}},O3=t=>`<div class="${ut["icon-content"]}">${t}</div>`,Sq=(t,e)=>{const n=XM();if(n){if(!e.imageUrl){Ks(n);return}ks(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),vd(n,"width",e.imageWidth),vd(n,"height",e.imageHeight),n.className=ut.image,ra(n,e,"image")}};let uk=!1,rR=0,sR=0,iR=0,aR=0;const Cq=t=>{t.addEventListener("mousedown",cx),document.body.addEventListener("mousemove",ux),t.addEventListener("mouseup",dx),t.addEventListener("touchstart",cx),document.body.addEventListener("touchmove",ux),t.addEventListener("touchend",dx)},Tq=t=>{t.removeEventListener("mousedown",cx),document.body.removeEventListener("mousemove",ux),t.removeEventListener("mouseup",dx),t.removeEventListener("touchstart",cx),document.body.removeEventListener("touchmove",ux),t.removeEventListener("touchend",dx)},cx=t=>{const e=zn();if(t.target===e||Xf().contains(t.target)){uk=!0;const n=oR(t);rR=n.clientX,sR=n.clientY,iR=parseInt(e.style.insetInlineStart)||0,aR=parseInt(e.style.insetBlockStart)||0,Mn(e,"swal2-dragging")}},ux=t=>{const e=zn();if(uk){let{clientX:n,clientY:r}=oR(t);e.style.insetInlineStart=`${iR+(n-rR)}px`,e.style.insetBlockStart=`${aR+(r-sR)}px`}},dx=()=>{const t=zn();uk=!1,Ba(t,"swal2-dragging")},oR=t=>{let e=0,n=0;return t.type.startsWith("mouse")?(e=t.clientX,n=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,n=t.touches[0].clientY),{clientX:e,clientY:n}},kq=(t,e)=>{const n=mi(),r=zn();if(!(!n||!r)){if(e.toast){vd(n,"width",e.width),r.style.width="100%";const s=Zf();s&&r.insertBefore(s,Xf())}else vd(r,"width",e.width);vd(r,"padding",e.padding),e.color&&(r.style.color=e.color),e.background&&(r.style.background=e.background),Ks(Mv()),Eq(r,e),e.draggable&&!e.toast?(Mn(r,ut.draggable),Cq(r)):(Ba(r,ut.draggable),Tq(r))}},Eq=(t,e)=>{const n=e.showClass||{};t.className=`${ut.popup} ${Oi(t)?n.popup:""}`,e.toast?(Mn([document.documentElement,document.body],ut["toast-shown"]),Mn(t,ut.toast)):Mn(t,ut.modal),ra(t,e,"popup"),typeof e.customClass=="string"&&Mn(t,e.customClass),e.icon&&Mn(t,ut[`icon-${e.icon}`])},jq=(t,e)=>{const n=nk();if(!n)return;const{progressSteps:r,currentProgressStep:s}=e;if(!r||r.length===0||s===void 0){Ks(n);return}ks(n),n.textContent="",s>=r.length&&pi("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),r.forEach((i,a)=>{const l=Nq(i);if(n.appendChild(l),a===s&&Mn(l,ut["active-progress-step"]),a!==r.length-1){const c=Aq(e);n.appendChild(c)}})},Nq=t=>{const e=document.createElement("li");return Mn(e,ut["progress-step"]),la(e,t),e},Aq=t=>{const e=document.createElement("li");return Mn(e,ut["progress-step-line"]),t.progressStepsDistance&&vd(e,"width",t.progressStepsDistance),e},Dq=(t,e)=>{const n=KM();n&&(ak(n),Kg(n,e.title||e.titleText,"block"),e.title&&lk(e.title,n),e.titleText&&(n.innerText=e.titleText),ra(n,e,"title"))},lR=(t,e)=>{kq(t,e),oq(t,e),jq(t,e),xq(t,e),Sq(t,e),Dq(t,e),aq(t,e),yq(t,e),rq(t,e),bq(t,e);const n=zn();typeof e.didRender=="function"&&n&&e.didRender(n),dn.eventEmitter.emit("didRender",n)},Pq=()=>Oi(zn()),cR=()=>{var t;return(t=ol())===null||t===void 0?void 0:t.click()},Iq=()=>{var t;return(t=Vd())===null||t===void 0?void 0:t.click()},Oq=()=>{var t;return(t=Qf())===null||t===void 0?void 0:t.click()},Jf=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),uR=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},Mq=(t,e,n)=>{uR(t),e.toast||(t.keydownHandler=r=>Lq(e,r,n),t.keydownTarget=e.keydownListenerCapture?window:zn(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},rC=(t,e)=>{var n;const r=sk();if(r.length){t=t+e,t===r.length?t=0:t===-1&&(t=r.length-1),r[t].focus();return}(n=zn())===null||n===void 0||n.focus()},dR=["ArrowRight","ArrowDown"],Rq=["ArrowLeft","ArrowUp"],Lq=(t,e,n)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?Fq(e,t):e.key==="Tab"?Bq(e):[...dR,...Rq].includes(e.key)?$q(e.key):e.key==="Escape"&&zq(e,t,n)))},Fq=(t,e)=>{if(!Ov(e.allowEnterKey))return;const n=Fv(zn(),e.input);if(t.target&&n&&t.target instanceof HTMLElement&&t.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(e.input))return;cR(),t.preventDefault()}},Bq=t=>{const e=t.target,n=sk();let r=-1;for(let s=0;s<n.length;s++)if(e===n[s]){r=s;break}t.shiftKey?rC(r,-1):rC(r,1),t.stopPropagation(),t.preventDefault()},$q=t=>{const e=Gg(),n=ol(),r=Vd(),s=Qf();if(!e||!n||!r||!s)return;const i=[n,r,s];if(document.activeElement instanceof HTMLElement&&!i.includes(document.activeElement))return;const a=dR.includes(t)?"nextElementSibling":"previousElementSibling";let l=document.activeElement;if(l){for(let c=0;c<e.children.length;c++){if(l=l[a],!l)return;if(l instanceof HTMLButtonElement&&Oi(l))break}l instanceof HTMLButtonElement&&l.focus()}},zq=(t,e,n)=>{Ov(e.allowEscapeKey)&&(t.preventDefault(),n(Jf.esc))};var _f={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Uq=()=>{const t=mi();Array.from(document.body.children).forEach(n=>{n.contains(t)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},hR=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},fR=typeof window<"u"&&!!window.GestureEvent,Hq=()=>{if(fR&&!Gl(document.body,ut.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,Mn(document.body,ut.iosfix),Wq()}},Wq=()=>{const t=mi();if(!t)return;let e;t.ontouchstart=n=>{e=Vq(n)},t.ontouchmove=n=>{e&&(n.preventDefault(),n.stopPropagation())}},Vq=t=>{const e=t.target,n=mi(),r=tk();return!n||!r||qq(t)||Yq(t)?!1:e===n||!D3(n)&&e instanceof HTMLElement&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(D3(r)&&r.contains(e))},qq=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",Yq=t=>t.touches&&t.touches.length>1,Gq=()=>{if(Gl(document.body,ut.iosfix)){const t=parseInt(document.body.style.top,10);Ba(document.body,ut.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},Kq=()=>{const t=document.createElement("div");t.className=ut["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let ef=null;const Xq=t=>{ef===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(ef=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${ef+Kq()}px`)},Qq=()=>{ef!==null&&(document.body.style.paddingRight=`${ef}px`,ef=null)};function pR(t,e,n,r){Lv()?M3(t,r):(RV(n).then(()=>M3(t,r)),uR(dn)),fR?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),ik()&&(Qq(),Gq(),hR()),Zq()}function Zq(){Ba([document.documentElement,document.body],[ut.shown,ut["height-auto"],ut["no-backdrop"],ut["toast-shown"]])}function eu(t){t=eY(t);const e=_f.swalPromiseResolve.get(this),n=Jq(this);this.isAwaitingPromise?t.isDismissed||(Qg(this),e(t)):n&&e(t)}const Jq=t=>{const e=zn();if(!e)return!1;const n=yr.innerParams.get(t);if(!n||Gl(e,n.hideClass.popup))return!1;Ba(e,n.showClass.popup),Mn(e,n.hideClass.popup);const r=mi();return Ba(r,n.showClass.backdrop),Mn(r,n.hideClass.backdrop),tY(t,e,n),!0};function mR(t){const e=_f.swalPromiseReject.get(this);Qg(this),e&&e(t)}const Qg=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,yr.innerParams.get(t)||t._destroy())},eY=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),tY=(t,e,n)=>{var r;const s=mi(),i=eR(e);typeof n.willClose=="function"&&n.willClose(e),(r=dn.eventEmitter)===null||r===void 0||r.emit("willClose",e),i?nY(t,e,s,n.returnFocus,n.didClose):pR(t,s,n.returnFocus,n.didClose)},nY=(t,e,n,r,s)=>{dn.swalCloseEventFinishedCallback=pR.bind(null,t,n,r,s);const i=function(a){if(a.target===e){var l;(l=dn.swalCloseEventFinishedCallback)===null||l===void 0||l.call(dn),delete dn.swalCloseEventFinishedCallback,e.removeEventListener("animationend",i),e.removeEventListener("transitionend",i)}};e.addEventListener("animationend",i),e.addEventListener("transitionend",i)},M3=(t,e)=>{setTimeout(()=>{var n;typeof e=="function"&&e.bind(t.params)(),(n=dn.eventEmitter)===null||n===void 0||n.emit("didClose"),t._destroy&&t._destroy()})},Sf=t=>{let e=zn();if(e||new ng,e=zn(),!e)return;const n=Zf();Lv()?Ks(Xf()):rY(e,t),ks(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},rY=(t,e)=>{const n=Gg(),r=Zf();!n||!r||(!e&&Oi(ol())&&(e=ol()),ks(n),e&&(Ks(e),r.setAttribute("data-button-to-replace",e.className),n.insertBefore(r,e)),Mn([t,n],ut.loading))},sY=(t,e)=>{e.input==="select"||e.input==="radio"?cY(t,e):["text","email","number","tel","textarea"].some(n=>n===e.input)&&(JT(e.inputValue)||ek(e.inputValue))&&(Sf(ol()),uY(t,e))},iY=(t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return aY(n);case"radio":return oY(n);case"file":return lY(n);default:return e.inputAutoTrim?n.value.trim():n.value}},aY=t=>t.checked?1:0,oY=t=>t.checked?t.value:null,lY=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,cY=(t,e)=>{const n=zn();if(!n)return;const r=s=>{e.input==="select"?dY(n,hx(s),e):e.input==="radio"&&hY(n,hx(s),e)};JT(e.inputOptions)||ek(e.inputOptions)?(Sf(ol()),qg(e.inputOptions).then(s=>{t.hideLoading(),r(s)})):typeof e.inputOptions=="object"?r(e.inputOptions):Wd(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},uY=(t,e)=>{const n=t.getInput();n&&(Ks(n),qg(e.inputValue).then(r=>{n.value=e.input==="number"?`${parseFloat(r)||0}`:`${r}`,ks(n),n.focus(),t.hideLoading()}).catch(r=>{Wd(`Error in inputValue promise: ${r}`),n.value="",ks(n),n.focus(),t.hideLoading()}))};function dY(t,e,n){const r=Jc(t,ut.select);if(!r)return;const s=(i,a,l)=>{const c=document.createElement("option");c.value=l,la(c,a),c.selected=gR(l,n.inputValue),i.appendChild(c)};e.forEach(i=>{const a=i[0],l=i[1];if(Array.isArray(l)){const c=document.createElement("optgroup");c.label=a,c.disabled=!1,r.appendChild(c),l.forEach(u=>s(c,u[1],u[0]))}else s(r,l,a)}),r.focus()}function hY(t,e,n){const r=Jc(t,ut.radio);if(!r)return;e.forEach(i=>{const a=i[0],l=i[1],c=document.createElement("input"),u=document.createElement("label");c.type="radio",c.name=ut.radio,c.value=a,gR(a,n.inputValue)&&(c.checked=!0);const h=document.createElement("span");la(h,l),h.className=ut.label,u.appendChild(c),u.appendChild(h),r.appendChild(u)});const s=r.querySelectorAll("input");s.length&&s[0].focus()}const hx=t=>{const e=[];return t instanceof Map?t.forEach((n,r)=>{let s=n;typeof s=="object"&&(s=hx(s)),e.push([r,s])}):Object.keys(t).forEach(n=>{let r=t[n];typeof r=="object"&&(r=hx(r)),e.push([n,r])}),e},gR=(t,e)=>!!e&&e.toString()===t.toString(),fY=t=>{const e=yr.innerParams.get(t);t.disableButtons(),e.input?yR(t,"confirm"):hk(t,!0)},pY=t=>{const e=yr.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?yR(t,"deny"):dk(t,!1)},mY=(t,e)=>{t.disableButtons(),e(Jf.cancel)},yR=(t,e)=>{const n=yr.innerParams.get(t);if(!n.input){Wd(`The "input" parameter is needed to be set when using returnInputValueOn${ZT(e)}`);return}const r=t.getInput(),s=iY(t,n);n.inputValidator?gY(t,s,e):r&&!r.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage||r.validationMessage)):e==="deny"?dk(t,s):hk(t,s)},gY=(t,e,n)=>{const r=yr.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>qg(r.inputValidator(e,r.validationMessage))).then(i=>{t.enableButtons(),t.enableInput(),i?t.showValidationMessage(i):n==="deny"?dk(t,e):hk(t,e)})},dk=(t,e)=>{const n=yr.innerParams.get(t||void 0);n.showLoaderOnDeny&&Sf(Vd()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>qg(n.preDeny(e,n.validationMessage))).then(s=>{s===!1?(t.hideLoading(),Qg(t)):t.close({isDenied:!0,value:typeof s>"u"?e:s})}).catch(s=>bR(t||void 0,s))):t.close({isDenied:!0,value:e})},R3=(t,e)=>{t.close({isConfirmed:!0,value:e})},bR=(t,e)=>{t.rejectPromise(e)},hk=(t,e)=>{const n=yr.innerParams.get(t||void 0);n.showLoaderOnConfirm&&Sf(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>qg(n.preConfirm(e,n.validationMessage))).then(s=>{Oi(Mv())||s===!1?(t.hideLoading(),Qg(t)):R3(t,typeof s>"u"?e:s)}).catch(s=>bR(t||void 0,s))):R3(t,e)};function fx(){const t=yr.innerParams.get(this);if(!t)return;const e=yr.domCache.get(this);Ks(e.loader),Lv()?t.icon&&ks(Xf()):yY(e),Ba([e.popup,e.actions],ut.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const yY=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?ks(e[0],"inline-block"):VV()&&Ks(t.actions)};function xR(){const t=yr.innerParams.get(this),e=yr.domCache.get(this);return e?Fv(e.popup,t.input):null}function vR(t,e,n){const r=yr.domCache.get(t);e.forEach(s=>{r[s].disabled=n})}function wR(t,e){const n=zn();if(!(!n||!t))if(t.type==="radio"){const r=n.querySelectorAll(`[name="${ut.radio}"]`);for(let s=0;s<r.length;s++)r[s].disabled=e}else t.disabled=e}function _R(){vR(this,["confirmButton","denyButton","cancelButton"],!1)}function SR(){vR(this,["confirmButton","denyButton","cancelButton"],!0)}function CR(){wR(this.getInput(),!1)}function TR(){wR(this.getInput(),!0)}function kR(t){const e=yr.domCache.get(this),n=yr.innerParams.get(this);la(e.validationMessage,t),e.validationMessage.className=ut["validation-message"],n.customClass&&n.customClass.validationMessage&&Mn(e.validationMessage,n.customClass.validationMessage),ks(e.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid","true"),r.setAttribute("aria-describedby",ut["validation-message"]),ZM(r),Mn(r,ut.inputerror))}function ER(){const t=yr.domCache.get(this);t.validationMessage&&Ks(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),Ba(e,ut.inputerror))}const tf={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},bY=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],xY={allowEnterKey:void 0},vY=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],jR=t=>Object.prototype.hasOwnProperty.call(tf,t),NR=t=>bY.indexOf(t)!==-1,AR=t=>xY[t],wY=t=>{jR(t)||pi(`Unknown parameter "${t}"`)},_Y=t=>{vY.includes(t)&&pi(`The parameter "${t}" is incompatible with toasts`)},SY=t=>{const e=AR(t);e&&GM(t,e)},DR=t=>{t.backdrop===!1&&t.allowOutsideClick&&pi('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","borderless"].includes(t.theme)&&pi(`Invalid theme "${t.theme}". Expected "light", "dark", "auto", or "borderless"`);for(const e in t)wY(e),t.toast&&_Y(e),SY(e)};function PR(t){const e=mi(),n=zn(),r=yr.innerParams.get(this);if(!n||Gl(n,r.hideClass.popup)){pi("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const s=CY(t),i=Object.assign({},r,s);DR(i),e.dataset.swal2Theme=i.theme,lR(this,i),yr.innerParams.set(this,i),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const CY=t=>{const e={};return Object.keys(t).forEach(n=>{NR(n)?e[n]=t[n]:pi(`Invalid parameter to update: ${n}`)}),e};function IR(){const t=yr.domCache.get(this),e=yr.innerParams.get(this);if(!e){OR(this);return}t.popup&&dn.swalCloseEventFinishedCallback&&(dn.swalCloseEventFinishedCallback(),delete dn.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),dn.eventEmitter.emit("didDestroy"),TY(this)}const TY=t=>{OR(t),delete t.params,delete dn.keydownHandler,delete dn.keydownTarget,delete dn.currentInstance},OR=t=>{t.isAwaitingPromise?(Q_(yr,t),t.isAwaitingPromise=!0):(Q_(_f,t),Q_(yr,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},Q_=(t,e)=>{for(const n in t)t[n].delete(e)};var kY=Object.freeze({__proto__:null,_destroy:IR,close:eu,closeModal:eu,closePopup:eu,closeToast:eu,disableButtons:SR,disableInput:TR,disableLoading:fx,enableButtons:_R,enableInput:CR,getInput:xR,handleAwaitingPromise:Qg,hideLoading:fx,rejectPromise:mR,resetValidationMessage:ER,showValidationMessage:kR,update:PR});const EY=(t,e,n)=>{t.toast?jY(t,e,n):(AY(e),DY(e),PY(t,e,n))},jY=(t,e,n)=>{e.popup.onclick=()=>{t&&(NY(t)||t.timer||t.input)||n(Jf.close)}},NY=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let px=!1;const AY=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(px=!0)}}},DY=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(n){t.popup.onmouseup=()=>{},(n.target===t.popup||n.target instanceof HTMLElement&&t.popup.contains(n.target))&&(px=!0)}}},PY=(t,e,n)=>{e.container.onclick=r=>{if(px){px=!1;return}r.target===e.container&&Ov(t.allowOutsideClick)&&n(Jf.backdrop)}},IY=t=>typeof t=="object"&&t.jquery,L3=t=>t instanceof Element||IY(t),OY=t=>{const e={};return typeof t[0]=="object"&&!L3(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((n,r)=>{const s=t[r];typeof s=="string"||L3(s)?e[n]=s:s!==void 0&&Wd(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof s}`)}),e};function MY(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new this(...e)}function RY(t){class e extends this{_main(r,s){return super._main(r,Object.assign({},t,s))}}return e}const LY=()=>dn.timeout&&dn.timeout.getTimerLeft(),MR=()=>{if(dn.timeout)return qV(),dn.timeout.stop()},RR=()=>{if(dn.timeout){const t=dn.timeout.start();return ok(t),t}},FY=()=>{const t=dn.timeout;return t&&(t.running?MR():RR())},BY=t=>{if(dn.timeout){const e=dn.timeout.increase(t);return ok(e,!0),e}},$Y=()=>!!(dn.timeout&&dn.timeout.isRunning());let F3=!1;const sC={};function zY(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";sC[t]=this,F3||(document.body.addEventListener("click",UY),F3=!0)}const UY=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const n in sC){const r=e.getAttribute(n);if(r){sC[n].fire({template:r});return}}};class HY{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,n){const r=this._getHandlersByEventName(e);r.includes(n)||r.push(n)}once(e,n){var r=this;const s=function(){r.removeListener(e,s);for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];n.apply(r,a)};this.on(e,s)}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];this._getHandlersByEventName(e).forEach(i=>{try{i.apply(this,r)}catch(a){console.error(a)}})}removeListener(e,n){const r=this._getHandlersByEventName(e),s=r.indexOf(n);s>-1&&r.splice(s,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}dn.eventEmitter=new HY;const WY=(t,e)=>{dn.eventEmitter.on(t,e)},VY=(t,e)=>{dn.eventEmitter.once(t,e)},qY=(t,e)=>{if(!t){dn.eventEmitter.reset();return}e?dn.eventEmitter.removeListener(t,e):dn.eventEmitter.removeAllListeners(t)};var YY=Object.freeze({__proto__:null,argsToParams:OY,bindClickHandler:zY,clickCancel:Oq,clickConfirm:cR,clickDeny:Iq,enableLoading:Sf,fire:MY,getActions:Gg,getCancelButton:Qf,getCloseButton:rk,getConfirmButton:ol,getContainer:mi,getDenyButton:Vd,getFocusableElements:sk,getFooter:QM,getHtmlContainer:tk,getIcon:Xf,getIconContent:$V,getImage:XM,getInputLabel:zV,getLoader:Zf,getPopup:zn,getProgressSteps:nk,getTimerLeft:LY,getTimerProgressBar:Rv,getTitle:KM,getValidationMessage:Mv,increaseTimer:BY,isDeprecatedParameter:AR,isLoading:HV,isTimerRunning:$Y,isUpdatableParameter:NR,isValidParameter:jR,isVisible:Pq,mixin:RY,off:qY,on:WY,once:VY,resumeTimer:RR,showLoading:Sf,stopTimer:MR,toggleTimer:FY});class GY{constructor(e,n){this.callback=e,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const n=this.running;return n&&this.stop(),this.remaining+=e,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const LR=["swal-title","swal-html","swal-footer"],KY=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return rG(n),Object.assign(XY(n),QY(n),ZY(n),JY(n),eG(n),tG(n),nG(n,LR))},XY=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(r=>{Dd(r,["name","value"]);const s=r.getAttribute("name"),i=r.getAttribute("value");!s||!i||(typeof tf[s]=="boolean"?e[s]=i!=="false":typeof tf[s]=="object"?e[s]=JSON.parse(i):e[s]=i)}),e},QY=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(r=>{const s=r.getAttribute("name"),i=r.getAttribute("value");!s||!i||(e[s]=new Function(`return ${i}`)())}),e},ZY=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(r=>{Dd(r,["type","color","aria-label"]);const s=r.getAttribute("type");!s||!["confirm","cancel","deny"].includes(s)||(e[`${s}ButtonText`]=r.innerHTML,e[`show${ZT(s)}Button`]=!0,r.hasAttribute("color")&&(e[`${s}ButtonColor`]=r.getAttribute("color")),r.hasAttribute("aria-label")&&(e[`${s}ButtonAriaLabel`]=r.getAttribute("aria-label")))}),e},JY=t=>{const e={},n=t.querySelector("swal-image");return n&&(Dd(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt")||void 0)),e},eG=t=>{const e={},n=t.querySelector("swal-icon");return n&&(Dd(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},tG=t=>{const e={},n=t.querySelector("swal-input");n&&(Dd(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const r=Array.from(t.querySelectorAll("swal-input-option"));return r.length&&(e.inputOptions={},r.forEach(s=>{Dd(s,["value"]);const i=s.getAttribute("value");if(!i)return;const a=s.innerHTML;e.inputOptions[i]=a})),e},nG=(t,e)=>{const n={};for(const r in e){const s=e[r],i=t.querySelector(s);i&&(Dd(i,[]),n[s.replace(/^swal-/,"")]=i.innerHTML.trim())}return n},rG=t=>{const e=LR.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(n=>{const r=n.tagName.toLowerCase();e.includes(r)||pi(`Unrecognized element <${r}>`)})},Dd=(t,e)=>{Array.from(t.attributes).forEach(n=>{e.indexOf(n.name)===-1&&pi([`Unrecognized attribute "${n.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},FR=10,sG=t=>{const e=mi(),n=zn();typeof t.willOpen=="function"&&t.willOpen(n),dn.eventEmitter.emit("willOpen",n);const s=window.getComputedStyle(document.body).overflowY;oG(e,n,t),setTimeout(()=>{iG(e,n)},FR),ik()&&(aG(e,t.scrollbarPadding,s),Uq()),!Lv()&&!dn.previousActiveElement&&(dn.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(n)),dn.eventEmitter.emit("didOpen",n),Ba(e,ut["no-transition"])},mx=t=>{const e=zn();if(t.target!==e)return;const n=mi();e.removeEventListener("animationend",mx),e.removeEventListener("transitionend",mx),n.style.overflowY="auto"},iG=(t,e)=>{eR(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",mx),e.addEventListener("transitionend",mx)):t.style.overflowY="auto"},aG=(t,e,n)=>{Hq(),e&&n!=="hidden"&&Xq(n),setTimeout(()=>{t.scrollTop=0})},oG=(t,e,n)=>{Mn(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),ks(e,"grid"),setTimeout(()=>{Mn(e,n.showClass.popup),e.style.removeProperty("opacity")},FR)):ks(e,"grid"),Mn([document.documentElement,document.body],ut.shown),n.heightAuto&&n.backdrop&&!n.toast&&Mn([document.documentElement,document.body],ut["height-auto"])};var B3={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function lG(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=B3.email),t.input==="url"&&(t.inputValidator=B3.url))}function cG(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(pi('Target parameter is not valid, defaulting to "body"'),t.target="body")}function uG(t){lG(t),t.showLoaderOnConfirm&&!t.preConfirm&&pi(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),cG(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),eq(t)}let Vo;var Wy=new WeakMap;class es{constructor(){if(PV(this,Wy,void 0),typeof window>"u")return;Vo=this;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const s=Object.freeze(this.constructor.argsToParams(n));this.params=s,this.isAwaitingPromise=!1,IV(Wy,this,this._main(Vo.params))}_main(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(DR(Object.assign({},n,e)),dn.currentInstance){const i=_f.swalPromiseResolve.get(dn.currentInstance),{isAwaitingPromise:a}=dn.currentInstance;dn.currentInstance._destroy(),a||i({isDismissed:!0}),ik()&&hR()}dn.currentInstance=Vo;const r=hG(e,n);uG(r),Object.freeze(r),dn.timeout&&(dn.timeout.stop(),delete dn.timeout),clearTimeout(dn.restoreFocusTimeout);const s=fG(Vo);return lR(Vo,r),yr.innerParams.set(Vo,r),dG(Vo,s,r)}then(e){return j3(Wy,this).then(e)}finally(e){return j3(Wy,this).finally(e)}}const dG=(t,e,n)=>new Promise((r,s)=>{const i=a=>{t.close({isDismissed:!0,dismiss:a})};_f.swalPromiseResolve.set(t,r),_f.swalPromiseReject.set(t,s),e.confirmButton.onclick=()=>{fY(t)},e.denyButton.onclick=()=>{pY(t)},e.cancelButton.onclick=()=>{mY(t,i)},e.closeButton.onclick=()=>{i(Jf.close)},EY(n,e,i),Mq(dn,n,i),sY(t,n),sG(n),pG(dn,n,i),mG(e,n),setTimeout(()=>{e.container.scrollTop=0})}),hG=(t,e)=>{const n=KY(t),r=Object.assign({},tf,e,n,t);return r.showClass=Object.assign({},tf.showClass,r.showClass),r.hideClass=Object.assign({},tf.hideClass,r.hideClass),r.animation===!1&&(r.showClass={backdrop:"swal2-noanimation"},r.hideClass={}),r},fG=t=>{const e={popup:zn(),container:mi(),actions:Gg(),confirmButton:ol(),denyButton:Vd(),cancelButton:Qf(),loader:Zf(),closeButton:rk(),validationMessage:Mv(),progressSteps:nk()};return yr.domCache.set(t,e),e},pG=(t,e,n)=>{const r=Rv();Ks(r),e.timer&&(t.timeout=new GY(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(ks(r),ra(r,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&ok(e.timer)})))},mG=(t,e)=>{if(!e.toast){if(!Ov(e.allowEnterKey)){GM("allowEnterKey"),bG();return}gG(t)||yG(t,e)||rC(-1,1)}},gG=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const n of e)if(n instanceof HTMLElement&&Oi(n))return n.focus(),!0;return!1},yG=(t,e)=>e.focusDeny&&Oi(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&Oi(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&Oi(t.confirmButton)?(t.confirmButton.focus(),!0):!1,bG=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const t=new Date,e=localStorage.getItem("swal-initiation");e?(t.getTime()-Date.parse(e))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const n=document.createElement("audio");n.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",n.loop=!0,document.body.appendChild(n),setTimeout(()=>{n.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${t}`)}es.prototype.disableButtons=SR;es.prototype.enableButtons=_R;es.prototype.getInput=xR;es.prototype.disableInput=TR;es.prototype.enableInput=CR;es.prototype.hideLoading=fx;es.prototype.disableLoading=fx;es.prototype.showValidationMessage=kR;es.prototype.resetValidationMessage=ER;es.prototype.close=eu;es.prototype.closePopup=eu;es.prototype.closeModal=eu;es.prototype.closeToast=eu;es.prototype.rejectPromise=mR;es.prototype.update=PR;es.prototype._destroy=IR;Object.assign(es,YY);Object.keys(kY).forEach(t=>{es[t]=function(){return Vo&&Vo[t]?Vo[t](...arguments):null}});es.DismissReason=Jf;es.version="11.17.2";const ng=es;ng.default=ng;typeof document<"u"&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}}(document,':root{--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-footer-border-color: #eee;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-input-background: transparent;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);color:inherit;font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:var(--swal2-border-radius);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:var(--swal2-input-background);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:var(--swal2-background);box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const BR=async(t,e)=>{var n,r;try{const s=await _r.post(`${Zi}user/token/`,{email:t,password:e}),{access:i,refresh:a,user_type:l}=s.data;return iC(i,a),{access:i,refresh:a,user_type:l,error:null}}catch(s){return{error:((r=(n=s.response)==null?void 0:n.data)==null?void 0:r.detail)||"Login failed"}}},xG=async(t,e,n,r)=>{var s,i,a,l;try{const c={full_name:t,email:e,password:n,password2:r},{data:u}=await _r.post(`${Zi}user/register/`,c);return await BR(e,n),{data:u,error:null}}catch(c){return{data:null,error:`${((i=(s=c.response)==null?void 0:s.data)==null?void 0:i.full_name)||""} - ${((l=(a=c.response)==null?void 0:a.data)==null?void 0:l.email)||""}`||"Something went wrong"}}},vG=async()=>{const t=xn.get("access_token"),e=xn.get("refresh_token");if(!(!t||!e))if(Bv(t)){const n=fk();iC(n.access,n.refresh)}else iC(t,e)},iC=(t,e)=>{xn.set("access_token",t,{expires:1,secure:!0}),xn.set("refresh_token",e,{expires:7,secure:!0});const n=QT(t)??null;if(n){const r=n.user_type||null;nC.getState().setUser({...n,user_type:r})}nC.getState().setLoading(!1)},fk=async()=>{try{const t=xn.get("refresh_token");if(!t)throw new Error("Refresh token is missing.");return(await _r.post(`${Zi}user/token/refresh/`,{refresh:t})).data}catch{return null}},Bv=t=>{try{return QT(t).exp<Date.now()/1e3}catch{return!0}},wG=()=>{ng.fire({icon:"warning",title:"Session Expired",text:"Your session has expired due to inactivity. Please log in again.",confirmButtonText:"OK"}).then(()=>{xn.remove("access_token"),xn.remove("refresh_token"),nC.getState().setUser(null),window.location.href="/"})},Gi=_r.create({baseURL:Zi,timeout:1e4,headers:{"Content-Type":"application/json",Accept:"application/json"}});Gi.interceptors.request.use(async t=>{let e=xn.get("access_token");if(e&&Bv(e))try{const{access:n}=await fk();xn.set("access_token",n,{secure:!0}),e=n}catch(n){return window.location.href="/",Promise.reject(n)}return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));function lo(){const t=()=>{const r="1234567890";let s="";for(let i=0;i<6;i++){const a=Math.floor(Math.random()*r.length);s+=r.charAt(a)}localStorage.setItem("randomString",s)},e=localStorage.getItem("randomString");return e||t(),e}const _G=({children:t})=>{const[e,n]=_.useState(!0);return _.useEffect(()=>{(async()=>{n(!0),await vG(),n(!1)})()},[]),o.jsx(o.Fragment,{children:e?null:t})},mt=()=>{const t=_r.create({baseURL:Zi,headers:{"Content-Type":"application/json"}});return t.interceptors.request.use(async e=>{let n=xn.get("access_token");if(n&&Bv(n))try{const{access:r}=await fk();xn.set("access_token",r,{secure:!0,sameSite:"Strict"}),n=r}catch(r){return xn.remove("access_token"),xn.remove("refresh_token"),window.location.href="/",Promise.reject(r)}return n&&(e.headers.Authorization=`Bearer ${n}`),e},e=>Promise.reject(e)),t};function SG(){const[t,e]=_.useState(""),[n,r]=_.useState(""),[s,i]=_.useState(""),[a,l]=_.useState(""),[c,u]=_.useState(!1),h=fr(),f=async m=>{m.preventDefault(),u(!0);try{const g=await xG(t,n,s,a);g.error?(alert(g.error),u(!1)):(h("/"),alert("Registration Successful, you have now been logged in"),u(!1))}catch{alert("An unexpected error occurred during registration"),u(!1)}};return o.jsx("div",{className:"modal fade",id:"registerModal",tabIndex:"-1","aria-labelledby":"registerModalLabel","aria-hidden":"true",children:o.jsx("div",{className:"modal-dialog modal-dialog-centered",children:o.jsxs("div",{className:"modal-content",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:"registerModalLabel",children:"Sign Up"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("form",{onSubmit:f,children:[o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"full_name",className:"form-label",children:"Full Name"}),o.jsx("input",{type:"text",id:"full_name",className:"form-control",placeholder:"John Doe",onChange:m=>e(m.target.value),required:!0})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"email",className:"form-label",children:"Email Address"}),o.jsx("input",{type:"email",id:"email",className:"form-control",placeholder:"johndoe@gmail.com",onChange:m=>r(m.target.value),required:!0})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),o.jsx("input",{type:"password",id:"password",className:"form-control",placeholder:"**************",onChange:m=>i(m.target.value),required:!0})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"password2",className:"form-label",children:"Confirm Password"}),o.jsx("input",{type:"password",id:"password2",className:"form-control",placeholder:"**************",onChange:m=>l(m.target.value),required:!0})]}),o.jsx("div",{className:"d-grid",children:c?o.jsxs("button",{type:"submit",className:"btn btn-primary",disabled:!0,children:["Processing ",o.jsx("i",{className:"fas fa-spinner fa-spin"})]}):o.jsxs("button",{type:"submit",className:"btn btn-primary",children:["Sign Up ",o.jsx("i",{className:"fas fa-user-plus"})]})})]})}),o.jsx("div",{className:"modal-footer",children:o.jsxs("span",{children:["Already have an account?",o.jsx(Pn,{to:"#","data-bs-toggle":"modal","data-bs-target":"#loginModal",className:"ms-1",children:"Sign In"})]})})]})})})}function CG(){const[t,e]=_.useState(""),[n,r]=_.useState(""),[s,i]=_.useState(!1),[a,l]=_.useState(!1),c=fr(),u=async h=>{h.preventDefault(),i(!0),l(!1);try{const{access:f,refresh:m,error:g}=await BR(t,n);if(g){l(!0);return}const b=document.getElementById("loginModal");bootstrap.Modal.getInstance(b).hide(),setTimeout(()=>{const x=zt();x!=null&&x.teacher_id?c("/teacher/dashboard"):c("/student/dashboard")},500)}catch{l(!0)}finally{i(!1)}};return _.useEffect(()=>{const h=document.getElementById("loginModal"),f=()=>{r("")};return h.addEventListener("shown.bs.modal",f),()=>{h.removeEventListener("shown.bs.modal",f)}},[]),o.jsx("div",{className:"modal fade",id:"loginModal",tabIndex:"-1","aria-labelledby":"loginModalLabel","aria-hidden":"true",children:o.jsx("div",{className:"modal-dialog modal-dialog-centered",children:o.jsxs("div",{className:"modal-content",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:"loginModalLabel",children:"Sign In"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("form",{onSubmit:u,children:[o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"loginEmail",className:"form-label",children:"Email Address"}),o.jsx("input",{type:"email",id:"loginEmail",className:"form-control",placeholder:"johndoe@gmail.com",onChange:h=>e(h.target.value),required:!0})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"loginPassword",className:"form-label",children:"Password"}),o.jsx("input",{type:"password",id:"loginPassword",className:"form-control",placeholder:"**************",value:n,onChange:h=>r(h.target.value),required:!0})]}),a&&o.jsxs("div",{className:"text-danger mb-3",children:["Incorrect email or password.",o.jsx("div",{className:"mt-2",children:o.jsx("button",{type:"button",className:"btn btn-link p-0 text-primary","data-bs-toggle":"modal","data-bs-target":"#forgotPasswordModal",children:"Forgot Password?"})})]}),o.jsx("div",{className:"d-grid",children:s?o.jsxs("button",{type:"submit",className:"btn btn-primary",disabled:!0,children:["Processing ",o.jsx("i",{className:"fas fa-spinner fa-spin"})]}):o.jsxs("button",{type:"submit",className:"btn btn-primary",children:["Sign In ",o.jsx("i",{className:"fas fa-sign-in-alt"})]})})]})}),o.jsx("div",{className:"modal-footer",children:o.jsxs("span",{children:["Don’t have an account?",o.jsx(Pn,{to:"#","data-bs-toggle":"modal","data-bs-target":"#registerModal",className:"ms-1",children:"Sign Up"})]})})]})})})}function TG(){const[t,e]=_.useState(""),[n,r]=_.useState(""),[s,i]=_.useState(""),[a,l]=_.useState(""),[c,u]=_.useState(""),[h,f]=_.useState(!1),[m,g]=_.useState(null),[b,y]=_.useState(null),[x,w]=_.useState(1),C=async N=>{var P,M;if(N.preventDefault(),f(!0),g(null),y(null),!t||!/\S+@\S+\.\S+/.test(t)){y("Please enter a valid email address."),f(!1);return}try{const L=await Gi.post("/user/request-otp/",{email:t});g("OTP sent to your email. Please check your inbox."),w(2)}catch(L){y(((M=(P=L.response)==null?void 0:P.data)==null?void 0:M.detail)||"An error occurred. Please try again later.")}finally{f(!1)}},k=async N=>{var P,M;if(N.preventDefault(),f(!0),y(null),!t||!n){y("Email and OTP are required."),f(!1);return}try{const L=await Gi.post(`/user/verify-otp/${t}/`,{otp:n});u(L.data.uuidb64),w(3)}catch(L){y(((M=(P=L.response)==null?void 0:P.data)==null?void 0:M.error)||"An error occurred. Please try again.")}finally{f(!1)}},A=async N=>{var P,M;if(N.preventDefault(),f(!0),y(null),!s||!a){y("Both password fields are required."),f(!1);return}if(s!==a){y("Passwords do not match."),f(!1);return}if(s.length<8){y("Password must be at least 8 characters long."),f(!1);return}try{const L=await Gi.post(`/user/change-password/${t}/`,{new_password:s,confirm_password:a});g("Password changed successfully. Redirecting to login...");const D=document.getElementById("forgotPasswordModal");bootstrap.Modal.getInstance(D).hide(),i(""),l(""),setTimeout(()=>{const z=document.getElementById("loginModal");new bootstrap.Modal(z).show()},500),i("")}catch(L){y(((M=(P=L.response)==null?void 0:P.data)==null?void 0:M.error)||"An error occurred. Please try again later.")}finally{f(!1)}};return o.jsx(o.Fragment,{children:o.jsx("div",{className:"modal fade",id:"forgotPasswordModal",tabIndex:"-1","aria-labelledby":"forgotPasswordModalLabel","aria-hidden":"true",children:o.jsx("div",{className:"modal-dialog",children:o.jsxs("div",{className:"modal-content",children:[o.jsxs("div",{className:"modal-header",children:[o.jsxs("h5",{className:"modal-title",id:"forgotPasswordModalLabel",children:[x===1&&"Forgot Password",x===2&&"Verify OTP",x===3&&"Create New Password"]}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsxs("div",{className:"modal-body",children:[x===1&&o.jsxs("form",{onSubmit:C,children:[o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"email",className:"form-label",children:"Email Address"}),o.jsx("input",{type:"email",id:"email",className:"form-control",placeholder:"johndoe@gmail.com",onChange:N=>e(N.target.value),required:!0})]}),m&&o.jsx("div",{className:"alert alert-success",children:m}),b&&o.jsx("div",{className:"alert alert-danger",children:b}),o.jsx("div",{className:"d-grid",children:o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:h,children:h?"Processing...":"Send OTP"})})]}),x===2&&o.jsxs("form",{onSubmit:k,children:[o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"otp",className:"form-label",children:"Enter OTP"}),o.jsx("input",{type:"text",id:"otp",className:"form-control",placeholder:"Enter the OTP sent to your email",onChange:N=>r(N.target.value),required:!0})]}),b&&o.jsx("div",{className:"alert alert-danger",children:b}),o.jsx("div",{className:"d-grid",children:o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:h,children:h?"Verifying...":"Verify OTP"})})]}),x===3&&o.jsxs("form",{onSubmit:A,children:[o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"password",className:"form-label",children:"New Password"}),o.jsx("input",{type:"password",id:"password",className:"form-control",placeholder:"Enter new password",onChange:N=>i(N.target.value),required:!0})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"confirmPassword",className:"form-label",children:"Confirm Password"}),o.jsx("input",{type:"password",id:"confirmPassword",className:"form-control",placeholder:"Confirm new password",onChange:N=>l(N.target.value),required:!0})]}),b&&o.jsx("div",{className:"alert alert-danger",children:b}),o.jsx("div",{className:"d-grid",children:o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:h,children:h?"Saving...":"Save New Password"})})]})]})]})})})})}function nt(){return ng.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:1500,timerProgressBar:!0})}var Pb={exports:{}},kG=Pb.exports,$3;function EG(){return $3||($3=1,function(t,e){(function(n,r){t.exports=r(Wa())})(typeof self<"u"?self:kG,n=>(()=>{var r={7403:(l,c,u)=>{u.d(c,{default:()=>J});var h=u(4087),f=u.n(h);const m=function(X){return new RegExp(/<[a-z][\s\S]*>/i).test(X)},g=function(X,Y){return Math.floor(Math.random()*(Y-X+1))+X};var b="TYPE_CHARACTER",y="REMOVE_CHARACTER",x="REMOVE_ALL",w="REMOVE_LAST_VISIBLE_NODE",C="PAUSE_FOR",k="CALL_FUNCTION",A="ADD_HTML_TAG_ELEMENT",N="CHANGE_DELETE_SPEED",P="CHANGE_DELAY",M="CHANGE_CURSOR",L="PASTE_STRING",D="HTML_TAG";function S(X){return S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},S(X)}function z(X,Y){var F=Object.keys(X);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(X);Y&&(H=H.filter(function(de){return Object.getOwnPropertyDescriptor(X,de).enumerable})),F.push.apply(F,H)}return F}function O(X){for(var Y=1;Y<arguments.length;Y++){var F=arguments[Y]!=null?arguments[Y]:{};Y%2?z(Object(F),!0).forEach(function(H){K(X,H,F[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(X,Object.getOwnPropertyDescriptors(F)):z(Object(F)).forEach(function(H){Object.defineProperty(X,H,Object.getOwnPropertyDescriptor(F,H))})}return X}function U(X){return function(Y){if(Array.isArray(Y))return j(Y)}(X)||function(Y){if(typeof Symbol<"u"&&Y[Symbol.iterator]!=null||Y["@@iterator"]!=null)return Array.from(Y)}(X)||function(Y,F){if(Y){if(typeof Y=="string")return j(Y,F);var H=Object.prototype.toString.call(Y).slice(8,-1);return H==="Object"&&Y.constructor&&(H=Y.constructor.name),H==="Map"||H==="Set"?Array.from(Y):H==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(H)?j(Y,F):void 0}}(X)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function j(X,Y){(Y==null||Y>X.length)&&(Y=X.length);for(var F=0,H=new Array(Y);F<Y;F++)H[F]=X[F];return H}function V(X,Y){for(var F=0;F<Y.length;F++){var H=Y[F];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(X,te(H.key),H)}}function K(X,Y,F){return(Y=te(Y))in X?Object.defineProperty(X,Y,{value:F,enumerable:!0,configurable:!0,writable:!0}):X[Y]=F,X}function te(X){var Y=function(F,H){if(S(F)!=="object"||F===null)return F;var de=F[Symbol.toPrimitive];if(de!==void 0){var ee=de.call(F,"string");if(S(ee)!=="object")return ee;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(F)}(X);return S(Y)==="symbol"?Y:String(Y)}const J=function(){function X(H,de){var ee=this;if(function(ve,Ce){if(!(ve instanceof Ce))throw new TypeError("Cannot call a class as a function")}(this,X),K(this,"state",{cursorAnimation:null,lastFrameTime:null,pauseUntil:null,eventQueue:[],eventLoop:null,eventLoopPaused:!1,reverseCalledEvents:[],calledEvents:[],visibleNodes:[],initialOptions:null,elements:{container:null,wrapper:document.createElement("span"),cursor:document.createElement("span")}}),K(this,"options",{strings:null,cursor:"|",delay:"natural",pauseFor:1500,deleteSpeed:"natural",loop:!1,autoStart:!1,devMode:!1,skipAddStyles:!1,wrapperClassName:"Typewriter__wrapper",cursorClassName:"Typewriter__cursor",stringSplitter:null,onCreateTextNode:null,onRemoveNode:null}),K(this,"setupWrapperElement",function(){ee.state.elements.container&&(ee.state.elements.wrapper.className=ee.options.wrapperClassName,ee.state.elements.cursor.className=ee.options.cursorClassName,ee.state.elements.cursor.innerHTML=ee.options.cursor,ee.state.elements.container.innerHTML="",ee.state.elements.container.appendChild(ee.state.elements.wrapper),ee.state.elements.container.appendChild(ee.state.elements.cursor))}),K(this,"start",function(){return ee.state.eventLoopPaused=!1,ee.runEventLoop(),ee}),K(this,"pause",function(){return ee.state.eventLoopPaused=!0,ee}),K(this,"stop",function(){return ee.state.eventLoop&&((0,h.cancel)(ee.state.eventLoop),ee.state.eventLoop=null),ee}),K(this,"pauseFor",function(ve){return ee.addEventToQueue(C,{ms:ve}),ee}),K(this,"typeOutAllStrings",function(){return typeof ee.options.strings=="string"?(ee.typeString(ee.options.strings).pauseFor(ee.options.pauseFor),ee):(ee.options.strings.forEach(function(ve){ee.typeString(ve).pauseFor(ee.options.pauseFor).deleteAll(ee.options.deleteSpeed)}),ee)}),K(this,"typeString",function(ve){var Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(m(ve))return ee.typeOutHTMLString(ve,Ce);if(ve){var De=(ee.options||{}).stringSplitter,Ee=typeof De=="function"?De(ve):ve.split("");ee.typeCharacters(Ee,Ce)}return ee}),K(this,"pasteString",function(ve){var Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return m(ve)?ee.typeOutHTMLString(ve,Ce,!0):(ve&&ee.addEventToQueue(L,{character:ve,node:Ce}),ee)}),K(this,"typeOutHTMLString",function(ve){var Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,De=arguments.length>2?arguments[2]:void 0,Ee=function(it){var G=document.createElement("div");return G.innerHTML=it,G.childNodes}(ve);if(Ee.length>0)for(var Be=0;Be<Ee.length;Be++){var Ve=Ee[Be],rt=Ve.innerHTML;Ve&&Ve.nodeType!==3?(Ve.innerHTML="",ee.addEventToQueue(A,{node:Ve,parentNode:Ce}),De?ee.pasteString(rt,Ve):ee.typeString(rt,Ve)):Ve.textContent&&(De?ee.pasteString(Ve.textContent,Ce):ee.typeString(Ve.textContent,Ce))}return ee}),K(this,"deleteAll",function(){var ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"natural";return ee.addEventToQueue(x,{speed:ve}),ee}),K(this,"changeDeleteSpeed",function(ve){if(!ve)throw new Error("Must provide new delete speed");return ee.addEventToQueue(N,{speed:ve}),ee}),K(this,"changeDelay",function(ve){if(!ve)throw new Error("Must provide new delay");return ee.addEventToQueue(P,{delay:ve}),ee}),K(this,"changeCursor",function(ve){if(!ve)throw new Error("Must provide new cursor");return ee.addEventToQueue(M,{cursor:ve}),ee}),K(this,"deleteChars",function(ve){if(!ve)throw new Error("Must provide amount of characters to delete");for(var Ce=0;Ce<ve;Ce++)ee.addEventToQueue(y);return ee}),K(this,"callFunction",function(ve,Ce){if(!ve||typeof ve!="function")throw new Error("Callback must be a function");return ee.addEventToQueue(k,{cb:ve,thisArg:Ce}),ee}),K(this,"typeCharacters",function(ve){var Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!ve||!Array.isArray(ve))throw new Error("Characters must be an array");return ve.forEach(function(De){ee.addEventToQueue(b,{character:De,node:Ce})}),ee}),K(this,"removeCharacters",function(ve){if(!ve||!Array.isArray(ve))throw new Error("Characters must be an array");return ve.forEach(function(){ee.addEventToQueue(y)}),ee}),K(this,"addEventToQueue",function(ve,Ce){var De=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return ee.addEventToStateProperty(ve,Ce,De,"eventQueue")}),K(this,"addReverseCalledEvent",function(ve,Ce){var De=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return ee.options.loop?ee.addEventToStateProperty(ve,Ce,De,"reverseCalledEvents"):ee}),K(this,"addEventToStateProperty",function(ve,Ce){var De=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Ee=arguments.length>3?arguments[3]:void 0,Be={eventName:ve,eventArgs:Ce||{}};return ee.state[Ee]=De?[Be].concat(U(ee.state[Ee])):[].concat(U(ee.state[Ee]),[Be]),ee}),K(this,"runEventLoop",function(){ee.state.lastFrameTime||(ee.state.lastFrameTime=Date.now());var ve=Date.now(),Ce=ve-ee.state.lastFrameTime;if(!ee.state.eventQueue.length){if(!ee.options.loop)return;ee.state.eventQueue=U(ee.state.calledEvents),ee.state.calledEvents=[],ee.options=O({},ee.state.initialOptions)}if(ee.state.eventLoop=f()(ee.runEventLoop),!ee.state.eventLoopPaused){if(ee.state.pauseUntil){if(ve<ee.state.pauseUntil)return;ee.state.pauseUntil=null}var De,Ee=U(ee.state.eventQueue),Be=Ee.shift();if(!(Ce<=(De=Be.eventName===w||Be.eventName===y?ee.options.deleteSpeed==="natural"?g(40,80):ee.options.deleteSpeed:ee.options.delay==="natural"?g(120,160):ee.options.delay))){var Ve=Be.eventName,rt=Be.eventArgs;switch(ee.logInDevMode({currentEvent:Be,state:ee.state,delay:De}),Ve){case L:case b:var it=rt.character,G=rt.node,Ae=document.createTextNode(it),be=Ae;ee.options.onCreateTextNode&&typeof ee.options.onCreateTextNode=="function"&&(be=ee.options.onCreateTextNode(it,Ae)),be&&(G?G.appendChild(be):ee.state.elements.wrapper.appendChild(be)),ee.state.visibleNodes=[].concat(U(ee.state.visibleNodes),[{type:"TEXT_NODE",character:it,node:be}]);break;case y:Ee.unshift({eventName:w,eventArgs:{removingCharacterNode:!0}});break;case C:var re=Be.eventArgs.ms;ee.state.pauseUntil=Date.now()+parseInt(re);break;case k:var ne=Be.eventArgs,ce=ne.cb,Te=ne.thisArg;ce.call(Te,{elements:ee.state.elements});break;case A:var he=Be.eventArgs,se=he.node,ye=he.parentNode;ye?ye.appendChild(se):ee.state.elements.wrapper.appendChild(se),ee.state.visibleNodes=[].concat(U(ee.state.visibleNodes),[{type:D,node:se,parentNode:ye||ee.state.elements.wrapper}]);break;case x:var Pe=ee.state.visibleNodes,Oe=rt.speed,xe=[];Oe&&xe.push({eventName:N,eventArgs:{speed:Oe,temp:!0}});for(var at=0,lt=Pe.length;at<lt;at++)xe.push({eventName:w,eventArgs:{removingCharacterNode:!1}});Oe&&xe.push({eventName:N,eventArgs:{speed:ee.options.deleteSpeed,temp:!0}}),Ee.unshift.apply(Ee,xe);break;case w:var ze=Be.eventArgs.removingCharacterNode;if(ee.state.visibleNodes.length){var Le=ee.state.visibleNodes.pop(),ct=Le.type,tt=Le.node,He=Le.character;ee.options.onRemoveNode&&typeof ee.options.onRemoveNode=="function"&&ee.options.onRemoveNode({node:tt,character:He}),tt&&tt.parentNode.removeChild(tt),ct===D&&ze&&Ee.unshift({eventName:w,eventArgs:{}})}break;case N:ee.options.deleteSpeed=Be.eventArgs.speed;break;case P:ee.options.delay=Be.eventArgs.delay;break;case M:ee.options.cursor=Be.eventArgs.cursor,ee.state.elements.cursor.innerHTML=Be.eventArgs.cursor}ee.options.loop&&(Be.eventName===w||Be.eventArgs&&Be.eventArgs.temp||(ee.state.calledEvents=[].concat(U(ee.state.calledEvents),[Be]))),ee.state.eventQueue=Ee,ee.state.lastFrameTime=ve}}}),H)if(typeof H=="string"){var fe=document.querySelector(H);if(!fe)throw new Error("Could not find container element");this.state.elements.container=fe}else this.state.elements.container=H;de&&(this.options=O(O({},this.options),de)),this.state.initialOptions=O({},this.options),this.init()}var Y,F;return Y=X,(F=[{key:"init",value:function(){var H,de;this.setupWrapperElement(),this.addEventToQueue(M,{cursor:this.options.cursor},!0),this.addEventToQueue(x,null,!0),!window||window.___TYPEWRITER_JS_STYLES_ADDED___||this.options.skipAddStyles||(H=".Typewriter__cursor{-webkit-animation:Typewriter-cursor 1s infinite;animation:Typewriter-cursor 1s infinite;margin-left:1px}@-webkit-keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}@keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}",(de=document.createElement("style")).appendChild(document.createTextNode(H)),document.head.appendChild(de),window.___TYPEWRITER_JS_STYLES_ADDED___=!0),this.options.autoStart===!0&&this.options.strings&&this.typeOutAllStrings().start()}},{key:"logInDevMode",value:function(H){this.options.devMode&&console.log(H)}}])&&V(Y.prototype,F),Object.defineProperty(Y,"prototype",{writable:!1}),X}()},8552:(l,c,u)=>{var h=u(852)(u(5639),"DataView");l.exports=h},1989:(l,c,u)=>{var h=u(1789),f=u(401),m=u(7667),g=u(1327),b=u(1866);function y(x){var w=-1,C=x==null?0:x.length;for(this.clear();++w<C;){var k=x[w];this.set(k[0],k[1])}}y.prototype.clear=h,y.prototype.delete=f,y.prototype.get=m,y.prototype.has=g,y.prototype.set=b,l.exports=y},8407:(l,c,u)=>{var h=u(7040),f=u(4125),m=u(2117),g=u(7518),b=u(4705);function y(x){var w=-1,C=x==null?0:x.length;for(this.clear();++w<C;){var k=x[w];this.set(k[0],k[1])}}y.prototype.clear=h,y.prototype.delete=f,y.prototype.get=m,y.prototype.has=g,y.prototype.set=b,l.exports=y},7071:(l,c,u)=>{var h=u(852)(u(5639),"Map");l.exports=h},3369:(l,c,u)=>{var h=u(4785),f=u(1285),m=u(6e3),g=u(9916),b=u(5265);function y(x){var w=-1,C=x==null?0:x.length;for(this.clear();++w<C;){var k=x[w];this.set(k[0],k[1])}}y.prototype.clear=h,y.prototype.delete=f,y.prototype.get=m,y.prototype.has=g,y.prototype.set=b,l.exports=y},3818:(l,c,u)=>{var h=u(852)(u(5639),"Promise");l.exports=h},8525:(l,c,u)=>{var h=u(852)(u(5639),"Set");l.exports=h},8668:(l,c,u)=>{var h=u(3369),f=u(619),m=u(2385);function g(b){var y=-1,x=b==null?0:b.length;for(this.__data__=new h;++y<x;)this.add(b[y])}g.prototype.add=g.prototype.push=f,g.prototype.has=m,l.exports=g},6384:(l,c,u)=>{var h=u(8407),f=u(7465),m=u(3779),g=u(7599),b=u(4758),y=u(4309);function x(w){var C=this.__data__=new h(w);this.size=C.size}x.prototype.clear=f,x.prototype.delete=m,x.prototype.get=g,x.prototype.has=b,x.prototype.set=y,l.exports=x},2705:(l,c,u)=>{var h=u(5639).Symbol;l.exports=h},1149:(l,c,u)=>{var h=u(5639).Uint8Array;l.exports=h},577:(l,c,u)=>{var h=u(852)(u(5639),"WeakMap");l.exports=h},4963:l=>{l.exports=function(c,u){for(var h=-1,f=c==null?0:c.length,m=0,g=[];++h<f;){var b=c[h];u(b,h,c)&&(g[m++]=b)}return g}},4636:(l,c,u)=>{var h=u(2545),f=u(5694),m=u(1469),g=u(4144),b=u(5776),y=u(6719),x=Object.prototype.hasOwnProperty;l.exports=function(w,C){var k=m(w),A=!k&&f(w),N=!k&&!A&&g(w),P=!k&&!A&&!N&&y(w),M=k||A||N||P,L=M?h(w.length,String):[],D=L.length;for(var S in w)!C&&!x.call(w,S)||M&&(S=="length"||N&&(S=="offset"||S=="parent")||P&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||b(S,D))||L.push(S);return L}},2488:l=>{l.exports=function(c,u){for(var h=-1,f=u.length,m=c.length;++h<f;)c[m+h]=u[h];return c}},2908:l=>{l.exports=function(c,u){for(var h=-1,f=c==null?0:c.length;++h<f;)if(u(c[h],h,c))return!0;return!1}},8470:(l,c,u)=>{var h=u(7813);l.exports=function(f,m){for(var g=f.length;g--;)if(h(f[g][0],m))return g;return-1}},8866:(l,c,u)=>{var h=u(2488),f=u(1469);l.exports=function(m,g,b){var y=g(m);return f(m)?y:h(y,b(m))}},4239:(l,c,u)=>{var h=u(2705),f=u(9607),m=u(2333),g=h?h.toStringTag:void 0;l.exports=function(b){return b==null?b===void 0?"[object Undefined]":"[object Null]":g&&g in Object(b)?f(b):m(b)}},9454:(l,c,u)=>{var h=u(4239),f=u(7005);l.exports=function(m){return f(m)&&h(m)=="[object Arguments]"}},939:(l,c,u)=>{var h=u(2492),f=u(7005);l.exports=function m(g,b,y,x,w){return g===b||(g==null||b==null||!f(g)&&!f(b)?g!=g&&b!=b:h(g,b,y,x,m,w))}},2492:(l,c,u)=>{var h=u(6384),f=u(7114),m=u(8351),g=u(6096),b=u(4160),y=u(1469),x=u(4144),w=u(6719),C="[object Arguments]",k="[object Array]",A="[object Object]",N=Object.prototype.hasOwnProperty;l.exports=function(P,M,L,D,S,z){var O=y(P),U=y(M),j=O?k:b(P),V=U?k:b(M),K=(j=j==C?A:j)==A,te=(V=V==C?A:V)==A,J=j==V;if(J&&x(P)){if(!x(M))return!1;O=!0,K=!1}if(J&&!K)return z||(z=new h),O||w(P)?f(P,M,L,D,S,z):m(P,M,j,L,D,S,z);if(!(1&L)){var X=K&&N.call(P,"__wrapped__"),Y=te&&N.call(M,"__wrapped__");if(X||Y){var F=X?P.value():P,H=Y?M.value():M;return z||(z=new h),S(F,H,L,D,z)}}return!!J&&(z||(z=new h),g(P,M,L,D,S,z))}},8458:(l,c,u)=>{var h=u(3560),f=u(5346),m=u(3218),g=u(346),b=/^\[object .+?Constructor\]$/,y=Function.prototype,x=Object.prototype,w=y.toString,C=x.hasOwnProperty,k=RegExp("^"+w.call(C).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");l.exports=function(A){return!(!m(A)||f(A))&&(h(A)?k:b).test(g(A))}},8749:(l,c,u)=>{var h=u(4239),f=u(1780),m=u(7005),g={};g["[object Float32Array]"]=g["[object Float64Array]"]=g["[object Int8Array]"]=g["[object Int16Array]"]=g["[object Int32Array]"]=g["[object Uint8Array]"]=g["[object Uint8ClampedArray]"]=g["[object Uint16Array]"]=g["[object Uint32Array]"]=!0,g["[object Arguments]"]=g["[object Array]"]=g["[object ArrayBuffer]"]=g["[object Boolean]"]=g["[object DataView]"]=g["[object Date]"]=g["[object Error]"]=g["[object Function]"]=g["[object Map]"]=g["[object Number]"]=g["[object Object]"]=g["[object RegExp]"]=g["[object Set]"]=g["[object String]"]=g["[object WeakMap]"]=!1,l.exports=function(b){return m(b)&&f(b.length)&&!!g[h(b)]}},280:(l,c,u)=>{var h=u(5726),f=u(6916),m=Object.prototype.hasOwnProperty;l.exports=function(g){if(!h(g))return f(g);var b=[];for(var y in Object(g))m.call(g,y)&&y!="constructor"&&b.push(y);return b}},2545:l=>{l.exports=function(c,u){for(var h=-1,f=Array(c);++h<c;)f[h]=u(h);return f}},1717:l=>{l.exports=function(c){return function(u){return c(u)}}},4757:l=>{l.exports=function(c,u){return c.has(u)}},4429:(l,c,u)=>{var h=u(5639)["__core-js_shared__"];l.exports=h},7114:(l,c,u)=>{var h=u(8668),f=u(2908),m=u(4757);l.exports=function(g,b,y,x,w,C){var k=1&y,A=g.length,N=b.length;if(A!=N&&!(k&&N>A))return!1;var P=C.get(g),M=C.get(b);if(P&&M)return P==b&&M==g;var L=-1,D=!0,S=2&y?new h:void 0;for(C.set(g,b),C.set(b,g);++L<A;){var z=g[L],O=b[L];if(x)var U=k?x(O,z,L,b,g,C):x(z,O,L,g,b,C);if(U!==void 0){if(U)continue;D=!1;break}if(S){if(!f(b,function(j,V){if(!m(S,V)&&(z===j||w(z,j,y,x,C)))return S.push(V)})){D=!1;break}}else if(z!==O&&!w(z,O,y,x,C)){D=!1;break}}return C.delete(g),C.delete(b),D}},8351:(l,c,u)=>{var h=u(2705),f=u(1149),m=u(7813),g=u(7114),b=u(8776),y=u(1814),x=h?h.prototype:void 0,w=x?x.valueOf:void 0;l.exports=function(C,k,A,N,P,M,L){switch(A){case"[object DataView]":if(C.byteLength!=k.byteLength||C.byteOffset!=k.byteOffset)return!1;C=C.buffer,k=k.buffer;case"[object ArrayBuffer]":return!(C.byteLength!=k.byteLength||!M(new f(C),new f(k)));case"[object Boolean]":case"[object Date]":case"[object Number]":return m(+C,+k);case"[object Error]":return C.name==k.name&&C.message==k.message;case"[object RegExp]":case"[object String]":return C==k+"";case"[object Map]":var D=b;case"[object Set]":var S=1&N;if(D||(D=y),C.size!=k.size&&!S)return!1;var z=L.get(C);if(z)return z==k;N|=2,L.set(C,k);var O=g(D(C),D(k),N,P,M,L);return L.delete(C),O;case"[object Symbol]":if(w)return w.call(C)==w.call(k)}return!1}},6096:(l,c,u)=>{var h=u(8234),f=Object.prototype.hasOwnProperty;l.exports=function(m,g,b,y,x,w){var C=1&b,k=h(m),A=k.length;if(A!=h(g).length&&!C)return!1;for(var N=A;N--;){var P=k[N];if(!(C?P in g:f.call(g,P)))return!1}var M=w.get(m),L=w.get(g);if(M&&L)return M==g&&L==m;var D=!0;w.set(m,g),w.set(g,m);for(var S=C;++N<A;){var z=m[P=k[N]],O=g[P];if(y)var U=C?y(O,z,P,g,m,w):y(z,O,P,m,g,w);if(!(U===void 0?z===O||x(z,O,b,y,w):U)){D=!1;break}S||(S=P=="constructor")}if(D&&!S){var j=m.constructor,V=g.constructor;j==V||!("constructor"in m)||!("constructor"in g)||typeof j=="function"&&j instanceof j&&typeof V=="function"&&V instanceof V||(D=!1)}return w.delete(m),w.delete(g),D}},1957:(l,c,u)=>{var h=typeof u.g=="object"&&u.g&&u.g.Object===Object&&u.g;l.exports=h},8234:(l,c,u)=>{var h=u(8866),f=u(9551),m=u(3674);l.exports=function(g){return h(g,m,f)}},5050:(l,c,u)=>{var h=u(7019);l.exports=function(f,m){var g=f.__data__;return h(m)?g[typeof m=="string"?"string":"hash"]:g.map}},852:(l,c,u)=>{var h=u(8458),f=u(7801);l.exports=function(m,g){var b=f(m,g);return h(b)?b:void 0}},9607:(l,c,u)=>{var h=u(2705),f=Object.prototype,m=f.hasOwnProperty,g=f.toString,b=h?h.toStringTag:void 0;l.exports=function(y){var x=m.call(y,b),w=y[b];try{y[b]=void 0;var C=!0}catch{}var k=g.call(y);return C&&(x?y[b]=w:delete y[b]),k}},9551:(l,c,u)=>{var h=u(4963),f=u(479),m=Object.prototype.propertyIsEnumerable,g=Object.getOwnPropertySymbols,b=g?function(y){return y==null?[]:(y=Object(y),h(g(y),function(x){return m.call(y,x)}))}:f;l.exports=b},4160:(l,c,u)=>{var h=u(8552),f=u(7071),m=u(3818),g=u(8525),b=u(577),y=u(4239),x=u(346),w="[object Map]",C="[object Promise]",k="[object Set]",A="[object WeakMap]",N="[object DataView]",P=x(h),M=x(f),L=x(m),D=x(g),S=x(b),z=y;(h&&z(new h(new ArrayBuffer(1)))!=N||f&&z(new f)!=w||m&&z(m.resolve())!=C||g&&z(new g)!=k||b&&z(new b)!=A)&&(z=function(O){var U=y(O),j=U=="[object Object]"?O.constructor:void 0,V=j?x(j):"";if(V)switch(V){case P:return N;case M:return w;case L:return C;case D:return k;case S:return A}return U}),l.exports=z},7801:l=>{l.exports=function(c,u){return c==null?void 0:c[u]}},1789:(l,c,u)=>{var h=u(4536);l.exports=function(){this.__data__=h?h(null):{},this.size=0}},401:l=>{l.exports=function(c){var u=this.has(c)&&delete this.__data__[c];return this.size-=u?1:0,u}},7667:(l,c,u)=>{var h=u(4536),f=Object.prototype.hasOwnProperty;l.exports=function(m){var g=this.__data__;if(h){var b=g[m];return b==="__lodash_hash_undefined__"?void 0:b}return f.call(g,m)?g[m]:void 0}},1327:(l,c,u)=>{var h=u(4536),f=Object.prototype.hasOwnProperty;l.exports=function(m){var g=this.__data__;return h?g[m]!==void 0:f.call(g,m)}},1866:(l,c,u)=>{var h=u(4536);l.exports=function(f,m){var g=this.__data__;return this.size+=this.has(f)?0:1,g[f]=h&&m===void 0?"__lodash_hash_undefined__":m,this}},5776:l=>{var c=/^(?:0|[1-9]\d*)$/;l.exports=function(u,h){var f=typeof u;return!!(h=h??9007199254740991)&&(f=="number"||f!="symbol"&&c.test(u))&&u>-1&&u%1==0&&u<h}},7019:l=>{l.exports=function(c){var u=typeof c;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?c!=="__proto__":c===null}},5346:(l,c,u)=>{var h,f=u(4429),m=(h=/[^.]+$/.exec(f&&f.keys&&f.keys.IE_PROTO||""))?"Symbol(src)_1."+h:"";l.exports=function(g){return!!m&&m in g}},5726:l=>{var c=Object.prototype;l.exports=function(u){var h=u&&u.constructor;return u===(typeof h=="function"&&h.prototype||c)}},7040:l=>{l.exports=function(){this.__data__=[],this.size=0}},4125:(l,c,u)=>{var h=u(8470),f=Array.prototype.splice;l.exports=function(m){var g=this.__data__,b=h(g,m);return!(b<0||(b==g.length-1?g.pop():f.call(g,b,1),--this.size,0))}},2117:(l,c,u)=>{var h=u(8470);l.exports=function(f){var m=this.__data__,g=h(m,f);return g<0?void 0:m[g][1]}},7518:(l,c,u)=>{var h=u(8470);l.exports=function(f){return h(this.__data__,f)>-1}},4705:(l,c,u)=>{var h=u(8470);l.exports=function(f,m){var g=this.__data__,b=h(g,f);return b<0?(++this.size,g.push([f,m])):g[b][1]=m,this}},4785:(l,c,u)=>{var h=u(1989),f=u(8407),m=u(7071);l.exports=function(){this.size=0,this.__data__={hash:new h,map:new(m||f),string:new h}}},1285:(l,c,u)=>{var h=u(5050);l.exports=function(f){var m=h(this,f).delete(f);return this.size-=m?1:0,m}},6e3:(l,c,u)=>{var h=u(5050);l.exports=function(f){return h(this,f).get(f)}},9916:(l,c,u)=>{var h=u(5050);l.exports=function(f){return h(this,f).has(f)}},5265:(l,c,u)=>{var h=u(5050);l.exports=function(f,m){var g=h(this,f),b=g.size;return g.set(f,m),this.size+=g.size==b?0:1,this}},8776:l=>{l.exports=function(c){var u=-1,h=Array(c.size);return c.forEach(function(f,m){h[++u]=[m,f]}),h}},4536:(l,c,u)=>{var h=u(852)(Object,"create");l.exports=h},6916:(l,c,u)=>{var h=u(5569)(Object.keys,Object);l.exports=h},1167:(l,c,u)=>{l=u.nmd(l);var h=u(1957),f=c&&!c.nodeType&&c,m=f&&l&&!l.nodeType&&l,g=m&&m.exports===f&&h.process,b=function(){try{return m&&m.require&&m.require("util").types||g&&g.binding&&g.binding("util")}catch{}}();l.exports=b},2333:l=>{var c=Object.prototype.toString;l.exports=function(u){return c.call(u)}},5569:l=>{l.exports=function(c,u){return function(h){return c(u(h))}}},5639:(l,c,u)=>{var h=u(1957),f=typeof self=="object"&&self&&self.Object===Object&&self,m=h||f||Function("return this")();l.exports=m},619:l=>{l.exports=function(c){return this.__data__.set(c,"__lodash_hash_undefined__"),this}},2385:l=>{l.exports=function(c){return this.__data__.has(c)}},1814:l=>{l.exports=function(c){var u=-1,h=Array(c.size);return c.forEach(function(f){h[++u]=f}),h}},7465:(l,c,u)=>{var h=u(8407);l.exports=function(){this.__data__=new h,this.size=0}},3779:l=>{l.exports=function(c){var u=this.__data__,h=u.delete(c);return this.size=u.size,h}},7599:l=>{l.exports=function(c){return this.__data__.get(c)}},4758:l=>{l.exports=function(c){return this.__data__.has(c)}},4309:(l,c,u)=>{var h=u(8407),f=u(7071),m=u(3369);l.exports=function(g,b){var y=this.__data__;if(y instanceof h){var x=y.__data__;if(!f||x.length<199)return x.push([g,b]),this.size=++y.size,this;y=this.__data__=new m(x)}return y.set(g,b),this.size=y.size,this}},346:l=>{var c=Function.prototype.toString;l.exports=function(u){if(u!=null){try{return c.call(u)}catch{}try{return u+""}catch{}}return""}},7813:l=>{l.exports=function(c,u){return c===u||c!=c&&u!=u}},5694:(l,c,u)=>{var h=u(9454),f=u(7005),m=Object.prototype,g=m.hasOwnProperty,b=m.propertyIsEnumerable,y=h(function(){return arguments}())?h:function(x){return f(x)&&g.call(x,"callee")&&!b.call(x,"callee")};l.exports=y},1469:l=>{var c=Array.isArray;l.exports=c},8612:(l,c,u)=>{var h=u(3560),f=u(1780);l.exports=function(m){return m!=null&&f(m.length)&&!h(m)}},4144:(l,c,u)=>{l=u.nmd(l);var h=u(5639),f=u(5062),m=c&&!c.nodeType&&c,g=m&&l&&!l.nodeType&&l,b=g&&g.exports===m?h.Buffer:void 0,y=(b?b.isBuffer:void 0)||f;l.exports=y},8446:(l,c,u)=>{var h=u(939);l.exports=function(f,m){return h(f,m)}},3560:(l,c,u)=>{var h=u(4239),f=u(3218);l.exports=function(m){if(!f(m))return!1;var g=h(m);return g=="[object Function]"||g=="[object GeneratorFunction]"||g=="[object AsyncFunction]"||g=="[object Proxy]"}},1780:l=>{l.exports=function(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=9007199254740991}},3218:l=>{l.exports=function(c){var u=typeof c;return c!=null&&(u=="object"||u=="function")}},7005:l=>{l.exports=function(c){return c!=null&&typeof c=="object"}},6719:(l,c,u)=>{var h=u(8749),f=u(1717),m=u(1167),g=m&&m.isTypedArray,b=g?f(g):h;l.exports=b},3674:(l,c,u)=>{var h=u(4636),f=u(280),m=u(8612);l.exports=function(g){return m(g)?h(g):f(g)}},479:l=>{l.exports=function(){return[]}},5062:l=>{l.exports=function(){return!1}},75:function(l){(function(){var c,u,h,f,m,g;typeof performance<"u"&&performance!==null&&performance.now?l.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(l.exports=function(){return(c()-m)/1e6},u=process.hrtime,f=(c=function(){var b;return 1e9*(b=u())[0]+b[1]})(),g=1e9*process.uptime(),m=f-g):Date.now?(l.exports=function(){return Date.now()-h},h=Date.now()):(l.exports=function(){return new Date().getTime()-h},h=new Date().getTime())}).call(this)},4087:(l,c,u)=>{for(var h=u(75),f=typeof window>"u"?u.g:window,m=["moz","webkit"],g="AnimationFrame",b=f["request"+g],y=f["cancel"+g]||f["cancelRequest"+g],x=0;!b&&x<m.length;x++)b=f[m[x]+"Request"+g],y=f[m[x]+"Cancel"+g]||f[m[x]+"CancelRequest"+g];if(!b||!y){var w=0,C=0,k=[];b=function(A){if(k.length===0){var N=h(),P=Math.max(0,16.666666666666668-(N-w));w=P+N,setTimeout(function(){var M=k.slice(0);k.length=0;for(var L=0;L<M.length;L++)if(!M[L].cancelled)try{M[L].callback(w)}catch(D){setTimeout(function(){throw D},0)}},Math.round(P))}return k.push({handle:++C,callback:A,cancelled:!1}),C},y=function(A){for(var N=0;N<k.length;N++)k[N].handle===A&&(k[N].cancelled=!0)}}l.exports=function(A){return b.call(f,A)},l.exports.cancel=function(){y.apply(f,arguments)},l.exports.polyfill=function(A){A||(A=f),A.requestAnimationFrame=b,A.cancelAnimationFrame=y}},8156:l=>{l.exports=n}},s={};function i(l){var c=s[l];if(c!==void 0)return c.exports;var u=s[l]={id:l,loaded:!1,exports:{}};return r[l].call(u.exports,u,u.exports,i),u.loaded=!0,u.exports}i.n=l=>{var c=l&&l.__esModule?()=>l.default:()=>l;return i.d(c,{a:c}),c},i.d=(l,c)=>{for(var u in c)i.o(c,u)&&!i.o(l,u)&&Object.defineProperty(l,u,{enumerable:!0,get:c[u]})},i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),i.o=(l,c)=>Object.prototype.hasOwnProperty.call(l,c),i.nmd=l=>(l.paths=[],l.children||(l.children=[]),l);var a={};return(()=>{i.d(a,{default:()=>k});var l=i(8156),c=i.n(l),u=i(7403),h=i(8446),f=i.n(h);function m(A){return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},m(A)}function g(A,N){for(var P=0;P<N.length;P++){var M=N[P];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(A,w(M.key),M)}}function b(A,N){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(P,M){return P.__proto__=M,P},b(A,N)}function y(A){if(A===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}function x(A){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(N){return N.__proto__||Object.getPrototypeOf(N)},x(A)}function w(A){var N=function(P,M){if(m(P)!=="object"||P===null)return P;var L=P[Symbol.toPrimitive];if(L!==void 0){var D=L.call(P,"string");if(m(D)!=="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(P)}(A);return m(N)==="symbol"?N:String(N)}var C=function(A){(function(z,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(O&&O.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),Object.defineProperty(z,"prototype",{writable:!1}),O&&b(z,O)})(S,A);var N,P,M,L,D=(M=S,L=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var z,O=x(M);if(L){var U=x(this).constructor;z=Reflect.construct(O,arguments,U)}else z=O.apply(this,arguments);return function(j,V){if(V&&(m(V)==="object"||typeof V=="function"))return V;if(V!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y(j)}(this,z)});function S(){var z,O,U,j;(function(J,X){if(!(J instanceof X))throw new TypeError("Cannot call a class as a function")})(this,S);for(var V=arguments.length,K=new Array(V),te=0;te<V;te++)K[te]=arguments[te];return O=y(z=D.call.apply(D,[this].concat(K))),j={instance:null},(U=w(U="state"))in O?Object.defineProperty(O,U,{value:j,enumerable:!0,configurable:!0,writable:!0}):O[U]=j,z}return N=S,(P=[{key:"componentDidMount",value:function(){var z=this,O=new u.default(this.typewriter,this.props.options);this.setState({instance:O},function(){var U=z.props.onInit;U&&U(O)})}},{key:"componentDidUpdate",value:function(z){f()(this.props.options,z.options)||this.setState({instance:new u.default(this.typewriter,this.props.options)})}},{key:"componentWillUnmount",value:function(){this.state.instance&&this.state.instance.stop()}},{key:"render",value:function(){var z=this,O=this.props.component;return c().createElement(O,{ref:function(U){return z.typewriter=U},className:"Typewriter","data-testid":"typewriter-wrapper"})}}])&&g(N.prototype,P),Object.defineProperty(N,"prototype",{writable:!1}),S}(l.Component);C.defaultProps={component:"div"};const k=C})(),a.default})())}(Pb)),Pb.exports}var jG=EG();const NG=Jr(jG),AG="/assets/logo-Ctzr3ybd.png";var Ib={exports:{}},DG=Ib.exports,z3;function PG(){return z3||(z3=1,function(t,e){(function(n,r){t.exports=r()})(DG,function(){return function(n){function r(i){if(s[i])return s[i].exports;var a=s[i]={exports:{},id:i,loaded:!1};return n[i].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}var s={};return r.m=n,r.c=s,r.p="dist/",r(0)}([function(n,r,s){function i(j){return j&&j.__esModule?j:{default:j}}var a=Object.assign||function(j){for(var V=1;V<arguments.length;V++){var K=arguments[V];for(var te in K)Object.prototype.hasOwnProperty.call(K,te)&&(j[te]=K[te])}return j},l=s(1),c=(i(l),s(6)),u=i(c),h=s(7),f=i(h),m=s(8),g=i(m),b=s(9),y=i(b),x=s(10),w=i(x),C=s(11),k=i(C),A=s(14),N=i(A),P=[],M=!1,L={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},D=function(){var j=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(j&&(M=!0),M)return P=(0,k.default)(P,L),(0,w.default)(P,L.once),P},S=function(){P=(0,N.default)(),D()},z=function(){P.forEach(function(j,V){j.node.removeAttribute("data-aos"),j.node.removeAttribute("data-aos-easing"),j.node.removeAttribute("data-aos-duration"),j.node.removeAttribute("data-aos-delay")})},O=function(j){return j===!0||j==="mobile"&&y.default.mobile()||j==="phone"&&y.default.phone()||j==="tablet"&&y.default.tablet()||typeof j=="function"&&j()===!0},U=function(j){L=a(L,j),P=(0,N.default)();var V=document.all&&!window.atob;return O(L.disable)||V?z():(L.disableMutationObserver||g.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),L.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",L.easing),document.querySelector("body").setAttribute("data-aos-duration",L.duration),document.querySelector("body").setAttribute("data-aos-delay",L.delay),L.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?D(!0):L.startEvent==="load"?window.addEventListener(L.startEvent,function(){D(!0)}):document.addEventListener(L.startEvent,function(){D(!0)}),window.addEventListener("resize",(0,f.default)(D,L.debounceDelay,!0)),window.addEventListener("orientationchange",(0,f.default)(D,L.debounceDelay,!0)),window.addEventListener("scroll",(0,u.default)(function(){(0,w.default)(P,L.once)},L.throttleDelay)),L.disableMutationObserver||g.default.ready("[data-aos]",S),P)};n.exports={init:U,refresh:D,refreshHard:S}},function(n,r){},,,,,function(n,r){(function(s){function i(O,U,j){function V(G){var Ae=ee,be=fe;return ee=fe=void 0,Be=G,Ce=O.apply(be,Ae)}function K(G){return Be=G,De=setTimeout(X,U),Ve?V(G):Ce}function te(G){var Ae=G-Ee,be=G-Be,re=U-Ae;return rt?S(re,ve-be):re}function J(G){var Ae=G-Ee,be=G-Be;return Ee===void 0||Ae>=U||Ae<0||rt&&be>=ve}function X(){var G=z();return J(G)?Y(G):void(De=setTimeout(X,te(G)))}function Y(G){return De=void 0,it&&ee?V(G):(ee=fe=void 0,Ce)}function F(){De!==void 0&&clearTimeout(De),Be=0,ee=Ee=fe=De=void 0}function H(){return De===void 0?Ce:Y(z())}function de(){var G=z(),Ae=J(G);if(ee=arguments,fe=this,Ee=G,Ae){if(De===void 0)return K(Ee);if(rt)return De=setTimeout(X,U),V(Ee)}return De===void 0&&(De=setTimeout(X,U)),Ce}var ee,fe,ve,Ce,De,Ee,Be=0,Ve=!1,rt=!1,it=!0;if(typeof O!="function")throw new TypeError(m);return U=h(U)||0,l(j)&&(Ve=!!j.leading,rt="maxWait"in j,ve=rt?D(h(j.maxWait)||0,U):ve,it="trailing"in j?!!j.trailing:it),de.cancel=F,de.flush=H,de}function a(O,U,j){var V=!0,K=!0;if(typeof O!="function")throw new TypeError(m);return l(j)&&(V="leading"in j?!!j.leading:V,K="trailing"in j?!!j.trailing:K),i(O,U,{leading:V,maxWait:U,trailing:K})}function l(O){var U=typeof O>"u"?"undefined":f(O);return!!O&&(U=="object"||U=="function")}function c(O){return!!O&&(typeof O>"u"?"undefined":f(O))=="object"}function u(O){return(typeof O>"u"?"undefined":f(O))=="symbol"||c(O)&&L.call(O)==b}function h(O){if(typeof O=="number")return O;if(u(O))return g;if(l(O)){var U=typeof O.valueOf=="function"?O.valueOf():O;O=l(U)?U+"":U}if(typeof O!="string")return O===0?O:+O;O=O.replace(y,"");var j=w.test(O);return j||C.test(O)?k(O.slice(2),j?2:8):x.test(O)?g:+O}var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},m="Expected a function",g=NaN,b="[object Symbol]",y=/^\s+|\s+$/g,x=/^[-+]0x[0-9a-f]+$/i,w=/^0b[01]+$/i,C=/^0o[0-7]+$/i,k=parseInt,A=(typeof s>"u"?"undefined":f(s))=="object"&&s&&s.Object===Object&&s,N=(typeof self>"u"?"undefined":f(self))=="object"&&self&&self.Object===Object&&self,P=A||N||Function("return this")(),M=Object.prototype,L=M.toString,D=Math.max,S=Math.min,z=function(){return P.Date.now()};n.exports=a}).call(r,function(){return this}())},function(n,r){(function(s){function i(z,O,U){function j(it){var G=de,Ae=ee;return de=ee=void 0,Ee=it,ve=z.apply(Ae,G)}function V(it){return Ee=it,Ce=setTimeout(J,O),Be?j(it):ve}function K(it){var G=it-De,Ae=it-Ee,be=O-G;return Ve?D(be,fe-Ae):be}function te(it){var G=it-De,Ae=it-Ee;return De===void 0||G>=O||G<0||Ve&&Ae>=fe}function J(){var it=S();return te(it)?X(it):void(Ce=setTimeout(J,K(it)))}function X(it){return Ce=void 0,rt&&de?j(it):(de=ee=void 0,ve)}function Y(){Ce!==void 0&&clearTimeout(Ce),Ee=0,de=De=ee=Ce=void 0}function F(){return Ce===void 0?ve:X(S())}function H(){var it=S(),G=te(it);if(de=arguments,ee=this,De=it,G){if(Ce===void 0)return V(De);if(Ve)return Ce=setTimeout(J,O),j(De)}return Ce===void 0&&(Ce=setTimeout(J,O)),ve}var de,ee,fe,ve,Ce,De,Ee=0,Be=!1,Ve=!1,rt=!0;if(typeof z!="function")throw new TypeError(f);return O=u(O)||0,a(U)&&(Be=!!U.leading,Ve="maxWait"in U,fe=Ve?L(u(U.maxWait)||0,O):fe,rt="trailing"in U?!!U.trailing:rt),H.cancel=Y,H.flush=F,H}function a(z){var O=typeof z>"u"?"undefined":h(z);return!!z&&(O=="object"||O=="function")}function l(z){return!!z&&(typeof z>"u"?"undefined":h(z))=="object"}function c(z){return(typeof z>"u"?"undefined":h(z))=="symbol"||l(z)&&M.call(z)==g}function u(z){if(typeof z=="number")return z;if(c(z))return m;if(a(z)){var O=typeof z.valueOf=="function"?z.valueOf():z;z=a(O)?O+"":O}if(typeof z!="string")return z===0?z:+z;z=z.replace(b,"");var U=x.test(z);return U||w.test(z)?C(z.slice(2),U?2:8):y.test(z)?m:+z}var h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},f="Expected a function",m=NaN,g="[object Symbol]",b=/^\s+|\s+$/g,y=/^[-+]0x[0-9a-f]+$/i,x=/^0b[01]+$/i,w=/^0o[0-7]+$/i,C=parseInt,k=(typeof s>"u"?"undefined":h(s))=="object"&&s&&s.Object===Object&&s,A=(typeof self>"u"?"undefined":h(self))=="object"&&self&&self.Object===Object&&self,N=k||A||Function("return this")(),P=Object.prototype,M=P.toString,L=Math.max,D=Math.min,S=function(){return N.Date.now()};n.exports=i}).call(r,function(){return this}())},function(n,r){function s(h){var f=void 0,m=void 0;for(f=0;f<h.length;f+=1)if(m=h[f],m.dataset&&m.dataset.aos||m.children&&s(m.children))return!0;return!1}function i(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function a(){return!!i()}function l(h,f){var m=window.document,g=i(),b=new g(c);u=f,b.observe(m.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function c(h){h&&h.forEach(function(f){var m=Array.prototype.slice.call(f.addedNodes),g=Array.prototype.slice.call(f.removedNodes),b=m.concat(g);if(s(b))return u()})}Object.defineProperty(r,"__esModule",{value:!0});var u=function(){};r.default={isSupported:a,ready:l}},function(n,r){function s(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function i(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function m(g,b){for(var y=0;y<b.length;y++){var x=b[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,b,y){return b&&m(g.prototype,b),y&&m(g,y),g}}(),l=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,c=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,u=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,h=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,f=function(){function m(){s(this,m)}return a(m,[{key:"phone",value:function(){var g=i();return!(!l.test(g)&&!c.test(g.substr(0,4)))}},{key:"mobile",value:function(){var g=i();return!(!u.test(g)&&!h.test(g.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),m}();r.default=new f},function(n,r){Object.defineProperty(r,"__esModule",{value:!0});var s=function(a,l,c){var u=a.node.getAttribute("data-aos-once");l>a.position?a.node.classList.add("aos-animate"):typeof u<"u"&&(u==="false"||!c&&u!=="true")&&a.node.classList.remove("aos-animate")},i=function(a,l){var c=window.pageYOffset,u=window.innerHeight;a.forEach(function(h,f){s(h,u+c,l)})};r.default=i},function(n,r,s){function i(u){return u&&u.__esModule?u:{default:u}}Object.defineProperty(r,"__esModule",{value:!0});var a=s(12),l=i(a),c=function(u,h){return u.forEach(function(f,m){f.node.classList.add("aos-init"),f.position=(0,l.default)(f.node,h.offset)}),u};r.default=c},function(n,r,s){function i(u){return u&&u.__esModule?u:{default:u}}Object.defineProperty(r,"__esModule",{value:!0});var a=s(13),l=i(a),c=function(u,h){var f=0,m=0,g=window.innerHeight,b={offset:u.getAttribute("data-aos-offset"),anchor:u.getAttribute("data-aos-anchor"),anchorPlacement:u.getAttribute("data-aos-anchor-placement")};switch(b.offset&&!isNaN(b.offset)&&(m=parseInt(b.offset)),b.anchor&&document.querySelectorAll(b.anchor)&&(u=document.querySelectorAll(b.anchor)[0]),f=(0,l.default)(u).top,b.anchorPlacement){case"top-bottom":break;case"center-bottom":f+=u.offsetHeight/2;break;case"bottom-bottom":f+=u.offsetHeight;break;case"top-center":f+=g/2;break;case"bottom-center":f+=g/2+u.offsetHeight;break;case"center-center":f+=g/2+u.offsetHeight/2;break;case"top-top":f+=g;break;case"bottom-top":f+=u.offsetHeight+g;break;case"center-top":f+=u.offsetHeight/2+g}return b.anchorPlacement||b.offset||isNaN(h)||(m=h),f+m};r.default=c},function(n,r){Object.defineProperty(r,"__esModule",{value:!0});var s=function(i){for(var a=0,l=0;i&&!isNaN(i.offsetLeft)&&!isNaN(i.offsetTop);)a+=i.offsetLeft-(i.tagName!="BODY"?i.scrollLeft:0),l+=i.offsetTop-(i.tagName!="BODY"?i.scrollTop:0),i=i.offsetParent;return{top:l,left:a}};r.default=s},function(n,r){Object.defineProperty(r,"__esModule",{value:!0});var s=function(i){return i=i||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(i,function(a){return{node:a}})};r.default=s}])})}(Ib)),Ib.exports}var IG=PG();const OG=Jr(IG);var Zg=lM();const hd=Jr(Zg);function MG(){const[t,e]=_.useState(!0),[n,r]=_.useState(!1),s=_.useRef(null),[i,a]=_.useState(!1),[l,c]=_.useState([]),[u,h]=_.useState(!0),[f,m]=_.useState(null);Zt.useEffect(()=>{if(!document.getElementById("popup-animation-style")){const b=document.createElement("style");b.id="popup-animation-style",b.innerHTML=`
        @keyframes slideUp {
          from {
            transform: translateY(100%);
          }
          to {
            transform: translateY(0);
          }
        }
        .teacher-popup {
          animation: slideUp 0.3s ease-out;
        }
        body.popup-open {
          overflow: hidden;
        }
      `,document.head.appendChild(b)}return n?document.body.classList.add("popup-open"):document.body.classList.remove("popup-open"),()=>{document.body.classList.remove("popup-open")}},[n]),_.useEffect(()=>{(async()=>{try{h(!0);const y=await mt().get("/landingpage/subscription-packages/",{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(y.data&&Array.isArray(y.data)){const x=y.data.map(w=>({id:w.id,name:w.name,price:w.price,currency:"R",period:"month",duration:w.duration?`${w.duration} days`:"30 days",features:Array.isArray(w.features)?w.features:typeof w.features=="string"&&w.features.length>0?w.features.split(",").map(C=>C.trim()):["Access to premium content","Expert teacher support",`Course access for ${w.duration||30} days`],active_courses:w.active_courses||[],included_categories:w.included_categories||[],include_all_courses:w.include_all_courses}));c(x)}else c([]),m("Invalid data format received");h(!1)}catch{m("Failed to load subscription packages"),h(!1),c([{id:1,name:"Basic Plan",price:200,currency:"R",period:"month",duration:"30 days",features:["Access to beginner courses","Weekly homework review","Basic learning materials"],active_courses:[],included_categories:[]},{id:2,name:"Pro Plan",price:600,currency:"R",period:"month",duration:"30 days",features:["Access to all courses","Unlimited homework review","1-on-1 weekly sessions","Premium learning materials"],active_courses:[],included_categories:[]}])}})()},[]),_.useEffect(()=>{OG.init({duration:1e3});const b=setTimeout(()=>{e(!1),s.current&&g(s.current)},8500);return()=>clearTimeout(b)},[]);const g=b=>{const y=b.playbackRate,x=1500,w=30,C=x/w;let k=0;const A=setInterval(()=>{k++;const N=k/w,P=1-Math.pow(1-N,2),M=y*(1-P);b.playbackRate=Math.max(.1,M),k>=w&&(b.pause(),a(!0),clearInterval(A))},C)};return _.useEffect(()=>{if(s.current){const b=s.current,y=()=>a(!1),x=()=>a(!0);return b.addEventListener("play",y),b.addEventListener("pause",x),a(b.paused),()=>{b.removeEventListener("play",y),b.removeEventListener("pause",x)}}},[s]),o.jsxs(o.Fragment,{children:["      ",o.jsx("style",{children:`
          .typewriter-effect {
            font-family: "Atop", sans-serif;
            font-size: 2rem; /* Adjust size as needed */
            white-space: nowrap;
            overflow: hidden;
            display: inline-block;
            animation: typing 3s steps(30, end), blink 0.5s step-end infinite alternate;
          }

          @keyframes typing {
            from {
              width: 0;
            }
            to {
              width: 100%;
            }
          }

          @keyframes blink {
            from {
              border-right-color: transparent;
            }
            to {
              border-right-color: black;
            }
          }

          .falling-text {
            animation: fall-in 1s ease-in-out forwards;
            animation-delay: 6.8s; /* Delay to sync with the typewriter effect */
          }

          @keyframes fall-in {
            0% {
              opacity: 0;
              transform: translateY(-50px); /* Start above the big text */
            }
            100% {
              opacity: 1;
              transform: translateY(0); /* End in its original position */
            }
          }          body {
            font-family: "Atop", sans-serif;
          }
          
          /* Class for elements that should use Atop font */
          .atop-font {
            font-family: "Atop", sans-serif !important;
          }        `}),o.jsx("link",{href:"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css",rel:"stylesheet"}),o.jsx("script",{src:"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js",defer:!0}),o.jsx("header",{className:"navbar navbar-expand-lg navbar-light bg-light",style:{position:"sticky",top:0,zIndex:10,boxShadow:"0 2px 5px rgba(0, 0, 0, 0.1)"},children:o.jsxs("div",{className:"container",children:[o.jsx(Pn,{className:"navbar-brand",to:"/",children:o.jsx("img",{src:AG,alt:"Bonjour Classe Logo",style:{height:"50px"}})}),o.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:o.jsx("span",{className:"navbar-toggler-icon"})}),o.jsx("div",{className:"collapse navbar-collapse",id:"navbarNav",children:o.jsxs("ul",{className:"navbar-nav ms-auto",children:[o.jsx("li",{className:"nav-item",children:o.jsx("a",{className:"nav-link",href:"#home",children:"Home"})}),o.jsx("li",{className:"nav-item",children:o.jsx("a",{className:"nav-link",href:"#about",children:"About"})}),o.jsx("li",{className:"nav-item",children:o.jsx("a",{className:"nav-link",href:"#benefits",children:"Benefits"})}),o.jsx("li",{className:"nav-item",children:o.jsx("a",{className:"nav-link",href:"#pricing",children:"Pricing"})}),o.jsx("li",{className:"nav-item",children:o.jsx(Pn,{className:"btn ms-2",to:"#",style:{backgroundColor:"#B22234",color:"white",border:"none"},"data-bs-toggle":"modal","data-bs-target":"#registerModal",children:"Sign Up"})}),o.jsx("li",{className:"nav-item",children:o.jsx(Pn,{className:"btn btn-outline-primary ms-2",to:"#","data-bs-toggle":"modal","data-bs-target":"#loginModal",children:"Sign In"})})]})})]})}),o.jsxs("section",{id:"home",className:"hero-section text-center py-5 bg-light",style:{position:"relative",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},children:["        ",o.jsxs("video",{ref:s,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,controls:!i,style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100%",height:"100%",objectFit:"cover",zIndex:0},children:[o.jsx("source",{src:"https://i.imgur.com/I43zIeb.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]}),o.jsx("div",{style:{backgroundColor:"rgba(0, 0, 0, 0.5)",position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:1}}),o.jsxs("div",{className:"container",style:{position:"relative",zIndex:2},children:[t?o.jsx("h1",{className:"display-4",style:{color:"white"},children:o.jsx("span",{style:{fontFamily:"Atop, sans-serif"},children:o.jsx(NG,{options:{strings:["Bonjour","Welcome to Bonjour Classe"],autoStart:!0,loop:!1,deleteSpeed:50}})})}):o.jsx("h1",{className:"display-4 atop-font",style:{color:"white",fontFamily:"Atop, sans-serif"},children:"Welcome to Bonjour Classe!"}),o.jsx("p",{className:"lead falling-text",style:{color:"white",opacity:0,transform:"translateY(-50px)"},children:"Learn French with our expert teacher."}),o.jsx(Pn,{to:"#",className:"btn btn-lg mt-3",style:{backgroundColor:"#B22234",color:"white",border:"none"},"data-bs-toggle":"modal","data-bs-target":"#registerModal",children:"Sign Up Now"})]})]}),o.jsx("section",{id:"about",className:"about-section py-5",children:o.jsxs("div",{className:"container",children:[o.jsx("h2",{className:"text-center mb-5",children:"About Us"}),o.jsx("div",{className:"row justify-content-center",children:o.jsx("div",{className:"col-lg-10",children:o.jsx("div",{className:"card border-0 shadow","data-aos":"slide-right","data-aos-duration":"1200",children:o.jsxs("div",{className:"row g-0",children:[o.jsx("div",{className:"col-md-4",children:o.jsx("img",{src:"https://images.unsplash.com/photo-1571260899304-425eee4c7efc?q=80&w=1000",alt:"About Bonjour Classe",className:"img-fluid rounded-start h-100",style:{objectFit:"cover"}})}),o.jsx("div",{className:"col-md-8",children:o.jsxs("div",{className:"card-body p-4",children:[o.jsx("h3",{className:"card-title mb-3"}),o.jsx("p",{className:"card-text",children:"Bonjour Classe is a platform designed to help you master French with the guidance of our expert teacher, who has over 23 years of experience."}),o.jsx("p",{className:"card-text",children:"Our mission is to make learning French accessible, engaging, and effective for students of all levels. Whether you're a beginner taking your first steps in French or an advanced student looking to perfect your skills, we have the resources and expertise to support your journey."}),o.jsx("p",{className:"card-text"})]})})]})})})})]})}),o.jsx("section",{id:"benefits",className:"benefits-section py-5 bg-light",children:o.jsxs("div",{className:"container",children:[o.jsx("h2",{className:"text-center mb-4",children:"Why Choose Bonjour Classe?"}),o.jsxs("div",{className:"row",children:["            ",o.jsx("div",{className:"col-md-4 mb-4","data-aos":"fade-up",children:o.jsx("div",{className:"card text-center h-100 shadow-sm",onClick:()=>r(!0),style:{cursor:"pointer"},children:o.jsxs("div",{className:"card-body d-flex flex-column",children:[o.jsx("h5",{className:"card-title",children:"Expert Teacher"}),o.jsx("p",{className:"card-text flex-grow-1",children:"Learn from a French teacher with 23+ years of experience."})]})})}),o.jsx("div",{className:"col-md-4 mb-4","data-aos":"fade-up","data-aos-delay":"200",children:o.jsx("div",{className:"card text-center h-100 shadow-sm",children:o.jsxs("div",{className:"card-body d-flex flex-column",children:[o.jsx("h5",{className:"card-title",children:"Interactive Lessons"}),o.jsx("p",{className:"card-text flex-grow-1",children:"Engage in interactive lessons designed to make learning fun and effective."})]})})}),o.jsx("div",{className:"col-md-4 mb-4","data-aos":"fade-up","data-aos-delay":"400",children:o.jsx("div",{className:"card text-center h-100 shadow-sm",children:o.jsxs("div",{className:"card-body d-flex flex-column",children:[o.jsx("h5",{className:"card-title",children:"Flexible Scheduling"}),o.jsx("p",{className:"card-text flex-grow-1",children:"Learn at your own pace with flexible lesson schedules."})]})})})]})]})}),o.jsxs("section",{id:"pricing",className:"pricing-section py-5",children:[o.jsxs("div",{className:"container",children:[o.jsx("h2",{className:"text-center mb-4",children:"Pricing"}),u?o.jsxs("div",{className:"text-center py-5",children:[o.jsx("div",{className:"spinner-border text-primary",role:"status",children:o.jsx("span",{className:"visually-hidden",children:"Loading..."})}),o.jsx("p",{className:"mt-3",children:"Loading subscription packages..."})]}):f?o.jsx("div",{className:"text-center py-3",children:o.jsx("div",{className:"alert alert-danger",role:"alert",children:f})}):o.jsx("div",{className:"d-flex justify-content-center gap-4",style:{flexWrap:"wrap"},children:Array.isArray(l)&&l.map(b=>o.jsx("div",{className:"col-md-4","data-aos":"fade-up",children:o.jsx("div",{className:"card text-center h-100 shadow-sm",children:o.jsxs("div",{className:"card-body d-flex flex-column",children:[o.jsx("h5",{className:"card-title",children:b.name}),o.jsxs("p",{className:"card-text",children:[o.jsxs("span",{className:"fs-3 fw-bold",children:[b.currency,b.price]}),"/",b.period]}),o.jsxs("p",{className:"badge bg-info mb-3",children:["Duration: ",b.duration]}),o.jsxs("ul",{className:"list-unstyled text-start mb-4",children:[Array.isArray(b.features)&&b.features.length>0?b.features.map((y,x)=>o.jsxs("li",{children:[o.jsx("span",{style:{color:"#0bde00",fontWeight:"bold"},children:"✓"})," ",typeof y=="string"?y:y.name]},`feature-${x}`)):o.jsxs("li",{children:[o.jsx("span",{style:{color:"#0bde00",fontWeight:"bold"},children:"✓"})," ","Premium French learning experience"]}),o.jsxs("li",{className:"mt-2",children:[o.jsx("span",{style:{color:"#0bde00",fontWeight:"bold"},children:"✓"})," ",o.jsx("strong",{children:"Included Courses:"})," ",b.include_all_courses===1||b.include_all_courses===!0||b.include_all_courses==="1"?"All Courses":b.active_courses&&b.active_courses.length>0?b.active_courses.map(y=>y.title).join(", "):"None"]}),o.jsxs("li",{className:"mt-2",children:[o.jsx("span",{style:{color:"#0bde00",fontWeight:"bold"},children:"✓"})," ",o.jsx("strong",{children:"Included Categories:"})," ",b.included_categories&&b.included_categories.length>0?b.included_categories.map(y=>y.title).join(", "):"None"]})]}),o.jsx("div",{className:"mt-auto",children:o.jsx(Pn,{to:"#",className:"btn",style:{backgroundColor:"#B22234",color:"white",border:"none"},"data-bs-toggle":"modal","data-bs-target":"#registerModal",children:"Get Started"})})]})})},b.id))})]}),"      "]}),n&&Zg.createPortal(o.jsx("div",{className:"teacher-popup-overlay",onClick:()=>r(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center"},children:o.jsxs("div",{className:"teacher-popup",onClick:b=>b.stopPropagation(),style:{backgroundColor:"white",borderRadius:"20px",padding:"30px",width:"100%",maxWidth:"800px",maxHeight:"80vh",marginTop:"40px",overflowY:"auto",boxShadow:"0 5px 25px rgba(0, 0, 0, 0.2)",transform:"translateY(0)",animation:"slideUp 0.3s ease-out",position:"relative"},children:[o.jsx("button",{onClick:()=>r(!1),style:{position:"absolute",top:"15px",right:"15px",background:"none",border:"none",fontSize:"24px",cursor:"pointer"},children:"×"}),o.jsxs("div",{className:"teacher-header",style:{display:"flex",alignItems:"center",marginBottom:"20px"},children:["              ",o.jsx("div",{className:"teacher-image",style:{width:"100px",height:"100px",borderRadius:"50%",overflow:"hidden",border:"3px solid #3A3A6B",marginRight:"20px"},children:o.jsx("img",{src:"https://imgs.search.brave.com/rSfjKI6dGwDEZaxU_jfIO-mLYYLiDJTp1mCN5OYCOOk/rs:fit:500:0:0:0/g:ce/aHR0cHM6Ly90My5m/dGNkbi5uZXQvanBn/LzA4LzIyLzU2LzU4/LzM2MF9GXzgyMjU2/NTgwN19MS00zRWFt/UXAxUnk4VFozSFhV/eHZJY3ZqYmtiRWEy/SS5qcGc",alt:"Julie Ngalula",style:{width:"150%",height:"150%",objectFit:"cover",marginLeft:"-23%"},onError:b=>{b.target.onerror=null,b.target.src="https://via.placeholder.com/100"}})}),o.jsxs("div",{className:"teacher-info",children:[o.jsx("h2",{style:{fontSize:"1.8rem",margin:"0 0 5px 0",color:"#3A3A6B"},children:"Julie Ngalula"}),o.jsx("p",{style:{fontSize:"1rem",color:"#666",margin:0},children:"French Teacher"}),o.jsxs("p",{style:{fontSize:"0.9rem",color:"#666",margin:"5px 0 0 0"},children:[o.jsx("strong",{children:"Position:"})," French Language Educator",o.jsx("br",{}),o.jsx("strong",{children:"Location:"})," Johannesburg, South Africa",o.jsx("br",{}),o.jsx("strong",{children:"Languages:"})," English, French, Lingala, Chiluba"]})]})]}),o.jsx("div",{className:"teacher-bio",style:{marginBottom:"20px"},children:o.jsx("p",{style:{lineHeight:"1.6",fontSize:"1rem"},children:"Julie Ngalula is a passionate and experienced French teacher with a strong background in language education. With over 20 years of teaching experience, she has worked across multiple levels—from high school classrooms in the DRC to Cambridge curriculum schools in South Africa."})}),o.jsxs("div",{className:"teacher-qualifications",style:{marginBottom:"20px"},children:[o.jsx("h3",{style:{fontSize:"1.3rem",color:"#3A3A6B",borderBottom:"1px solid #eee",paddingBottom:"8px"},children:"Qualifications"}),o.jsxs("ul",{style:{paddingLeft:"20px",lineHeight:"1.6"},children:[o.jsx("li",{children:"Honors in French – Higher Institute of Bukavu, DRC (1992)"}),o.jsx("li",{children:"B.Ed. in French and African Linguistics – Gombe Superior Institute of Pedagogy, DRC (1986)"}),o.jsx("li",{children:"Matric/State Diploma in Pedagogy – Motema-Mpiko High School, DRC (1984)"}),o.jsx("li",{children:"Professional Childcare Certificate – Professional Child Institute, Johannesburg (2010)"})]})]}),o.jsxs("div",{className:"teacher-experience",style:{marginBottom:"20px"},children:[o.jsx("h3",{style:{fontSize:"1.3rem",color:"#3A3A6B",borderBottom:"1px solid #eee",paddingBottom:"8px"},children:"Teaching Experience"}),o.jsxs("ul",{style:{paddingLeft:"20px",lineHeight:"1.6"},children:[o.jsx("li",{children:"Poplar Academy (2013–Present) – Teaching French to nursery, primary, and high school learners following the Cambridge curriculum."}),o.jsx("li",{children:"Rhema South Africa (2010–2013) – Providing aftercare and academic support for students outside the classroom."}),o.jsx("li",{children:"Private French Tutor (2005–2010) – Tutoring French to adults and children at various levels."}),o.jsx("li",{children:"Lycée Motema-Mpiko, DRC (1989–2005) – High school French teacher, focused on grammar, student performance, and extracurricular support."})]})]}),o.jsxs("div",{className:"teacher-skills",style:{marginBottom:"20px"},children:[o.jsx("h3",{style:{fontSize:"1.3rem",color:"#3A3A6B",borderBottom:"1px solid #eee",paddingBottom:"8px"},children:"Skills & Strengths"}),o.jsxs("ul",{style:{paddingLeft:"20px",lineHeight:"1.6"},children:[o.jsx("li",{children:"Teaching & Curriculum Design"}),o.jsx("li",{children:"Student Counseling & Conflict Resolution"}),o.jsx("li",{children:"Classroom Management"}),o.jsx("li",{children:"Leadership & Planning"}),o.jsx("li",{children:"Computer Literacy"})]})]}),"            ",o.jsx("div",{className:"cta-button",style:{textAlign:"center",marginTop:"30px"},children:o.jsx(Pn,{to:"#",className:"btn btn-primary btn-lg",style:{borderRadius:"30px",padding:"10px 30px",backgroundColor:"#3A3A6B",border:"none"},"data-bs-toggle":"modal","data-bs-target":"#registerModal",onClick:()=>r(!1),children:"Start Learning with Julie"})})]})}),document.body),o.jsx("footer",{className:"footer bg-dark text-white py-4",children:o.jsx("div",{className:"container text-center",children:o.jsx("p",{children:"© 2025 Bonjour Classe. All rights reserved."})})})]})}//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var $R;function Bt(){return $R.apply(null,arguments)}function RG(t){$R=t}function fo(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function wd(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function Un(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function pk(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(Un(t,e))return!1;return!0}function ji(t){return t===void 0}function ec(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function Jg(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function zR(t,e){var n=[],r,s=t.length;for(r=0;r<s;++r)n.push(e(t[r],r));return n}function tu(t,e){for(var n in e)Un(e,n)&&(t[n]=e[n]);return Un(e,"toString")&&(t.toString=e.toString),Un(e,"valueOf")&&(t.valueOf=e.valueOf),t}function fl(t,e,n,r){return uL(t,e,n,r,!0).utc()}function LG(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Cn(t){return t._pf==null&&(t._pf=LG()),t._pf}var aC;Array.prototype.some?aC=Array.prototype.some:aC=function(t){var e=Object(this),n=e.length>>>0,r;for(r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};function mk(t){var e=null,n=!1,r=t._d&&!isNaN(t._d.getTime());if(r&&(e=Cn(t),n=aC.call(e.parsedDateParts,function(s){return s!=null}),r=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n),t._strict&&(r=r&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=r;else return r;return t._isValid}function $v(t){var e=fl(NaN);return t!=null?tu(Cn(e),t):Cn(e).userInvalidated=!0,e}var U3=Bt.momentProperties=[],Z_=!1;function gk(t,e){var n,r,s,i=U3.length;if(ji(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),ji(e._i)||(t._i=e._i),ji(e._f)||(t._f=e._f),ji(e._l)||(t._l=e._l),ji(e._strict)||(t._strict=e._strict),ji(e._tzm)||(t._tzm=e._tzm),ji(e._isUTC)||(t._isUTC=e._isUTC),ji(e._offset)||(t._offset=e._offset),ji(e._pf)||(t._pf=Cn(e)),ji(e._locale)||(t._locale=e._locale),i>0)for(n=0;n<i;n++)r=U3[n],s=e[r],ji(s)||(t[r]=s);return t}function e0(t){gk(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Z_===!1&&(Z_=!0,Bt.updateOffset(this),Z_=!1)}function po(t){return t instanceof e0||t!=null&&t._isAMomentObject!=null}function UR(t){Bt.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function Va(t,e){var n=!0;return tu(function(){if(Bt.deprecationHandler!=null&&Bt.deprecationHandler(null,t),n){var r=[],s,i,a,l=arguments.length;for(i=0;i<l;i++){if(s="",typeof arguments[i]=="object"){s+=`
[`+i+"] ";for(a in arguments[0])Un(arguments[0],a)&&(s+=a+": "+arguments[0][a]+", ");s=s.slice(0,-2)}else s=arguments[i];r.push(s)}UR(t+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var H3={};function HR(t,e){Bt.deprecationHandler!=null&&Bt.deprecationHandler(t,e),H3[t]||(UR(e),H3[t]=!0)}Bt.suppressDeprecationWarnings=!1;Bt.deprecationHandler=null;function pl(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function FG(t){var e,n;for(n in t)Un(t,n)&&(e=t[n],pl(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function oC(t,e){var n=tu({},t),r;for(r in e)Un(e,r)&&(wd(t[r])&&wd(e[r])?(n[r]={},tu(n[r],t[r]),tu(n[r],e[r])):e[r]!=null?n[r]=e[r]:delete n[r]);for(r in t)Un(t,r)&&!Un(e,r)&&wd(t[r])&&(n[r]=tu({},n[r]));return n}function yk(t){t!=null&&this.set(t)}var lC;Object.keys?lC=Object.keys:lC=function(t){var e,n=[];for(e in t)Un(t,e)&&n.push(e);return n};var BG={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function $G(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return pl(r)?r.call(e,n):r}function ll(t,e,n){var r=""+Math.abs(t),s=e-r.length,i=t>=0;return(i?n?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+r}var bk=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Vy=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,J_={},nf={};function sn(t,e,n,r){var s=r;typeof r=="string"&&(s=function(){return this[r]()}),t&&(nf[t]=s),e&&(nf[e[0]]=function(){return ll(s.apply(this,arguments),e[1],e[2])}),n&&(nf[n]=function(){return this.localeData().ordinal(s.apply(this,arguments),t)})}function zG(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function UG(t){var e=t.match(bk),n,r;for(n=0,r=e.length;n<r;n++)nf[e[n]]?e[n]=nf[e[n]]:e[n]=zG(e[n]);return function(s){var i="",a;for(a=0;a<r;a++)i+=pl(e[a])?e[a].call(s,t):e[a];return i}}function Ob(t,e){return t.isValid()?(e=WR(e,t.localeData()),J_[e]=J_[e]||UG(e),J_[e](t)):t.localeData().invalidDate()}function WR(t,e){var n=5;function r(s){return e.longDateFormat(s)||s}for(Vy.lastIndex=0;n>=0&&Vy.test(t);)t=t.replace(Vy,r),Vy.lastIndex=0,n-=1;return t}var HG={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function WG(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(bk).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[t])}var VG="Invalid date";function qG(){return this._invalidDate}var YG="%d",GG=/\d{1,2}/;function KG(t){return this._ordinal.replace("%d",t)}var XG={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function QG(t,e,n,r){var s=this._relativeTime[n];return pl(s)?s(t,e,n,r):s.replace(/%d/i,t)}function ZG(t,e){var n=this._relativeTime[t>0?"future":"past"];return pl(n)?n(e):n.replace(/%s/i,e)}var W3={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function qa(t){return typeof t=="string"?W3[t]||W3[t.toLowerCase()]:void 0}function xk(t){var e={},n,r;for(r in t)Un(t,r)&&(n=qa(r),n&&(e[n]=t[r]));return e}var JG={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function eK(t){var e=[],n;for(n in t)Un(t,n)&&e.push({unit:n,priority:JG[n]});return e.sort(function(r,s){return r.priority-s.priority}),e}var VR=/\d/,ca=/\d\d/,qR=/\d{3}/,vk=/\d{4}/,zv=/[+-]?\d{6}/,Cr=/\d\d?/,YR=/\d\d\d\d?/,GR=/\d\d\d\d\d\d?/,Uv=/\d{1,3}/,wk=/\d{1,4}/,Hv=/[+-]?\d{1,6}/,ep=/\d+/,Wv=/[+-]?\d+/,tK=/Z|[+-]\d\d:?\d\d/gi,Vv=/Z|[+-]\d\d(?::?\d\d)?/gi,nK=/[+-]?\d+(\.\d{1,3})?/,t0=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,tp=/^[1-9]\d?/,_k=/^([1-9]\d|\d)/,gx;gx={};function qt(t,e,n){gx[t]=pl(e)?e:function(r,s){return r&&n?n:e}}function rK(t,e){return Un(gx,t)?gx[t](e._strict,e._locale):new RegExp(sK(t))}function sK(t){return Kl(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,r,s,i){return n||r||s||i}))}function Kl(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Aa(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function Dn(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=Aa(e)),n}var cC={};function cr(t,e){var n,r=e,s;for(typeof t=="string"&&(t=[t]),ec(e)&&(r=function(i,a){a[e]=Dn(i)}),s=t.length,n=0;n<s;n++)cC[t[n]]=r}function n0(t,e){cr(t,function(n,r,s,i){s._w=s._w||{},e(n,s._w,s,i)})}function iK(t,e,n){e!=null&&Un(cC,t)&&cC[t](e,n._a,n,t)}function qv(t){return t%4===0&&t%100!==0||t%400===0}var Vs=0,Vl=1,Qo=2,hs=3,co=4,ql=5,fd=6,aK=7,oK=8;sn("Y",0,0,function(){var t=this.year();return t<=9999?ll(t,4):"+"+t});sn(0,["YY",2],0,function(){return this.year()%100});sn(0,["YYYY",4],0,"year");sn(0,["YYYYY",5],0,"year");sn(0,["YYYYYY",6,!0],0,"year");qt("Y",Wv);qt("YY",Cr,ca);qt("YYYY",wk,vk);qt("YYYYY",Hv,zv);qt("YYYYYY",Hv,zv);cr(["YYYYY","YYYYYY"],Vs);cr("YYYY",function(t,e){e[Vs]=t.length===2?Bt.parseTwoDigitYear(t):Dn(t)});cr("YY",function(t,e){e[Vs]=Bt.parseTwoDigitYear(t)});cr("Y",function(t,e){e[Vs]=parseInt(t,10)});function Om(t){return qv(t)?366:365}Bt.parseTwoDigitYear=function(t){return Dn(t)+(Dn(t)>68?1900:2e3)};var KR=np("FullYear",!0);function lK(){return qv(this.year())}function np(t,e){return function(n){return n!=null?(XR(this,t,n),Bt.updateOffset(this,e),this):rg(this,t)}}function rg(t,e){if(!t.isValid())return NaN;var n=t._d,r=t._isUTC;switch(e){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function XR(t,e,n){var r,s,i,a,l;if(!(!t.isValid()||isNaN(n))){switch(r=t._d,s=t._isUTC,e){case"Milliseconds":return void(s?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(s?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(s?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(s?r.setUTCHours(n):r.setHours(n));case"Date":return void(s?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}i=n,a=t.month(),l=t.date(),l=l===29&&a===1&&!qv(i)?28:l,s?r.setUTCFullYear(i,a,l):r.setFullYear(i,a,l)}}function cK(t){return t=qa(t),pl(this[t])?this[t]():this}function uK(t,e){if(typeof t=="object"){t=xk(t);var n=eK(t),r,s=n.length;for(r=0;r<s;r++)this[n[r].unit](t[n[r].unit])}else if(t=qa(t),pl(this[t]))return this[t](e);return this}function dK(t,e){return(t%e+e)%e}var Qr;Array.prototype.indexOf?Qr=Array.prototype.indexOf:Qr=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function Sk(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=dK(e,12);return t+=(e-n)/12,n===1?qv(t)?29:28:31-n%7%2}sn("M",["MM",2],"Mo",function(){return this.month()+1});sn("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});sn("MMMM",0,0,function(t){return this.localeData().months(this,t)});qt("M",Cr,tp);qt("MM",Cr,ca);qt("MMM",function(t,e){return e.monthsShortRegex(t)});qt("MMMM",function(t,e){return e.monthsRegex(t)});cr(["M","MM"],function(t,e){e[Vl]=Dn(t)-1});cr(["MMM","MMMM"],function(t,e,n,r){var s=n._locale.monthsParse(t,r,n._strict);s!=null?e[Vl]=s:Cn(n).invalidMonth=t});var hK="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),QR="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ZR=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,fK=t0,pK=t0;function mK(t,e){return t?fo(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||ZR).test(e)?"format":"standalone"][t.month()]:fo(this._months)?this._months:this._months.standalone}function gK(t,e){return t?fo(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[ZR.test(e)?"format":"standalone"][t.month()]:fo(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function yK(t,e,n){var r,s,i,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=fl([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?e==="MMM"?(s=Qr.call(this._shortMonthsParse,a),s!==-1?s:null):(s=Qr.call(this._longMonthsParse,a),s!==-1?s:null):e==="MMM"?(s=Qr.call(this._shortMonthsParse,a),s!==-1?s:(s=Qr.call(this._longMonthsParse,a),s!==-1?s:null)):(s=Qr.call(this._longMonthsParse,a),s!==-1?s:(s=Qr.call(this._shortMonthsParse,a),s!==-1?s:null))}function bK(t,e,n){var r,s,i;if(this._monthsParseExact)return yK.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(s=fl([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(i="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[r].test(t))return r;if(n&&e==="MMM"&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function JR(t,e){if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=Dn(e);else if(e=t.localeData().monthsParse(e),!ec(e))return t}var n=e,r=t.date();return r=r<29?r:Math.min(r,Sk(t.year(),n)),t._isUTC?t._d.setUTCMonth(n,r):t._d.setMonth(n,r),t}function eL(t){return t!=null?(JR(this,t),Bt.updateOffset(this,!0),this):rg(this,"Month")}function xK(){return Sk(this.year(),this.month())}function vK(t){return this._monthsParseExact?(Un(this,"_monthsRegex")||tL.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(Un(this,"_monthsShortRegex")||(this._monthsShortRegex=fK),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function wK(t){return this._monthsParseExact?(Un(this,"_monthsRegex")||tL.call(this),t?this._monthsStrictRegex:this._monthsRegex):(Un(this,"_monthsRegex")||(this._monthsRegex=pK),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function tL(){function t(c,u){return u.length-c.length}var e=[],n=[],r=[],s,i,a,l;for(s=0;s<12;s++)i=fl([2e3,s]),a=Kl(this.monthsShort(i,"")),l=Kl(this.months(i,"")),e.push(a),n.push(l),r.push(l),r.push(a);e.sort(t),n.sort(t),r.sort(t),this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function _K(t,e,n,r,s,i,a){var l;return t<100&&t>=0?(l=new Date(t+400,e,n,r,s,i,a),isFinite(l.getFullYear())&&l.setFullYear(t)):l=new Date(t,e,n,r,s,i,a),l}function sg(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function yx(t,e,n){var r=7+e-n,s=(7+sg(t,0,r).getUTCDay()-e)%7;return-s+r-1}function nL(t,e,n,r,s){var i=(7+n-r)%7,a=yx(t,r,s),l=1+7*(e-1)+i+a,c,u;return l<=0?(c=t-1,u=Om(c)+l):l>Om(t)?(c=t+1,u=l-Om(t)):(c=t,u=l),{year:c,dayOfYear:u}}function ig(t,e,n){var r=yx(t.year(),e,n),s=Math.floor((t.dayOfYear()-r-1)/7)+1,i,a;return s<1?(a=t.year()-1,i=s+Xl(a,e,n)):s>Xl(t.year(),e,n)?(i=s-Xl(t.year(),e,n),a=t.year()+1):(a=t.year(),i=s),{week:i,year:a}}function Xl(t,e,n){var r=yx(t,e,n),s=yx(t+1,e,n);return(Om(t)-r+s)/7}sn("w",["ww",2],"wo","week");sn("W",["WW",2],"Wo","isoWeek");qt("w",Cr,tp);qt("ww",Cr,ca);qt("W",Cr,tp);qt("WW",Cr,ca);n0(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=Dn(t)});function SK(t){return ig(t,this._week.dow,this._week.doy).week}var CK={dow:0,doy:6};function TK(){return this._week.dow}function kK(){return this._week.doy}function EK(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function jK(t){var e=ig(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}sn("d",0,"do","day");sn("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});sn("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});sn("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});sn("e",0,0,"weekday");sn("E",0,0,"isoWeekday");qt("d",Cr);qt("e",Cr);qt("E",Cr);qt("dd",function(t,e){return e.weekdaysMinRegex(t)});qt("ddd",function(t,e){return e.weekdaysShortRegex(t)});qt("dddd",function(t,e){return e.weekdaysRegex(t)});n0(["dd","ddd","dddd"],function(t,e,n,r){var s=n._locale.weekdaysParse(t,r,n._strict);s!=null?e.d=s:Cn(n).invalidWeekday=t});n0(["d","e","E"],function(t,e,n,r){e[r]=Dn(t)});function NK(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function AK(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Ck(t,e){return t.slice(e,7).concat(t.slice(0,e))}var DK="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),rL="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),PK="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),IK=t0,OK=t0,MK=t0;function RK(t,e){var n=fo(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?Ck(n,this._week.dow):t?n[t.day()]:n}function LK(t){return t===!0?Ck(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function FK(t){return t===!0?Ck(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function BK(t,e,n){var r,s,i,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=fl([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?e==="dddd"?(s=Qr.call(this._weekdaysParse,a),s!==-1?s:null):e==="ddd"?(s=Qr.call(this._shortWeekdaysParse,a),s!==-1?s:null):(s=Qr.call(this._minWeekdaysParse,a),s!==-1?s:null):e==="dddd"?(s=Qr.call(this._weekdaysParse,a),s!==-1||(s=Qr.call(this._shortWeekdaysParse,a),s!==-1)?s:(s=Qr.call(this._minWeekdaysParse,a),s!==-1?s:null)):e==="ddd"?(s=Qr.call(this._shortWeekdaysParse,a),s!==-1||(s=Qr.call(this._weekdaysParse,a),s!==-1)?s:(s=Qr.call(this._minWeekdaysParse,a),s!==-1?s:null)):(s=Qr.call(this._minWeekdaysParse,a),s!==-1||(s=Qr.call(this._weekdaysParse,a),s!==-1)?s:(s=Qr.call(this._shortWeekdaysParse,a),s!==-1?s:null))}function $K(t,e,n){var r,s,i;if(this._weekdaysParseExact)return BK.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(s=fl([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(s,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(s,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(s,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[r].test(t))return r;if(n&&e==="ddd"&&this._shortWeekdaysParse[r].test(t))return r;if(n&&e==="dd"&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function zK(t){if(!this.isValid())return t!=null?this:NaN;var e=rg(this,"Day");return t!=null?(t=NK(t,this.localeData()),this.add(t-e,"d")):e}function UK(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function HK(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=AK(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function WK(t){return this._weekdaysParseExact?(Un(this,"_weekdaysRegex")||Tk.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(Un(this,"_weekdaysRegex")||(this._weekdaysRegex=IK),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function VK(t){return this._weekdaysParseExact?(Un(this,"_weekdaysRegex")||Tk.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Un(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=OK),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function qK(t){return this._weekdaysParseExact?(Un(this,"_weekdaysRegex")||Tk.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Un(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=MK),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Tk(){function t(h,f){return f.length-h.length}var e=[],n=[],r=[],s=[],i,a,l,c,u;for(i=0;i<7;i++)a=fl([2e3,1]).day(i),l=Kl(this.weekdaysMin(a,"")),c=Kl(this.weekdaysShort(a,"")),u=Kl(this.weekdays(a,"")),e.push(l),n.push(c),r.push(u),s.push(l),s.push(c),s.push(u);e.sort(t),n.sort(t),r.sort(t),s.sort(t),this._weekdaysRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function kk(){return this.hours()%12||12}function YK(){return this.hours()||24}sn("H",["HH",2],0,"hour");sn("h",["hh",2],0,kk);sn("k",["kk",2],0,YK);sn("hmm",0,0,function(){return""+kk.apply(this)+ll(this.minutes(),2)});sn("hmmss",0,0,function(){return""+kk.apply(this)+ll(this.minutes(),2)+ll(this.seconds(),2)});sn("Hmm",0,0,function(){return""+this.hours()+ll(this.minutes(),2)});sn("Hmmss",0,0,function(){return""+this.hours()+ll(this.minutes(),2)+ll(this.seconds(),2)});function sL(t,e){sn(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}sL("a",!0);sL("A",!1);function iL(t,e){return e._meridiemParse}qt("a",iL);qt("A",iL);qt("H",Cr,_k);qt("h",Cr,tp);qt("k",Cr,tp);qt("HH",Cr,ca);qt("hh",Cr,ca);qt("kk",Cr,ca);qt("hmm",YR);qt("hmmss",GR);qt("Hmm",YR);qt("Hmmss",GR);cr(["H","HH"],hs);cr(["k","kk"],function(t,e,n){var r=Dn(t);e[hs]=r===24?0:r});cr(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});cr(["h","hh"],function(t,e,n){e[hs]=Dn(t),Cn(n).bigHour=!0});cr("hmm",function(t,e,n){var r=t.length-2;e[hs]=Dn(t.substr(0,r)),e[co]=Dn(t.substr(r)),Cn(n).bigHour=!0});cr("hmmss",function(t,e,n){var r=t.length-4,s=t.length-2;e[hs]=Dn(t.substr(0,r)),e[co]=Dn(t.substr(r,2)),e[ql]=Dn(t.substr(s)),Cn(n).bigHour=!0});cr("Hmm",function(t,e,n){var r=t.length-2;e[hs]=Dn(t.substr(0,r)),e[co]=Dn(t.substr(r))});cr("Hmmss",function(t,e,n){var r=t.length-4,s=t.length-2;e[hs]=Dn(t.substr(0,r)),e[co]=Dn(t.substr(r,2)),e[ql]=Dn(t.substr(s))});function GK(t){return(t+"").toLowerCase().charAt(0)==="p"}var KK=/[ap]\.?m?\.?/i,XK=np("Hours",!0);function QK(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var aL={calendar:BG,longDateFormat:HG,invalidDate:VG,ordinal:YG,dayOfMonthOrdinalParse:GG,relativeTime:XG,months:hK,monthsShort:QR,week:CK,weekdays:DK,weekdaysMin:PK,weekdaysShort:rL,meridiemParse:KK},Nr={},tm={},ag;function ZK(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function V3(t){return t&&t.toLowerCase().replace("_","-")}function JK(t){for(var e=0,n,r,s,i;e<t.length;){for(i=V3(t[e]).split("-"),n=i.length,r=V3(t[e+1]),r=r?r.split("-"):null;n>0;){if(s=Yv(i.slice(0,n).join("-")),s)return s;if(r&&r.length>=n&&ZK(i,r)>=n-1)break;n--}e++}return ag}function eX(t){return!!(t&&t.match("^[^/\\\\]*$"))}function Yv(t){var e=null,n;if(Nr[t]===void 0&&typeof module<"u"&&module&&module.exports&&eX(t))try{e=ag._abbr,n=require,n("./locale/"+t),iu(e)}catch{Nr[t]=null}return Nr[t]}function iu(t,e){var n;return t&&(ji(e)?n=cc(t):n=Ek(t,e),n?ag=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),ag._abbr}function Ek(t,e){if(e!==null){var n,r=aL;if(e.abbr=t,Nr[t]!=null)HR("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Nr[t]._config;else if(e.parentLocale!=null)if(Nr[e.parentLocale]!=null)r=Nr[e.parentLocale]._config;else if(n=Yv(e.parentLocale),n!=null)r=n._config;else return tm[e.parentLocale]||(tm[e.parentLocale]=[]),tm[e.parentLocale].push({name:t,config:e}),null;return Nr[t]=new yk(oC(r,e)),tm[t]&&tm[t].forEach(function(s){Ek(s.name,s.config)}),iu(t),Nr[t]}else return delete Nr[t],null}function tX(t,e){if(e!=null){var n,r,s=aL;Nr[t]!=null&&Nr[t].parentLocale!=null?Nr[t].set(oC(Nr[t]._config,e)):(r=Yv(t),r!=null&&(s=r._config),e=oC(s,e),r==null&&(e.abbr=t),n=new yk(e),n.parentLocale=Nr[t],Nr[t]=n),iu(t)}else Nr[t]!=null&&(Nr[t].parentLocale!=null?(Nr[t]=Nr[t].parentLocale,t===iu()&&iu(t)):Nr[t]!=null&&delete Nr[t]);return Nr[t]}function cc(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return ag;if(!fo(t)){if(e=Yv(t),e)return e;t=[t]}return JK(t)}function nX(){return lC(Nr)}function jk(t){var e,n=t._a;return n&&Cn(t).overflow===-2&&(e=n[Vl]<0||n[Vl]>11?Vl:n[Qo]<1||n[Qo]>Sk(n[Vs],n[Vl])?Qo:n[hs]<0||n[hs]>24||n[hs]===24&&(n[co]!==0||n[ql]!==0||n[fd]!==0)?hs:n[co]<0||n[co]>59?co:n[ql]<0||n[ql]>59?ql:n[fd]<0||n[fd]>999?fd:-1,Cn(t)._overflowDayOfYear&&(e<Vs||e>Qo)&&(e=Qo),Cn(t)._overflowWeeks&&e===-1&&(e=aK),Cn(t)._overflowWeekday&&e===-1&&(e=oK),Cn(t).overflow=e),t}var rX=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,sX=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,iX=/Z|[+-]\d\d(?::?\d\d)?/,qy=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],e2=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],aX=/^\/?Date\((-?\d+)/i,oX=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,lX={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function oL(t){var e,n,r=t._i,s=rX.exec(r)||sX.exec(r),i,a,l,c,u=qy.length,h=e2.length;if(s){for(Cn(t).iso=!0,e=0,n=u;e<n;e++)if(qy[e][1].exec(s[1])){a=qy[e][0],i=qy[e][2]!==!1;break}if(a==null){t._isValid=!1;return}if(s[3]){for(e=0,n=h;e<n;e++)if(e2[e][1].exec(s[3])){l=(s[2]||" ")+e2[e][0];break}if(l==null){t._isValid=!1;return}}if(!i&&l!=null){t._isValid=!1;return}if(s[4])if(iX.exec(s[4]))c="Z";else{t._isValid=!1;return}t._f=a+(l||"")+(c||""),Ak(t)}else t._isValid=!1}function cX(t,e,n,r,s,i){var a=[uX(t),QR.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(s,10)];return i&&a.push(parseInt(i,10)),a}function uX(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function dX(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function hX(t,e,n){if(t){var r=rL.indexOf(t),s=new Date(e[0],e[1],e[2]).getDay();if(r!==s)return Cn(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function fX(t,e,n){if(t)return lX[t];if(e)return 0;var r=parseInt(n,10),s=r%100,i=(r-s)/100;return i*60+s}function lL(t){var e=oX.exec(dX(t._i)),n;if(e){if(n=cX(e[4],e[3],e[2],e[5],e[6],e[7]),!hX(e[1],n,t))return;t._a=n,t._tzm=fX(e[8],e[9],e[10]),t._d=sg.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),Cn(t).rfc2822=!0}else t._isValid=!1}function pX(t){var e=aX.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(oL(t),t._isValid===!1)delete t._isValid;else return;if(lL(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:Bt.createFromInputFallback(t)}Bt.createFromInputFallback=Va("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function Wh(t,e,n){return t??e??n}function mX(t){var e=new Date(Bt.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Nk(t){var e,n,r=[],s,i,a;if(!t._d){for(s=mX(t),t._w&&t._a[Qo]==null&&t._a[Vl]==null&&gX(t),t._dayOfYear!=null&&(a=Wh(t._a[Vs],s[Vs]),(t._dayOfYear>Om(a)||t._dayOfYear===0)&&(Cn(t)._overflowDayOfYear=!0),n=sg(a,0,t._dayOfYear),t._a[Vl]=n.getUTCMonth(),t._a[Qo]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=r[e]=s[e];for(;e<7;e++)t._a[e]=r[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[hs]===24&&t._a[co]===0&&t._a[ql]===0&&t._a[fd]===0&&(t._nextDay=!0,t._a[hs]=0),t._d=(t._useUTC?sg:_K).apply(null,r),i=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[hs]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==i&&(Cn(t).weekdayMismatch=!0)}}function gX(t){var e,n,r,s,i,a,l,c,u;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(i=1,a=4,n=Wh(e.GG,t._a[Vs],ig(Sr(),1,4).year),r=Wh(e.W,1),s=Wh(e.E,1),(s<1||s>7)&&(c=!0)):(i=t._locale._week.dow,a=t._locale._week.doy,u=ig(Sr(),i,a),n=Wh(e.gg,t._a[Vs],u.year),r=Wh(e.w,u.week),e.d!=null?(s=e.d,(s<0||s>6)&&(c=!0)):e.e!=null?(s=e.e+i,(e.e<0||e.e>6)&&(c=!0)):s=i),r<1||r>Xl(n,i,a)?Cn(t)._overflowWeeks=!0:c!=null?Cn(t)._overflowWeekday=!0:(l=nL(n,r,s,i,a),t._a[Vs]=l.year,t._dayOfYear=l.dayOfYear)}Bt.ISO_8601=function(){};Bt.RFC_2822=function(){};function Ak(t){if(t._f===Bt.ISO_8601){oL(t);return}if(t._f===Bt.RFC_2822){lL(t);return}t._a=[],Cn(t).empty=!0;var e=""+t._i,n,r,s,i,a,l=e.length,c=0,u,h;for(s=WR(t._f,t._locale).match(bk)||[],h=s.length,n=0;n<h;n++)i=s[n],r=(e.match(rK(i,t))||[])[0],r&&(a=e.substr(0,e.indexOf(r)),a.length>0&&Cn(t).unusedInput.push(a),e=e.slice(e.indexOf(r)+r.length),c+=r.length),nf[i]?(r?Cn(t).empty=!1:Cn(t).unusedTokens.push(i),iK(i,r,t)):t._strict&&!r&&Cn(t).unusedTokens.push(i);Cn(t).charsLeftOver=l-c,e.length>0&&Cn(t).unusedInput.push(e),t._a[hs]<=12&&Cn(t).bigHour===!0&&t._a[hs]>0&&(Cn(t).bigHour=void 0),Cn(t).parsedDateParts=t._a.slice(0),Cn(t).meridiem=t._meridiem,t._a[hs]=yX(t._locale,t._a[hs],t._meridiem),u=Cn(t).era,u!==null&&(t._a[Vs]=t._locale.erasConvertYear(u,t._a[Vs])),Nk(t),jk(t)}function yX(t,e,n){var r;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(r=t.isPM(n),r&&e<12&&(e+=12),!r&&e===12&&(e=0)),e)}function bX(t){var e,n,r,s,i,a,l=!1,c=t._f.length;if(c===0){Cn(t).invalidFormat=!0,t._d=new Date(NaN);return}for(s=0;s<c;s++)i=0,a=!1,e=gk({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[s],Ak(e),mk(e)&&(a=!0),i+=Cn(e).charsLeftOver,i+=Cn(e).unusedTokens.length*10,Cn(e).score=i,l?i<r&&(r=i,n=e):(r==null||i<r||a)&&(r=i,n=e,a&&(l=!0));tu(t,n||e)}function xX(t){if(!t._d){var e=xk(t._i),n=e.day===void 0?e.date:e.day;t._a=zR([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(r){return r&&parseInt(r,10)}),Nk(t)}}function vX(t){var e=new e0(jk(cL(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function cL(t){var e=t._i,n=t._f;return t._locale=t._locale||cc(t._l),e===null||n===void 0&&e===""?$v({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),po(e)?new e0(jk(e)):(Jg(e)?t._d=e:fo(n)?bX(t):n?Ak(t):wX(t),mk(t)||(t._d=null),t))}function wX(t){var e=t._i;ji(e)?t._d=new Date(Bt.now()):Jg(e)?t._d=new Date(e.valueOf()):typeof e=="string"?pX(t):fo(e)?(t._a=zR(e.slice(0),function(n){return parseInt(n,10)}),Nk(t)):wd(e)?xX(t):ec(e)?t._d=new Date(e):Bt.createFromInputFallback(t)}function uL(t,e,n,r,s){var i={};return(e===!0||e===!1)&&(r=e,e=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(wd(t)&&pk(t)||fo(t)&&t.length===0)&&(t=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=s,i._l=n,i._i=t,i._f=e,i._strict=r,vX(i)}function Sr(t,e,n,r){return uL(t,e,n,r,!1)}var _X=Va("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Sr.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:$v()}),SX=Va("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Sr.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:$v()});function dL(t,e){var n,r;if(e.length===1&&fo(e[0])&&(e=e[0]),!e.length)return Sr();for(n=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](n))&&(n=e[r]);return n}function CX(){var t=[].slice.call(arguments,0);return dL("isBefore",t)}function TX(){var t=[].slice.call(arguments,0);return dL("isAfter",t)}var kX=function(){return Date.now?Date.now():+new Date},nm=["year","quarter","month","week","day","hour","minute","second","millisecond"];function EX(t){var e,n=!1,r,s=nm.length;for(e in t)if(Un(t,e)&&!(Qr.call(nm,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(r=0;r<s;++r)if(t[nm[r]]){if(n)return!1;parseFloat(t[nm[r]])!==Dn(t[nm[r]])&&(n=!0)}return!0}function jX(){return this._isValid}function NX(){return bo(NaN)}function Gv(t){var e=xk(t),n=e.year||0,r=e.quarter||0,s=e.month||0,i=e.week||e.isoWeek||0,a=e.day||0,l=e.hour||0,c=e.minute||0,u=e.second||0,h=e.millisecond||0;this._isValid=EX(e),this._milliseconds=+h+u*1e3+c*6e4+l*1e3*60*60,this._days=+a+i*7,this._months=+s+r*3+n*12,this._data={},this._locale=cc(),this._bubble()}function Mb(t){return t instanceof Gv}function uC(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function AX(t,e,n){var r=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),i=0,a;for(a=0;a<r;a++)Dn(t[a])!==Dn(e[a])&&i++;return i+s}function hL(t,e){sn(t,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+ll(~~(n/60),2)+e+ll(~~n%60,2)})}hL("Z",":");hL("ZZ","");qt("Z",Vv);qt("ZZ",Vv);cr(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Dk(Vv,t)});var DX=/([\+\-]|\d\d)/gi;function Dk(t,e){var n=(e||"").match(t),r,s,i;return n===null?null:(r=n[n.length-1]||[],s=(r+"").match(DX)||["-",0,0],i=+(s[1]*60)+Dn(s[2]),i===0?0:s[0]==="+"?i:-i)}function Pk(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(po(t)||Jg(t)?t.valueOf():Sr(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),Bt.updateOffset(n,!1),n):Sr(t).local()}function dC(t){return-Math.round(t._d.getTimezoneOffset())}Bt.updateOffset=function(){};function PX(t,e,n){var r=this._offset||0,s;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=Dk(Vv,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(s=dC(this)),this._offset=t,this._isUTC=!0,s!=null&&this.add(s,"m"),r!==t&&(!e||this._changeInProgress?mL(this,bo(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Bt.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:dC(this)}function IX(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function OX(t){return this.utcOffset(0,t)}function MX(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(dC(this),"m")),this}function RX(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=Dk(tK,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function LX(t){return this.isValid()?(t=t?Sr(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function FX(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function BX(){if(!ji(this._isDSTShifted))return this._isDSTShifted;var t={},e;return gk(t,this),t=cL(t),t._a?(e=t._isUTC?fl(t._a):Sr(t._a),this._isDSTShifted=this.isValid()&&AX(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function $X(){return this.isValid()?!this._isUTC:!1}function zX(){return this.isValid()?this._isUTC:!1}function fL(){return this.isValid()?this._isUTC&&this._offset===0:!1}var UX=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,HX=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function bo(t,e){var n=t,r=null,s,i,a;return Mb(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:ec(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(r=UX.exec(t))?(s=r[1]==="-"?-1:1,n={y:0,d:Dn(r[Qo])*s,h:Dn(r[hs])*s,m:Dn(r[co])*s,s:Dn(r[ql])*s,ms:Dn(uC(r[fd]*1e3))*s}):(r=HX.exec(t))?(s=r[1]==="-"?-1:1,n={y:Gu(r[2],s),M:Gu(r[3],s),w:Gu(r[4],s),d:Gu(r[5],s),h:Gu(r[6],s),m:Gu(r[7],s),s:Gu(r[8],s)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(a=WX(Sr(n.from),Sr(n.to)),n={},n.ms=a.milliseconds,n.M=a.months),i=new Gv(n),Mb(t)&&Un(t,"_locale")&&(i._locale=t._locale),Mb(t)&&Un(t,"_isValid")&&(i._isValid=t._isValid),i}bo.fn=Gv.prototype;bo.invalid=NX;function Gu(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function q3(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function WX(t,e){var n;return t.isValid()&&e.isValid()?(e=Pk(e,t),t.isBefore(e)?n=q3(t,e):(n=q3(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function pL(t,e){return function(n,r){var s,i;return r!==null&&!isNaN(+r)&&(HR(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),s=bo(n,r),mL(this,s,t),this}}function mL(t,e,n,r){var s=e._milliseconds,i=uC(e._days),a=uC(e._months);t.isValid()&&(r=r??!0,a&&JR(t,rg(t,"Month")+a*n),i&&XR(t,"Date",rg(t,"Date")+i*n),s&&t._d.setTime(t._d.valueOf()+s*n),r&&Bt.updateOffset(t,i||a))}var VX=pL(1,"add"),qX=pL(-1,"subtract");function gL(t){return typeof t=="string"||t instanceof String}function YX(t){return po(t)||Jg(t)||gL(t)||ec(t)||KX(t)||GX(t)||t===null||t===void 0}function GX(t){var e=wd(t)&&!pk(t),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],s,i,a=r.length;for(s=0;s<a;s+=1)i=r[s],n=n||Un(t,i);return e&&n}function KX(t){var e=fo(t),n=!1;return e&&(n=t.filter(function(r){return!ec(r)&&gL(t)}).length===0),e&&n}function XX(t){var e=wd(t)&&!pk(t),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],s,i;for(s=0;s<r.length;s+=1)i=r[s],n=n||Un(t,i);return e&&n}function QX(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function ZX(t,e){arguments.length===1&&(arguments[0]?YX(arguments[0])?(t=arguments[0],e=void 0):XX(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||Sr(),r=Pk(n,this).startOf("day"),s=Bt.calendarFormat(this,r)||"sameElse",i=e&&(pl(e[s])?e[s].call(this,n):e[s]);return this.format(i||this.localeData().calendar(s,this,Sr(n)))}function JX(){return new e0(this)}function eQ(t,e){var n=po(t)?t:Sr(t);return this.isValid()&&n.isValid()?(e=qa(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function tQ(t,e){var n=po(t)?t:Sr(t);return this.isValid()&&n.isValid()?(e=qa(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function nQ(t,e,n,r){var s=po(t)?t:Sr(t),i=po(e)?e:Sr(e);return this.isValid()&&s.isValid()&&i.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(s,n):!this.isBefore(s,n))&&(r[1]===")"?this.isBefore(i,n):!this.isAfter(i,n))):!1}function rQ(t,e){var n=po(t)?t:Sr(t),r;return this.isValid()&&n.isValid()?(e=qa(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf())):!1}function sQ(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function iQ(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function aQ(t,e,n){var r,s,i;if(!this.isValid())return NaN;if(r=Pk(t,this),!r.isValid())return NaN;switch(s=(r.utcOffset()-this.utcOffset())*6e4,e=qa(e),e){case"year":i=Rb(this,r)/12;break;case"month":i=Rb(this,r);break;case"quarter":i=Rb(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-s)/864e5;break;case"week":i=(this-r-s)/6048e5;break;default:i=this-r}return n?i:Aa(i)}function Rb(t,e){if(t.date()<e.date())return-Rb(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),r=t.clone().add(n,"months"),s,i;return e-r<0?(s=t.clone().add(n-1,"months"),i=(e-r)/(r-s)):(s=t.clone().add(n+1,"months"),i=(e-r)/(s-r)),-(n+i)||0}Bt.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Bt.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function oQ(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function lQ(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?Ob(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):pl(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Ob(n,"Z")):Ob(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function cQ(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,r,s,i;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",s="-MM-DD[T]HH:mm:ss.SSS",i=e+'[")]',this.format(n+r+s+i)}function uQ(t){t||(t=this.isUtc()?Bt.defaultFormatUtc:Bt.defaultFormat);var e=Ob(this,t);return this.localeData().postformat(e)}function dQ(t,e){return this.isValid()&&(po(t)&&t.isValid()||Sr(t).isValid())?bo({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function hQ(t){return this.from(Sr(),t)}function fQ(t,e){return this.isValid()&&(po(t)&&t.isValid()||Sr(t).isValid())?bo({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function pQ(t){return this.to(Sr(),t)}function yL(t){var e;return t===void 0?this._locale._abbr:(e=cc(t),e!=null&&(this._locale=e),this)}var bL=Va("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function xL(){return this._locale}var bx=1e3,rf=60*bx,xx=60*rf,vL=(365*400+97)*24*xx;function sf(t,e){return(t%e+e)%e}function wL(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-vL:new Date(t,e,n).valueOf()}function _L(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-vL:Date.UTC(t,e,n)}function mQ(t){var e,n;if(t=qa(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?_L:wL,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=sf(e+(this._isUTC?0:this.utcOffset()*rf),xx);break;case"minute":e=this._d.valueOf(),e-=sf(e,rf);break;case"second":e=this._d.valueOf(),e-=sf(e,bx);break}return this._d.setTime(e),Bt.updateOffset(this,!0),this}function gQ(t){var e,n;if(t=qa(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?_L:wL,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=xx-sf(e+(this._isUTC?0:this.utcOffset()*rf),xx)-1;break;case"minute":e=this._d.valueOf(),e+=rf-sf(e,rf)-1;break;case"second":e=this._d.valueOf(),e+=bx-sf(e,bx)-1;break}return this._d.setTime(e),Bt.updateOffset(this,!0),this}function yQ(){return this._d.valueOf()-(this._offset||0)*6e4}function bQ(){return Math.floor(this.valueOf()/1e3)}function xQ(){return new Date(this.valueOf())}function vQ(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function wQ(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function _Q(){return this.isValid()?this.toISOString():null}function SQ(){return mk(this)}function CQ(){return tu({},Cn(this))}function TQ(){return Cn(this).overflow}function kQ(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}sn("N",0,0,"eraAbbr");sn("NN",0,0,"eraAbbr");sn("NNN",0,0,"eraAbbr");sn("NNNN",0,0,"eraName");sn("NNNNN",0,0,"eraNarrow");sn("y",["y",1],"yo","eraYear");sn("y",["yy",2],0,"eraYear");sn("y",["yyy",3],0,"eraYear");sn("y",["yyyy",4],0,"eraYear");qt("N",Ik);qt("NN",Ik);qt("NNN",Ik);qt("NNNN",LQ);qt("NNNNN",FQ);cr(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,r){var s=n._locale.erasParse(t,r,n._strict);s?Cn(n).era=s:Cn(n).invalidEra=t});qt("y",ep);qt("yy",ep);qt("yyy",ep);qt("yyyy",ep);qt("yo",BQ);cr(["y","yy","yyy","yyyy"],Vs);cr(["yo"],function(t,e,n,r){var s;n._locale._eraYearOrdinalRegex&&(s=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[Vs]=n._locale.eraYearOrdinalParse(t,s):e[Vs]=parseInt(t,10)});function EQ(t,e){var n,r,s,i=this._eras||cc("en")._eras;for(n=0,r=i.length;n<r;++n){switch(typeof i[n].since){case"string":s=Bt(i[n].since).startOf("day"),i[n].since=s.valueOf();break}switch(typeof i[n].until){case"undefined":i[n].until=1/0;break;case"string":s=Bt(i[n].until).startOf("day").valueOf(),i[n].until=s.valueOf();break}}return i}function jQ(t,e,n){var r,s,i=this.eras(),a,l,c;for(t=t.toUpperCase(),r=0,s=i.length;r<s;++r)if(a=i[r].name.toUpperCase(),l=i[r].abbr.toUpperCase(),c=i[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(l===t)return i[r];break;case"NNNN":if(a===t)return i[r];break;case"NNNNN":if(c===t)return i[r];break}else if([a,l,c].indexOf(t)>=0)return i[r]}function NQ(t,e){var n=t.since<=t.until?1:-1;return e===void 0?Bt(t.since).year():Bt(t.since).year()+(e-t.offset)*n}function AQ(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].name;return""}function DQ(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].narrow;return""}function PQ(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].abbr;return""}function IQ(){var t,e,n,r,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t)if(n=s[t].since<=s[t].until?1:-1,r=this.clone().startOf("day").valueOf(),s[t].since<=r&&r<=s[t].until||s[t].until<=r&&r<=s[t].since)return(this.year()-Bt(s[t].since).year())*n+s[t].offset;return this.year()}function OQ(t){return Un(this,"_erasNameRegex")||Ok.call(this),t?this._erasNameRegex:this._erasRegex}function MQ(t){return Un(this,"_erasAbbrRegex")||Ok.call(this),t?this._erasAbbrRegex:this._erasRegex}function RQ(t){return Un(this,"_erasNarrowRegex")||Ok.call(this),t?this._erasNarrowRegex:this._erasRegex}function Ik(t,e){return e.erasAbbrRegex(t)}function LQ(t,e){return e.erasNameRegex(t)}function FQ(t,e){return e.erasNarrowRegex(t)}function BQ(t,e){return e._eraYearOrdinalRegex||ep}function Ok(){var t=[],e=[],n=[],r=[],s,i,a,l,c,u=this.eras();for(s=0,i=u.length;s<i;++s)a=Kl(u[s].name),l=Kl(u[s].abbr),c=Kl(u[s].narrow),e.push(a),t.push(l),n.push(c),r.push(a),r.push(l),r.push(c);this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}sn(0,["gg",2],0,function(){return this.weekYear()%100});sn(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Kv(t,e){sn(0,[t,t.length],0,e)}Kv("gggg","weekYear");Kv("ggggg","weekYear");Kv("GGGG","isoWeekYear");Kv("GGGGG","isoWeekYear");qt("G",Wv);qt("g",Wv);qt("GG",Cr,ca);qt("gg",Cr,ca);qt("GGGG",wk,vk);qt("gggg",wk,vk);qt("GGGGG",Hv,zv);qt("ggggg",Hv,zv);n0(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=Dn(t)});n0(["gg","GG"],function(t,e,n,r){e[r]=Bt.parseTwoDigitYear(t)});function $Q(t){return SL.call(this,t,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function zQ(t){return SL.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function UQ(){return Xl(this.year(),1,4)}function HQ(){return Xl(this.isoWeekYear(),1,4)}function WQ(){var t=this.localeData()._week;return Xl(this.year(),t.dow,t.doy)}function VQ(){var t=this.localeData()._week;return Xl(this.weekYear(),t.dow,t.doy)}function SL(t,e,n,r,s){var i;return t==null?ig(this,r,s).year:(i=Xl(t,r,s),e>i&&(e=i),qQ.call(this,t,e,n,r,s))}function qQ(t,e,n,r,s){var i=nL(t,e,n,r,s),a=sg(i.year,0,i.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}sn("Q",0,"Qo","quarter");qt("Q",VR);cr("Q",function(t,e){e[Vl]=(Dn(t)-1)*3});function YQ(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}sn("D",["DD",2],"Do","date");qt("D",Cr,tp);qt("DD",Cr,ca);qt("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});cr(["D","DD"],Qo);cr("Do",function(t,e){e[Qo]=Dn(t.match(Cr)[0])});var CL=np("Date",!0);sn("DDD",["DDDD",3],"DDDo","dayOfYear");qt("DDD",Uv);qt("DDDD",qR);cr(["DDD","DDDD"],function(t,e,n){n._dayOfYear=Dn(t)});function GQ(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}sn("m",["mm",2],0,"minute");qt("m",Cr,_k);qt("mm",Cr,ca);cr(["m","mm"],co);var KQ=np("Minutes",!1);sn("s",["ss",2],0,"second");qt("s",Cr,_k);qt("ss",Cr,ca);cr(["s","ss"],ql);var XQ=np("Seconds",!1);sn("S",0,0,function(){return~~(this.millisecond()/100)});sn(0,["SS",2],0,function(){return~~(this.millisecond()/10)});sn(0,["SSS",3],0,"millisecond");sn(0,["SSSS",4],0,function(){return this.millisecond()*10});sn(0,["SSSSS",5],0,function(){return this.millisecond()*100});sn(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});sn(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});sn(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});sn(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});qt("S",Uv,VR);qt("SS",Uv,ca);qt("SSS",Uv,qR);var nu,TL;for(nu="SSSS";nu.length<=9;nu+="S")qt(nu,ep);function QQ(t,e){e[fd]=Dn(("0."+t)*1e3)}for(nu="S";nu.length<=9;nu+="S")cr(nu,QQ);TL=np("Milliseconds",!1);sn("z",0,0,"zoneAbbr");sn("zz",0,0,"zoneName");function ZQ(){return this._isUTC?"UTC":""}function JQ(){return this._isUTC?"Coordinated Universal Time":""}var Nt=e0.prototype;Nt.add=VX;Nt.calendar=ZX;Nt.clone=JX;Nt.diff=aQ;Nt.endOf=gQ;Nt.format=uQ;Nt.from=dQ;Nt.fromNow=hQ;Nt.to=fQ;Nt.toNow=pQ;Nt.get=cK;Nt.invalidAt=TQ;Nt.isAfter=eQ;Nt.isBefore=tQ;Nt.isBetween=nQ;Nt.isSame=rQ;Nt.isSameOrAfter=sQ;Nt.isSameOrBefore=iQ;Nt.isValid=SQ;Nt.lang=bL;Nt.locale=yL;Nt.localeData=xL;Nt.max=SX;Nt.min=_X;Nt.parsingFlags=CQ;Nt.set=uK;Nt.startOf=mQ;Nt.subtract=qX;Nt.toArray=vQ;Nt.toObject=wQ;Nt.toDate=xQ;Nt.toISOString=lQ;Nt.inspect=cQ;typeof Symbol<"u"&&Symbol.for!=null&&(Nt[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Nt.toJSON=_Q;Nt.toString=oQ;Nt.unix=bQ;Nt.valueOf=yQ;Nt.creationData=kQ;Nt.eraName=AQ;Nt.eraNarrow=DQ;Nt.eraAbbr=PQ;Nt.eraYear=IQ;Nt.year=KR;Nt.isLeapYear=lK;Nt.weekYear=$Q;Nt.isoWeekYear=zQ;Nt.quarter=Nt.quarters=YQ;Nt.month=eL;Nt.daysInMonth=xK;Nt.week=Nt.weeks=EK;Nt.isoWeek=Nt.isoWeeks=jK;Nt.weeksInYear=WQ;Nt.weeksInWeekYear=VQ;Nt.isoWeeksInYear=UQ;Nt.isoWeeksInISOWeekYear=HQ;Nt.date=CL;Nt.day=Nt.days=zK;Nt.weekday=UK;Nt.isoWeekday=HK;Nt.dayOfYear=GQ;Nt.hour=Nt.hours=XK;Nt.minute=Nt.minutes=KQ;Nt.second=Nt.seconds=XQ;Nt.millisecond=Nt.milliseconds=TL;Nt.utcOffset=PX;Nt.utc=OX;Nt.local=MX;Nt.parseZone=RX;Nt.hasAlignedHourOffset=LX;Nt.isDST=FX;Nt.isLocal=$X;Nt.isUtcOffset=zX;Nt.isUtc=fL;Nt.isUTC=fL;Nt.zoneAbbr=ZQ;Nt.zoneName=JQ;Nt.dates=Va("dates accessor is deprecated. Use date instead.",CL);Nt.months=Va("months accessor is deprecated. Use month instead",eL);Nt.years=Va("years accessor is deprecated. Use year instead",KR);Nt.zone=Va("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",IX);Nt.isDSTShifted=Va("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",BX);function eZ(t){return Sr(t*1e3)}function tZ(){return Sr.apply(null,arguments).parseZone()}function kL(t){return t}var Hn=yk.prototype;Hn.calendar=$G;Hn.longDateFormat=WG;Hn.invalidDate=qG;Hn.ordinal=KG;Hn.preparse=kL;Hn.postformat=kL;Hn.relativeTime=QG;Hn.pastFuture=ZG;Hn.set=FG;Hn.eras=EQ;Hn.erasParse=jQ;Hn.erasConvertYear=NQ;Hn.erasAbbrRegex=MQ;Hn.erasNameRegex=OQ;Hn.erasNarrowRegex=RQ;Hn.months=mK;Hn.monthsShort=gK;Hn.monthsParse=bK;Hn.monthsRegex=wK;Hn.monthsShortRegex=vK;Hn.week=SK;Hn.firstDayOfYear=kK;Hn.firstDayOfWeek=TK;Hn.weekdays=RK;Hn.weekdaysMin=FK;Hn.weekdaysShort=LK;Hn.weekdaysParse=$K;Hn.weekdaysRegex=WK;Hn.weekdaysShortRegex=VK;Hn.weekdaysMinRegex=qK;Hn.isPM=GK;Hn.meridiem=QK;function vx(t,e,n,r){var s=cc(),i=fl().set(r,e);return s[n](i,t)}function EL(t,e,n){if(ec(t)&&(e=t,t=void 0),t=t||"",e!=null)return vx(t,e,n,"month");var r,s=[];for(r=0;r<12;r++)s[r]=vx(t,r,n,"month");return s}function Mk(t,e,n,r){typeof t=="boolean"?(ec(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,ec(e)&&(n=e,e=void 0),e=e||"");var s=cc(),i=t?s._week.dow:0,a,l=[];if(n!=null)return vx(e,(n+i)%7,r,"day");for(a=0;a<7;a++)l[a]=vx(e,(a+i)%7,r,"day");return l}function nZ(t,e){return EL(t,e,"months")}function rZ(t,e){return EL(t,e,"monthsShort")}function sZ(t,e,n){return Mk(t,e,n,"weekdays")}function iZ(t,e,n){return Mk(t,e,n,"weekdaysShort")}function aZ(t,e,n){return Mk(t,e,n,"weekdaysMin")}iu("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=Dn(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});Bt.lang=Va("moment.lang is deprecated. Use moment.locale instead.",iu);Bt.langData=Va("moment.langData is deprecated. Use moment.localeData instead.",cc);var Pl=Math.abs;function oZ(){var t=this._data;return this._milliseconds=Pl(this._milliseconds),this._days=Pl(this._days),this._months=Pl(this._months),t.milliseconds=Pl(t.milliseconds),t.seconds=Pl(t.seconds),t.minutes=Pl(t.minutes),t.hours=Pl(t.hours),t.months=Pl(t.months),t.years=Pl(t.years),this}function jL(t,e,n,r){var s=bo(e,n);return t._milliseconds+=r*s._milliseconds,t._days+=r*s._days,t._months+=r*s._months,t._bubble()}function lZ(t,e){return jL(this,t,e,1)}function cZ(t,e){return jL(this,t,e,-1)}function Y3(t){return t<0?Math.floor(t):Math.ceil(t)}function uZ(){var t=this._milliseconds,e=this._days,n=this._months,r=this._data,s,i,a,l,c;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=Y3(hC(n)+e)*864e5,e=0,n=0),r.milliseconds=t%1e3,s=Aa(t/1e3),r.seconds=s%60,i=Aa(s/60),r.minutes=i%60,a=Aa(i/60),r.hours=a%24,e+=Aa(a/24),c=Aa(NL(e)),n+=c,e-=Y3(hC(c)),l=Aa(n/12),n%=12,r.days=e,r.months=n,r.years=l,this}function NL(t){return t*4800/146097}function hC(t){return t*146097/4800}function dZ(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if(t=qa(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+r/864e5,n=this._months+NL(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(hC(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return e*24+r/36e5;case"minute":return e*1440+r/6e4;case"second":return e*86400+r/1e3;case"millisecond":return Math.floor(e*864e5)+r;default:throw new Error("Unknown unit "+t)}}function uc(t){return function(){return this.as(t)}}var AL=uc("ms"),hZ=uc("s"),fZ=uc("m"),pZ=uc("h"),mZ=uc("d"),gZ=uc("w"),yZ=uc("M"),bZ=uc("Q"),xZ=uc("y"),vZ=AL;function wZ(){return bo(this)}function _Z(t){return t=qa(t),this.isValid()?this[t+"s"]():NaN}function qd(t){return function(){return this.isValid()?this._data[t]:NaN}}var SZ=qd("milliseconds"),CZ=qd("seconds"),TZ=qd("minutes"),kZ=qd("hours"),EZ=qd("days"),jZ=qd("months"),NZ=qd("years");function AZ(){return Aa(this.days()/7)}var Bl=Math.round,Vh={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function DZ(t,e,n,r,s){return s.relativeTime(e||1,!!n,t,r)}function PZ(t,e,n,r){var s=bo(t).abs(),i=Bl(s.as("s")),a=Bl(s.as("m")),l=Bl(s.as("h")),c=Bl(s.as("d")),u=Bl(s.as("M")),h=Bl(s.as("w")),f=Bl(s.as("y")),m=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||a<=1&&["m"]||a<n.m&&["mm",a]||l<=1&&["h"]||l<n.h&&["hh",l]||c<=1&&["d"]||c<n.d&&["dd",c];return n.w!=null&&(m=m||h<=1&&["w"]||h<n.w&&["ww",h]),m=m||u<=1&&["M"]||u<n.M&&["MM",u]||f<=1&&["y"]||["yy",f],m[2]=e,m[3]=+t>0,m[4]=r,DZ.apply(null,m)}function IZ(t){return t===void 0?Bl:typeof t=="function"?(Bl=t,!0):!1}function OZ(t,e){return Vh[t]===void 0?!1:e===void 0?Vh[t]:(Vh[t]=e,t==="s"&&(Vh.ss=e-1),!0)}function MZ(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=Vh,s,i;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(r=Object.assign({},Vh,e),e.s!=null&&e.ss==null&&(r.ss=e.s-1)),s=this.localeData(),i=PZ(this,!n,r,s),n&&(i=s.pastFuture(+this,i)),s.postformat(i)}var t2=Math.abs;function Ah(t){return(t>0)-(t<0)||+t}function Xv(){if(!this.isValid())return this.localeData().invalidDate();var t=t2(this._milliseconds)/1e3,e=t2(this._days),n=t2(this._months),r,s,i,a,l=this.asSeconds(),c,u,h,f;return l?(r=Aa(t/60),s=Aa(r/60),t%=60,r%=60,i=Aa(n/12),n%=12,a=t?t.toFixed(3).replace(/\.?0+$/,""):"",c=l<0?"-":"",u=Ah(this._months)!==Ah(l)?"-":"",h=Ah(this._days)!==Ah(l)?"-":"",f=Ah(this._milliseconds)!==Ah(l)?"-":"",c+"P"+(i?u+i+"Y":"")+(n?u+n+"M":"")+(e?h+e+"D":"")+(s||r||t?"T":"")+(s?f+s+"H":"")+(r?f+r+"M":"")+(t?f+a+"S":"")):"P0D"}var Rn=Gv.prototype;Rn.isValid=jX;Rn.abs=oZ;Rn.add=lZ;Rn.subtract=cZ;Rn.as=dZ;Rn.asMilliseconds=AL;Rn.asSeconds=hZ;Rn.asMinutes=fZ;Rn.asHours=pZ;Rn.asDays=mZ;Rn.asWeeks=gZ;Rn.asMonths=yZ;Rn.asQuarters=bZ;Rn.asYears=xZ;Rn.valueOf=vZ;Rn._bubble=uZ;Rn.clone=wZ;Rn.get=_Z;Rn.milliseconds=SZ;Rn.seconds=CZ;Rn.minutes=TZ;Rn.hours=kZ;Rn.days=EZ;Rn.weeks=AZ;Rn.months=jZ;Rn.years=NZ;Rn.humanize=MZ;Rn.toISOString=Xv;Rn.toString=Xv;Rn.toJSON=Xv;Rn.locale=yL;Rn.localeData=xL;Rn.toIsoString=Va("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Xv);Rn.lang=bL;sn("X",0,0,"unix");sn("x",0,0,"valueOf");qt("x",Wv);qt("X",nK);cr("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});cr("x",function(t,e,n){n._d=new Date(Dn(t))});//! moment.js
Bt.version="2.30.1";RG(Sr);Bt.fn=Nt;Bt.min=CX;Bt.max=TX;Bt.now=kX;Bt.utc=fl;Bt.unix=eZ;Bt.months=nZ;Bt.isDate=Jg;Bt.locale=iu;Bt.invalid=$v;Bt.duration=bo;Bt.isMoment=po;Bt.weekdays=sZ;Bt.parseZone=tZ;Bt.localeData=cc;Bt.isDuration=Mb;Bt.monthsShort=rZ;Bt.weekdaysMin=aZ;Bt.defineLocale=Ek;Bt.updateLocale=tX;Bt.locales=nX;Bt.weekdaysShort=iZ;Bt.normalizeUnits=qa;Bt.relativeTimeRounding=IZ;Bt.relativeTimeThreshold=OZ;Bt.calendarFormat=QX;Bt.prototype=Nt;Bt.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};function Rk(){const[t,e]=_.useState("");return _.useEffect(()=>{navigator.geolocation.getCurrentPosition(n=>{const{latitude:r,longitude:s}=n.coords,i=`https://nominatim.openstreetmap.org/reverse?format=json&lat=${r}&lon=${s}`;fetch(i).then(a=>a.json()).then(a=>e(a.address))})},[]),t}function RZ(){var g,b,y;const[t,e]=_.useState([]),[n,r]=_.useState(!0),[s,i]=_.useState("Add To Cart"),[a,l]=_.useContext(Ug),c=Hd(),u=Rk().country,h=zt().user_id,f=()=>{mt().get(`course/course-detail/${c.slug}/`).then(x=>{e(x.data),r()})};_.useEffect(()=>{f()},[]);const m=async(x,w,C,k,A)=>{i("Adding To Cart");const N=new FormData;N.append("course_id",x),N.append("user_id",w),N.append("price",C),N.append("country_name",k),N.append("cart_id",A);try{await mt().post("course/cart/",N).then(P=>{i("Added To Cart"),nt().fire({title:"Added To Cart",icon:"success"}),Gi.get(`course/cart-list/${lo()}/`).then(M=>{var L;l((L=M.data)==null?void 0:L.length)})})}catch{i("Add To Cart")}};return o.jsxs(o.Fragment,{children:[o.jsx(BaseHeader,{}),o.jsx(o.Fragment,{children:n===!0?o.jsxs("p",{children:["Loading ",o.jsx("i",{className:"fas fa-spinner fa-spin"})]}):o.jsxs(o.Fragment,{children:[o.jsx("section",{className:"bg-light py-0 py-sm-5",children:o.jsx("div",{className:"container",children:o.jsx("div",{className:"row py-5",children:o.jsxs("div",{className:"col-lg-8",children:[o.jsx("h6",{className:"mb-3 font-base bg-primary text-white py-2 px-4 rounded-2 d-inline-block",children:t.category.title}),o.jsx("h1",{className:"mb-3",children:t.title}),o.jsx("p",{className:"mb-3",dangerouslySetInnerHTML:{__html:`${(g=t==null?void 0:t.description)==null?void 0:g.slice(0,200)}`}}),o.jsxs("ul",{className:"list-inline mb-0",children:[o.jsxs("li",{className:"list-inline-item h6 me-3 mb-1 mb-sm-0",children:[o.jsx("i",{className:"fas fa-star text-warning me-2"}),t.average_rating,"/5"]}),o.jsxs("li",{className:"list-inline-item h6 me-3 mb-1 mb-sm-0",children:[o.jsx("i",{className:"fas fa-user-graduate text-orange me-2"}),(b=t.students)==null?void 0:b.length," Enrolled"]}),o.jsxs("li",{className:"list-inline-item h6 me-3 mb-1 mb-sm-0",children:[o.jsx("i",{className:"fas fa-signal text-success me-2"}),t.level]}),o.jsxs("li",{className:"list-inline-item h6 me-3 mb-1 mb-sm-0",children:[o.jsx("i",{className:"bi bi-patch-exclamation-fill text-danger me-2"}),Bt(t.date).format("DD MMM, YYYY")]}),o.jsxs("li",{className:"list-inline-item h6 mb-0",children:[o.jsx("i",{className:"fas fa-globe text-info me-2"}),t.language]})]})]})})})}),o.jsx("section",{className:"pb-0 py-lg-5",children:o.jsx("div",{className:"container",children:o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-lg-8",children:o.jsxs("div",{className:"card shadow rounded-2 p-0",children:[o.jsx("div",{className:"card-header border-bottom px-4 py-3",children:o.jsxs("ul",{className:"nav nav-pills nav-tabs-line py-0",id:"course-pills-tab",role:"tablist",children:[o.jsx("li",{className:"nav-item me-2 me-sm-4",role:"presentation",children:o.jsx("button",{className:"nav-link mb-2 mb-md-0 active",id:"course-pills-tab-1","data-bs-toggle":"pill","data-bs-target":"#course-pills-1",type:"button",role:"tab","aria-controls":"course-pills-1","aria-selected":"true",children:"Overview"})}),o.jsx("li",{className:"nav-item me-2 me-sm-4",role:"presentation",children:o.jsx("button",{className:"nav-link mb-2 mb-md-0",id:"course-pills-tab-2","data-bs-toggle":"pill","data-bs-target":"#course-pills-2",type:"button",role:"tab","aria-controls":"course-pills-2","aria-selected":"false",children:"Curriculum"})}),o.jsx("li",{className:"nav-item me-2 me-sm-4",role:"presentation",children:o.jsx("button",{className:"nav-link mb-2 mb-md-0",id:"course-pills-tab-3","data-bs-toggle":"pill","data-bs-target":"#course-pills-3",type:"button",role:"tab","aria-controls":"course-pills-3","aria-selected":"false",children:"Instructor"})}),o.jsx("li",{className:"nav-item me-2 me-sm-4",role:"presentation",children:o.jsx("button",{className:"nav-link mb-2 mb-md-0",id:"course-pills-tab-4","data-bs-toggle":"pill","data-bs-target":"#course-pills-4",type:"button",role:"tab","aria-controls":"course-pills-4","aria-selected":"false",children:"Reviews"})}),o.jsx("li",{className:"nav-item me-2 me-sm-4 d-none",role:"presentation",children:o.jsx("button",{className:"nav-link mb-2 mb-md-0",id:"course-pills-tab-5","data-bs-toggle":"pill","data-bs-target":"#course-pills-5",type:"button",role:"tab","aria-controls":"course-pills-5","aria-selected":"false",children:"FAQs"})}),o.jsx("li",{className:"nav-item me-2 me-sm-4 d-none",role:"presentation",children:o.jsx("button",{className:"nav-link mb-2 mb-md-0",id:"course-pills-tab-6","data-bs-toggle":"pill","data-bs-target":"#course-pills-6",type:"button",role:"tab","aria-controls":"course-pills-6","aria-selected":"false",children:"Comment"})})]})}),o.jsx("div",{className:"card-body p-4",children:o.jsxs("div",{className:"tab-content pt-2",id:"course-pills-tabContent",children:[o.jsxs("div",{className:"tab-pane fade show active",id:"course-pills-1",role:"tabpanel","aria-labelledby":"course-pills-tab-1",children:[o.jsx("h5",{className:"mb-3",children:"Course Description"}),o.jsx("p",{className:"mb-3",dangerouslySetInnerHTML:{__html:`${t==null?void 0:t.description}`}})]}),o.jsx("div",{className:"tab-pane fade",id:"course-pills-2",role:"tabpanel","aria-labelledby":"course-pills-tab-2",children:o.jsx("div",{className:"accordion accordion-icon accordion-bg-light",id:"accordionExample2",children:(y=t==null?void 0:t.curriculum)==null?void 0:y.map((x,w)=>{var C;return o.jsxs("div",{className:"accordion-item mb-3",children:[o.jsx("h6",{className:"accordion-header font-base",id:"heading-1",children:o.jsx("button",{className:"accordion-button fw-bold rounded d-sm-flex d-inline-block collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":`#collapse-${x.variant_id}`,"aria-expanded":"true","aria-controls":`collapse-${x.variant_id}`,children:x.title})}),o.jsx("div",{id:`collapse-${x.variant_id}`,className:"accordion-collapse collapse show","aria-labelledby":"heading-1","data-bs-parent":"#accordionExample2",children:o.jsx("div",{className:"accordion-body mt-3",children:(C=x.variant_items)==null?void 0:C.map((k,A)=>o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[o.jsxs("div",{className:"position-relative d-flex align-items-center",children:[o.jsx("a",{href:"#",className:"btn btn-danger-soft btn-round btn-sm mb-0 stretched-link position-static",children:k.preview===!0?o.jsx("i",{className:"fas fa-play me-0"}):o.jsx("i",{className:"fas fa-lock me-0"})}),o.jsx("span",{className:"d-inline-block text-truncate ms-2 mb-0 h6 fw-light w-100px w-sm-200px w-md-400px",children:k.title})]}),o.jsx("p",{className:"mb-0",children:x.content_duration})]}),o.jsx("hr",{})]}))})})]})})})}),o.jsxs("div",{className:"tab-pane fade",id:"course-pills-3",role:"tabpanel","aria-labelledby":"course-pills-tab-3",children:[o.jsx("div",{className:"card mb-0 mb-md-4",children:o.jsxs("div",{className:"row g-0 align-items-center",children:[o.jsx("div",{className:"col-md-5",children:o.jsx("img",{src:t.teacher.image,className:"img-fluid rounded-3",alt:"instructor-image"})}),o.jsx("div",{className:"col-md-7",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h3",{className:"card-title mb-0",children:t.teacher.full_name}),o.jsx("p",{className:"mb-2",children:t.teacher.bio}),o.jsxs("ul",{className:"list-inline mb-3",children:[o.jsx("li",{className:"list-inline-item me-3",children:o.jsx("a",{href:t.teacher.twitter,className:"fs-5 text-twitter",children:o.jsx("i",{className:"fab fa-twitter-square"})})}),o.jsx("li",{className:"list-inline-item me-3",children:o.jsx("a",{href:t.teacher.facebook,className:"fs-5 text-facebook",children:o.jsx("i",{className:"fab fa-facebook-square"})})}),o.jsx("li",{className:"list-inline-item me-3",children:o.jsx("a",{href:t.teacher.linkedin,className:"fs-5 text-linkedin",children:o.jsx("i",{className:"fab fa-linkedin"})})})]})]})})]})}),o.jsx("h5",{className:"mb-3",children:"About Instructor"}),o.jsx("p",{className:"mb-3",children:t.teacher.about})]}),o.jsxs("div",{className:"tab-pane fade",id:"course-pills-4",role:"tabpanel","aria-labelledby":"course-pills-tab-4",children:[o.jsx("div",{className:"row mb-1",children:o.jsx("h5",{className:"mb-4",children:"Our Student Reviews"})}),o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"d-md-flex my-4",children:[o.jsx("div",{className:"avatar avatar-xl me-4 flex-shrink-0",children:o.jsx("img",{className:"avatar-img rounded-circle",src:"https://geeksui.codescandy.com/geeks/assets/images/avatar/avatar-1.jpg",style:{width:"50px",height:"50px",borderRadius:"50%",objectFit:"cover"},alt:"avatar"})}),o.jsxs("div",{children:[o.jsxs("div",{className:"d-sm-flex mt-1 mt-md-0 align-items-center",children:[o.jsx("h5",{className:"me-3 mb-0",children:"Sam Jay"}),o.jsxs("ul",{className:"list-inline mb-0",children:[o.jsx("i",{className:"fas fa-star text-warning"}),o.jsx("i",{className:"fas fa-star text-warning"}),o.jsx("i",{className:"fas fa-star text-warning"}),o.jsx("i",{className:"fas fa-star text-warning"}),o.jsx("i",{className:"far fa-star text-warning"})]})]}),o.jsx("p",{className:"small mb-2",children:"5 days ago"}),o.jsx("p",{className:"mb-2",children:"Perceived end knowledge certainly day sweetness why cordially. Ask a quick six seven offer see among. Handsome met debating sir dwelling age material. As style lived he worse dried. Offered related so visitors we private removed. Moderate do subjects to distance."})]})]}),o.jsx("hr",{}),o.jsxs("div",{className:"d-md-flex my-4",children:[o.jsx("div",{className:"avatar avatar-xl me-4 flex-shrink-0",children:o.jsx("img",{className:"avatar-img rounded-circle",src:"https://geeksui.codescandy.com/geeks/assets/images/avatar/avatar-1.jpg",style:{width:"50px",height:"50px",borderRadius:"50%",objectFit:"cover"},alt:"avatar"})}),o.jsxs("div",{children:[o.jsxs("div",{className:"d-sm-flex mt-1 mt-md-0 align-items-center",children:[o.jsx("h5",{className:"me-3 mb-0",children:"Benny Doggo"}),o.jsxs("ul",{className:"list-inline mb-0",children:[o.jsx("li",{className:"list-inline-item me-0",children:o.jsx("i",{className:"fas fa-star text-warning"})}),o.jsx("li",{className:"list-inline-item me-0",children:o.jsx("i",{className:"fas fa-star text-warning"})}),o.jsx("li",{className:"list-inline-item me-0",children:o.jsx("i",{className:"fas fa-star text-warning"})}),o.jsx("li",{className:"list-inline-item me-0",children:o.jsx("i",{className:"fas fa-star text-warning"})}),o.jsx("li",{className:"list-inline-item me-0",children:o.jsx("i",{className:"far fa-star text-warning"})})]})]}),o.jsx("p",{className:"small mb-2",children:"2 days ago"}),o.jsx("p",{className:"mb-2",children:"Handsome met debating sir dwelling age material. As style lived he worse dried. Offered related so visitors we private removed. Moderate do subjects to distance."})]})]}),o.jsx("hr",{})]}),o.jsxs("div",{className:"mt-2",children:[o.jsx("h5",{className:"mb-4",children:"Leave a Review"}),o.jsxs("form",{className:"row g-3",children:[o.jsx("div",{className:"col-12 bg-light-input",children:o.jsxs("select",{id:"inputState2",className:"form-select js-choice",children:[o.jsx("option",{selected:"",children:"★★★★★ (5/5)"}),o.jsx("option",{children:"★★★★☆ (4/5)"}),o.jsx("option",{children:"★★★☆☆ (3/5)"}),o.jsx("option",{children:"★★☆☆☆ (2/5)"}),o.jsx("option",{children:"★☆☆☆☆ (1/5)"})]})}),o.jsx("div",{className:"col-12 bg-light-input",children:o.jsx("textarea",{className:"form-control",id:"exampleFormControlTextarea1",placeholder:"Your review",rows:3,defaultValue:""})}),o.jsx("div",{className:"col-12",children:o.jsx("button",{type:"submit",className:"btn btn-primary mb-0",children:"Post Review"})})]})]})]}),o.jsxs("div",{className:"tab-pane fade",id:"course-pills-5",role:"tabpanel","aria-labelledby":"course-pills-tab-5",children:[o.jsx("h5",{className:"mb-3",children:"Frequently Asked Questions"}),o.jsxs("div",{className:"accordion accordion-flush",id:"accordionExample",children:[o.jsxs("div",{className:"accordion-item",children:[o.jsx("h2",{className:"accordion-header",id:"headingOne",children:o.jsxs("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne",children:[o.jsx("span",{className:"text-secondary fw-bold me-3",children:"01"}),o.jsx("span",{className:"h6 mb-0",children:"How Digital Marketing Work?"})]})}),o.jsx("div",{id:"collapseOne",className:"accordion-collapse collapse show","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample",children:o.jsx("div",{className:"accordion-body pt-0",children:"Comfort reached gay perhaps chamber his six detract besides add. Moonlight newspaper up its enjoyment agreeable depending. Timed voice share led him to widen noisy young. At weddings believed laughing although the material does the exercise of. Up attempt offered ye civilly so sitting to. She new course gets living within Elinor joy. She rapturous suffering concealed."})})]}),o.jsxs("div",{className:"accordion-item",children:[o.jsx("h2",{className:"accordion-header",id:"headingTwo",children:o.jsxs("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseTwo","aria-expanded":"false","aria-controls":"collapseTwo",children:[o.jsx("span",{className:"text-secondary fw-bold me-3",children:"02"}),o.jsx("span",{className:"h6 mb-0",children:"What is SEO?"})]})}),o.jsx("div",{id:"collapseTwo",className:"accordion-collapse collapse","aria-labelledby":"headingTwo","data-bs-parent":"#accordionExample",children:o.jsxs("div",{className:"accordion-body pt-0",children:["Pleasure and so read the was hope entire first decided the so must have as on was want up of I will rival in came this touched got a physics to travelling so all especially refinement monstrous desk they was arrange the overall helplessly out of particularly ill are purer.",o.jsx("p",{className:"mt-2",children:"Person she control of to beginnings view looked eyes Than continues its and because and given and shown creating curiously to more in are man were smaller by we instead the these sighed Avoid in the sufficient me real man longer of his how her for countries to brains warned notch important Finds be to the of on the increased explain noise of power deep asking contribution this live of suppliers goals bit separated poured sort several the was organization the if relations go work after mechanic But we've area wasn't everything needs of and doctor where would."}),"Go he prisoners And mountains in just switching city steps Might rung line what Mr Bulk; Was or between towards the have phase were its world my samples are the was royal he luxury the about trying And on he to my enough is was the remember a although lead in were through serving their assistant fame day have for its after would cheek dull have what in go feedback assignment Her of a any help if the a of semantics is rational overhauls following in from our hazardous and used more he themselves the parents up just regulatory."]})})]}),o.jsxs("div",{className:"accordion-item",children:[o.jsx("h2",{className:"accordion-header",id:"headingThree",children:o.jsxs("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseThree","aria-expanded":"false","aria-controls":"collapseThree",children:[o.jsx("span",{className:"text-secondary fw-bold me-3",children:"03"}),o.jsx("span",{className:"h6 mb-0",children:"Who should join this course?"})]})}),o.jsx("div",{id:"collapseThree",className:"accordion-collapse collapse","aria-labelledby":"headingThree","data-bs-parent":"#accordionExample",children:o.jsxs("div",{className:"accordion-body pt-0",children:["Post no so what deal evil rent by real in. But her ready least set lived spite solid. September how men saw tolerably two behavior arranging. She offices for highest and replied one venture pasture. Applauded no discovery in newspaper allowance am northward. Frequently partiality possession resolution at or appearance unaffected me. Engaged its was the evident pleased husband. Ye goodness felicity do disposal dwelling no. First am plate jokes to began to cause a scale.",o.jsx("strong",{children:"Subjects he prospect elegance followed no overcame"}),"possible it on."]})})]}),o.jsxs("div",{className:"accordion-item",children:[o.jsx("h2",{className:"accordion-header",id:"headingFour",children:o.jsxs("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseFour","aria-expanded":"false","aria-controls":"collapseFour",children:[o.jsx("span",{className:"text-secondary fw-bold me-3",children:"04"}),o.jsx("span",{className:"h6 mb-0",children:"What are the T&C for this program?"})]})}),o.jsx("div",{id:"collapseFour",className:"accordion-collapse collapse","aria-labelledby":"headingFour","data-bs-parent":"#accordionExample",children:o.jsx("div",{className:"accordion-body pt-0",children:"Night signs creeping yielding green Seasons together man green fruitful make fish behold earth unto you'll lights living moving sea open for fish day multiply tree good female god had fruitful of creature fill shall don't day fourth lesser he the isn't let multiply may Creeping earth under was You're without which image stars in Own creeping night of wherein Heaven years their he over doesn't whose won't kind seasons light Won't that fish him whose won't also it dominion heaven fruitful Whales created And likeness doesn't that Years without divided saying morning creeping hath you'll seas cattle in multiply under together in us said above dry tree herb saw living darkness without have won't for i behold meat brought winged Moving living second beast Over fish place beast image very him evening Thing they're fruit together forth day Seed lights Land creature together Multiply waters form brought."})})]}),o.jsxs("div",{className:"accordion-item",children:[o.jsx("h2",{className:"accordion-header",id:"headingFive",children:o.jsxs("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseFive","aria-expanded":"false","aria-controls":"collapseFive",children:[o.jsx("span",{className:"text-secondary fw-bold me-3",children:"05"}),o.jsx("span",{className:"h6 mb-0",children:"What certificates will I be received for this program?"})]})}),o.jsx("div",{id:"collapseFive",className:"accordion-collapse collapse","aria-labelledby":"headingFive","data-bs-parent":"#accordionExample",children:o.jsx("div",{className:"accordion-body pt-0",children:"Smile spoke total few great had never their too Amongst moments do in arrived at my replied Fat weddings servants but man believed prospect Companions understood is as especially pianoforte connection introduced Nay newspaper can sportsman are admitting gentleman belonging his Is oppose no he summer lovers twenty in Not his difficulty boisterous surrounded bed Seems folly if in given scale Sex contented dependent conveying advantage."})})]})]})]}),o.jsx("div",{className:"tab-pane fade",id:"course-pills-6",role:"tabpanel","aria-labelledby":"course-pills-tab-6",children:o.jsx("div",{className:"row",children:o.jsxs("div",{className:"col-12",children:[o.jsx("h5",{className:"mb-4",children:"Group Chat & Q/A Forum"}),o.jsx("div",{className:"border p-2 p-sm-4 rounded-3 mb-4",children:o.jsxs("ul",{className:"list-unstyled mb-0",children:[o.jsx("li",{className:"comment-item",children:o.jsx("div",{className:"d-flex mb-3",children:o.jsxs("div",{className:"ms-2",children:[o.jsx("div",{className:"bg-light p-3 rounded",children:o.jsxs("div",{className:"d-flex justify-content-center",children:[o.jsxs("div",{className:"me-2",children:[o.jsx("h6",{className:"mb-1 lead fw-bold",children:o.jsxs("a",{href:"#!",className:"text-decoration-none text-dark",children:[o.jsx("span",{className:"text-secondary",children:"By:"})," ","Frances Guerrero"," "]})}),o.jsx("p",{className:"mb-0",children:"Removed demands expense account in outward tedious do. Particular waythoroughly unaffected projection ar waythoroughly unaffected projection?..."}),o.jsx("p",{className:"mt-4 fw-bold",children:"16 Replies"})]}),o.jsx("small",{children:"5hr"})]})}),o.jsx("ul",{className:"nav nav-divider py-2 small",children:o.jsx("li",{className:"nav-item",children:o.jsxs("a",{className:"btn btn-primary btn-sm",href:"#",children:["Join Conversation"," ",o.jsx("i",{className:"fas fa-arrow-right"})]})})})]})})}),o.jsx("li",{className:"comment-item",children:o.jsx("div",{className:"d-flex mb-3",children:o.jsxs("div",{className:"ms-2",children:[o.jsx("div",{className:"bg-light p-3 rounded",children:o.jsxs("div",{className:"d-flex justify-content-center",children:[o.jsxs("div",{className:"me-2",children:[o.jsx("h6",{className:"mb-1 lead fw-bold",children:o.jsxs("a",{href:"#!",className:"text-decoration-none text-dark",children:[o.jsx("span",{className:"text-secondary",children:"By:"})," ","Frances Guerrero"," "]})}),o.jsx("p",{className:"mb-0",children:"Removed demands expense account in outward tedious do. Particular waythoroughly unaffected projection ar waythoroughly unaffected projection?..."}),o.jsx("p",{className:"mt-4 fw-bold",children:"16 Replies"})]}),o.jsx("small",{children:"5hr"})]})}),o.jsx("ul",{className:"nav nav-divider py-2 small",children:o.jsx("li",{className:"nav-item",children:o.jsxs("a",{className:"btn btn-primary btn-sm",href:"#",children:["Join Conversation"," ",o.jsx("i",{className:"fas fa-arrow-right"})]})})})]})})})]})}),o.jsxs("div",{className:"border p-2 p-sm-4 rounded-3",children:[o.jsxs("ul",{className:"list-unstyled mb-0",style:{overflowY:"scroll",height:"500px"},children:[o.jsx("li",{className:"comment-item mb-3",children:o.jsxs("div",{className:"d-flex",children:[o.jsx("div",{className:"avatar avatar-sm flex-shrink-0",children:o.jsx("a",{href:"#",children:o.jsx("img",{className:"avatar-img rounded-circle",src:"https://geeksui.codescandy.com/geeks/assets/images/avatar/avatar-3.jpg",style:{width:"40px",height:"40px",borderRadius:"50%",objectFit:"cover"},alt:"womans image"})})}),o.jsx("div",{className:"ms-2",children:o.jsx("div",{className:"bg-light p-3 rounded w-100",children:o.jsx("div",{className:"d-flex w-100 justify-content-center",children:o.jsxs("div",{className:"me-2 ",children:[o.jsxs("h6",{className:"mb-1 lead fw-bold",children:[o.jsxs("a",{href:"#!",className:"text-decoration-none text-dark",children:[" ","Louis Ferguson"," "]}),o.jsx("br",{}),o.jsx("span",{style:{fontSize:"12px",color:"gray"},children:"5hrs Ago"})]}),o.jsx("p",{className:"mb-0 mt-3  ",children:"Removed demands expense account"})]})})})})]})}),o.jsx("li",{className:"comment-item mb-3",children:o.jsxs("div",{className:"d-flex",children:[o.jsx("div",{className:"avatar avatar-sm flex-shrink-0",children:o.jsx("a",{href:"#",children:o.jsx("img",{className:"avatar-img rounded-circle",src:"https://geeksui.codescandy.com/geeks/assets/images/avatar/avatar-3.jpg",style:{width:"40px",height:"40px",borderRadius:"50%",objectFit:"cover"},alt:"womans image"})})}),o.jsx("div",{className:"ms-2",children:o.jsx("div",{className:"bg-light p-3 rounded w-100",children:o.jsx("div",{className:"d-flex w-100 justify-content-center",children:o.jsxs("div",{className:"me-2 ",children:[o.jsxs("h6",{className:"mb-1 lead fw-bold",children:[o.jsxs("a",{href:"#!",className:"text-decoration-none text-dark",children:[" ","Louis Ferguson"," "]}),o.jsx("br",{}),o.jsx("span",{style:{fontSize:"12px",color:"gray"},children:"5hrs Ago"})]}),o.jsx("p",{className:"mb-0 mt-3  ",children:"Removed demands expense account from the debby building in a hall town tak with"})]})})})})]})}),o.jsx("li",{className:"comment-item mb-3",children:o.jsxs("div",{className:"d-flex",children:[o.jsx("div",{className:"avatar avatar-sm flex-shrink-0",children:o.jsx("a",{href:"#",children:o.jsx("img",{className:"avatar-img rounded-circle",src:"https://geeksui.codescandy.com/geeks/assets/images/avatar/avatar-3.jpg",style:{width:"40px",height:"40px",borderRadius:"50%",objectFit:"cover"},alt:"womans image"})})}),o.jsx("div",{className:"ms-2",children:o.jsx("div",{className:"bg-light p-3 rounded w-100",children:o.jsx("div",{className:"d-flex w-100 justify-content-center",children:o.jsxs("div",{className:"me-2 ",children:[o.jsxs("h6",{className:"mb-1 lead fw-bold",children:[o.jsxs("a",{href:"#!",className:"text-decoration-none text-dark",children:[" ","Louis Ferguson"," "]}),o.jsx("br",{}),o.jsx("span",{style:{fontSize:"12px",color:"gray"},children:"5hrs Ago"})]}),o.jsx("p",{className:"mb-0 mt-3  ",children:"Removed demands expense account"})]})})})})]})}),o.jsx("li",{className:"comment-item mb-3",children:o.jsxs("div",{className:"d-flex",children:[o.jsx("div",{className:"avatar avatar-sm flex-shrink-0",children:o.jsx("a",{href:"#",children:o.jsx("img",{className:"avatar-img rounded-circle",src:"https://geeksui.codescandy.com/geeks/assets/images/avatar/avatar-3.jpg",style:{width:"40px",height:"40px",borderRadius:"50%",objectFit:"cover"},alt:"womans image"})})}),o.jsx("div",{className:"ms-2",children:o.jsx("div",{className:"bg-light p-3 rounded w-100",children:o.jsx("div",{className:"d-flex w-100 justify-content-center",children:o.jsxs("div",{className:"me-2 ",children:[o.jsxs("h6",{className:"mb-1 lead fw-bold",children:[o.jsxs("a",{href:"#!",className:"text-decoration-none text-dark",children:[" ","Louis Ferguson"," "]}),o.jsx("br",{}),o.jsx("span",{style:{fontSize:"12px",color:"gray"},children:"5hrs Ago"})]}),o.jsx("p",{className:"mb-0 mt-3  ",children:"Removed demands expense account"})]})})})})]})})]}),o.jsxs("form",{class:"w-100 d-flex",children:[o.jsx("textarea",{class:"one form-control pe-4 bg-light w-75",id:"autoheighttextarea",rows:"1",placeholder:"Write a message..."}),o.jsxs("button",{class:"btn btn-primary ms-2 mb-0 w-25",type:"button",children:["Post"," ",o.jsx("i",{className:"fas fa-paper-plane"})]})]})]})]})})})]})})]})}),o.jsx("div",{className:"col-lg-4 pt-5 pt-lg-0",children:o.jsx("div",{className:"row mb-5 mb-lg-0",children:o.jsxs("div",{className:"col-md-6 col-lg-12",children:[o.jsxs("div",{className:"card shadow p-2 mb-4 z-index-9",children:[o.jsxs("div",{className:"overflow-hidden rounded-3",children:[o.jsx("img",{src:t.image,className:"card-img",alt:"course image"}),o.jsxs("div",{className:"m-auto rounded-2 mt-2 d-flex justify-content-center align-items-center",style:{backgroundColor:"#ededed"},children:[o.jsx("a",{"data-bs-toggle":"modal","data-bs-target":"#exampleModal",href:"https://www.youtube.com/embed/tXHviS-4ygo",className:"btn btn-lg text-danger btn-round btn-white-shadow mb-0","data-glightbox":"","data-gallery":"course-video",children:o.jsx("i",{className:"fas fa-play"})}),o.jsx("span",{"data-bs-toggle":"modal","data-bs-target":"#exampleModal",className:"fw-bold",children:"Course Introduction Video"}),o.jsx("div",{className:"modal fade",id:"exampleModal",tabIndex:-1,"aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:o.jsx("div",{className:"modal-dialog",children:o.jsxs("div",{className:"modal-content",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h1",{className:"modal-title fs-5",id:"exampleModalLabel",children:"Introduction Videos"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:"..."}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),o.jsx("button",{type:"button",className:"btn btn-primary",children:"Save changes"})]})]})})})]})]}),o.jsxs("div",{className:"card-body px-3",children:[o.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[o.jsx("div",{children:o.jsx("div",{className:"d-flex align-items-center",children:o.jsxs("h3",{className:"fw-bold mb-0 me-2",children:["$",t.price]})})}),o.jsxs("div",{className:"dropdown",children:[o.jsx("a",{href:"#",className:"btn btn-sm btn-light rounded small",role:"button",id:"dropdownShare","data-bs-toggle":"dropdown","aria-expanded":"false",children:o.jsx("i",{className:"fas fa-fw fa-share-alt"})}),o.jsxs("ul",{className:"dropdown-menu dropdown-w-sm dropdown-menu-end min-w-auto shadow rounded","aria-labelledby":"dropdownShare",children:[o.jsx("li",{children:o.jsxs("a",{className:"dropdown-item",href:"#",children:[o.jsx("i",{className:"fab fa-twitter-square me-2"}),"Twitter"]})}),o.jsx("li",{children:o.jsxs("a",{className:"dropdown-item",href:"#",children:[o.jsx("i",{className:"fab fa-facebook-square me-2"}),"Facebook"]})}),o.jsx("li",{children:o.jsxs("a",{className:"dropdown-item",href:"#",children:[o.jsx("i",{className:"fab fa-linkedin me-2"}),"LinkedIn"]})}),o.jsx("li",{children:o.jsxs("a",{className:"dropdown-item",href:"#",children:[o.jsx("i",{className:"fas fa-copy me-2"}),"Copy link"]})})]})]})]}),o.jsxs("div",{className:"mt-3 d-sm-flex justify-content-sm-between ",children:[s==="Add To Cart"&&o.jsxs("button",{type:"button",className:"btn btn-primary mb-0 w-100 me-2",onClick:()=>m(t==null?void 0:t.id,h,t.price,u,lo()),children:[o.jsx("i",{className:"fas fa-shopping-cart"})," Add To Cart"]}),s==="Added To Cart"&&o.jsxs("button",{type:"button",className:"btn btn-primary mb-0 w-100 me-2",onClick:()=>m(t.id,1,t.price,"Nigeria","8325347"),children:[o.jsx("i",{className:"fas fa-check-circle"})," Added To Cart"]}),s==="Adding To Cart"&&o.jsxs("button",{type:"button",className:"btn btn-primary mb-0 w-100 me-2",onClick:()=>m(t.id,1,t.price,"Nigeria","8325347"),children:[o.jsx("i",{className:"fas fa-spinner fa-spin"})," ","Adding To Cart"]}),o.jsxs(Pn,{to:"/cart/",className:"btn btn-success mb-0 w-100",children:["Enroll Now"," ",o.jsx("i",{className:"fas fa-arrow-right"})]})]})]})]}),o.jsxs("div",{className:"card card-body shadow p-4 mb-4",children:[o.jsx("h4",{className:"mb-3",children:"This course includes"}),o.jsxs("ul",{className:"list-group list-group-borderless",children:[o.jsxs("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[o.jsxs("span",{className:"h6 fw-light mb-0",children:[o.jsx("i",{className:"fas fa-fw fa-book-open text-primary me-2"}),"Lectures"]}),o.jsx("span",{children:"30"})]}),o.jsxs("li",{className:"list-group-item d-flex justify-content-between align-items-center d-none",children:[o.jsxs("span",{className:"h6 fw-light mb-0",children:[o.jsx("i",{className:"fas fa-fw fa-clock text-primary me-2"}),"Duration"]}),o.jsx("span",{children:"4h 50m"})]}),o.jsxs("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[o.jsxs("span",{className:"h6 fw-light mb-0",children:[o.jsx("i",{className:"fas fa-fw fa-signal text-primary me-2"}),"Skills"]}),o.jsx("span",{children:"Beginner"})]}),o.jsxs("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[o.jsxs("span",{className:"h6 fw-light mb-0",children:[o.jsx("i",{className:"fas fa-fw fa-globe text-primary me-2"}),"Language"]}),o.jsx("span",{children:"English"})]}),o.jsxs("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[o.jsxs("span",{className:"h6 fw-light mb-0",children:[o.jsx("i",{className:"fas fa-fw fa-user-clock text-primary me-2"}),"Published"]}),o.jsx("span",{children:"7th August, 2025"})]}),o.jsxs("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[o.jsxs("span",{className:"h6 fw-light mb-0",children:[o.jsx("i",{className:"fas fa-fw fa-medal text-primary me-2"}),"Certificate"]}),o.jsx("span",{children:"Yes"})]})]})]})]})})})]})})}),o.jsx("section",{className:"mb-5",children:o.jsxs("div",{className:"container mb-lg-8 ",children:[o.jsx("div",{className:"row mb-5 mt-3",children:o.jsx("div",{className:"col-12",children:o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"mb-1 h1",children:"Related Courses"}),o.jsx("p",{children:"These are the most popular courses among Geeks Courses learners worldwide in year 2022"})]})})}),o.jsx("div",{className:"row",children:o.jsx("div",{className:"col-md-12",children:o.jsxs("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4",children:[o.jsx("div",{className:"col",children:o.jsxs("div",{className:"card card-hover",children:[o.jsx(Pn,{to:"/course-detail/slug/",children:o.jsx("img",{src:"https://geeksui.codescandy.com/geeks/assets/images/course/course-css.jpg",alt:"course",className:"card-img-top"})}),o.jsxs("div",{className:"card-body",children:[o.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[o.jsx("span",{className:"badge bg-info",children:"Intermediate"}),o.jsx("a",{href:"#",className:"fs-5",children:o.jsx("i",{className:"fas fa-heart text-danger align-middle"})})]}),o.jsx("h4",{className:"mb-2 text-truncate-line-2 ",children:o.jsx(Pn,{to:"/course-detail/slug/",className:"text-inherit text-decoration-none text-dark fs-5",children:"How to easily create a website with JavaScript"})}),o.jsx("small",{children:"By: Claire Evans"})," ",o.jsx("br",{}),o.jsx("small",{children:"16k Students"})," ",o.jsx("br",{}),o.jsxs("div",{className:"lh-1 mt-3 d-flex",children:[o.jsx("span",{className:"align-text-top",children:o.jsxs("span",{className:"fs-6",children:[o.jsx("i",{className:"fas fa-star text-warning"}),o.jsx("i",{className:"fas fa-star text-warning"}),o.jsx("i",{className:"fas fa-star text-warning"}),o.jsx("i",{className:"fas fa-star text-warning"}),o.jsx("i",{className:"fas fa-star-half text-warning"})]})}),o.jsx("span",{className:"text-warning",children:"4.5"}),o.jsx("span",{className:"fs-6 ms-2",children:"(9,300)"})]})]}),o.jsx("div",{className:"card-footer",children:o.jsxs("div",{className:"row align-items-center g-0",children:[o.jsx("div",{className:"col",children:o.jsx("h5",{className:"mb-0",children:"$39.00"})}),o.jsx("div",{className:"col-auto",children:o.jsxs("a",{href:"#",className:"text-inherit text-decoration-none btn btn-primary",children:[o.jsx("i",{className:"fas fa-shopping-cart text-primary align-middle me-2 text-white"}),"Enroll Now"]})})]})})]})}),o.jsx("div",{className:"col",children:o.jsxs("div",{className:"card card-hover",children:[o.jsx(Pn,{to:"/course-detail/slug/",children:o.jsx("img",{src:"https://geeksui.codescandy.com/geeks/assets/images/course/course-angular.jpg",alt:"course",className:"card-img-top"})}),o.jsxs("div",{className:"card-body",children:[o.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[o.jsx("span",{className:"badge bg-info",children:"Intermediate"}),o.jsx("a",{href:"#",className:"fs-5",children:o.jsx("i",{className:"fas fa-heart text-danger align-middle"})})]}),o.jsx("h4",{className:"mb-2 text-truncate-line-2 ",children:o.jsx(Pn,{to:"/course-detail/slug/",className:"text-inherit text-decoration-none text-dark fs-5",children:"How to easily create a website with JavaScript"})}),o.jsx("small",{children:"By: Claire Evans"})," ",o.jsx("br",{}),o.jsx("small",{children:"16k Students"})," ",o.jsx("br",{}),o.jsxs("div",{className:"lh-1 mt-3 d-flex",children:[o.jsx("span",{className:"align-text-top",children:o.jsxs("span",{className:"fs-6",children:[o.jsx("i",{className:"fas fa-star text-warning"}),o.jsx("i",{className:"fas fa-star text-warning"}),o.jsx("i",{className:"fas fa-star text-warning"}),o.jsx("i",{className:"fas fa-star text-warning"}),o.jsx("i",{className:"fas fa-star-half text-warning"})]})}),o.jsx("span",{className:"text-warning",children:"4.5"}),o.jsx("span",{className:"fs-6 ms-2",children:"(9,300)"})]})]}),o.jsx("div",{className:"card-footer",children:o.jsxs("div",{className:"row align-items-center g-0",children:[o.jsx("div",{className:"col",children:o.jsx("h5",{className:"mb-0",children:"$39.00"})}),o.jsx("div",{className:"col-auto",children:o.jsxs("a",{href:"#",className:"text-inherit text-decoration-none btn btn-primary",children:[o.jsx("i",{className:"fas fa-shopping-cart text-primary align-middle me-2 text-white"}),"Enroll Now"]})})]})})]})}),o.jsx("div",{className:"col",children:o.jsxs("div",{className:"card card-hover",children:[o.jsx(Pn,{to:"/course-detail/slug/",children:o.jsx("img",{src:"https://geeksui.codescandy.com/geeks/assets/images/course/course-react.jpg",alt:"course",className:"card-img-top"})}),o.jsxs("div",{className:"card-body",children:[o.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[o.jsx("span",{className:"badge bg-info",children:"Intermediate"}),o.jsx("a",{href:"#",className:"fs-5",children:o.jsx("i",{className:"fas fa-heart text-danger align-middle"})})]}),o.jsx("h4",{className:"mb-2 text-truncate-line-2 ",children:o.jsx(Pn,{to:"/course-detail/slug/",className:"text-inherit text-decoration-none text-dark fs-5",children:"Learn React.Js for Beginners from Start to Finish"})}),o.jsx("small",{children:"By: Claire Evans"})," ",o.jsx("br",{}),o.jsx("small",{children:"16k Students"})," ",o.jsx("br",{}),o.jsxs("div",{className:"lh-1 mt-3 d-flex",children:[o.jsx("span",{className:"align-text-top",children:o.jsxs("span",{className:"fs-6",children:[o.jsx("i",{className:"fas fa-star text-warning"}),o.jsx("i",{className:"fas fa-star text-warning"}),o.jsx("i",{className:"fas fa-star text-warning"}),o.jsx("i",{className:"fas fa-star text-warning"}),o.jsx("i",{className:"fas fa-star-half text-warning"})]})}),o.jsx("span",{className:"text-warning",children:"4.5"}),o.jsx("span",{className:"fs-6 ms-2",children:"(9,300)"})]})]}),o.jsx("div",{className:"card-footer",children:o.jsxs("div",{className:"row align-items-center g-0",children:[o.jsx("div",{className:"col",children:o.jsx("h5",{className:"mb-0",children:"$39.00"})}),o.jsx("div",{className:"col-auto",children:o.jsxs("a",{href:"#",className:"text-inherit text-decoration-none btn btn-primary",children:[o.jsx("i",{className:"fas fa-shopping-cart text-primary align-middle me-2 text-white"}),"Enroll Now"]})})]})})]})}),o.jsx("div",{className:"col",children:o.jsxs("div",{className:"card card-hover",children:[o.jsx(Pn,{to:"/course-detail/slug/",children:o.jsx("img",{src:"https://geeksui.codescandy.com/geeks/assets/images/course/course-python.jpg",alt:"course",className:"card-img-top"})}),o.jsxs("div",{className:"card-body",children:[o.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[o.jsx("span",{className:"badge bg-info",children:"Intermediate"}),o.jsx("a",{href:"#",className:"fs-5",children:o.jsx("i",{className:"fas fa-heart text-danger align-middle"})})]}),o.jsx("h4",{className:"mb-2 text-truncate-line-2 ",children:o.jsx(Pn,{to:"/course-detail/slug/",className:"text-inherit text-decoration-none text-dark fs-5",children:"How to easily create a website with JavaScript"})}),o.jsx("small",{children:"By: Claire Evans"})," ",o.jsx("br",{}),o.jsx("small",{children:"16k Students"})," ",o.jsx("br",{}),o.jsxs("div",{className:"lh-1 mt-3 d-flex",children:[o.jsx("span",{className:"align-text-top",children:o.jsxs("span",{className:"fs-6",children:[o.jsx("i",{className:"fas fa-star text-warning"}),o.jsx("i",{className:"fas fa-star text-warning"}),o.jsx("i",{className:"fas fa-star text-warning"}),o.jsx("i",{className:"fas fa-star text-warning"}),o.jsx("i",{className:"fas fa-star-half text-warning"})]})}),o.jsx("span",{className:"text-warning",children:"4.5"}),o.jsx("span",{className:"fs-6 ms-2",children:"(9,300)"})]})]}),o.jsx("div",{className:"card-footer",children:o.jsxs("div",{className:"row align-items-center g-0",children:[o.jsx("div",{className:"col",children:o.jsx("h5",{className:"mb-0",children:"$39.00"})}),o.jsx("div",{className:"col-auto",children:o.jsxs("a",{href:"#",className:"text-inherit text-decoration-none btn btn-primary",children:[o.jsx("i",{className:"fas fa-shopping-cart text-primary align-middle me-2 text-white"}),"Enroll Now"]})})]})})]})})]})})})]})})]})}),o.jsx(BaseFooter,{})]})}function LZ(){var g,b,y;const[t,e]=_.useState([]),[n,r]=_.useState([]),[s,i]=_.useContext(Ug),[a,l]=_.useState({full_name:"",email:"",country:""}),c=async()=>{try{await Gi.get(`course/cart-list/${lo()}/`).then(x=>{e(x.data)}),await Gi.get(`cart/stats/${lo()}/`).then(x=>{r(x.data)})}catch{}};_.useEffect(()=>{c()},[]);const u=fr(),h=async x=>{await Gi.delete(`course/cart-item-delete/${lo()}/${x}/`).then(w=>{c(),nt().fire({icon:"success",title:"Cart Item Deleted"}),Gi.get(`course/cart-list/${lo()}/`).then(C=>{var k;i((k=C.data)==null?void 0:k.length)})})},f=x=>{l({...a,[x.target.name]:x.target.value})},m=async()=>{var x;try{const w=await Gi.post("order/create-order/",{full_name:"John Doe",email:"john.doe@example.com",country:"South Africa",cart_id:"12345",user_id:(x=UserData())==null?void 0:x.user_id});w.status===201&&u(`/checkout/${w.data.order_oid}/`)}catch{}};return o.jsxs(o.Fragment,{children:[o.jsx(BaseHeader,{}),o.jsx("section",{className:"py-0",children:o.jsx("div",{className:"container",children:o.jsx("div",{className:"row",children:o.jsx("div",{className:"col-12",children:o.jsxs("div",{className:"bg-light p-4 text-center rounded-3",children:[o.jsx("h1",{className:"m-0",children:"My cart"}),o.jsx("div",{className:"d-flex justify-content-center",children:o.jsx("nav",{"aria-label":"breadcrumb",children:o.jsxs("ol",{className:"breadcrumb breadcrumb-dots mb-0",children:[o.jsx("li",{className:"breadcrumb-item",children:o.jsx("a",{href:"#",className:"text-decoration-none text-dark",children:"Home"})}),o.jsx("li",{className:"breadcrumb-item",children:o.jsx("a",{href:"#",className:"text-decoration-none text-dark",children:"Courses"})}),o.jsx("li",{className:"breadcrumb-item active","aria-current":"page",children:"Cart"})]})})})]})})})})}),o.jsx("section",{className:"pt-5",children:o.jsx("div",{className:"container",children:o.jsx("form",{onSubmit:m,children:o.jsxs("div",{className:"row g-4 g-sm-5",children:[o.jsxs("div",{className:"col-lg-8 mb-4 mb-sm-0",children:[o.jsxs("div",{className:"p-4 shadow rounded-3",children:[o.jsxs("h5",{className:"mb-0 mb-3",children:["Cart Items (",t==null?void 0:t.length,")"]}),o.jsx("div",{className:"table-responsive border-0 rounded-3",children:o.jsx("table",{className:"table align-middle p-4 mb-0",children:o.jsxs("tbody",{className:"border-top-2",children:[t==null?void 0:t.map((x,w)=>o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("div",{className:"d-lg-flex align-items-center",children:[o.jsx("div",{className:"w-100px w-md-80px mb-2 mb-md-0",children:o.jsx("img",{src:x.course.image,style:{width:"100px",height:"70px",objectFit:"cover"},className:"rounded",alt:""})}),o.jsx("h6",{className:"mb-0 ms-lg-3 mt-2 mt-lg-0",children:o.jsx("a",{href:"#",className:"text-decoration-none text-dark",children:x.course.title})})]})}),o.jsx("td",{className:"text-center",children:o.jsxs("h5",{className:"text-success mb-0",children:["$",x.price]})}),o.jsx("td",{children:o.jsx("button",{onClick:()=>h(x.id),className:"btn btn-sm btn-danger px-2 mb-0",type:"button",children:o.jsx("i",{className:"fas fa-fw fa-times"})})})]})),(t==null?void 0:t.length)<1&&o.jsx("p",{className:"mt-1 p-1",children:"No Item In Cart"})]})})})]}),o.jsxs("div",{className:"shadow p-4 rounded-3 mt-5",children:[o.jsx("h5",{className:"mb-0",children:"Personal Details"}),o.jsxs("div",{className:"row g-3 mt-0",children:[o.jsxs("div",{className:"col-md-12 bg-light-input",children:[o.jsx("label",{htmlFor:"yourName",className:"form-label",children:"Your name *"}),o.jsx("input",{type:"text",className:"form-control",id:"yourName",placeholder:"Name",name:"full_name",value:a.full_name,onChange:f})]}),o.jsxs("div",{className:"col-md-12 bg-light-input",children:[o.jsx("label",{htmlFor:"emailInput",className:"form-label",children:"Email address *"}),o.jsx("input",{type:"email",className:"form-control",id:"emailInput",placeholder:"Email",name:"email",value:a.email,onChange:f})]}),o.jsxs("div",{className:"col-md-12 bg-light-input",children:[o.jsx("label",{htmlFor:"mobileNumber",className:"form-label",children:"Enter country *"}),o.jsx("input",{type:"text",className:"form-control",id:"mobileNumber",placeholder:"Country",name:"country",value:a.country,onChange:f})]})]})]})]}),o.jsx("div",{className:"col-lg-4",children:o.jsxs("div",{className:"p-4 shadow rounded-3",children:[o.jsx("h4",{className:"mb-3",children:"Cart Total"}),o.jsxs("ul",{class:"list-group mb-3",children:[o.jsxs("li",{class:"list-group-item d-flex justify-content-between align-items-center",children:["Sub Total",o.jsxs("span",{children:["$",(g=n.price)==null?void 0:g.toFixed(2)]})]}),o.jsxs("li",{class:"list-group-item d-flex justify-content-between align-items-center",children:["Tax",o.jsxs("span",{children:["$",(b=n.tax)==null?void 0:b.toFixed(2)]})]}),o.jsxs("li",{class:"list-group-item d-flex fw-bold justify-content-between align-items-center",children:["Total",o.jsxs("span",{className:"fw-bold",children:["$",(y=n.total)==null?void 0:y.toFixed(2)]})]})]}),o.jsx("div",{className:"d-grid",children:o.jsx("button",{type:"submit",className:"btn btn-lg btn-success",children:"Proceed to Checkout"})}),o.jsxs("p",{className:"small mb-0 mt-2 text-center",children:["By proceeding to checkout, you agree to these"," ",o.jsxs("a",{href:"#",children:[" ",o.jsx("strong",{children:"Terms of Service"})]})]})]})})]})})})}),o.jsx(BaseFooter,{})]})}function dc({sidebarCollapsed:t}){const e=fr(),n=go(),r=()=>{xn.remove("access_token"),xn.remove("refresh_token"),e("/")},s=i=>n.pathname===i;return o.jsxs("div",{className:`sidebar ${t?"collapsed":""}`,style:{position:"fixed",top:"10px",left:"10px",height:"calc(100vh - 20px)",width:t?"60px":"250px",backgroundColor:"rgba(0, 0, 0, 0)",borderRadius:"15px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",transition:"width 0.3s ease",zIndex:1e3,overflow:"hidden",display:"flex",flexDirection:"column"},children:[o.jsxs("ul",{className:"list-unstyled",style:{padding:0,margin:0},children:[o.jsx("li",{className:"nav-item",children:o.jsxs(Pn,{className:`nav-link ${s("/student/dashboard")?"active":""}`,to:"/student/dashboard",style:{display:"flex",alignItems:"center",justifyContent:t?"center":"flex-start"},children:[o.jsx("i",{className:"bi bi-house",style:{fontSize:"20px",marginRight:t?"0":"10px"}}),!t&&o.jsx("span",{children:"Home"})]})}),o.jsx("li",{className:"nav-item",children:o.jsxs(Pn,{className:`nav-link ${s("/student/courses")?"active":""}`,to:"/student/courses",style:{display:"flex",alignItems:"center",justifyContent:t?"center":"flex-start"},children:[o.jsx("i",{className:"bi bi-book",style:{fontSize:"20px",marginRight:t?"0":"10px"}}),!t&&o.jsx("span",{children:"Enrolled Courses"})]})}),o.jsx("li",{className:"nav-item",children:o.jsxs(Pn,{className:`nav-link ${s("/student/assignments")?"active":""}`,to:"/student/assignments",style:{display:"flex",alignItems:"center",justifyContent:t?"center":"flex-start"},children:[o.jsx("i",{className:"bi bi-pencil",style:{fontSize:"20px",marginRight:t?"0":"10px"}}),!t&&o.jsx("span",{children:"Assignments"})]})}),o.jsx("li",{className:"nav-item",children:o.jsxs(Pn,{className:`nav-link ${s("/student/quiz")?"active":""}`,to:"/student/quiz",style:{display:"flex",alignItems:"center",justifyContent:t?"center":"flex-start"},children:[o.jsx("i",{className:"bi bi-question-circle",style:{fontSize:"20px",marginRight:t?"0":"10px"}}),!t&&o.jsx("span",{children:"Quiz"})]})}),o.jsx("li",{className:"nav-item",children:o.jsxs(Pn,{className:`nav-link ${s("/student/messages")?"active":""}`,to:"/student/messages",style:{display:"flex",alignItems:"center",justifyContent:t?"center":"flex-start"},children:[o.jsx("i",{className:"bi bi-chat-dots",style:{fontSize:"20px",marginRight:t?"0":"10px"}}),!t&&o.jsx("span",{children:"Messages"})]})})]}),o.jsx("div",{style:{flex:1}}),o.jsxs("ul",{className:"list-unstyled",style:{padding:0,margin:0,marginBottom:"10px"},children:[o.jsx("li",{className:"nav-item",children:o.jsxs(Pn,{className:`nav-link ${s("/student/settings")?"active":""}`,to:"/student/settings",style:{display:"flex",alignItems:"center",justifyContent:t?"center":"flex-start"},children:[o.jsx("i",{className:"bi bi-gear",style:{fontSize:"20px",marginRight:t?"0":"10px"}}),!t&&o.jsx("span",{children:"Settings"})]})}),o.jsx("li",{className:"nav-item",children:o.jsxs("button",{className:"nav-link btn btn-link text-start",onClick:r,style:{display:"flex",alignItems:"center",justifyContent:t?"center":"flex-start"},children:[o.jsx("i",{className:"bi bi-box-arrow-right",style:{fontSize:"20px",marginRight:t?"0":"10px"}}),!t&&o.jsx("span",{children:"Log Out"})]})})]}),o.jsx("style",{children:`
        .nav-link {
          padding: 10px;
          border-radius: 8px;
          color: black;
          text-decoration: none;
          transition: background-color 0.3s ease, color 0.3s ease;
          width: 100%;
        }

        .nav-link:hover {
          background-color: rgb(3, 3, 153);
          color: white;
        }

        .nav-link:hover i,
        .nav-link:hover span {
          color: white;
        }

        .nav-link.active {
          background-color: rgb(140, 0, 0);
          font-weight: bold;
          color: white;
        }

        .nav-link.active i,
        .nav-link.active span {
          color: white;
        }

        .nav-item {
          width: 100%;
        }

        .sidebar.collapsed .nav-link {
          justify-content: center;
        }

        .sidebar.collapsed .nav-link i {
          margin-right: 0;
        }

        .sidebar.collapsed .nav-link span {
          display: none;
        }
      `})]})}function Fi({sidebarCollapsed:t,toggleSidebar:e}){const[n]=_.useContext(Hg),[r,s]=_.useState(!1),[i,a]=_.useState([]),[l,c]=_.useState(window.innerWidth<700),u=_.useRef(null),h=_.useRef(null);fr(),_.useEffect(()=>{const g=()=>c(window.innerWidth<700);return window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[]),_.useEffect(()=>{(async()=>{var b;try{const y=(b=zt())==null?void 0:b.user_id;if(y){const x=await mt().get(`/notifications/user/${y}/`);a(x.data)}}catch{a([])}})()},[]);const f=async()=>{var g;try{const b=(g=zt())==null?void 0:g.user_id;b&&(await mt().post("/notifications/read-all/",{user_id:b}),a(y=>y.map(x=>({...x,seen:!0}))))}catch{}},m=()=>{s(g=>{const b=!g;return b&&f(),b})};return _.useEffect(()=>{const g=b=>{u.current&&!u.current.contains(b.target)&&h.current&&!h.current.contains(b.target)&&s(!1)};return document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[]),o.jsxs("header",{className:"dashboard-header",style:{position:"sticky",top:0,zIndex:1e3,display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",backgroundColor:"#fff",padding:"10px 20px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",borderRadius:"8px"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[!l&&o.jsx("button",{onClick:e,style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",marginRight:"15px"},children:"☰"}),o.jsxs("h2",{style:{fontSize:"24px",fontWeight:"bold",margin:0},children:["Welcome back, ",(n==null?void 0:n.full_name)||"User","!"]})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px"},children:[o.jsxs("div",{ref:h,style:{position:"relative"},children:[o.jsxs("button",{onClick:m,style:{background:"none",border:"none",cursor:"pointer",position:"relative"},children:[o.jsx("i",{className:"fas fa-bell",style:{fontSize:"20px"}}),i.some(g=>!g.seen)&&o.jsx("span",{style:{position:"absolute",top:"-5px",right:"-5px",backgroundColor:"red",color:"white",borderRadius:"50%",padding:"2px 6px",fontSize:"12px"},children:i.filter(g=>!g.seen).length})]}),r&&o.jsx("div",{style:{position:"absolute",top:"30px",right:0,backgroundColor:"#fff",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",borderRadius:"8px",width:"300px",zIndex:1e3,color:"black",maxHeight:"350px",overflowY:"auto"},children:o.jsx("ul",{style:{listStyle:"none",padding:"10px",margin:0},children:i.length>0?i.map((g,b)=>o.jsxs("li",{style:{padding:"10px 0",borderBottom:"1px solid #f0f0f0",background:g.seen?"#fff":"#f5f7fa"},children:[o.jsx("div",{style:{fontWeight:600},children:g.title||g.type||"Notification"}),g.content&&o.jsx("div",{style:{fontSize:"0.95em",color:"#555"},children:g.content}),g.date&&o.jsx("div",{style:{fontSize:"0.8em",color:"#aaa"},children:new Date(g.date).toLocaleString()})]},b)):o.jsx("li",{style:{textAlign:"center",padding:"10px 0"},children:"No notifications"})})})]}),o.jsx("img",{src:(n==null?void 0:n.image)||"https://imgs.search.brave.com/RDlr00DIZWKKhPu4ymE1K_IzmblJm8CbiuCSzm-xnQ4/rs:fit:860:0:0:0/g:ce/aHR0cHM6Ly90NC5m/dGNkbi5uZXQvanBn/LzAxLzA3LzQzLzQ1/LzM2MF9GXzEwNzQz/NDUxMV9pYXJGMno4/OGM2RHM2QWxndHdv/dEhTQWt0V0NkWU9u/Ny5qcGc",alt:"User",className:"rounded-circle",style:{width:"40px",height:"40px",borderRadius:"50%",objectFit:"cover",cursor:"pointer"}})]})]})}function FZ(){var b;const[t,e]=_.useState(!0),[n,r]=_.useState([]),[s,i]=_.useState(""),[a,l]=_.useState(!1),c=fr(),u=Hd(),h=()=>{e(!t)},f=async()=>{try{const y=await mt().get(`order/checkout/${u.order_oid}/`);r(y.data)}catch(y){y.response&&y.response.status===401&&(xn.remove("access_token"),xn.remove("refresh_token"),c("/"))}},m=async()=>{const y=new FormData;y.append("order_oid",n==null?void 0:n.oid),y.append("coupon_code",s);try{const x=await mt().post("order/coupon/",y);f(),nt().fire({icon:x.data.icon,title:x.data.message})}catch{nt().fire({icon:"error",title:"Failed to apply coupon."})}},g=()=>{l(!0),new window.YocoSDK({publicKey:"your_yoco_public_key"}).showPopup({amountInCents:Math.round(n.total*100),currency:"ZAR",callback:async x=>{if(x.error)nt().fire({icon:"error",title:"Payment failed. Please try again."}),l(!1);else try{(await mt().post(`payment/yoco-checkout/${n.oid}/`,{token:x.id})).status===200?c(`/payment-success/${n.oid}/`):nt().fire({icon:"error",title:"Payment failed. Please try again."})}catch{nt().fire({icon:"error",title:"Payment failed. Please try again."})}finally{l(!1)}}})};return _.useEffect(()=>{(async()=>{await f();const x=document.createElement("script");return x.src="https://js.yoco.com/sdk/v1/yoco-sdk-web.js",x.async=!0,x.onload=()=>{},document.body.appendChild(x),()=>{document.body.removeChild(x)}})()},[c,u.order_oid]),o.jsxs("div",{style:{display:"flex",minHeight:"100vh"},children:[o.jsx(dc,{sidebarCollapsed:t}),o.jsxs("div",{style:{flex:1,marginLeft:t?"80px":"270px",transition:"margin-left 0.3s ease"},children:[o.jsx(Fi,{sidebarCollapsed:t,toggleSidebar:h}),o.jsx("div",{style:{padding:"20px"},children:o.jsxs("div",{className:"row mb-2",children:[o.jsx("div",{className:"col-md-8",children:o.jsx("div",{className:"card shadow-sm",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h5",{children:"Courses in Your Order"}),o.jsx("div",{className:"table-responsive",children:o.jsx("table",{className:"table",children:o.jsx("tbody",{children:(b=n==null?void 0:n.order_items)==null?void 0:b.map((y,x)=>o.jsxs("tr",{children:[o.jsx("td",{children:o.jsx("img",{src:y.course.image,alt:y.course.title,style:{width:"100px",height:"70px",objectFit:"cover"},className:"rounded"})}),o.jsx("td",{children:o.jsx("h6",{children:y.course.title})}),o.jsx("td",{children:o.jsxs("h6",{className:"text-success",children:["$",y.price]})})]},x))})})})]})})}),o.jsx("div",{className:"col-md-4",children:o.jsx("div",{className:"card shadow-sm",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h5",{children:"Order Summary"}),o.jsxs("ul",{className:"list-group mb-3",children:[o.jsxs("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:["Sub Total",o.jsxs("span",{children:["$",n.sub_total]})]}),o.jsxs("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:["Discount",o.jsxs("span",{children:["$",n.saved]})]}),o.jsxs("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:["Tax",o.jsxs("span",{children:["$",n.tax_fee]})]}),o.jsxs("li",{className:"list-group-item d-flex fw-bold justify-content-between align-items-center",children:["Total",o.jsxs("span",{className:"fw-bold",children:["$",n.total]})]})]}),o.jsxs("div",{className:"input-group mb-3",children:[o.jsx("input",{type:"text",className:"form-control",placeholder:"Coupon Code",onChange:y=>i(y.target.value)}),o.jsx("button",{className:"btn btn-primary",onClick:m,children:"Apply"})]}),o.jsx("div",{className:"d-grid",children:a?o.jsxs("button",{className:"btn btn-success",disabled:!0,children:["Processing ",o.jsx("i",{className:"fas fa-spinner fa-spin"})]}):o.jsx("button",{className:"btn btn-success",onClick:g,children:"Pay With Yoco"})})]})})})]})})]})]})}function BZ(){const[t,e]=_.useState([]),[n,r]=_.useState(""),s=Hd(),i=new URLSearchParams(window.location.search),a=i.get("session_id"),l=i.get("paypal_order_id");return _.useEffect(()=>{const c=new FormData;c.append("order_oid",s.order_oid),c.append("session_id",a),c.append("paypal_order_id",l),r("Processing Payment");try{Gi.post("payment/payment-sucess/",c).then(u=>{r(u.data.message)})}catch{}},[]),o.jsxs(o.Fragment,{children:[o.jsx(BaseHeader,{}),o.jsx("section",{className:"pt-0  position-relative overflow-hidden my-auto",children:o.jsx("div",{className:"container position-relative",children:o.jsxs("div",{className:"row g-5 align-items-center justify-content-center",children:[n==="Payment Successfull"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-lg-5",children:[o.jsx("h1",{className:"text-success",children:"Enrollment Successful!"}),o.jsxs("p",{children:[" ","Hey there, you enrollment in the 2 courses where successful, visit your ",o.jsx("a",{href:"",children:"My Courses"})," page, to view the courses now."]}),o.jsxs("button",{type:"button",className:"btn btn-primary mb-0 rounded-2",children:["View Enrolled Courses ",o.jsx("i",{className:"fas fa-arrow-right"})]})]}),o.jsx("div",{className:"col-lg-7 text-center",children:o.jsx("img",{src:"https://assets.materialup.com/uploads/bc4c9683-f623-42ef-9014-464ba0411c79/preview.png",className:"h-300px h-sm-400px h-md-500px h-xl-700px",alt:""})})]}),n==="Already Paid"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-lg-5",children:[o.jsx("h1",{className:"text-success",children:"Already Paid"}),o.jsxs("p",{children:[" ","Hey there, you enrollment in the 2 courses where successful, visit your ",o.jsx("a",{href:"",children:"My Courses"})," page, to view the courses now."]}),o.jsxs("button",{type:"button",className:"btn btn-primary mb-0 rounded-2",children:["View Enrolled Courses ",o.jsx("i",{className:"fas fa-arrow-right"})]})]}),o.jsx("div",{className:"col-lg-7 text-center",children:o.jsx("img",{src:"https://assets.materialup.com/uploads/bc4c9683-f623-42ef-9014-464ba0411c79/preview.png",className:"h-300px h-sm-400px h-md-500px h-xl-700px",alt:""})})]}),n==="Processing Payment"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-lg-5",children:[o.jsxs("h1",{className:"text-warning",children:["Processing Payment"," ",o.jsx("i",{className:"fas fa-spinner fa-spin"})]}),o.jsxs("p",{children:[" ","Hey there, hold on while we process your payment, please do not leave the page."]})]}),o.jsx("div",{className:"col-lg-7 text-center",children:o.jsx("img",{sty:!0,src:"https://www.icegif.com/wp-content/uploads/2023/07/icegif-1259.gif",className:"h-300px h-sm-400px h-md-500px h-xl-700px",alt:""})})]}),n==="Payment Failed"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-lg-5",children:[o.jsx("h1",{className:"text-danger",children:"Payment Failed 😔"}),o.jsxs("p",{children:["Unfortunately, phew! Your payment did not go through. ",o.jsx("br",{})," ","Please try again."]}),o.jsxs("button",{type:"button",className:"btn btn-danger mb-0 rounded-2",children:["Try again ",o.jsx("i",{className:"fas fa-repeat"})]})]}),o.jsx("div",{className:"col-lg-7 text-center",children:o.jsx("img",{sty:!0,src:"https://media3.giphy.com/media/h4OGa0npayrJX2NRPT/giphy.gif?cid=790b76117pc6298jypyph0liy6xlp3lzb7b2y405ixesujeu&ep=v1_stickers_search&rid=giphy.gif&ct=e",className:"h-300px h-sm-400px h-md-500px h-xl-700px",alt:""})})]})]})})}),o.jsx(BaseFooter,{})]})}var wm={exports:{}},n2={exports:{}},r2,G3;function $Z(){if(G3)return r2;G3=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return r2=t,r2}var s2,K3;function zZ(){if(K3)return s2;K3=1;var t=$Z();function e(){}function n(){}return n.resetWarningCache=e,s2=function(){function r(a,l,c,u,h,f){if(f!==t){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}r.isRequired=r;function s(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:e};return i.PropTypes=i,i},s2}var X3;function Qv(){return X3||(X3=1,n2.exports=zZ()()),n2.exports}var _m={exports:{}};_m.exports;var Q3;function UZ(){return Q3||(Q3=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(Wa()),r=s(Qv());function s(u){return u&&u.__esModule?u:{default:u}}(function(){var u=typeof reactHotLoaderGlobal<"u"?reactHotLoaderGlobal.enterModule:void 0;u&&u(t)})();function i(){return i=Object.assign||function(u){for(var h=1;h<arguments.length;h++){var f=arguments[h];for(var m in f)Object.prototype.hasOwnProperty.call(f,m)&&(u[m]=f[m])}return u},i.apply(this,arguments)}typeof reactHotLoaderGlobal<"u"&&reactHotLoaderGlobal.default.signature;var a=function(h){var f=Object.assign({},h),m={isDisabled:"is-disabled",isActive:"is-active",isActiveHalf:"is-active-half",willBeActive:"will-be-active"},g=Object.keys(m).filter(function(b){return delete f[b],h[b]}).map(function(b){return m[b]}).join(" ");return n.default.createElement("div",i({className:"react-rater-star ".concat(g)},f),"★")};a.defaultProps={willBeActive:!1,isActive:!1,isActiveHalf:!1,isDisabled:!1},a.propTypes={isActive:r.default.bool,isActiveHalf:r.default.bool,willBeActive:r.default.bool,isDisabled:r.default.bool};var l=a,c=l;e.default=c,function(){var u=typeof reactHotLoaderGlobal<"u"?reactHotLoaderGlobal.default:void 0;u&&(u.register(a,"Star","/Users/simon/Personal/react-rater/src/star.js"),u.register(l,"default","/Users/simon/Personal/react-rater/src/star.js"))}(),function(){var u=typeof reactHotLoaderGlobal<"u"?reactHotLoaderGlobal.leaveModule:void 0;u&&u(t)}()}(_m,_m.exports)),_m.exports}wm.exports;var Z3;function HZ(){return Z3||(Z3=1,function(t,e){function n(L){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},n(L)}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Star",{enumerable:!0,get:function(){return i.default}}),e.default=M;var r=u(Wa()),s=l(Qv()),i=l(UZ()),a=["total","interactive","children","rating","onRate","onRating","onCancelRate"];function l(L){return L&&L.__esModule?L:{default:L}}function c(L){if(typeof WeakMap!="function")return null;var D=new WeakMap,S=new WeakMap;return(c=function(O){return O?S:D})(L)}function u(L,D){if(L&&L.__esModule)return L;if(L===null||n(L)!=="object"&&typeof L!="function")return{default:L};var S=c(D);if(S&&S.has(L))return S.get(L);var z={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var U in L)if(U!=="default"&&Object.prototype.hasOwnProperty.call(L,U)){var j=O?Object.getOwnPropertyDescriptor(L,U):null;j&&(j.get||j.set)?Object.defineProperty(z,U,j):z[U]=L[U]}return z.default=L,S&&S.set(L,z),z}(function(){var L=typeof reactHotLoaderGlobal<"u"?reactHotLoaderGlobal.enterModule:void 0;L&&L(t)})();function h(){return h=Object.assign||function(L){for(var D=1;D<arguments.length;D++){var S=arguments[D];for(var z in S)Object.prototype.hasOwnProperty.call(S,z)&&(L[z]=S[z])}return L},h.apply(this,arguments)}function f(L,D){var S=Object.keys(L);if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(L);D&&(z=z.filter(function(O){return Object.getOwnPropertyDescriptor(L,O).enumerable})),S.push.apply(S,z)}return S}function m(L){for(var D=1;D<arguments.length;D++){var S=arguments[D]!=null?arguments[D]:{};D%2?f(Object(S),!0).forEach(function(z){g(L,z,S[z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(S)):f(Object(S)).forEach(function(z){Object.defineProperty(L,z,Object.getOwnPropertyDescriptor(S,z))})}return L}function g(L,D,S){return D in L?Object.defineProperty(L,D,{value:S,enumerable:!0,configurable:!0,writable:!0}):L[D]=S,L}function b(L,D){return k(L)||C(L,D)||x(L,D)||y()}function y(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x(L,D){if(L){if(typeof L=="string")return w(L,D);var S=Object.prototype.toString.call(L).slice(8,-1);if(S==="Object"&&L.constructor&&(S=L.constructor.name),S==="Map"||S==="Set")return Array.from(L);if(S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S))return w(L,D)}}function w(L,D){(D==null||D>L.length)&&(D=L.length);for(var S=0,z=new Array(D);S<D;S++)z[S]=L[S];return z}function C(L,D){var S=L==null?null:typeof Symbol<"u"&&L[Symbol.iterator]||L["@@iterator"];if(S!=null){var z=[],O=!0,U=!1,j,V;try{for(S=S.call(L);!(O=(j=S.next()).done)&&(z.push(j.value),!(D&&z.length===D));O=!0);}catch(K){U=!0,V=K}finally{try{!O&&S.return!=null&&S.return()}finally{if(U)throw V}}return z}}function k(L){if(Array.isArray(L))return L}function A(L,D){if(L==null)return{};var S=N(L,D),z,O;if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(L);for(O=0;O<U.length;O++)z=U[O],!(D.indexOf(z)>=0)&&Object.prototype.propertyIsEnumerable.call(L,z)&&(S[z]=L[z])}return S}function N(L,D){if(L==null)return{};var S={},z=Object.keys(L),O,U;for(U=0;U<z.length;U++)O=z[U],!(D.indexOf(O)>=0)&&(S[O]=L[O]);return S}var P=typeof reactHotLoaderGlobal<"u"?reactHotLoaderGlobal.default.signature:function(L){return L};function M(L){var D=this,S=L.total,z=L.interactive,O=L.children,U=L.rating,j=L.onRate,V=L.onRating,K=L.onCancelRate,te=A(L,a),J=(0,r.useState)({rating:L.rating,isRating:!1}),X=b(J,2),Y=X[0],F=X[1],H=Y.rating,de=Y.isRating,ee=(0,r.useRef)(H),fe=r.Children.toArray(O);function ve(Ve){F(function(rt){return m(m({},rt),Ve)})}function Ce(Ve,rt){ve({rating:Ve,isRating:!0}),V&&V(m(m({},rt),{},{rating:Ve}))}function De(Ve,rt){ve({rating:Ve,isRating:!1}),ee.current=Ve,j&&j(m(m({},rt),{},{rating:Ve}))}function Ee(){ve({rating:ee.current,isRating:!1}),K&&K({rating:H})}(0,r.useEffect)(function(){ve({rating:U})},[U]);var Be=Array.from(Array(S),function(Ve,rt){var it={isActive:!de&&H-rt>=1,willBeActive:de&&rt<H,isActiveHalf:!de&&H-rt>=.5&&H-rt<1,isDisabled:!z};return r.default.createElement("div",{key:"star-".concat(rt),onClick:z?De.bind(D,rt+1):null,onMouseOver:z?Ce.bind(D,rt+1):null},fe.length?r.default.cloneElement(fe[rt%fe.length],it):r.default.createElement(i.default,it))});return r.default.createElement("div",h({className:"react-rater"},z?{onMouseOut:Ee}:{},te),Be)}P(M,`useState{[state, setState]({
    rating: props.rating,
    isRating: false
  })}
useRef{lastRating}
useEffect{}`),M.propTypes={total:s.default.number,rating:s.default.number,interactive:s.default.bool,children:s.default.any,onRate:s.default.func,onRating:s.default.func,onCancelRate:s.default.func},M.defaultProps={total:5,rating:0,interactive:!0},function(){var L=typeof reactHotLoaderGlobal<"u"?reactHotLoaderGlobal.default:void 0;L&&L.register(M,"Rater","/Users/simon/Personal/react-rater/src/index.js")}(),function(){var L=typeof reactHotLoaderGlobal<"u"?reactHotLoaderGlobal.leaveModule:void 0;L&&L(t)}()}(wm,wm.exports)),wm.exports}var WZ=HZ();const DL=Jr(WZ);function VZ(){var b;const[t,e]=_.useState([]),[n,r]=_.useState(!0),[s,i]=_.useContext(Ug),a=Rk().country,l=(b=zt())==null?void 0:b.user_id,c=lo(),u=async()=>{r(!0);try{await mt().get("/course/course-list/").then(y=>{e(y.data),r(!1)})}catch{}};_.useEffect(()=>{u()},[]);const h=async(y,x,w,C,k)=>{const A=new FormData;A.append("course_id",y),A.append("user_id",x),A.append("price",w),A.append("country_name",C),A.append("cart_id",k);try{await mt().post("course/cart/",A).then(N=>{nt().fire({title:"Added To Cart",icon:"success"}),Gi.get(`course/cart-list/${lo()}/`).then(P=>{var M;i((M=P.data)==null?void 0:M.length)})})}catch{}},[f,m]=_.useState("");console.log(f);const g=y=>{const x=y.target.value.toLowerCase();if(m(x),x==="")u();else{const w=t.filter(C=>C.title.toLowerCase().includes(x));e(w)}};return o.jsxs(o.Fragment,{children:[o.jsx(BaseHeader,{}),o.jsx("section",{className:"mb-5",style:{marginTop:"100px"},children:o.jsxs("div",{className:"container mb-lg-8 ",children:[o.jsxs("div",{className:"row mb-5 mt-3",children:[o.jsx("div",{className:"col-12",children:o.jsx("div",{className:"mb-6",children:o.jsxs("h2",{className:"mb-1 h1",children:['Showing Results for "',f||"No Search Query",'"']})})}),o.jsx("div",{className:"row",children:o.jsx("div",{className:"col-lg-6",children:o.jsx("input",{type:"text",className:"form-control lg mt-3",placeholder:"Search Courses...",name:"",id:"",onChange:g})})})]}),o.jsx("div",{className:"row",children:o.jsxs("div",{className:"col-md-12",children:[o.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4",children:t==null?void 0:t.map((y,x)=>{var w,C,k;return o.jsx("div",{className:"col",children:o.jsxs("div",{className:"card card-hover",children:[o.jsx(Pn,{to:`/course-detail/${y.slug}/`,children:o.jsx("img",{src:y.image,alt:"course",className:"card-img-top",style:{width:"100%",height:"200px",objectFit:"cover"}})}),o.jsxs("div",{className:"card-body",children:[o.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[o.jsxs("div",{children:[o.jsx("span",{className:"badge bg-info",children:y.level}),o.jsx("span",{className:"badge bg-success ms-2",children:y.language})]}),o.jsx("a",{href:"#",className:"fs-5",children:o.jsx("i",{className:"fas fa-heart text-danger align-middle"})})]}),o.jsx("h4",{className:"mb-2 text-truncate-line-2 ",children:o.jsx(Pn,{to:"/course-detail/slug/",className:"text-inherit text-decoration-none text-dark fs-5",children:y.title})}),o.jsxs("small",{children:["By: ",y.teacher.full_name]})," ",o.jsx("br",{}),o.jsxs("small",{children:[(w=y.students)==null?void 0:w.length," Student",((C=y.students)==null?void 0:C.length)>1&&"s"]})," ",o.jsx("br",{}),o.jsxs("div",{className:"lh-1 mt-3 d-flex",children:[o.jsx("span",{className:"align-text-top",children:o.jsx("span",{className:"fs-6",children:o.jsx(DL,{total:5,rating:y.average_rating||0})})}),o.jsx("span",{className:"text-warning",children:"4.5"}),o.jsxs("span",{className:"fs-6 ms-2",children:["(",(k=y.reviews)==null?void 0:k.length," Reviews)"]})]})]}),o.jsx("div",{className:"card-footer",children:o.jsxs("div",{className:"row align-items-center g-0",children:[o.jsx("div",{className:"col",children:o.jsxs("h5",{className:"mb-0",children:["$",y.price]})}),o.jsxs("div",{className:"col-auto",children:[o.jsx("button",{type:"button",onClick:()=>h(y.id,l,y.price,a,c),className:"text-inherit text-decoration-none btn btn-primary me-2",children:o.jsx("i",{className:"fas fa-shopping-cart text-primary text-white"})}),o.jsxs(Pn,{to:"",className:"text-inherit text-decoration-none btn btn-primary",children:["Enroll Now"," ",o.jsx("i",{className:"fas fa-arrow-right text-primary align-middle me-2 text-white"})]})]})]})})]})})})}),o.jsxs("nav",{className:"d-flex mt-5",children:[o.jsx("ul",{className:"pagination",children:o.jsx("li",{className:"",children:o.jsxs("button",{className:"page-link me-1",children:[o.jsx("i",{className:"ci-arrow-left me-2"}),"Previous"]})})}),o.jsx("ul",{className:"pagination",children:o.jsx("li",{className:"active",children:o.jsx("button",{className:"page-link",children:"1"})},1)}),o.jsx("ul",{className:"pagination",children:o.jsx("li",{className:"totalPages",children:o.jsxs("button",{className:"page-link ms-1",children:["Next",o.jsx("i",{className:"ci-arrow-right ms-3"})]})})})]})]})})]})}),o.jsx("section",{className:"my-8 py-lg-8",children:o.jsx("div",{className:"container",children:o.jsxs("div",{className:"row align-items-center bg-primary gx-0 rounded-3 mt-5",children:[o.jsx("div",{className:"col-lg-6 col-12 d-none d-lg-block",children:o.jsx("div",{className:"d-flex justify-content-center pt-4",children:o.jsxs("div",{className:"position-relative",children:[o.jsx("img",{src:"https://geeksui.codescandy.com/geeks/assets/images/png/cta-instructor-1.png",alt:"image",className:"img-fluid mt-n8"}),o.jsx("div",{className:"ms-n8 position-absolute bottom-0 start-0 mb-6",children:o.jsx("img",{src:"https://geeksui.codescandy.com/geeks/assets/images/svg/dollor.svg",alt:"dollor"})}),o.jsx("div",{className:"me-n4 position-absolute top-0 end-0",children:o.jsx("img",{src:"https://geeksui.codescandy.com/geeks/assets/images/svg/graph.svg",alt:"graph"})})]})})}),o.jsx("div",{className:"col-lg-5 col-12",children:o.jsxs("div",{className:"text-white p-5 p-lg-0",children:[o.jsx("h2",{className:"h1 text-white",children:"Become an instructor today"}),o.jsx("p",{className:"mb-0",children:"Instructors from around the world teach millions of students on Geeks. We provide the tools and skills to teach what you love."}),o.jsxs("a",{href:"#",className:"btn bg-white text-dark fw-bold mt-4",children:["Start Teaching Today ",o.jsx("i",{className:"fas fa-arrow-right"})]})]})})]})})}),o.jsx(BaseFooter,{})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function r0(t){return t+.5|0}const ru=(t,e,n)=>Math.max(Math.min(t,n),e);function Sm(t){return ru(r0(t*2.55),0,255)}function au(t){return ru(r0(t*255),0,255)}function $l(t){return ru(r0(t/2.55)/100,0,1)}function J3(t){return ru(r0(t*100),0,100)}const ka={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},fC=[..."0123456789ABCDEF"],qZ=t=>fC[t&15],YZ=t=>fC[(t&240)>>4]+fC[t&15],Yy=t=>(t&240)>>4===(t&15),GZ=t=>Yy(t.r)&&Yy(t.g)&&Yy(t.b)&&Yy(t.a);function KZ(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&ka[t[1]]*17,g:255&ka[t[2]]*17,b:255&ka[t[3]]*17,a:e===5?ka[t[4]]*17:255}:(e===7||e===9)&&(n={r:ka[t[1]]<<4|ka[t[2]],g:ka[t[3]]<<4|ka[t[4]],b:ka[t[5]]<<4|ka[t[6]],a:e===9?ka[t[7]]<<4|ka[t[8]]:255})),n}const XZ=(t,e)=>t<255?e(t):"";function QZ(t){var e=GZ(t)?qZ:YZ;return t?"#"+e(t.r)+e(t.g)+e(t.b)+XZ(t.a,e):void 0}const ZZ=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function PL(t,e,n){const r=e*Math.min(n,1-n),s=(i,a=(i+t/30)%12)=>n-r*Math.max(Math.min(a-3,9-a,1),-1);return[s(0),s(8),s(4)]}function JZ(t,e,n){const r=(s,i=(s+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function eJ(t,e,n){const r=PL(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)r[s]*=1-e-n,r[s]+=e;return r}function tJ(t,e,n,r,s){return t===s?(e-n)/r+(e<n?6:0):e===s?(n-t)/r+2:(t-e)/r+4}function Lk(t){const n=t.r/255,r=t.g/255,s=t.b/255,i=Math.max(n,r,s),a=Math.min(n,r,s),l=(i+a)/2;let c,u,h;return i!==a&&(h=i-a,u=l>.5?h/(2-i-a):h/(i+a),c=tJ(n,r,s,h,i),c=c*60+.5),[c|0,u||0,l]}function Fk(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(au)}function Bk(t,e,n){return Fk(PL,t,e,n)}function nJ(t,e,n){return Fk(eJ,t,e,n)}function rJ(t,e,n){return Fk(JZ,t,e,n)}function IL(t){return(t%360+360)%360}function sJ(t){const e=ZZ.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?Sm(+e[5]):au(+e[5]));const s=IL(+e[2]),i=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?r=nJ(s,i,a):e[1]==="hsv"?r=rJ(s,i,a):r=Bk(s,i,a),{r:r[0],g:r[1],b:r[2],a:n}}function iJ(t,e){var n=Lk(t);n[0]=IL(n[0]+e),n=Bk(n),t.r=n[0],t.g=n[1],t.b=n[2]}function aJ(t){if(!t)return;const e=Lk(t),n=e[0],r=J3(e[1]),s=J3(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${s}%, ${$l(t.a)})`:`hsl(${n}, ${r}%, ${s}%)`}const eD={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},tD={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function oJ(){const t={},e=Object.keys(tD),n=Object.keys(eD);let r,s,i,a,l;for(r=0;r<e.length;r++){for(a=l=e[r],s=0;s<n.length;s++)i=n[s],l=l.replace(i,eD[i]);i=parseInt(tD[a],16),t[l]=[i>>16&255,i>>8&255,i&255]}return t}let Gy;function lJ(t){Gy||(Gy=oJ(),Gy.transparent=[0,0,0,0]);const e=Gy[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const cJ=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function uJ(t){const e=cJ.exec(t);let n=255,r,s,i;if(e){if(e[7]!==r){const a=+e[7];n=e[8]?Sm(a):ru(a*255,0,255)}return r=+e[1],s=+e[3],i=+e[5],r=255&(e[2]?Sm(r):ru(r,0,255)),s=255&(e[4]?Sm(s):ru(s,0,255)),i=255&(e[6]?Sm(i):ru(i,0,255)),{r,g:s,b:i,a:n}}}function dJ(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${$l(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const i2=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Dh=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function hJ(t,e,n){const r=Dh($l(t.r)),s=Dh($l(t.g)),i=Dh($l(t.b));return{r:au(i2(r+n*(Dh($l(e.r))-r))),g:au(i2(s+n*(Dh($l(e.g))-s))),b:au(i2(i+n*(Dh($l(e.b))-i))),a:t.a+n*(e.a-t.a)}}function Ky(t,e,n){if(t){let r=Lk(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=Bk(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function OL(t,e){return t&&Object.assign(e||{},t)}function nD(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=au(t[3]))):(e=OL(t,{r:0,g:0,b:0,a:1}),e.a=au(e.a)),e}function fJ(t){return t.charAt(0)==="r"?uJ(t):sJ(t)}class og{constructor(e){if(e instanceof og)return e;const n=typeof e;let r;n==="object"?r=nD(e):n==="string"&&(r=KZ(e)||lJ(e)||fJ(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=OL(this._rgb);return e&&(e.a=$l(e.a)),e}set rgb(e){this._rgb=nD(e)}rgbString(){return this._valid?dJ(this._rgb):void 0}hexString(){return this._valid?QZ(this._rgb):void 0}hslString(){return this._valid?aJ(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,s=e.rgb;let i;const a=n===i?.5:n,l=2*a-1,c=r.a-s.a,u=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;i=1-u,r.r=255&u*r.r+i*s.r+.5,r.g=255&u*r.g+i*s.g+.5,r.b=255&u*r.b+i*s.b+.5,r.a=a*r.a+(1-a)*s.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=hJ(this._rgb,e._rgb,n)),this}clone(){return new og(this.rgb)}alpha(e){return this._rgb.a=au(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=r0(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Ky(this._rgb,2,e),this}darken(e){return Ky(this._rgb,2,-e),this}saturate(e){return Ky(this._rgb,1,e),this}desaturate(e){return Ky(this._rgb,1,-e),this}rotate(e){return iJ(this._rgb,e),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Il(){}const pJ=(()=>{let t=0;return()=>t++})();function mr(t){return t==null}function ws(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function $n(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function $a(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function $o(t,e){return $a(t)?t:e}function An(t,e){return typeof t>"u"?e:t}const mJ=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,ML=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function xr(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function sr(t,e,n,r){let s,i,a;if(ws(t))for(i=t.length,s=0;s<i;s++)e.call(n,t[s],s);else if($n(t))for(a=Object.keys(t),i=a.length,s=0;s<i;s++)e.call(n,t[a[s]],a[s])}function wx(t,e){let n,r,s,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(s=t[n],i=e[n],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function _x(t){if(ws(t))return t.map(_x);if($n(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let s=0;for(;s<r;++s)e[n[s]]=_x(t[n[s]]);return e}return t}function RL(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function gJ(t,e,n,r){if(!RL(t))return;const s=e[t],i=n[t];$n(s)&&$n(i)?lg(s,i,r):e[t]=_x(i)}function lg(t,e,n){const r=ws(e)?e:[e],s=r.length;if(!$n(t))return t;n=n||{};const i=n.merger||gJ;let a;for(let l=0;l<s;++l){if(a=r[l],!$n(a))continue;const c=Object.keys(a);for(let u=0,h=c.length;u<h;++u)i(c[u],t,a,n)}return t}function Mm(t,e){return lg(t,e,{merger:yJ})}function yJ(t,e,n){if(!RL(t))return;const r=e[t],s=n[t];$n(r)&&$n(s)?Mm(r,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=_x(s))}const rD={"":t=>t,x:t=>t.x,y:t=>t.y};function bJ(t){const e=t.split("."),n=[];let r="";for(const s of e)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function xJ(t){const e=bJ(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function cg(t,e){return(rD[e]||(rD[e]=xJ(e)))(t)}function $k(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Sx=t=>typeof t<"u",du=t=>typeof t=="function",sD=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function vJ(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Vr=Math.PI,Wr=2*Vr,wJ=Wr+Vr,Cx=Number.POSITIVE_INFINITY,_J=Vr/180,fs=Vr/2,Ku=Vr/4,iD=Vr*2/3,LL=Math.log10,Cf=Math.sign;function Rm(t,e,n){return Math.abs(t-e)<n}function aD(t){const e=Math.round(t);t=Rm(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(LL(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function SJ(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((s,i)=>s-i).pop(),e}function CJ(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function ug(t){return!CJ(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function TJ(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function kJ(t,e,n){let r,s,i;for(r=0,s=t.length;r<s;r++)i=t[r][n],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function Yl(t){return t*(Vr/180)}function EJ(t){return t*(180/Vr)}function oD(t){if(!$a(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function FL(t,e){const n=e.x-t.x,r=e.y-t.y,s=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i<-.5*Vr&&(i+=Wr),{angle:i,distance:s}}function pC(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function jJ(t,e){return(t-e+wJ)%Wr-Vr}function Gc(t){return(t%Wr+Wr)%Wr}function dg(t,e,n,r){const s=Gc(t),i=Gc(e),a=Gc(n),l=Gc(i-s),c=Gc(a-s),u=Gc(s-i),h=Gc(s-a);return s===i||s===a||r&&i===a||l>c&&u<h}function fi(t,e,n){return Math.max(e,Math.min(n,t))}function NJ(t){return fi(t,-32768,32767)}function qh(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function zk(t,e,n){n=n||(a=>t[a]<e);let r=t.length-1,s=0,i;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const pd=(t,e,n,r)=>zk(t,n,r?s=>{const i=t[s][e];return i<n||i===n&&t[s+1][e]===n}:s=>t[s][e]<n),AJ=(t,e,n)=>zk(t,n,r=>t[r][e]>=n);function DJ(t,e,n){let r=0,s=t.length;for(;r<s&&t[r]<e;)r++;for(;s>r&&t[s-1]>n;)s--;return r>0||s<t.length?t.slice(r,s):t}const BL=["push","pop","shift","splice","unshift"];function PJ(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),BL.forEach(n=>{const r="_onData"+$k(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){const a=s.apply(this,i);return t._chartjs.listeners.forEach(l=>{typeof l[r]=="function"&&l[r](...i)}),a}})})}function lD(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(e);s!==-1&&r.splice(s,1),!(r.length>0)&&(BL.forEach(i=>{delete t[i]}),delete t._chartjs)}function IJ(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const $L=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function zL(t,e){let n=[],r=!1;return function(...s){n=s,r||(r=!0,$L.call(window,()=>{r=!1,t.apply(e,n)}))}}function OJ(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const Uk=t=>t==="start"?"left":t==="end"?"right":"center",Us=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,MJ=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function RJ(t,e,n){const r=e.length;let s=0,i=r;if(t._sorted){const{iScale:a,vScale:l,_parsed:c}=t,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,h=a.axis,{min:f,max:m,minDefined:g,maxDefined:b}=a.getUserBounds();if(g){if(s=Math.min(pd(c,h,f).lo,n?r:pd(e,h,a.getPixelForValue(f)).lo),u){const y=c.slice(0,s+1).reverse().findIndex(x=>!mr(x[l.axis]));s-=Math.max(0,y)}s=fi(s,0,r-1)}if(b){let y=Math.max(pd(c,a.axis,m,!0).hi+1,n?0:pd(e,h,a.getPixelForValue(m),!0).hi+1);if(u){const x=c.slice(y-1).findIndex(w=>!mr(w[l.axis]));y+=Math.max(0,x)}i=fi(y,s,r)-s}else i=r-s}return{start:s,count:i}}function LJ(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=s,!0;const i=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,s),i}const Xy=t=>t===0||t===1,cD=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Wr/n)),uD=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Wr/n)+1,Lm={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*fs)+1,easeOutSine:t=>Math.sin(t*fs),easeInOutSine:t=>-.5*(Math.cos(Vr*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Xy(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Xy(t)?t:cD(t,.075,.3),easeOutElastic:t=>Xy(t)?t:uD(t,.075,.3),easeInOutElastic(t){return Xy(t)?t:t<.5?.5*cD(t*2,.1125,.45):.5+.5*uD(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Lm.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Lm.easeInBounce(t*2)*.5:Lm.easeOutBounce(t*2-1)*.5+.5};function Hk(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function dD(t){return Hk(t)?t:new og(t)}function a2(t){return Hk(t)?t:new og(t).saturate(.5).darken(.1).hexString()}const FJ=["x","y","borderWidth","radius","tension"],BJ=["color","borderColor","backgroundColor"];function $J(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:BJ},numbers:{type:"number",properties:FJ}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function zJ(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const hD=new Map;function UJ(t,e){e=e||{};const n=t+JSON.stringify(e);let r=hD.get(n);return r||(r=new Intl.NumberFormat(t,e),hD.set(n,r)),r}function Wk(t,e,n){return UJ(e,n).format(t)}const HJ={values(t){return ws(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let s,i=t;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(s="scientific"),i=WJ(t,n)}const a=LL(Math.abs(i)),l=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),c={notation:s,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),Wk(t,r,c)}};function WJ(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var UL={formatters:HJ};function VJ(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:UL.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Pd=Object.create(null),mC=Object.create(null);function Fm(t,e){if(!e)return t;const n=e.split(".");for(let r=0,s=n.length;r<s;++r){const i=n[r];t=t[i]||(t[i]=Object.create(null))}return t}function o2(t,e,n){return typeof e=="string"?lg(Fm(t,e),n):lg(Fm(t,""),e)}class qJ{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>a2(s.backgroundColor),this.hoverBorderColor=(r,s)=>a2(s.borderColor),this.hoverColor=(r,s)=>a2(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return o2(this,e,n)}get(e){return Fm(this,e)}describe(e,n){return o2(mC,e,n)}override(e,n){return o2(Pd,e,n)}route(e,n,r,s){const i=Fm(this,e),a=Fm(this,r),l="_"+n;Object.defineProperties(i,{[l]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const c=this[l],u=a[s];return $n(c)?Object.assign({},u,c):An(c,u)},set(c){this[l]=c}}})}apply(e){e.forEach(n=>n(this))}}var Zr=new qJ({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[$J,zJ,VJ]);function YJ(t){return!t||mr(t.size)||mr(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function fD(t,e,n,r,s){let i=e[s];return i||(i=e[s]=t.measureText(s).width,n.push(s)),i>r&&(r=i),r}function Xu(t,e,n){const r=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*r)/r+s}function pD(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function gC(t,e,n,r){HL(t,e,n,r,null)}function HL(t,e,n,r,s){let i,a,l,c,u,h,f,m;const g=e.pointStyle,b=e.rotation,y=e.radius;let x=(b||0)*_J;if(g&&typeof g=="object"&&(i=g.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(x),t.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),t.restore();return}if(!(isNaN(y)||y<=0)){switch(t.beginPath(),g){default:s?t.ellipse(n,r,s/2,y,0,0,Wr):t.arc(n,r,y,0,Wr),t.closePath();break;case"triangle":h=s?s/2:y,t.moveTo(n+Math.sin(x)*h,r-Math.cos(x)*y),x+=iD,t.lineTo(n+Math.sin(x)*h,r-Math.cos(x)*y),x+=iD,t.lineTo(n+Math.sin(x)*h,r-Math.cos(x)*y),t.closePath();break;case"rectRounded":u=y*.516,c=y-u,a=Math.cos(x+Ku)*c,f=Math.cos(x+Ku)*(s?s/2-u:c),l=Math.sin(x+Ku)*c,m=Math.sin(x+Ku)*(s?s/2-u:c),t.arc(n-f,r-l,u,x-Vr,x-fs),t.arc(n+m,r-a,u,x-fs,x),t.arc(n+f,r+l,u,x,x+fs),t.arc(n-m,r+a,u,x+fs,x+Vr),t.closePath();break;case"rect":if(!b){c=Math.SQRT1_2*y,h=s?s/2:c,t.rect(n-h,r-c,2*h,2*c);break}x+=Ku;case"rectRot":f=Math.cos(x)*(s?s/2:y),a=Math.cos(x)*y,l=Math.sin(x)*y,m=Math.sin(x)*(s?s/2:y),t.moveTo(n-f,r-l),t.lineTo(n+m,r-a),t.lineTo(n+f,r+l),t.lineTo(n-m,r+a),t.closePath();break;case"crossRot":x+=Ku;case"cross":f=Math.cos(x)*(s?s/2:y),a=Math.cos(x)*y,l=Math.sin(x)*y,m=Math.sin(x)*(s?s/2:y),t.moveTo(n-f,r-l),t.lineTo(n+f,r+l),t.moveTo(n+m,r-a),t.lineTo(n-m,r+a);break;case"star":f=Math.cos(x)*(s?s/2:y),a=Math.cos(x)*y,l=Math.sin(x)*y,m=Math.sin(x)*(s?s/2:y),t.moveTo(n-f,r-l),t.lineTo(n+f,r+l),t.moveTo(n+m,r-a),t.lineTo(n-m,r+a),x+=Ku,f=Math.cos(x)*(s?s/2:y),a=Math.cos(x)*y,l=Math.sin(x)*y,m=Math.sin(x)*(s?s/2:y),t.moveTo(n-f,r-l),t.lineTo(n+f,r+l),t.moveTo(n+m,r-a),t.lineTo(n-m,r+a);break;case"line":a=s?s/2:Math.cos(x)*y,l=Math.sin(x)*y,t.moveTo(n-a,r-l),t.lineTo(n+a,r+l);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(x)*(s?s/2:y),r+Math.sin(x)*y);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function hg(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Vk(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function qk(t){t.restore()}function GJ(t,e,n,r,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else s==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function KJ(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function XJ(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),mr(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function QJ(t,e,n,r,s){if(s.strikethrough||s.underline){const i=t.measureText(r),a=e-i.actualBoundingBoxLeft,l=e+i.actualBoundingBoxRight,c=n-i.actualBoundingBoxAscent,u=n+i.actualBoundingBoxDescent,h=s.strikethrough?(c+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(a,h),t.lineTo(l,h),t.stroke()}}function ZJ(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function fg(t,e,n,r,s,i={}){const a=ws(e)?e:[e],l=i.strokeWidth>0&&i.strokeColor!=="";let c,u;for(t.save(),t.font=s.string,XJ(t,i),c=0;c<a.length;++c)u=a[c],i.backdrop&&ZJ(t,i.backdrop),l&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),mr(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(u,n,r,i.maxWidth)),t.fillText(u,n,r,i.maxWidth),QJ(t,n,r,u,i),r+=Number(s.lineHeight);t.restore()}function yC(t,e){const{x:n,y:r,w:s,h:i,radius:a}=e;t.arc(n+a.topLeft,r+a.topLeft,a.topLeft,1.5*Vr,Vr,!0),t.lineTo(n,r+i-a.bottomLeft),t.arc(n+a.bottomLeft,r+i-a.bottomLeft,a.bottomLeft,Vr,fs,!0),t.lineTo(n+s-a.bottomRight,r+i),t.arc(n+s-a.bottomRight,r+i-a.bottomRight,a.bottomRight,fs,0,!0),t.lineTo(n+s,r+a.topRight),t.arc(n+s-a.topRight,r+a.topRight,a.topRight,0,-fs,!0),t.lineTo(n+a.topLeft,r)}const JJ=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,eee=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function tee(t,e){const n=(""+t).match(JJ);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const nee=t=>+t||0;function Yk(t,e){const n={},r=$n(e),s=r?Object.keys(e):e,i=$n(t)?r?a=>An(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of s)n[a]=nee(i(a));return n}function ree(t){return Yk(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Bm(t){return Yk(t,["topLeft","topRight","bottomLeft","bottomRight"])}function za(t){const e=ree(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ws(t,e){t=t||{},e=e||Zr.font;let n=An(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=An(t.style,e.style);r&&!(""+r).match(eee)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:An(t.family,e.family),lineHeight:tee(An(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:An(t.weight,e.weight),string:""};return s.string=YJ(s),s}function Qy(t,e,n,r){let s,i,a;for(s=0,i=t.length;s<i;++s)if(a=t[s],a!==void 0&&a!==void 0)return a}function see(t,e,n){const{min:r,max:s}=t,i=ML(e,(s-r)/2),a=(l,c)=>n&&l===0?0:l+c;return{min:a(r,-Math.abs(i)),max:a(s,i)}}function Yd(t,e){return Object.assign(Object.create(t),e)}function Gk(t,e=[""],n,r,s=()=>t[0]){const i=n||t;typeof r>"u"&&(r=YL("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:r,_getTarget:s,override:l=>Gk([l,...t],e,i,r)};return new Proxy(a,{deleteProperty(l,c){return delete l[c],delete l._keys,delete t[0][c],!0},get(l,c){return VL(l,c,()=>hee(c,e,t,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,c){return gD(l).includes(c)},ownKeys(l){return gD(l)},set(l,c,u){const h=l._storage||(l._storage=s());return l[c]=h[c]=u,delete l._keys,!0}})}function Tf(t,e,n,r){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:WL(t,r),setContext:i=>Tf(t,i,n,r),override:i=>Tf(t.override(i),e,n,r)};return new Proxy(s,{deleteProperty(i,a){return delete i[a],delete t[a],!0},get(i,a,l){return VL(i,a,()=>aee(i,a,l))},getOwnPropertyDescriptor(i,a){return i._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(i,a,l){return t[a]=l,delete i[a],!0}})}function WL(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:r,isScriptable:du(n)?n:()=>n,isIndexable:du(r)?r:()=>r}}const iee=(t,e)=>t?t+$k(e):e,Kk=(t,e)=>$n(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function VL(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function aee(t,e,n){const{_proxy:r,_context:s,_subProxy:i,_descriptors:a}=t;let l=r[e];return du(l)&&a.isScriptable(e)&&(l=oee(e,l,t,n)),ws(l)&&l.length&&(l=lee(e,l,t,a.isIndexable)),Kk(e,l)&&(l=Tf(l,s,i&&i[e],a)),l}function oee(t,e,n,r){const{_proxy:s,_context:i,_subProxy:a,_stack:l}=n;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let c=e(i,a||r);return l.delete(t),Kk(t,c)&&(c=Xk(s._scopes,s,t,c)),c}function lee(t,e,n,r){const{_proxy:s,_context:i,_subProxy:a,_descriptors:l}=n;if(typeof i.index<"u"&&r(t))return e[i.index%e.length];if($n(e[0])){const c=e,u=s._scopes.filter(h=>h!==c);e=[];for(const h of c){const f=Xk(u,s,t,h);e.push(Tf(f,i,a&&a[t],l))}}return e}function qL(t,e,n){return du(t)?t(e,n):t}const cee=(t,e)=>t===!0?e:typeof t=="string"?cg(e,t):void 0;function uee(t,e,n,r,s){for(const i of e){const a=cee(n,i);if(a){t.add(a);const l=qL(a._fallback,n,s);if(typeof l<"u"&&l!==n&&l!==r)return l}else if(a===!1&&typeof r<"u"&&n!==r)return null}return!1}function Xk(t,e,n,r){const s=e._rootScopes,i=qL(e._fallback,n,r),a=[...t,...s],l=new Set;l.add(r);let c=mD(l,a,n,i||n,r);return c===null||typeof i<"u"&&i!==n&&(c=mD(l,a,i,c,r),c===null)?!1:Gk(Array.from(l),[""],s,i,()=>dee(e,n,r))}function mD(t,e,n,r,s){for(;n;)n=uee(t,e,n,r,s);return n}function dee(t,e,n){const r=t._getTarget();e in r||(r[e]={});const s=r[e];return ws(s)&&$n(n)?n:s||{}}function hee(t,e,n,r){let s;for(const i of e)if(s=YL(iee(i,t),n),typeof s<"u")return Kk(t,s)?Xk(n,r,t,s):s}function YL(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function gD(t){let e=t._keys;return e||(e=t._keys=fee(t._scopes)),e}function fee(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(r);return Array.from(e)}const pee=Number.EPSILON||1e-14,kf=(t,e)=>e<t.length&&!t[e].skip&&t[e],GL=t=>t==="x"?"y":"x";function mee(t,e,n,r){const s=t.skip?e:t,i=e,a=n.skip?e:n,l=pC(i,s),c=pC(a,i);let u=l/(l+c),h=c/(l+c);u=isNaN(u)?0:u,h=isNaN(h)?0:h;const f=r*u,m=r*h;return{previous:{x:i.x-f*(a.x-s.x),y:i.y-f*(a.y-s.y)},next:{x:i.x+m*(a.x-s.x),y:i.y+m*(a.y-s.y)}}}function gee(t,e,n){const r=t.length;let s,i,a,l,c,u=kf(t,0);for(let h=0;h<r-1;++h)if(c=u,u=kf(t,h+1),!(!c||!u)){if(Rm(e[h],0,pee)){n[h]=n[h+1]=0;continue}s=n[h]/e[h],i=n[h+1]/e[h],l=Math.pow(s,2)+Math.pow(i,2),!(l<=9)&&(a=3/Math.sqrt(l),n[h]=s*a*e[h],n[h+1]=i*a*e[h])}}function yee(t,e,n="x"){const r=GL(n),s=t.length;let i,a,l,c=kf(t,0);for(let u=0;u<s;++u){if(a=l,l=c,c=kf(t,u+1),!l)continue;const h=l[n],f=l[r];a&&(i=(h-a[n])/3,l[`cp1${n}`]=h-i,l[`cp1${r}`]=f-i*e[u]),c&&(i=(c[n]-h)/3,l[`cp2${n}`]=h+i,l[`cp2${r}`]=f+i*e[u])}}function bee(t,e="x"){const n=GL(e),r=t.length,s=Array(r).fill(0),i=Array(r);let a,l,c,u=kf(t,0);for(a=0;a<r;++a)if(l=c,c=u,u=kf(t,a+1),!!c){if(u){const h=u[e]-c[e];s[a]=h!==0?(u[n]-c[n])/h:0}i[a]=l?u?Cf(s[a-1])!==Cf(s[a])?0:(s[a-1]+s[a])/2:s[a-1]:s[a]}gee(t,s,i),yee(t,i,e)}function Zy(t,e,n){return Math.max(Math.min(t,n),e)}function xee(t,e){let n,r,s,i,a,l=hg(t[0],e);for(n=0,r=t.length;n<r;++n)a=i,i=l,l=n<r-1&&hg(t[n+1],e),i&&(s=t[n],a&&(s.cp1x=Zy(s.cp1x,e.left,e.right),s.cp1y=Zy(s.cp1y,e.top,e.bottom)),l&&(s.cp2x=Zy(s.cp2x,e.left,e.right),s.cp2y=Zy(s.cp2y,e.top,e.bottom)))}function vee(t,e,n,r,s){let i,a,l,c;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")bee(t,s);else{let u=r?t[t.length-1]:t[0];for(i=0,a=t.length;i<a;++i)l=t[i],c=mee(u,l,t[Math.min(i+1,a-(r?0:1))%a],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,u=l}e.capBezierPoints&&xee(t,n)}function Qk(){return typeof window<"u"&&typeof document<"u"}function Zk(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Tx(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const Zv=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function wee(t,e){return Zv(t).getPropertyValue(e)}const _ee=["top","right","bottom","left"];function _d(t,e,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const i=_ee[s];r[i]=parseFloat(t[e+"-"+i+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const See=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function Cee(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:s,offsetY:i}=r;let a=!1,l,c;if(See(s,i,t.target))l=s,c=i;else{const u=e.getBoundingClientRect();l=r.clientX-u.left,c=r.clientY-u.top,a=!0}return{x:l,y:c,box:a}}function nd(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,s=Zv(n),i=s.boxSizing==="border-box",a=_d(s,"padding"),l=_d(s,"border","width"),{x:c,y:u,box:h}=Cee(t,n),f=a.left+(h&&l.left),m=a.top+(h&&l.top);let{width:g,height:b}=e;return i&&(g-=a.width+l.width,b-=a.height+l.height),{x:Math.round((c-f)/g*n.width/r),y:Math.round((u-m)/b*n.height/r)}}function Tee(t,e,n){let r,s;if(e===void 0||n===void 0){const i=t&&Zk(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{const a=i.getBoundingClientRect(),l=Zv(i),c=_d(l,"border","width"),u=_d(l,"padding");e=a.width-u.width-c.width,n=a.height-u.height-c.height,r=Tx(l.maxWidth,i,"clientWidth"),s=Tx(l.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:r||Cx,maxHeight:s||Cx}}const Jy=t=>Math.round(t*10)/10;function kee(t,e,n,r){const s=Zv(t),i=_d(s,"margin"),a=Tx(s.maxWidth,t,"clientWidth")||Cx,l=Tx(s.maxHeight,t,"clientHeight")||Cx,c=Tee(t,e,n);let{width:u,height:h}=c;if(s.boxSizing==="content-box"){const m=_d(s,"border","width"),g=_d(s,"padding");u-=g.width+m.width,h-=g.height+m.height}return u=Math.max(0,u-i.width),h=Math.max(0,r?u/r:h-i.height),u=Jy(Math.min(u,a,c.maxWidth)),h=Jy(Math.min(h,l,c.maxHeight)),u&&!h&&(h=Jy(u/2)),(e!==void 0||n!==void 0)&&r&&c.height&&h>c.height&&(h=c.height,u=Jy(Math.floor(h*r))),{width:u,height:h}}function yD(t,e,n){const r=e||1,s=Math.floor(t.height*r),i=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||a.height!==s||a.width!==i?(t.currentDevicePixelRatio=r,a.height=s,a.width=i,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const Eee=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Qk()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function bD(t,e){const n=wee(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function rd(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function jee(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function Nee(t,e,n,r){const s={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},a=rd(t,s,n),l=rd(s,i,n),c=rd(i,e,n),u=rd(a,l,n),h=rd(l,c,n);return rd(u,h,n)}const Aee=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},Dee=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function af(t,e,n){return t?Aee(e,n):Dee()}function KL(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function XL(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function QL(t){return t==="angle"?{between:dg,compare:jJ,normalize:Gc}:{between:qh,compare:(e,n)=>e-n,normalize:e=>e}}function xD({start:t,end:e,count:n,loop:r,style:s}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:s}}function Pee(t,e,n){const{property:r,start:s,end:i}=n,{between:a,normalize:l}=QL(r),c=e.length;let{start:u,end:h,loop:f}=t,m,g;if(f){for(u+=c,h+=c,m=0,g=c;m<g&&a(l(e[u%c][r]),s,i);++m)u--,h--;u%=c,h%=c}return h<u&&(h+=c),{start:u,end:h,loop:f,style:t.style}}function Iee(t,e,n){if(!n)return[t];const{property:r,start:s,end:i}=n,a=e.length,{compare:l,between:c,normalize:u}=QL(r),{start:h,end:f,loop:m,style:g}=Pee(t,e,n),b=[];let y=!1,x=null,w,C,k;const A=()=>c(s,k,w)&&l(s,k)!==0,N=()=>l(i,w)===0||c(i,k,w),P=()=>y||A(),M=()=>!y||N();for(let L=h,D=h;L<=f;++L)C=e[L%a],!C.skip&&(w=u(C[r]),w!==k&&(y=c(w,s,i),x===null&&P()&&(x=l(w,s)===0?L:D),x!==null&&M()&&(b.push(xD({start:x,end:L,loop:m,count:a,style:g})),x=null),D=L,k=w));return x!==null&&b.push(xD({start:x,end:f,loop:m,count:a,style:g})),b}function Oee(t,e){const n=[],r=t.segments;for(let s=0;s<r.length;s++){const i=Iee(r[s],t.points,e);i.length&&n.push(...i)}return n}function Mee(t,e,n,r){let s=0,i=e-1;if(n&&!r)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(i+=s);i>s&&t[i%e].skip;)i--;return i%=e,{start:s,end:i}}function Ree(t,e,n,r){const s=t.length,i=[];let a=e,l=t[e],c;for(c=e+1;c<=n;++c){const u=t[c%s];u.skip||u.stop?l.skip||(r=!1,i.push({start:e%s,end:(c-1)%s,loop:r}),e=a=u.stop?c:null):(a=c,l.skip&&(e=c)),l=u}return a!==null&&i.push({start:e%s,end:a%s,loop:r}),i}function Lee(t,e){const n=t.points,r=t.options.spanGaps,s=n.length;if(!s)return[];const i=!!t._loop,{start:a,end:l}=Mee(n,s,i,r);if(r===!0)return vD(t,[{start:a,end:l,loop:i}],n,e);const c=l<a?l+s:l,u=!!t._fullLoop&&a===0&&l===s-1;return vD(t,Ree(n,a,c,u),n,e)}function vD(t,e,n,r){return!r||!r.setContext||!n?e:Fee(t,e,n,r)}function Fee(t,e,n,r){const s=t._chart.getContext(),i=wD(t.options),{_datasetIndex:a,options:{spanGaps:l}}=t,c=n.length,u=[];let h=i,f=e[0].start,m=f;function g(b,y,x,w){const C=l?-1:1;if(b!==y){for(b+=c;n[b%c].skip;)b-=C;for(;n[y%c].skip;)y+=C;b%c!==y%c&&(u.push({start:b%c,end:y%c,loop:x,style:w}),h=w,f=y%c)}}for(const b of e){f=l?f:b.start;let y=n[f%c],x;for(m=f+1;m<=b.end;m++){const w=n[m%c];x=wD(r.setContext(Yd(s,{type:"segment",p0:y,p1:w,p0DataIndex:(m-1)%c,p1DataIndex:m%c,datasetIndex:a}))),Bee(x,h)&&g(f,m-1,b.loop,h),y=w,h=x}f<m-1&&g(f,m-1,b.loop,h)}return u}function wD(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Bee(t,e){if(!e)return!1;const n=[],r=function(s,i){return Hk(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(t,r)!==JSON.stringify(e,r)}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class $ee{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,s){const i=n.listeners[s],a=n.duration;i.forEach(l=>l({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(r-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=$L.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const i=r.items;let a=i.length-1,l=!1,c;for(;a>=0;--a)c=i[a],c._active?(c._total>r.duration&&(r.duration=c._total),c.tick(e),l=!0):(i[a]=i[i.length-1],i.pop());l&&(s.draw(),this._notify(s,r,e,"progress")),i.length||(r.running=!1,this._notify(s,r,e,"complete"),r.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ll=new $ee;const _D="transparent",zee={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=dD(t||_D),s=r.valid&&dD(e||_D);return s&&s.valid?s.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class Uee{constructor(e,n,r,s){const i=n[r];s=Qy([e.to,s,i,e.from]);const a=Qy([e.from,i,s]);this._active=!0,this._fn=e.fn||zee[e.type||typeof a],this._easing=Lm[e.easing]||Lm.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const s=this._target[this._prop],i=r-this._start,a=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Qy([e.to,n,s,e.from]),this._from=Qy([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,s=this._prop,i=this._from,a=this._loop,l=this._to;let c;if(this._active=i!==l&&(a||n<r),!this._active){this._target[s]=l,this._notify(!0);return}if(n<0){this._target[s]=i;return}c=n/r%2,c=a&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[s]=this._fn(i,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][n]()}}class ZL{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!$n(e))return;const n=Object.keys(Zr.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const i=e[s];if(!$n(i))return;const a={};for(const l of n)a[l]=i[l];(ws(i.properties)&&i.properties||[s]).forEach(l=>{(l===s||!r.has(l))&&r.set(l,a)})})}_animateOptions(e,n){const r=n.options,s=Wee(e,r);if(!s)return[];const i=this._createAnimations(s,r);return r.$shared&&Hee(e.options.$animations,r).then(()=>{e.options=r},()=>{}),i}_createAnimations(e,n){const r=this._properties,s=[],i=e.$animations||(e.$animations={}),a=Object.keys(n),l=Date.now();let c;for(c=a.length-1;c>=0;--c){const u=a[c];if(u.charAt(0)==="$")continue;if(u==="options"){s.push(...this._animateOptions(e,n));continue}const h=n[u];let f=i[u];const m=r.get(u);if(f)if(m&&f.active()){f.update(m,h,l);continue}else f.cancel();if(!m||!m.duration){e[u]=h;continue}i[u]=f=new Uee(m,e,u,h),s.push(f)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return Ll.add(this._chart,r),!0}}function Hee(t,e){const n=[],r=Object.keys(e);for(let s=0;s<r.length;s++){const i=t[r[s]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function Wee(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function SD(t,e){const n=t&&t.options||{},r=n.reverse,s=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:r?i:s,end:r?s:i}}function Vee(t,e,n){if(n===!1)return!1;const r=SD(t,n),s=SD(e,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function qee(t){let e,n,r,s;return $n(t)?(e=t.top,n=t.right,r=t.bottom,s=t.left):e=n=r=s=t,{top:e,right:n,bottom:r,left:s,disabled:t===!1}}function JL(t,e){const n=[],r=t._getSortedDatasetMetas(e);let s,i;for(s=0,i=r.length;s<i;++s)n.push(r[s].index);return n}function CD(t,e,n,r={}){const s=t.keys,i=r.mode==="single";let a,l,c,u;if(e===null)return;let h=!1;for(a=0,l=s.length;a<l;++a){if(c=+s[a],c===n){if(h=!0,r.all)continue;break}u=t.values[c],$a(u)&&(i||e===0||Cf(e)===Cf(u))&&(e+=u)}return!h&&!r.all?0:e}function Yee(t,e){const{iScale:n,vScale:r}=e,s=n.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",a=Object.keys(t),l=new Array(a.length);let c,u,h;for(c=0,u=a.length;c<u;++c)h=a[c],l[c]={[s]:h,[i]:t[h]};return l}function l2(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function Gee(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function Kee(t){const{min:e,max:n,minDefined:r,maxDefined:s}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function Xee(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function TD(t,e,n,r){for(const s of e.getMatchingVisibleMetas(r).reverse()){const i=t[s.index];if(n&&i>0||!n&&i<0)return s.index}return null}function kD(t,e){const{chart:n,_cachedMeta:r}=t,s=n._stacks||(n._stacks={}),{iScale:i,vScale:a,index:l}=r,c=i.axis,u=a.axis,h=Gee(i,a,r),f=e.length;let m;for(let g=0;g<f;++g){const b=e[g],{[c]:y,[u]:x}=b,w=b._stacks||(b._stacks={});m=w[u]=Xee(s,h,y),m[l]=x,m._top=TD(m,a,!0,r.type),m._bottom=TD(m,a,!1,r.type);const C=m._visualValues||(m._visualValues={});C[l]=x}}function c2(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function Qee(t,e){return Yd(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Zee(t,e,n){return Yd(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function rm(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const s of e){const i=s._stacks;if(!i||i[r]===void 0||i[r][n]===void 0)return;delete i[r][n],i[r]._visualValues!==void 0&&i[r]._visualValues[n]!==void 0&&delete i[r]._visualValues[n]}}}const u2=t=>t==="reset"||t==="none",ED=(t,e)=>e?t:Object.assign({},t),Jee=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:JL(n,!0),values:null};class of{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=l2(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&rm(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(f,m,g,b)=>f==="x"?m:f==="r"?b:g,i=n.xAxisID=An(r.xAxisID,c2(e,"x")),a=n.yAxisID=An(r.yAxisID,c2(e,"y")),l=n.rAxisID=An(r.rAxisID,c2(e,"r")),c=n.indexAxis,u=n.iAxisID=s(c,i,a,l),h=n.vAxisID=s(c,a,i,l);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&lD(this._data,this),e._stacked&&rm(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if($n(n)){const s=this._cachedMeta;this._data=Yee(n,s)}else if(r!==n){if(r){lD(r,this);const s=this._cachedMeta;rm(s),s._parsed=[]}n&&Object.isExtensible(n)&&PJ(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const i=n._stacked;n._stacked=l2(n.vScale,n),n.stack!==r.stack&&(s=!0,rm(n),n.stack=r.stack),this._resyncElements(e),(s||i!==n._stacked)&&(kD(this,n._parsed),n._stacked=l2(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:s}=this,{iScale:i,_stacked:a}=r,l=i.axis;let c=e===0&&n===s.length?!0:r._sorted,u=e>0&&r._parsed[e-1],h,f,m;if(this._parsing===!1)r._parsed=s,r._sorted=!0,m=s;else{ws(s[e])?m=this.parseArrayData(r,s,e,n):$n(s[e])?m=this.parseObjectData(r,s,e,n):m=this.parsePrimitiveData(r,s,e,n);const g=()=>f[l]===null||u&&f[l]<u[l];for(h=0;h<n;++h)r._parsed[h+e]=f=m[h],c&&(g()&&(c=!1),u=f);r._sorted=c}a&&kD(this,m)}parsePrimitiveData(e,n,r,s){const{iScale:i,vScale:a}=e,l=i.axis,c=a.axis,u=i.getLabels(),h=i===a,f=new Array(s);let m,g,b;for(m=0,g=s;m<g;++m)b=m+r,f[m]={[l]:h||i.parse(u[b],b),[c]:a.parse(n[b],b)};return f}parseArrayData(e,n,r,s){const{xScale:i,yScale:a}=e,l=new Array(s);let c,u,h,f;for(c=0,u=s;c<u;++c)h=c+r,f=n[h],l[c]={x:i.parse(f[0],h),y:a.parse(f[1],h)};return l}parseObjectData(e,n,r,s){const{xScale:i,yScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=new Array(s);let h,f,m,g;for(h=0,f=s;h<f;++h)m=h+r,g=n[m],u[h]={x:i.parse(cg(g,l),m),y:a.parse(cg(g,c),m)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const s=this.chart,i=this._cachedMeta,a=n[e.axis],l={keys:JL(s,!0),values:n._stacks[e.axis]._visualValues};return CD(l,a,i.index,{mode:r})}updateRangeFromParsed(e,n,r,s){const i=r[n.axis];let a=i===null?NaN:i;const l=s&&r._stacks[n.axis];s&&l&&(s.values=l,a=CD(s,i,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const r=this._cachedMeta,s=r._parsed,i=r._sorted&&e===r.iScale,a=s.length,l=this._getOtherScale(e),c=Jee(n,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:f}=Kee(l);let m,g;function b(){g=s[m];const y=g[l.axis];return!$a(g[e.axis])||h>y||f<y}for(m=0;m<a&&!(!b()&&(this.updateRangeFromParsed(u,e,g,c),i));++m);if(i){for(m=a-1;m>=0;--m)if(!b()){this.updateRangeFromParsed(u,e,g,c);break}}return u}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let s,i,a;for(s=0,i=n.length;s<i;++s)a=n[s][e.axis],$a(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,s=n.vScale,i=this.getParsed(e);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=qee(An(this.options.clip,Vee(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],i=n.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||s.length-l,u=this.options.drawActiveElementsOnTop;let h;for(r.dataset&&r.dataset.draw(e,i,l,c),h=l;h<l+c;++h){const f=s[h];f.hidden||(f.active&&u?a.push(f):f.draw(e,i))}for(h=0;h<a.length;++h)a[h].draw(e,i)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const s=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];i=a.$context||(a.$context=Zee(this.getContext(),e,a)),i.parsed=this.getParsed(e),i.raw=s.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=Qee(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=r,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const s=n==="active",i=this._cachedDataOpts,a=e+"-"+n,l=i[a],c=this.enableOptionSharing&&Sx(r);if(l)return ED(l,c);const u=this.chart.config,h=u.datasetElementScopeKeys(this._type,e),f=s?[`${e}Hover`,"hover",e,""]:[e,""],m=u.getOptionScopes(this.getDataset(),h),g=Object.keys(Zr.elements[e]),b=()=>this.getContext(r,s,n),y=u.resolveNamedOptions(m,g,b,f);return y.$shared&&(y.$shared=c,i[a]=Object.freeze(ED(y,c))),y}_resolveAnimations(e,n,r){const s=this.chart,i=this._cachedDataOpts,a=`animation-${n}`,l=i[a];if(l)return l;let c;if(s.options.animation!==!1){const h=this.chart.config,f=h.datasetAnimationScopeKeys(this._type,n),m=h.getOptionScopes(this.getDataset(),f);c=h.createResolver(m,this.getContext(e,r,n))}const u=new ZL(s,c&&c.animations);return c&&c._cacheable&&(i[a]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||u2(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),s=this._sharedOptions,i=this.getSharedOptions(r),a=this.includeOptions(n,i)||i!==s;return this.updateSharedOptions(i,n,r),{sharedOptions:i,includeOptions:a}}updateElement(e,n,r,s){u2(s)?Object.assign(e,r):this._resolveAnimations(n,s).update(e,r)}updateSharedOptions(e,n,r){e&&!u2(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,s){e.active=s;const i=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(e,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[l,c,u]of this._syncList)this[l](c,u);this._syncList=[];const s=r.length,i=n.length,a=Math.min(i,s);a&&this.parse(0,a),i>s?this._insertElements(s,i-s,e):i<s&&this._removeElements(i,s-i)}_insertElements(e,n,r=!0){const s=this._cachedMeta,i=s.data,a=e+n;let l;const c=u=>{for(u.length+=n,l=u.length-1;l>=a;l--)u[l]=u[l-n]};for(c(i),l=e;l<a;++l)i[l]=new this.dataElementType;this._parsing&&c(s._parsed),this.parse(e,n),r&&this.updateElements(i,e,n,"reset")}updateElements(e,n,r,s){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(e,n);r._stacked&&rm(r,s)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,s]=e;this[n](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Ft(of,"defaults",{}),Ft(of,"datasetElementType",null),Ft(of,"dataElementType",null);function ete(t,e,n){let r=1,s=1,i=0,a=0;if(e<Wr){const l=t,c=l+e,u=Math.cos(l),h=Math.sin(l),f=Math.cos(c),m=Math.sin(c),g=(k,A,N)=>dg(k,l,c,!0)?1:Math.max(A,A*n,N,N*n),b=(k,A,N)=>dg(k,l,c,!0)?-1:Math.min(A,A*n,N,N*n),y=g(0,u,f),x=g(fs,h,m),w=b(Vr,u,f),C=b(Vr+fs,h,m);r=(y-w)/2,s=(x-C)/2,i=-(y+w)/2,a=-(x+C)/2}return{ratioX:r,ratioY:s,offsetX:i,offsetY:a}}class Cm extends of{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=r;else{let i=c=>+r[c];if($n(r[e])){const{key:c="value"}=this._parsing;i=u=>+cg(r[u],c)}let a,l;for(a=e,l=e+n;a<l;++a)s._parsed[a]=i(a)}}_getRotation(){return Yl(this.options.rotation-90)}_getCircumference(){return Yl(this.options.circumference)}_getRotationExtents(){let e=Wr,n=-Wr;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const s=this.chart.getDatasetMeta(r).controller,i=s._getRotation(),a=s._getCircumference();e=Math.min(e,i),n=Math.max(n,i+a)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,s=this._cachedMeta,i=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,l=Math.max((Math.min(r.width,r.height)-a)/2,0),c=Math.min(mJ(this.options.cutout,l),1),u=this._getRingWeight(this.index),{circumference:h,rotation:f}=this._getRotationExtents(),{ratioX:m,ratioY:g,offsetX:b,offsetY:y}=ete(f,h,c),x=(r.width-a)/m,w=(r.height-a)/g,C=Math.max(Math.min(x,w)/2,0),k=ML(this.options.radius,C),A=Math.max(k*c,0),N=(k-A)/this._getVisibleDatasetWeightTotal();this.offsetX=b*k,this.offsetY=y*k,s.total=this.calculateTotal(),this.outerRadius=k-N*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-N*u,0),this.updateElements(i,0,i.length,e)}_circumference(e,n){const r=this.options,s=this._cachedMeta,i=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*i/Wr)}updateElements(e,n,r,s){const i=s==="reset",a=this.chart,l=a.chartArea,u=a.options.animation,h=(l.left+l.right)/2,f=(l.top+l.bottom)/2,m=i&&u.animateScale,g=m?0:this.innerRadius,b=m?0:this.outerRadius,{sharedOptions:y,includeOptions:x}=this._getSharedOptions(n,s);let w=this._getRotation(),C;for(C=0;C<n;++C)w+=this._circumference(C,i);for(C=n;C<n+r;++C){const k=this._circumference(C,i),A=e[C],N={x:h+this.offsetX,y:f+this.offsetY,startAngle:w,endAngle:w+k,circumference:k,outerRadius:b,innerRadius:g};x&&(N.options=y||this.resolveDataElementOptions(C,A.active?"active":s)),w+=k,this.updateElement(A,C,N,s)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,s;for(s=0;s<n.length;s++){const i=e._parsed[s];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(r+=Math.abs(i))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Wr*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,s=r.data.labels||[],i=Wk(n._parsed[e],r.options.locale);return{label:s[e]||"",value:i}}getMaxBorderWidth(e){let n=0;const r=this.chart;let s,i,a,l,c;if(!e){for(s=0,i=r.data.datasets.length;s<i;++s)if(r.isDatasetVisible(s)){a=r.getDatasetMeta(s),e=a.data,l=a.controller;break}}if(!e)return 0;for(s=0,i=e.length;s<i;++s)c=l.resolveDataElementOptions(s),c.borderAlign!=="inner"&&(n=Math.max(n,c.borderWidth||0,c.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,s=e.length;r<s;++r){const i=this.resolveDataElementOptions(r);n=Math.max(n,i.offset||0,i.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(An(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Ft(Cm,"id","doughnut"),Ft(Cm,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Ft(Cm,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Ft(Cm,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:s}}=e.legend.options;return n.labels.map((i,a)=>{const c=e.getDatasetMeta(0).controller.getStyle(a);return{text:i,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:s,lineWidth:c.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class Lb extends of{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:s=[],_dataset:i}=n,a=this.chart._animationsDisabled;let{start:l,count:c}=RJ(n,s,a);this._drawStart=l,this._drawCount=c,LJ(n)&&(l=0,c=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=s;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:u},e),this.updateElements(s,l,c,e)}updateElements(e,n,r,s){const i=s==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:h,includeOptions:f}=this._getSharedOptions(n,s),m=a.axis,g=l.axis,{spanGaps:b,segment:y}=this.options,x=ug(b)?b:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||i||s==="none",C=n+r,k=e.length;let A=n>0&&this.getParsed(n-1);for(let N=0;N<k;++N){const P=e[N],M=w?P:{};if(N<n||N>=C){M.skip=!0;continue}const L=this.getParsed(N),D=mr(L[g]),S=M[m]=a.getPixelForValue(L[m],N),z=M[g]=i||D?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,L,c):L[g],N);M.skip=isNaN(S)||isNaN(z)||D,M.stop=N>0&&Math.abs(L[m]-A[m])>x,y&&(M.parsed=L,M.raw=u.data[N]),f&&(M.options=h||this.resolveDataElementOptions(N,P.active?"active":s)),w||this.updateElement(P,N,M,s),A=L}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return r;const i=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,i,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Ft(Lb,"id","line"),Ft(Lb,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Ft(Lb,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Qu(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Jk{constructor(e){Ft(this,"options");this.options=e||{}}static override(e){Object.assign(Jk.prototype,e)}init(){}formats(){return Qu()}parse(){return Qu()}format(){return Qu()}add(){return Qu()}diff(){return Qu()}startOf(){return Qu()}endOf(){return Qu()}}var tte={_date:Jk};function nte(t,e,n,r){const{controller:s,data:i,_sorted:a}=t,l=s._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&a&&i.length){const u=l._reversePixels?AJ:pd;if(r){if(s._sharedOptions){const h=i[0],f=typeof h.getRange=="function"&&h.getRange(e);if(f){const m=u(i,e,n-f),g=u(i,e,n+f);return{lo:m.lo,hi:g.hi}}}}else{const h=u(i,e,n);if(c){const{vScale:f}=s._cachedMeta,{_parsed:m}=t,g=m.slice(0,h.lo+1).reverse().findIndex(y=>!mr(y[f.axis]));h.lo-=Math.max(0,g);const b=m.slice(h.hi).findIndex(y=>!mr(y[f.axis]));h.hi+=Math.max(0,b)}return h}}return{lo:0,hi:i.length-1}}function Jv(t,e,n,r,s){const i=t.getSortedVisibleDatasetMetas(),a=n[e];for(let l=0,c=i.length;l<c;++l){const{index:u,data:h}=i[l],{lo:f,hi:m}=nte(i[l],e,a,s);for(let g=f;g<=m;++g){const b=h[g];b.skip||r(b,u,g)}}}function rte(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,s){const i=e?Math.abs(r.x-s.x):0,a=n?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}function d2(t,e,n,r,s){const i=[];return!s&&!t.isPointInArea(e)||Jv(t,n,e,function(l,c,u){!s&&!hg(l,t.chartArea,0)||l.inRange(e.x,e.y,r)&&i.push({element:l,datasetIndex:c,index:u})},!0),i}function ste(t,e,n,r){let s=[];function i(a,l,c){const{startAngle:u,endAngle:h}=a.getProps(["startAngle","endAngle"],r),{angle:f}=FL(a,{x:e.x,y:e.y});dg(f,u,h)&&s.push({element:a,datasetIndex:l,index:c})}return Jv(t,n,e,i),s}function ite(t,e,n,r,s,i){let a=[];const l=rte(n);let c=Number.POSITIVE_INFINITY;function u(h,f,m){const g=h.inRange(e.x,e.y,s);if(r&&!g)return;const b=h.getCenterPoint(s);if(!(!!i||t.isPointInArea(b))&&!g)return;const x=l(e,b);x<c?(a=[{element:h,datasetIndex:f,index:m}],c=x):x===c&&a.push({element:h,datasetIndex:f,index:m})}return Jv(t,n,e,u),a}function h2(t,e,n,r,s,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!r?ste(t,e,n,s):ite(t,e,n,r,s,i)}function jD(t,e,n,r,s){const i=[],a=n==="x"?"inXRange":"inYRange";let l=!1;return Jv(t,n,e,(c,u,h)=>{c[a]&&c[a](e[n],s)&&(i.push({element:c,datasetIndex:u,index:h}),l=l||c.inRange(e.x,e.y,s))}),r&&!l?[]:i}var ate={modes:{index(t,e,n,r){const s=nd(e,t),i=n.axis||"x",a=n.includeInvisible||!1,l=n.intersect?d2(t,s,i,r,a):h2(t,s,i,!1,r,a),c=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const h=l[0].index,f=u.data[h];f&&!f.skip&&c.push({element:f,datasetIndex:u.index,index:h})}),c):[]},dataset(t,e,n,r){const s=nd(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;let l=n.intersect?d2(t,s,i,r,a):h2(t,s,i,!1,r,a);if(l.length>0){const c=l[0].datasetIndex,u=t.getDatasetMeta(c).data;l=[];for(let h=0;h<u.length;++h)l.push({element:u[h],datasetIndex:c,index:h})}return l},point(t,e,n,r){const s=nd(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;return d2(t,s,i,r,a)},nearest(t,e,n,r){const s=nd(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;return h2(t,s,i,n.intersect,r,a)},x(t,e,n,r){const s=nd(e,t);return jD(t,s,"x",n.intersect,r)},y(t,e,n,r){const s=nd(e,t);return jD(t,s,"y",n.intersect,r)}}};const e6=["left","top","right","bottom"];function sm(t,e){return t.filter(n=>n.pos===e)}function ND(t,e){return t.filter(n=>e6.indexOf(n.pos)===-1&&n.box.axis===e)}function im(t,e){return t.sort((n,r)=>{const s=e?r:n,i=e?n:r;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function ote(t){const e=[];let n,r,s,i,a,l;for(n=0,r=(t||[]).length;n<r;++n)s=t[n],{position:i,options:{stack:a,stackWeight:l=1}}=s,e.push({index:n,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&i+a,stackWeight:l});return e}function lte(t){const e={};for(const n of t){const{stack:r,pos:s,stackWeight:i}=n;if(!r||!e6.includes(s))continue;const a=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=i}return e}function cte(t,e){const n=lte(t),{vBoxMaxWidth:r,hBoxMaxHeight:s}=e;let i,a,l;for(i=0,a=t.length;i<a;++i){l=t[i];const{fullSize:c}=l.box,u=n[l.stack],h=u&&l.stackWeight/u.weight;l.horizontal?(l.width=h?h*r:c&&e.availableWidth,l.height=s):(l.width=r,l.height=h?h*s:c&&e.availableHeight)}return n}function ute(t){const e=ote(t),n=im(e.filter(u=>u.box.fullSize),!0),r=im(sm(e,"left"),!0),s=im(sm(e,"right")),i=im(sm(e,"top"),!0),a=im(sm(e,"bottom")),l=ND(e,"x"),c=ND(e,"y");return{fullSize:n,leftAndTop:r.concat(i),rightAndBottom:s.concat(c).concat(a).concat(l),chartArea:sm(e,"chartArea"),vertical:r.concat(s).concat(c),horizontal:i.concat(a).concat(l)}}function AD(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function t6(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function dte(t,e,n,r){const{pos:s,box:i}=n,a=t.maxPadding;if(!$n(s)){n.size&&(t[s]-=n.size);const f=r[n.stack]||{size:0,count:1};f.size=Math.max(f.size,n.horizontal?i.height:i.width),n.size=f.size/f.count,t[s]+=n.size}i.getPadding&&t6(a,i.getPadding());const l=Math.max(0,e.outerWidth-AD(a,t,"left","right")),c=Math.max(0,e.outerHeight-AD(a,t,"top","bottom")),u=l!==t.w,h=c!==t.h;return t.w=l,t.h=c,n.horizontal?{same:u,other:h}:{same:h,other:u}}function hte(t){const e=t.maxPadding;function n(r){const s=Math.max(e[r]-t[r],0);return t[r]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function fte(t,e){const n=e.maxPadding;function r(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(a=>{i[a]=Math.max(e[a],n[a])}),i}return r(t?["left","right"]:["top","bottom"])}function Tm(t,e,n,r){const s=[];let i,a,l,c,u,h;for(i=0,a=t.length,u=0;i<a;++i){l=t[i],c=l.box,c.update(l.width||e.w,l.height||e.h,fte(l.horizontal,e));const{same:f,other:m}=dte(e,n,l,r);u|=f&&s.length,h=h||m,c.fullSize||s.push(l)}return u&&Tm(s,e,n,r)||h}function eb(t,e,n,r,s){t.top=n,t.left=e,t.right=e+r,t.bottom=n+s,t.width=r,t.height=s}function DD(t,e,n,r){const s=n.padding;let{x:i,y:a}=e;for(const l of t){const c=l.box,u=r[l.stack]||{placed:0,weight:1},h=l.stackWeight/u.weight||1;if(l.horizontal){const f=e.w*h,m=u.size||c.height;Sx(u.start)&&(a=u.start),c.fullSize?eb(c,s.left,a,n.outerWidth-s.right-s.left,m):eb(c,e.left+u.placed,a,f,m),u.start=a,u.placed+=f,a=c.bottom}else{const f=e.h*h,m=u.size||c.width;Sx(u.start)&&(i=u.start),c.fullSize?eb(c,i,s.top,m,n.outerHeight-s.bottom-s.top):eb(c,i,e.top+u.placed,m,f),u.start=i,u.placed+=f,i=c.right}}e.x=i,e.y=a}var Oa={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const s=za(t.options.layout.padding),i=Math.max(e-s.width,0),a=Math.max(n-s.height,0),l=ute(t.boxes),c=l.vertical,u=l.horizontal;sr(t.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const h=c.reduce((y,x)=>x.box.options&&x.box.options.display===!1?y:y+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:i,availableHeight:a,vBoxMaxWidth:i/2/h,hBoxMaxHeight:a/2}),m=Object.assign({},s);t6(m,za(r));const g=Object.assign({maxPadding:m,w:i,h:a,x:s.left,y:s.top},s),b=cte(c.concat(u),f);Tm(l.fullSize,g,f,b),Tm(c,g,f,b),Tm(u,g,f,b)&&Tm(c,g,f,b),hte(g),DD(l.leftAndTop,g,f,b),g.x+=g.w,g.y+=g.h,DD(l.rightAndBottom,g,f,b),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},sr(l.chartArea,y=>{const x=y.box;Object.assign(x,t.chartArea),x.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class n6{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,s){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):r)}}isAttached(e){return!0}updateConfig(e){}}class pte extends n6{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Fb="$chartjs",mte={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},PD=t=>t===null||t==="";function gte(t,e){const n=t.style,r=t.getAttribute("height"),s=t.getAttribute("width");if(t[Fb]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",PD(s)){const i=bD(t,"width");i!==void 0&&(t.width=i)}if(PD(r))if(t.style.height==="")t.height=t.width/(e||2);else{const i=bD(t,"height");i!==void 0&&(t.height=i)}return t}const r6=Eee?{passive:!0}:!1;function yte(t,e,n){t&&t.addEventListener(e,n,r6)}function bte(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,r6)}function xte(t,e){const n=mte[t.type]||t.type,{x:r,y:s}=nd(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:s!==void 0?s:null}}function kx(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function vte(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let a=!1;for(const l of i)a=a||kx(l.addedNodes,r),a=a&&!kx(l.removedNodes,r);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function wte(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let a=!1;for(const l of i)a=a||kx(l.removedNodes,r),a=a&&!kx(l.addedNodes,r);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const pg=new Map;let ID=0;function s6(){const t=window.devicePixelRatio;t!==ID&&(ID=t,pg.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function _te(t,e){pg.size||window.addEventListener("resize",s6),pg.set(t,e)}function Ste(t){pg.delete(t),pg.size||window.removeEventListener("resize",s6)}function Cte(t,e,n){const r=t.canvas,s=r&&Zk(r);if(!s)return;const i=zL((l,c)=>{const u=s.clientWidth;n(l,c),u<s.clientWidth&&n()},window),a=new ResizeObserver(l=>{const c=l[0],u=c.contentRect.width,h=c.contentRect.height;u===0&&h===0||i(u,h)});return a.observe(s),_te(t,i),a}function f2(t,e,n){n&&n.disconnect(),e==="resize"&&Ste(t)}function Tte(t,e,n){const r=t.canvas,s=zL(i=>{t.ctx!==null&&n(xte(i,t))},t);return yte(r,e,s),s}class kte extends n6{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(gte(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Fb])return!1;const r=n[Fb].initial;["height","width"].forEach(i=>{const a=r[i];mr(a)?n.removeAttribute(i):n.setAttribute(i,a)});const s=r.style||{};return Object.keys(s).forEach(i=>{n.style[i]=s[i]}),n.width=n.width,delete n[Fb],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),a={attach:vte,detach:wte,resize:Cte}[n]||Tte;s[n]=a(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),s=r[n];if(!s)return;({attach:f2,detach:f2,resize:f2}[n]||bte)(e,n,s),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,s){return kee(e,n,r,s)}isAttached(e){const n=e&&Zk(e);return!!(n&&n.isConnected)}}function Ete(t){return!Qk()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?pte:kte}var jb;let vu=(jb=class{constructor(){Ft(this,"x");Ft(this,"y");Ft(this,"active",!1);Ft(this,"options");Ft(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return ug(this.x)&&ug(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const s={};return e.forEach(i=>{s[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),s}},Ft(jb,"defaults",{}),Ft(jb,"defaultRoutes"),jb);function jte(t,e){const n=t.options.ticks,r=Nte(t),s=Math.min(n.maxTicksLimit||r,r),i=n.major.enabled?Dte(e):[],a=i.length,l=i[0],c=i[a-1],u=[];if(a>s)return Pte(e,u,i,a/s),u;const h=Ate(i,e,s);if(a>0){let f,m;const g=a>1?Math.round((c-l)/(a-1)):null;for(tb(e,u,h,mr(g)?0:l-g,l),f=0,m=a-1;f<m;f++)tb(e,u,h,i[f],i[f+1]);return tb(e,u,h,c,mr(g)?e.length:c+g),u}return tb(e,u,h),u}function Nte(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(r,s))}function Ate(t,e,n){const r=Ite(t),s=e.length/n;if(!r)return Math.max(s,1);const i=SJ(r);for(let a=0,l=i.length-1;a<l;a++){const c=i[a];if(c>s)return c}return Math.max(s,1)}function Dte(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function Pte(t,e,n,r){let s=0,i=n[0],a;for(r=Math.ceil(r),a=0;a<t.length;a++)a===i&&(e.push(t[a]),s++,i=n[s*r])}function tb(t,e,n,r,s){const i=An(r,0),a=Math.min(An(s,t.length),t.length);let l=0,c,u,h;for(n=Math.ceil(n),s&&(c=s-r,n=c/Math.floor(c/n)),h=i;h<0;)l++,h=Math.round(i+l*n);for(u=Math.max(i,0);u<a;u++)u===h&&(e.push(t[u]),l++,h=Math.round(i+l*n))}function Ite(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const Ote=t=>t==="left"?"right":t==="right"?"left":t,OD=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,MD=(t,e)=>Math.min(e||t,t);function RD(t,e){const n=[],r=t.length/e,s=t.length;let i=0;for(;i<s;i+=r)n.push(t[Math.floor(i)]);return n}function Mte(t,e,n){const r=t.ticks.length,s=Math.min(e,r-1),i=t._startPixel,a=t._endPixel,l=1e-6;let c=t.getPixelForTick(s),u;if(!(n&&(r===1?u=Math.max(c-i,a-c):e===0?u=(t.getPixelForTick(1)-c)/2:u=(c-t.getPixelForTick(s-1))/2,c+=s<e?u:-u,c<i-l||c>a+l)))return c}function Rte(t,e){sr(t,n=>{const r=n.gc,s=r.length/2;let i;if(s>e){for(i=0;i<s;++i)delete n.data[r[i]];r.splice(0,s)}})}function am(t){return t.drawTicks?t.tickLength:0}function LD(t,e){if(!t.display)return 0;const n=Ws(t.font,e),r=za(t.padding);return(ws(t.text)?t.text.length:1)*n.lineHeight+r.height}function Lte(t,e){return Yd(t,{scale:e,type:"scale"})}function Fte(t,e,n){return Yd(t,{tick:n,index:e,type:"tick"})}function Bte(t,e,n){let r=Uk(t);return(n&&e!=="right"||!n&&e==="right")&&(r=Ote(r)),r}function $te(t,e,n,r){const{top:s,left:i,bottom:a,right:l,chart:c}=t,{chartArea:u,scales:h}=c;let f=0,m,g,b;const y=a-s,x=l-i;if(t.isHorizontal()){if(g=Us(r,i,l),$n(n)){const w=Object.keys(n)[0],C=n[w];b=h[w].getPixelForValue(C)+y-e}else n==="center"?b=(u.bottom+u.top)/2+y-e:b=OD(t,n,e);m=l-i}else{if($n(n)){const w=Object.keys(n)[0],C=n[w];g=h[w].getPixelForValue(C)-x+e}else n==="center"?g=(u.left+u.right)/2-x+e:g=OD(t,n,e);b=Us(r,a,s),f=n==="left"?-fs:fs}return{titleX:g,titleY:b,maxWidth:m,rotation:f}}class rp extends vu{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:s}=this;return e=$o(e,Number.POSITIVE_INFINITY),n=$o(n,Number.NEGATIVE_INFINITY),r=$o(r,Number.POSITIVE_INFINITY),s=$o(s,Number.NEGATIVE_INFINITY),{min:$o(e,r),max:$o(n,s),minDefined:$a(e),maxDefined:$a(n)}}getMinMax(e){let{min:n,max:r,minDefined:s,maxDefined:i}=this.getUserBounds(),a;if(s&&i)return{min:n,max:r};const l=this.getMatchingVisibleMetas();for(let c=0,u=l.length;c<u;++c)a=l[c].controller.getMinMax(this,e),s||(n=Math.min(n,a.min)),i||(r=Math.max(r,a.max));return n=i&&n>r?r:n,r=s&&n>r?n:r,{min:$o(n,$o(r,n)),max:$o(r,$o(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){xr(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:s,grace:i,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=see(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?RD(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=jte(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){xr(this.options.afterUpdate,[this])}beforeSetDimensions(){xr(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){xr(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),xr(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){xr(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,s,i;for(r=0,s=e.length;r<s;r++)i=e[r],i.label=xr(n.callback,[i.value,r,e],this)}afterTickToLabelConversion(){xr(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){xr(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=MD(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,i=n.maxRotation;let a=s,l,c,u;if(!this._isVisible()||!n.display||s>=i||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const h=this._getLabelSizes(),f=h.widest.width,m=h.highest.height,g=fi(this.chart.width-f,0,this.maxWidth);l=e.offset?this.maxWidth/r:g/(r-1),f+6>l&&(l=g/(r-(e.offset?.5:1)),c=this.maxHeight-am(e.grid)-n.padding-LD(e.title,this.chart.options.font),u=Math.sqrt(f*f+m*m),a=EJ(Math.min(Math.asin(fi((h.highest.height+6)/l,-1,1)),Math.asin(fi(c/u,-1,1))-Math.asin(fi(m/u,-1,1)))),a=Math.max(s,Math.min(i,a))),this.labelRotation=a}afterCalculateLabelRotation(){xr(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){xr(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:s,grid:i}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const c=LD(s,n.options.font);if(l?(e.width=this.maxWidth,e.height=am(i)+c):(e.height=this.maxHeight,e.width=am(i)+c),r.display&&this.ticks.length){const{first:u,last:h,widest:f,highest:m}=this._getLabelSizes(),g=r.padding*2,b=Yl(this.labelRotation),y=Math.cos(b),x=Math.sin(b);if(l){const w=r.mirror?0:x*f.width+y*m.height;e.height=Math.min(this.maxHeight,e.height+w+g)}else{const w=r.mirror?0:y*f.width+x*m.height;e.width=Math.min(this.maxWidth,e.width+w+g)}this._calculatePadding(u,h,x,y)}}this._handleMargins(),l?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,s){const{ticks:{align:i,padding:a},position:l}=this.options,c=this.labelRotation!==0,u=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let m=0,g=0;c?u?(m=s*e.width,g=r*n.height):(m=r*e.height,g=s*n.width):i==="start"?g=n.width:i==="end"?m=e.width:i!=="inner"&&(m=e.width/2,g=n.width/2),this.paddingLeft=Math.max((m-h+a)*this.width/(this.width-h),0),this.paddingRight=Math.max((g-f+a)*this.width/(this.width-f),0)}else{let h=n.height/2,f=e.height/2;i==="start"?(h=0,f=e.height):i==="end"&&(h=n.height,f=0),this.paddingTop=h+a,this.paddingBottom=f+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){xr(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)mr(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=RD(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:s,_longestTextCache:i}=this,a=[],l=[],c=Math.floor(n/MD(n,r));let u=0,h=0,f,m,g,b,y,x,w,C,k,A,N;for(f=0;f<n;f+=c){if(b=e[f].label,y=this._resolveTickFontOptions(f),s.font=x=y.string,w=i[x]=i[x]||{data:{},gc:[]},C=y.lineHeight,k=A=0,!mr(b)&&!ws(b))k=fD(s,w.data,w.gc,k,b),A=C;else if(ws(b))for(m=0,g=b.length;m<g;++m)N=b[m],!mr(N)&&!ws(N)&&(k=fD(s,w.data,w.gc,k,N),A+=C);a.push(k),l.push(A),u=Math.max(k,u),h=Math.max(A,h)}Rte(i,n);const P=a.indexOf(u),M=l.indexOf(h),L=D=>({width:a[D]||0,height:l[D]||0});return{first:L(0),last:L(n-1),widest:L(P),highest:L(M),widths:a,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return NJ(this._alignToPixels?Xu(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=Fte(this.getContext(),e,r))}return this.$context||(this.$context=Lte(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Yl(this.labelRotation),r=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),i=this._getLabelSizes(),a=e.autoSkipPadding||0,l=i?i.widest.width+a:0,c=i?i.highest.height+a:0;return this.isHorizontal()?c*r>l*s?l/r:c/s:c*s<l*r?c/r:l/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,s=this.options,{grid:i,position:a,border:l}=s,c=i.offset,u=this.isHorizontal(),f=this.ticks.length+(c?1:0),m=am(i),g=[],b=l.setContext(this.getContext()),y=b.display?b.width:0,x=y/2,w=function(K){return Xu(r,K,y)};let C,k,A,N,P,M,L,D,S,z,O,U;if(a==="top")C=w(this.bottom),M=this.bottom-m,D=C-x,z=w(e.top)+x,U=e.bottom;else if(a==="bottom")C=w(this.top),z=e.top,U=w(e.bottom)-x,M=C+x,D=this.top+m;else if(a==="left")C=w(this.right),P=this.right-m,L=C-x,S=w(e.left)+x,O=e.right;else if(a==="right")C=w(this.left),S=e.left,O=w(e.right)-x,P=C+x,L=this.left+m;else if(n==="x"){if(a==="center")C=w((e.top+e.bottom)/2+.5);else if($n(a)){const K=Object.keys(a)[0],te=a[K];C=w(this.chart.scales[K].getPixelForValue(te))}z=e.top,U=e.bottom,M=C+x,D=M+m}else if(n==="y"){if(a==="center")C=w((e.left+e.right)/2);else if($n(a)){const K=Object.keys(a)[0],te=a[K];C=w(this.chart.scales[K].getPixelForValue(te))}P=C-x,L=P-m,S=e.left,O=e.right}const j=An(s.ticks.maxTicksLimit,f),V=Math.max(1,Math.ceil(f/j));for(k=0;k<f;k+=V){const K=this.getContext(k),te=i.setContext(K),J=l.setContext(K),X=te.lineWidth,Y=te.color,F=J.dash||[],H=J.dashOffset,de=te.tickWidth,ee=te.tickColor,fe=te.tickBorderDash||[],ve=te.tickBorderDashOffset;A=Mte(this,k,c),A!==void 0&&(N=Xu(r,A,X),u?P=L=S=O=N:M=D=z=U=N,g.push({tx1:P,ty1:M,tx2:L,ty2:D,x1:S,y1:z,x2:O,y2:U,width:X,color:Y,borderDash:F,borderDashOffset:H,tickWidth:de,tickColor:ee,tickBorderDash:fe,tickBorderDashOffset:ve}))}return this._ticksLength=f,this._borderValue=C,g}_computeLabelItems(e){const n=this.axis,r=this.options,{position:s,ticks:i}=r,a=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:u,padding:h,mirror:f}=i,m=am(r.grid),g=m+h,b=f?-h:g,y=-Yl(this.labelRotation),x=[];let w,C,k,A,N,P,M,L,D,S,z,O,U="middle";if(s==="top")P=this.bottom-b,M=this._getXAxisLabelAlignment();else if(s==="bottom")P=this.top+b,M=this._getXAxisLabelAlignment();else if(s==="left"){const V=this._getYAxisLabelAlignment(m);M=V.textAlign,N=V.x}else if(s==="right"){const V=this._getYAxisLabelAlignment(m);M=V.textAlign,N=V.x}else if(n==="x"){if(s==="center")P=(e.top+e.bottom)/2+g;else if($n(s)){const V=Object.keys(s)[0],K=s[V];P=this.chart.scales[V].getPixelForValue(K)+g}M=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")N=(e.left+e.right)/2-g;else if($n(s)){const V=Object.keys(s)[0],K=s[V];N=this.chart.scales[V].getPixelForValue(K)}M=this._getYAxisLabelAlignment(m).textAlign}n==="y"&&(c==="start"?U="top":c==="end"&&(U="bottom"));const j=this._getLabelSizes();for(w=0,C=l.length;w<C;++w){k=l[w],A=k.label;const V=i.setContext(this.getContext(w));L=this.getPixelForTick(w)+i.labelOffset,D=this._resolveTickFontOptions(w),S=D.lineHeight,z=ws(A)?A.length:1;const K=z/2,te=V.color,J=V.textStrokeColor,X=V.textStrokeWidth;let Y=M;a?(N=L,M==="inner"&&(w===C-1?Y=this.options.reverse?"left":"right":w===0?Y=this.options.reverse?"right":"left":Y="center"),s==="top"?u==="near"||y!==0?O=-z*S+S/2:u==="center"?O=-j.highest.height/2-K*S+S:O=-j.highest.height+S/2:u==="near"||y!==0?O=S/2:u==="center"?O=j.highest.height/2-K*S:O=j.highest.height-z*S,f&&(O*=-1),y!==0&&!V.showLabelBackdrop&&(N+=S/2*Math.sin(y))):(P=L,O=(1-z)*S/2);let F;if(V.showLabelBackdrop){const H=za(V.backdropPadding),de=j.heights[w],ee=j.widths[w];let fe=O-H.top,ve=0-H.left;switch(U){case"middle":fe-=de/2;break;case"bottom":fe-=de;break}switch(M){case"center":ve-=ee/2;break;case"right":ve-=ee;break;case"inner":w===C-1?ve-=ee:w>0&&(ve-=ee/2);break}F={left:ve,top:fe,width:ee+H.width,height:de+H.height,color:V.backdropColor}}x.push({label:A,font:D,textOffset:O,options:{rotation:y,color:te,strokeColor:J,strokeWidth:X,textAlign:Y,textBaseline:U,translation:[N,P],backdrop:F}})}return x}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Yl(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:s,padding:i}}=this.options,a=this._getLabelSizes(),l=e+i,c=a.widest.width;let u,h;return n==="left"?s?(h=this.right+i,r==="near"?u="left":r==="center"?(u="center",h+=c/2):(u="right",h+=c)):(h=this.right-l,r==="near"?u="right":r==="center"?(u="center",h-=c/2):(u="left",h=this.left)):n==="right"?s?(h=this.left+i,r==="near"?u="right":r==="center"?(u="center",h-=c/2):(u="left",h-=c)):(h=this.left+l,r==="near"?u="left":r==="center"?(u="center",h+=c/2):(u="right",h=this.right)):u="right",{textAlign:u,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:s,width:i,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,s,i,a),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(i=>i.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,a;const l=(c,u,h)=>{!h.width||!h.color||(r.save(),r.lineWidth=h.width,r.strokeStyle=h.color,r.setLineDash(h.borderDash||[]),r.lineDashOffset=h.borderDashOffset,r.beginPath(),r.moveTo(c.x,c.y),r.lineTo(u.x,u.y),r.stroke(),r.restore())};if(n.display)for(i=0,a=s.length;i<a;++i){const c=s[i];n.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:s}}=this,i=r.setContext(this.getContext()),a=r.display?i.width:0;if(!a)return;const l=s.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let u,h,f,m;this.isHorizontal()?(u=Xu(e,this.left,a)-a/2,h=Xu(e,this.right,l)+l/2,f=m=c):(f=Xu(e,this.top,a)-a/2,m=Xu(e,this.bottom,l)+l/2,u=h=c),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(u,f),n.lineTo(h,m),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&Vk(r,s);const i=this.getLabelItems(e);for(const a of i){const l=a.options,c=a.font,u=a.label,h=a.textOffset;fg(r,u,0,h,c,l)}s&&qk(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:s}}=this;if(!r.display)return;const i=Ws(r.font),a=za(r.padding),l=r.align;let c=i.lineHeight/2;n==="bottom"||n==="center"||$n(n)?(c+=a.bottom,ws(r.text)&&(c+=i.lineHeight*(r.text.length-1))):c+=a.top;const{titleX:u,titleY:h,maxWidth:f,rotation:m}=$te(this,c,n,l);fg(e,r.text,0,0,i,{color:r.color,maxWidth:f,rotation:m,textAlign:Bte(l,n,s),textBaseline:"middle",translation:[u,h]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=An(e.grid&&e.grid.z,-1),s=An(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==rp.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let i,a;for(i=0,a=n.length;i<a;++i){const l=n[i];l[r]===this.id&&(!e||l.type===e)&&s.push(l)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Ws(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class nb{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;Hte(n)&&(r=this.register(n));const s=this.items,i=e.id,a=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in s||(s[i]=e,zte(e,a,r),this.override&&Zr.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,s=this.scope;r in n&&delete n[r],s&&r in Zr[s]&&(delete Zr[s][r],this.override&&delete Pd[r])}}function zte(t,e,n){const r=lg(Object.create(null),[n?Zr.get(n):{},Zr.get(e),t.defaults]);Zr.set(e,r),t.defaultRoutes&&Ute(e,t.defaultRoutes),t.descriptors&&Zr.describe(e,t.descriptors)}function Ute(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),s=r.pop(),i=[t].concat(r).join("."),a=e[n].split("."),l=a.pop(),c=a.join(".");Zr.route(i,s,c,l)})}function Hte(t){return"id"in t&&"defaults"in t}class Wte{constructor(){this.controllers=new nb(of,"datasets",!0),this.elements=new nb(vu,"elements"),this.plugins=new nb(Object,"plugins"),this.scales=new nb(rp,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(s=>{const i=r||this._getRegistryForType(s);r||i.isForType(s)||i===this.plugins&&s.id?this._exec(e,i,s):sr(s,a=>{const l=r||this._getRegistryForType(a);this._exec(e,l,a)})})}_exec(e,n,r){const s=$k(e);xr(r["before"+s],[],r),n[e](r),xr(r["after"+s],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return s}}var Wo=new Wte;class Vte{constructor(){this._init=[]}notify(e,n,r,s){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=s?this._descriptors(e).filter(s):this._descriptors(e),a=this._notify(i,e,n,r);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,n,r,s){s=s||{};for(const i of e){const a=i.plugin,l=a[r],c=[n,s,i.options];if(xr(l,c,a)===!1&&s.cancelable)return!1}return!0}invalidate(){mr(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,s=An(r.options&&r.options.plugins,{}),i=qte(r);return s===!1&&!n?[]:Gte(e,i,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,s=(i,a)=>i.filter(l=>!a.some(c=>l.plugin.id===c.plugin.id));this._notify(s(n,r),e,"stop"),this._notify(s(r,n),e,"start")}}function qte(t){const e={},n=[],r=Object.keys(Wo.plugins.items);for(let i=0;i<r.length;i++)n.push(Wo.getPlugin(r[i]));const s=t.plugins||[];for(let i=0;i<s.length;i++){const a=s[i];n.indexOf(a)===-1&&(n.push(a),e[a.id]=!0)}return{plugins:n,localIds:e}}function Yte(t,e){return!e&&t===!1?null:t===!0?{}:t}function Gte(t,{plugins:e,localIds:n},r,s){const i=[],a=t.getContext();for(const l of e){const c=l.id,u=Yte(r[c],s);u!==null&&i.push({plugin:l,options:Kte(t.config,{plugin:l,local:n[c]},u,a)})}return i}function Kte(t,{plugin:e,local:n},r,s){const i=t.pluginScopeKeys(e),a=t.getOptionScopes(r,i);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function bC(t,e){const n=Zr.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function Xte(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function Qte(t,e){return t===e?"_index_":"_value_"}function FD(t){if(t==="x"||t==="y"||t==="r")return t}function Zte(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function xC(t,...e){if(FD(t))return t;for(const n of e){const r=n.axis||Zte(n.position)||t.length>1&&FD(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function BD(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function Jte(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return BD(t,"x",n[0])||BD(t,"y",n[0])}return{}}function ene(t,e){const n=Pd[t.type]||{scales:{}},r=e.scales||{},s=bC(t.type,e),i=Object.create(null);return Object.keys(r).forEach(a=>{const l=r[a];if(!$n(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const c=xC(a,l,Jte(a,t),Zr.scales[l.type]),u=Qte(c,s),h=n.scales||{};i[a]=Mm(Object.create(null),[{axis:c},l,h[c],h[u]])}),t.data.datasets.forEach(a=>{const l=a.type||t.type,c=a.indexAxis||bC(l,e),h=(Pd[l]||{}).scales||{};Object.keys(h).forEach(f=>{const m=Xte(f,c),g=a[m+"AxisID"]||m;i[g]=i[g]||Object.create(null),Mm(i[g],[{axis:m},r[g],h[f]])})}),Object.keys(i).forEach(a=>{const l=i[a];Mm(l,[Zr.scales[l.type],Zr.scale])}),i}function i6(t){const e=t.options||(t.options={});e.plugins=An(e.plugins,{}),e.scales=ene(t,e)}function a6(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function tne(t){return t=t||{},t.data=a6(t.data),i6(t),t}const $D=new Map,o6=new Set;function rb(t,e){let n=$D.get(t);return n||(n=e(),$D.set(t,n),o6.add(n)),n}const om=(t,e,n)=>{const r=cg(e,n);r!==void 0&&t.add(r)};let nne=class{constructor(e){this._config=tne(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=a6(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),i6(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return rb(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return rb(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return rb(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return rb(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let s=r.get(e);return(!s||n)&&(s=new Map,r.set(e,s)),s}getOptionScopes(e,n,r){const{options:s,type:i}=this,a=this._cachedScopes(e,r),l=a.get(n);if(l)return l;const c=new Set;n.forEach(h=>{e&&(c.add(e),h.forEach(f=>om(c,e,f))),h.forEach(f=>om(c,s,f)),h.forEach(f=>om(c,Pd[i]||{},f)),h.forEach(f=>om(c,Zr,f)),h.forEach(f=>om(c,mC,f))});const u=Array.from(c);return u.length===0&&u.push(Object.create(null)),o6.has(n)&&a.set(n,u),u}chartOptionScopes(){const{options:e,type:n}=this;return[e,Pd[n]||{},Zr.datasets[n]||{},{type:n},Zr,mC]}resolveNamedOptions(e,n,r,s=[""]){const i={$shared:!0},{resolver:a,subPrefixes:l}=zD(this._resolverCache,e,s);let c=a;if(sne(a,n)){i.$shared=!1,r=du(r)?r():r;const u=this.createResolver(e,r,l);c=Tf(a,r,u)}for(const u of n)i[u]=c[u];return i}createResolver(e,n,r=[""],s){const{resolver:i}=zD(this._resolverCache,e,r);return $n(n)?Tf(i,n,void 0,s):i}};function zD(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const s=n.join();let i=r.get(s);return i||(i={resolver:Gk(e,n),subPrefixes:n.filter(l=>!l.toLowerCase().includes("hover"))},r.set(s,i)),i}const rne=t=>$n(t)&&Object.getOwnPropertyNames(t).some(e=>du(t[e]));function sne(t,e){const{isScriptable:n,isIndexable:r}=WL(t);for(const s of e){const i=n(s),a=r(s),l=(a||i)&&t[s];if(i&&(du(l)||rne(l))||a&&ws(l))return!0}return!1}var ine="4.4.8";const ane=["top","bottom","left","right","chartArea"];function UD(t,e){return t==="top"||t==="bottom"||ane.indexOf(t)===-1&&e==="x"}function HD(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function WD(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),xr(n&&n.onComplete,[t],e)}function one(t){const e=t.chart,n=e.options.animation;xr(n&&n.onProgress,[t],e)}function l6(t){return Qk()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Bb={},VD=t=>{const e=l6(t);return Object.values(Bb).filter(n=>n.canvas===e).pop()};function lne(t,e,n){const r=Object.keys(t);for(const s of r){const i=+s;if(i>=e){const a=t[s];delete t[s],(n>0||i>e)&&(t[i+n]=a)}}}function cne(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}function sb(t,e,n){return t.options.clip?t[n]:e[n]}function une(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:sb(n,e,"left"),right:sb(n,e,"right"),top:sb(r,e,"top"),bottom:sb(r,e,"bottom")}:e}var Yc;let s0=(Yc=class{static register(...e){Wo.add(...e),qD()}static unregister(...e){Wo.remove(...e),qD()}constructor(e,n){const r=this.config=new nne(n),s=l6(e),i=VD(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||Ete(s)),this.platform.updateConfig(r);const l=this.platform.acquireContext(s,a.aspectRatio),c=l&&l.canvas,u=c&&c.height,h=c&&c.width;if(this.id=pJ(),this.ctx=l,this.canvas=c,this.width=h,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Vte,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=OJ(f=>this.update(f),a.resizeDelay||0),this._dataChanges=[],Bb[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Ll.listen(this,"complete",WD),Ll.listen(this,"progress",one),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:s,_aspectRatio:i}=this;return mr(e)?n&&i?i:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Wo}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():yD(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return pD(this.canvas,this.ctx),this}stop(){return Ll.stop(this),this}resize(e,n){Ll.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,s=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,e,n,i),l=r.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,yD(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),xr(r.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};sr(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,s=Object.keys(r).reduce((a,l)=>(a[l]=!1,a),{});let i=[];n&&(i=i.concat(Object.keys(n).map(a=>{const l=n[a],c=xC(a,l),u=c==="r",h=c==="x";return{options:l,dposition:u?"chartArea":h?"bottom":"left",dtype:u?"radialLinear":h?"category":"linear"}}))),sr(i,a=>{const l=a.options,c=l.id,u=xC(c,l),h=An(l.type,a.dtype);(l.position===void 0||UD(l.position,u)!==UD(a.dposition))&&(l.position=a.dposition),s[c]=!0;let f=null;if(c in r&&r[c].type===h)f=r[c];else{const m=Wo.getScale(h);f=new m({id:c,type:h,ctx:this.ctx,chart:this}),r[f.id]=f}f.init(l,e)}),sr(s,(a,l)=>{a||delete r[l]}),sr(r,a=>{Oa.configure(this,a,a.options),Oa.addBox(this,a)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((s,i)=>s.index-i.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(HD("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,s)=>{n.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const i=n[r];let a=this.getDatasetMeta(r);const l=i.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=l,a.indexAxis=i.indexAxis||bC(l,this.options),a.order=i.order||0,a.index=r,a.label=""+i.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const c=Wo.getController(l),{datasetElementType:u,dataElementType:h}=Zr.datasets[l];Object.assign(c,{dataElementType:Wo.getElement(h),datasetElementType:u&&Wo.getElement(u)}),a.controller=new c(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){sr(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,h=this.data.datasets.length;u<h;u++){const{controller:f}=this.getDatasetMeta(u),m=!s&&i.indexOf(f)===-1;f.buildOrUpdateElements(m),a=Math.max(+f.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),s||sr(i,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(HD("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){sr(this.scales,e=>{Oa.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!sD(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:i}of n){const a=r==="_removeElements"?-i:i;lne(e,s,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=i=>new Set(e.filter(a=>a[0]===i).map((a,l)=>l+","+a.splice(1).join(","))),s=r(0);for(let i=1;i<n;i++)if(!sD(s,r(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Oa.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],sr(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,du(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),s={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ll.has(this)?this.attached&&!Ll.running(this)&&Ll.start(this):(this.draw(),WD({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let s,i;for(s=0,i=n.length;s<i;++s){const a=n[s];(!e||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r=e._clip,s=!r.disabled,i=une(e,this.chartArea),a={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(s&&Vk(n,{left:r.left===!1?0:i.left-r.left,right:r.right===!1?this.width:i.right+r.right,top:r.top===!1?0:i.top-r.top,bottom:r.bottom===!1?this.height:i.bottom+r.bottom}),e.controller.draw(),s&&qk(n),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return hg(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,s){const i=ate.modes[n];return typeof i=="function"?i(this,e,r,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let s=r.filter(i=>i&&i._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=Yd(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const s=r?"show":"hide",i=this.getDatasetMeta(e),a=i.controller._resolveAnimations(void 0,s);Sx(n)?(i.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(i,{visible:r}),this.update(l=>l.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Ll.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),pD(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Bb[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(i,a)=>{n.addEventListener(this,i,a),e[i]=a},s=(i,a,l)=>{i.offsetX=a,i.offsetY=l,this._eventHandler(i)};sr(this.options.events,i=>r(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(c,u)=>{n.addEventListener(this,c,u),e[c]=u},s=(c,u)=>{e[c]&&(n.removeEventListener(this,c,u),delete e[c])},i=(c,u)=>{this.canvas&&this.resize(c,u)};let a;const l=()=>{s("attach",l),this.attached=!0,this.resize(),r("resize",i),r("detach",a)};a=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),r("attach",l)},n.isAttached(this.canvas)?l():a()}unbindEvents(){sr(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},sr(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const s=r?"set":"remove";let i,a,l,c;for(n==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){a=e[l];const u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:i,index:a})=>{const l=this.getDatasetMeta(i);if(!l)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:l.data[a],index:a}});!wx(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const s=this.options.hover,i=(c,u)=>c.filter(h=>!u.some(f=>h.datasetIndex===f.datasetIndex&&h.index===f.index)),a=i(n,e),l=r?e:i(e,n);a.length&&this.updateHoverStyle(a,s.mode,!1),l.length&&s.mode&&this.updateHoverStyle(l,s.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const i=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(i||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:s=[],options:i}=this,a=n,l=this._getActiveElements(e,s,r,a),c=vJ(e),u=cne(e,this._lastEvent,r,c);r&&(this._lastEvent=null,xr(i.onHover,[e,l,this],this),c&&xr(i.onClick,[e,l,this],this));const h=!wx(l,s);return(h||n)&&(this._active=l,this._updateHoverStyles(l,s,n)),this._lastEvent=u,h}_getActiveElements(e,n,r,s){if(e.type==="mouseout")return[];if(!r)return n;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,s)}},Ft(Yc,"defaults",Zr),Ft(Yc,"instances",Bb),Ft(Yc,"overrides",Pd),Ft(Yc,"registry",Wo),Ft(Yc,"version",ine),Ft(Yc,"getChart",VD),Yc);function qD(){return sr(s0.instances,t=>t._plugins.invalidate())}function dne(t,e,n){const{startAngle:r,pixelMargin:s,x:i,y:a,outerRadius:l,innerRadius:c}=e;let u=s/l;t.beginPath(),t.arc(i,a,l,r-u,n+u),c>s?(u=s/c,t.arc(i,a,c,n+u,r-u,!0)):t.arc(i,a,s,n+fs,r-fs),t.closePath(),t.clip()}function hne(t){return Yk(t,["outerStart","outerEnd","innerStart","innerEnd"])}function fne(t,e,n,r){const s=hne(t.options.borderRadius),i=(n-e)/2,a=Math.min(i,r*e/2),l=c=>{const u=(n-Math.min(i,c))*r/2;return fi(c,0,Math.min(i,u))};return{outerStart:l(s.outerStart),outerEnd:l(s.outerEnd),innerStart:fi(s.innerStart,0,a),innerEnd:fi(s.innerEnd,0,a)}}function Ph(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function Ex(t,e,n,r,s,i){const{x:a,y:l,startAngle:c,pixelMargin:u,innerRadius:h}=e,f=Math.max(e.outerRadius+r+n-u,0),m=h>0?h+r+n+u:0;let g=0;const b=s-c;if(r){const V=h>0?h-r:0,K=f>0?f-r:0,te=(V+K)/2,J=te!==0?b*te/(te+r):b;g=(b-J)/2}const y=Math.max(.001,b*f-n/Vr)/f,x=(b-y)/2,w=c+x+g,C=s-x-g,{outerStart:k,outerEnd:A,innerStart:N,innerEnd:P}=fne(e,m,f,C-w),M=f-k,L=f-A,D=w+k/M,S=C-A/L,z=m+N,O=m+P,U=w+N/z,j=C-P/O;if(t.beginPath(),i){const V=(D+S)/2;if(t.arc(a,l,f,D,V),t.arc(a,l,f,V,S),A>0){const X=Ph(L,S,a,l);t.arc(X.x,X.y,A,S,C+fs)}const K=Ph(O,C,a,l);if(t.lineTo(K.x,K.y),P>0){const X=Ph(O,j,a,l);t.arc(X.x,X.y,P,C+fs,j+Math.PI)}const te=(C-P/m+(w+N/m))/2;if(t.arc(a,l,m,C-P/m,te,!0),t.arc(a,l,m,te,w+N/m,!0),N>0){const X=Ph(z,U,a,l);t.arc(X.x,X.y,N,U+Math.PI,w-fs)}const J=Ph(M,w,a,l);if(t.lineTo(J.x,J.y),k>0){const X=Ph(M,D,a,l);t.arc(X.x,X.y,k,w-fs,D)}}else{t.moveTo(a,l);const V=Math.cos(D)*f+a,K=Math.sin(D)*f+l;t.lineTo(V,K);const te=Math.cos(S)*f+a,J=Math.sin(S)*f+l;t.lineTo(te,J)}t.closePath()}function pne(t,e,n,r,s){const{fullCircles:i,startAngle:a,circumference:l}=e;let c=e.endAngle;if(i){Ex(t,e,n,r,c,s);for(let u=0;u<i;++u)t.fill();isNaN(l)||(c=a+(l%Wr||Wr))}return Ex(t,e,n,r,c,s),t.fill(),c}function mne(t,e,n,r,s){const{fullCircles:i,startAngle:a,circumference:l,options:c}=e,{borderWidth:u,borderJoinStyle:h,borderDash:f,borderDashOffset:m}=c,g=c.borderAlign==="inner";if(!u)return;t.setLineDash(f||[]),t.lineDashOffset=m,g?(t.lineWidth=u*2,t.lineJoin=h||"round"):(t.lineWidth=u,t.lineJoin=h||"bevel");let b=e.endAngle;if(i){Ex(t,e,n,r,b,s);for(let y=0;y<i;++y)t.stroke();isNaN(l)||(b=a+(l%Wr||Wr))}g&&dne(t,e,b),i||(Ex(t,e,n,r,b,s),t.stroke())}class Yh extends vu{constructor(n){super();Ft(this,"circumference");Ft(this,"endAngle");Ft(this,"fullCircles");Ft(this,"innerRadius");Ft(this,"outerRadius");Ft(this,"pixelMargin");Ft(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,s){const i=this.getProps(["x","y"],s),{angle:a,distance:l}=FL(i,{x:n,y:r}),{startAngle:c,endAngle:u,innerRadius:h,outerRadius:f,circumference:m}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),g=(this.options.spacing+this.options.borderWidth)/2,b=An(m,u-c),y=dg(a,c,u)&&c!==u,x=b>=Wr||y,w=qh(l,h+g,f+g);return x&&w}getCenterPoint(n){const{x:r,y:s,startAngle:i,endAngle:a,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:u,spacing:h}=this.options,f=(i+a)/2,m=(l+c+h+u)/2;return{x:r+Math.cos(f)*m,y:s+Math.sin(f)*m}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:s}=this,i=(r.offset||0)/4,a=(r.spacing||0)/2,l=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=s>Wr?Math.floor(s/Wr):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const c=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(c)*i,Math.sin(c)*i);const u=1-Math.sin(Math.min(Vr,s||0)),h=i*u;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,pne(n,this,h,a,l),mne(n,this,h,a,l),n.restore()}}Ft(Yh,"id","arc"),Ft(Yh,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Ft(Yh,"defaultRoutes",{backgroundColor:"backgroundColor"}),Ft(Yh,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function c6(t,e,n=e){t.lineCap=An(n.borderCapStyle,e.borderCapStyle),t.setLineDash(An(n.borderDash,e.borderDash)),t.lineDashOffset=An(n.borderDashOffset,e.borderDashOffset),t.lineJoin=An(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=An(n.borderWidth,e.borderWidth),t.strokeStyle=An(n.borderColor,e.borderColor)}function gne(t,e,n){t.lineTo(n.x,n.y)}function yne(t){return t.stepped?GJ:t.tension||t.cubicInterpolationMode==="monotone"?KJ:gne}function u6(t,e,n={}){const r=t.length,{start:s=0,end:i=r-1}=n,{start:a,end:l}=e,c=Math.max(s,a),u=Math.min(i,l),h=s<a&&i<a||s>l&&i>l;return{count:r,start:c,loop:e.loop,ilen:u<c&&!h?r+u-c:u-c}}function bne(t,e,n,r){const{points:s,options:i}=e,{count:a,start:l,loop:c,ilen:u}=u6(s,n,r),h=yne(i);let{move:f=!0,reverse:m}=r||{},g,b,y;for(g=0;g<=u;++g)b=s[(l+(m?u-g:g))%a],!b.skip&&(f?(t.moveTo(b.x,b.y),f=!1):h(t,y,b,m,i.stepped),y=b);return c&&(b=s[(l+(m?u:0))%a],h(t,y,b,m,i.stepped)),!!c}function xne(t,e,n,r){const s=e.points,{count:i,start:a,ilen:l}=u6(s,n,r),{move:c=!0,reverse:u}=r||{};let h=0,f=0,m,g,b,y,x,w;const C=A=>(a+(u?l-A:A))%i,k=()=>{y!==x&&(t.lineTo(h,x),t.lineTo(h,y),t.lineTo(h,w))};for(c&&(g=s[C(0)],t.moveTo(g.x,g.y)),m=0;m<=l;++m){if(g=s[C(m)],g.skip)continue;const A=g.x,N=g.y,P=A|0;P===b?(N<y?y=N:N>x&&(x=N),h=(f*h+A)/++f):(k(),t.lineTo(A,N),b=P,f=0,y=x=N),w=N}k()}function vC(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?xne:bne}function vne(t){return t.stepped?jee:t.tension||t.cubicInterpolationMode==="monotone"?Nee:rd}function wne(t,e,n,r){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,r)&&s.closePath()),c6(t,e.options),t.stroke(s)}function _ne(t,e,n,r){const{segments:s,options:i}=e,a=vC(e);for(const l of s)c6(t,i,l.style),t.beginPath(),a(t,e,l,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const Sne=typeof Path2D=="function";function Cne(t,e,n,r){Sne&&!e.options.segment?wne(t,e,n,r):_ne(t,e,n,r)}class Gh extends vu{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const s=r.spanGaps?this._loop:this._fullLoop;vee(this._points,r,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Lee(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,s=e[n],i=this.points,a=Oee(this,{property:n,start:s,end:s});if(!a.length)return;const l=[],c=vne(r);let u,h;for(u=0,h=a.length;u<h;++u){const{start:f,end:m}=a[u],g=i[f],b=i[m];if(g===b){l.push(g);continue}const y=Math.abs((s-g[n])/(b[n]-g[n])),x=c(g,b,y,r.stepped);x[n]=e[n],l.push(x)}return l.length===1?l[0]:l}pathSegment(e,n,r){return vC(this)(e,this,n,r)}path(e,n,r){const s=this.segments,i=vC(this);let a=this._loop;n=n||0,r=r||this.points.length-n;for(const l of s)a&=i(e,this,l,{start:n,end:n+r-1});return!!a}draw(e,n,r,s){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),Cne(e,this,r,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Ft(Gh,"id","line"),Ft(Gh,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Ft(Gh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Ft(Gh,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function YD(t,e,n,r){const s=t.options,{[n]:i}=t.getProps([n],r);return Math.abs(e-i)<s.radius+s.hitRadius}class $m extends vu{constructor(n){super();Ft(this,"parsed");Ft(this,"skip");Ft(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,s){const i=this.options,{x:a,y:l}=this.getProps(["x","y"],s);return Math.pow(n-a,2)+Math.pow(r-l,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(n,r){return YD(this,n,"x",r)}inYRange(n,r){return YD(this,n,"y",r)}getCenterPoint(n){const{x:r,y:s}=this.getProps(["x","y"],n);return{x:r,y:s}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const s=r&&n.borderWidth||0;return(r+s)*2}draw(n,r){const s=this.options;this.skip||s.radius<.1||!hg(this,r,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,gC(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Ft($m,"id","point"),Ft($m,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Ft($m,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const GD=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},Tne=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class KD extends vu{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=xr(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,s)=>e.sort(r,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,s=Ws(r.font),i=s.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=GD(r,i);let u,h;n.font=s.string,this.isHorizontal()?(u=this.maxWidth,h=this._fitRows(a,i,l,c)+10):(h=this.maxHeight,u=this._fitCols(a,s,l,c)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(h,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,s){const{ctx:i,maxWidth:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.lineWidths=[0],h=s+l;let f=e;i.textAlign="left",i.textBaseline="middle";let m=-1,g=-h;return this.legendItems.forEach((b,y)=>{const x=r+n/2+i.measureText(b.text).width;(y===0||u[u.length-1]+x+2*l>a)&&(f+=h,u[u.length-(y>0?0:1)]=0,g+=h,m++),c[y]={left:0,top:g,row:m,width:x,height:s},u[u.length-1]+=x+l}),f}_fitCols(e,n,r,s){const{ctx:i,maxHeight:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.columnSizes=[],h=a-e;let f=l,m=0,g=0,b=0,y=0;return this.legendItems.forEach((x,w)=>{const{itemWidth:C,itemHeight:k}=kne(r,n,i,x,s);w>0&&g+k+2*l>h&&(f+=m+l,u.push({width:m,height:g}),b+=m+l,y++,m=g=0),c[w]={left:b,top:g,col:y,width:C,height:k},m=Math.max(m,C),g+=k+l}),f+=m,u.push({width:m,height:g}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:s},rtl:i}}=this,a=af(i,this.left,this.width);if(this.isHorizontal()){let l=0,c=Us(r,this.left+s,this.right-this.lineWidths[l]);for(const u of n)l!==u.row&&(l=u.row,c=Us(r,this.left+s,this.right-this.lineWidths[l])),u.top+=this.top+e+s,u.left=a.leftForLtr(a.x(c),u.width),c+=u.width+s}else{let l=0,c=Us(r,this.top+e+s,this.bottom-this.columnSizes[l].height);for(const u of n)u.col!==l&&(l=u.col,c=Us(r,this.top+e+s,this.bottom-this.columnSizes[l].height)),u.top=c,u.left+=this.left+s,u.left=a.leftForLtr(a.x(u.left),u.width),c+=u.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Vk(e,this),this._draw(),qk(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:s}=this,{align:i,labels:a}=e,l=Zr.color,c=af(e.rtl,this.left,this.width),u=Ws(a.font),{padding:h}=a,f=u.size,m=f/2;let g;this.drawTitle(),s.textAlign=c.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=u.string;const{boxWidth:b,boxHeight:y,itemHeight:x}=GD(a,f),w=function(P,M,L){if(isNaN(b)||b<=0||isNaN(y)||y<0)return;s.save();const D=An(L.lineWidth,1);if(s.fillStyle=An(L.fillStyle,l),s.lineCap=An(L.lineCap,"butt"),s.lineDashOffset=An(L.lineDashOffset,0),s.lineJoin=An(L.lineJoin,"miter"),s.lineWidth=D,s.strokeStyle=An(L.strokeStyle,l),s.setLineDash(An(L.lineDash,[])),a.usePointStyle){const S={radius:y*Math.SQRT2/2,pointStyle:L.pointStyle,rotation:L.rotation,borderWidth:D},z=c.xPlus(P,b/2),O=M+m;HL(s,S,z,O,a.pointStyleWidth&&b)}else{const S=M+Math.max((f-y)/2,0),z=c.leftForLtr(P,b),O=Bm(L.borderRadius);s.beginPath(),Object.values(O).some(U=>U!==0)?yC(s,{x:z,y:S,w:b,h:y,radius:O}):s.rect(z,S,b,y),s.fill(),D!==0&&s.stroke()}s.restore()},C=function(P,M,L){fg(s,L.text,P,M+x/2,u,{strikethrough:L.hidden,textAlign:c.textAlign(L.textAlign)})},k=this.isHorizontal(),A=this._computeTitleHeight();k?g={x:Us(i,this.left+h,this.right-r[0]),y:this.top+h+A,line:0}:g={x:this.left+h,y:Us(i,this.top+A+h,this.bottom-n[0].height),line:0},KL(this.ctx,e.textDirection);const N=x+h;this.legendItems.forEach((P,M)=>{s.strokeStyle=P.fontColor,s.fillStyle=P.fontColor;const L=s.measureText(P.text).width,D=c.textAlign(P.textAlign||(P.textAlign=a.textAlign)),S=b+m+L;let z=g.x,O=g.y;c.setWidth(this.width),k?M>0&&z+S+h>this.right&&(O=g.y+=N,g.line++,z=g.x=Us(i,this.left+h,this.right-r[g.line])):M>0&&O+N>this.bottom&&(z=g.x=z+n[g.line].width+h,g.line++,O=g.y=Us(i,this.top+A+h,this.bottom-n[g.line].height));const U=c.x(z);if(w(U,O,P),z=MJ(D,z+b+m,k?z+S:this.right,e.rtl),C(c.x(z),O,P),k)g.x+=S+h;else if(typeof P.text!="string"){const j=u.lineHeight;g.y+=d6(P,j)+h}else g.y+=N}),XL(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=Ws(n.font),s=za(n.padding);if(!n.display)return;const i=af(e.rtl,this.left,this.width),a=this.ctx,l=n.position,c=r.size/2,u=s.top+c;let h,f=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),h=this.top+u,f=Us(e.align,f,this.right-m);else{const b=this.columnSizes.reduce((y,x)=>Math.max(y,x.height),0);h=u+Us(e.align,this.top,this.bottom-b-e.labels.padding-this._computeTitleHeight())}const g=Us(l,f,f+m);a.textAlign=i.textAlign(Uk(l)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=r.string,fg(a,n.text,g,h,r)}_computeTitleHeight(){const e=this.options.title,n=Ws(e.font),r=za(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,s,i;if(qh(e,this.left,this.right)&&qh(n,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(s=i[r],qh(e,s.left,s.left+s.width)&&qh(n,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!Nne(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,i=Tne(s,r);s&&!i&&xr(n.onLeave,[e,s,this],this),this._hoveredItem=r,r&&!i&&xr(n.onHover,[e,r,this],this)}else r&&xr(n.onClick,[e,r,this],this)}}function kne(t,e,n,r,s){const i=Ene(r,t,e,n),a=jne(s,r,e.lineHeight);return{itemWidth:i,itemHeight:a}}function Ene(t,e,n,r){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((i,a)=>i.length>a.length?i:a)),e+n.size/2+r.measureText(s).width}function jne(t,e,n){let r=t;return typeof e.text!="string"&&(r=d6(e,n)),r}function d6(t,e){const n=t.text?t.text.length:0;return e*n}function Nne(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var h6={id:"legend",_element:KD,start(t,e,n){const r=t.legend=new KD({ctx:t.ctx,options:n,chart:t});Oa.configure(t,r,n),Oa.addBox(t,r)},stop(t){Oa.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;Oa.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),e.hidden=!0):(s.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:i,useBorderRadius:a,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const u=c.controller.getStyle(n?0:void 0),h=za(u.borderWidth);return{text:e[c.index].label,fillStyle:u.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:u.borderColor,pointStyle:r||u.pointStyle,rotation:u.rotation,textAlign:s||u.textAlign,borderRadius:a&&(l||u.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class f6 extends vu{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=ws(r.text)?r.text.length:1;this._padding=za(r.padding);const i=s*Ws(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:s,right:i,options:a}=this,l=a.align;let c=0,u,h,f;return this.isHorizontal()?(h=Us(l,r,i),f=n+e,u=i-r):(a.position==="left"?(h=r+e,f=Us(l,s,n),c=Vr*-.5):(h=i-e,f=Us(l,n,s),c=Vr*.5),u=s-n),{titleX:h,titleY:f,maxWidth:u,rotation:c}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=Ws(n.font),i=r.lineHeight/2+this._padding.top,{titleX:a,titleY:l,maxWidth:c,rotation:u}=this._drawArgs(i);fg(e,n.text,0,0,r,{color:n.color,maxWidth:c,rotation:u,textAlign:Uk(n.align),textBaseline:"middle",translation:[a,l]})}}function Ane(t,e){const n=new f6({ctx:t.ctx,options:e,chart:t});Oa.configure(t,n,e),Oa.addBox(t,n),t.titleBlock=n}var p6={id:"title",_element:f6,start(t,e,n){Ane(t,n)},stop(t){const e=t.titleBlock;Oa.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;Oa.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const km={average(t){if(!t.length)return!1;let e,n,r=new Set,s=0,i=0;for(e=0,n=t.length;e<n;++e){const l=t[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();r.add(c.x),s+=c.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((l,c)=>l+c)/r.size,y:s/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,s=Number.POSITIVE_INFINITY,i,a,l;for(i=0,a=t.length;i<a;++i){const c=t[i].element;if(c&&c.hasValue()){const u=c.getCenterPoint(),h=pC(e,u);h<s&&(s=h,l=c)}}if(l){const c=l.tooltipPosition();n=c.x,r=c.y}return{x:n,y:r}}};function Ho(t,e){return e&&(ws(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Fl(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function Dne(t,e){const{element:n,datasetIndex:r,index:s}=e,i=t.getDatasetMeta(r).controller,{label:a,value:l}=i.getLabelAndValue(s);return{chart:t,label:a,parsed:i.getParsed(s),raw:t.data.datasets[r].data[s],formattedValue:l,dataset:i.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function XD(t,e){const n=t.chart.ctx,{body:r,footer:s,title:i}=t,{boxWidth:a,boxHeight:l}=e,c=Ws(e.bodyFont),u=Ws(e.titleFont),h=Ws(e.footerFont),f=i.length,m=s.length,g=r.length,b=za(e.padding);let y=b.height,x=0,w=r.reduce((A,N)=>A+N.before.length+N.lines.length+N.after.length,0);if(w+=t.beforeBody.length+t.afterBody.length,f&&(y+=f*u.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),w){const A=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;y+=g*A+(w-g)*c.lineHeight+(w-1)*e.bodySpacing}m&&(y+=e.footerMarginTop+m*h.lineHeight+(m-1)*e.footerSpacing);let C=0;const k=function(A){x=Math.max(x,n.measureText(A).width+C)};return n.save(),n.font=u.string,sr(t.title,k),n.font=c.string,sr(t.beforeBody.concat(t.afterBody),k),C=e.displayColors?a+2+e.boxPadding:0,sr(r,A=>{sr(A.before,k),sr(A.lines,k),sr(A.after,k)}),C=0,n.font=h.string,sr(t.footer,k),n.restore(),x+=b.width,{width:x,height:y}}function Pne(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function Ine(t,e,n,r){const{x:s,width:i}=r,a=n.caretSize+n.caretPadding;if(t==="left"&&s+i+a>e.width||t==="right"&&s-i-a<0)return!0}function One(t,e,n,r){const{x:s,width:i}=n,{width:a,chartArea:{left:l,right:c}}=t;let u="center";return r==="center"?u=s<=(l+c)/2?"left":"right":s<=i/2?u="left":s>=a-i/2&&(u="right"),Ine(u,t,e,n)&&(u="center"),u}function QD(t,e,n){const r=n.yAlign||e.yAlign||Pne(t,n);return{xAlign:n.xAlign||e.xAlign||One(t,e,n,r),yAlign:r}}function Mne(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function Rne(t,e,n){let{y:r,height:s}=t;return e==="top"?r+=n:e==="bottom"?r-=s+n:r-=s/2,r}function ZD(t,e,n,r){const{caretSize:s,caretPadding:i,cornerRadius:a}=t,{xAlign:l,yAlign:c}=n,u=s+i,{topLeft:h,topRight:f,bottomLeft:m,bottomRight:g}=Bm(a);let b=Mne(e,l);const y=Rne(e,c,u);return c==="center"?l==="left"?b+=u:l==="right"&&(b-=u):l==="left"?b-=Math.max(h,m)+s:l==="right"&&(b+=Math.max(f,g)+s),{x:fi(b,0,r.width-e.width),y:fi(y,0,r.height-e.height)}}function ib(t,e,n){const r=za(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function JD(t){return Ho([],Fl(t))}function Lne(t,e,n){return Yd(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function e5(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const m6={beforeTitle:Il,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Il,beforeBody:Il,beforeLabel:Il,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return mr(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Il,afterBody:Il,beforeFooter:Il,footer:Il,afterFooter:Il};function Ei(t,e,n,r){const s=t[e].call(n,r);return typeof s>"u"?m6[e].call(n,r):s}class wC extends vu{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,i=new ZL(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=Lne(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,s=Ei(r,"beforeTitle",this,e),i=Ei(r,"title",this,e),a=Ei(r,"afterTitle",this,e);let l=[];return l=Ho(l,Fl(s)),l=Ho(l,Fl(i)),l=Ho(l,Fl(a)),l}getBeforeBody(e,n){return JD(Ei(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,s=[];return sr(e,i=>{const a={before:[],lines:[],after:[]},l=e5(r,i);Ho(a.before,Fl(Ei(l,"beforeLabel",this,i))),Ho(a.lines,Ei(l,"label",this,i)),Ho(a.after,Fl(Ei(l,"afterLabel",this,i))),s.push(a)}),s}getAfterBody(e,n){return JD(Ei(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,s=Ei(r,"beforeFooter",this,e),i=Ei(r,"footer",this,e),a=Ei(r,"afterFooter",this,e);let l=[];return l=Ho(l,Fl(s)),l=Ho(l,Fl(i)),l=Ho(l,Fl(a)),l}_createItems(e){const n=this._active,r=this.chart.data,s=[],i=[],a=[];let l=[],c,u;for(c=0,u=n.length;c<u;++c)l.push(Dne(this.chart,n[c]));return e.filter&&(l=l.filter((h,f,m)=>e.filter(h,f,m,r))),e.itemSort&&(l=l.sort((h,f)=>e.itemSort(h,f,r))),sr(l,h=>{const f=e5(e.callbacks,h);s.push(Ei(f,"labelColor",this,h)),i.push(Ei(f,"labelPointStyle",this,h)),a.push(Ei(f,"labelTextColor",this,h))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=a,this.dataPoints=l,l}update(e,n){const r=this.options.setContext(this.getContext()),s=this._active;let i,a=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const l=km[r.position].call(this,s,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const c=this._size=XD(this,r),u=Object.assign({},l,c),h=QD(this.chart,r,u),f=ZD(r,u,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,i={opacity:1,x:f.x,y:f.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,s){const i=this.getCaretPosition(e,r,s);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(e,n,r){const{xAlign:s,yAlign:i}=this,{caretSize:a,cornerRadius:l}=r,{topLeft:c,topRight:u,bottomLeft:h,bottomRight:f}=Bm(l),{x:m,y:g}=e,{width:b,height:y}=n;let x,w,C,k,A,N;return i==="center"?(A=g+y/2,s==="left"?(x=m,w=x-a,k=A+a,N=A-a):(x=m+b,w=x+a,k=A-a,N=A+a),C=x):(s==="left"?w=m+Math.max(c,h)+a:s==="right"?w=m+b-Math.max(u,f)-a:w=this.caretX,i==="top"?(k=g,A=k-a,x=w-a,C=w+a):(k=g+y,A=k+a,x=w+a,C=w-a),N=k),{x1:x,x2:w,x3:C,y1:k,y2:A,y3:N}}drawTitle(e,n,r){const s=this.title,i=s.length;let a,l,c;if(i){const u=af(r.rtl,this.x,this.width);for(e.x=ib(this,r.titleAlign,r),n.textAlign=u.textAlign(r.titleAlign),n.textBaseline="middle",a=Ws(r.titleFont),l=r.titleSpacing,n.fillStyle=r.titleColor,n.font=a.string,c=0;c<i;++c)n.fillText(s[c],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,c+1===i&&(e.y+=r.titleMarginBottom-l)}}_drawColorBox(e,n,r,s,i){const a=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:c,boxWidth:u}=i,h=Ws(i.bodyFont),f=ib(this,"left",i),m=s.x(f),g=c<h.lineHeight?(h.lineHeight-c)/2:0,b=n.y+g;if(i.usePointStyle){const y={radius:Math.min(u,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},x=s.leftForLtr(m,u)+u/2,w=b+c/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,gC(e,y,x,w),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,gC(e,y,x,w)}else{e.lineWidth=$n(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const y=s.leftForLtr(m,u),x=s.leftForLtr(s.xPlus(m,1),u-2),w=Bm(a.borderRadius);Object.values(w).some(C=>C!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,yC(e,{x:y,y:b,w:u,h:c,radius:w}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),yC(e,{x,y:b+1,w:u-2,h:c-2,radius:w}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(y,b,u,c),e.strokeRect(y,b,u,c),e.fillStyle=a.backgroundColor,e.fillRect(x,b+1,u-2,c-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:s}=this,{bodySpacing:i,bodyAlign:a,displayColors:l,boxHeight:c,boxWidth:u,boxPadding:h}=r,f=Ws(r.bodyFont);let m=f.lineHeight,g=0;const b=af(r.rtl,this.x,this.width),y=function(L){n.fillText(L,b.x(e.x+g),e.y+m/2),e.y+=m+i},x=b.textAlign(a);let w,C,k,A,N,P,M;for(n.textAlign=a,n.textBaseline="middle",n.font=f.string,e.x=ib(this,x,r),n.fillStyle=r.bodyColor,sr(this.beforeBody,y),g=l&&x!=="right"?a==="center"?u/2+h:u+2+h:0,A=0,P=s.length;A<P;++A){for(w=s[A],C=this.labelTextColors[A],n.fillStyle=C,sr(w.before,y),k=w.lines,l&&k.length&&(this._drawColorBox(n,e,A,b,r),m=Math.max(f.lineHeight,c)),N=0,M=k.length;N<M;++N)y(k[N]),m=f.lineHeight;sr(w.after,y)}g=0,m=f.lineHeight,sr(this.afterBody,y),e.y-=i}drawFooter(e,n,r){const s=this.footer,i=s.length;let a,l;if(i){const c=af(r.rtl,this.x,this.width);for(e.x=ib(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=c.textAlign(r.footerAlign),n.textBaseline="middle",a=Ws(r.footerFont),n.fillStyle=r.footerColor,n.font=a.string,l=0;l<i;++l)n.fillText(s[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,n,r,s){const{xAlign:i,yAlign:a}=this,{x:l,y:c}=e,{width:u,height:h}=r,{topLeft:f,topRight:m,bottomLeft:g,bottomRight:b}=Bm(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(l+f,c),a==="top"&&this.drawCaret(e,n,r,s),n.lineTo(l+u-m,c),n.quadraticCurveTo(l+u,c,l+u,c+m),a==="center"&&i==="right"&&this.drawCaret(e,n,r,s),n.lineTo(l+u,c+h-b),n.quadraticCurveTo(l+u,c+h,l+u-b,c+h),a==="bottom"&&this.drawCaret(e,n,r,s),n.lineTo(l+g,c+h),n.quadraticCurveTo(l,c+h,l,c+h-g),a==="center"&&i==="left"&&this.drawCaret(e,n,r,s),n.lineTo(l,c+f),n.quadraticCurveTo(l,c,l+f,c),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,s=r&&r.x,i=r&&r.y;if(s||i){const a=km[e.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=XD(this,e),c=Object.assign({},a,this._size),u=QD(n,e,c),h=ZD(e,c,u,n);(s._to!==h.x||i._to!==h.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=za(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(e.save(),e.globalAlpha=r,this.drawBackground(i,e,s,n),KL(e,n.textDirection),i.y+=a.top,this.drawTitle(i,e,n),this.drawBody(i,e,n),this.drawFooter(i,e,n),XL(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,s=e.map(({datasetIndex:l,index:c})=>{const u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[c],index:c}}),i=!wx(r,s),a=this._positionChanged(s,n);(i||a)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],a=this._getActiveElements(e,i,n,r),l=this._positionChanged(a,e),c=n||!wx(a,i)||l;return c&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),c}_getActiveElements(e,n,r,s){const i=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,i.mode,i,r);return i.reverse&&a.reverse(),a}_positionChanged(e,n){const{caretX:r,caretY:s,options:i}=this,a=km[i.position].call(this,e,n);return a!==!1&&(r!==a.x||s!==a.y)}}Ft(wC,"positioners",km);var g6={id:"tooltip",_element:wC,positioners:km,afterInit(t,e,n){n&&(t.tooltip=new wC({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:m6},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Fne=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function Bne(t,e,n,r){const s=t.indexOf(e);if(s===-1)return Fne(t,e,n,r);const i=t.lastIndexOf(e);return s!==i?n:s}const $ne=(t,e)=>t===null?null:fi(Math.round(t),0,e);function t5(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class jx extends rp{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:s,label:i}of n)r[s]===i&&r.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(mr(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:Bne(r,e,An(n,e),this._addedLabels),$ne(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,s=[];let i=this.getLabels();i=e===0&&n===i.length-1?i:i.slice(e,n+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=n;a++)s.push({value:a});return s}getLabelForValue(e){return t5.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Ft(jx,"id","category"),Ft(jx,"defaults",{ticks:{callback:t5}});function zne(t,e){const n=[],{bounds:s,step:i,min:a,max:l,precision:c,count:u,maxTicks:h,maxDigits:f,includeBounds:m}=t,g=i||1,b=h-1,{min:y,max:x}=e,w=!mr(a),C=!mr(l),k=!mr(u),A=(x-y)/(f+1);let N=aD((x-y)/b/g)*g,P,M,L,D;if(N<1e-14&&!w&&!C)return[{value:y},{value:x}];D=Math.ceil(x/N)-Math.floor(y/N),D>b&&(N=aD(D*N/b/g)*g),mr(c)||(P=Math.pow(10,c),N=Math.ceil(N*P)/P),s==="ticks"?(M=Math.floor(y/N)*N,L=Math.ceil(x/N)*N):(M=y,L=x),w&&C&&i&&TJ((l-a)/i,N/1e3)?(D=Math.round(Math.min((l-a)/N,h)),N=(l-a)/D,M=a,L=l):k?(M=w?a:M,L=C?l:L,D=u-1,N=(L-M)/D):(D=(L-M)/N,Rm(D,Math.round(D),N/1e3)?D=Math.round(D):D=Math.ceil(D));const S=Math.max(oD(N),oD(M));P=Math.pow(10,mr(c)?S:c),M=Math.round(M*P)/P,L=Math.round(L*P)/P;let z=0;for(w&&(m&&M!==a?(n.push({value:a}),M<a&&z++,Rm(Math.round((M+z*N)*P)/P,a,n5(a,A,t))&&z++):M<a&&z++);z<D;++z){const O=Math.round((M+z*N)*P)/P;if(C&&O>l)break;n.push({value:O})}return C&&m&&L!==l?n.length&&Rm(n[n.length-1].value,l,n5(l,A,t))?n[n.length-1].value=l:n.push({value:l}):(!C||L===l)&&n.push({value:L}),n}function n5(t,e,{horizontal:n,minRotation:r}){const s=Yl(r),i=(n?Math.sin(s):Math.cos(s))||.001,a=.75*e*(""+t).length;return Math.min(e/i,a)}class Une extends rp{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return mr(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:s,max:i}=this;const a=c=>s=n?s:c,l=c=>i=r?i:c;if(e){const c=Cf(s),u=Cf(i);c<0&&u<0?l(0):c>0&&u>0&&a(0)}if(s===i){let c=i===0?1:Math.abs(i*.05);l(i+c),e||a(s-c)}this.min=s,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,s;return r?(s=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,a=zne(s,i);return e.bounds==="ticks"&&kJ(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const s=(r-n)/Math.max(e.length-1,1)/2;n-=s,r+=s}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return Wk(e,this.chart.options.locale,this.options.ticks.format)}}class Nx extends Une{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=$a(e)?e:0,this.max=$a(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=Yl(this.options.ticks.minRotation),s=(e?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Ft(Nx,"id","linear"),Ft(Nx,"defaults",{ticks:{callback:UL.formatters.numeric}});const e1={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Di=Object.keys(e1);function r5(t,e){return t-e}function s5(t,e){if(mr(e))return null;const n=t._adapter,{parser:r,round:s,isoWeekday:i}=t._parseOpts;let a=e;return typeof r=="function"&&(a=r(a)),$a(a)||(a=typeof r=="string"?n.parse(a,r):n.parse(a)),a===null?null:(s&&(a=s==="week"&&(ug(i)||i===!0)?n.startOf(a,"isoWeek",i):n.startOf(a,s)),+a)}function i5(t,e,n,r){const s=Di.length;for(let i=Di.indexOf(t);i<s-1;++i){const a=e1[Di[i]],l=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(l*a.size))<=r)return Di[i]}return Di[s-1]}function Hne(t,e,n,r,s){for(let i=Di.length-1;i>=Di.indexOf(n);i--){const a=Di[i];if(e1[a].common&&t._adapter.diff(s,r,a)>=e-1)return a}return Di[n?Di.indexOf(n):0]}function Wne(t){for(let e=Di.indexOf(t)+1,n=Di.length;e<n;++e)if(e1[Di[e]].common)return Di[e]}function a5(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:s}=zk(n,e),i=n[r]>=e?n[r]:n[s];t[i]=!0}}function Vne(t,e,n,r){const s=t._adapter,i=+s.startOf(e[0].value,r),a=e[e.length-1].value;let l,c;for(l=i;l<=a;l=+s.add(l,1,r))c=n[l],c>=0&&(e[c].major=!0);return e}function o5(t,e,n){const r=[],s={},i=e.length;let a,l;for(a=0;a<i;++a)l=e[a],s[l]=a,r.push({value:l,major:!1});return i===0||!n?r:Vne(t,r,s,n)}class Ax extends rp{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),s=this._adapter=new tte._date(e.adapters.date);s.init(n),Mm(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:s5(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:s,max:i,minDefined:a,maxDefined:l}=this.getUserBounds();function c(u){!a&&!isNaN(u.min)&&(s=Math.min(s,u.min)),!l&&!isNaN(u.max)&&(i=Math.max(i,u.max))}(!a||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),s=$a(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),i=$a(i)&&!isNaN(i)?i:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,a=this.max,l=DJ(s,i,a);return this._unit=n.unit||(r.autoSkip?i5(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):Hne(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:Wne(this._unit),this.initOffsets(s),e.reverse&&l.reverse(),o5(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,s,i;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?r=i:r=(i-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=fi(n,0,a),r=fi(r,0,a),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,s=this.options,i=s.time,a=i.unit||i5(i.minUnit,n,r,this._getLabelCapacity(n)),l=An(s.ticks.stepSize,1),c=a==="week"?i.isoWeekday:!1,u=ug(c)||c===!0,h={};let f=n,m,g;if(u&&(f=+e.startOf(f,"isoWeek",c)),f=+e.startOf(f,u?"day":a),e.diff(r,n,a)>1e5*l)throw new Error(n+" and "+r+" are too far apart with stepSize of "+l+" "+a);const b=s.ticks.source==="data"&&this.getDataTimestamps();for(m=f,g=0;m<r;m=+e.add(m,l,a),g++)a5(h,m,b);return(m===r||s.bounds==="ticks"||g===1)&&a5(h,m,b),Object.keys(h).sort(r5).map(y=>+y)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,i=this._unit,a=n||s[i];return this._adapter.format(e,a)}_tickFormatFunction(e,n,r,s){const i=this.options,a=i.ticks.callback;if(a)return xr(a,[e,n,r],this);const l=i.time.displayFormats,c=this._unit,u=this._majorUnit,h=c&&l[c],f=u&&l[u],m=r[n],g=u&&f&&m&&m.major;return this._adapter.format(e,s||(g?f:h))}generateTickLabels(e){let n,r,s;for(n=0,r=e.length;n<r;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,s=Yl(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(s),a=Math.sin(s),l=this._resolveTickFontOptions(0).size;return{w:r*i+l*a,h:r*a+l*i}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,i=this._tickFormatFunction(e,0,o5(this,[e],this._majorUnit),s),a=this._getLabelSize(i),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)e.push(s5(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return IJ(e.sort(r5))}}Ft(Ax,"id","time"),Ft(Ax,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function ab(t,e,n){let r=0,s=t.length-1,i,a,l,c;n?(e>=t[r].pos&&e<=t[s].pos&&({lo:r,hi:s}=pd(t,"pos",e)),{pos:i,time:l}=t[r],{pos:a,time:c}=t[s]):(e>=t[r].time&&e<=t[s].time&&({lo:r,hi:s}=pd(t,"time",e)),{time:i,pos:l}=t[r],{time:a,pos:c}=t[s]);const u=a-i;return u?l+(c-l)*(e-i)/u:l}class l5 extends Ax{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=ab(n,this.min),this._tableRange=ab(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,s=[],i=[];let a,l,c,u,h;for(a=0,l=e.length;a<l;++a)u=e[a],u>=n&&u<=r&&s.push(u);if(s.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(a=0,l=s.length;a<l;++a)h=s[a+1],c=s[a-1],u=s[a],Math.round((h+c)/2)!==u&&i.push({time:u,pos:a/(l-1)});return i}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((s,i)=>s-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(ab(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return ab(this._table,r*this._tableRange+this._minPos,!0)}}Ft(l5,"id","timeseries"),Ft(l5,"defaults",Ax.defaults);const y6="label";function c5(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function qne(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function b6(t,e){t.labels=e}function x6(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y6;const r=[];t.datasets=e.map(s=>{const i=t.datasets.find(a=>a[n]===s[n]);return!i||!s.data||r.includes(i)?{...s}:(r.push(i),Object.assign(i,s),i)})}function Yne(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y6;const n={labels:[],datasets:[]};return b6(n,t.labels),x6(n,t.datasets,e),n}function Gne(t,e){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:i,type:a,data:l,options:c,plugins:u=[],fallbackContent:h,updateMode:f,...m}=t,g=_.useRef(null),b=_.useRef(null),y=()=>{g.current&&(b.current=new s0(g.current,{type:a,data:Yne(l,i),options:c&&{...c},plugins:u}),c5(e,b.current))},x=()=>{c5(e,null),b.current&&(b.current.destroy(),b.current=null)};return _.useEffect(()=>{!s&&b.current&&c&&qne(b.current,c)},[s,c]),_.useEffect(()=>{!s&&b.current&&b6(b.current.config.data,l.labels)},[s,l.labels]),_.useEffect(()=>{!s&&b.current&&l.datasets&&x6(b.current.config.data,l.datasets,i)},[s,l.datasets]),_.useEffect(()=>{b.current&&(s?(x(),setTimeout(y)):b.current.update(f))},[s,c,l.labels,l.datasets,f]),_.useEffect(()=>{b.current&&(x(),setTimeout(y))},[a]),_.useEffect(()=>(y(),()=>x()),[]),Zt.createElement("canvas",{ref:g,role:"img",height:n,width:r,...m},h)}const Kne=_.forwardRef(Gne);function v6(t,e){return s0.register(e),_.forwardRef((n,r)=>Zt.createElement(Kne,{...n,ref:r,type:t}))}const w6=v6("line",Lb),_6=v6("doughnut",Cm);var $b={exports:{}},Xne=$b.exports,u5;function Qne(){return u5||(u5=1,function(t,e){(function(n,r){t.exports=r()})(Xne,function(){var n=1e3,r=6e4,s=36e5,i="millisecond",a="second",l="minute",c="hour",u="day",h="week",f="month",m="quarter",g="year",b="date",y="Invalid Date",x=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,w=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,C={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(j){var V=["th","st","nd","rd"],K=j%100;return"["+j+(V[(K-20)%10]||V[K]||V[0])+"]"}},k=function(j,V,K){var te=String(j);return!te||te.length>=V?j:""+Array(V+1-te.length).join(K)+j},A={s:k,z:function(j){var V=-j.utcOffset(),K=Math.abs(V),te=Math.floor(K/60),J=K%60;return(V<=0?"+":"-")+k(te,2,"0")+":"+k(J,2,"0")},m:function j(V,K){if(V.date()<K.date())return-j(K,V);var te=12*(K.year()-V.year())+(K.month()-V.month()),J=V.clone().add(te,f),X=K-J<0,Y=V.clone().add(te+(X?-1:1),f);return+(-(te+(K-J)/(X?J-Y:Y-J))||0)},a:function(j){return j<0?Math.ceil(j)||0:Math.floor(j)},p:function(j){return{M:f,y:g,w:h,d:u,D:b,h:c,m:l,s:a,ms:i,Q:m}[j]||String(j||"").toLowerCase().replace(/s$/,"")},u:function(j){return j===void 0}},N="en",P={};P[N]=C;var M="$isDayjsObject",L=function(j){return j instanceof O||!(!j||!j[M])},D=function j(V,K,te){var J;if(!V)return N;if(typeof V=="string"){var X=V.toLowerCase();P[X]&&(J=X),K&&(P[X]=K,J=X);var Y=V.split("-");if(!J&&Y.length>1)return j(Y[0])}else{var F=V.name;P[F]=V,J=F}return!te&&J&&(N=J),J||!te&&N},S=function(j,V){if(L(j))return j.clone();var K=typeof V=="object"?V:{};return K.date=j,K.args=arguments,new O(K)},z=A;z.l=D,z.i=L,z.w=function(j,V){return S(j,{locale:V.$L,utc:V.$u,x:V.$x,$offset:V.$offset})};var O=function(){function j(K){this.$L=D(K.locale,null,!0),this.parse(K),this.$x=this.$x||K.x||{},this[M]=!0}var V=j.prototype;return V.parse=function(K){this.$d=function(te){var J=te.date,X=te.utc;if(J===null)return new Date(NaN);if(z.u(J))return new Date;if(J instanceof Date)return new Date(J);if(typeof J=="string"&&!/Z$/i.test(J)){var Y=J.match(x);if(Y){var F=Y[2]-1||0,H=(Y[7]||"0").substring(0,3);return X?new Date(Date.UTC(Y[1],F,Y[3]||1,Y[4]||0,Y[5]||0,Y[6]||0,H)):new Date(Y[1],F,Y[3]||1,Y[4]||0,Y[5]||0,Y[6]||0,H)}}return new Date(J)}(K),this.init()},V.init=function(){var K=this.$d;this.$y=K.getFullYear(),this.$M=K.getMonth(),this.$D=K.getDate(),this.$W=K.getDay(),this.$H=K.getHours(),this.$m=K.getMinutes(),this.$s=K.getSeconds(),this.$ms=K.getMilliseconds()},V.$utils=function(){return z},V.isValid=function(){return this.$d.toString()!==y},V.isSame=function(K,te){var J=S(K);return this.startOf(te)<=J&&J<=this.endOf(te)},V.isAfter=function(K,te){return S(K)<this.startOf(te)},V.isBefore=function(K,te){return this.endOf(te)<S(K)},V.$g=function(K,te,J){return z.u(K)?this[te]:this.set(J,K)},V.unix=function(){return Math.floor(this.valueOf()/1e3)},V.valueOf=function(){return this.$d.getTime()},V.startOf=function(K,te){var J=this,X=!!z.u(te)||te,Y=z.p(K),F=function(Ee,Be){var Ve=z.w(J.$u?Date.UTC(J.$y,Be,Ee):new Date(J.$y,Be,Ee),J);return X?Ve:Ve.endOf(u)},H=function(Ee,Be){return z.w(J.toDate()[Ee].apply(J.toDate("s"),(X?[0,0,0,0]:[23,59,59,999]).slice(Be)),J)},de=this.$W,ee=this.$M,fe=this.$D,ve="set"+(this.$u?"UTC":"");switch(Y){case g:return X?F(1,0):F(31,11);case f:return X?F(1,ee):F(0,ee+1);case h:var Ce=this.$locale().weekStart||0,De=(de<Ce?de+7:de)-Ce;return F(X?fe-De:fe+(6-De),ee);case u:case b:return H(ve+"Hours",0);case c:return H(ve+"Minutes",1);case l:return H(ve+"Seconds",2);case a:return H(ve+"Milliseconds",3);default:return this.clone()}},V.endOf=function(K){return this.startOf(K,!1)},V.$set=function(K,te){var J,X=z.p(K),Y="set"+(this.$u?"UTC":""),F=(J={},J[u]=Y+"Date",J[b]=Y+"Date",J[f]=Y+"Month",J[g]=Y+"FullYear",J[c]=Y+"Hours",J[l]=Y+"Minutes",J[a]=Y+"Seconds",J[i]=Y+"Milliseconds",J)[X],H=X===u?this.$D+(te-this.$W):te;if(X===f||X===g){var de=this.clone().set(b,1);de.$d[F](H),de.init(),this.$d=de.set(b,Math.min(this.$D,de.daysInMonth())).$d}else F&&this.$d[F](H);return this.init(),this},V.set=function(K,te){return this.clone().$set(K,te)},V.get=function(K){return this[z.p(K)]()},V.add=function(K,te){var J,X=this;K=Number(K);var Y=z.p(te),F=function(ee){var fe=S(X);return z.w(fe.date(fe.date()+Math.round(ee*K)),X)};if(Y===f)return this.set(f,this.$M+K);if(Y===g)return this.set(g,this.$y+K);if(Y===u)return F(1);if(Y===h)return F(7);var H=(J={},J[l]=r,J[c]=s,J[a]=n,J)[Y]||1,de=this.$d.getTime()+K*H;return z.w(de,this)},V.subtract=function(K,te){return this.add(-1*K,te)},V.format=function(K){var te=this,J=this.$locale();if(!this.isValid())return J.invalidDate||y;var X=K||"YYYY-MM-DDTHH:mm:ssZ",Y=z.z(this),F=this.$H,H=this.$m,de=this.$M,ee=J.weekdays,fe=J.months,ve=J.meridiem,Ce=function(Be,Ve,rt,it){return Be&&(Be[Ve]||Be(te,X))||rt[Ve].slice(0,it)},De=function(Be){return z.s(F%12||12,Be,"0")},Ee=ve||function(Be,Ve,rt){var it=Be<12?"AM":"PM";return rt?it.toLowerCase():it};return X.replace(w,function(Be,Ve){return Ve||function(rt){switch(rt){case"YY":return String(te.$y).slice(-2);case"YYYY":return z.s(te.$y,4,"0");case"M":return de+1;case"MM":return z.s(de+1,2,"0");case"MMM":return Ce(J.monthsShort,de,fe,3);case"MMMM":return Ce(fe,de);case"D":return te.$D;case"DD":return z.s(te.$D,2,"0");case"d":return String(te.$W);case"dd":return Ce(J.weekdaysMin,te.$W,ee,2);case"ddd":return Ce(J.weekdaysShort,te.$W,ee,3);case"dddd":return ee[te.$W];case"H":return String(F);case"HH":return z.s(F,2,"0");case"h":return De(1);case"hh":return De(2);case"a":return Ee(F,H,!0);case"A":return Ee(F,H,!1);case"m":return String(H);case"mm":return z.s(H,2,"0");case"s":return String(te.$s);case"ss":return z.s(te.$s,2,"0");case"SSS":return z.s(te.$ms,3,"0");case"Z":return Y}return null}(Be)||Y.replace(":","")})},V.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},V.diff=function(K,te,J){var X,Y=this,F=z.p(te),H=S(K),de=(H.utcOffset()-this.utcOffset())*r,ee=this-H,fe=function(){return z.m(Y,H)};switch(F){case g:X=fe()/12;break;case f:X=fe();break;case m:X=fe()/3;break;case h:X=(ee-de)/6048e5;break;case u:X=(ee-de)/864e5;break;case c:X=ee/s;break;case l:X=ee/r;break;case a:X=ee/n;break;default:X=ee}return J?X:z.a(X)},V.daysInMonth=function(){return this.endOf(f).$D},V.$locale=function(){return P[this.$L]},V.locale=function(K,te){if(!K)return this.$L;var J=this.clone(),X=D(K,te,!0);return X&&(J.$L=X),J},V.clone=function(){return z.w(this.$d,this)},V.toDate=function(){return new Date(this.valueOf())},V.toJSON=function(){return this.isValid()?this.toISOString():null},V.toISOString=function(){return this.$d.toISOString()},V.toString=function(){return this.$d.toUTCString()},j}(),U=O.prototype;return S.prototype=U,[["$ms",i],["$s",a],["$m",l],["$H",c],["$W",u],["$M",f],["$y",g],["$D",b]].forEach(function(j){U[j[1]]=function(V){return this.$g(V,j[0],j[1])}}),S.extend=function(j,V){return j.$i||(j(V,O,S),j.$i=!0),S},S.locale=D,S.isDayjs=L,S.unix=function(j){return S(1e3*j)},S.en=P[N],S.Ls=P,S.p={},S})}($b)),$b.exports}var Zne=Qne();const cl=Jr(Zne);var zb={exports:{}},Jne=zb.exports,d5;function ere(){return d5||(d5=1,function(t,e){(function(n,r){t.exports=r()})(Jne,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,s=/\d/,i=/\d\d/,a=/\d\d?/,l=/\d*[^-_:/,()\s\d]+/,c={},u=function(x){return(x=+x)+(x>68?1900:2e3)},h=function(x){return function(w){this[x]=+w}},f=[/[+-]\d\d:?(\d\d)?|Z/,function(x){(this.zone||(this.zone={})).offset=function(w){if(!w||w==="Z")return 0;var C=w.match(/([+-]|\d\d)/g),k=60*C[1]+(+C[2]||0);return k===0?0:C[0]==="+"?-k:k}(x)}],m=function(x){var w=c[x];return w&&(w.indexOf?w:w.s.concat(w.f))},g=function(x,w){var C,k=c.meridiem;if(k){for(var A=1;A<=24;A+=1)if(x.indexOf(k(A,0,w))>-1){C=A>12;break}}else C=x===(w?"pm":"PM");return C},b={A:[l,function(x){this.afternoon=g(x,!1)}],a:[l,function(x){this.afternoon=g(x,!0)}],Q:[s,function(x){this.month=3*(x-1)+1}],S:[s,function(x){this.milliseconds=100*+x}],SS:[i,function(x){this.milliseconds=10*+x}],SSS:[/\d{3}/,function(x){this.milliseconds=+x}],s:[a,h("seconds")],ss:[a,h("seconds")],m:[a,h("minutes")],mm:[a,h("minutes")],H:[a,h("hours")],h:[a,h("hours")],HH:[a,h("hours")],hh:[a,h("hours")],D:[a,h("day")],DD:[i,h("day")],Do:[l,function(x){var w=c.ordinal,C=x.match(/\d+/);if(this.day=C[0],w)for(var k=1;k<=31;k+=1)w(k).replace(/\[|\]/g,"")===x&&(this.day=k)}],w:[a,h("week")],ww:[i,h("week")],M:[a,h("month")],MM:[i,h("month")],MMM:[l,function(x){var w=m("months"),C=(m("monthsShort")||w.map(function(k){return k.slice(0,3)})).indexOf(x)+1;if(C<1)throw new Error;this.month=C%12||C}],MMMM:[l,function(x){var w=m("months").indexOf(x)+1;if(w<1)throw new Error;this.month=w%12||w}],Y:[/[+-]?\d+/,h("year")],YY:[i,function(x){this.year=u(x)}],YYYY:[/\d{4}/,h("year")],Z:f,ZZ:f};function y(x){var w,C;w=x,C=c&&c.formats;for(var k=(x=w.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(S,z,O){var U=O&&O.toUpperCase();return z||C[O]||n[O]||C[U].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(j,V,K){return V||K.slice(1)})})).match(r),A=k.length,N=0;N<A;N+=1){var P=k[N],M=b[P],L=M&&M[0],D=M&&M[1];k[N]=D?{regex:L,parser:D}:P.replace(/^\[|\]$/g,"")}return function(S){for(var z={},O=0,U=0;O<A;O+=1){var j=k[O];if(typeof j=="string")U+=j.length;else{var V=j.regex,K=j.parser,te=S.slice(U),J=V.exec(te)[0];K.call(z,J),S=S.replace(J,"")}}return function(X){var Y=X.afternoon;if(Y!==void 0){var F=X.hours;Y?F<12&&(X.hours+=12):F===12&&(X.hours=0),delete X.afternoon}}(z),z}}return function(x,w,C){C.p.customParseFormat=!0,x&&x.parseTwoDigitYear&&(u=x.parseTwoDigitYear);var k=w.prototype,A=k.parse;k.parse=function(N){var P=N.date,M=N.utc,L=N.args;this.$u=M;var D=L[1];if(typeof D=="string"){var S=L[2]===!0,z=L[3]===!0,O=S||z,U=L[2];z&&(U=L[2]),c=this.$locale(),!S&&U&&(c=C.Ls[U]),this.$d=function(te,J,X,Y){try{if(["x","X"].indexOf(J)>-1)return new Date((J==="X"?1e3:1)*te);var F=y(J)(te),H=F.year,de=F.month,ee=F.day,fe=F.hours,ve=F.minutes,Ce=F.seconds,De=F.milliseconds,Ee=F.zone,Be=F.week,Ve=new Date,rt=ee||(H||de?1:Ve.getDate()),it=H||Ve.getFullYear(),G=0;H&&!de||(G=de>0?de-1:Ve.getMonth());var Ae,be=fe||0,re=ve||0,ne=Ce||0,ce=De||0;return Ee?new Date(Date.UTC(it,G,rt,be,re,ne,ce+60*Ee.offset*1e3)):X?new Date(Date.UTC(it,G,rt,be,re,ne,ce)):(Ae=new Date(it,G,rt,be,re,ne,ce),Be&&(Ae=Y(Ae).week(Be).toDate()),Ae)}catch{return new Date("")}}(P,D,M,C),this.init(),U&&U!==!0&&(this.$L=this.locale(U).$L),O&&P!=this.format(D)&&(this.$d=new Date("")),c={}}else if(D instanceof Array)for(var j=D.length,V=1;V<=j;V+=1){L[1]=D[V-1];var K=C.apply(this,L);if(K.isValid()){this.$d=K.$d,this.$L=K.$L,this.init();break}V===j&&(this.$d=new Date(""))}else A.call(this,N)}}})}(zb)),zb.exports}var tre=ere();const nre=Jr(tre);var Ub={exports:{}},rre=Ub.exports,h5;function sre(){return h5||(h5=1,function(t,e){(function(n,r){t.exports=r()})(rre,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,s,i){var a=s.prototype,l=a.format;i.en.formats=n,a.format=function(c){c===void 0&&(c="YYYY-MM-DDTHH:mm:ssZ");var u=this.$locale().formats,h=function(f,m){return f.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(g,b,y){var x=y&&y.toUpperCase();return b||m[y]||n[y]||m[x].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(w,C,k){return C||k.slice(1)})})}(c,u===void 0?{}:u);return l.call(this,h)}}})}(Ub)),Ub.exports}var ire=sre();const are=Jr(ire);var Hb={exports:{}},ore=Hb.exports,f5;function lre(){return f5||(f5=1,function(t,e){(function(n,r){t.exports=r()})(ore,function(){return function(n,r,s){r.prototype.isBetween=function(i,a,l,c){var u=s(i),h=s(a),f=(c=c||"()")[0]==="(",m=c[1]===")";return(f?this.isAfter(u,l):!this.isBefore(u,l))&&(m?this.isBefore(h,l):!this.isAfter(h,l))||(f?this.isBefore(u,l):!this.isAfter(u,l))&&(m?this.isAfter(h,l):!this.isBefore(h,l))}}})}(Hb)),Hb.exports}var cre=lre();const ure=Jr(cre);cl.extend(nre);cl.extend(are);cl.extend(ure);const dre=(t,e)=>e?(...n)=>t(...n).locale(e):t,hre={normalDateWithWeekday:"ddd, MMM D",normalDate:"D MMMM",shortDate:"MMM D",monthAndDate:"MMMM D",dayOfMonth:"D",year:"YYYY",month:"MMMM",monthShort:"MMM",monthAndYear:"MMMM YYYY",weekday:"dddd",weekdayShort:"ddd",minutes:"mm",hours12h:"hh",hours24h:"HH",seconds:"ss",fullTime:"LT",fullTime12h:"hh:mm A",fullTime24h:"HH:mm",fullDate:"ll",fullDateWithWeekday:"dddd, LL",fullDateTime:"lll",fullDateTime12h:"ll hh:mm A",fullDateTime24h:"ll HH:mm",keyboardDate:"L",keyboardDateTime:"L LT",keyboardDateTime12h:"L hh:mm A",keyboardDateTime24h:"L HH:mm"};class S6{constructor({locale:e,formats:n,instance:r}={}){this.lib="dayjs",this.is12HourCycleInCurrentLocale=()=>{var s,i,a;return/A|a/.test((a=(i=(s=this.rawDayJsInstance.Ls[this.locale||"en"])===null||s===void 0?void 0:s.formats)===null||i===void 0?void 0:i.LT)!==null&&a!==void 0?a:"")},this.getCurrentLocaleCode=()=>this.locale||"en",this.getFormatHelperText=s=>{var i,a,l=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?)|./g;return(a=(i=s.match(l))===null||i===void 0?void 0:i.map(c=>{var u,h,f=c[0];return f==="L"&&(h=(u=this.rawDayJsInstance.Ls[this.locale||"en"])===null||u===void 0?void 0:u.formats[c])!==null&&h!==void 0?h:c}).join("").replace(/a/gi,"(a|p)m").toLocaleLowerCase())!==null&&a!==void 0?a:s},this.parseISO=s=>this.dayjs(s),this.toISO=s=>s.toISOString(),this.parse=(s,i)=>s===""?null:this.dayjs(s,i,this.locale,!0),this.date=s=>s===null?null:this.dayjs(s),this.toJsDate=s=>s.toDate(),this.isValid=s=>this.dayjs(s).isValid(),this.isNull=s=>s===null,this.getDiff=(s,i,a)=>(typeof i=="string"&&(i=this.dayjs(i)),i.isValid()?s.diff(i,a):0),this.isAfter=(s,i)=>s.isAfter(i),this.isBefore=(s,i)=>s.isBefore(i),this.isAfterDay=(s,i)=>s.isAfter(i,"day"),this.isBeforeDay=(s,i)=>s.isBefore(i,"day"),this.isAfterMonth=(s,i)=>s.isAfter(i,"month"),this.isBeforeMonth=(s,i)=>s.isBefore(i,"month"),this.isBeforeYear=(s,i)=>s.isBefore(i,"year"),this.isAfterYear=(s,i)=>s.isAfter(i,"year"),this.startOfDay=s=>s.startOf("day"),this.endOfDay=s=>s.endOf("day"),this.format=(s,i)=>this.formatByString(s,this.formats[i]),this.formatByString=(s,i)=>this.dayjs(s).format(i),this.formatNumber=s=>s,this.getHours=s=>s.hour(),this.addSeconds=(s,i)=>i<0?s.subtract(Math.abs(i),"second"):s.add(i,"second"),this.addMinutes=(s,i)=>i<0?s.subtract(Math.abs(i),"minute"):s.add(i,"minute"),this.addHours=(s,i)=>i<0?s.subtract(Math.abs(i),"hour"):s.add(i,"hour"),this.addDays=(s,i)=>i<0?s.subtract(Math.abs(i),"day"):s.add(i,"day"),this.addWeeks=(s,i)=>i<0?s.subtract(Math.abs(i),"week"):s.add(i,"week"),this.addMonths=(s,i)=>i<0?s.subtract(Math.abs(i),"month"):s.add(i,"month"),this.addYears=(s,i)=>i<0?s.subtract(Math.abs(i),"year"):s.add(i,"year"),this.setMonth=(s,i)=>s.set("month",i),this.setHours=(s,i)=>s.set("hour",i),this.getMinutes=s=>s.minute(),this.setMinutes=(s,i)=>s.set("minute",i),this.getSeconds=s=>s.second(),this.setSeconds=(s,i)=>s.set("second",i),this.getMonth=s=>s.month(),this.getDate=s=>s.date(),this.setDate=(s,i)=>s.set("date",i),this.getDaysInMonth=s=>s.daysInMonth(),this.isSameDay=(s,i)=>s.isSame(i,"day"),this.isSameMonth=(s,i)=>s.isSame(i,"month"),this.isSameYear=(s,i)=>s.isSame(i,"year"),this.isSameHour=(s,i)=>s.isSame(i,"hour"),this.getMeridiemText=s=>s==="am"?"AM":"PM",this.startOfYear=s=>s.startOf("year"),this.endOfYear=s=>s.endOf("year"),this.startOfMonth=s=>s.startOf("month"),this.endOfMonth=s=>s.endOf("month"),this.startOfWeek=s=>s.startOf("week"),this.endOfWeek=s=>s.endOf("week"),this.getNextMonth=s=>s.add(1,"month"),this.getPreviousMonth=s=>s.subtract(1,"month"),this.getMonthArray=s=>{const a=[s.startOf("year")];for(;a.length<12;){const l=a[a.length-1];a.push(this.getNextMonth(l))}return a},this.getYear=s=>s.year(),this.setYear=(s,i)=>s.set("year",i),this.mergeDateAndTime=(s,i)=>s.hour(i.hour()).minute(i.minute()).second(i.second()),this.getWeekdays=()=>{const s=this.dayjs().startOf("week");return[0,1,2,3,4,5,6].map(i=>this.formatByString(s.add(i,"day"),"dd"))},this.isEqual=(s,i)=>s===null&&i===null?!0:this.dayjs(s).isSame(i),this.getWeekArray=s=>{const i=this.dayjs(s).startOf("month").startOf("week"),a=this.dayjs(s).endOf("month").endOf("week");let l=0,c=i;const u=[];for(;c.isBefore(a);){const h=Math.floor(l/7);u[h]=u[h]||[],u[h].push(c),c=c.add(1,"day"),l+=1}return u},this.getYearRange=(s,i)=>{const a=this.dayjs(s).startOf("year"),l=this.dayjs(i).endOf("year"),c=[];let u=a;for(;u.isBefore(l);)c.push(u),u=u.add(1,"year");return c},this.isWithinRange=(s,[i,a])=>s.isBetween(i,a,null,"[]"),this.rawDayJsInstance=r||cl,this.dayjs=dre(this.rawDayJsInstance,e),this.locale=e,this.formats=Object.assign({},hre,n)}}var fre=Qv();const on=Jr(fre),C6=_.createContext(null);function T6(t){const{children:e,dateAdapter:n,dateFormats:r,dateLibInstance:s,locale:i}=t,a=_.useMemo(()=>new n({locale:i,formats:r,instance:s}),[n,i,r,s]),l=_.useMemo(()=>({minDate:a.date("1900-01-01T00:00:00.000"),maxDate:a.date("2099-12-31T00:00:00.000")}),[a]),c=_.useMemo(()=>({utils:a,defaultDates:l}),[l,a]);return o.jsx(C6.Provider,{value:c,children:e})}function Ot(){return Ot=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ot.apply(null,arguments)}function Rs(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Id(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}const t1="$$material";function pre(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function mre(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var gre=function(){function t(n){var r=this;this._insertTag=function(s){var i;r.tags.length===0?r.insertionPoint?i=r.insertionPoint.nextSibling:r.prepend?i=r.container.firstChild:i=r.before:i=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,i),r.tags.push(s)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(mre(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var i=pre(s);try{i.insertRule(r,i.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var s;return(s=r.parentNode)==null?void 0:s.removeChild(r)}),this.tags=[],this.ctr=0},t}(),zs="-ms-",Dx="-moz-",Yn="-webkit-",k6="comm",eE="rule",tE="decl",yre="@import",E6="@keyframes",bre="@layer",xre=Math.abs,n1=String.fromCharCode,vre=Object.assign;function wre(t,e){return Os(t,0)^45?(((e<<2^Os(t,0))<<2^Os(t,1))<<2^Os(t,2))<<2^Os(t,3):0}function j6(t){return t.trim()}function _re(t,e){return(t=e.exec(t))?t[0]:t}function Gn(t,e,n){return t.replace(e,n)}function _C(t,e){return t.indexOf(e)}function Os(t,e){return t.charCodeAt(e)|0}function mg(t,e,n){return t.slice(e,n)}function Yo(t){return t.length}function nE(t){return t.length}function ob(t,e){return e.push(t),t}function Sre(t,e){return t.map(e).join("")}var r1=1,Ef=1,N6=0,Ri=0,os=0,sp="";function s1(t,e,n,r,s,i,a){return{value:t,root:e,parent:n,type:r,props:s,children:i,line:r1,column:Ef,length:a,return:""}}function lm(t,e){return vre(s1("",null,null,"",null,null,0),t,{length:-t.length},e)}function Cre(){return os}function Tre(){return os=Ri>0?Os(sp,--Ri):0,Ef--,os===10&&(Ef=1,r1--),os}function Ji(){return os=Ri<N6?Os(sp,Ri++):0,Ef++,os===10&&(Ef=1,r1++),os}function il(){return Os(sp,Ri)}function Wb(){return Ri}function i0(t,e){return mg(sp,t,e)}function gg(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function A6(t){return r1=Ef=1,N6=Yo(sp=t),Ri=0,[]}function D6(t){return sp="",t}function Vb(t){return j6(i0(Ri-1,SC(t===91?t+2:t===40?t+1:t)))}function kre(t){for(;(os=il())&&os<33;)Ji();return gg(t)>2||gg(os)>3?"":" "}function Ere(t,e){for(;--e&&Ji()&&!(os<48||os>102||os>57&&os<65||os>70&&os<97););return i0(t,Wb()+(e<6&&il()==32&&Ji()==32))}function SC(t){for(;Ji();)switch(os){case t:return Ri;case 34:case 39:t!==34&&t!==39&&SC(os);break;case 40:t===41&&SC(t);break;case 92:Ji();break}return Ri}function jre(t,e){for(;Ji()&&t+os!==57;)if(t+os===84&&il()===47)break;return"/*"+i0(e,Ri-1)+"*"+n1(t===47?t:Ji())}function Nre(t){for(;!gg(il());)Ji();return i0(t,Ri)}function Are(t){return D6(qb("",null,null,null,[""],t=A6(t),0,[0],t))}function qb(t,e,n,r,s,i,a,l,c){for(var u=0,h=0,f=a,m=0,g=0,b=0,y=1,x=1,w=1,C=0,k="",A=s,N=i,P=r,M=k;x;)switch(b=C,C=Ji()){case 40:if(b!=108&&Os(M,f-1)==58){_C(M+=Gn(Vb(C),"&","&\f"),"&\f")!=-1&&(w=-1);break}case 34:case 39:case 91:M+=Vb(C);break;case 9:case 10:case 13:case 32:M+=kre(b);break;case 92:M+=Ere(Wb()-1,7);continue;case 47:switch(il()){case 42:case 47:ob(Dre(jre(Ji(),Wb()),e,n),c);break;default:M+="/"}break;case 123*y:l[u++]=Yo(M)*w;case 125*y:case 59:case 0:switch(C){case 0:case 125:x=0;case 59+h:w==-1&&(M=Gn(M,/\f/g,"")),g>0&&Yo(M)-f&&ob(g>32?m5(M+";",r,n,f-1):m5(Gn(M," ","")+";",r,n,f-2),c);break;case 59:M+=";";default:if(ob(P=p5(M,e,n,u,h,s,l,k,A=[],N=[],f),i),C===123)if(h===0)qb(M,e,P,P,A,i,f,l,N);else switch(m===99&&Os(M,3)===110?100:m){case 100:case 108:case 109:case 115:qb(t,P,P,r&&ob(p5(t,P,P,0,0,s,l,k,s,A=[],f),N),s,N,f,l,r?A:N);break;default:qb(M,P,P,P,[""],N,0,l,N)}}u=h=g=0,y=w=1,k=M="",f=a;break;case 58:f=1+Yo(M),g=b;default:if(y<1){if(C==123)--y;else if(C==125&&y++==0&&Tre()==125)continue}switch(M+=n1(C),C*y){case 38:w=h>0?1:(M+="\f",-1);break;case 44:l[u++]=(Yo(M)-1)*w,w=1;break;case 64:il()===45&&(M+=Vb(Ji())),m=il(),h=f=Yo(k=M+=Nre(Wb())),C++;break;case 45:b===45&&Yo(M)==2&&(y=0)}}return i}function p5(t,e,n,r,s,i,a,l,c,u,h){for(var f=s-1,m=s===0?i:[""],g=nE(m),b=0,y=0,x=0;b<r;++b)for(var w=0,C=mg(t,f+1,f=xre(y=a[b])),k=t;w<g;++w)(k=j6(y>0?m[w]+" "+C:Gn(C,/&\f/g,m[w])))&&(c[x++]=k);return s1(t,e,n,s===0?eE:l,c,u,h)}function Dre(t,e,n){return s1(t,e,n,k6,n1(Cre()),mg(t,2,-2),0)}function m5(t,e,n,r){return s1(t,e,n,tE,mg(t,0,r),mg(t,r+1,-1),r)}function lf(t,e){for(var n="",r=nE(t),s=0;s<r;s++)n+=e(t[s],s,t,e)||"";return n}function Pre(t,e,n,r){switch(t.type){case bre:if(t.children.length)break;case yre:case tE:return t.return=t.return||t.value;case k6:return"";case E6:return t.return=t.value+"{"+lf(t.children,r)+"}";case eE:t.value=t.props.join(",")}return Yo(n=lf(t.children,r))?t.return=t.value+"{"+n+"}":""}function Ire(t){var e=nE(t);return function(n,r,s,i){for(var a="",l=0;l<e;l++)a+=t[l](n,r,s,i)||"";return a}}function Ore(t){return function(e){e.root||(e=e.return)&&t(e)}}function P6(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var Mre=function(e,n,r){for(var s=0,i=0;s=i,i=il(),s===38&&i===12&&(n[r]=1),!gg(i);)Ji();return i0(e,Ri)},Rre=function(e,n){var r=-1,s=44;do switch(gg(s)){case 0:s===38&&il()===12&&(n[r]=1),e[r]+=Mre(Ri-1,n,r);break;case 2:e[r]+=Vb(s);break;case 4:if(s===44){e[++r]=il()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=n1(s)}while(s=Ji());return e},Lre=function(e,n){return D6(Rre(A6(e),n))},g5=new WeakMap,Fre=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,s=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!g5.get(r))&&!s){g5.set(e,!0);for(var i=[],a=Lre(n,i),l=r.props,c=0,u=0;c<a.length;c++)for(var h=0;h<l.length;h++,u++)e.props[u]=i[c]?a[c].replace(/&\f/g,l[h]):l[h]+" "+a[c]}}},Bre=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function I6(t,e){switch(wre(t,e)){case 5103:return Yn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Yn+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Yn+t+Dx+t+zs+t+t;case 6828:case 4268:return Yn+t+zs+t+t;case 6165:return Yn+t+zs+"flex-"+t+t;case 5187:return Yn+t+Gn(t,/(\w+).+(:[^]+)/,Yn+"box-$1$2"+zs+"flex-$1$2")+t;case 5443:return Yn+t+zs+"flex-item-"+Gn(t,/flex-|-self/,"")+t;case 4675:return Yn+t+zs+"flex-line-pack"+Gn(t,/align-content|flex-|-self/,"")+t;case 5548:return Yn+t+zs+Gn(t,"shrink","negative")+t;case 5292:return Yn+t+zs+Gn(t,"basis","preferred-size")+t;case 6060:return Yn+"box-"+Gn(t,"-grow","")+Yn+t+zs+Gn(t,"grow","positive")+t;case 4554:return Yn+Gn(t,/([^-])(transform)/g,"$1"+Yn+"$2")+t;case 6187:return Gn(Gn(Gn(t,/(zoom-|grab)/,Yn+"$1"),/(image-set)/,Yn+"$1"),t,"")+t;case 5495:case 3959:return Gn(t,/(image-set\([^]*)/,Yn+"$1$`$1");case 4968:return Gn(Gn(t,/(.+:)(flex-)?(.*)/,Yn+"box-pack:$3"+zs+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Yn+t+t;case 4095:case 3583:case 4068:case 2532:return Gn(t,/(.+)-inline(.+)/,Yn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Yo(t)-1-e>6)switch(Os(t,e+1)){case 109:if(Os(t,e+4)!==45)break;case 102:return Gn(t,/(.+:)(.+)-([^]+)/,"$1"+Yn+"$2-$3$1"+Dx+(Os(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~_C(t,"stretch")?I6(Gn(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Os(t,e+1)!==115)break;case 6444:switch(Os(t,Yo(t)-3-(~_C(t,"!important")&&10))){case 107:return Gn(t,":",":"+Yn)+t;case 101:return Gn(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Yn+(Os(t,14)===45?"inline-":"")+"box$3$1"+Yn+"$2$3$1"+zs+"$2box$3")+t}break;case 5936:switch(Os(t,e+11)){case 114:return Yn+t+zs+Gn(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Yn+t+zs+Gn(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Yn+t+zs+Gn(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Yn+t+zs+t+t}return t}var $re=function(e,n,r,s){if(e.length>-1&&!e.return)switch(e.type){case tE:e.return=I6(e.value,e.length);break;case E6:return lf([lm(e,{value:Gn(e.value,"@","@"+Yn)})],s);case eE:if(e.length)return Sre(e.props,function(i){switch(_re(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return lf([lm(e,{props:[Gn(i,/:(read-\w+)/,":"+Dx+"$1")]})],s);case"::placeholder":return lf([lm(e,{props:[Gn(i,/:(plac\w+)/,":"+Yn+"input-$1")]}),lm(e,{props:[Gn(i,/:(plac\w+)/,":"+Dx+"$1")]}),lm(e,{props:[Gn(i,/:(plac\w+)/,zs+"input-$1")]})],s)}return""})}},zre=[$re],Ure=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var x=y.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var s=e.stylisPlugins||zre,i={},a,l=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var x=y.getAttribute("data-emotion").split(" "),w=1;w<x.length;w++)i[x[w]]=!0;l.push(y)});var c,u=[Fre,Bre];{var h,f=[Pre,Ore(function(y){h.insert(y)})],m=Ire(u.concat(s,f)),g=function(x){return lf(Are(x),m)};c=function(x,w,C,k){h=C,g(x?x+"{"+w.styles+"}":w.styles),k&&(b.inserted[w.name]=!0)}}var b={key:n,sheet:new gre({key:n,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:c};return b.sheet.hydrate(l),b},p2={exports:{}},Qn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y5;function Hre(){if(y5)return Qn;y5=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,s=t?Symbol.for("react.strict_mode"):60108,i=t?Symbol.for("react.profiler"):60114,a=t?Symbol.for("react.provider"):60109,l=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,u=t?Symbol.for("react.concurrent_mode"):60111,h=t?Symbol.for("react.forward_ref"):60112,f=t?Symbol.for("react.suspense"):60113,m=t?Symbol.for("react.suspense_list"):60120,g=t?Symbol.for("react.memo"):60115,b=t?Symbol.for("react.lazy"):60116,y=t?Symbol.for("react.block"):60121,x=t?Symbol.for("react.fundamental"):60117,w=t?Symbol.for("react.responder"):60118,C=t?Symbol.for("react.scope"):60119;function k(N){if(typeof N=="object"&&N!==null){var P=N.$$typeof;switch(P){case e:switch(N=N.type,N){case c:case u:case r:case i:case s:case f:return N;default:switch(N=N&&N.$$typeof,N){case l:case h:case b:case g:case a:return N;default:return P}}case n:return P}}}function A(N){return k(N)===u}return Qn.AsyncMode=c,Qn.ConcurrentMode=u,Qn.ContextConsumer=l,Qn.ContextProvider=a,Qn.Element=e,Qn.ForwardRef=h,Qn.Fragment=r,Qn.Lazy=b,Qn.Memo=g,Qn.Portal=n,Qn.Profiler=i,Qn.StrictMode=s,Qn.Suspense=f,Qn.isAsyncMode=function(N){return A(N)||k(N)===c},Qn.isConcurrentMode=A,Qn.isContextConsumer=function(N){return k(N)===l},Qn.isContextProvider=function(N){return k(N)===a},Qn.isElement=function(N){return typeof N=="object"&&N!==null&&N.$$typeof===e},Qn.isForwardRef=function(N){return k(N)===h},Qn.isFragment=function(N){return k(N)===r},Qn.isLazy=function(N){return k(N)===b},Qn.isMemo=function(N){return k(N)===g},Qn.isPortal=function(N){return k(N)===n},Qn.isProfiler=function(N){return k(N)===i},Qn.isStrictMode=function(N){return k(N)===s},Qn.isSuspense=function(N){return k(N)===f},Qn.isValidElementType=function(N){return typeof N=="string"||typeof N=="function"||N===r||N===u||N===i||N===s||N===f||N===m||typeof N=="object"&&N!==null&&(N.$$typeof===b||N.$$typeof===g||N.$$typeof===a||N.$$typeof===l||N.$$typeof===h||N.$$typeof===x||N.$$typeof===w||N.$$typeof===C||N.$$typeof===y)},Qn.typeOf=k,Qn}var b5;function Wre(){return b5||(b5=1,p2.exports=Hre()),p2.exports}var m2,x5;function Vre(){if(x5)return m2;x5=1;var t=Wre(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};i[t.ForwardRef]=r,i[t.Memo]=s;function a(b){return t.isMemo(b)?s:i[b.$$typeof]||e}var l=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,m=Object.prototype;function g(b,y,x){if(typeof y!="string"){if(m){var w=f(y);w&&w!==m&&g(b,w,x)}var C=c(y);u&&(C=C.concat(u(y)));for(var k=a(b),A=a(y),N=0;N<C.length;++N){var P=C[N];if(!n[P]&&!(x&&x[P])&&!(A&&A[P])&&!(k&&k[P])){var M=h(y,P);try{l(b,P,M)}catch{}}}}return b}return m2=g,m2}Vre();var qre=!0;function O6(t,e,n){var r="";return n.split(" ").forEach(function(s){t[s]!==void 0?e.push(t[s]+";"):s&&(r+=s+" ")}),r}var rE=function(e,n,r){var s=e.key+"-"+n.name;(r===!1||qre===!1)&&e.registered[s]===void 0&&(e.registered[s]=n.styles)},M6=function(e,n,r){rE(e,n,r);var s=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var i=n;do e.insert(n===i?"."+s:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function Yre(t){for(var e=0,n,r=0,s=t.length;s>=4;++r,s-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Gre={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Kre=/[A-Z]|^ms/g,Xre=/_EMO_([^_]+?)_([^]*?)_EMO_/g,R6=function(e){return e.charCodeAt(1)===45},v5=function(e){return e!=null&&typeof e!="boolean"},g2=P6(function(t){return R6(t)?t:t.replace(Kre,"-$&").toLowerCase()}),w5=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(Xre,function(r,s,i){return Go={name:s,styles:i,next:Go},s})}return Gre[e]!==1&&!R6(e)&&typeof n=="number"&&n!==0?n+"px":n};function yg(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var s=n;if(s.anim===1)return Go={name:s.name,styles:s.styles,next:Go},s.name;var i=n;if(i.styles!==void 0){var a=i.next;if(a!==void 0)for(;a!==void 0;)Go={name:a.name,styles:a.styles,next:Go},a=a.next;var l=i.styles+";";return l}return Qre(t,e,n)}case"function":{if(t!==void 0){var c=Go,u=n(t);return Go=c,yg(t,e,u)}break}}var h=n;if(e==null)return h;var f=e[h];return f!==void 0?f:h}function Qre(t,e,n){var r="";if(Array.isArray(n))for(var s=0;s<n.length;s++)r+=yg(t,e,n[s])+";";else for(var i in n){var a=n[i];if(typeof a!="object"){var l=a;e!=null&&e[l]!==void 0?r+=i+"{"+e[l]+"}":v5(l)&&(r+=g2(i)+":"+w5(i,l)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var c=0;c<a.length;c++)v5(a[c])&&(r+=g2(i)+":"+w5(i,a[c])+";");else{var u=yg(t,e,a);switch(i){case"animation":case"animationName":{r+=g2(i)+":"+u+";";break}default:r+=i+"{"+u+"}"}}}return r}var _5=/label:\s*([^\s;{]+)\s*(;|$)/g,Go;function i1(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,s="";Go=void 0;var i=t[0];if(i==null||i.raw===void 0)r=!1,s+=yg(n,e,i);else{var a=i;s+=a[0]}for(var l=1;l<t.length;l++)if(s+=yg(n,e,t[l]),r){var c=i;s+=c[l]}_5.lastIndex=0;for(var u="",h;(h=_5.exec(s))!==null;)u+="-"+h[1];var f=Yre(s)+u;return{name:f,styles:s,next:Go}}var Zre=function(e){return e()},Jre=tx.useInsertionEffect?tx.useInsertionEffect:!1,L6=Jre||Zre,F6=_.createContext(typeof HTMLElement<"u"?Ure({key:"css"}):null);F6.Provider;var B6=function(e){return _.forwardRef(function(n,r){var s=_.useContext(F6);return e(n,s,r)})},sE=_.createContext({}),iE={}.hasOwnProperty,CC="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",ese=function(e,n){var r={};for(var s in n)iE.call(n,s)&&(r[s]=n[s]);return r[CC]=e,r},tse=function(e){var n=e.cache,r=e.serialized,s=e.isStringTag;return rE(n,r,s),L6(function(){return M6(n,r,s)}),null},nse=B6(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var s=t[CC],i=[r],a="";typeof t.className=="string"?a=O6(e.registered,i,t.className):t.className!=null&&(a=t.className+" ");var l=i1(i,void 0,_.useContext(sE));a+=e.key+"-"+l.name;var c={};for(var u in t)iE.call(t,u)&&u!=="css"&&u!==CC&&(c[u]=t[u]);return c.className=a,n&&(c.ref=n),_.createElement(_.Fragment,null,_.createElement(tse,{cache:e,serialized:l,isStringTag:typeof s=="string"}),_.createElement(s,c))}),rse=nse,S5=function(e,n){var r=arguments;if(n==null||!iE.call(n,"css"))return _.createElement.apply(void 0,r);var s=r.length,i=new Array(s);i[0]=rse,i[1]=ese(e,n);for(var a=2;a<s;a++)i[a]=r[a];return _.createElement.apply(null,i)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(S5||(S5={}));function aE(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i1(e)}function a0(){var t=aE.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var sse=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,ise=P6(function(t){return sse.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),ase=ise,ose=function(e){return e!=="theme"},C5=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?ase:ose},T5=function(e,n,r){var s;if(n){var i=n.shouldForwardProp;s=e.__emotion_forwardProp&&i?function(a){return e.__emotion_forwardProp(a)&&i(a)}:i}return typeof s!="function"&&r&&(s=e.__emotion_forwardProp),s},lse=function(e){var n=e.cache,r=e.serialized,s=e.isStringTag;return rE(n,r,s),L6(function(){return M6(n,r,s)}),null},cse=function t(e,n){var r=e.__emotion_real===e,s=r&&e.__emotion_base||e,i,a;n!==void 0&&(i=n.label,a=n.target);var l=T5(e,n,r),c=l||C5(s),u=!c("as");return function(){var h=arguments,f=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(i!==void 0&&f.push("label:"+i+";"),h[0]==null||h[0].raw===void 0)f.push.apply(f,h);else{var m=h[0];f.push(m[0]);for(var g=h.length,b=1;b<g;b++)f.push(h[b],m[b])}var y=B6(function(x,w,C){var k=u&&x.as||s,A="",N=[],P=x;if(x.theme==null){P={};for(var M in x)P[M]=x[M];P.theme=_.useContext(sE)}typeof x.className=="string"?A=O6(w.registered,N,x.className):x.className!=null&&(A=x.className+" ");var L=i1(f.concat(N),w.registered,P);A+=w.key+"-"+L.name,a!==void 0&&(A+=" "+a);var D=u&&l===void 0?C5(k):c,S={};for(var z in x)u&&z==="as"||D(z)&&(S[z]=x[z]);return S.className=A,C&&(S.ref=C),_.createElement(_.Fragment,null,_.createElement(lse,{cache:w,serialized:L,isStringTag:typeof k=="string"}),_.createElement(k,S))});return y.displayName=i!==void 0?i:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",y.defaultProps=e.defaultProps,y.__emotion_real=y,y.__emotion_base=s,y.__emotion_styles=f,y.__emotion_forwardProp=l,Object.defineProperty(y,"toString",{value:function(){return"."+a}}),y.withComponent=function(x,w){var C=t(x,Ot({},n,w,{shouldForwardProp:T5(y,w,!0)}));return C.apply(void 0,f)},y}},use=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],TC=cse.bind(null);use.forEach(function(t){TC[t]=TC(t)});function $6(t,e){return TC(t,e)}function dse(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const k5=[];function E5(t){return k5[0]=t,i1(k5)}var y2={exports:{}},or={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j5;function hse(){if(j5)return or;j5=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.for("react.view_transition"),g=Symbol.for("react.client.reference");function b(y){if(typeof y=="object"&&y!==null){var x=y.$$typeof;switch(x){case t:switch(y=y.type,y){case n:case s:case r:case c:case u:case m:return y;default:switch(y=y&&y.$$typeof,y){case a:case l:case f:case h:return y;case i:return y;default:return x}}case e:return x}}}return or.ContextConsumer=i,or.ContextProvider=a,or.Element=t,or.ForwardRef=l,or.Fragment=n,or.Lazy=f,or.Memo=h,or.Portal=e,or.Profiler=s,or.StrictMode=r,or.Suspense=c,or.SuspenseList=u,or.isContextConsumer=function(y){return b(y)===i},or.isContextProvider=function(y){return b(y)===a},or.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===t},or.isForwardRef=function(y){return b(y)===l},or.isFragment=function(y){return b(y)===n},or.isLazy=function(y){return b(y)===f},or.isMemo=function(y){return b(y)===h},or.isPortal=function(y){return b(y)===e},or.isProfiler=function(y){return b(y)===s},or.isStrictMode=function(y){return b(y)===r},or.isSuspense=function(y){return b(y)===c},or.isSuspenseList=function(y){return b(y)===u},or.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===n||y===s||y===r||y===c||y===u||typeof y=="object"&&y!==null&&(y.$$typeof===f||y.$$typeof===h||y.$$typeof===a||y.$$typeof===i||y.$$typeof===l||y.$$typeof===g||y.getModuleId!==void 0)},or.typeOf=b,or}var N5;function fse(){return N5||(N5=1,y2.exports=hse()),y2.exports}var z6=fse();function Zo(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function U6(t){if(_.isValidElement(t)||z6.isValidElementType(t)||!Zo(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=U6(t[n])}),e}function ea(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return Zo(t)&&Zo(e)&&Object.keys(e).forEach(s=>{_.isValidElement(e[s])||z6.isValidElementType(e[s])?r[s]=e[s]:Zo(e[s])&&Object.prototype.hasOwnProperty.call(t,s)&&Zo(t[s])?r[s]=ea(t[s],e[s],n):n.clone?r[s]=Zo(e[s])?U6(e[s]):e[s]:r[s]=e[s]}),r}const pse=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function mse(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...s}=t,i=pse(e),a=Object.keys(i);function l(m){return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${n})`}function c(m){return`@media (max-width:${(typeof e[m]=="number"?e[m]:m)-r/100}${n})`}function u(m,g){const b=a.indexOf(g);return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${n}) and (max-width:${(b!==-1&&typeof e[a[b]]=="number"?e[a[b]]:g)-r/100}${n})`}function h(m){return a.indexOf(m)+1<a.length?u(m,a[a.indexOf(m)+1]):l(m)}function f(m){const g=a.indexOf(m);return g===0?l(a[1]):g===a.length-1?c(a[g]):u(m,a[a.indexOf(m)+1]).replace("@media","@media not all and")}return{keys:a,values:i,up:l,down:c,between:u,only:h,not:f,unit:n,...s}}function gse(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,s)=>{var a,l;const i=/min-width:\s*([0-9.]+)/;return+(((a=r.match(i))==null?void 0:a[1])||0)-+(((l=s.match(i))==null?void 0:l[1])||0)});return n.length?n.reduce((r,s)=>{const i=e[s];return delete r[s],r[s]=i,r},{...e}):e}function yse(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function bse(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,s]=n,i=Number.isNaN(+r)?r||0:+r;return t.containerQueries(s).up(i)}function xse(t){const e=(i,a)=>i.replace("@media",a?`@container ${a}`:"@container");function n(i,a){i.up=(...l)=>e(t.breakpoints.up(...l),a),i.down=(...l)=>e(t.breakpoints.down(...l),a),i.between=(...l)=>e(t.breakpoints.between(...l),a),i.only=(...l)=>e(t.breakpoints.only(...l),a),i.not=(...l)=>{const c=e(t.breakpoints.not(...l),a);return c.includes("not all and")?c.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):c}}const r={},s=i=>(n(r,i),r);return n(s),{...t,containerQueries:s}}const vse={borderRadius:4};function zm(t,e){return e?ea(t,e,{clone:!1}):t}const a1={xs:0,sm:600,md:900,lg:1200,xl:1536},A5={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${a1[t]}px)`},wse={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:a1[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function tc(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const i=r.breakpoints||A5;return e.reduce((a,l,c)=>(a[i.up(i.keys[c])]=n(e[c]),a),{})}if(typeof e=="object"){const i=r.breakpoints||A5;return Object.keys(e).reduce((a,l)=>{if(yse(i.keys,l)){const c=bse(r.containerQueries?r:wse,l);c&&(a[c]=n(e[l],l))}else if(Object.keys(i.values||a1).includes(l)){const c=i.up(l);a[c]=n(e[l],l)}else{const c=l;a[c]=e[c]}return a},{})}return n(e)}function _se(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((r,s)=>{const i=t.up(s);return r[i]={},r},{}))||{}}function Sse(t,e){return t.reduce((n,r)=>{const s=n[r];return(!s||Object.keys(s).length===0)&&delete n[r],n},e)}function In(t){if(typeof t!="string")throw new Error(Id(7));return t.charAt(0).toUpperCase()+t.slice(1)}function o1(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((s,i)=>s&&s[i]?s[i]:null,t);if(r!=null)return r}return e.split(".").reduce((r,s)=>r&&r[s]!=null?r[s]:null,t)}function Px(t,e,n,r=n){let s;return typeof t=="function"?s=t(n):Array.isArray(t)?s=t[n]||r:s=o1(t,n)||r,e&&(s=e(s,r,t)),s}function ts(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:s}=t,i=a=>{if(a[e]==null)return null;const l=a[e],c=a.theme,u=o1(c,r)||{};return tc(a,l,f=>{let m=Px(u,s,f);return f===m&&typeof f=="string"&&(m=Px(u,s,`${e}${f==="default"?"":In(f)}`,f)),n===!1?m:{[n]:m}})};return i.propTypes={},i.filterProps=[e],i}function Cse(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const Tse={m:"margin",p:"padding"},kse={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},D5={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Ese=Cse(t=>{if(t.length>2)if(D5[t])t=D5[t];else return[t];const[e,n]=t.split(""),r=Tse[e],s=kse[n]||"";return Array.isArray(s)?s.map(i=>r+i):[r+s]}),oE=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],lE=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...oE,...lE];function o0(t,e,n,r){const s=o1(t,e,!0)??n;return typeof s=="number"||typeof s=="string"?i=>typeof i=="string"?i:typeof s=="string"?s.startsWith("var(")&&i===0?0:s.startsWith("var(")&&i===1?s:`calc(${i} * ${s})`:s*i:Array.isArray(s)?i=>{if(typeof i=="string")return i;const a=Math.abs(i),l=s[a];return i>=0?l:typeof l=="number"?-l:typeof l=="string"&&l.startsWith("var(")?`calc(-1 * ${l})`:`-${l}`}:typeof s=="function"?s:()=>{}}function cE(t){return o0(t,"spacing",8)}function l0(t,e){return typeof e=="string"||e==null?e:t(e)}function jse(t,e){return n=>t.reduce((r,s)=>(r[s]=l0(e,n),r),{})}function Nse(t,e,n,r){if(!e.includes(n))return null;const s=Ese(n),i=jse(s,r),a=t[n];return tc(t,a,i)}function H6(t,e){const n=cE(t.theme);return Object.keys(t).map(r=>Nse(t,e,r,n)).reduce(zm,{})}function $r(t){return H6(t,oE)}$r.propTypes={};$r.filterProps=oE;function zr(t){return H6(t,lE)}zr.propTypes={};zr.filterProps=lE;function W6(t=8,e=cE({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(i=>{const a=e(i);return typeof a=="number"?`${a}px`:a}).join(" ");return n.mui=!0,n}function l1(...t){const e=t.reduce((r,s)=>(s.filterProps.forEach(i=>{r[i]=s}),r),{}),n=r=>Object.keys(r).reduce((s,i)=>e[i]?zm(s,e[i](r)):s,{});return n.propTypes={},n.filterProps=t.reduce((r,s)=>r.concat(s.filterProps),[]),n}function Da(t){return typeof t!="number"?t:`${t}px solid`}function Ya(t,e){return ts({prop:t,themeKey:"borders",transform:e})}const Ase=Ya("border",Da),Dse=Ya("borderTop",Da),Pse=Ya("borderRight",Da),Ise=Ya("borderBottom",Da),Ose=Ya("borderLeft",Da),Mse=Ya("borderColor"),Rse=Ya("borderTopColor"),Lse=Ya("borderRightColor"),Fse=Ya("borderBottomColor"),Bse=Ya("borderLeftColor"),$se=Ya("outline",Da),zse=Ya("outlineColor"),c1=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=o0(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:l0(e,r)});return tc(t,t.borderRadius,n)}return null};c1.propTypes={};c1.filterProps=["borderRadius"];l1(Ase,Dse,Pse,Ise,Ose,Mse,Rse,Lse,Fse,Bse,c1,$se,zse);const u1=t=>{if(t.gap!==void 0&&t.gap!==null){const e=o0(t.theme,"spacing",8),n=r=>({gap:l0(e,r)});return tc(t,t.gap,n)}return null};u1.propTypes={};u1.filterProps=["gap"];const d1=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=o0(t.theme,"spacing",8),n=r=>({columnGap:l0(e,r)});return tc(t,t.columnGap,n)}return null};d1.propTypes={};d1.filterProps=["columnGap"];const h1=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=o0(t.theme,"spacing",8),n=r=>({rowGap:l0(e,r)});return tc(t,t.rowGap,n)}return null};h1.propTypes={};h1.filterProps=["rowGap"];const Use=ts({prop:"gridColumn"}),Hse=ts({prop:"gridRow"}),Wse=ts({prop:"gridAutoFlow"}),Vse=ts({prop:"gridAutoColumns"}),qse=ts({prop:"gridAutoRows"}),Yse=ts({prop:"gridTemplateColumns"}),Gse=ts({prop:"gridTemplateRows"}),Kse=ts({prop:"gridTemplateAreas"}),Xse=ts({prop:"gridArea"});l1(u1,d1,h1,Use,Hse,Wse,Vse,qse,Yse,Gse,Kse,Xse);function cf(t,e){return e==="grey"?e:t}const Qse=ts({prop:"color",themeKey:"palette",transform:cf}),Zse=ts({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:cf}),Jse=ts({prop:"backgroundColor",themeKey:"palette",transform:cf});l1(Qse,Zse,Jse);function Ki(t){return t<=1&&t!==0?`${t*100}%`:t}const eie=ts({prop:"width",transform:Ki}),uE=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var s,i,a,l,c;const r=((a=(i=(s=t.theme)==null?void 0:s.breakpoints)==null?void 0:i.values)==null?void 0:a[n])||a1[n];return r?((c=(l=t.theme)==null?void 0:l.breakpoints)==null?void 0:c.unit)!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Ki(n)}};return tc(t,t.maxWidth,e)}return null};uE.filterProps=["maxWidth"];const tie=ts({prop:"minWidth",transform:Ki}),nie=ts({prop:"height",transform:Ki}),rie=ts({prop:"maxHeight",transform:Ki}),sie=ts({prop:"minHeight",transform:Ki});ts({prop:"size",cssProperty:"width",transform:Ki});ts({prop:"size",cssProperty:"height",transform:Ki});const iie=ts({prop:"boxSizing"});l1(eie,uE,tie,nie,rie,sie,iie);const c0={border:{themeKey:"borders",transform:Da},borderTop:{themeKey:"borders",transform:Da},borderRight:{themeKey:"borders",transform:Da},borderBottom:{themeKey:"borders",transform:Da},borderLeft:{themeKey:"borders",transform:Da},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Da},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:c1},color:{themeKey:"palette",transform:cf},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:cf},backgroundColor:{themeKey:"palette",transform:cf},p:{style:zr},pt:{style:zr},pr:{style:zr},pb:{style:zr},pl:{style:zr},px:{style:zr},py:{style:zr},padding:{style:zr},paddingTop:{style:zr},paddingRight:{style:zr},paddingBottom:{style:zr},paddingLeft:{style:zr},paddingX:{style:zr},paddingY:{style:zr},paddingInline:{style:zr},paddingInlineStart:{style:zr},paddingInlineEnd:{style:zr},paddingBlock:{style:zr},paddingBlockStart:{style:zr},paddingBlockEnd:{style:zr},m:{style:$r},mt:{style:$r},mr:{style:$r},mb:{style:$r},ml:{style:$r},mx:{style:$r},my:{style:$r},margin:{style:$r},marginTop:{style:$r},marginRight:{style:$r},marginBottom:{style:$r},marginLeft:{style:$r},marginX:{style:$r},marginY:{style:$r},marginInline:{style:$r},marginInlineStart:{style:$r},marginInlineEnd:{style:$r},marginBlock:{style:$r},marginBlockStart:{style:$r},marginBlockEnd:{style:$r},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:u1},rowGap:{style:h1},columnGap:{style:d1},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ki},maxWidth:{style:uE},minWidth:{transform:Ki},height:{transform:Ki},maxHeight:{transform:Ki},minHeight:{transform:Ki},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function aie(...t){const e=t.reduce((r,s)=>r.concat(Object.keys(s)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function oie(t,e){return typeof t=="function"?t(e):t}function lie(){function t(n,r,s,i){const a={[n]:r,theme:s},l=i[n];if(!l)return{[n]:r};const{cssProperty:c=n,themeKey:u,transform:h,style:f}=l;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const m=o1(s,u)||{};return f?f(a):tc(a,r,b=>{let y=Px(m,h,b);return b===y&&typeof b=="string"&&(y=Px(m,h,`${n}${b==="default"?"":In(b)}`,b)),c===!1?y:{[c]:y}})}function e(n){const{sx:r,theme:s={}}=n||{};if(!r)return null;const i=s.unstable_sxConfig??c0;function a(l){let c=l;if(typeof l=="function")c=l(s);else if(typeof l!="object")return l;if(!c)return null;const u=_se(s.breakpoints),h=Object.keys(u);let f=u;return Object.keys(c).forEach(m=>{const g=oie(c[m],s);if(g!=null)if(typeof g=="object")if(i[m])f=zm(f,t(m,g,s,i));else{const b=tc({theme:s},g,y=>({[m]:y}));aie(b,g)?f[m]=e({sx:g,theme:s}):f=zm(f,b)}else f=zm(f,t(m,g,s,i))}),gse(s,Sse(h,f))}return Array.isArray(r)?r.map(a):a(r)}return e}const Od=lie();Od.filterProps=["sx"];function cie(t,e){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[t])||typeof n.getColorSchemeSelector!="function")return{};let s=n.getColorSchemeSelector(t);return s==="&"?e:((s.includes("data-")||s.includes("."))&&(s=`*:where(${s.replace(/\s*&$/,"")}) &`),{[s]:e})}return n.palette.mode===t?e:{}}function f1(t={},...e){const{breakpoints:n={},palette:r={},spacing:s,shape:i={},...a}=t,l=mse(n),c=W6(s);let u=ea({breakpoints:l,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:c,shape:{...vse,...i}},a);return u=xse(u),u.applyStyles=cie,u=e.reduce((h,f)=>ea(h,f),u),u.unstable_sxConfig={...c0,...a==null?void 0:a.unstable_sxConfig},u.unstable_sx=function(f){return Od({sx:f,theme:this})},u}function uie(t){return Object.keys(t).length===0}function die(t=null){const e=_.useContext(sE);return!e||uie(e)?t:e}const hie=f1();function p1(t=hie){return die(t)}const fie=t=>{var r;const e={systemProps:{},otherProps:{}},n=((r=t==null?void 0:t.theme)==null?void 0:r.unstable_sxConfig)??c0;return Object.keys(t).forEach(s=>{n[s]?e.systemProps[s]=t[s]:e.otherProps[s]=t[s]}),e};function dE(t){const{sx:e,...n}=t,{systemProps:r,otherProps:s}=fie(n);let i;return Array.isArray(e)?i=[r,...e]:typeof e=="function"?i=(...a)=>{const l=e(...a);return Zo(l)?{...r,...l}:r}:i={...r,...e},{...s,sx:i}}const P5=t=>t,pie=()=>{let t=P5;return{configure(e){t=e},generate(e){return t(e)},reset(){t=P5}}},V6=pie();function q6(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=q6(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ar(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=q6(t))&&(r&&(r+=" "),r+=e);return r}function mie(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:s}=t,i=$6("div",{shouldForwardProp:l=>l!=="theme"&&l!=="sx"&&l!=="as"})(Od);return _.forwardRef(function(c,u){const h=p1(n),{className:f,component:m="div",...g}=dE(c);return o.jsx(i,{as:m,ref:u,className:Ar(f,s?s(r):r),theme:e&&h[e]||h,...g})})}const gie={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function js(t,e,n="Mui"){const r=gie[e];return r?`${n}-${r}`:`${V6.generate(t)}-${e}`}function Pr(t,e,n="Mui"){const r={};return e.forEach(s=>{r[s]=js(t,s,n)}),r}function Y6(t){const{variants:e,...n}=t,r={variants:e,style:E5(n),isProcessed:!0};return r.style===n||e&&e.forEach(s=>{typeof s.style!="function"&&(s.style=E5(s.style))}),r}const yie=f1();function b2(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function bie(t){return t?(e,n)=>n[t]:null}function xie(t,e,n){t.theme=wie(t.theme)?n:t.theme[e]||t.theme}function Yb(t,e){const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(r=>Yb(t,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:s,...i}=n;r=i}return G6(t,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function G6(t,e,n=[]){var s;let r;e:for(let i=0;i<e.length;i+=1){const a=e[i];if(typeof a.props=="function"){if(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),!a.props(r))continue}else for(const l in a.props)if(t[l]!==a.props[l]&&((s=t.ownerState)==null?void 0:s[l])!==a.props[l])continue e;typeof a.style=="function"?(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),n.push(a.style(r))):n.push(a.style)}return n}function K6(t={}){const{themeId:e,defaultTheme:n=yie,rootShouldForwardProp:r=b2,slotShouldForwardProp:s=b2}=t;function i(l){xie(l,e,n)}return(l,c={})=>{dse(l,N=>N.filter(P=>P!==Od));const{name:u,slot:h,skipVariantsResolver:f,skipSx:m,overridesResolver:g=bie(Sie(h)),...b}=c,y=f!==void 0?f:h&&h!=="Root"&&h!=="root"||!1,x=m||!1;let w=b2;h==="Root"||h==="root"?w=r:h?w=s:_ie(l)&&(w=void 0);const C=$6(l,{shouldForwardProp:w,label:vie(),...b}),k=N=>{if(typeof N=="function"&&N.__emotion_real!==N)return function(M){return Yb(M,N)};if(Zo(N)){const P=Y6(N);return P.variants?function(L){return Yb(L,P)}:P.style}return N},A=(...N)=>{const P=[],M=N.map(k),L=[];if(P.push(i),u&&g&&L.push(function(O){var K,te;const j=(te=(K=O.theme.components)==null?void 0:K[u])==null?void 0:te.styleOverrides;if(!j)return null;const V={};for(const J in j)V[J]=Yb(O,j[J]);return g(O,V)}),u&&!y&&L.push(function(O){var V,K;const U=O.theme,j=(K=(V=U==null?void 0:U.components)==null?void 0:V[u])==null?void 0:K.variants;return j?G6(O,j):null}),x||L.push(Od),Array.isArray(M[0])){const z=M.shift(),O=new Array(P.length).fill(""),U=new Array(L.length).fill("");let j;j=[...O,...z,...U],j.raw=[...O,...z.raw,...U],P.unshift(j)}const D=[...P,...M,...L],S=C(...D);return l.muiName&&(S.muiName=l.muiName),S};return C.withConfig&&(A.withConfig=C.withConfig),A}}function vie(t,e){return void 0}function wie(t){for(const e in t)return!1;return!0}function _ie(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Sie(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}const Cie=K6();function bg(t,e){const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const s=r;if(s==="components"||s==="slots")n[s]={...t[s],...n[s]};else if(s==="componentsProps"||s==="slotProps"){const i=t[s],a=e[s];if(!a)n[s]=i||{};else if(!i)n[s]=a;else{n[s]={...a};for(const l in i)if(Object.prototype.hasOwnProperty.call(i,l)){const c=l;n[s][c]=bg(i[c],a[c])}}}else n[s]===void 0&&(n[s]=t[s])}return n}function Tie(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:bg(e.components[n].defaultProps,r)}function X6({props:t,name:e,defaultTheme:n,themeId:r}){let s=p1(n);return r&&(s=s[r]||s),Tie({theme:s,name:e,props:t})}const kC=typeof window<"u"?_.useLayoutEffect:_.useEffect;function kie(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function hE(t,e=0,n=1){return kie(t,e,n)}function Eie(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,s)=>s<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function hu(t){if(t.type)return t;if(t.charAt(0)==="#")return hu(Eie(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Id(9,t));let r=t.substring(e+1,t.length-1),s;if(n==="color"){if(r=r.split(" "),s=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(s))throw new Error(Id(10,s))}else r=r.split(",");return r=r.map(i=>parseFloat(i)),{type:n,values:r,colorSpace:s}}const jie=t=>{const e=hu(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},Em=(t,e)=>{try{return jie(t)}catch{return t}};function m1(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((s,i)=>i<3?parseInt(s,10):s):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function Q6(t){t=hu(t);const{values:e}=t,n=e[0],r=e[1]/100,s=e[2]/100,i=r*Math.min(s,1-s),a=(u,h=(u+n/30)%12)=>s-i*Math.max(Math.min(h-3,9-h,1),-1);let l="rgb";const c=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return t.type==="hsla"&&(l+="a",c.push(e[3])),m1({type:l,values:c})}function EC(t){t=hu(t);let e=t.type==="hsl"||t.type==="hsla"?hu(Q6(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Nie(t,e){const n=EC(t),r=EC(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Ia(t,e){return t=hu(t),e=hE(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,m1(t)}function lb(t,e,n){try{return Ia(t,e)}catch{return t}}function fE(t,e){if(t=hu(t),e=hE(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return m1(t)}function dr(t,e,n){try{return fE(t,e)}catch{return t}}function pE(t,e){if(t=hu(t),e=hE(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return m1(t)}function hr(t,e,n){try{return pE(t,e)}catch{return t}}function Aie(t,e=.15){return EC(t)>.5?fE(t,e):pE(t,e)}function cb(t,e,n){try{return Aie(t,e)}catch{return t}}function I5(...t){return t.reduce((e,n)=>n==null?e:function(...s){e.apply(this,s),n.apply(this,s)},()=>{})}function Die(t,e){var n,r,s;return _.isValidElement(t)&&e.indexOf(t.type.muiName??((s=(r=(n=t.type)==null?void 0:n._payload)==null?void 0:r.value)==null?void 0:s.muiName))!==-1}function Md(t){return t&&t.ownerDocument||document}function Ix(t){return Md(t).defaultView||window}function jC(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let O5=0;function Pie(t){const[e,n]=_.useState(t),r=t||e;return _.useEffect(()=>{e==null&&(O5+=1,n(`mui-${O5}`))},[e]),r}const Iie={...tx},M5=Iie.useId;function Z6(t){if(M5!==void 0){const e=M5();return t??e}return Pie(t)}function Oie({controlled:t,default:e,name:n,state:r="value"}){const{current:s}=_.useRef(t!==void 0),[i,a]=_.useState(e),l=s?t:i,c=_.useCallback(u=>{s||a(u)},[]);return[l,c]}function uf(t){const e=_.useRef(t);return kC(()=>{e.current=t}),_.useRef((...n)=>(0,e.current)(...n)).current}function nc(...t){return _.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{jC(n,e)})},t)}const R5={};function J6(t,e){const n=_.useRef(R5);return n.current===R5&&(n.current=t(e)),n}const Mie=[];function Rie(t){_.useEffect(t,Mie)}class mE{constructor(){Ft(this,"currentId",null);Ft(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});Ft(this,"disposeEffect",()=>this.clear)}static create(){return new mE}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function Lie(){const t=J6(mE.create).current;return Rie(t.disposeEffect),t}function L5(t){try{return t.matches(":focus-visible")}catch{}return!1}function Fie(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}function Ls(t,e,n=void 0){const r={};for(const s in t){const i=t[s];let a="",l=!0;for(let c=0;c<i.length;c+=1){const u=i[c];u&&(a+=(l===!0?"":" ")+e(u),l=!1,n&&n[u]&&(a+=" "+n[u]))}r[s]=a}return r}function Bie(t){return typeof t=="string"}function $ie(t,e,n){return t===void 0||Bie(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function e8(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function F5(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function zie(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:s,className:i}=t;if(!e){const g=Ar(n==null?void 0:n.className,i,s==null?void 0:s.className,r==null?void 0:r.className),b={...n==null?void 0:n.style,...s==null?void 0:s.style,...r==null?void 0:r.style},y={...n,...s,...r};return g.length>0&&(y.className=g),Object.keys(b).length>0&&(y.style=b),{props:y,internalRef:void 0}}const a=e8({...s,...r}),l=F5(r),c=F5(s),u=e(a),h=Ar(u==null?void 0:u.className,n==null?void 0:n.className,i,s==null?void 0:s.className,r==null?void 0:r.className),f={...u==null?void 0:u.style,...n==null?void 0:n.style,...s==null?void 0:s.style,...r==null?void 0:r.style},m={...u,...n,...c,...l};return h.length>0&&(m.className=h),Object.keys(f).length>0&&(m.style=f),{props:m,internalRef:u.ref}}function Uie(t,e,n){return typeof t=="function"?t(e,n):t}function gE(t){var e;return parseInt(_.version,10)>=19?((e=t==null?void 0:t.props)==null?void 0:e.ref)||null:(t==null?void 0:t.ref)||null}const Hie=_.createContext(void 0);function Wie(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const s=e.components[n];return s.defaultProps?bg(s.defaultProps,r):!s.styleOverrides&&!s.variants?bg(s,r):r}function Vie({props:t,name:e}){const n=_.useContext(Hie);return Wie({props:t,name:e,theme:{components:n}})}const B5={theme:void 0};function qie(t){let e,n;return function(s){let i=e;return(i===void 0||s.theme!==n)&&(B5.theme=s.theme,i=Y6(t(B5)),e=i,n=s.theme),i}}function Yie(t=""){function e(...r){if(!r.length)return"";const s=r[0];return typeof s=="string"&&!s.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${s}${e(...r.slice(1))})`:`, ${s}`}return(r,...s)=>`var(--${t?`${t}-`:""}${r}${e(...s)})`}const $5=(t,e,n,r=[])=>{let s=t;e.forEach((i,a)=>{a===e.length-1?Array.isArray(s)?s[Number(i)]=n:s&&typeof s=="object"&&(s[i]=n):s&&typeof s=="object"&&(s[i]||(s[i]=r.includes(i)?[]:{}),s=s[i])})},Gie=(t,e,n)=>{function r(s,i=[],a=[]){Object.entries(s).forEach(([l,c])=>{(!n||n&&!n([...i,l]))&&c!=null&&(typeof c=="object"&&Object.keys(c).length>0?r(c,[...i,l],Array.isArray(c)?[...a,l]:a):e([...i,l],c,a))})}r(t)},Kie=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function x2(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},s={},i={},a={};return Gie(t,(l,c,u)=>{if((typeof c=="string"||typeof c=="number")&&(!r||!r(l,c))){const h=`--${n?`${n}-`:""}${l.join("-")}`,f=Kie(l,c);Object.assign(s,{[h]:f}),$5(i,l,`var(${h})`,u),$5(a,l,`var(${h}, ${f})`,u)}},l=>l[0]==="vars"),{css:s,vars:i,varsWithDefaults:a}}function Xie(t,e={}){const{getSelector:n=x,disableCssColorScheme:r,colorSchemeSelector:s}=e,{colorSchemes:i={},components:a,defaultColorScheme:l="light",...c}=t,{vars:u,css:h,varsWithDefaults:f}=x2(c,e);let m=f;const g={},{[l]:b,...y}=i;if(Object.entries(y||{}).forEach(([k,A])=>{const{vars:N,css:P,varsWithDefaults:M}=x2(A,e);m=ea(m,M),g[k]={css:P,vars:N}}),b){const{css:k,vars:A,varsWithDefaults:N}=x2(b,e);m=ea(m,N),g[l]={css:k,vars:A}}function x(k,A){var P,M;let N=s;if(s==="class"&&(N=".%s"),s==="data"&&(N="[data-%s]"),s!=null&&s.startsWith("data-")&&!s.includes("%s")&&(N=`[${s}="%s"]`),k){if(N==="media")return t.defaultColorScheme===k?":root":{[`@media (prefers-color-scheme: ${((M=(P=i[k])==null?void 0:P.palette)==null?void 0:M.mode)||k})`]:{":root":A}};if(N)return t.defaultColorScheme===k?`:root, ${N.replace("%s",String(k))}`:N.replace("%s",String(k))}return":root"}return{vars:m,generateThemeVars:()=>{let k={...u};return Object.entries(g).forEach(([,{vars:A}])=>{k=ea(k,A)}),k},generateStyleSheets:()=>{var L,D;const k=[],A=t.defaultColorScheme||"light";function N(S,z){Object.keys(z).length&&k.push(typeof S=="string"?{[S]:{...z}}:S)}N(n(void 0,{...h}),h);const{[A]:P,...M}=g;if(P){const{css:S}=P,z=(D=(L=i[A])==null?void 0:L.palette)==null?void 0:D.mode,O=!r&&z?{colorScheme:z,...S}:{...S};N(n(A,{...O}),O)}return Object.entries(M).forEach(([S,{css:z}])=>{var j,V;const O=(V=(j=i[S])==null?void 0:j.palette)==null?void 0:V.mode,U=!r&&O?{colorScheme:O,...z}:{...z};N(n(S,{...U}),U)}),k}}}function Qie(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}const Zie=(t,e)=>t.filter(n=>e.includes(n)),ip=(t,e,n)=>{const r=t.keys[0];Array.isArray(e)?e.forEach((s,i)=>{n((a,l)=>{i<=t.keys.length-1&&(i===0?Object.assign(a,l):a[t.up(t.keys[i])]=l)},s)}):e&&typeof e=="object"?(Object.keys(e).length>t.keys.length?t.keys:Zie(t.keys,Object.keys(e))).forEach(i=>{if(t.keys.includes(i)){const a=e[i];a!==void 0&&n((l,c)=>{r===i?Object.assign(l,c):l[t.up(i)]=c},a)}}):(typeof e=="number"||typeof e=="string")&&n((s,i)=>{Object.assign(s,i)},e)};function Ox(t){return`--Grid-${t}Spacing`}function g1(t){return`--Grid-parent-${t}Spacing`}const z5="--Grid-columns",df="--Grid-parent-columns",Jie=({theme:t,ownerState:e})=>{const n={};return ip(t.breakpoints,e.size,(r,s)=>{let i={};s==="grow"&&(i={flexBasis:0,flexGrow:1,maxWidth:"100%"}),s==="auto"&&(i={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof s=="number"&&(i={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${s} / var(${df}) - (var(${df}) - ${s}) * (var(${g1("column")}) / var(${df})))`}),r(n,i)}),n},eae=({theme:t,ownerState:e})=>{const n={};return ip(t.breakpoints,e.offset,(r,s)=>{let i={};s==="auto"&&(i={marginLeft:"auto"}),typeof s=="number"&&(i={marginLeft:s===0?"0px":`calc(100% * ${s} / var(${df}) + var(${g1("column")}) * ${s} / var(${df}))`}),r(n,i)}),n},tae=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={[z5]:12};return ip(t.breakpoints,e.columns,(r,s)=>{const i=s??12;r(n,{[z5]:i,"> *":{[df]:i}})}),n},nae=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return ip(t.breakpoints,e.rowSpacing,(r,s)=>{var a;const i=typeof s=="string"?s:(a=t.spacing)==null?void 0:a.call(t,s);r(n,{[Ox("row")]:i,"> *":{[g1("row")]:i}})}),n},rae=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return ip(t.breakpoints,e.columnSpacing,(r,s)=>{var a;const i=typeof s=="string"?s:(a=t.spacing)==null?void 0:a.call(t,s);r(n,{[Ox("column")]:i,"> *":{[g1("column")]:i}})}),n},sae=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return ip(t.breakpoints,e.direction,(r,s)=>{r(n,{flexDirection:s})}),n},iae=({ownerState:t})=>({minWidth:0,boxSizing:"border-box",...t.container&&{display:"flex",flexWrap:"wrap",...t.wrap&&t.wrap!=="wrap"&&{flexWrap:t.wrap},gap:`var(${Ox("row")}) var(${Ox("column")})`}}),aae=t=>{const e=[];return Object.entries(t).forEach(([n,r])=>{r!==!1&&r!==void 0&&e.push(`grid-${n}-${String(r)}`)}),e},oae=(t,e="xs")=>{function n(r){return r===void 0?!1:typeof r=="string"&&!Number.isNaN(Number(r))||typeof r=="number"&&r>0}if(n(t))return[`spacing-${e}-${String(t)}`];if(typeof t=="object"&&!Array.isArray(t)){const r=[];return Object.entries(t).forEach(([s,i])=>{n(i)&&r.push(`spacing-${s}-${String(i)}`)}),r}return[]},lae=t=>t===void 0?[]:typeof t=="object"?Object.entries(t).map(([e,n])=>`direction-${e}-${n}`):[`direction-xs-${String(t)}`];function cae(t,e){t.item!==void 0&&delete t.item,t.zeroMinWidth!==void 0&&delete t.zeroMinWidth,e.keys.forEach(n=>{t[n]!==void 0&&delete t[n]})}const uae=f1(),dae=Cie("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>e.root});function hae(t){return X6({props:t,name:"MuiGrid",defaultTheme:uae})}function fae(t={}){const{createStyledComponent:e=dae,useThemeProps:n=hae,useTheme:r=p1,componentName:s="MuiGrid"}=t,i=(u,h)=>{const{container:f,direction:m,spacing:g,wrap:b,size:y}=u,x={root:["root",f&&"container",b!=="wrap"&&`wrap-xs-${String(b)}`,...lae(m),...aae(y),...f?oae(g,h.breakpoints.keys[0]):[]]};return Ls(x,w=>js(s,w),{})};function a(u,h,f=()=>!0){const m={};return u===null||(Array.isArray(u)?u.forEach((g,b)=>{g!==null&&f(g)&&h.keys[b]&&(m[h.keys[b]]=g)}):typeof u=="object"?Object.keys(u).forEach(g=>{const b=u[g];b!=null&&f(b)&&(m[g]=b)}):m[h.keys[0]]=u),m}const l=e(tae,rae,nae,Jie,sae,iae,eae),c=_.forwardRef(function(h,f){const m=r(),g=n(h),b=dE(g);cae(b,m.breakpoints);const{className:y,children:x,columns:w=12,container:C=!1,component:k="div",direction:A="row",wrap:N="wrap",size:P={},offset:M={},spacing:L=0,rowSpacing:D=L,columnSpacing:S=L,unstable_level:z=0,...O}=b,U=a(P,m.breakpoints,F=>F!==!1),j=a(M,m.breakpoints),V=h.columns??(z?void 0:w),K=h.spacing??(z?void 0:L),te=h.rowSpacing??h.spacing??(z?void 0:D),J=h.columnSpacing??h.spacing??(z?void 0:S),X={...b,level:z,columns:V,container:C,direction:A,wrap:N,spacing:K,rowSpacing:te,columnSpacing:J,size:U,offset:j},Y=i(X,m);return o.jsx(l,{ref:f,as:k,ownerState:X,className:Ar(Y.root,y),...O,children:_.Children.map(x,F=>{var H;return _.isValidElement(F)&&Die(F,["Grid"])&&C&&F.props.container?_.cloneElement(F,{unstable_level:((H=F.props)==null?void 0:H.unstable_level)??z+1}):F})})});return c.muiName="Grid",c}const xg={black:"#000",white:"#fff"},pae={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Ih={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Oh={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},cm={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Mh={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Rh={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Lh={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function t8(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:xg.white,default:xg.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const mae=t8();function n8(){return{text:{primary:xg.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:xg.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const U5=n8();function H5(t,e,n,r){const s=r.light||r,i=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=pE(t.main,s):e==="dark"&&(t.dark=fE(t.main,i)))}function gae(t="light"){return t==="dark"?{main:Mh[200],light:Mh[50],dark:Mh[400]}:{main:Mh[700],light:Mh[400],dark:Mh[800]}}function yae(t="light"){return t==="dark"?{main:Ih[200],light:Ih[50],dark:Ih[400]}:{main:Ih[500],light:Ih[300],dark:Ih[700]}}function bae(t="light"){return t==="dark"?{main:Oh[500],light:Oh[300],dark:Oh[700]}:{main:Oh[700],light:Oh[400],dark:Oh[800]}}function xae(t="light"){return t==="dark"?{main:Rh[400],light:Rh[300],dark:Rh[700]}:{main:Rh[700],light:Rh[500],dark:Rh[900]}}function vae(t="light"){return t==="dark"?{main:Lh[400],light:Lh[300],dark:Lh[700]}:{main:Lh[800],light:Lh[500],dark:Lh[900]}}function wae(t="light"){return t==="dark"?{main:cm[400],light:cm[300],dark:cm[700]}:{main:"#ed6c02",light:cm[500],dark:cm[900]}}function yE(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...s}=t,i=t.primary||gae(e),a=t.secondary||yae(e),l=t.error||bae(e),c=t.info||xae(e),u=t.success||vae(e),h=t.warning||wae(e);function f(y){return Nie(y,U5.text.primary)>=n?U5.text.primary:mae.text.primary}const m=({color:y,name:x,mainShade:w=500,lightShade:C=300,darkShade:k=700})=>{if(y={...y},!y.main&&y[w]&&(y.main=y[w]),!y.hasOwnProperty("main"))throw new Error(Id(11,x?` (${x})`:"",w));if(typeof y.main!="string")throw new Error(Id(12,x?` (${x})`:"",JSON.stringify(y.main)));return H5(y,"light",C,r),H5(y,"dark",k,r),y.contrastText||(y.contrastText=f(y.main)),y};let g;return e==="light"?g=t8():e==="dark"&&(g=n8()),ea({common:{...xg},mode:e,primary:m({color:i,name:"primary"}),secondary:m({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:l,name:"error"}),warning:m({color:h,name:"warning"}),info:m({color:c,name:"info"}),success:m({color:u,name:"success"}),grey:pae,contrastThreshold:n,getContrastText:f,augmentColor:m,tonalOffset:r,...g},s)}function _ae(t){const e={};return Object.entries(t).forEach(r=>{const[s,i]=r;typeof i=="object"&&(e[s]=`${i.fontStyle?`${i.fontStyle} `:""}${i.fontVariant?`${i.fontVariant} `:""}${i.fontWeight?`${i.fontWeight} `:""}${i.fontStretch?`${i.fontStretch} `:""}${i.fontSize||""}${i.lineHeight?`/${i.lineHeight} `:""}${i.fontFamily||""}`)}),e}function Sae(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function Cae(t){return Math.round(t*1e5)/1e5}const W5={textTransform:"uppercase"},V5='"Roboto", "Helvetica", "Arial", sans-serif';function Tae(t,e){const{fontFamily:n=V5,fontSize:r=14,fontWeightLight:s=300,fontWeightRegular:i=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:h,...f}=typeof e=="function"?e(t):e,m=r/14,g=h||(x=>`${x/c*m}rem`),b=(x,w,C,k,A)=>({fontFamily:n,fontWeight:x,fontSize:g(w),lineHeight:C,...n===V5?{letterSpacing:`${Cae(k/w)}em`}:{},...A,...u}),y={h1:b(s,96,1.167,-1.5),h2:b(s,60,1.2,-.5),h3:b(i,48,1.167,0),h4:b(i,34,1.235,.25),h5:b(i,24,1.334,0),h6:b(a,20,1.6,.15),subtitle1:b(i,16,1.75,.15),subtitle2:b(a,14,1.57,.1),body1:b(i,16,1.5,.15),body2:b(i,14,1.43,.15),button:b(a,14,1.75,.4,W5),caption:b(i,12,1.66,.4),overline:b(i,12,2.66,1,W5),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return ea({htmlFontSize:c,pxToRem:g,fontFamily:n,fontSize:r,fontWeightLight:s,fontWeightRegular:i,fontWeightMedium:a,fontWeightBold:l,...y},f,{clone:!1})}const kae=.2,Eae=.14,jae=.12;function Er(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${kae})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${Eae})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${jae})`].join(",")}const Nae=["none",Er(0,2,1,-1,0,1,1,0,0,1,3,0),Er(0,3,1,-2,0,2,2,0,0,1,5,0),Er(0,3,3,-2,0,3,4,0,0,1,8,0),Er(0,2,4,-1,0,4,5,0,0,1,10,0),Er(0,3,5,-1,0,5,8,0,0,1,14,0),Er(0,3,5,-1,0,6,10,0,0,1,18,0),Er(0,4,5,-2,0,7,10,1,0,2,16,1),Er(0,5,5,-3,0,8,10,1,0,3,14,2),Er(0,5,6,-3,0,9,12,1,0,3,16,2),Er(0,6,6,-3,0,10,14,1,0,4,18,3),Er(0,6,7,-4,0,11,15,1,0,4,20,3),Er(0,7,8,-4,0,12,17,2,0,5,22,4),Er(0,7,8,-4,0,13,19,2,0,5,24,4),Er(0,7,9,-4,0,14,21,2,0,5,26,4),Er(0,8,9,-5,0,15,22,2,0,6,28,5),Er(0,8,10,-5,0,16,24,2,0,6,30,5),Er(0,8,11,-5,0,17,26,2,0,6,32,5),Er(0,9,11,-5,0,18,28,2,0,7,34,6),Er(0,9,12,-6,0,19,29,2,0,7,36,6),Er(0,10,13,-6,0,20,31,3,0,8,38,7),Er(0,10,13,-6,0,21,33,3,0,8,40,7),Er(0,10,14,-6,0,22,35,3,0,8,42,7),Er(0,11,14,-7,0,23,36,3,0,9,44,8),Er(0,11,15,-7,0,24,38,3,0,9,46,8)],Aae={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Dae={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function q5(t){return`${Math.round(t)}ms`}function Pae(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function Iae(t){const e={...Aae,...t.easing},n={...Dae,...t.duration};return{getAutoHeightDuration:Pae,create:(s=["all"],i={})=>{const{duration:a=n.standard,easing:l=e.easeInOut,delay:c=0,...u}=i;return(Array.isArray(s)?s:[s]).map(h=>`${h} ${typeof a=="string"?a:q5(a)} ${l} ${typeof c=="string"?c:q5(c)}`).join(",")},...t,easing:e,duration:n}}const Oae={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Mae(t){return Zo(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function r8(t={}){const e={...t};function n(r){const s=Object.entries(r);for(let i=0;i<s.length;i++){const[a,l]=s[i];!Mae(l)||a.startsWith("unstable_")?delete r[a]:Zo(l)&&(r[a]={...l},n(r[a]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function NC(t={},...e){const{breakpoints:n,mixins:r={},spacing:s,palette:i={},transitions:a={},typography:l={},shape:c,...u}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(Id(20));const h=yE(i),f=f1(t);let m=ea(f,{mixins:Sae(f.breakpoints,r),palette:h,shadows:Nae.slice(),typography:Tae(h,l),transitions:Iae(a),zIndex:{...Oae}});return m=ea(m,u),m=e.reduce((g,b)=>ea(g,b),m),m.unstable_sxConfig={...c0,...u==null?void 0:u.unstable_sxConfig},m.unstable_sx=function(b){return Od({sx:b,theme:this})},m.toRuntimeSource=r8,m}function Rae(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const Lae=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=Rae(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function s8(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function i8(t){return t==="dark"?Lae:[]}function Fae(t){const{palette:e={mode:"light"},opacity:n,overlays:r,...s}=t,i=yE(e);return{palette:i,opacity:{...s8(i.mode),...n},overlays:r||i8(i.mode),...s}}function Bae(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const $ae=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],zae=t=>(e,n)=>{const r=t.rootSelector||":root",s=t.colorSchemeSelector;let i=s;if(s==="class"&&(i=".%s"),s==="data"&&(i="[data-%s]"),s!=null&&s.startsWith("data-")&&!s.includes("%s")&&(i=`[${s}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const a={};return $ae(t.cssVarPrefix).forEach(l=>{a[l]=n[l],delete n[l]}),i==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:a}}:i?{[i.replace("%s",e)]:a,[`${r}, ${i.replace("%s",e)}`]:n}:{[r]:{...n,...a}}}if(i&&i!=="media")return`${r}, ${i.replace("%s",String(e))}`}else if(e){if(i==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(i)return i.replace("%s",String(e))}return r};function Uae(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function ft(t,e,n){!t[e]&&n&&(t[e]=n)}function jm(t){return typeof t!="string"||!t.startsWith("hsl")?t:Q6(t)}function Ol(t,e){`${e}Channel`in t||(t[`${e}Channel`]=Em(jm(t[e])))}function Hae(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const zo=t=>{try{return t()}catch{}},Wae=(t="mui")=>Yie(t);function v2(t,e,n,r){if(!e)return;e=e===!0?{}:e;const s=r==="dark"?"dark":"light";if(!n){t[r]=Fae({...e,palette:{mode:s,...e==null?void 0:e.palette}});return}const{palette:i,...a}=NC({...n,palette:{mode:s,...e==null?void 0:e.palette}});return t[r]={...e,palette:i,opacity:{...s8(s),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||i8(s)},a}function Vae(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:s=!1,cssVarPrefix:i="mui",shouldSkipGeneratingVar:a=Bae,colorSchemeSelector:l=n.light&&n.dark?"media":void 0,rootSelector:c=":root",...u}=t,h=Object.keys(n)[0],f=r||(n.light&&h!=="light"?"light":h),m=Wae(i),{[f]:g,light:b,dark:y,...x}=n,w={...x};let C=g;if((f==="dark"&&!("dark"in n)||f==="light"&&!("light"in n))&&(C=!0),!C)throw new Error(Id(21,f));const k=v2(w,C,u,f);b&&!w.light&&v2(w,b,void 0,"light"),y&&!w.dark&&v2(w,y,void 0,"dark");let A={defaultColorScheme:f,...k,cssVarPrefix:i,colorSchemeSelector:l,rootSelector:c,getCssVar:m,colorSchemes:w,font:{..._ae(k.typography),...k.font},spacing:Hae(u.spacing)};Object.keys(A.colorSchemes).forEach(D=>{const S=A.colorSchemes[D].palette,z=O=>{const U=O.split("-"),j=U[1],V=U[2];return m(O,S[j][V])};if(S.mode==="light"&&(ft(S.common,"background","#fff"),ft(S.common,"onBackground","#000")),S.mode==="dark"&&(ft(S.common,"background","#000"),ft(S.common,"onBackground","#fff")),Uae(S,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),S.mode==="light"){ft(S.Alert,"errorColor",dr(S.error.light,.6)),ft(S.Alert,"infoColor",dr(S.info.light,.6)),ft(S.Alert,"successColor",dr(S.success.light,.6)),ft(S.Alert,"warningColor",dr(S.warning.light,.6)),ft(S.Alert,"errorFilledBg",z("palette-error-main")),ft(S.Alert,"infoFilledBg",z("palette-info-main")),ft(S.Alert,"successFilledBg",z("palette-success-main")),ft(S.Alert,"warningFilledBg",z("palette-warning-main")),ft(S.Alert,"errorFilledColor",zo(()=>S.getContrastText(S.error.main))),ft(S.Alert,"infoFilledColor",zo(()=>S.getContrastText(S.info.main))),ft(S.Alert,"successFilledColor",zo(()=>S.getContrastText(S.success.main))),ft(S.Alert,"warningFilledColor",zo(()=>S.getContrastText(S.warning.main))),ft(S.Alert,"errorStandardBg",hr(S.error.light,.9)),ft(S.Alert,"infoStandardBg",hr(S.info.light,.9)),ft(S.Alert,"successStandardBg",hr(S.success.light,.9)),ft(S.Alert,"warningStandardBg",hr(S.warning.light,.9)),ft(S.Alert,"errorIconColor",z("palette-error-main")),ft(S.Alert,"infoIconColor",z("palette-info-main")),ft(S.Alert,"successIconColor",z("palette-success-main")),ft(S.Alert,"warningIconColor",z("palette-warning-main")),ft(S.AppBar,"defaultBg",z("palette-grey-100")),ft(S.Avatar,"defaultBg",z("palette-grey-400")),ft(S.Button,"inheritContainedBg",z("palette-grey-300")),ft(S.Button,"inheritContainedHoverBg",z("palette-grey-A100")),ft(S.Chip,"defaultBorder",z("palette-grey-400")),ft(S.Chip,"defaultAvatarColor",z("palette-grey-700")),ft(S.Chip,"defaultIconColor",z("palette-grey-700")),ft(S.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ft(S.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ft(S.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ft(S.LinearProgress,"primaryBg",hr(S.primary.main,.62)),ft(S.LinearProgress,"secondaryBg",hr(S.secondary.main,.62)),ft(S.LinearProgress,"errorBg",hr(S.error.main,.62)),ft(S.LinearProgress,"infoBg",hr(S.info.main,.62)),ft(S.LinearProgress,"successBg",hr(S.success.main,.62)),ft(S.LinearProgress,"warningBg",hr(S.warning.main,.62)),ft(S.Skeleton,"bg",`rgba(${z("palette-text-primaryChannel")} / 0.11)`),ft(S.Slider,"primaryTrack",hr(S.primary.main,.62)),ft(S.Slider,"secondaryTrack",hr(S.secondary.main,.62)),ft(S.Slider,"errorTrack",hr(S.error.main,.62)),ft(S.Slider,"infoTrack",hr(S.info.main,.62)),ft(S.Slider,"successTrack",hr(S.success.main,.62)),ft(S.Slider,"warningTrack",hr(S.warning.main,.62));const O=cb(S.background.default,.8);ft(S.SnackbarContent,"bg",O),ft(S.SnackbarContent,"color",zo(()=>S.getContrastText(O))),ft(S.SpeedDialAction,"fabHoverBg",cb(S.background.paper,.15)),ft(S.StepConnector,"border",z("palette-grey-400")),ft(S.StepContent,"border",z("palette-grey-400")),ft(S.Switch,"defaultColor",z("palette-common-white")),ft(S.Switch,"defaultDisabledColor",z("palette-grey-100")),ft(S.Switch,"primaryDisabledColor",hr(S.primary.main,.62)),ft(S.Switch,"secondaryDisabledColor",hr(S.secondary.main,.62)),ft(S.Switch,"errorDisabledColor",hr(S.error.main,.62)),ft(S.Switch,"infoDisabledColor",hr(S.info.main,.62)),ft(S.Switch,"successDisabledColor",hr(S.success.main,.62)),ft(S.Switch,"warningDisabledColor",hr(S.warning.main,.62)),ft(S.TableCell,"border",hr(lb(S.divider,1),.88)),ft(S.Tooltip,"bg",lb(S.grey[700],.92))}if(S.mode==="dark"){ft(S.Alert,"errorColor",hr(S.error.light,.6)),ft(S.Alert,"infoColor",hr(S.info.light,.6)),ft(S.Alert,"successColor",hr(S.success.light,.6)),ft(S.Alert,"warningColor",hr(S.warning.light,.6)),ft(S.Alert,"errorFilledBg",z("palette-error-dark")),ft(S.Alert,"infoFilledBg",z("palette-info-dark")),ft(S.Alert,"successFilledBg",z("palette-success-dark")),ft(S.Alert,"warningFilledBg",z("palette-warning-dark")),ft(S.Alert,"errorFilledColor",zo(()=>S.getContrastText(S.error.dark))),ft(S.Alert,"infoFilledColor",zo(()=>S.getContrastText(S.info.dark))),ft(S.Alert,"successFilledColor",zo(()=>S.getContrastText(S.success.dark))),ft(S.Alert,"warningFilledColor",zo(()=>S.getContrastText(S.warning.dark))),ft(S.Alert,"errorStandardBg",dr(S.error.light,.9)),ft(S.Alert,"infoStandardBg",dr(S.info.light,.9)),ft(S.Alert,"successStandardBg",dr(S.success.light,.9)),ft(S.Alert,"warningStandardBg",dr(S.warning.light,.9)),ft(S.Alert,"errorIconColor",z("palette-error-main")),ft(S.Alert,"infoIconColor",z("palette-info-main")),ft(S.Alert,"successIconColor",z("palette-success-main")),ft(S.Alert,"warningIconColor",z("palette-warning-main")),ft(S.AppBar,"defaultBg",z("palette-grey-900")),ft(S.AppBar,"darkBg",z("palette-background-paper")),ft(S.AppBar,"darkColor",z("palette-text-primary")),ft(S.Avatar,"defaultBg",z("palette-grey-600")),ft(S.Button,"inheritContainedBg",z("palette-grey-800")),ft(S.Button,"inheritContainedHoverBg",z("palette-grey-700")),ft(S.Chip,"defaultBorder",z("palette-grey-700")),ft(S.Chip,"defaultAvatarColor",z("palette-grey-300")),ft(S.Chip,"defaultIconColor",z("palette-grey-300")),ft(S.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ft(S.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ft(S.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ft(S.LinearProgress,"primaryBg",dr(S.primary.main,.5)),ft(S.LinearProgress,"secondaryBg",dr(S.secondary.main,.5)),ft(S.LinearProgress,"errorBg",dr(S.error.main,.5)),ft(S.LinearProgress,"infoBg",dr(S.info.main,.5)),ft(S.LinearProgress,"successBg",dr(S.success.main,.5)),ft(S.LinearProgress,"warningBg",dr(S.warning.main,.5)),ft(S.Skeleton,"bg",`rgba(${z("palette-text-primaryChannel")} / 0.13)`),ft(S.Slider,"primaryTrack",dr(S.primary.main,.5)),ft(S.Slider,"secondaryTrack",dr(S.secondary.main,.5)),ft(S.Slider,"errorTrack",dr(S.error.main,.5)),ft(S.Slider,"infoTrack",dr(S.info.main,.5)),ft(S.Slider,"successTrack",dr(S.success.main,.5)),ft(S.Slider,"warningTrack",dr(S.warning.main,.5));const O=cb(S.background.default,.98);ft(S.SnackbarContent,"bg",O),ft(S.SnackbarContent,"color",zo(()=>S.getContrastText(O))),ft(S.SpeedDialAction,"fabHoverBg",cb(S.background.paper,.15)),ft(S.StepConnector,"border",z("palette-grey-600")),ft(S.StepContent,"border",z("palette-grey-600")),ft(S.Switch,"defaultColor",z("palette-grey-300")),ft(S.Switch,"defaultDisabledColor",z("palette-grey-600")),ft(S.Switch,"primaryDisabledColor",dr(S.primary.main,.55)),ft(S.Switch,"secondaryDisabledColor",dr(S.secondary.main,.55)),ft(S.Switch,"errorDisabledColor",dr(S.error.main,.55)),ft(S.Switch,"infoDisabledColor",dr(S.info.main,.55)),ft(S.Switch,"successDisabledColor",dr(S.success.main,.55)),ft(S.Switch,"warningDisabledColor",dr(S.warning.main,.55)),ft(S.TableCell,"border",dr(lb(S.divider,1),.68)),ft(S.Tooltip,"bg",lb(S.grey[700],.92))}Ol(S.background,"default"),Ol(S.background,"paper"),Ol(S.common,"background"),Ol(S.common,"onBackground"),Ol(S,"divider"),Object.keys(S).forEach(O=>{const U=S[O];O!=="tonalOffset"&&U&&typeof U=="object"&&(U.main&&ft(S[O],"mainChannel",Em(jm(U.main))),U.light&&ft(S[O],"lightChannel",Em(jm(U.light))),U.dark&&ft(S[O],"darkChannel",Em(jm(U.dark))),U.contrastText&&ft(S[O],"contrastTextChannel",Em(jm(U.contrastText))),O==="text"&&(Ol(S[O],"primary"),Ol(S[O],"secondary")),O==="action"&&(U.active&&Ol(S[O],"active"),U.selected&&Ol(S[O],"selected")))})}),A=e.reduce((D,S)=>ea(D,S),A);const N={prefix:i,disableCssColorScheme:s,shouldSkipGeneratingVar:a,getSelector:zae(A)},{vars:P,generateThemeVars:M,generateStyleSheets:L}=Xie(A,N);return A.vars=P,Object.entries(A.colorSchemes[A.defaultColorScheme]).forEach(([D,S])=>{A[D]=S}),A.generateThemeVars=M,A.generateStyleSheets=L,A.generateSpacing=function(){return W6(u.spacing,cE(this))},A.getColorSchemeSelector=Qie(l),A.spacing=A.generateSpacing(),A.shouldSkipGeneratingVar=a,A.unstable_sxConfig={...c0,...u==null?void 0:u.unstable_sxConfig},A.unstable_sx=function(S){return Od({sx:S,theme:this})},A.toRuntimeSource=r8,A}function Y5(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:yE({...n===!0?{}:n.palette,mode:e})})}function a8(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:s=n?void 0:{light:!0},defaultColorScheme:i=n==null?void 0:n.mode,...a}=t,l=i||"light",c=s==null?void 0:s[l],u={...s,...n?{[l]:{...typeof c!="boolean"&&c,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return NC(t,...e);let h=n;"palette"in t||u[l]&&(u[l]!==!0?h=u[l].palette:l==="dark"&&(h={mode:"dark"}));const f=NC({...t,palette:h},...e);return f.defaultColorScheme=l,f.colorSchemes=u,f.palette.mode==="light"&&(f.colorSchemes.light={...u.light!==!0&&u.light,palette:f.palette},Y5(f,"dark",u.dark)),f.palette.mode==="dark"&&(f.colorSchemes.dark={...u.dark!==!0&&u.dark,palette:f.palette},Y5(f,"light",u.light)),f}return!n&&!("light"in u)&&l==="light"&&(u.light=!0),Vae({...a,colorSchemes:u,defaultColorScheme:l,...typeof r!="boolean"&&r},...e)}const bE=a8();function u0(){const t=p1(bE);return t[t1]||t}function Gd({props:t,name:e}){return X6({props:t,name:e,defaultTheme:bE,themeId:t1})}function qae(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const o8=t=>qae(t)&&t!=="classes",Xt=K6({themeId:t1,defaultTheme:bE,rootShouldForwardProp:o8}),l8=()=>{const t=_.useContext(C6);if(t===null)throw new Error("MUI: Can not find utils in context. It looks like you forgot to wrap your component in LocalizationProvider, or pass dateAdapter prop directly.");return t},ms=()=>l8().utils,c8=()=>l8().defaultDates,d0=()=>{const t=ms();return _.useRef(t.date()).current},u8=t=>t.length===1&&t[0]==="year",d8=t=>t.length===2&&t.indexOf("month")!==-1&&t.indexOf("year")!==-1,Yae=(t,e)=>u8(t)?{mask:"____",inputFormat:e.formats.year}:d8(t)?{disableMaskedInput:!0,inputFormat:e.formats.monthAndYear}:{mask:"__/__/____",inputFormat:e.formats.keyboardDate};function Gae(t,e){var n;const r=ms(),s=c8(),i=Gd({props:t,name:e}),a=(n=i.views)!=null?n:["year","day"];return Ot({openTo:"day",minDate:s.minDate,maxDate:s.maxDate},Yae(a,r),i,{views:a})}function Kae(){return dE}const rc=qie;function xo(t){return Vie(t)}function Xae(t){return typeof t.main=="string"}function Qae(t,e=[]){if(!Xae(t))return!1;for(const n of e)if(!t.hasOwnProperty(n)||typeof t[n]!="string")return!1;return!0}function vg(t=[]){return([,e])=>e&&Qae(e,t)}function Zae(t){return js("MuiTypography",t)}Pr("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Jae={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},eoe=Kae(),toe=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:s,variant:i,classes:a}=t,l={root:["root",i,t.align!=="inherit"&&`align${In(e)}`,n&&"gutterBottom",r&&"noWrap",s&&"paragraph"]};return Ls(l,Zae,a)},noe=Xt("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${In(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(rc(({theme:t})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(t.palette).filter(vg()).map(([n])=>({props:{color:n},style:{color:(t.vars||t).palette[n].main}})),...Object.entries(((e=t.palette)==null?void 0:e.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${In(n)}`},style:{color:(t.vars||t).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),G5={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},fu=_.forwardRef(function(e,n){const{color:r,...s}=xo({props:e,name:"MuiTypography"}),i=!Jae[r],a=eoe({...s,...i&&{color:r}}),{align:l="inherit",className:c,component:u,gutterBottom:h=!1,noWrap:f=!1,paragraph:m=!1,variant:g="body1",variantMapping:b=G5,...y}=a,x={...a,align:l,color:r,className:c,component:u,gutterBottom:h,noWrap:f,paragraph:m,variant:g,variantMapping:b},w=u||(m?"p":b[g]||G5[g])||"span",C=toe(x);return o.jsx(noe,{as:w,ref:n,className:Ar(C.root,c),...y,ownerState:x,style:{...l!=="inherit"&&{"--Typography-textAlign":l},...y.style}})});function roe(t){return js("MuiSvgIcon",t)}Pr("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const soe=t=>{const{color:e,fontSize:n,classes:r}=t,s={root:["root",e!=="inherit"&&`color${In(e)}`,`fontSize${In(n)}`]};return Ls(s,roe,r)},ioe=Xt("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${In(n.color)}`],e[`fontSize${In(n.fontSize)}`]]}})(rc(({theme:t})=>{var e,n,r,s,i,a,l,c,u,h,f,m,g,b;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(s=(e=t.transitions)==null?void 0:e.create)==null?void 0:s.call(e,"fill",{duration:(r=(n=(t.vars??t).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:y=>!y.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((a=(i=t.typography)==null?void 0:i.pxToRem)==null?void 0:a.call(i,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((c=(l=t.typography)==null?void 0:l.pxToRem)==null?void 0:c.call(l,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((h=(u=t.typography)==null?void 0:u.pxToRem)==null?void 0:h.call(u,35))||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,y])=>y&&y.main).map(([y])=>{var x,w;return{props:{color:y},style:{color:(w=(x=(t.vars??t).palette)==null?void 0:x[y])==null?void 0:w.main}}}),{props:{color:"action"},style:{color:(m=(f=(t.vars??t).palette)==null?void 0:f.action)==null?void 0:m.active}},{props:{color:"disabled"},style:{color:(b=(g=(t.vars??t).palette)==null?void 0:g.action)==null?void 0:b.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),AC=_.forwardRef(function(e,n){const r=xo({props:e,name:"MuiSvgIcon"}),{children:s,className:i,color:a="inherit",component:l="svg",fontSize:c="medium",htmlColor:u,inheritViewBox:h=!1,titleAccess:f,viewBox:m="0 0 24 24",...g}=r,b=_.isValidElement(s)&&s.type==="svg",y={...r,color:a,component:l,fontSize:c,instanceFontSize:e.fontSize,inheritViewBox:h,viewBox:m,hasSvgAsChild:b},x={};h||(x.viewBox=m);const w=soe(y);return o.jsxs(ioe,{as:l,className:Ar(w.root,i),focusable:"false",color:u,"aria-hidden":f?void 0:!0,role:f?"img":void 0,ref:n,...x,...g,...b&&s.props,ownerState:y,children:[b?s.props.children:s,f?o.jsx("title",{children:f}):null]})});AC.muiName="SvgIcon";function wu(t,e){function n(r,s){return o.jsx(AC,{"data-testid":void 0,ref:s,...r,children:t})}return n.muiName=AC.muiName,_.memo(_.forwardRef(n))}function DC(t,e){return DC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},DC(t,e)}function xE(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,DC(t,e)}function aoe(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function h8(t,e){t.classList?t.classList.add(e):aoe(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function K5(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function f8(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=K5(t.className,e):t.setAttribute("class",K5(t.className&&t.className.baseVal||"",e))}const X5={disabled:!1},Mx=Zt.createContext(null);var p8=function(e){return e.scrollTop},Nm="unmounted",sd="exited",Kc="entering",cd="entered",PC="exiting",vo=function(t){xE(e,t);function e(r,s){var i;i=t.call(this,r,s)||this;var a=s,l=a&&!a.isMounting?r.enter:r.appear,c;return i.appearStatus=null,r.in?l?(c=sd,i.appearStatus=Kc):c=cd:r.unmountOnExit||r.mountOnEnter?c=Nm:c=sd,i.state={status:c},i.nextCallback=null,i}e.getDerivedStateFromProps=function(s,i){var a=s.in;return a&&i.status===Nm?{status:sd}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(s){var i=null;if(s!==this.props){var a=this.state.status;this.props.in?a!==Kc&&a!==cd&&(i=Kc):(a===Kc||a===cd)&&(i=PC)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var s=this.props.timeout,i,a,l;return i=a=l=s,s!=null&&typeof s!="number"&&(i=s.exit,a=s.enter,l=s.appear!==void 0?s.appear:a),{exit:i,enter:a,appear:l}},n.updateStatus=function(s,i){if(s===void 0&&(s=!1),i!==null)if(this.cancelNextCallback(),i===Kc){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:hd.findDOMNode(this);a&&p8(a)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===sd&&this.setState({status:Nm})},n.performEnter=function(s){var i=this,a=this.props.enter,l=this.context?this.context.isMounting:s,c=this.props.nodeRef?[l]:[hd.findDOMNode(this),l],u=c[0],h=c[1],f=this.getTimeouts(),m=l?f.appear:f.enter;if(!s&&!a||X5.disabled){this.safeSetState({status:cd},function(){i.props.onEntered(u)});return}this.props.onEnter(u,h),this.safeSetState({status:Kc},function(){i.props.onEntering(u,h),i.onTransitionEnd(m,function(){i.safeSetState({status:cd},function(){i.props.onEntered(u,h)})})})},n.performExit=function(){var s=this,i=this.props.exit,a=this.getTimeouts(),l=this.props.nodeRef?void 0:hd.findDOMNode(this);if(!i||X5.disabled){this.safeSetState({status:sd},function(){s.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:PC},function(){s.props.onExiting(l),s.onTransitionEnd(a.exit,function(){s.safeSetState({status:sd},function(){s.props.onExited(l)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(s,i){i=this.setNextCallback(i),this.setState(s,i)},n.setNextCallback=function(s){var i=this,a=!0;return this.nextCallback=function(l){a&&(a=!1,i.nextCallback=null,s(l))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},n.onTransitionEnd=function(s,i){this.setNextCallback(i);var a=this.props.nodeRef?this.props.nodeRef.current:hd.findDOMNode(this),l=s==null&&!this.props.addEndListener;if(!a||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],u=c[0],h=c[1];this.props.addEndListener(u,h)}s!=null&&setTimeout(this.nextCallback,s)},n.render=function(){var s=this.state.status;if(s===Nm)return null;var i=this.props,a=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var l=Rs(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Zt.createElement(Mx.Provider,{value:null},typeof a=="function"?a(s,l):Zt.cloneElement(Zt.Children.only(a),l))},e}(Zt.Component);vo.contextType=Mx;vo.propTypes={};function Fh(){}vo.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Fh,onEntering:Fh,onEntered:Fh,onExit:Fh,onExiting:Fh,onExited:Fh};vo.UNMOUNTED=Nm;vo.EXITED=sd;vo.ENTERING=Kc;vo.ENTERED=cd;vo.EXITING=PC;var ooe=function(e,n){return e&&n&&n.split(" ").forEach(function(r){return h8(e,r)})},w2=function(e,n){return e&&n&&n.split(" ").forEach(function(r){return f8(e,r)})},vE=function(t){xE(e,t);function e(){for(var r,s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(l,c){var u=r.resolveArguments(l,c),h=u[0],f=u[1];r.removeClasses(h,"exit"),r.addClass(h,f?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(l,c)},r.onEntering=function(l,c){var u=r.resolveArguments(l,c),h=u[0],f=u[1],m=f?"appear":"enter";r.addClass(h,m,"active"),r.props.onEntering&&r.props.onEntering(l,c)},r.onEntered=function(l,c){var u=r.resolveArguments(l,c),h=u[0],f=u[1],m=f?"appear":"enter";r.removeClasses(h,m),r.addClass(h,m,"done"),r.props.onEntered&&r.props.onEntered(l,c)},r.onExit=function(l){var c=r.resolveArguments(l),u=c[0];r.removeClasses(u,"appear"),r.removeClasses(u,"enter"),r.addClass(u,"exit","base"),r.props.onExit&&r.props.onExit(l)},r.onExiting=function(l){var c=r.resolveArguments(l),u=c[0];r.addClass(u,"exit","active"),r.props.onExiting&&r.props.onExiting(l)},r.onExited=function(l){var c=r.resolveArguments(l),u=c[0];r.removeClasses(u,"exit"),r.addClass(u,"exit","done"),r.props.onExited&&r.props.onExited(l)},r.resolveArguments=function(l,c){return r.props.nodeRef?[r.props.nodeRef.current,l]:[l,c]},r.getClassNames=function(l){var c=r.props.classNames,u=typeof c=="string",h=u&&c?c+"-":"",f=u?""+h+l:c[l],m=u?f+"-active":c[l+"Active"],g=u?f+"-done":c[l+"Done"];return{baseClassName:f,activeClassName:m,doneClassName:g}},r}var n=e.prototype;return n.addClass=function(s,i,a){var l=this.getClassNames(i)[a+"ClassName"],c=this.getClassNames("enter"),u=c.doneClassName;i==="appear"&&a==="done"&&u&&(l+=" "+u),a==="active"&&s&&p8(s),l&&(this.appliedClasses[i][a]=l,ooe(s,l))},n.removeClasses=function(s,i){var a=this.appliedClasses[i],l=a.base,c=a.active,u=a.done;this.appliedClasses[i]={},l&&w2(s,l),c&&w2(s,c),u&&w2(s,u)},n.render=function(){var s=this.props;s.classNames;var i=Rs(s,["classNames"]);return Zt.createElement(vo,Ot({},i,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(Zt.Component);vE.defaultProps={classNames:""};vE.propTypes={};function loe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wE(t,e){var n=function(i){return e&&_.isValidElement(i)?e(i):i},r=Object.create(null);return t&&_.Children.map(t,function(s){return s}).forEach(function(s){r[s.key]=n(s)}),r}function coe(t,e){t=t||{},e=e||{};function n(h){return h in e?e[h]:t[h]}var r=Object.create(null),s=[];for(var i in t)i in e?s.length&&(r[i]=s,s=[]):s.push(i);var a,l={};for(var c in e){if(r[c])for(a=0;a<r[c].length;a++){var u=r[c][a];l[r[c][a]]=n(u)}l[c]=n(c)}for(a=0;a<s.length;a++)l[s[a]]=n(s[a]);return l}function md(t,e,n){return n[e]!=null?n[e]:t.props[e]}function uoe(t,e){return wE(t.children,function(n){return _.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:md(n,"appear",t),enter:md(n,"enter",t),exit:md(n,"exit",t)})})}function doe(t,e,n){var r=wE(t.children),s=coe(e,r);return Object.keys(s).forEach(function(i){var a=s[i];if(_.isValidElement(a)){var l=i in e,c=i in r,u=e[i],h=_.isValidElement(u)&&!u.props.in;c&&(!l||h)?s[i]=_.cloneElement(a,{onExited:n.bind(null,a),in:!0,exit:md(a,"exit",t),enter:md(a,"enter",t)}):!c&&l&&!h?s[i]=_.cloneElement(a,{in:!1}):c&&l&&_.isValidElement(u)&&(s[i]=_.cloneElement(a,{onExited:n.bind(null,a),in:u.props.in,exit:md(a,"exit",t),enter:md(a,"enter",t)}))}}),s}var hoe=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},foe={component:"div",childFactory:function(e){return e}},h0=function(t){xE(e,t);function e(r,s){var i;i=t.call(this,r,s)||this;var a=i.handleExited.bind(loe(i));return i.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},i}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(s,i){var a=i.children,l=i.handleExited,c=i.firstRender;return{children:c?uoe(s,l):doe(s,a,l),firstRender:!1}},n.handleExited=function(s,i){var a=wE(this.props.children);s.key in a||(s.props.onExited&&s.props.onExited(i),this.mounted&&this.setState(function(l){var c=Ot({},l.children);return delete c[s.key],{children:c}}))},n.render=function(){var s=this.props,i=s.component,a=s.childFactory,l=Rs(s,["component","childFactory"]),c=this.state.contextValue,u=hoe(this.state.children).map(a);return delete l.appear,delete l.enter,delete l.exit,i===null?Zt.createElement(Mx.Provider,{value:c},u):Zt.createElement(Mx.Provider,{value:c},Zt.createElement(i,l,u))},e}(Zt.Component);h0.propTypes={};h0.defaultProps=foe;const poe=t=>t.scrollTop;function Q5(t,e){const{timeout:n,easing:r,style:s={}}=t;return{duration:s.transitionDuration??(typeof n=="number"?n:n[e.mode]||0),easing:s.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:s.transitionDelay}}function Rx(t,e){const{className:n,elementType:r,ownerState:s,externalForwardedProps:i,internalForwardedProps:a,shouldForwardComponentProp:l=!1,...c}=e,{component:u,slots:h={[t]:void 0},slotProps:f={[t]:void 0},...m}=i,g=h[t]||r,b=Uie(f[t],s),{props:{component:y,...x},internalRef:w}=zie({className:n,...c,externalForwardedProps:t==="root"?m:void 0,externalSlotProps:b}),C=nc(w,b==null?void 0:b.ref,e.ref),k=t==="root"?y||u:y,A=$ie(g,{...t==="root"&&!u&&!h[t]&&a,...t!=="root"&&!h[t]&&a,...x,...k&&!l&&{as:k},...k&&l&&{component:k},ref:C},s);return[g,A]}class Lx{constructor(){Ft(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new Lx}static use(){const e=J6(Lx.create).current,[n,r]=_.useState(!1);return e.shouldMount=n,e.setShouldMount=r,_.useEffect(e.mountEffect,[n]),e}mount(){return this.mounted||(this.mounted=goe(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...e)})}stop(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...e)})}pulsate(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...e)})}}function moe(){return Lx.use()}function goe(){let t,e;const n=new Promise((r,s)=>{t=r,e=s});return n.resolve=t,n.reject=e,n}function yoe(t){const{className:e,classes:n,pulsate:r=!1,rippleX:s,rippleY:i,rippleSize:a,in:l,onExited:c,timeout:u}=t,[h,f]=_.useState(!1),m=Ar(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),g={width:a,height:a,top:-(a/2)+i,left:-(a/2)+s},b=Ar(n.child,h&&n.childLeaving,r&&n.childPulsate);return!l&&!h&&f(!0),_.useEffect(()=>{if(!l&&c!=null){const y=setTimeout(c,u);return()=>{clearTimeout(y)}}},[c,l,u]),o.jsx("span",{className:m,style:g,children:o.jsx("span",{className:b})})}const Na=Pr("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),IC=550,boe=80,xoe=a0`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,voe=a0`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,woe=a0`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,_oe=Xt("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Soe=Xt(yoe,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Na.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${xoe};
    animation-duration: ${IC}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${Na.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${Na.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Na.childLeaving} {
    opacity: 0;
    animation-name: ${voe};
    animation-duration: ${IC}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${Na.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${woe};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,Coe=_.forwardRef(function(e,n){const r=xo({props:e,name:"MuiTouchRipple"}),{center:s=!1,classes:i={},className:a,...l}=r,[c,u]=_.useState([]),h=_.useRef(0),f=_.useRef(null);_.useEffect(()=>{f.current&&(f.current(),f.current=null)},[c]);const m=_.useRef(!1),g=Lie(),b=_.useRef(null),y=_.useRef(null),x=_.useCallback(A=>{const{pulsate:N,rippleX:P,rippleY:M,rippleSize:L,cb:D}=A;u(S=>[...S,o.jsx(Soe,{classes:{ripple:Ar(i.ripple,Na.ripple),rippleVisible:Ar(i.rippleVisible,Na.rippleVisible),ripplePulsate:Ar(i.ripplePulsate,Na.ripplePulsate),child:Ar(i.child,Na.child),childLeaving:Ar(i.childLeaving,Na.childLeaving),childPulsate:Ar(i.childPulsate,Na.childPulsate)},timeout:IC,pulsate:N,rippleX:P,rippleY:M,rippleSize:L},h.current)]),h.current+=1,f.current=D},[i]),w=_.useCallback((A={},N={},P=()=>{})=>{const{pulsate:M=!1,center:L=s||N.pulsate,fakeElement:D=!1}=N;if((A==null?void 0:A.type)==="mousedown"&&m.current){m.current=!1;return}(A==null?void 0:A.type)==="touchstart"&&(m.current=!0);const S=D?null:y.current,z=S?S.getBoundingClientRect():{width:0,height:0,left:0,top:0};let O,U,j;if(L||A===void 0||A.clientX===0&&A.clientY===0||!A.clientX&&!A.touches)O=Math.round(z.width/2),U=Math.round(z.height/2);else{const{clientX:V,clientY:K}=A.touches&&A.touches.length>0?A.touches[0]:A;O=Math.round(V-z.left),U=Math.round(K-z.top)}if(L)j=Math.sqrt((2*z.width**2+z.height**2)/3),j%2===0&&(j+=1);else{const V=Math.max(Math.abs((S?S.clientWidth:0)-O),O)*2+2,K=Math.max(Math.abs((S?S.clientHeight:0)-U),U)*2+2;j=Math.sqrt(V**2+K**2)}A!=null&&A.touches?b.current===null&&(b.current=()=>{x({pulsate:M,rippleX:O,rippleY:U,rippleSize:j,cb:P})},g.start(boe,()=>{b.current&&(b.current(),b.current=null)})):x({pulsate:M,rippleX:O,rippleY:U,rippleSize:j,cb:P})},[s,x,g]),C=_.useCallback(()=>{w({},{pulsate:!0})},[w]),k=_.useCallback((A,N)=>{if(g.clear(),(A==null?void 0:A.type)==="touchend"&&b.current){b.current(),b.current=null,g.start(0,()=>{k(A,N)});return}b.current=null,u(P=>P.length>0?P.slice(1):P),f.current=N},[g]);return _.useImperativeHandle(n,()=>({pulsate:C,start:w,stop:k}),[C,w,k]),o.jsx(_oe,{className:Ar(Na.root,i.root,a),ref:y,...l,children:o.jsx(h0,{component:null,exit:!0,children:c})})});function Toe(t){return js("MuiButtonBase",t)}const koe=Pr("MuiButtonBase",["root","disabled","focusVisible"]),Eoe=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:s}=t,a=Ls({root:["root",e&&"disabled",n&&"focusVisible"]},Toe,s);return n&&r&&(a.root+=` ${r}`),a},joe=Xt("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${koe.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),_E=_.forwardRef(function(e,n){const r=xo({props:e,name:"MuiButtonBase"}),{action:s,centerRipple:i=!1,children:a,className:l,component:c="button",disabled:u=!1,disableRipple:h=!1,disableTouchRipple:f=!1,focusRipple:m=!1,focusVisibleClassName:g,LinkComponent:b="a",onBlur:y,onClick:x,onContextMenu:w,onDragLeave:C,onFocus:k,onFocusVisible:A,onKeyDown:N,onKeyUp:P,onMouseDown:M,onMouseLeave:L,onMouseUp:D,onTouchEnd:S,onTouchMove:z,onTouchStart:O,tabIndex:U=0,TouchRippleProps:j,touchRippleRef:V,type:K,...te}=r,J=_.useRef(null),X=moe(),Y=nc(X.ref,V),[F,H]=_.useState(!1);u&&F&&H(!1),_.useImperativeHandle(s,()=>({focusVisible:()=>{H(!0),J.current.focus()}}),[]);const de=X.shouldMount&&!h&&!u;_.useEffect(()=>{F&&m&&!h&&X.pulsate()},[h,m,F,X]);const ee=Ml(X,"start",M,f),fe=Ml(X,"stop",w,f),ve=Ml(X,"stop",C,f),Ce=Ml(X,"stop",D,f),De=Ml(X,"stop",se=>{F&&se.preventDefault(),L&&L(se)},f),Ee=Ml(X,"start",O,f),Be=Ml(X,"stop",S,f),Ve=Ml(X,"stop",z,f),rt=Ml(X,"stop",se=>{L5(se.target)||H(!1),y&&y(se)},!1),it=uf(se=>{J.current||(J.current=se.currentTarget),L5(se.target)&&(H(!0),A&&A(se)),k&&k(se)}),G=()=>{const se=J.current;return c&&c!=="button"&&!(se.tagName==="A"&&se.href)},Ae=uf(se=>{m&&!se.repeat&&F&&se.key===" "&&X.stop(se,()=>{X.start(se)}),se.target===se.currentTarget&&G()&&se.key===" "&&se.preventDefault(),N&&N(se),se.target===se.currentTarget&&G()&&se.key==="Enter"&&!u&&(se.preventDefault(),x&&x(se))}),be=uf(se=>{m&&se.key===" "&&F&&!se.defaultPrevented&&X.stop(se,()=>{X.pulsate(se)}),P&&P(se),x&&se.target===se.currentTarget&&G()&&se.key===" "&&!se.defaultPrevented&&x(se)});let re=c;re==="button"&&(te.href||te.to)&&(re=b);const ne={};re==="button"?(ne.type=K===void 0?"button":K,ne.disabled=u):(!te.href&&!te.to&&(ne.role="button"),u&&(ne["aria-disabled"]=u));const ce=nc(n,J),Te={...r,centerRipple:i,component:c,disabled:u,disableRipple:h,disableTouchRipple:f,focusRipple:m,tabIndex:U,focusVisible:F},he=Eoe(Te);return o.jsxs(joe,{as:re,className:Ar(he.root,l),ownerState:Te,onBlur:rt,onClick:x,onContextMenu:fe,onFocus:it,onKeyDown:Ae,onKeyUp:be,onMouseDown:ee,onMouseLeave:De,onMouseUp:Ce,onDragLeave:ve,onTouchEnd:Be,onTouchMove:Ve,onTouchStart:Ee,ref:ce,tabIndex:u?-1:U,type:K,...ne,...te,children:[a,de?o.jsx(Coe,{ref:Y,center:i,...j}):null]})});function Ml(t,e,n,r=!1){return uf(s=>(n&&n(s),r||t[e](s),!0))}function Noe(t){return js("MuiCircularProgress",t)}Pr("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const $c=44,OC=a0`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,MC=a0`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,Aoe=typeof OC!="string"?aE`
        animation: ${OC} 1.4s linear infinite;
      `:null,Doe=typeof MC!="string"?aE`
        animation: ${MC} 1.4s ease-in-out infinite;
      `:null,Poe=t=>{const{classes:e,variant:n,color:r,disableShrink:s}=t,i={root:["root",n,`color${In(r)}`],svg:["svg"],circle:["circle",`circle${In(n)}`,s&&"circleDisableShrink"]};return Ls(i,Noe,e)},Ioe=Xt("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${In(n.color)}`]]}})(rc(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:Aoe||{animation:`${OC} 1.4s linear infinite`}},...Object.entries(t.palette).filter(vg()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))]}))),Ooe=Xt("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),Moe=Xt("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${In(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(rc(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:Doe||{animation:`${MC} 1.4s ease-in-out infinite`}}]}))),m8=_.forwardRef(function(e,n){const r=xo({props:e,name:"MuiCircularProgress"}),{className:s,color:i="primary",disableShrink:a=!1,size:l=40,style:c,thickness:u=3.6,value:h=0,variant:f="indeterminate",...m}=r,g={...r,color:i,disableShrink:a,size:l,thickness:u,value:h,variant:f},b=Poe(g),y={},x={},w={};if(f==="determinate"){const C=2*Math.PI*(($c-u)/2);y.strokeDasharray=C.toFixed(3),w["aria-valuenow"]=Math.round(h),y.strokeDashoffset=`${((100-h)/100*C).toFixed(3)}px`,x.transform="rotate(-90deg)"}return o.jsx(Ioe,{className:Ar(b.root,s),style:{width:l,height:l,...x,...c},ownerState:g,ref:n,role:"progressbar",...w,...m,children:o.jsx(Ooe,{className:b.svg,ownerState:g,viewBox:`${$c/2} ${$c/2} ${$c} ${$c}`,children:o.jsx(Moe,{className:b.circle,style:y,ownerState:g,cx:$c,cy:$c,r:($c-u)/2,fill:"none",strokeWidth:u})})})});function Roe(t){return js("MuiIconButton",t)}const Z5=Pr("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),Loe=t=>{const{classes:e,disabled:n,color:r,edge:s,size:i,loading:a}=t,l={root:["root",a&&"loading",n&&"disabled",r!=="default"&&`color${In(r)}`,s&&`edge${In(s)}`,`size${In(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return Ls(l,Roe,e)},Foe=Xt(_E,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.loading&&e.loading,n.color!=="default"&&e[`color${In(n.color)}`],n.edge&&e[`edge${In(n.edge)}`],e[`size${In(n.size)}`]]}})(rc(({theme:t})=>({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Ia(t.palette.action.active,t.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),rc(({theme:t})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(vg()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette).filter(vg()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":t.vars?`rgba(${(t.vars||t).palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Ia((t.vars||t).palette[e].main,t.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${Z5.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${Z5.loading}`]:{color:"transparent"}}))),Boe=Xt("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),ap=_.forwardRef(function(e,n){const r=xo({props:e,name:"MuiIconButton"}),{edge:s=!1,children:i,className:a,color:l="default",disabled:c=!1,disableFocusRipple:u=!1,size:h="medium",id:f,loading:m=null,loadingIndicator:g,...b}=r,y=Z6(f),x=g??o.jsx(m8,{"aria-labelledby":y,color:"inherit",size:16}),w={...r,edge:s,color:l,disabled:c,disableFocusRipple:u,loading:m,loadingIndicator:x,size:h},C=Loe(w);return o.jsxs(Foe,{id:m?y:f,className:Ar(C.root,a),centerRipple:!0,focusRipple:!u,disabled:c||m,ref:n,...b,ownerState:w,children:[typeof m=="boolean"&&o.jsx("span",{className:C.loadingWrapper,style:{display:"contents"},children:o.jsx(Boe,{className:C.loadingIndicator,ownerState:w,children:m&&x})}),i]})});function $oe(t){return typeof t=="function"?t():t}const zoe=_.forwardRef(function(e,n){const{children:r,container:s,disablePortal:i=!1}=e,[a,l]=_.useState(null),c=nc(_.isValidElement(r)?gE(r):null,n);if(kC(()=>{i||l($oe(s)||document.body)},[s,i]),kC(()=>{if(a&&!i)return jC(n,a),()=>{jC(n,null)}},[n,a,i]),i){if(_.isValidElement(r)){const u={ref:c};return _.cloneElement(r,u)}return r}return a&&Zg.createPortal(r,a)}),g8=_.createContext(void 0);function Uoe(){return _.useContext(g8)}const Hoe={entering:{opacity:1},entered:{opacity:1}},SE=_.forwardRef(function(e,n){const r=u0(),s={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:i,appear:a=!0,children:l,easing:c,in:u,onEnter:h,onEntered:f,onEntering:m,onExit:g,onExited:b,onExiting:y,style:x,timeout:w=s,TransitionComponent:C=vo,...k}=e,A=_.useRef(null),N=nc(A,gE(l),n),P=j=>V=>{if(j){const K=A.current;V===void 0?j(K):j(K,V)}},M=P(m),L=P((j,V)=>{poe(j);const K=Q5({style:x,timeout:w,easing:c},{mode:"enter"});j.style.webkitTransition=r.transitions.create("opacity",K),j.style.transition=r.transitions.create("opacity",K),h&&h(j,V)}),D=P(f),S=P(y),z=P(j=>{const V=Q5({style:x,timeout:w,easing:c},{mode:"exit"});j.style.webkitTransition=r.transitions.create("opacity",V),j.style.transition=r.transitions.create("opacity",V),g&&g(j)}),O=P(b),U=j=>{i&&i(A.current,j)};return o.jsx(C,{appear:a,in:u,nodeRef:A,onEnter:L,onEntered:D,onEntering:M,onExit:z,onExited:O,onExiting:S,addEndListener:U,timeout:w,...k,children:(j,{ownerState:V,...K})=>_.cloneElement(l,{style:{opacity:0,visibility:j==="exited"&&!u?"hidden":void 0,...Hoe[j],...x,...l.props.style},ref:N,...K})})});function Woe(t){return js("MuiBackdrop",t)}Pr("MuiBackdrop",["root","invisible"]);const Voe=t=>{const{classes:e,invisible:n}=t;return Ls({root:["root",n&&"invisible"]},Woe,e)},qoe=Xt("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),Yoe=_.forwardRef(function(e,n){const r=xo({props:e,name:"MuiBackdrop"}),{children:s,className:i,component:a="div",invisible:l=!1,open:c,components:u={},componentsProps:h={},slotProps:f={},slots:m={},TransitionComponent:g,transitionDuration:b,...y}=r,x={...r,component:a,invisible:l},w=Voe(x),C={transition:g,root:u.Root,...m},k={...h,...f},A={slots:C,slotProps:k},[N,P]=Rx("root",{elementType:qoe,externalForwardedProps:A,className:Ar(w.root,i),ownerState:x}),[M,L]=Rx("transition",{elementType:SE,externalForwardedProps:A,ownerState:x});return o.jsx(M,{in:c,timeout:b,...y,...L,children:o.jsx(N,{"aria-hidden":!0,...P,classes:w,ref:n,children:s})})}),Goe=Pr("MuiBox",["root"]),Koe=a8(),y8=mie({themeId:t1,defaultTheme:Koe,defaultClassName:Goe.root,generateClassName:V6.generate});function Xoe(t){return js("MuiButton",t)}const Zu=Pr("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),Qoe=_.createContext({}),Zoe=_.createContext(void 0),Joe=t=>{const{color:e,disableElevation:n,fullWidth:r,size:s,variant:i,loading:a,loadingPosition:l,classes:c}=t,u={root:["root",a&&"loading",i,`${i}${In(e)}`,`size${In(s)}`,`${i}Size${In(s)}`,`color${In(e)}`,n&&"disableElevation",r&&"fullWidth",a&&`loadingPosition${In(l)}`],startIcon:["icon","startIcon",`iconSize${In(s)}`],endIcon:["icon","endIcon",`iconSize${In(s)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},h=Ls(u,Xoe,c);return{...c,...h}},b8=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],ele=Xt(_E,{shouldForwardProp:t=>o8(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${In(n.color)}`],e[`size${In(n.size)}`],e[`${n.variant}Size${In(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth,n.loading&&e.loading]}})(rc(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],n=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Zu.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${Zu.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${Zu.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Zu.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(vg()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(t.vars||t).palette[r].main,"--variant-outlinedColor":(t.vars||t).palette[r].main,"--variant-outlinedBorder":t.vars?`rgba(${t.vars.palette[r].mainChannel} / 0.5)`:Ia(t.palette[r].main,.5),"--variant-containedColor":(t.vars||t).palette[r].contrastText,"--variant-containedBg":(t.vars||t).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[r].dark,"--variant-textBg":t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Ia(t.palette[r].main,t.palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[r].main,"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Ia(t.palette[r].main,t.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Ia(t.palette.text.primary,t.palette.action.hoverOpacity),"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Ia(t.palette.text.primary,t.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Zu.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Zu.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${Zu.loading}`]:{color:"transparent"}}}]}})),tle=Xt("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,n.loading&&e.startIconLoadingStart,e[`iconSize${In(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...b8]})),nle=Xt("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,n.loading&&e.endIconLoadingEnd,e[`iconSize${In(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...b8]})),rle=Xt("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),J5=Xt("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(t,e)=>e.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),e4=_.forwardRef(function(e,n){const r=_.useContext(Qoe),s=_.useContext(Zoe),i=bg(r,e),a=xo({props:i,name:"MuiButton"}),{children:l,color:c="primary",component:u="button",className:h,disabled:f=!1,disableElevation:m=!1,disableFocusRipple:g=!1,endIcon:b,focusVisibleClassName:y,fullWidth:x=!1,id:w,loading:C=null,loadingIndicator:k,loadingPosition:A="center",size:N="medium",startIcon:P,type:M,variant:L="text",...D}=a,S=Z6(w),z=k??o.jsx(m8,{"aria-labelledby":S,color:"inherit",size:16}),O={...a,color:c,component:u,disabled:f,disableElevation:m,disableFocusRipple:g,fullWidth:x,loading:C,loadingIndicator:z,loadingPosition:A,size:N,type:M,variant:L},U=Joe(O),j=(P||C&&A==="start")&&o.jsx(tle,{className:U.startIcon,ownerState:O,children:P||o.jsx(J5,{className:U.loadingIconPlaceholder,ownerState:O})}),V=(b||C&&A==="end")&&o.jsx(nle,{className:U.endIcon,ownerState:O,children:b||o.jsx(J5,{className:U.loadingIconPlaceholder,ownerState:O})}),K=s||"",te=typeof C=="boolean"?o.jsx("span",{className:U.loadingWrapper,style:{display:"contents"},children:C&&o.jsx(rle,{className:U.loadingIndicator,ownerState:O,children:z})}):null;return o.jsxs(ele,{ownerState:O,className:Ar(r.className,U.root,h,K),component:u,disabled:f||C,focusRipple:!g,focusVisibleClassName:Ar(U.focusVisible,y),ref:n,type:M,id:C?S:w,...D,classes:U,children:[j,A!=="end"&&te,l,A==="end"&&te,V]})});function sle(t){const e=Md(t);return e.body===t?Ix(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function Um(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function t4(t){return parseInt(Ix(t).getComputedStyle(t).paddingRight,10)||0}function ile(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function n4(t,e,n,r,s){const i=[e,n,...r];[].forEach.call(t.children,a=>{const l=!i.includes(a),c=!ile(a);l&&c&&Um(a,s)})}function _2(t,e){let n=-1;return t.some((r,s)=>e(r)?(n=s,!0):!1),n}function ale(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(sle(r)){const a=Fie(Ix(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${t4(r)+a}px`;const l=Md(r).querySelectorAll(".mui-fixed");[].forEach.call(l,c=>{n.push({value:c.style.paddingRight,property:"padding-right",el:c}),c.style.paddingRight=`${t4(c)+a}px`})}let i;if(r.parentNode instanceof DocumentFragment)i=Md(r).body;else{const a=r.parentElement,l=Ix(r);i=(a==null?void 0:a.nodeName)==="HTML"&&l.getComputedStyle(a).overflowY==="scroll"?a:r}n.push({value:i.style.overflow,property:"overflow",el:i},{value:i.style.overflowX,property:"overflow-x",el:i},{value:i.style.overflowY,property:"overflow-y",el:i}),i.style.overflow="hidden"}return()=>{n.forEach(({value:i,el:a,property:l})=>{i?a.style.setProperty(l,i):a.style.removeProperty(l)})}}function ole(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}let lle=class{constructor(){this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&Um(e.modalRef,!1);const s=ole(n);n4(n,e.mount,e.modalRef,s,!0);const i=_2(this.containers,a=>a.container===n);return i!==-1?(this.containers[i].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:s}),r)}mount(e,n){const r=_2(this.containers,i=>i.modals.includes(e)),s=this.containers[r];s.restore||(s.restore=ale(s,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const s=_2(this.containers,a=>a.modals.includes(e)),i=this.containers[s];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(r,1),i.modals.length===0)i.restore&&i.restore(),e.modalRef&&Um(e.modalRef,n),n4(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(s,1);else{const a=i.modals[i.modals.length-1];a.modalRef&&Um(a.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};const cle=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function ule(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function dle(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function hle(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||dle(t))}function fle(t){const e=[],n=[];return Array.from(t.querySelectorAll(cle)).forEach((r,s)=>{const i=ule(r);i===-1||!hle(r)||(i===0?e.push(r):n.push({documentOrder:s,tabIndex:i,node:r}))}),n.sort((r,s)=>r.tabIndex===s.tabIndex?r.documentOrder-s.documentOrder:r.tabIndex-s.tabIndex).map(r=>r.node).concat(e)}function ple(){return!0}function mle(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:s=!1,getTabbable:i=fle,isEnabled:a=ple,open:l}=t,c=_.useRef(!1),u=_.useRef(null),h=_.useRef(null),f=_.useRef(null),m=_.useRef(null),g=_.useRef(!1),b=_.useRef(null),y=nc(gE(e),b),x=_.useRef(null);_.useEffect(()=>{!l||!b.current||(g.current=!n)},[n,l]),_.useEffect(()=>{if(!l||!b.current)return;const k=Md(b.current);return b.current.contains(k.activeElement)||(b.current.hasAttribute("tabIndex")||b.current.setAttribute("tabIndex","-1"),g.current&&b.current.focus()),()=>{s||(f.current&&f.current.focus&&(c.current=!0,f.current.focus()),f.current=null)}},[l]),_.useEffect(()=>{if(!l||!b.current)return;const k=Md(b.current),A=M=>{x.current=M,!(r||!a()||M.key!=="Tab")&&k.activeElement===b.current&&M.shiftKey&&(c.current=!0,h.current&&h.current.focus())},N=()=>{var D,S;const M=b.current;if(M===null)return;if(!k.hasFocus()||!a()||c.current){c.current=!1;return}if(M.contains(k.activeElement)||r&&k.activeElement!==u.current&&k.activeElement!==h.current)return;if(k.activeElement!==m.current)m.current=null;else if(m.current!==null)return;if(!g.current)return;let L=[];if((k.activeElement===u.current||k.activeElement===h.current)&&(L=i(b.current)),L.length>0){const z=!!((D=x.current)!=null&&D.shiftKey&&((S=x.current)==null?void 0:S.key)==="Tab"),O=L[0],U=L[L.length-1];typeof O!="string"&&typeof U!="string"&&(z?U.focus():O.focus())}else M.focus()};k.addEventListener("focusin",N),k.addEventListener("keydown",A,!0);const P=setInterval(()=>{k.activeElement&&k.activeElement.tagName==="BODY"&&N()},50);return()=>{clearInterval(P),k.removeEventListener("focusin",N),k.removeEventListener("keydown",A,!0)}},[n,r,s,a,l,i]);const w=k=>{f.current===null&&(f.current=k.relatedTarget),g.current=!0,m.current=k.target;const A=e.props.onFocus;A&&A(k)},C=k=>{f.current===null&&(f.current=k.relatedTarget),g.current=!0};return o.jsxs(_.Fragment,{children:[o.jsx("div",{tabIndex:l?0:-1,onFocus:C,ref:u,"data-testid":"sentinelStart"}),_.cloneElement(e,{ref:y,onFocus:w}),o.jsx("div",{tabIndex:l?0:-1,onFocus:C,ref:h,"data-testid":"sentinelEnd"})]})}function gle(t){return typeof t=="function"?t():t}function yle(t){return t?t.props.hasOwnProperty("in"):!1}const r4=()=>{},ub=new lle;function ble(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:s=!1,onTransitionEnter:i,onTransitionExited:a,children:l,onClose:c,open:u,rootRef:h}=t,f=_.useRef({}),m=_.useRef(null),g=_.useRef(null),b=nc(g,h),[y,x]=_.useState(!u),w=yle(l);let C=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(C=!1);const k=()=>Md(m.current),A=()=>(f.current.modalRef=g.current,f.current.mount=m.current,f.current),N=()=>{ub.mount(A(),{disableScrollLock:r}),g.current&&(g.current.scrollTop=0)},P=uf(()=>{const V=gle(e)||k().body;ub.add(A(),V),g.current&&N()}),M=()=>ub.isTopModal(A()),L=uf(V=>{m.current=V,V&&(u&&M()?N():g.current&&Um(g.current,C))}),D=_.useCallback(()=>{ub.remove(A(),C)},[C]);_.useEffect(()=>()=>{D()},[D]),_.useEffect(()=>{u?P():(!w||!s)&&D()},[u,D,w,s,P]);const S=V=>K=>{var te;(te=V.onKeyDown)==null||te.call(V,K),!(K.key!=="Escape"||K.which===229||!M())&&(n||(K.stopPropagation(),c&&c(K,"escapeKeyDown")))},z=V=>K=>{var te;(te=V.onClick)==null||te.call(V,K),K.target===K.currentTarget&&c&&c(K,"backdropClick")};return{getRootProps:(V={})=>{const K=e8(t);delete K.onTransitionEnter,delete K.onTransitionExited;const te={...K,...V};return{role:"presentation",...te,onKeyDown:S(te),ref:b}},getBackdropProps:(V={})=>{const K=V;return{"aria-hidden":!0,...K,onClick:z(K),open:u}},getTransitionProps:()=>{const V=()=>{x(!1),i&&i()},K=()=>{x(!0),a&&a(),s&&D()};return{onEnter:I5(V,(l==null?void 0:l.props.onEnter)??r4),onExited:I5(K,(l==null?void 0:l.props.onExited)??r4)}},rootRef:b,portalRef:L,isTopModal:M,exited:y,hasTransition:w}}function xle(t){return js("MuiModal",t)}Pr("MuiModal",["root","hidden","backdrop"]);const vle=t=>{const{open:e,exited:n,classes:r}=t;return Ls({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},xle,r)},wle=Xt("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(rc(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),_le=Xt(Yoe,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),x8=_.forwardRef(function(e,n){const r=xo({name:"MuiModal",props:e}),{BackdropComponent:s=_le,BackdropProps:i,classes:a,className:l,closeAfterTransition:c=!1,children:u,container:h,component:f,components:m={},componentsProps:g={},disableAutoFocus:b=!1,disableEnforceFocus:y=!1,disableEscapeKeyDown:x=!1,disablePortal:w=!1,disableRestoreFocus:C=!1,disableScrollLock:k=!1,hideBackdrop:A=!1,keepMounted:N=!1,onClose:P,onTransitionEnter:M,onTransitionExited:L,open:D,slotProps:S={},slots:z={},theme:O,...U}=r,j={...r,closeAfterTransition:c,disableAutoFocus:b,disableEnforceFocus:y,disableEscapeKeyDown:x,disablePortal:w,disableRestoreFocus:C,disableScrollLock:k,hideBackdrop:A,keepMounted:N},{getRootProps:V,getBackdropProps:K,getTransitionProps:te,portalRef:J,isTopModal:X,exited:Y,hasTransition:F}=ble({...j,rootRef:n}),H={...j,exited:Y},de=vle(H),ee={};if(u.props.tabIndex===void 0&&(ee.tabIndex="-1"),F){const{onEnter:Be,onExited:Ve}=te();ee.onEnter=Be,ee.onExited=Ve}const fe={slots:{root:m.Root,backdrop:m.Backdrop,...z},slotProps:{...g,...S}},[ve,Ce]=Rx("root",{ref:n,elementType:wle,externalForwardedProps:{...fe,...U,component:f},getSlotProps:V,ownerState:H,className:Ar(l,de==null?void 0:de.root,!H.open&&H.exited&&(de==null?void 0:de.hidden))}),[De,Ee]=Rx("backdrop",{ref:i==null?void 0:i.ref,elementType:s,externalForwardedProps:fe,shouldForwardComponentProp:!0,additionalProps:i,getSlotProps:Be=>K({...Be,onClick:Ve=>{Be!=null&&Be.onClick&&Be.onClick(Ve)}}),className:Ar(i==null?void 0:i.className,de==null?void 0:de.backdrop),ownerState:H});return!N&&!D&&(!F||Y)?null:o.jsx(zoe,{ref:J,container:h,disablePortal:w,children:o.jsxs(ve,{...Ce,children:[!A&&s?o.jsx(De,{...Ee}):null,o.jsx(mle,{disableEnforceFocus:y,disableAutoFocus:b,disableRestoreFocus:C,isEnabled:X,open:D,children:_.cloneElement(u,ee)})]})})}),Sle=fae({createStyledComponent:Xt("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.container&&e.container]}}),componentName:"MuiGrid",useThemeProps:t=>xo({props:t,name:"MuiGrid"}),useTheme:u0});function Cle(t){return js("MuiInputAdornment",t)}const s4=Pr("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var i4;const Tle=(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${In(n.position)}`],n.disablePointerEvents===!0&&e.disablePointerEvents,e[n.variant]]},kle=t=>{const{classes:e,disablePointerEvents:n,hiddenLabel:r,position:s,size:i,variant:a}=t,l={root:["root",n&&"disablePointerEvents",s&&`position${In(s)}`,a,r&&"hiddenLabel",i&&`size${In(i)}`]};return Ls(l,Cle,e)},Ele=Xt("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:Tle})(rc(({theme:t})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${s4.positionStart}&:not(.${s4.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),jle=_.forwardRef(function(e,n){const r=xo({props:e,name:"MuiInputAdornment"}),{children:s,className:i,component:a="div",disablePointerEvents:l=!1,disableTypography:c=!1,position:u,variant:h,...f}=r,m=Uoe()||{};let g=h;h&&m.variant,m&&!g&&(g=m.variant);const b={...r,hiddenLabel:m.hiddenLabel,size:m.size,disablePointerEvents:l,position:u,variant:g},y=kle(b);return o.jsx(g8.Provider,{value:null,children:o.jsx(Ele,{as:a,ownerState:b,className:Ar(y.root,i),ref:n,...f,children:typeof s=="string"&&!c?o.jsx(fu,{color:"textSecondary",children:s}):o.jsxs(_.Fragment,{children:[u==="start"?i4||(i4=o.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):null,s]})})})});function v8(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=v8(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function sa(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=v8(t))&&(r&&(r+=" "),r+=e);return r}const Nle=wu(o.jsx("path",{d:"M7 10l5 5 5-5z"})),Ale=wu(o.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"})),Dle=wu(o.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"})),w8=wu(o.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"})),Ple=wu(o.jsxs(_.Fragment,{children:[o.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),o.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}));wu(o.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}));const Ile=wu(o.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}));wu(o.jsxs(_.Fragment,{children:[o.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),o.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}));const a4=Pr("PrivatePickersToolbar",["root","dateTitleContainer"]),Ole=Xt("div")(({theme:t,ownerState:e})=>Ot({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:t.spacing(2,3)},e.isLandscape&&{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"})),Mle=Xt(Sle)({flex:1}),Rle=t=>t==="clock"?o.jsx(Ple,{color:"inherit"}):o.jsx(w8,{color:"inherit"});function Lle(t,e){return t?`text input view is open, go to ${e} view`:`${e} view is open, go to text input view`}const Fle=_.forwardRef(function(e,n){const{children:r,className:s,getMobileKeyboardInputViewButtonText:i=Lle,isLandscape:a,isMobileKeyboardViewOpen:l,landscapeDirection:c="column",penIconClassName:u,toggleMobileKeyboardView:h,toolbarTitle:f,viewType:m="calendar"}=e,g=e;return o.jsxs(Ole,{ref:n,className:sa(a4.root,s),ownerState:g,children:[o.jsx(fu,{color:"text.secondary",variant:"overline",children:f}),o.jsxs(Mle,{container:!0,justifyContent:"space-between",className:a4.dateTitleContainer,direction:a?c:"row",alignItems:a?"flex-start":"flex-end",children:[r,o.jsx(ap,{onClick:h,className:u,color:"inherit","aria-label":i(l,m),children:l?Rle(m):o.jsx(Ile,{color:"inherit"})})]})]})}),Ble=["date","isLandscape","isMobileKeyboardViewOpen","onChange","toggleMobileKeyboardView","toolbarFormat","toolbarPlaceholder","toolbarTitle","views"],_8=Pr("PrivateDatePickerToolbar",["penIcon"]),$le=Xt(Fle)({[`& .${_8.penIcon}`]:{position:"relative",top:4}}),zle=Xt(fu)(({ownerState:t})=>Ot({},t.isLandscape&&{margin:"auto 16px auto auto"})),Ule=_.forwardRef(function(e,n){const{date:r,isLandscape:s,isMobileKeyboardViewOpen:i,toggleMobileKeyboardView:a,toolbarFormat:l,toolbarPlaceholder:c="––",toolbarTitle:u="Select date",views:h}=e,f=Rs(e,Ble),m=ms(),g=_.useMemo(()=>r?l?m.formatByString(r,l):u8(h)?m.format(r,"year"):d8(h)?m.format(r,"month"):/en/.test(m.getCurrentLocaleCode())?m.format(r,"normalDateWithWeekday"):m.format(r,"normalDate"):c,[r,l,c,m,h]),b=e;return o.jsx($le,Ot({ref:n,toolbarTitle:u,isMobileKeyboardViewOpen:i,toggleMobileKeyboardView:a,isLandscape:s,penIconClassName:_8.penIcon,ownerState:b},f,{children:o.jsx(zle,{variant:"h4",align:s?"left":"center",ownerState:b,children:g})}))}),RC=36,CE=2,S8=320,Hle=358,f0=_.createContext(null);function Wle(t){return js("MuiPickerStaticWrapper",t)}Pr("MuiPickerStaticWrapper",["root"]);const Vle=["displayStaticWrapperAs"],qle=t=>{const{classes:e}=t;return Ls({root:["root"]},Wle,e)},Yle=Xt("div",{name:"MuiPickerStaticWrapper",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({overflow:"hidden",minWidth:S8,display:"flex",flexDirection:"column",backgroundColor:t.palette.background.paper}));function Gle(t){const e=Gd({props:t,name:"MuiPickerStaticWrapper"}),{displayStaticWrapperAs:n}=e,r=Rs(e,Vle),s=qle(e);return o.jsx(f0.Provider,{value:n,children:o.jsx(Yle,Ot({className:s.root},r))})}function C8(t,e){return Array.isArray(e)?e.every(n=>t.indexOf(n)!==-1):t.indexOf(e)!==-1}const Kle=(t,e)=>n=>{(n.key==="Enter"||n.key===" ")&&(t(),n.preventDefault(),n.stopPropagation())},o4=(...t)=>t.reduceRight((e,n)=>(...r)=>n(e(...r)),e=>e);function l4(t,e){return n=>{t(n),e&&e(n)}}function TE({onChange:t,onViewChange:e,openTo:n,view:r,views:s}){var i,a;const[l,c]=Oie({name:"Picker",state:"view",controlled:r,default:n&&C8(s,n)?n:s[0]}),u=(i=s[s.indexOf(l)-1])!=null?i:null,h=(a=s[s.indexOf(l)+1])!=null?a:null,f=_.useCallback(b=>{c(b),e&&e(b)},[c,e]),m=_.useCallback(()=>{h&&f(h)},[h,f]);return{handleChangeAndOpenNext:_.useCallback((b,y)=>{const x=y==="finish";t(b,x&&h?"partial":y),x&&m()},[h,t,m]),nextView:h,previousView:u,openNext:m,openView:l,setOpenView:f}}const kE=typeof window<"u"?_.useLayoutEffect:_.useEffect;let c4=0;function Xle(t){const[e,n]=_.useState(t),r=e;return _.useEffect(()=>{e==null&&(c4+=1,n(`mui-${c4}`))},[e]),r}const u4=tx.useId;function Qle(t){return u4!==void 0?u4():Xle(t)}const jf=220,ou=36,wg={x:jf/2,y:jf/2},T8={x:wg.x,y:0},Zle=T8.x-wg.x,Jle=T8.y-wg.y,ece=t=>t*(180/Math.PI),k8=(t,e,n)=>{const r=e-wg.x,s=n-wg.y,i=Math.atan2(Zle,Jle)-Math.atan2(r,s);let a=ece(i);a=Math.round(a/t)*t,a%=360;const l=Math.floor(a/t)||0,c=r**2+s**2,u=Math.sqrt(c);return{value:l,distance:u}},tce=(t,e,n=1)=>{const r=n*6;let{value:s}=k8(r,t,e);return s=s*n%60,s},nce=(t,e,n)=>{const{value:r,distance:s}=k8(30,t,e);let i=r||12;return n?i%=12:s<jf/2-ou&&(i+=12,i%=24),i},rce=["className","hasSelected","isInner","type","value"],sce=Xt("div")(({theme:t,ownerState:e})=>Ot({width:2,backgroundColor:t.palette.primary.main,position:"absolute",left:"calc(50% - 1px)",bottom:"50%",transformOrigin:"center bottom 0px"},e.toAnimateTransform&&{transition:t.transitions.create(["transform","height"])})),ice=Xt("div")(({theme:t,ownerState:e})=>Ot({width:4,height:4,backgroundColor:t.palette.primary.contrastText,borderRadius:"50%",position:"absolute",top:-21,left:`calc(50% - ${ou/2}px)`,border:`${(ou-4)/2}px solid ${t.palette.primary.main}`,boxSizing:"content-box"},e.hasSelected&&{backgroundColor:t.palette.primary.main}));class E8 extends _.Component{constructor(...e){super(...e),this.state={toAnimateTransform:!1,previousType:void 0}}render(){const e=this.props,{className:n,isInner:r,type:s,value:i}=e,a=Rs(e,rce),l=Ot({},this.props,this.state),c=()=>{let h=360/(s==="hours"?12:60)*i;return s==="hours"&&i>12&&(h-=360),{height:Math.round((r?.26:.4)*jf),transform:`rotateZ(${h}deg)`}};return o.jsx(sce,Ot({style:c(),className:n,ownerState:l},a,{children:o.jsx(ice,{ownerState:l})}))}}E8.getDerivedStateFromProps=(t,e)=>t.type!==e.previousType?{toAnimateTransform:!0,previousType:t.type}:{toAnimateTransform:!1,previousType:t.type};const ace=Xt("div")(({theme:t})=>({display:"flex",justifyContent:"center",alignItems:"center",margin:t.spacing(2)})),oce=Xt("div")({backgroundColor:"rgba(0,0,0,.07)",borderRadius:"50%",height:220,width:220,flexShrink:0,position:"relative",pointerEvents:"none"}),lce=Xt("div")({width:"100%",height:"100%",position:"absolute",pointerEvents:"auto",outline:0,touchAction:"none",userSelect:"none","@media (pointer: fine)":{cursor:"pointer",borderRadius:"50%"},"&:active":{cursor:"move"}}),cce=Xt("div")(({theme:t})=>({width:6,height:6,borderRadius:"50%",backgroundColor:t.palette.primary.main,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"})),uce=Xt(ap)(({theme:t,ownerState:e})=>Ot({zIndex:1,position:"absolute",bottom:e.ampmInClock?64:8,left:8},e.meridiemMode==="am"&&{backgroundColor:t.palette.primary.main,color:t.palette.primary.contrastText,"&:hover":{backgroundColor:t.palette.primary.light}})),dce=Xt(ap)(({theme:t,ownerState:e})=>Ot({zIndex:1,position:"absolute",bottom:e.ampmInClock?64:8,right:8},e.meridiemMode==="pm"&&{backgroundColor:t.palette.primary.main,color:t.palette.primary.contrastText,"&:hover":{backgroundColor:t.palette.primary.light}}));function hce(t){const{ampm:e,ampmInClock:n,autoFocus:r,children:s,date:i,getClockLabelText:a,handleMeridiemChange:l,isTimeDisabled:c,meridiemMode:u,minutesStep:h=1,onChange:f,selectedId:m,type:g,value:b}=t,y=t,x=ms(),w=_.useContext(f0),C=_.useRef(!1),k=c(b,g),A=!e&&g==="hours"&&(b<1||b>12),N=(V,K)=>{c(V,g)||f(V,K)},P=(V,K)=>{let{offsetX:te,offsetY:J}=V;if(te===void 0){const Y=V.target.getBoundingClientRect();te=V.changedTouches[0].clientX-Y.left,J=V.changedTouches[0].clientY-Y.top}const X=g==="seconds"||g==="minutes"?tce(te,J,h):nce(te,J,!!e);N(X,K)},M=V=>{C.current=!0,P(V,"shallow")},L=V=>{C.current&&(P(V,"finish"),C.current=!1)},D=V=>{V.buttons>0&&P(V.nativeEvent,"shallow")},S=V=>{C.current&&(C.current=!1),P(V.nativeEvent,"finish")},z=_.useMemo(()=>g==="hours"?!0:b%5===0,[g,b]),O=g==="minutes"?h:1,U=_.useRef(null);kE(()=>{r&&U.current.focus()},[r]);const j=V=>{if(!C.current)switch(V.key){case"Home":N(0,"partial"),V.preventDefault();break;case"End":N(g==="minutes"?59:23,"partial"),V.preventDefault();break;case"ArrowUp":N(b+O,"partial"),V.preventDefault();break;case"ArrowDown":N(b-O,"partial"),V.preventDefault();break}};return o.jsxs(ace,{children:[o.jsxs(oce,{children:[o.jsx(lce,{onTouchMove:M,onTouchEnd:L,onMouseUp:S,onMouseMove:D}),!k&&o.jsxs(_.Fragment,{children:[o.jsx(cce,{}),i&&o.jsx(E8,{type:g,value:b,isInner:A,hasSelected:z})]}),o.jsx("div",{"aria-activedescendant":m,"aria-label":a(g,i,x),ref:U,role:"listbox",onKeyDown:j,tabIndex:0,children:s})]}),e&&(w==="desktop"||n)&&o.jsxs(_.Fragment,{children:[o.jsx(uce,{onClick:()=>l("am"),disabled:u===null,ownerState:y,children:o.jsx(fu,{variant:"caption",children:"AM"})}),o.jsx(dce,{disabled:u===null,onClick:()=>l("pm"),ownerState:y,children:o.jsx(fu,{variant:"caption",children:"PM"})})]})]})}const fce=["className","disabled","index","inner","label","selected"],Fx=Pr("PrivateClockNumber",["selected","disabled"]),pce=Xt("span")(({theme:t,ownerState:e})=>Ot({height:ou,width:ou,position:"absolute",left:`calc((100% - ${ou}px) / 2)`,display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",color:t.palette.text.primary,fontFamily:t.typography.fontFamily,"&:focused":{backgroundColor:t.palette.background.paper},[`&.${Fx.selected}`]:{color:t.palette.primary.contrastText},[`&.${Fx.disabled}`]:{pointerEvents:"none",color:t.palette.text.disabled}},e.inner&&Ot({},t.typography.body2,{color:t.palette.text.secondary})));function j8(t){const{className:e,disabled:n,index:r,inner:s,label:i,selected:a}=t,l=Rs(t,fce),c=t,u=r%12/12*Math.PI*2-Math.PI/2,h=(jf-ou-2)/2*(s?.65:1),f=Math.round(Math.cos(u)*h),m=Math.round(Math.sin(u)*h);return o.jsx(pce,Ot({className:sa(e,a&&Fx.selected,n&&Fx.disabled),"aria-disabled":n?!0:void 0,"aria-selected":a?!0:void 0,role:"option",style:{transform:`translate(${f}px, ${m+(jf-ou)/2}px`},ownerState:c},l,{children:i}))}const mce=({ampm:t,date:e,getClockNumberText:n,isDisabled:r,selectedId:s,utils:i})=>{const a=e?i.getHours(e):null,l=[],c=t?1:0,u=t?12:23,h=f=>a===null?!1:t?f===12?a===12||a===0:a===f||a-12===f:a===f;for(let f=c;f<=u;f+=1){let m=f.toString();f===0&&(m="00");const g=!t&&(f===0||f>12);m=i.formatNumber(m);const b=h(f);l.push(o.jsx(j8,{id:b?s:void 0,index:f,inner:g,selected:b,disabled:r(f),label:m,"aria-label":n(m)},f))}return l},d4=({utils:t,value:e,isDisabled:n,getClockNumberText:r,selectedId:s})=>{const i=t.formatNumber;return[[5,i("05")],[10,i("10")],[15,i("15")],[20,i("20")],[25,i("25")],[30,i("30")],[35,i("35")],[40,i("40")],[45,i("45")],[50,i("50")],[55,i("55")],[0,i("00")]].map(([a,l],c)=>{const u=a===e;return o.jsx(j8,{label:l,id:u?s:void 0,index:c+1,inner:!1,disabled:n(a),selected:u,"aria-label":r(l)},a)})},gce=["children","className","components","componentsProps","isLeftDisabled","isLeftHidden","isRightDisabled","isRightHidden","leftArrowButtonText","onLeftClick","onRightClick","rightArrowButtonText"],yce=Xt("div")({display:"flex"}),bce=Xt("div")(({theme:t})=>({width:t.spacing(3)})),h4=Xt(ap)(({ownerState:t})=>Ot({},t.hidden&&{visibility:"hidden"})),N8=_.forwardRef(function(e,n){const{children:r,className:s,components:i={},componentsProps:a={},isLeftDisabled:l,isLeftHidden:c,isRightDisabled:u,isRightHidden:h,leftArrowButtonText:f,onLeftClick:m,onRightClick:g,rightArrowButtonText:b}=e,y=Rs(e,gce),w=u0().direction==="rtl",C=a.leftArrowButton||{},k=i.LeftArrowIcon||Ale,A=a.rightArrowButton||{},N=i.RightArrowIcon||Dle,P=e;return o.jsxs(yce,Ot({ref:n,className:s,ownerState:P},y,{children:[o.jsx(h4,Ot({as:i.LeftArrowButton,size:"small","aria-label":f,title:f,disabled:l,edge:"end",onClick:m},C,{className:C.className,ownerState:Ot({},P,C,{hidden:c}),children:w?o.jsx(N,{}):o.jsx(k,{})})),r?o.jsx(fu,{variant:"subtitle1",component:"span",children:r}):o.jsx(bce,{ownerState:P}),o.jsx(h4,Ot({as:i.RightArrowButton,size:"small","aria-label":b,title:b,edge:"start",disabled:u,onClick:g},A,{className:A.className,ownerState:Ot({},P,A,{hidden:h}),children:w?o.jsx(k,{}):o.jsx(N,{})}))]}))}),xce=(t,e)=>t?e.getHours(t)>=12?"pm":"am":null,LC=(t,e,n)=>n&&(t>=12?"pm":"am")!==e?e==="am"?t-12:t+12:t,vce=(t,e,n,r)=>{const s=LC(r.getHours(t),e,n);return r.setHours(t,s)},f4=(t,e)=>e.getHours(t)*3600+e.getMinutes(t)*60+e.getSeconds(t),wce=(t,e)=>(n,r)=>t?e.isAfter(n,r):f4(n,e)>f4(r,e);function _ce(t,{disableFuture:e,maxDate:n}){const r=ms();return _.useMemo(()=>{const s=r.date(),i=r.startOfMonth(e&&r.isBefore(s,n)?s:n);return!r.isAfter(i,t)},[e,n,t,r])}function Sce(t,{disablePast:e,minDate:n}){const r=ms();return _.useMemo(()=>{const s=r.date(),i=r.startOfMonth(e&&r.isAfter(s,n)?s:n);return!r.isBefore(i,t)},[e,n,t,r])}function Cce(t,e,n){const r=ms(),s=xce(t,r),i=_.useCallback(a=>{const l=t==null?null:vce(t,a,!!e,r);n(l,"partial")},[e,t,n,r]);return{meridiemMode:s,handleMeridiemChange:i}}function Tce(t){return js("MuiClockPicker",t)}Pr("MuiClockPicker",["root","arrowSwitcher"]);const EE=Xt("div")({overflowX:"hidden",width:S8,maxHeight:Hle,display:"flex",flexDirection:"column",margin:"0 auto"}),kce=t=>{const{classes:e}=t;return Ls({root:["root"],arrowSwitcher:["arrowSwitcher"]},Tce,e)},Ece=Xt(EE,{name:"MuiClockPicker",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexDirection:"column"}),jce=Xt(N8,{name:"MuiClockPicker",slot:"ArrowSwitcher",overridesResolver:(t,e)=>e.arrowSwitcher})({position:"absolute",right:12,top:15}),Nce=(t,e,n)=>`Select ${t}. ${e===null?"No time selected":`Selected time is ${n.format(e,"fullTime")}`}`,Ace=t=>`${t} minutes`,Dce=t=>`${t} hours`,Pce=t=>`${t} seconds`,Ice=_.forwardRef(function(e,n){const r=Gd({props:e,name:"MuiClockPicker"}),{ampm:s=!1,ampmInClock:i=!1,autoFocus:a,components:l,componentsProps:c,date:u,disableIgnoringDatePartForTimeValidation:h=!1,getClockLabelText:f=Nce,getHoursClockNumberText:m=Dce,getMinutesClockNumberText:g=Ace,getSecondsClockNumberText:b=Pce,leftArrowButtonText:y="open previous view",maxTime:x,minTime:w,minutesStep:C=1,rightArrowButtonText:k="open next view",shouldDisableTime:A,showViewSwitcher:N,onChange:P,view:M,views:L=["hours","minutes"],openTo:D,onViewChange:S,className:z}=r,{openView:O,setOpenView:U,nextView:j,previousView:V,handleChangeAndOpenNext:K}=TE({view:M,views:L,openTo:D,onViewChange:S,onChange:P}),te=d0(),J=ms(),X=J.setSeconds(J.setMinutes(J.setHours(te,0),0),0),Y=u||X,{meridiemMode:F,handleMeridiemChange:H}=Cce(Y,s,K),de=_.useCallback((De,Ee)=>{if(u===null)return!1;const Be=(Ve,rt)=>{const it=wce(h,J);return!!(w&&it(w,rt("end"))||x&&it(rt("start"),x)||A&&A(Ve,Ee))};switch(Ee){case"hours":{const Ve=LC(De,F,s);return Be(Ve,rt=>o4(it=>J.setHours(it,Ve),it=>J.setMinutes(it,rt==="start"?0:59),it=>J.setSeconds(it,rt==="start"?0:59))(u))}case"minutes":return Be(De,Ve=>o4(rt=>J.setMinutes(rt,De),rt=>J.setSeconds(rt,Ve==="start"?0:59))(u));case"seconds":return Be(De,()=>J.setSeconds(u,De));default:throw new Error("not supported")}},[s,u,h,x,F,w,A,J]),ee=Qle(),fe=_.useMemo(()=>{switch(O){case"hours":return{onChange:(Ee,Be)=>{const Ve=LC(Ee,F,s);K(J.setHours(Y,Ve),Be)},value:J.getHours(Y),children:mce({date:u,utils:J,ampm:s,getClockNumberText:m,isDisabled:Ee=>de(Ee,"hours"),selectedId:ee})};case"minutes":{const De=J.getMinutes(Y);return{value:De,onChange:(Be,Ve)=>{K(J.setMinutes(Y,Be),Ve)},children:d4({utils:J,value:De,getClockNumberText:g,isDisabled:Be=>de(Be,"minutes"),selectedId:ee})}}case"seconds":{const De=J.getSeconds(Y);return{value:De,onChange:(Be,Ve)=>{K(J.setSeconds(Y,Be),Ve)},children:d4({utils:J,value:De,getClockNumberText:b,isDisabled:Be=>de(Be,"seconds"),selectedId:ee})}}default:throw new Error("You must provide the type for ClockView")}},[O,J,u,s,m,g,b,F,K,Y,de,ee]),ve=r,Ce=kce(ve);return o.jsxs(Ece,{ref:n,className:sa(Ce.root,z),ownerState:ve,children:[N&&o.jsx(jce,{className:Ce.arrowSwitcher,leftArrowButtonText:y,rightArrowButtonText:k,components:l,componentsProps:c,onLeftClick:()=>U(V),onRightClick:()=>U(j),isLeftDisabled:!V,isRightDisabled:!j,ownerState:ve}),o.jsx(hce,Ot({autoFocus:a,date:u,ampmInClock:i,type:O,ampm:s,getClockLabelText:f,minutesStep:C,isTimeDisabled:de,meridiemMode:F,handleMeridiemChange:H,selectedId:ee},fe))]})}),Oce=["disabled","onSelect","selected","value"],FC=Pr("PrivatePickersMonth",["root","selected"]),Mce=Xt(fu)(({theme:t})=>Ot({flex:"1 0 33.33%",display:"flex",alignItems:"center",justifyContent:"center",color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{margin:"8px 0",height:36,borderRadius:18,cursor:"pointer","&:focus, &:hover":{backgroundColor:Ia(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{pointerEvents:"none",color:t.palette.text.secondary},[`&.${FC.selected}`]:{color:t.palette.primary.contrastText,backgroundColor:t.palette.primary.main,"&:focus, &:hover":{backgroundColor:t.palette.primary.dark}}})),Rce=t=>{const{disabled:e,onSelect:n,selected:r,value:s}=t,i=Rs(t,Oce),a=()=>{n(s)};return o.jsx(Mce,Ot({component:"button",type:"button",className:sa(FC.root,r&&FC.selected),tabIndex:e?-1:0,onClick:a,onKeyDown:Kle(a),color:r?"primary":void 0,variant:r?"h5":"subtitle1",disabled:e},i))};function Lce(t){return js("MuiMonthPicker",t)}Pr("MuiMonthPicker",["root"]);const Fce=["className","date","disabled","disableFuture","disablePast","maxDate","minDate","onChange","onMonthChange","readOnly"],Bce=t=>{const{classes:e}=t;return Ls({root:["root"]},Lce,e)},$ce=Xt("div",{name:"MuiMonthPicker",slot:"Root",overridesResolver:(t,e)=>e.root})({width:310,display:"flex",flexWrap:"wrap",alignContent:"stretch",margin:"0 4px"}),zce=_.forwardRef(function(e,n){const r=Gd({props:e,name:"MuiMonthPicker"}),{className:s,date:i,disabled:a,disableFuture:l,disablePast:c,maxDate:u,minDate:h,onChange:f,onMonthChange:m,readOnly:g}=r,b=Rs(r,Fce),y=r,x=Bce(y),w=ms(),C=d0(),k=w.getMonth(i||C),A=P=>{const M=w.startOfMonth(c&&w.isAfter(C,h)?C:h),L=w.startOfMonth(l&&w.isBefore(C,u)?C:u),D=w.isBefore(P,M),S=w.isAfter(P,L);return D||S},N=P=>{if(g)return;const M=w.setMonth(i||C,P);f(M,"finish"),m&&m(M)};return o.jsx($ce,Ot({ref:n,className:sa(x.root,s),ownerState:y},b,{children:w.getMonthArray(i||C).map(P=>{const M=w.getMonth(P),L=w.format(P,"monthShort");return o.jsx(Rce,{value:M,selected:M===k,onSelect:N,disabled:a||A(P),children:L},L)})}))});function Uce(t,e,n){const{value:r,onError:s}=t,i=ms(),a=_.useRef(null),l=e(i,r,t);return _.useEffect(()=>{s&&!n(l,a.current)&&s(l,r),a.current=l},[n,s,a,l,r]),l}const A8=(t,e,{disablePast:n,disableFuture:r,minDate:s,maxDate:i,shouldDisableDate:a})=>{const l=t.date(),c=t.date(e);if(c===null)return null;switch(!0){case!t.isValid(e):return"invalidDate";case!!(a&&a(c)):return"shouldDisableDate";case!!(r&&t.isAfterDay(c,l)):return"disableFuture";case!!(n&&t.isBeforeDay(c,l)):return"disablePast";case!!(s&&t.isBeforeDay(c,s)):return"minDate";case!!(i&&t.isAfterDay(c,i)):return"maxDate";default:return null}},Hce=(t,e)=>t===e,Wce=t=>Uce(t,A8,Hce),Vce=(t,e,n)=>(r,s)=>{switch(s.type){case"changeMonth":return Ot({},r,{slideDirection:s.direction,currentMonth:s.newMonth,isMonthSwitchingAnimating:!t});case"finishMonthSwitchingAnimation":return Ot({},r,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(r.focusedDay!==null&&n.isSameDay(s.focusedDay,r.focusedDay))return r;const i=!!s.focusedDay&&!e&&!n.isSameMonth(r.currentMonth,s.focusedDay);return Ot({},r,{focusedDay:s.focusedDay,isMonthSwitchingAnimating:i&&!t,currentMonth:i?n.startOfMonth(s.focusedDay):r.currentMonth,slideDirection:n.isAfterDay(s.focusedDay,r.currentMonth)?"left":"right"})}default:throw new Error("missing support")}},qce=({date:t,defaultCalendarMonth:e,disableFuture:n,disablePast:r,disableSwitchToMonthOnDayFocus:s=!1,maxDate:i,minDate:a,onMonthChange:l,reduceAnimations:c,shouldDisableDate:u})=>{var h;const f=d0(),m=ms(),g=_.useRef(Vce(!!c,s,m)).current,[b,y]=_.useReducer(g,{isMonthSwitchingAnimating:!1,focusedDay:t||f,currentMonth:m.startOfMonth((h=t??e)!=null?h:f),slideDirection:"left"}),x=_.useCallback(N=>{y(Ot({type:"changeMonth"},N)),l&&l(N.newMonth)},[l]),w=_.useCallback(N=>{const P=N??f;m.isSameMonth(P,b.currentMonth)||x({newMonth:m.startOfMonth(P),direction:m.isAfterDay(P,b.currentMonth)?"left":"right"})},[b.currentMonth,x,f,m]),C=_.useCallback(N=>A8(m,N,{disablePast:r,disableFuture:n,minDate:a,maxDate:i,shouldDisableDate:u})!==null,[n,r,i,a,u,m]),k=_.useCallback(()=>{y({type:"finishMonthSwitchingAnimation"})},[]),A=_.useCallback(N=>{C(N)||y({type:"changeFocusedDay",focusedDay:N})},[C]);return{calendarState:b,changeMonth:w,changeFocusedDay:A,isDateDisabled:C,onMonthSwitchingAnimationEnd:k,handleChangeMonth:x}},Yce=Pr("PrivatePickersFadeTransitionGroup",["root"]),p4=500,Gce=Xt(h0)({display:"block",position:"relative"}),BC=({children:t,className:e,reduceAnimations:n,transKey:r})=>n?t:o.jsx(Gce,{className:sa(Yce.root,e),children:o.jsx(SE,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:p4,enter:p4/2,exit:0},children:t},r)});function Kce(t){return js("MuiPickersDay",t)}const db=Pr("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),Xce=["allowSameDateSelection","autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDayFocus","onDaySelect","onFocus","onKeyDown","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today"],Qce=t=>{const{selected:e,disableMargin:n,disableHighlightToday:r,today:s,outsideCurrentMonth:i,showDaysOutsideCurrentMonth:a,classes:l}=t;return Ls({root:["root",e&&"selected",!n&&"dayWithMargin",!r&&s&&"today",i&&a&&"dayOutsideMonth"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},Kce,l)},D8=({theme:t,ownerState:e})=>Ot({},t.typography.caption,{width:RC,height:RC,borderRadius:"50%",padding:0,backgroundColor:t.palette.background.paper,color:t.palette.text.primary,"&:hover":{backgroundColor:Ia(t.palette.action.active,t.palette.action.hoverOpacity)},"&:focus":{backgroundColor:Ia(t.palette.action.active,t.palette.action.hoverOpacity),[`&.${db.selected}`]:{willChange:"background-color",backgroundColor:t.palette.primary.dark}},[`&.${db.selected}`]:{color:t.palette.primary.contrastText,backgroundColor:t.palette.primary.main,fontWeight:t.typography.fontWeightMedium,transition:t.transitions.create("background-color",{duration:t.transitions.duration.short}),"&:hover":{willChange:"background-color",backgroundColor:t.palette.primary.dark}},[`&.${db.disabled}`]:{color:t.palette.text.disabled}},!e.disableMargin&&{margin:`0 ${CE}px`},e.outsideCurrentMonth&&e.showDaysOutsideCurrentMonth&&{color:t.palette.text.secondary},!e.disableHighlightToday&&e.today&&{[`&:not(.${db.selected})`]:{border:`1px solid ${t.palette.text.secondary}`}}),P8=(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableMargin&&e.dayWithMargin,!n.disableHighlightToday&&n.today&&e.today,!n.outsideCurrentMonth&&n.showDaysOutsideCurrentMonth&&e.dayOutsideMonth,n.outsideCurrentMonth&&!n.showDaysOutsideCurrentMonth&&e.hiddenDaySpacingFiller]},Zce=Xt(_E,{name:"MuiPickersDay",slot:"Root",overridesResolver:P8})(D8),Jce=Xt("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:P8})(({theme:t,ownerState:e})=>Ot({},D8({theme:t,ownerState:e}),{visibility:"hidden"})),eue=()=>{},tue=_.forwardRef(function(e,n){const r=Gd({props:e,name:"MuiPickersDay"}),{allowSameDateSelection:s=!1,autoFocus:i=!1,className:a,day:l,disabled:c=!1,disableHighlightToday:u=!1,disableMargin:h=!1,isAnimating:f,onClick:m,onDayFocus:g=eue,onDaySelect:b,onFocus:y,onKeyDown:x,outsideCurrentMonth:w,selected:C=!1,showDaysOutsideCurrentMonth:k=!1,children:A,today:N=!1}=r,P=Rs(r,Xce),M=Ot({},r,{allowSameDateSelection:s,autoFocus:i,disabled:c,disableHighlightToday:u,disableMargin:h,selected:C,showDaysOutsideCurrentMonth:k,today:N}),L=Qce(M),D=ms(),S=_.useRef(null),z=nc(S,n);kE(()=>{i&&!c&&!f&&!w&&S.current.focus()},[i,c,f,w]);const O=K=>{g&&g(l),y&&y(K)},U=K=>{!s&&C||(c||b(l,"finish"),m&&m(K))},j=u0();function V(K){switch(x!==void 0&&x(K),K.key){case"ArrowUp":g(D.addDays(l,-7)),K.preventDefault();break;case"ArrowDown":g(D.addDays(l,7)),K.preventDefault();break;case"ArrowLeft":g(D.addDays(l,j.direction==="ltr"?-1:1)),K.preventDefault();break;case"ArrowRight":g(D.addDays(l,j.direction==="ltr"?1:-1)),K.preventDefault();break;case"Home":g(D.startOfWeek(l)),K.preventDefault();break;case"End":g(D.endOfWeek(l)),K.preventDefault();break;case"PageUp":g(D.getNextMonth(l)),K.preventDefault();break;case"PageDown":g(D.getPreviousMonth(l)),K.preventDefault();break}}return w&&!k?o.jsx(Jce,{className:sa(L.root,L.hiddenDaySpacingFiller,a),ownerState:M}):o.jsx(Zce,Ot({className:sa(L.root,a),ownerState:M,ref:z,centerRipple:!0,disabled:c,"aria-label":A?void 0:D.format(l,"fullDate"),tabIndex:C?0:-1,onFocus:O,onKeyDown:V,onClick:U},P,{children:A||D.format(l,"dayOfMonth")}))}),nue=(t,e)=>t.autoFocus===e.autoFocus&&t.isAnimating===e.isAnimating&&t.today===e.today&&t.disabled===e.disabled&&t.selected===e.selected&&t.disableMargin===e.disableMargin&&t.showDaysOutsideCurrentMonth===e.showDaysOutsideCurrentMonth&&t.disableHighlightToday===e.disableHighlightToday&&t.className===e.className&&t.outsideCurrentMonth===e.outsideCurrentMonth&&t.onDayFocus===e.onDayFocus&&t.onDaySelect===e.onDaySelect,rue=_.memo(tue,nue),sue=["children","className","reduceAnimations","slideDirection","transKey"],Pa=Pr("PrivatePickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),I8=350,iue=Xt(h0)(({theme:t})=>{const e=t.transitions.create("transform",{duration:I8,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${Pa["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${Pa["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${Pa.slideEnterActive}`]:{transform:"translate(0%)",transition:e},[`& .${Pa.slideExit}`]:{transform:"translate(0%)"},[`& .${Pa["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:e,zIndex:0},[`& .${Pa["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:e,zIndex:0}}}),aue=t=>{let{children:e,className:n,reduceAnimations:r,slideDirection:s,transKey:i}=t,a=Rs(t,sue);if(r)return o.jsx("div",{className:sa(Pa.root,n),children:e});const l={exit:Pa.slideExit,enterActive:Pa.slideEnterActive,enter:Pa[`slideEnter-${s}`],exitActive:Pa[`slideExitActiveLeft-${s}`]};return o.jsx(iue,{className:sa(Pa.root,n),childFactory:c=>_.cloneElement(c,{classNames:l}),children:o.jsx(vE,Ot({mountOnEnter:!0,unmountOnExit:!0,timeout:I8,classNames:l},a,{children:e}),i)})},O8=(RC+CE*4)*6,oue=Xt("div")({display:"flex",justifyContent:"center",alignItems:"center"}),lue=Xt(fu)(({theme:t})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:t.palette.text.secondary})),cue=Xt("div")({display:"flex",justifyContent:"center",alignItems:"center",minHeight:O8}),uue=Xt(aue)({minHeight:O8}),due=Xt("div")({overflow:"hidden"}),hue=Xt("div")({margin:`${CE}px 0`,display:"flex",justifyContent:"center"});function fue(t){const{allowSameDateSelection:e,autoFocus:n,onFocusedDayChange:r,className:s,currentMonth:i,date:a,disabled:l,disableHighlightToday:c,focusedDay:u,isDateDisabled:h,isMonthSwitchingAnimating:f,loading:m,onChange:g,onMonthSwitchingAnimationEnd:b,readOnly:y,reduceAnimations:x,renderDay:w,renderLoading:C=()=>o.jsx("span",{children:"..."}),showDaysOutsideCurrentMonth:k,slideDirection:A,TransitionProps:N}=t,P=d0(),M=ms(),L=_.useCallback((U,j="finish")=>{if(y)return;const V=Array.isArray(a)?U:M.mergeDateAndTime(U,a||P);g(V,j)},[a,P,g,y,M]),D=M.getMonth(i),S=(Array.isArray(a)?a:[a]).filter(Boolean).map(U=>U&&M.startOfDay(U)),z=D,O=_.useMemo(()=>_.createRef(),[z]);return o.jsxs(_.Fragment,{children:[o.jsx(oue,{children:M.getWeekdays().map((U,j)=>o.jsx(lue,{"aria-hidden":!0,variant:"caption",children:U.charAt(0).toUpperCase()},U+j.toString()))}),m?o.jsx(cue,{children:C()}):o.jsx(uue,Ot({transKey:z,onExited:b,reduceAnimations:x,slideDirection:A,className:s},N,{nodeRef:O,children:o.jsx(due,{ref:O,role:"grid",children:M.getWeekArray(i).map(U=>o.jsx(hue,{role:"row",children:U.map(j=>{const V={key:j==null?void 0:j.toString(),day:j,isAnimating:f,disabled:l||h(j),allowSameDateSelection:e,autoFocus:n&&u!==null&&M.isSameDay(j,u),today:M.isSameDay(j,P),outsideCurrentMonth:M.getMonth(j)!==D,selected:S.some(K=>K&&M.isSameDay(K,j)),disableHighlightToday:c,showDaysOutsideCurrentMonth:k,onDayFocus:r,onDaySelect:L};return w?w(j,S,V):o.jsx("div",{role:"cell",children:o.jsx(rue,Ot({},V))},V.key)})},`week-${U[0]}`))})}))]})}const pue=Xt("div")({display:"flex",alignItems:"center",marginTop:16,marginBottom:8,paddingLeft:24,paddingRight:12,maxHeight:30,minHeight:30}),mue=Xt("div")(({theme:t})=>Ot({display:"flex",maxHeight:30,overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},t.typography.body1,{fontWeight:t.typography.fontWeightMedium})),m4=Xt("div")({marginRight:6}),gue=Xt(ap)({marginRight:"auto"}),yue=Xt(Nle)(({theme:t,ownerState:e})=>Ot({willChange:"transform",transition:t.transitions.create("transform"),transform:"rotate(0deg)"},e.openView==="year"&&{transform:"rotate(180deg)"}));function bue(t){return t==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view"}function xue(t){const{components:e={},componentsProps:n={},currentMonth:r,disabled:s,disableFuture:i,disablePast:a,getViewSwitchingButtonText:l=bue,leftArrowButtonText:c="Previous month",maxDate:u,minDate:h,onMonthChange:f,onViewChange:m,openView:g,reduceAnimations:b,rightArrowButtonText:y="Next month",views:x}=t,w=ms(),C=n.switchViewButton||{},k=()=>f(w.getNextMonth(r),"left"),A=()=>f(w.getPreviousMonth(r),"right"),N=_ce(r,{disableFuture:i||s,maxDate:u}),P=Sce(r,{disablePast:a||s,minDate:h}),M=()=>{if(!(x.length===1||!m||s))if(x.length===2)m(x.find(D=>D!==g)||x[0]);else{const D=x.indexOf(g)!==0?0:1;m(x[D])}};if(x.length===1&&x[0]==="year")return null;const L=t;return o.jsxs(pue,{ownerState:L,children:[o.jsxs(mue,{role:"presentation",onClick:M,ownerState:L,children:[o.jsx(BC,{reduceAnimations:b,transKey:w.format(r,"month"),children:o.jsx(m4,{"aria-live":"polite",ownerState:L,children:w.format(r,"month")})}),o.jsx(BC,{reduceAnimations:b,transKey:w.format(r,"year"),children:o.jsx(m4,{"aria-live":"polite",ownerState:L,children:w.format(r,"year")})}),x.length>1&&!s&&o.jsx(gue,Ot({size:"small",as:e.SwitchViewButton,"aria-label":l(g)},C,{children:o.jsx(yue,{as:e.SwitchViewIcon,ownerState:L})}))]}),o.jsx(SE,{in:g==="day",children:o.jsx(N8,{leftArrowButtonText:c,rightArrowButtonText:y,components:e,componentsProps:n,onLeftClick:A,onRightClick:k,isLeftDisabled:P,isRightDisabled:N})})]})}function vue(t){return js("PrivatePickersYear",t)}const g4=Pr("PrivatePickersYear",["root","modeMobile","modeDesktop","yearButton","disabled","selected"]),wue=t=>{const{wrapperVariant:e,disabled:n,selected:r,classes:s}=t,i={root:["root",e&&`mode${In(e)}`],yearButton:["yearButton",n&&"disabled",r&&"selected"]};return Ls(i,vue,s)},_ue=Xt("div")(({ownerState:t})=>Ot({flexBasis:"33.3%",display:"flex",alignItems:"center",justifyContent:"center"},(t==null?void 0:t.wrapperVariant)==="desktop"&&{flexBasis:"25%"})),Sue=Xt("button")(({theme:t})=>Ot({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus, &:hover":{backgroundColor:Ia(t.palette.action.active,t.palette.action.hoverOpacity)},[`&.${g4.disabled}`]:{color:t.palette.text.secondary},[`&.${g4.selected}`]:{color:t.palette.primary.contrastText,backgroundColor:t.palette.primary.main,"&:focus, &:hover":{backgroundColor:t.palette.primary.dark}}})),Cue=_.forwardRef(function(e,n){const{autoFocus:r,className:s,children:i,disabled:a,onClick:l,onKeyDown:c,selected:u,value:h}=e,f=_.useRef(null),m=nc(f,n),g=_.useContext(f0),b=Ot({},e,{wrapperVariant:g}),y=wue(b);return _.useEffect(()=>{r&&f.current.focus()},[r]),o.jsx(_ue,{className:sa(y.root,s),ownerState:b,children:o.jsx(Sue,{ref:m,disabled:a,type:"button",tabIndex:u?0:-1,onClick:x=>l(x,h),onKeyDown:x=>c(x,h),className:y.yearButton,ownerState:b,children:i})})}),M8=({date:t,disableFuture:e,disablePast:n,maxDate:r,minDate:s,shouldDisableDate:i,utils:a})=>{const l=a.startOfDay(a.date());n&&a.isBefore(s,l)&&(s=l),e&&a.isAfter(r,l)&&(r=l);let c=t,u=t;for(a.isBefore(t,s)&&(c=a.date(s),u=null),a.isAfter(t,r)&&(u&&(u=a.date(r)),c=null);c||u;){if(c&&a.isAfter(c,r)&&(c=null),u&&a.isBefore(u,s)&&(u=null),c){if(!i(c))return c;c=a.addDays(c,1)}if(u){if(!i(u))return u;u=a.addDays(u,-1)}}return l},Tue=(t,e)=>{const n=t.date(e);return t.isValid(n)?n:null};function kue(t){return js("MuiYearPicker",t)}Pr("MuiYearPicker",["root"]);const Eue=t=>{const{classes:e}=t;return Ls({root:["root"]},kue,e)},jue=Xt("div",{name:"MuiYearPicker",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",margin:"0 4px"}),Nue=_.forwardRef(function(e,n){const r=Gd({props:e,name:"MuiYearPicker"}),{autoFocus:s,className:i,date:a,disabled:l,disableFuture:c,disablePast:u,isDateDisabled:h,maxDate:f,minDate:m,onChange:g,onFocusedDayChange:b,onYearChange:y,readOnly:x,shouldDisableYear:w}=r,C=r,k=Eue(C),A=d0(),N=u0(),P=ms(),M=a||A,L=P.getYear(M),D=_.useContext(f0),S=_.useRef(null),[z,O]=_.useState(L),U=(te,J,X="finish")=>{if(x)return;const Y=H=>{g(H,X),b&&b(H||A),y&&y(H)},F=P.setYear(M,J);if(h(F)){const H=M8({utils:P,date:F,minDate:m,maxDate:f,disablePast:!!u,disableFuture:!!c,shouldDisableDate:h});Y(H||A)}else Y(F)},j=_.useCallback(te=>{h(P.setYear(M,te))||O(te)},[M,h,P]),V=D==="desktop"?4:3,K=(te,J)=>{switch(te.key){case"ArrowUp":j(J-V),te.preventDefault();break;case"ArrowDown":j(J+V),te.preventDefault();break;case"ArrowLeft":j(J+(N.direction==="ltr"?-1:1)),te.preventDefault();break;case"ArrowRight":j(J+(N.direction==="ltr"?1:-1)),te.preventDefault();break}};return o.jsx(jue,{ref:n,className:sa(k.root,i),ownerState:C,children:P.getYearRange(m,f).map(te=>{const J=P.getYear(te),X=J===L;return o.jsx(Cue,{selected:X,value:J,onClick:U,onKeyDown:K,autoFocus:s&&J===z,ref:X?S:void 0,disabled:l||u&&P.isBeforeYear(te,A)||c&&P.isAfterYear(te,A)||w&&w(te),children:P.format(te,"year")},P.format(te,"year"))})})}),Aue=typeof navigator<"u"&&/(android)/i.test(navigator.userAgent),Due=t=>js("MuiCalendarPicker",t);Pr("MuiCalendarPicker",["root","viewTransitionContainer"]);const Pue=["autoFocus","onViewChange","date","disableFuture","disablePast","defaultCalendarMonth","loading","maxDate","minDate","onChange","onMonthChange","reduceAnimations","renderLoading","shouldDisableDate","shouldDisableYear","view","views","openTo","className"],Iue=t=>{const{classes:e}=t;return Ls({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},Due,e)},Oue=Xt(EE,{name:"MuiCalendarPicker",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexDirection:"column"}),Mue=Xt(BC,{name:"MuiCalendarPicker",slot:"ViewTransitionContainer",overridesResolver:(t,e)=>e.viewTransitionContainer})({overflowY:"auto"}),Rue=_.forwardRef(function(e,n){const r=Gd({props:e,name:"MuiCalendarPicker"}),{autoFocus:s,onViewChange:i,date:a,disableFuture:l=!1,disablePast:c=!1,defaultCalendarMonth:u,loading:h=!1,maxDate:f,minDate:m,onChange:g,onMonthChange:b,reduceAnimations:y=Aue,renderLoading:x=()=>o.jsx("span",{children:"..."}),shouldDisableDate:w,shouldDisableYear:C,view:k,views:A=["year","day"],openTo:N="day",className:P}=r,M=Rs(r,Pue),L=ms(),D=c8(),S=m??D.minDate,z=f??D.maxDate,{openView:O,setOpenView:U}=TE({view:k,views:A,openTo:N,onChange:g,onViewChange:i}),{calendarState:j,changeFocusedDay:V,changeMonth:K,isDateDisabled:te,handleChangeMonth:J,onMonthSwitchingAnimationEnd:X}=qce({date:a,defaultCalendarMonth:u,reduceAnimations:y,onMonthChange:b,minDate:S,maxDate:z,shouldDisableDate:w,disablePast:c,disableFuture:l});_.useEffect(()=>{if(a&&te(a)){const de=M8({utils:L,date:a,minDate:S,maxDate:z,disablePast:c,disableFuture:l,shouldDisableDate:te});g(de,"partial")}},[]),_.useEffect(()=>{a&&K(a)},[a]);const Y=r,F=Iue(Y),H={className:P,date:a,disabled:M.disabled,disablePast:c,disableFuture:l,onChange:g,minDate:S,maxDate:z,onMonthChange:b,readOnly:M.readOnly};return o.jsxs(Oue,{ref:n,className:sa(F.root,P),ownerState:Y,children:[o.jsx(xue,Ot({},M,{views:A,openView:O,currentMonth:j.currentMonth,onViewChange:U,onMonthChange:(de,ee)=>J({newMonth:de,direction:ee}),minDate:S,maxDate:z,disablePast:c,disableFuture:l,reduceAnimations:y})),o.jsx(Mue,{reduceAnimations:y,className:F.viewTransitionContainer,transKey:O,ownerState:Y,children:o.jsxs("div",{children:[O==="year"&&o.jsx(Nue,Ot({},M,{autoFocus:s,date:a,onChange:g,minDate:S,maxDate:z,disableFuture:l,disablePast:c,isDateDisabled:te,shouldDisableYear:C,onFocusedDayChange:V})),O==="month"&&o.jsx(zce,Ot({},H)),O==="day"&&o.jsx(fue,Ot({},M,j,{autoFocus:s,onMonthSwitchingAnimationEnd:X,onFocusedDayChange:V,reduceAnimations:y,date:a,onChange:g,isDateDisabled:te,loading:h,renderLoading:x}))]})})]})}),Lue=t=>{const[,e]=_.useReducer(c=>c+1,0),n=_.useRef(null),{replace:r,append:s}=t,i=r?r(t.format(t.value)):t.format(t.value),a=_.useRef(!1),l=c=>{const u=c.target.value;n.current=[u,c.target,u.length>i.length,a.current,i===t.format(u)],e()};return _.useLayoutEffect(()=>{if(n.current==null)return;let[c,u,h,f,m]=n.current;n.current=null;const g=f&&m,y=c.slice(u.selectionStart).search(t.accept||/\d/g),x=y!==-1?y:0,w=P=>(P.match(t.accept||/\d/g)||[]).join(""),C=w(c.substr(0,u.selectionStart)),k=P=>{let M=0,L=0;for(let D=0;D!==C.length;++D){let S=P.indexOf(C[D],M)+1,z=w(P).indexOf(C[D],L)+1;z-L>1&&(S=M,z=L),L=Math.max(z,L),M=Math.max(M,S)}return M};if(t.mask===!0&&h&&!m){let P=k(c);const M=w(c.substr(P))[0];P=c.indexOf(M,P),c=`${c.substr(0,P)}${c.substr(P+1)}`}let A=t.format(c);s!=null&&u.selectionStart===c.length&&!m&&(h?A=s(A):w(A.slice(-1))===""&&(A=A.slice(0,-1)));const N=r?r(A):A;return i===N?e():t.onChange(N),()=>{let P=k(A);if(t.mask!=null&&(h||f&&!g))for(;A[P]&&w(A[P])==="";)P+=1;u.selectionStart=u.selectionEnd=P+(g?1+x:0)}}),_.useEffect(()=>{const c=h=>{h.code==="Delete"&&(a.current=!0)},u=h=>{h.code==="Delete"&&(a.current=!1)};return document.addEventListener("keydown",c),document.addEventListener("keyup",u),()=>{document.removeEventListener("keydown",c),document.removeEventListener("keyup",u)}},[]),{value:n.current!=null?n.current[0]:i,onChange:l}};function Fue(t,e){return t&&e.isValid(e.date(t))?`Choose date, selected date is ${e.format(e.date(t),"fullDate")}`:"Choose date"}const Bue=(t,e,n)=>{const r=t.date(e);return e===null?"":t.isValid(r)?t.formatByString(r,n):""},$C="_",$ue="2019-11-21T22:30:00.000",zue="2019-01-01T09:00:00.000";function Uue(t,e,n,r){const i=r.formatByString(r.date(zue),e).replace(n,$C),l=r.formatByString(r.date($ue),e).replace(n,"_")===t&&i===t;return!l&&r.lib,l}const Hue=(t,e)=>n=>n.split("").map((r,s)=>{if(e.lastIndex=0,s>t.length-1)return"";const i=t[s],a=t[s+1],l=e.test(r)?r:"",c=i===$C?l:i+l;return s===n.length-1&&a&&a!==$C?c?c+a:"":c}).join(""),Wue=({acceptRegex:t=/[\d]/gi,disabled:e,disableMaskedInput:n,ignoreInvalidInputs:r,inputFormat:s,inputProps:i,label:a,mask:l,onChange:c,rawValue:u,readOnly:h,rifmFormatter:f,TextFieldProps:m,validationError:g})=>{const b=ms(),[y,x]=_.useState(!1),w=b.getFormatHelperText(s),C=_.useMemo(()=>!l||n?!1:Uue(l,s,t,b),[t,n,s,l,b]),k=_.useMemo(()=>C&&l?Hue(l,t):U=>U,[t,l,C]),A=Bue(b,u,s),[N,P]=_.useState(A),M=_.useRef(A);_.useEffect(()=>{M.current=A},[A]);const L=!y,D=M.current!==A;L&&D&&(u===null||b.isValid(u))&&A!==N&&P(A);const S=U=>{const j=U===""||U===l?"":U;P(j);const V=j===null?null:b.parse(j,s);r&&!b.isValid(V)||c(V,j||void 0)},z=Lue({value:N,onChange:S,format:f||k});return Ot({label:a,disabled:e,error:g,inputProps:Ot({},C?z:{value:N,onChange:U=>{S(U.currentTarget.value)}},{disabled:e,placeholder:w,readOnly:h,type:C?"tel":"text"},i,{onFocus:l4(()=>{x(!0)},i==null?void 0:i.onFocus),onBlur:l4(()=>{x(!1)},i==null?void 0:i.onBlur)})},m)},Vue=["components","disableOpenPicker","getOpenDialogAriaText","InputAdornmentProps","InputProps","inputRef","openPicker","OpenPickerButtonProps","renderInput"],que=_.forwardRef(function(e,n){const{components:r={},disableOpenPicker:s,getOpenDialogAriaText:i=Fue,InputAdornmentProps:a,InputProps:l,inputRef:c,openPicker:u,OpenPickerButtonProps:h,renderInput:f}=e,m=Rs(e,Vue),g=ms(),b=Wue(m),y=(a==null?void 0:a.position)||"end",x=r.OpenPickerIcon||w8;return f(Ot({ref:n,inputRef:c},b,{InputProps:Ot({},l,{[`${y}Adornment`]:s?void 0:o.jsx(jle,Ot({position:y},a,{children:o.jsx(ap,Ot({edge:y,disabled:m.disabled||m.readOnly,"aria-label":i(m.rawValue,g)},h,{onClick:u,children:o.jsx(x,{})}))}))})}))});function y4(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}const Yue=(t,e)=>{const[n,r]=_.useState(y4);return kE(()=>{const i=()=>{r(y4())};return window.addEventListener("orientationchange",i),()=>{window.removeEventListener("orientationchange",i)}},[]),C8(t,["hours","minutes","seconds"])?!1:(e||n)==="landscape"},Gue=["autoFocus","className","date","DateInputProps","isMobileKeyboardViewOpen","onDateChange","onViewChange","openTo","orientation","showToolbar","toggleMobileKeyboardView","ToolbarComponent","toolbarFormat","toolbarPlaceholder","toolbarTitle","views"],Kue=Xt("div")({padding:"16px 24px"}),Xue=Xt("div")(({ownerState:t})=>Ot({display:"flex",flexDirection:"column"},t.isLandscape&&{flexDirection:"row"})),Que={fullWidth:!0},b4=t=>t==="year"||t==="month"||t==="day",x4=t=>t==="hours"||t==="minutes"||t==="seconds";function Zue(t){const{autoFocus:e,date:n,DateInputProps:r,isMobileKeyboardViewOpen:s,onDateChange:i,onViewChange:a,openTo:l,orientation:c,showToolbar:u,toggleMobileKeyboardView:h,ToolbarComponent:f=()=>null,toolbarFormat:m,toolbarPlaceholder:g,toolbarTitle:b,views:y}=t,x=Rs(t,Gue),w=Yue(y,c),C=_.useContext(f0),k=typeof u>"u"?C!=="desktop":u,A=_.useCallback((D,S)=>{i(D,C,S)},[i,C]),N=_.useCallback(D=>{s&&h(),a&&a(D)},[s,a,h]),{openView:P,setOpenView:M,handleChangeAndOpenNext:L}=TE({view:void 0,views:y,openTo:l,onChange:A,onViewChange:N});return o.jsxs(Xue,{ownerState:{isLandscape:w},children:[k&&o.jsx(f,Ot({},x,{views:y,isLandscape:w,date:n,onChange:A,setOpenView:M,openView:P,toolbarTitle:b,toolbarFormat:m,toolbarPlaceholder:g,isMobileKeyboardViewOpen:s,toggleMobileKeyboardView:h})),o.jsx(EE,{children:s?o.jsx(Kue,{children:o.jsx(que,Ot({},r,{ignoreInvalidInputs:!0,disableOpenPicker:!0,TextFieldProps:Que}))}):o.jsxs(_.Fragment,{children:[b4(P)&&o.jsx(Rue,Ot({autoFocus:e,date:n,onViewChange:M,onChange:L,view:P,views:y.filter(b4)},x)),x4(P)&&o.jsx(Ice,Ot({},x,{autoFocus:e,date:n,view:P,views:y.filter(x4),onChange:L,onViewChange:M,showViewSwitcher:C==="desktop"}))]})})]})}const Jue=({open:t,onOpen:e,onClose:n})=>{const r=_.useRef(typeof t=="boolean").current,[s,i]=_.useState(!1);_.useEffect(()=>{if(r){if(typeof t!="boolean")throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");i(t)}},[r,t]);const a=_.useCallback(l=>{r||i(l),l&&e&&e(),!l&&n&&n()},[r,e,n]);return{isOpen:s,setIsOpen:a}},ede=(t,e)=>{const{disableCloseOnSelect:n,onAccept:r,onChange:s,value:i}=t,a=ms(),{isOpen:l,setIsOpen:c}=Jue(t);function u(D){return{committed:D,draft:D}}const h=_.useMemo(()=>e.parseInput(a,i),[e,a,i]),[f,m]=_.useState(h);_.useEffect(()=>{h!=null&&m(h)},[h]);const[g,b]=_.useReducer((D,S)=>{switch(S.type){case"reset":return u(S.payload);case"update":return Ot({},D,{draft:S.payload});default:return D}},h,u);e.areValuesEqual(a,g.committed,h)||b({type:"reset",payload:h});const[y,x]=_.useState(g.committed),[w,C]=_.useState(!1),k=_.useCallback((D,S)=>{s(D),S&&(c(!1),x(D),r&&r(D))},[r,s,c]),A=_.useMemo(()=>({open:l,onClear:()=>k(e.emptyValue,!0),onAccept:()=>k(g.draft,!0),onDismiss:()=>k(y,!0),onSetToday:()=>{const D=a.date();b({type:"update",payload:D}),k(D,!n)}}),[k,n,l,a,g.draft,e.emptyValue,y]),N=_.useMemo(()=>({date:g.draft,isMobileKeyboardViewOpen:w,toggleMobileKeyboardView:()=>C(!w),onDateChange:(D,S,z="partial")=>{b({type:"update",payload:D}),z==="partial"&&k(D,!1),z==="finish"&&k(D,!(n??S==="mobile"))}}),[k,n,w,g.draft]),P=_.useCallback((D,S)=>{const z=e.valueReducer?e.valueReducer(a,f,D):D;s(z,S)},[s,e,f,a]),M=_.useMemo(()=>({onChange:P,open:l,rawValue:i,openPicker:()=>c(!0)}),[P,l,i,c]),L={pickerProps:N,inputProps:M,wrapperProps:A};return _.useDebugValue(L,()=>({MuiPickerState:{pickerDraft:g,other:L}})),L},tde=["ToolbarComponent","value","onChange","displayStaticWrapperAs"],nde={emptyValue:null,parseInput:Tue,areValuesEqual:(t,e,n)=>t.isEqual(e,n)},R8=_.forwardRef(function(e,n){const r=Gae(e,"MuiStaticDatePicker"),s=Wce(r)!==null,{pickerProps:i,inputProps:a}=ede(r,nde),{ToolbarComponent:l=Ule,displayStaticWrapperAs:c="mobile"}=r,u=Rs(r,tde),h=Ot({},a,u,{ref:n,validationError:s});return o.jsx(Gle,{displayStaticWrapperAs:c,children:o.jsx(Zue,Ot({},i,{toolbarTitle:r.label||r.toolbarTitle,ToolbarComponent:l,DateInputProps:h},u))})});function rde(){var f;const[t,e]=_.useState(null),[n,r]=_.useState(!1),[s,i]=_.useState([]),[a,l]=_.useState(!1),c=mt();_.useEffect(()=>{const m=async()=>{try{const b=await c.get(`${Zi}events/`);i(b.data)}catch{console.error(" ")}},g=()=>{const b=localStorage.getItem("darkMode")==="true"||window.matchMedia("(prefers-color-scheme: dark)").matches;l(b)};m(),g()},[]);const u=m=>{const g=cl(m).format("YYYY-MM-DD"),b=s.filter(y=>y.event_date===g);e({date:g,events:b}),r(!0)},h=()=>{r(!1)};return o.jsxs(T6,{dateAdapter:S6,children:[o.jsx(R8,{displayStaticWrapperAs:"desktop",value:(t==null?void 0:t.date)||null,onChange:m=>u(m),renderInput:m=>o.jsx("div",{...m}),renderDay:(m,g,b)=>{const y=m.format("YYYY-MM-DD"),x=m.isSame(cl(),"day"),w=s.some(O=>O.event_date===y),C=b.outsideCurrentMonth,{isAnimating:k,allowSameDateSelection:A,outsideCurrentMonth:N,disableHighlightToday:P,showDaysOutsideCurrentMonth:M,onDayFocus:L,onDaySelect:D,today:S,...z}=b;return _.createElement("div",{...z,key:y,style:{...b.style,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:w?"#940303":void 0,color:w?"white":C?"#d3d3d3":void 0,border:x?"2px solid #032794":void 0,borderRadius:"50%",width:"36px",height:"36px",margin:"auto",cursor:"pointer"},onClick:()=>u(m)},m.date())}}),o.jsx(x8,{open:n,onClose:h,children:o.jsxs(y8,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:a?"#333":"background.paper",boxShadow:24,p:4,borderRadius:"8px"},children:[o.jsxs("h3",{style:{textAlign:"center"},children:["Schedule for ",(t==null?void 0:t.date)||""]}),((f=t==null?void 0:t.events)==null?void 0:f.length)>0?o.jsx("ul",{children:t.events.map((m,g)=>o.jsxs("li",{style:{marginBottom:"10px"},children:[o.jsx("strong",{children:m.name})," - ",m.event_time," ",o.jsx("br",{}),"Platform: ",m.platform," ",o.jsx("br",{}),o.jsx("a",{href:m.invite_link,target:"_blank",rel:"noopener noreferrer",children:"Join Event"})]},m.id||g))}):o.jsx("p",{style:{textAlign:"center"},children:"No events for this day."})]})})]})}const L8=()=>{const[t,e]=_.useState(!1);return _.useEffect(()=>{(async()=>{try{const r=await mt().get("/user/appearance-settings/");if(r.data&&r.data.dark_mode!==void 0){e(r.data.dark_mode);return}}catch{}try{const r=localStorage.getItem("appearanceSettings");if(r){const s=JSON.parse(r);e(s.darkMode)}}catch(r){console.error("Error loading appearance settings from localStorage:",r)}})()},[]),o.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:t?"#121212":"rgb(255, 255, 255)"},children:[o.jsxs("svg",{className:"pl",viewBox:"0 0 200 200",width:"200",height:"200",xmlns:"http://www.w3.org/2000/svg",children:[o.jsxs("defs",{children:[o.jsxs("linearGradient",{id:"pl-grad1",x1:"1",y1:"0.5",x2:"0",y2:"0.5",children:[o.jsx("stop",{offset:"0%",stopColor:"red"}),o.jsx("stop",{offset:"100%",stopColor:"blue"})]}),o.jsxs("linearGradient",{id:"pl-grad2",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"0%",stopColor:"red"}),o.jsx("stop",{offset:"100%",stopColor:"blue"})]})]}),o.jsx("circle",{className:"pl__ring",cx:"100",cy:"100",r:"82",fill:"none",stroke:"url(#pl-grad1)",strokeWidth:"36",strokeDasharray:"0 257 1 257",strokeDashoffset:"0.01",strokeLinecap:"round",transform:"rotate(-90,100,100)"}),o.jsx("line",{className:"pl__ball",stroke:"url(#pl-grad2)",x1:"100",y1:"18",x2:"100.01",y2:"182",strokeWidth:"36",strokeDasharray:"1 165",strokeLinecap:"round"})]}),o.jsx("style",{children:`
          .pl__ring, .pl__ball {
            animation: ring 2s ease-out infinite;
          }
          .pl__ball {
            animation-name: ball;
          }
          @keyframes ring {
            from {
              stroke-dasharray: 0 257 0 0 1 0 0 258;
            }
            25% {
              stroke-dasharray: 0 0 0 0 257 0 258 0;
            }
            50%, to {
              stroke-dasharray: 0 0 0 0 0 515 0 0;
            }
          }
          @keyframes ball {
            from, 50% {
              animation-timing-function: ease-in;
              stroke-dashoffset: 1;
            }
            64% {
              animation-timing-function: ease-in;
              stroke-dashoffset: -109;
            }
            78% {
              animation-timing-function: ease-in;
              stroke-dashoffset: -145;
            }
            92% {
              animation-timing-function: ease-in;
              stroke-dashoffset: -157;
            }
            57%, 71%, 85%, 99%, to {
              animation-timing-function: ease-out;
              stroke-dashoffset: -163;
            }
          }
        `})]})},sde=[{label:"Courses",icon:o.jsx("i",{className:"bi bi-book"}),path:"/student/courses"},{label:"Quizzes",icon:o.jsx("i",{className:"bi bi-question-circle"}),path:"/student/quiz"},{label:"Home",icon:o.jsx("i",{className:"bi bi-house"}),path:"/student/dashboard"},{label:"Messages",icon:o.jsx("i",{className:"bi bi-chat-dots"}),path:"/student/messages"}],ide=t=>{xn.remove("access_token"),xn.remove("refresh_token"),t("/")},ade=[{label:"Assignments",icon:o.jsx("i",{className:"bi bi-pencil"}),path:"/student/assignments"},{label:"Settings",icon:o.jsx("i",{className:"bi bi-gear"}),path:"/student/settings"},{label:"Logout",icon:o.jsx("i",{className:"bi bi-box-arrow-right"}),action:"logout"}];function lu(){const t=go(),e=fr(),[n,r]=_.useState(!1),s=_.useRef();_.useEffect(()=>{function a(l){n&&s.current&&!s.current.contains(l.target)&&r(!1)}return n&&document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[n]);const i=(a,l="mobile-nav-btn",c=!0)=>a.map(u=>{const h=t.pathname.startsWith(u.path);return o.jsxs("button",{onClick:()=>{u.action==="logout"?ide(e):u.path&&(c&&r(!1),e(u.path))},className:`${l}${h?" active":""}`,"aria-label":u.label,type:"button",children:[o.jsx("span",{className:"mobile-nav-icon",children:u.icon}),o.jsx("span",{className:"mobile-nav-label",children:u.label})]},u.path||u.label)});return o.jsxs(o.Fragment,{children:[o.jsx("nav",{className:"mobile-nav-bar",children:o.jsxs("div",{className:"mobile-nav-scroll",children:[i(sde),o.jsxs("button",{className:`mobile-nav-btn${n?" active":""}`,"aria-label":"More",type:"button",onClick:()=>r(!0),children:[o.jsx("span",{className:"mobile-nav-icon",children:o.jsx("i",{className:"bi bi-three-dots"})}),o.jsx("span",{className:"mobile-nav-label",children:"More"})]})]})}),o.jsx("div",{ref:s,className:`mobile-nav-slide-menu${n?" open":""}`,children:o.jsxs("div",{className:"mobile-nav-slide-content",children:[i(ade,"mobile-nav-btn",!0),o.jsxs("button",{className:"mobile-nav-btn","aria-label":"Back",type:"button",onClick:()=>r(!1),children:[o.jsx("span",{className:"mobile-nav-icon",children:o.jsx("i",{className:"bi bi-chevron-left"})}),o.jsx("span",{className:"mobile-nav-label",children:"Back"})]})]})}),o.jsx("style",{children:`
        .mobile-nav-bar {
          position: fixed;
          left: 0;
          bottom: 0;
          width: 100vw;
          height: 64px;
          background: #232323;
          border-top: 1.5px solid #23272f;
          display: flex;
          justify-content: center;
          align-items: center;
          z-index: 2000;
          box-shadow: 0 -2px 16px rgba(0,0,0,0.10);
          border-radius: 18px 18px 0 0;
          padding: 0;
          overflow: hidden;
        }
        .mobile-nav-scroll {
          display: flex;
          flex-direction: row;
          width: 100vw;
          height: 100%;
          justify-content: space-evenly;
        }
        .mobile-nav-btn {
          background: none!important;
          border: none;
          outline: none;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          color: #bdbdbd;
          font-size: 13px;
          font-weight: 500;
          min-width: 64px;
          height: 100%;
          transition: color 0.18s;
          position: relative;
          cursor: pointer;
          padding: 0 12px;
          border-radius: 10px;
        }
        .mobile-nav-btn.active {
          color: #4F8CFF;
          font-weight: 700;
        }
        .mobile-nav-btn.active .mobile-nav-icon {
          color: #4F8CFF;
        }
        .mobile-nav-btn:active {
          background: #232323;
        }
        .mobile-nav-icon {
          font-size: 20px;
          margin-bottom: 2px;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: color 0.18s;
        }
        .mobile-nav-label {
          font-size: 11px;
          margin-top: 1px;
          letter-spacing: 0.1em;
        }
        /* Slide-in More Menu */
        .mobile-nav-slide-menu {
          position: fixed;
          right: 0;
          bottom: 0;
          width: 100vw;
          height: 64px;
          background: #232323;
          border-top: 1.5px solid #23272f;
          border-radius: 18px 18px 0 0;
          z-index: 2101;
          display: flex;
          align-items: center;
          pointer-events: none;
          transform: translateX(100%);
          transition: transform 0.35s cubic-bezier(.77,0,.18,1);
          overflow: hidden;
        }
        .mobile-nav-slide-menu.open {
          transform: translateX(0%);
          pointer-events: auto;
        }
        .mobile-nav-slide-content {
          display: flex;
          flex-direction: row;
          width: 100vw;
          height: 100%;
          justify-content: space-evenly;
          align-items: center;
        }
        /* Overlay removed */
        @media (min-width: 700px) {
          .mobile-nav-bar, .mobile-nav-slide-menu {
            display: none !important;
          }
        }
      `})]})}s0.register(jx,Nx,$m,Gh,p6,g6,h6,Yh);function ode(){const[t,e]=_.useState(!0),[n,r]=_.useState({}),[s,i]=_.useState([]),[a,l]=_.useState(null),[c,u]=_.useState(!1),[h,f]=_.useState(!1),[m,g]=_.useState([]),[b,y]=_.useState(!0),[x,w]=_.useState(!1),[C,k]=_.useState(!1),[A,N]=_.useState([]),[P,M]=_.useState(!1),L=_.useRef(null),D=_.useRef(null),S=fr(),[z,O]=_.useState(window.innerWidth<700);_.useEffect(()=>{const ee=()=>O(window.innerWidth<700);return window.addEventListener("resize",ee),()=>window.removeEventListener("resize",ee)},[]);const U=()=>{e(!t)},j=async()=>{try{const ee=await mt().get("/user/appearance-settings/");ee.data&&ee.data.dark_mode!==void 0&&k(ee.data.dark_mode)}catch{}},V=()=>{const ee=["January","February","March","April","May","June","July","August","September","October","November","December"],ve=new Date().getMonth();return[ee[(ve+10)%12],ee[(ve+11)%12],ee[ve]]},K=async()=>{var ee;try{const fe=await mt().get(`user/profile/${(ee=zt())==null?void 0:ee.user_id}/`);l(fe.data)}catch(fe){console.error("Error fetching profile:",fe),fe.response&&fe.response.status===401&&S("/")}},te=async()=>{var fe;const ee=(fe=zt())==null?void 0:fe.user_id;if(!ee){S("/");return}try{const ve=await mt().get(`student/summary/${ee}/`);if(!ve.data||ve.data.length===0)return;const Ce=ve.data[0],De=Ce.months||[],Ee=["January","February","March","April","May","June","July","August","September","October","November","December"],Be=De.map(Ve=>Ee[Ve-1]);r({total_courses:(Ce==null?void 0:Ce.total_courses)||0,incomplete_lectures:(Ce==null?void 0:Ce.incomplete_lectures)||0,pending_assignments:(Ce==null?void 0:Ce.pending_assignments)||0,available_quizzes:(Ce==null?void 0:Ce.available_quizzes)||0,monthly_quiz_activity:(Ce==null?void 0:Ce.monthly_quiz_activity)||[0,0,0],monthly_assignment_activity:(Ce==null?void 0:Ce.monthly_assignment_activity)||[0,0,0],monthly_lecture_activity:(Ce==null?void 0:Ce.monthly_lecture_activity)||[0,0,0],months:Be.length===3?Be:V(),daily_quiz_count:(Ce==null?void 0:Ce.daily_quiz_count)||0,daily_assignment_count:(Ce==null?void 0:Ce.daily_assignment_count)||0,daily_lecture_count:(Ce==null?void 0:Ce.daily_lecture_count)||0,daily_other_count:(Ce==null?void 0:Ce.daily_other_count)||0});try{const Ve=await mt().get(`notifications/user/${ee}/`);g(Ve.data)}catch{}}catch{}},J=async()=>{w(!0),await K(),w(!1)};if(_.useEffect(()=>{(async()=>{if(sessionStorage.getItem("refreshed_student_dashboard"))sessionStorage.removeItem("refreshed_student_dashboard"),M(!0),setTimeout(()=>{M(!1)},3e3);else{const Ee=`visited_${"/student/dashboard/".replace(/\//g,"_")}`;sessionStorage.getItem(Ee)==="true"&&sessionStorage.setItem("refreshed_student_dashboard","true")}await K(),await te(),await j();const Ce=setTimeout(()=>{y(!1)},3e3);return()=>clearTimeout(Ce)})();const fe=ve=>{L.current&&!L.current.contains(ve.target)&&D.current&&!D.current.contains(ve.target)&&(u(!1),f(!1))};return document.addEventListener("mousedown",fe),()=>{document.removeEventListener("mousedown",fe)}},[]),_.useEffect(()=>{a||J()},[a]),b)return o.jsx(L8,{});if(x)return o.jsx("p",{children:"Refreshing user data..."});const X=ee=>{ee.format("YYYY-MM-DD")},Y={labels:n.months||V(),datasets:[{label:"Quiz Activity",data:n.monthly_quiz_activity||[],borderColor:"#6a5acd",backgroundColor:"rgba(106, 90, 205, 0.1)",tension:.4,fill:!0},{label:"Assignment Activity",data:n.monthly_assignment_activity||[],borderColor:"#ff6347",backgroundColor:"rgba(255, 99, 71, 0.1)",tension:.4,fill:!0},{label:"Lecture Activity",data:n.monthly_lecture_activity||[],borderColor:"#4bc0c0",backgroundColor:"rgba(75, 192, 192, 0.1)",tension:.4,fill:!0}]},F={responsive:!0,plugins:{legend:{display:!0,position:"top",labels:{boxWidth:12,font:{size:10},color:C?"#f0f0f0":"#666"}},tooltip:{callbacks:{label:ee=>`${ee.dataset.label}: ${ee.raw} items`}}},scales:{x:{grid:{display:!1},ticks:{color:C?"#f0f0f0":"#666"}},y:{beginAtZero:!0,grid:{color:C?"#444":"#f0f0f0"},ticks:{color:C?"#f0f0f0":"#666"}}}},H={labels:["Quizzes","Assignments","Lectures","Other"],datasets:[{data:[n.daily_quiz_count||0,n.daily_assignment_count||0,n.daily_lecture_count||0,n.daily_other_count||0],backgroundColor:["#6a5acd","#ff6347","#4bc0c0","#e0e0e0"],hoverBackgroundColor:["#483d8b","#d53f31","#3da8a8","#c3c3c3"]}]},de={responsive:!0,plugins:{legend:{display:!0,position:"right",labels:{boxWidth:12,font:{size:10},color:C?"#f0f0f0":"#666"}},tooltip:{callbacks:{label:ee=>{const fe=ee.label,ve=ee.raw,Ce=ee.dataset.data.reduce((Ee,Be)=>Ee+Be,0),De=Ce>0?Math.round(ve/Ce*100):0;return`${fe}: ${ve} (${De}%)`}}}},cutout:"70%"};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{style:{display:"flex",minHeight:"100vh"},children:[!z&&o.jsx(dc,{sidebarCollapsed:t}),o.jsxs("div",{style:{flex:1,marginLeft:z?0:t?"80px":"270px",transition:"margin-left 0.3s ease"},children:["          ",o.jsx(Fi,{sidebarCollapsed:t,toggleSidebar:U}),P&&o.jsx("div",{style:{position:"fixed",top:"70px",right:"20px",backgroundColor:"#4CAF50",color:"white",padding:"10px 15px",borderRadius:"4px",boxShadow:"0 2px 5px rgba(0,0,0,0.2)",zIndex:1e3,animation:"fadeIn 0.5s, fadeOut 0.5s 2.5s forwards"},children:"Dashboard refreshed with the latest data"}),o.jsx("div",{style:{padding:"20px"},children:o.jsxs("div",{className:"row mb-2",children:[o.jsxs("div",{className:"col-md-8",children:[o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-md-3",children:o.jsx("div",{className:"card shadow-sm text-center",style:{backgroundColor:C?"#333":"#e9ecef",color:C?"white":"black",border:"none",transition:"background-color 0.3s ease"},onMouseEnter:ee=>{const fe=Math.random()>.5?"#8c0101":"#034287";ee.currentTarget.style.backgroundColor=fe,ee.currentTarget.style.color="white"},onMouseLeave:ee=>{ee.currentTarget.style.backgroundColor=C?"#333":"#e9ecef",ee.currentTarget.style.color=C?"white":"black"},children:o.jsxs("div",{className:"card-body",style:{padding:"10px"},children:[o.jsx("h6",{children:"Enrolled Courses"}),o.jsx("p",{className:"display-6",children:n.total_courses||0})]})})}),o.jsx("div",{className:"col-md-3",children:o.jsx("div",{className:"card shadow-sm text-center",style:{backgroundColor:C?"#333":"#e9ecef",color:C?"white":"black",border:"none",transition:"background-color 0.3s ease"},onMouseEnter:ee=>{const fe=Math.random()>.5?"#8c0101":"#034287";ee.currentTarget.style.backgroundColor=fe,ee.currentTarget.style.color="white"},onMouseLeave:ee=>{ee.currentTarget.style.backgroundColor=C?"#333":"#e9ecef",ee.currentTarget.style.color=C?"white":"black"},children:o.jsxs("div",{className:"card-body",style:{padding:"10px"},children:[o.jsx("h6",{children:"Incomplete Lectures"}),o.jsx("p",{className:"display-6",children:n.incomplete_lectures||0})]})})}),o.jsx("div",{className:"col-md-3",children:o.jsx("div",{className:"card shadow-sm text-center",style:{backgroundColor:C?"#333":"#e9ecef",color:C?"white":"black",border:"none",transition:"background-color 0.3s ease"},onMouseEnter:ee=>{const fe=Math.random()>.5?"#8c0101":"#034287";ee.currentTarget.style.backgroundColor=fe,ee.currentTarget.style.color="white"},onMouseLeave:ee=>{ee.currentTarget.style.backgroundColor=C?"#333":"#e9ecef",ee.currentTarget.style.color=C?"white":"black"},children:o.jsxs("div",{className:"card-body",style:{padding:"10px"},children:[o.jsx("h6",{children:"Pending Assignments"}),o.jsx("p",{className:"display-6",children:n.pending_assignments||0})]})})}),o.jsx("div",{className:"col-md-3",children:o.jsx("div",{className:"card shadow-sm text-center",style:{backgroundColor:C?"#333":"#e9ecef",color:C?"white":"black",border:"none",transition:"background-color 0.3s ease"},onMouseEnter:ee=>{const fe=Math.random()>.5?"#8c0101":"#034287";ee.currentTarget.style.backgroundColor=fe,ee.currentTarget.style.color="white"},onMouseLeave:ee=>{ee.currentTarget.style.backgroundColor=C?"#333":"#e9ecef",ee.currentTarget.style.color=C?"white":"black"},children:o.jsxs("div",{className:"card-body",style:{padding:"10px"},children:[o.jsx("h6",{children:"Available Quizzes"}),o.jsx("p",{className:"display-6",children:n.available_quizzes||0})]})})})]}),o.jsxs("div",{className:"row mt-2",children:[o.jsx("div",{className:"col-md-8",children:o.jsx("div",{className:"card shadow-sm",children:o.jsxs("div",{className:"card-body",style:{padding:"10px",backgroundColor:C?"#333":"#fff",color:C?"#f0f0f0":"#333"},children:[o.jsx("h5",{children:"Monthly Course Activity"}),o.jsx(w6,{data:Y,options:F})]})})}),o.jsx("div",{className:"col-md-4",children:o.jsx("div",{className:"card shadow-sm",children:o.jsxs("div",{className:"card-body",style:{padding:"10px",backgroundColor:C?"#333":"#fff",color:C?"#f0f0f0":"#333"},children:[o.jsx("h5",{children:"Daily Activity Breakdown"}),o.jsx(_6,{data:H,options:de})]})})})]})]}),o.jsx("div",{className:"col-md-3",children:o.jsx("div",{className:"card shadow-sm",children:o.jsxs("div",{className:"card-body",style:{padding:"10px",display:"flex",justifyContent:"center",alignItems:"flex-start",height:"100%",flexDirection:"column"},children:[o.jsx("h5",{style:{textAlign:"center",marginBottom:"10px"},children:"Event Calander"}),o.jsx(rde,{renderDay:(ee,fe,ve)=>{const Ce=ee.format("YYYY-MM-DD"),De=ee.isSame(cl(),"day"),Ee=A.some(it=>it.event_date===Ce),Be=ve.outsideCurrentMonth,{today:Ve,...rt}=ve;return _.createElement("div",{...rt,key:Ce,style:{...ve.style,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:Ee?"#ffcccc":void 0,color:Be?"#d3d3d3":void 0,border:De?"2px solid #032794":void 0,borderRadius:"50%",width:"36px",height:"36px",margin:"auto",cursor:"pointer"},onClick:()=>X(ee)},ee.date())}})]})})})]})})]})]}),z&&o.jsx(lu,{})]})}var S2={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var v4;function lde(){return v4||(v4=1,function(t){(function(){var e={}.hasOwnProperty;function n(){for(var i="",a=0;a<arguments.length;a++){var l=arguments[a];l&&(i=s(i,r(l)))}return i}function r(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return n.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var a="";for(var l in i)e.call(i,l)&&i[l]&&(a=s(a,l));return a}function s(i,a){return a?i?i+" "+a:i+a:i}t.exports?(n.default=n,t.exports=n):window.classNames=n})()}(S2)),S2.exports}var cde=lde();const hn=Jr(cde);function w4(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function ude(t){var e=dde(t,"string");return typeof e=="symbol"?e:String(e)}function dde(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function hde(t,e,n){var r=_.useRef(t!==void 0),s=_.useState(e),i=s[0],a=s[1],l=t!==void 0,c=r.current;return r.current=l,!l&&c&&i!==e&&a(e),[l?t:i,_.useCallback(function(u){for(var h=arguments.length,f=new Array(h>1?h-1:0),m=1;m<h;m++)f[m-1]=arguments[m];n&&n.apply(void 0,[u].concat(f)),a(u)},[n])]}function jE(t,e){return Object.keys(e).reduce(function(n,r){var s,i=n,a=i[w4(r)],l=i[r],c=Rs(i,[w4(r),r].map(ude)),u=e[r],h=hde(l,a,t[u]),f=h[0],m=h[1];return Ot({},c,(s={},s[r]=f,s[u]=m,s))},t)}const fde=["xxl","xl","lg","md","sm","xs"],pde="xs",p0=_.createContext({prefixes:{},breakpoints:fde,minBreakpoint:pde}),{Consumer:mEe,Provider:gEe}=p0;function vn(t,e){const{prefixes:n}=_.useContext(p0);return t||n[e]||e}function F8(){const{breakpoints:t}=_.useContext(p0);return t}function B8(){const{minBreakpoint:t}=_.useContext(p0);return t}function mde(){const{dir:t}=_.useContext(p0);return t==="rtl"}function y1(t){return t&&t.ownerDocument||document}function gde(t){var e=y1(t);return e&&e.defaultView||window}function yde(t,e){return gde(t).getComputedStyle(t,e)}var bde=/([A-Z])/g;function xde(t){return t.replace(bde,"-$1").toLowerCase()}var vde=/^ms-/;function hb(t){return xde(t).replace(vde,"-ms-")}var wde=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function _de(t){return!!(t&&wde.test(t))}function Sd(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(hb(e))||yde(t).getPropertyValue(hb(e));Object.keys(e).forEach(function(s){var i=e[s];!i&&i!==0?t.style.removeProperty(hb(s)):_de(s)?r+=s+"("+i+") ":n+=hb(s)+": "+i+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}function Sde(t){return t.code==="Escape"||t.keyCode===27}function Cde(){const t=_.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}function b1(t){if(!t||typeof t=="function")return null;const{major:e}=Cde();return e>=19?t.props.ref:t.ref}const op=!!(typeof window<"u"&&window.document&&window.document.createElement);var zC=!1,UC=!1;try{var C2={get passive(){return zC=!0},get once(){return UC=zC=!0}};op&&(window.addEventListener("test",C2,C2),window.removeEventListener("test",C2,!0))}catch{}function $8(t,e,n,r){if(r&&typeof r!="boolean"&&!UC){var s=r.once,i=r.capture,a=n;!UC&&s&&(a=n.__once||function l(c){this.removeEventListener(e,l,i),n.call(this,c)},n.__once=a),t.addEventListener(e,a,zC?r:i)}t.addEventListener(e,n,r)}function HC(t,e,n,r){var s=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,s),n.__once&&t.removeEventListener(e,n.__once,s)}function Bx(t,e,n,r){return $8(t,e,n,r),function(){HC(t,e,n,r)}}function Tde(t,e,n,r){if(r===void 0&&(r=!0),t){var s=document.createEvent("HTMLEvents");s.initEvent(e,n,r),t.dispatchEvent(s)}}function kde(t){var e=Sd(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function Ede(t,e,n){n===void 0&&(n=5);var r=!1,s=setTimeout(function(){r||Tde(t,"transitionend",!0)},e+n),i=Bx(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(s),i()}}function z8(t,e,n,r){n==null&&(n=kde(t)||0);var s=Ede(t,n,r),i=Bx(t,"transitionend",e);return function(){s(),i()}}function _4(t,e){const n=Sd(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function jde(t,e){const n=_4(t,"transitionDuration"),r=_4(t,"transitionDelay"),s=z8(t,i=>{i.target===t&&(s(),e(i))},n+r)}function Nde(t){t.offsetHeight}const S4=t=>!t||typeof t=="function"?t:e=>{t.current=e};function Ade(t,e){const n=S4(t),r=S4(e);return s=>{n&&n(s),r&&r(s)}}function U8(t,e){return _.useMemo(()=>Ade(t,e),[t,e])}function Dde(t){return t&&"setState"in t?hd.findDOMNode(t):t??null}const Pde=Zt.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:s,onExited:i,addEndListener:a,children:l,childRef:c,...u},h)=>{const f=_.useRef(null),m=U8(f,c),g=P=>{m(Dde(P))},b=P=>M=>{P&&f.current&&P(f.current,M)},y=_.useCallback(b(t),[t]),x=_.useCallback(b(e),[e]),w=_.useCallback(b(n),[n]),C=_.useCallback(b(r),[r]),k=_.useCallback(b(s),[s]),A=_.useCallback(b(i),[i]),N=_.useCallback(b(a),[a]);return o.jsx(vo,{ref:h,...u,onEnter:y,onEntered:w,onEntering:x,onExit:C,onExited:A,onExiting:k,addEndListener:N,nodeRef:f,children:typeof l=="function"?(P,M)=>l(P,{...M,ref:g}):Zt.cloneElement(l,{ref:g})})});function Ide(t){const e=_.useRef(t);return _.useEffect(()=>{e.current=t},[t]),e}function $x(t){const e=Ide(t);return _.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const x1=t=>_.forwardRef((e,n)=>o.jsx("div",{...e,ref:n,className:hn(e.className,t)})),H8=x1("h4");H8.displayName="DivStyledAsH4";const W8=_.forwardRef(({className:t,bsPrefix:e,as:n=H8,...r},s)=>(e=vn(e,"alert-heading"),o.jsx(n,{ref:s,className:hn(t,e),...r})));W8.displayName="AlertHeading";function Ode(t){const e=_.useRef(t);return _.useEffect(()=>{e.current=t},[t]),e}function zl(t){const e=Ode(t);return _.useCallback(function(...n){return e.current&&e.current(...n)},[e])}function Mde(){const t=_.useRef(!0),e=_.useRef(()=>t.current);return _.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function Rde(t){const e=_.useRef(null);return _.useEffect(()=>{e.current=t}),e.current}const Lde=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Fde=typeof document<"u",C4=Fde||Lde?_.useLayoutEffect:_.useEffect,Bde=["as","disabled"];function $de(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function zde(t){return!t||t.trim()==="#"}function NE({tagName:t,disabled:e,href:n,target:r,rel:s,role:i,onClick:a,tabIndex:l=0,type:c}){t||(n!=null||r!=null||s!=null?t="a":t="button");const u={tagName:t};if(t==="button")return[{type:c||"button",disabled:e},u];const h=m=>{if((e||t==="a"&&zde(n))&&m.preventDefault(),e){m.stopPropagation();return}a==null||a(m)},f=m=>{m.key===" "&&(m.preventDefault(),h(m))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:i??"button",disabled:void 0,tabIndex:e?void 0:l,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?s:void 0,onClick:h,onKeyDown:f},u]}const V8=_.forwardRef((t,e)=>{let{as:n,disabled:r}=t,s=$de(t,Bde);const[i,{tagName:a}]=NE(Object.assign({tagName:n,disabled:r},s));return o.jsx(a,Object.assign({},s,i,{ref:e}))});V8.displayName="Button";const Ude=["onKeyDown"];function Hde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Wde(t){return!t||t.trim()==="#"}const AE=_.forwardRef((t,e)=>{let{onKeyDown:n}=t,r=Hde(t,Ude);const[s]=NE(Object.assign({tagName:"a"},r)),i=zl(a=>{s.onKeyDown(a),n==null||n(a)});return Wde(r.href)||r.role==="button"?o.jsx("a",Object.assign({ref:e},r,s,{onKeyDown:i})):o.jsx("a",Object.assign({ref:e},r,{onKeyDown:n}))});AE.displayName="Anchor";const q8=_.forwardRef(({className:t,bsPrefix:e,as:n=AE,...r},s)=>(e=vn(e,"alert-link"),o.jsx(n,{ref:s,className:hn(t,e),...r})));q8.displayName="AlertLink";const Vde={[Kc]:"show",[cd]:"show"},Rd=_.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:r,...s},i)=>{const a={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...s},l=_.useCallback((c,u)=>{Nde(c),r==null||r(c,u)},[r]);return o.jsx(Pde,{ref:i,addEndListener:jde,...a,onEnter:l,childRef:b1(e),children:(c,u)=>_.cloneElement(e,{...u,className:hn("fade",t,e.props.className,Vde[c],n[c])})})});Rd.displayName="Fade";const qde={"aria-label":on.string,onClick:on.func,variant:on.oneOf(["white"])},v1=_.forwardRef(({className:t,variant:e,"aria-label":n="Close",...r},s)=>o.jsx("button",{ref:s,type:"button",className:hn("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...r}));v1.displayName="CloseButton";v1.propTypes=qde;const Y8=_.forwardRef((t,e)=>{const{bsPrefix:n,show:r=!0,closeLabel:s="Close alert",closeVariant:i,className:a,children:l,variant:c="primary",onClose:u,dismissible:h,transition:f=Rd,...m}=jE(t,{show:"onClose"}),g=vn(n,"alert"),b=$x(w=>{u&&u(!1,w)}),y=f===!0?Rd:f,x=o.jsxs("div",{role:"alert",...y?void 0:m,ref:e,className:hn(a,g,c&&`${g}-${c}`,h&&`${g}-dismissible`),children:[h&&o.jsx(v1,{onClick:b,"aria-label":s,variant:i}),l]});return y?o.jsx(y,{unmountOnExit:!0,...m,ref:void 0,in:r,children:x}):r?x:null});Y8.displayName="Alert";const Ma=Object.assign(Y8,{Link:q8,Heading:W8}),Zn=_.forwardRef(({bsPrefix:t,bg:e="primary",pill:n=!1,text:r,className:s,as:i="span",...a},l)=>{const c=vn(t,"badge");return o.jsx(i,{ref:l,...a,className:hn(s,c,n&&"rounded-pill",r&&`text-${r}`,e&&`bg-${e}`)})});Zn.displayName="Badge";const Dt=_.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:r,active:s=!1,disabled:i=!1,className:a,...l},c)=>{const u=vn(e,"btn"),[h,{tagName:f}]=NE({tagName:t,disabled:i,...l}),m=f;return o.jsx(m,{...h,...l,ref:c,disabled:i,className:hn(a,u,s&&"active",n&&`${u}-${n}`,r&&`${u}-${r}`,l.href&&i&&"disabled")})});Dt.displayName="Button";const DE=_.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=vn(e,"card-body"),o.jsx(n,{ref:s,className:hn(t,e),...r})));DE.displayName="CardBody";const G8=_.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=vn(e,"card-footer"),o.jsx(n,{ref:s,className:hn(t,e),...r})));G8.displayName="CardFooter";const PE=_.createContext(null);PE.displayName="CardHeaderContext";const K8=_.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},s)=>{const i=vn(t,"card-header"),a=_.useMemo(()=>({cardHeaderBsPrefix:i}),[i]);return o.jsx(PE.Provider,{value:a,children:o.jsx(n,{ref:s,...r,className:hn(e,i)})})});K8.displayName="CardHeader";const X8=_.forwardRef(({bsPrefix:t,className:e,variant:n,as:r="img",...s},i)=>{const a=vn(t,"card-img");return o.jsx(r,{ref:i,className:hn(n?`${a}-${n}`:a,e),...s})});X8.displayName="CardImg";const Q8=_.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=vn(e,"card-img-overlay"),o.jsx(n,{ref:s,className:hn(t,e),...r})));Q8.displayName="CardImgOverlay";const Z8=_.forwardRef(({className:t,bsPrefix:e,as:n="a",...r},s)=>(e=vn(e,"card-link"),o.jsx(n,{ref:s,className:hn(t,e),...r})));Z8.displayName="CardLink";const Yde=x1("h6"),J8=_.forwardRef(({className:t,bsPrefix:e,as:n=Yde,...r},s)=>(e=vn(e,"card-subtitle"),o.jsx(n,{ref:s,className:hn(t,e),...r})));J8.displayName="CardSubtitle";const eF=_.forwardRef(({className:t,bsPrefix:e,as:n="p",...r},s)=>(e=vn(e,"card-text"),o.jsx(n,{ref:s,className:hn(t,e),...r})));eF.displayName="CardText";const Gde=x1("h5"),tF=_.forwardRef(({className:t,bsPrefix:e,as:n=Gde,...r},s)=>(e=vn(e,"card-title"),o.jsx(n,{ref:s,className:hn(t,e),...r})));tF.displayName="CardTitle";const nF=_.forwardRef(({bsPrefix:t,className:e,bg:n,text:r,border:s,body:i=!1,children:a,as:l="div",...c},u)=>{const h=vn(t,"card");return o.jsx(l,{ref:u,...c,className:hn(e,h,n&&`bg-${n}`,r&&`text-${r}`,s&&`border-${s}`),children:i?o.jsx(DE,{children:a}):a})});nF.displayName="Card";const Lt=Object.assign(nF,{Img:X8,Title:tF,Subtitle:J8,Body:DE,Link:Z8,Text:eF,Header:K8,Footer:G8,ImgOverlay:Q8});function Kde(t){const e=_.useRef(t);return e.current=t,e}function Xde(t){const e=Kde(t);_.useEffect(()=>()=>e.current(),[])}function T4(t,e){let n=0;return _.Children.map(t,r=>_.isValidElement(r)?e(r,n++):r)}function Qde(t,e){let n=0;_.Children.forEach(t,r=>{_.isValidElement(r)&&e(r,n++)})}function Zde(t,e){return _.Children.toArray(t).some(n=>_.isValidElement(n)&&n.type===e)}function Jde({as:t,bsPrefix:e,className:n,...r}){e=vn(e,"col");const s=F8(),i=B8(),a=[],l=[];return s.forEach(c=>{const u=r[c];delete r[c];let h,f,m;typeof u=="object"&&u!=null?{span:h,offset:f,order:m}=u:h=u;const g=c!==i?`-${c}`:"";h&&a.push(h===!0?`${e}${g}`:`${e}${g}-${h}`),m!=null&&l.push(`order${g}-${m}`),f!=null&&l.push(`offset${g}-${f}`)}),[{...r,className:hn(n,...a,...l)},{as:t,bsPrefix:e,spans:a}]}const Tn=_.forwardRef((t,e)=>{const[{className:n,...r},{as:s="div",bsPrefix:i,spans:a}]=Jde(t);return o.jsx(s,{...r,ref:e,className:hn(n,!a.length&&i)})});Tn.displayName="Col";const Ld=_.forwardRef(({bsPrefix:t,fluid:e=!1,as:n="div",className:r,...s},i)=>{const a=vn(t,"container"),l=typeof e=="string"?`-${e}`:"-fluid";return o.jsx(n,{ref:i,...s,className:hn(r,e?`${a}${l}`:a)})});Ld.displayName="Container";var ehe=Function.prototype.bind.call(Function.prototype.call,[].slice);function id(t,e){return ehe(t.querySelectorAll(e))}function the(t,e,n){const r=_.useRef(t!==void 0),[s,i]=_.useState(e),a=t!==void 0,l=r.current;return r.current=a,!a&&l&&s!==e&&i(e),[a?t:s,_.useCallback((...c)=>{const[u,...h]=c;let f=n==null?void 0:n(u,...h);return i(u),f},[n])]}function nhe(){const[,t]=_.useReducer(e=>e+1,0);return t}function k4(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}const IE={prefix:String(Math.round(Math.random()*1e10)),current:0},rF=Zt.createContext(IE),rhe=Zt.createContext(!1);let she=!!(typeof window<"u"&&window.document&&window.document.createElement),T2=new WeakMap;function ihe(t=!1){let e=_.useContext(rF),n=_.useRef(null);if(n.current===null&&!t){var r,s;let i=(s=Zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||s===void 0||(r=s.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(i){let a=T2.get(i);a==null?T2.set(i,{id:e.current,state:i.memoizedState}):i.memoizedState!==a.state&&(e.current=a.id,T2.delete(i))}n.current=++e.current}return n.current}function ahe(t){let e=_.useContext(rF);e===IE&&!she&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let n=ihe(!!t),r=`react-aria${e.prefix}`;return t||`${r}-${n}`}function ohe(t){let e=Zt.useId(),[n]=_.useState(hhe()),r=n?"react-aria":`react-aria${IE.prefix}`;return t||`${r}-${e}`}const lhe=typeof Zt.useId=="function"?ohe:ahe;function che(){return!1}function uhe(){return!0}function dhe(t){return()=>{}}function hhe(){return typeof Zt.useSyncExternalStore=="function"?Zt.useSyncExternalStore(dhe,che,uhe):_.useContext(rhe)}const Nf=_.createContext(null),_g=(t,e=null)=>t!=null?String(t):e||null,OE=_.createContext(null);OE.displayName="NavContext";const fhe="data-rr-ui-",phe="rrUi";function w1(t){return`${fhe}${t}`}function mhe(t){return`${phe}${t}`}const sF=_.createContext(op?window:void 0);sF.Provider;function ME(){return _.useContext(sF)}const iF=_.createContext(null);iF.displayName="InputGroupContext";const aF=_.createContext(null);aF.displayName="NavbarContext";const ghe={type:on.string,tooltip:on.bool,as:on.elementType},_1=_.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:r=!1,...s},i)=>o.jsx(t,{...s,ref:i,className:hn(e,`${n}-${r?"tooltip":"feedback"}`)}));_1.displayName="Feedback";_1.propTypes=ghe;const sc=_.createContext({}),m0=_.forwardRef(({id:t,bsPrefix:e,className:n,type:r="checkbox",isValid:s=!1,isInvalid:i=!1,as:a="input",...l},c)=>{const{controlId:u}=_.useContext(sc);return e=vn(e,"form-check-input"),o.jsx(a,{...l,ref:c,type:r,id:t||u,className:hn(n,e,s&&"is-valid",i&&"is-invalid")})});m0.displayName="FormCheckInput";const zx=_.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...r},s)=>{const{controlId:i}=_.useContext(sc);return t=vn(t,"form-check-label"),o.jsx("label",{...r,ref:s,htmlFor:n||i,className:hn(e,t)})});zx.displayName="FormCheckLabel";const oF=_.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:r=!1,reverse:s=!1,disabled:i=!1,isValid:a=!1,isInvalid:l=!1,feedbackTooltip:c=!1,feedback:u,feedbackType:h,className:f,style:m,title:g="",type:b="checkbox",label:y,children:x,as:w="input",...C},k)=>{e=vn(e,"form-check"),n=vn(n,"form-switch");const{controlId:A}=_.useContext(sc),N=_.useMemo(()=>({controlId:t||A}),[A,t]),P=!x&&y!=null&&y!==!1||Zde(x,zx),M=o.jsx(m0,{...C,type:b==="switch"?"checkbox":b,ref:k,isValid:a,isInvalid:l,disabled:i,as:w});return o.jsx(sc.Provider,{value:N,children:o.jsx("div",{style:m,className:hn(f,P&&e,r&&`${e}-inline`,s&&`${e}-reverse`,b==="switch"&&n),children:x||o.jsxs(o.Fragment,{children:[M,P&&o.jsx(zx,{title:g,children:y}),u&&o.jsx(_1,{type:h,tooltip:c,children:u})]})})})});oF.displayName="FormCheck";const Ux=Object.assign(oF,{Input:m0,Label:zx}),lF=_.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:r,id:s,className:i,isValid:a=!1,isInvalid:l=!1,plaintext:c,readOnly:u,as:h="input",...f},m)=>{const{controlId:g}=_.useContext(sc);return t=vn(t,"form-control"),o.jsx(h,{...f,type:e,size:r,ref:m,readOnly:u,id:s||g,className:hn(i,c?`${t}-plaintext`:t,n&&`${t}-${n}`,e==="color"&&`${t}-color`,a&&"is-valid",l&&"is-invalid")})});lF.displayName="FormControl";const yhe=Object.assign(lF,{Feedback:_1}),cF=_.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=vn(e,"form-floating"),o.jsx(n,{ref:s,className:hn(t,e),...r})));cF.displayName="FormFloating";const RE=_.forwardRef(({controlId:t,as:e="div",...n},r)=>{const s=_.useMemo(()=>({controlId:t}),[t]);return o.jsx(sc.Provider,{value:s,children:o.jsx(e,{...n,ref:r})})});RE.displayName="FormGroup";const uF=_.forwardRef(({as:t="label",bsPrefix:e,column:n=!1,visuallyHidden:r=!1,className:s,htmlFor:i,...a},l)=>{const{controlId:c}=_.useContext(sc);e=vn(e,"form-label");let u="col-form-label";typeof n=="string"&&(u=`${u} ${u}-${n}`);const h=hn(s,e,r&&"visually-hidden",n&&u);return i=i||c,n?o.jsx(Tn,{ref:l,as:"label",className:h,htmlFor:i,...a}):o.jsx(t,{ref:l,className:h,htmlFor:i,...a})});uF.displayName="FormLabel";const dF=_.forwardRef(({bsPrefix:t,className:e,id:n,...r},s)=>{const{controlId:i}=_.useContext(sc);return t=vn(t,"form-range"),o.jsx("input",{...r,type:"range",ref:s,className:hn(e,t),id:n||i})});dF.displayName="FormRange";const hF=_.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:r,isValid:s=!1,isInvalid:i=!1,id:a,...l},c)=>{const{controlId:u}=_.useContext(sc);return t=vn(t,"form-select"),o.jsx("select",{...l,size:n,ref:c,className:hn(r,t,e&&`${t}-${e}`,s&&"is-valid",i&&"is-invalid"),id:a||u})});hF.displayName="FormSelect";const fF=_.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:r,...s},i)=>(t=vn(t,"form-text"),o.jsx(n,{...s,ref:i,className:hn(e,t,r&&"text-muted")})));fF.displayName="FormText";const pF=_.forwardRef((t,e)=>o.jsx(Ux,{...t,ref:e,type:"switch"}));pF.displayName="Switch";const bhe=Object.assign(pF,{Input:Ux.Input,Label:Ux.Label}),mF=_.forwardRef(({bsPrefix:t,className:e,children:n,controlId:r,label:s,...i},a)=>(t=vn(t,"form-floating"),o.jsxs(RE,{ref:a,className:hn(e,t),controlId:r,...i,children:[n,o.jsx("label",{htmlFor:r,children:s})]})));mF.displayName="FloatingLabel";const xhe={_ref:on.any,validated:on.bool,as:on.elementType},LE=_.forwardRef(({className:t,validated:e,as:n="form",...r},s)=>o.jsx(n,{...r,ref:s,className:hn(t,e&&"was-validated")}));LE.displayName="Form";LE.propTypes=xhe;const Ue=Object.assign(LE,{Group:RE,Control:yhe,Floating:cF,Check:Ux,Switch:bhe,Label:uF,Text:fF,Range:dF,Select:hF,FloatingLabel:mF}),S1=_.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},s)=>(e=vn(e,"input-group-text"),o.jsx(n,{ref:s,className:hn(t,e),...r})));S1.displayName="InputGroupText";const vhe=t=>o.jsx(S1,{children:o.jsx(m0,{type:"checkbox",...t})}),whe=t=>o.jsx(S1,{children:o.jsx(m0,{type:"radio",...t})}),gF=_.forwardRef(({bsPrefix:t,size:e,hasValidation:n,className:r,as:s="div",...i},a)=>{t=vn(t,"input-group");const l=_.useMemo(()=>({}),[]);return o.jsx(iF.Provider,{value:l,children:o.jsx(s,{ref:a,...i,className:hn(r,t,e&&`${t}-${e}`,n&&"has-validation")})})});gF.displayName="InputGroup";const E4=Object.assign(gF,{Text:S1,Radio:whe,Checkbox:vhe}),j4=t=>!t||typeof t=="function"?t:e=>{t.current=e};function _he(t,e){const n=j4(t),r=j4(e);return s=>{n&&n(s),r&&r(s)}}function C1(t,e){return _.useMemo(()=>_he(t,e),[t,e])}const lp=_.createContext(null),She=["as","active","eventKey"];function Che(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function yF({key:t,onClick:e,active:n,id:r,role:s,disabled:i}){const a=_.useContext(Nf),l=_.useContext(OE),c=_.useContext(lp);let u=n;const h={role:s};if(l){!s&&l.role==="tablist"&&(h.role="tab");const f=l.getControllerId(t??null),m=l.getControlledId(t??null);h[w1("event-key")]=t,h.id=f||r,u=n==null&&t!=null?l.activeKey===t:n,(u||!(c!=null&&c.unmountOnExit)&&!(c!=null&&c.mountOnEnter))&&(h["aria-controls"]=m)}return h.role==="tab"&&(h["aria-selected"]=u,u||(h.tabIndex=-1),i&&(h.tabIndex=-1,h["aria-disabled"]=!0)),h.onClick=zl(f=>{i||(e==null||e(f),t!=null&&a&&!f.isPropagationStopped()&&a(t,f))}),[h,{isActive:u}]}const bF=_.forwardRef((t,e)=>{let{as:n=V8,active:r,eventKey:s}=t,i=Che(t,She);const[a,l]=yF(Object.assign({key:_g(s,i.href),active:r},i));return a[w1("active")]=l.isActive,o.jsx(n,Object.assign({},i,a,{ref:e}))});bF.displayName="NavItem";const The=["as","onSelect","activeKey","role","onKeyDown"];function khe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const N4=()=>{},A4=w1("event-key"),xF=_.forwardRef((t,e)=>{let{as:n="div",onSelect:r,activeKey:s,role:i,onKeyDown:a}=t,l=khe(t,The);const c=nhe(),u=_.useRef(!1),h=_.useContext(Nf),f=_.useContext(lp);let m,g;f&&(i=i||"tablist",s=f.activeKey,m=f.getControlledId,g=f.getControllerId);const b=_.useRef(null),y=k=>{const A=b.current;if(!A)return null;const N=id(A,`[${A4}]:not([aria-disabled=true])`),P=A.querySelector("[aria-selected=true]");if(!P||P!==document.activeElement)return null;const M=N.indexOf(P);if(M===-1)return null;let L=M+k;return L>=N.length&&(L=0),L<0&&(L=N.length-1),N[L]},x=(k,A)=>{k!=null&&(r==null||r(k,A),h==null||h(k,A))},w=k=>{if(a==null||a(k),!f)return;let A;switch(k.key){case"ArrowLeft":case"ArrowUp":A=y(-1);break;case"ArrowRight":case"ArrowDown":A=y(1);break;default:return}A&&(k.preventDefault(),x(A.dataset[mhe("EventKey")]||null,k),u.current=!0,c())};_.useEffect(()=>{if(b.current&&u.current){const k=b.current.querySelector(`[${A4}][aria-selected=true]`);k==null||k.focus()}u.current=!1});const C=C1(e,b);return o.jsx(Nf.Provider,{value:x,children:o.jsx(OE.Provider,{value:{role:i,activeKey:_g(s),getControlledId:m||N4,getControllerId:g||N4},children:o.jsx(n,Object.assign({},l,{onKeyDown:w,ref:C,role:i}))})})});xF.displayName="Nav";const Ehe=Object.assign(xF,{Item:bF});var fb;function D4(t){if((!fb&&fb!==0||t)&&op){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),fb=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return fb}function jhe(){return _.useState(null)}function k2(t){t===void 0&&(t=y1());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function Nhe(t){const e=_.useRef(t);return e.current=t,e}function Ahe(t){const e=Nhe(t);_.useEffect(()=>()=>e.current(),[])}function Dhe(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const P4=w1("modal-open");class FE{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return Dhe(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",s=this.getElement();e.style={overflow:s.style.overflow,[r]:s.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(Sd(s,r)||"0",10)+e.scrollBarWidth}px`),s.setAttribute(P4,""),Sd(s,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(P4),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const E2=(t,e)=>op?t==null?(e||y1()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function Phe(t,e){const n=ME(),[r,s]=_.useState(()=>E2(t,n==null?void 0:n.document));if(!r){const i=E2(t);i&&s(i)}return _.useEffect(()=>{},[e,r]),_.useEffect(()=>{const i=E2(t);i!==r&&s(i)},[t,r]),r}function BE({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:s}){const i=_.useRef(null),a=_.useRef(e),l=zl(n);_.useEffect(()=>{e?a.current=!0:l(i.current)},[e,l]);const c=C1(i,b1(t)),u=_.cloneElement(t,{ref:c});return e?u:s||!a.current&&r?null:u}const Ihe=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function Ohe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Mhe(t){let{onEnter:e,onEntering:n,onEntered:r,onExit:s,onExiting:i,onExited:a,addEndListener:l,children:c}=t,u=Ohe(t,Ihe);const h=_.useRef(null),f=C1(h,b1(c)),m=A=>N=>{A&&h.current&&A(h.current,N)},g=_.useCallback(m(e),[e]),b=_.useCallback(m(n),[n]),y=_.useCallback(m(r),[r]),x=_.useCallback(m(s),[s]),w=_.useCallback(m(i),[i]),C=_.useCallback(m(a),[a]),k=_.useCallback(m(l),[l]);return Object.assign({},u,{nodeRef:h},e&&{onEnter:g},n&&{onEntering:b},r&&{onEntered:y},s&&{onExit:x},i&&{onExiting:w},a&&{onExited:C},l&&{addEndListener:k},{children:typeof c=="function"?(A,N)=>c(A,Object.assign({},N,{ref:f})):_.cloneElement(c,{ref:f})})}const Rhe=["component"];function Lhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const Fhe=_.forwardRef((t,e)=>{let{component:n}=t,r=Lhe(t,Rhe);const s=Mhe(r);return o.jsx(n,Object.assign({ref:e},s))});function Bhe({in:t,onTransition:e}){const n=_.useRef(null),r=_.useRef(!0),s=zl(e);return C4(()=>{if(!n.current)return;let i=!1;return s({in:t,element:n.current,initial:r.current,isStale:()=>i}),()=>{i=!0}},[t,s]),C4(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function $he({children:t,in:e,onExited:n,onEntered:r,transition:s}){const[i,a]=_.useState(!e);e&&i&&a(!1);const l=Bhe({in:!!e,onTransition:u=>{const h=()=>{u.isStale()||(u.in?r==null||r(u.element,u.initial):(a(!0),n==null||n(u.element)))};Promise.resolve(s(u)).then(h,f=>{throw u.in||a(!0),f})}}),c=C1(l,b1(t));return i&&!e?null:_.cloneElement(t,{ref:c})}function I4(t,e,n){return t?o.jsx(Fhe,Object.assign({},n,{component:t})):e?o.jsx($he,Object.assign({},n,{transition:e})):o.jsx(BE,Object.assign({},n))}const zhe=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function Uhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}let j2;function Hhe(t){return j2||(j2=new FE({ownerDocument:t==null?void 0:t.document})),j2}function Whe(t){const e=ME(),n=t||Hhe(e),r=_.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:_.useCallback(s=>{r.current.dialog=s},[]),setBackdropRef:_.useCallback(s=>{r.current.backdrop=s},[])})}const vF=_.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:s,style:i,children:a,backdrop:l=!0,keyboard:c=!0,onBackdropClick:u,onEscapeKeyDown:h,transition:f,runTransition:m,backdropTransition:g,runBackdropTransition:b,autoFocus:y=!0,enforceFocus:x=!0,restoreFocus:w=!0,restoreFocusOptions:C,renderDialog:k,renderBackdrop:A=Ae=>o.jsx("div",Object.assign({},Ae)),manager:N,container:P,onShow:M,onHide:L=()=>{},onExit:D,onExited:S,onExiting:z,onEnter:O,onEntering:U,onEntered:j}=t,V=Uhe(t,zhe);const K=ME(),te=Phe(P),J=Whe(N),X=Mde(),Y=Rde(n),[F,H]=_.useState(!n),de=_.useRef(null);_.useImperativeHandle(e,()=>J,[J]),op&&!Y&&n&&(de.current=k2(K==null?void 0:K.document)),n&&F&&H(!1);const ee=zl(()=>{if(J.add(),Be.current=Bx(document,"keydown",De),Ee.current=Bx(document,"focus",()=>setTimeout(ve),!0),M&&M(),y){var Ae,be;const re=k2((Ae=(be=J.dialog)==null?void 0:be.ownerDocument)!=null?Ae:K==null?void 0:K.document);J.dialog&&re&&!k4(J.dialog,re)&&(de.current=re,J.dialog.focus())}}),fe=zl(()=>{if(J.remove(),Be.current==null||Be.current(),Ee.current==null||Ee.current(),w){var Ae;(Ae=de.current)==null||Ae.focus==null||Ae.focus(C),de.current=null}});_.useEffect(()=>{!n||!te||ee()},[n,te,ee]),_.useEffect(()=>{F&&fe()},[F,fe]),Ahe(()=>{fe()});const ve=zl(()=>{if(!x||!X()||!J.isTopModal())return;const Ae=k2(K==null?void 0:K.document);J.dialog&&Ae&&!k4(J.dialog,Ae)&&J.dialog.focus()}),Ce=zl(Ae=>{Ae.target===Ae.currentTarget&&(u==null||u(Ae),l===!0&&L())}),De=zl(Ae=>{c&&Sde(Ae)&&J.isTopModal()&&(h==null||h(Ae),Ae.defaultPrevented||L())}),Ee=_.useRef(),Be=_.useRef(),Ve=(...Ae)=>{H(!0),S==null||S(...Ae)};if(!te)return null;const rt=Object.assign({role:r,ref:J.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},V,{style:i,className:s,tabIndex:-1});let it=k?k(rt):o.jsx("div",Object.assign({},rt,{children:_.cloneElement(a,{role:"document"})}));it=I4(f,m,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:D,onExiting:z,onExited:Ve,onEnter:O,onEntering:U,onEntered:j,children:it});let G=null;return l&&(G=A({ref:J.setBackdropRef,onClick:Ce}),G=I4(g,b,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:G})),o.jsx(o.Fragment,{children:hd.createPortal(o.jsxs(o.Fragment,{children:[G,it]}),te)})});vF.displayName="Modal";const Vhe=Object.assign(vF,{Manager:FE}),Bh={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class qhe extends FE{adjustAndStore(e,n,r){const s=n.style[e];n.dataset[e]=s,Sd(n,{[e]:`${parseFloat(Sd(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],Sd(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(h8(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";id(n,Bh.FIXED_CONTENT).forEach(i=>this.adjustAndStore(r,i,e.scrollBarWidth)),id(n,Bh.STICKY_CONTENT).forEach(i=>this.adjustAndStore(s,i,-e.scrollBarWidth)),id(n,Bh.NAVBAR_TOGGLER).forEach(i=>this.adjustAndStore(s,i,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();f8(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";id(n,Bh.FIXED_CONTENT).forEach(i=>this.restore(r,i)),id(n,Bh.STICKY_CONTENT).forEach(i=>this.restore(s,i)),id(n,Bh.NAVBAR_TOGGLER).forEach(i=>this.restore(s,i))}}let N2;function Yhe(t){return N2||(N2=new qhe(t)),N2}const wF=_.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=vn(e,"modal-body"),o.jsx(n,{ref:s,className:hn(t,e),...r})));wF.displayName="ModalBody";const _F=_.createContext({onHide(){}}),$E=_.forwardRef(({bsPrefix:t,className:e,contentClassName:n,centered:r,size:s,fullscreen:i,children:a,scrollable:l,...c},u)=>{t=vn(t,"modal");const h=`${t}-dialog`,f=typeof i=="string"?`${t}-fullscreen-${i}`:`${t}-fullscreen`;return o.jsx("div",{...c,ref:u,className:hn(h,e,s&&`${t}-${s}`,r&&`${h}-centered`,l&&`${h}-scrollable`,i&&f),children:o.jsx("div",{className:hn(`${t}-content`,n),children:a})})});$E.displayName="ModalDialog";const SF=_.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=vn(e,"modal-footer"),o.jsx(n,{ref:s,className:hn(t,e),...r})));SF.displayName="ModalFooter";const Ghe=_.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:r,children:s,...i},a)=>{const l=_.useContext(_F),c=$x(()=>{l==null||l.onHide(),r==null||r()});return o.jsxs("div",{ref:a,...i,children:[s,n&&o.jsx(v1,{"aria-label":t,variant:e,onClick:c})]})}),CF=_.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...s},i)=>(t=vn(t,"modal-header"),o.jsx(Ghe,{ref:i,...s,className:hn(e,t),closeLabel:n,closeButton:r})));CF.displayName="ModalHeader";const Khe=x1("h4"),TF=_.forwardRef(({className:t,bsPrefix:e,as:n=Khe,...r},s)=>(e=vn(e,"modal-title"),o.jsx(n,{ref:s,className:hn(t,e),...r})));TF.displayName="ModalTitle";function Xhe(t){return o.jsx(Rd,{...t,timeout:null})}function Qhe(t){return o.jsx(Rd,{...t,timeout:null})}const kF=_.forwardRef(({bsPrefix:t,className:e,style:n,dialogClassName:r,contentClassName:s,children:i,dialogAs:a=$E,"data-bs-theme":l,"aria-labelledby":c,"aria-describedby":u,"aria-label":h,show:f=!1,animation:m=!0,backdrop:g=!0,keyboard:b=!0,onEscapeKeyDown:y,onShow:x,onHide:w,container:C,autoFocus:k=!0,enforceFocus:A=!0,restoreFocus:N=!0,restoreFocusOptions:P,onEntered:M,onExit:L,onExiting:D,onEnter:S,onEntering:z,onExited:O,backdropClassName:U,manager:j,...V},K)=>{const[te,J]=_.useState({}),[X,Y]=_.useState(!1),F=_.useRef(!1),H=_.useRef(!1),de=_.useRef(null),[ee,fe]=jhe(),ve=U8(K,fe),Ce=$x(w),De=mde();t=vn(t,"modal");const Ee=_.useMemo(()=>({onHide:Ce}),[Ce]);function Be(){return j||Yhe({isRTL:De})}function Ve(xe){if(!op)return;const at=Be().getScrollbarWidth()>0,lt=xe.scrollHeight>y1(xe).documentElement.clientHeight;J({paddingRight:at&&!lt?D4():void 0,paddingLeft:!at&&lt?D4():void 0})}const rt=$x(()=>{ee&&Ve(ee.dialog)});Xde(()=>{HC(window,"resize",rt),de.current==null||de.current()});const it=()=>{F.current=!0},G=xe=>{F.current&&ee&&xe.target===ee.dialog&&(H.current=!0),F.current=!1},Ae=()=>{Y(!0),de.current=z8(ee.dialog,()=>{Y(!1)})},be=xe=>{xe.target===xe.currentTarget&&Ae()},re=xe=>{if(g==="static"){be(xe);return}if(H.current||xe.target!==xe.currentTarget){H.current=!1;return}w==null||w()},ne=xe=>{b?y==null||y(xe):(xe.preventDefault(),g==="static"&&Ae())},ce=(xe,at)=>{xe&&Ve(xe),S==null||S(xe,at)},Te=xe=>{de.current==null||de.current(),L==null||L(xe)},he=(xe,at)=>{z==null||z(xe,at),$8(window,"resize",rt)},se=xe=>{xe&&(xe.style.display=""),O==null||O(xe),HC(window,"resize",rt)},ye=_.useCallback(xe=>o.jsx("div",{...xe,className:hn(`${t}-backdrop`,U,!m&&"show")}),[m,U,t]),Pe={...n,...te};Pe.display="block";const Oe=xe=>o.jsx("div",{role:"dialog",...xe,style:Pe,className:hn(e,t,X&&`${t}-static`,!m&&"show"),onClick:g?re:void 0,onMouseUp:G,"data-bs-theme":l,"aria-label":h,"aria-labelledby":c,"aria-describedby":u,children:o.jsx(a,{...V,onMouseDown:it,className:r,contentClassName:s,children:i})});return o.jsx(_F.Provider,{value:Ee,children:o.jsx(Vhe,{show:f,ref:ve,backdrop:g,container:C,keyboard:!0,autoFocus:k,enforceFocus:A,restoreFocus:N,restoreFocusOptions:P,onEscapeKeyDown:ne,onShow:x,onHide:w,onEnter:ce,onEntering:he,onEntered:M,onExit:Te,onExiting:D,onExited:se,manager:Be(),transition:m?Xhe:void 0,backdropTransition:m?Qhe:void 0,renderBackdrop:ye,renderDialog:Oe})})});kF.displayName="Modal";const vt=Object.assign(kF,{Body:wF,Header:CF,Title:TF,Footer:SF,Dialog:$E,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),zE=_.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=vn(e,"nav-item"),o.jsx(n,{ref:s,className:hn(t,e),...r})));zE.displayName="NavItem";const UE=_.forwardRef(({bsPrefix:t,className:e,as:n=AE,active:r,eventKey:s,disabled:i=!1,...a},l)=>{t=vn(t,"nav-link");const[c,u]=yF({key:_g(s,a.href),active:r,disabled:i,...a});return o.jsx(n,{...a,...c,ref:l,disabled:i,className:hn(e,t,i&&"disabled",u.isActive&&"active")})});UE.displayName="NavLink";const EF=_.forwardRef((t,e)=>{const{as:n="div",bsPrefix:r,variant:s,fill:i=!1,justify:a=!1,navbar:l,navbarScroll:c,className:u,activeKey:h,...f}=jE(t,{activeKey:"onSelect"}),m=vn(r,"nav");let g,b,y=!1;const x=_.useContext(aF),w=_.useContext(PE);return x?(g=x.bsPrefix,y=l??!0):w&&({cardHeaderBsPrefix:b}=w),o.jsx(Ehe,{as:n,ref:e,activeKey:h,className:hn(u,{[m]:!y,[`${g}-nav`]:y,[`${g}-nav-scroll`]:y&&c,[`${b}-${s}`]:!!b,[`${m}-${s}`]:!!s,[`${m}-fill`]:i,[`${m}-justified`]:a}),...f})});EF.displayName="Nav";const Zhe=Object.assign(EF,{Item:zE,Link:UE}),Ss=_.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},s)=>{const i=vn(t,"row"),a=F8(),l=B8(),c=`${i}-cols`,u=[];return a.forEach(h=>{const f=r[h];delete r[h];let m;f!=null&&typeof f=="object"?{cols:m}=f:m=f;const g=h!==l?`-${h}`:"";m!=null&&u.push(`${c}${g}-${m}`)}),o.jsx(n,{ref:s,...r,className:hn(e,i,...u)})});Ss.displayName="Row";const Hr=_.forwardRef(({bsPrefix:t,variant:e,animation:n="border",size:r,as:s="div",className:i,...a},l)=>{t=vn(t,"spinner");const c=`${t}-${n}`;return o.jsx(s,{ref:l,...a,className:hn(i,c,r&&`${c}-${r}`,e&&`text-${e}`)})});Hr.displayName="Spinner";const Jhe=["active","eventKey","mountOnEnter","transition","unmountOnExit","role","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],efe=["activeKey","getControlledId","getControllerId"],tfe=["as"];function WC(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jF(t){let{active:e,eventKey:n,mountOnEnter:r,transition:s,unmountOnExit:i,role:a="tabpanel",onEnter:l,onEntering:c,onEntered:u,onExit:h,onExiting:f,onExited:m}=t,g=WC(t,Jhe);const b=_.useContext(lp);if(!b)return[Object.assign({},g,{role:a}),{eventKey:n,isActive:e,mountOnEnter:r,transition:s,unmountOnExit:i,onEnter:l,onEntering:c,onEntered:u,onExit:h,onExiting:f,onExited:m}];const{activeKey:y,getControlledId:x,getControllerId:w}=b,C=WC(b,efe),k=_g(n);return[Object.assign({},g,{role:a,id:x(n),"aria-labelledby":w(n)}),{eventKey:n,isActive:e==null&&k!=null?_g(y)===k:e,transition:s||C.transition,mountOnEnter:r??C.mountOnEnter,unmountOnExit:i??C.unmountOnExit,onEnter:l,onEntering:c,onEntered:u,onExit:h,onExiting:f,onExited:m}]}const NF=_.forwardRef((t,e)=>{let{as:n="div"}=t,r=WC(t,tfe);const[s,{isActive:i,onEnter:a,onEntering:l,onEntered:c,onExit:u,onExiting:h,onExited:f,mountOnEnter:m,unmountOnExit:g,transition:b=BE}]=jF(r);return o.jsx(lp.Provider,{value:null,children:o.jsx(Nf.Provider,{value:null,children:o.jsx(b,{in:i,onEnter:a,onEntering:l,onEntered:c,onExit:u,onExiting:h,onExited:f,mountOnEnter:m,unmountOnExit:g,children:o.jsx(n,Object.assign({},s,{ref:e,hidden:!i,"aria-hidden":!i}))})})})});NF.displayName="TabPanel";const HE=t=>{const{id:e,generateChildId:n,onSelect:r,activeKey:s,defaultActiveKey:i,transition:a,mountOnEnter:l,unmountOnExit:c,children:u}=t,[h,f]=the(s,i,r),m=lhe(e),g=_.useMemo(()=>n||((y,x)=>m?`${m}-${x}-${y}`:null),[m,n]),b=_.useMemo(()=>({onSelect:f,activeKey:h,transition:a,mountOnEnter:l||!1,unmountOnExit:c||!1,getControlledId:y=>g(y,"tabpane"),getControllerId:y=>g(y,"tab")}),[f,h,a,l,c,g]);return o.jsx(lp.Provider,{value:b,children:o.jsx(Nf.Provider,{value:f||null,children:u})})};HE.Panel=NF;function WE(t){return typeof t=="boolean"?t?Rd:BE:t}const AF=({transition:t,...e})=>o.jsx(HE,{...e,transition:WE(t)});AF.displayName="TabContainer";const VE=_.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=vn(e,"tab-content"),o.jsx(n,{ref:s,className:hn(t,e),...r})));VE.displayName="TabContent";const qE=_.forwardRef(({bsPrefix:t,transition:e,...n},r)=>{const[{className:s,as:i="div",...a},{isActive:l,onEnter:c,onEntering:u,onEntered:h,onExit:f,onExiting:m,onExited:g,mountOnEnter:b,unmountOnExit:y,transition:x=Rd}]=jF({...n,transition:WE(e)}),w=vn(t,"tab-pane");return o.jsx(lp.Provider,{value:null,children:o.jsx(Nf.Provider,{value:null,children:o.jsx(x,{in:l,onEnter:c,onEntering:u,onEntered:h,onExit:f,onExiting:m,onExited:g,mountOnEnter:b,unmountOnExit:y,children:o.jsx(i,{...a,ref:r,className:hn(s,w,l&&"active")})})})})});qE.displayName="TabPane";const nfe={eventKey:on.oneOfType([on.string,on.number]),title:on.node.isRequired,disabled:on.bool,tabClassName:on.string,tabAttrs:on.object},DF=()=>{throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")};DF.propTypes=nfe;const Hx=Object.assign(DF,{Container:AF,Content:VE,Pane:qE}),Sg=_.forwardRef(({bsPrefix:t,className:e,striped:n,bordered:r,borderless:s,hover:i,size:a,variant:l,responsive:c,...u},h)=>{const f=vn(t,"table"),m=hn(e,f,l&&`${f}-${l}`,a&&`${f}-${a}`,n&&`${f}-${typeof n=="string"?`striped-${n}`:"striped"}`,r&&`${f}-bordered`,s&&`${f}-borderless`,i&&`${f}-hover`),g=o.jsx("table",{...u,className:m,ref:h});if(c){let b=`${f}-responsive`;return typeof c=="string"&&(b=`${b}-${c}`),o.jsx("div",{className:b,children:g})}return g});function rfe(t){let e;return Qde(t,n=>{e==null&&(e=n.props.eventKey)}),e}function sfe(t){const{title:e,eventKey:n,disabled:r,tabClassName:s,tabAttrs:i,id:a}=t.props;return e==null?null:o.jsx(zE,{as:"li",role:"presentation",children:o.jsx(UE,{as:"button",type:"button",eventKey:n,disabled:r,id:a,className:s,...i,children:e})})}const YE=t=>{const{id:e,onSelect:n,transition:r,mountOnEnter:s=!1,unmountOnExit:i=!1,variant:a="tabs",children:l,activeKey:c=rfe(l),...u}=jE(t,{activeKey:"onSelect"});return o.jsxs(HE,{id:e,activeKey:c,onSelect:n,transition:WE(r),mountOnEnter:s,unmountOnExit:i,children:[o.jsx(Zhe,{id:e,...u,role:"tablist",as:"ul",variant:a,children:T4(l,sfe)}),o.jsx(VE,{children:T4(l,h=>{const f={...h.props};return delete f.title,delete f.disabled,delete f.tabClassName,delete f.tabAttrs,o.jsx(qE,{...f})})})]})};YE.displayName="Tabs";var A2,O4;function T1(){if(O4)return A2;O4=1;var t;return typeof window<"u"?t=window:typeof ao<"u"?t=ao:typeof self<"u"?t=self:t={},A2=t,A2}var ife=T1();const Se=Jr(ife),afe={},ofe=Object.freeze(Object.defineProperty({__proto__:null,default:afe},Symbol.toStringTag,{value:"Module"})),lfe=oM(ofe);var D2,M4;function PF(){if(M4)return D2;M4=1;var t=typeof ao<"u"?ao:typeof window<"u"?window:{},e=lfe,n;return typeof document<"u"?n=document:(n=t["__GLOBAL_DOCUMENT_CACHE@4"],n||(n=t["__GLOBAL_DOCUMENT_CACHE@4"]=e)),D2=n,D2}var cfe=PF();const Et=Jr(cfe);var pb={exports:{}},P2={exports:{}},R4;function ufe(){return R4||(R4=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var i in s)({}).hasOwnProperty.call(s,i)&&(n[i]=s[i])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(P2)),P2.exports}var I2,L4;function dfe(){if(L4)return I2;L4=1,I2=e;var t=Object.prototype.toString;function e(n){if(!n)return!1;var r=t.call(n);return r==="[object Function]"||typeof n=="function"&&r!=="[object RegExp]"||typeof window<"u"&&(n===window.setTimeout||n===window.alert||n===window.confirm||n===window.prompt)}return I2}var O2,F4;function hfe(){if(F4)return O2;F4=1;function t(s,i){var a=typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(a)return(a=a.call(s)).next.bind(a);if(Array.isArray(s)||(a=e(s))||i){a&&(s=a);var l=0;return function(){return l>=s.length?{done:!0}:{done:!1,value:s[l++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e(s,i){if(s){if(typeof s=="string")return n(s,i);var a=Object.prototype.toString.call(s).slice(8,-1);if(a==="Object"&&s.constructor&&(a=s.constructor.name),a==="Map"||a==="Set")return Array.from(s);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return n(s,i)}}function n(s,i){(i==null||i>s.length)&&(i=s.length);for(var a=0,l=new Array(i);a<i;a++)l[a]=s[a];return l}var r=function(){function s(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1}var i=s.prototype;return i.getIsEnabled=function(){return this.enabled_},i.enable=function(){this.enabled_=!0},i.disable=function(){this.enabled_=!1},i.reset=function(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1},i.addInterceptor=function(l,c){this.typeToInterceptorsMap_.has(l)||this.typeToInterceptorsMap_.set(l,new Set);var u=this.typeToInterceptorsMap_.get(l);return u.has(c)?!1:(u.add(c),!0)},i.removeInterceptor=function(l,c){var u=this.typeToInterceptorsMap_.get(l);return u&&u.has(c)?(u.delete(c),!0):!1},i.clearInterceptorsByType=function(l){var c=this.typeToInterceptorsMap_.get(l);return c?(this.typeToInterceptorsMap_.delete(l),this.typeToInterceptorsMap_.set(l,new Set),!0):!1},i.clear=function(){return this.typeToInterceptorsMap_.size?(this.typeToInterceptorsMap_=new Map,!0):!1},i.getForType=function(l){return this.typeToInterceptorsMap_.get(l)||new Set},i.execute=function(l,c){for(var u=this.getForType(l),h=t(u),f;!(f=h()).done;){var m=f.value;try{c=m(c)}catch{}}return c},s}();return O2=r,O2}var M2,B4;function ffe(){if(B4)return M2;B4=1;var t=function(){function n(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1}var r=n.prototype;return r.getIsEnabled=function(){return this.enabled_},r.enable=function(){this.enabled_=!0},r.disable=function(){this.enabled_=!1},r.reset=function(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1},r.getMaxAttempts=function(){return this.maxAttempts_},r.setMaxAttempts=function(i){this.maxAttempts_=i},r.getDelayFactor=function(){return this.delayFactor_},r.setDelayFactor=function(i){this.delayFactor_=i},r.getFuzzFactor=function(){return this.fuzzFactor_},r.setFuzzFactor=function(i){this.fuzzFactor_=i},r.getInitialDelay=function(){return this.initialDelay_},r.setInitialDelay=function(i){this.initialDelay_=i},r.createRetry=function(i){var a=i===void 0?{}:i,l=a.maxAttempts,c=a.delayFactor,u=a.fuzzFactor,h=a.initialDelay;return new e({maxAttempts:l||this.maxAttempts_,delayFactor:c||this.delayFactor_,fuzzFactor:u||this.fuzzFactor_,initialDelay:h||this.initialDelay_})},n}(),e=function(){function n(s){this.maxAttempts_=s.maxAttempts,this.delayFactor_=s.delayFactor,this.fuzzFactor_=s.fuzzFactor,this.currentDelay_=s.initialDelay,this.currentAttempt_=1}var r=n.prototype;return r.moveToNextAttempt=function(){this.currentAttempt_++;var i=this.currentDelay_*this.delayFactor_;this.currentDelay_=this.currentDelay_+i},r.shouldRetry=function(){return this.currentAttempt_<this.maxAttempts_},r.getCurrentDelay=function(){return this.currentDelay_},r.getCurrentMinPossibleDelay=function(){return(1-this.fuzzFactor_)*this.currentDelay_},r.getCurrentMaxPossibleDelay=function(){return(1+this.fuzzFactor_)*this.currentDelay_},r.getCurrentFuzzedDelay=function(){var i=this.getCurrentMinPossibleDelay(),a=this.getCurrentMaxPossibleDelay();return i+Math.random()*(a-i)},n}();return M2=t,M2}var R2,$4;function pfe(){if($4)return R2;$4=1;var t=T1(),e=function(s,i){return i===void 0&&(i=!1),function(a,l,c){if(a){s(a);return}if(l.statusCode>=400&&l.statusCode<=599){var u=c;if(i)if(t.TextDecoder){var h=n(l.headers&&l.headers["content-type"]);try{u=new TextDecoder(h).decode(c)}catch{}}else u=String.fromCharCode.apply(null,new Uint8Array(c));s({cause:u});return}s(null,c)}};function n(r){return r===void 0&&(r=""),r.toLowerCase().split(";").reduce(function(s,i){var a=i.split("="),l=a[0],c=a[1];return l.trim()==="charset"?c.trim():s},"utf-8")}return R2=e,R2}var z4;function mfe(){if(z4)return pb.exports;z4=1;var t=T1(),e=ufe(),n=dfe(),r=hfe(),s=ffe();u.httpHandler=pfe(),u.requestInterceptorsStorage=new r,u.responseInterceptorsStorage=new r,u.retryManager=new s;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Björklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var i=function(b){var y={};return b&&b.trim().split(`
`).forEach(function(x){var w=x.indexOf(":"),C=x.slice(0,w).trim().toLowerCase(),k=x.slice(w+1).trim();typeof y[C]>"u"?y[C]=k:Array.isArray(y[C])?y[C].push(k):y[C]=[y[C],k]}),y};pb.exports=u,pb.exports.default=u,u.XMLHttpRequest=t.XMLHttpRequest||m,u.XDomainRequest="withCredentials"in new u.XMLHttpRequest?u.XMLHttpRequest:t.XDomainRequest,a(["get","put","post","patch","head","delete"],function(g){u[g==="delete"?"del":g]=function(b,y,x){return y=c(b,y,x),y.method=g.toUpperCase(),h(y)}});function a(g,b){for(var y=0;y<g.length;y++)b(g[y])}function l(g){for(var b in g)if(g.hasOwnProperty(b))return!1;return!0}function c(g,b,y){var x=g;return n(b)?(y=b,typeof g=="string"&&(x={uri:g})):x=e({},b,{uri:g}),x.callback=y,x}function u(g,b,y){return b=c(g,b,y),h(b)}function h(g){if(typeof g.callback>"u")throw new Error("callback argument missing");if(g.requestType&&u.requestInterceptorsStorage.getIsEnabled()){var b={uri:g.uri||g.url,headers:g.headers||{},body:g.body,metadata:g.metadata||{},retry:g.retry,timeout:g.timeout},y=u.requestInterceptorsStorage.execute(g.requestType,b);g.uri=y.uri,g.headers=y.headers,g.body=y.body,g.metadata=y.metadata,g.retry=y.retry,g.timeout=y.timeout}var x=!1,w=function(J,X,Y){x||(x=!0,g.callback(J,X,Y))};function C(){P.readyState===4&&!u.responseInterceptorsStorage.getIsEnabled()&&setTimeout(N,0)}function k(){var te=void 0;if(P.response?te=P.response:te=P.responseText||f(P),j)try{te=JSON.parse(te)}catch{}return te}function A(te){if(clearTimeout(V),clearTimeout(g.retryTimeout),te instanceof Error||(te=new Error(""+(te||"Unknown XMLHttpRequest Error"))),te.statusCode=0,!L&&u.retryManager.getIsEnabled()&&g.retry&&g.retry.shouldRetry()){g.retryTimeout=setTimeout(function(){g.retry.moveToNextAttempt(),g.xhr=P,h(g)},g.retry.getCurrentFuzzedDelay());return}if(g.requestType&&u.responseInterceptorsStorage.getIsEnabled()){var J={headers:K.headers||{},body:K.body,responseUrl:P.responseURL,responseType:P.responseType},X=u.responseInterceptorsStorage.execute(g.requestType,J);K.body=X.body,K.headers=X.headers}return w(te,K)}function N(){if(!L){var te;clearTimeout(V),clearTimeout(g.retryTimeout),g.useXDR&&P.status===void 0?te=200:te=P.status===1223?204:P.status;var J=K,X=null;if(te!==0?(J={body:k(),statusCode:te,method:S,headers:{},url:D,rawRequest:P},P.getAllResponseHeaders&&(J.headers=i(P.getAllResponseHeaders()))):X=new Error("Internal XMLHttpRequest Error"),g.requestType&&u.responseInterceptorsStorage.getIsEnabled()){var Y={headers:J.headers||{},body:J.body,responseUrl:P.responseURL,responseType:P.responseType},F=u.responseInterceptorsStorage.execute(g.requestType,Y);J.body=F.body,J.headers=F.headers}return w(X,J,J.body)}}var P=g.xhr||null;P||(g.cors||g.useXDR?P=new u.XDomainRequest:P=new u.XMLHttpRequest);var M,L,D=P.url=g.uri||g.url,S=P.method=g.method||"GET",z=g.body||g.data,O=P.headers=g.headers||{},U=!!g.sync,j=!1,V,K={body:void 0,headers:{},statusCode:0,method:S,url:D,rawRequest:P};if("json"in g&&g.json!==!1&&(j=!0,O.accept||O.Accept||(O.Accept="application/json"),S!=="GET"&&S!=="HEAD"&&(O["content-type"]||O["Content-Type"]||(O["Content-Type"]="application/json"),z=JSON.stringify(g.json===!0?z:g.json))),P.onreadystatechange=C,P.onload=N,P.onerror=A,P.onprogress=function(){},P.onabort=function(){L=!0,clearTimeout(g.retryTimeout)},P.ontimeout=A,P.open(S,D,!U,g.username,g.password),U||(P.withCredentials=!!g.withCredentials),!U&&g.timeout>0&&(V=setTimeout(function(){if(!L){L=!0,P.abort("timeout");var te=new Error("XMLHttpRequest timeout");te.code="ETIMEDOUT",A(te)}},g.timeout)),P.setRequestHeader)for(M in O)O.hasOwnProperty(M)&&P.setRequestHeader(M,O[M]);else if(g.headers&&!l(g.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in g&&(P.responseType=g.responseType),"beforeSend"in g&&typeof g.beforeSend=="function"&&g.beforeSend(P),P.send(z||null),P}function f(g){try{if(g.responseType==="document")return g.responseXML;var b=g.responseXML&&g.responseXML.documentElement.nodeName==="parsererror";if(g.responseType===""&&!b)return g.responseXML}catch{}return null}function m(){}return pb.exports}var gfe=mfe();const IF=Jr(gfe);var L2={exports:{}},F2,U4;function yfe(){if(U4)return F2;U4=1;var t=PF(),e=Object.create||function(){function D(){}return function(S){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return D.prototype=S,new D}}();function n(D,S){this.name="ParsingError",this.code=D.code,this.message=S||D.message}n.prototype=e(Error.prototype),n.prototype.constructor=n,n.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function r(D){function S(O,U,j,V){return(O|0)*3600+(U|0)*60+(j|0)+(V|0)/1e3}var z=D.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return z?z[3]?S(z[1],z[2],z[3].replace(":",""),z[4]):z[1]>59?S(z[1],z[2],0,z[4]):S(0,z[1],z[2],z[4]):null}function s(){this.values=e(null)}s.prototype={set:function(D,S){!this.get(D)&&S!==""&&(this.values[D]=S)},get:function(D,S,z){return z?this.has(D)?this.values[D]:S[z]:this.has(D)?this.values[D]:S},has:function(D){return D in this.values},alt:function(D,S,z){for(var O=0;O<z.length;++O)if(S===z[O]){this.set(D,S);break}},integer:function(D,S){/^-?\d+$/.test(S)&&this.set(D,parseInt(S,10))},percent:function(D,S){return S.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(S=parseFloat(S),S>=0&&S<=100)?(this.set(D,S),!0):!1}};function i(D,S,z,O){var U=O?D.split(O):[D];for(var j in U)if(typeof U[j]=="string"){var V=U[j].split(z);if(V.length===2){var K=V[0].trim(),te=V[1].trim();S(K,te)}}}function a(D,S,z){var O=D;function U(){var K=r(D);if(K===null)throw new n(n.Errors.BadTimeStamp,"Malformed timestamp: "+O);return D=D.replace(/^[^\sa-zA-Z-]+/,""),K}function j(K,te){var J=new s;i(K,function(X,Y){switch(X){case"region":for(var F=z.length-1;F>=0;F--)if(z[F].id===Y){J.set(X,z[F].region);break}break;case"vertical":J.alt(X,Y,["rl","lr"]);break;case"line":var H=Y.split(","),de=H[0];J.integer(X,de),J.percent(X,de)&&J.set("snapToLines",!1),J.alt(X,de,["auto"]),H.length===2&&J.alt("lineAlign",H[1],["start","center","end"]);break;case"position":H=Y.split(","),J.percent(X,H[0]),H.length===2&&J.alt("positionAlign",H[1],["start","center","end"]);break;case"size":J.percent(X,Y);break;case"align":J.alt(X,Y,["start","center","end","left","right"]);break}},/:/,/\s/),te.region=J.get("region",null),te.vertical=J.get("vertical","");try{te.line=J.get("line","auto")}catch{}te.lineAlign=J.get("lineAlign","start"),te.snapToLines=J.get("snapToLines",!0),te.size=J.get("size",100);try{te.align=J.get("align","center")}catch{te.align=J.get("align","middle")}try{te.position=J.get("position","auto")}catch{te.position=J.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},te.align)}te.positionAlign=J.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},te.align)}function V(){D=D.replace(/^\s+/,"")}if(V(),S.startTime=U(),V(),D.substr(0,3)!=="-->")throw new n(n.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+O);D=D.substr(3),V(),S.endTime=U(),V(),j(D,S)}var l=t.createElement&&t.createElement("textarea"),c={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},u={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},h={v:"title",lang:"lang"},f={rt:"ruby"};function m(D,S){function z(){if(!S)return null;function de(fe){return S=S.substr(fe.length),fe}var ee=S.match(/^([^<]*)(<[^>]*>?)?/);return de(ee[1]?ee[1]:ee[2])}function O(de){return l.innerHTML=de,de=l.textContent,l.textContent="",de}function U(de,ee){return!f[ee.localName]||f[ee.localName]===de.localName}function j(de,ee){var fe=c[de];if(!fe)return null;var ve=D.document.createElement(fe),Ce=h[de];return Ce&&ee&&(ve[Ce]=ee.trim()),ve}for(var V=D.document.createElement("div"),K=V,te,J=[];(te=z())!==null;){if(te[0]==="<"){if(te[1]==="/"){J.length&&J[J.length-1]===te.substr(2).replace(">","")&&(J.pop(),K=K.parentNode);continue}var X=r(te.substr(1,te.length-2)),Y;if(X){Y=D.document.createProcessingInstruction("timestamp",X),K.appendChild(Y);continue}var F=te.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!F||(Y=j(F[1],F[3]),!Y)||!U(K,Y))continue;if(F[2]){var H=F[2].split(".");H.forEach(function(de){var ee=/^bg_/.test(de),fe=ee?de.slice(3):de;if(u.hasOwnProperty(fe)){var ve=ee?"background-color":"color",Ce=u[fe];Y.style[ve]=Ce}}),Y.className=H.join(" ")}J.push(F[1]),K.appendChild(Y),K=Y;continue}K.appendChild(D.document.createTextNode(O(te)))}return V}var g=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function b(D){for(var S=0;S<g.length;S++){var z=g[S];if(D>=z[0]&&D<=z[1])return!0}return!1}function y(D){var S=[],z="",O;if(!D||!D.childNodes)return"ltr";function U(K,te){for(var J=te.childNodes.length-1;J>=0;J--)K.push(te.childNodes[J])}function j(K){if(!K||!K.length)return null;var te=K.pop(),J=te.textContent||te.innerText;if(J){var X=J.match(/^.*(\n|\r)/);return X?(K.length=0,X[0]):J}if(te.tagName==="ruby")return j(K);if(te.childNodes)return U(K,te),j(K)}for(U(S,D);z=j(S);)for(var V=0;V<z.length;V++)if(O=z.charCodeAt(V),b(O))return"rtl";return"ltr"}function x(D){if(typeof D.line=="number"&&(D.snapToLines||D.line>=0&&D.line<=100))return D.line;if(!D.track||!D.track.textTrackList||!D.track.textTrackList.mediaElement)return-1;for(var S=D.track,z=S.textTrackList,O=0,U=0;U<z.length&&z[U]!==S;U++)z[U].mode==="showing"&&O++;return++O*-1}function w(){}w.prototype.applyStyles=function(D,S){S=S||this.div;for(var z in D)D.hasOwnProperty(z)&&(S.style[z]=D[z])},w.prototype.formatStyle=function(D,S){return D===0?0:D+S};function C(D,S,z){w.call(this),this.cue=S,this.cueDiv=m(D,S.text);var O={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:S.vertical===""?"horizontal-tb":S.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(O,this.cueDiv),this.div=D.document.createElement("div"),O={direction:y(this.cueDiv),writingMode:S.vertical===""?"horizontal-tb":S.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:S.align==="middle"?"center":S.align,font:z.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(O),this.div.appendChild(this.cueDiv);var U=0;switch(S.positionAlign){case"start":case"line-left":U=S.position;break;case"center":U=S.position-S.size/2;break;case"end":case"line-right":U=S.position-S.size;break}S.vertical===""?this.applyStyles({left:this.formatStyle(U,"%"),width:this.formatStyle(S.size,"%")}):this.applyStyles({top:this.formatStyle(U,"%"),height:this.formatStyle(S.size,"%")}),this.move=function(j){this.applyStyles({top:this.formatStyle(j.top,"px"),bottom:this.formatStyle(j.bottom,"px"),left:this.formatStyle(j.left,"px"),right:this.formatStyle(j.right,"px"),height:this.formatStyle(j.height,"px"),width:this.formatStyle(j.width,"px")})}}C.prototype=e(w.prototype),C.prototype.constructor=C;function k(D){var S,z,O,U;if(D.div){z=D.div.offsetHeight,O=D.div.offsetWidth,U=D.div.offsetTop;var j=(j=D.div.childNodes)&&(j=j[0])&&j.getClientRects&&j.getClientRects();D=D.div.getBoundingClientRect(),S=j?Math.max(j[0]&&j[0].height||0,D.height/j.length):0}this.left=D.left,this.right=D.right,this.top=D.top||U,this.height=D.height||z,this.bottom=D.bottom||U+(D.height||z),this.width=D.width||O,this.lineHeight=S!==void 0?S:D.lineHeight}k.prototype.move=function(D,S){switch(S=S!==void 0?S:this.lineHeight,D){case"+x":this.left+=S,this.right+=S;break;case"-x":this.left-=S,this.right-=S;break;case"+y":this.top+=S,this.bottom+=S;break;case"-y":this.top-=S,this.bottom-=S;break}},k.prototype.overlaps=function(D){return this.left<D.right&&this.right>D.left&&this.top<D.bottom&&this.bottom>D.top},k.prototype.overlapsAny=function(D){for(var S=0;S<D.length;S++)if(this.overlaps(D[S]))return!0;return!1},k.prototype.within=function(D){return this.top>=D.top&&this.bottom<=D.bottom&&this.left>=D.left&&this.right<=D.right},k.prototype.overlapsOppositeAxis=function(D,S){switch(S){case"+x":return this.left<D.left;case"-x":return this.right>D.right;case"+y":return this.top<D.top;case"-y":return this.bottom>D.bottom}},k.prototype.intersectPercentage=function(D){var S=Math.max(0,Math.min(this.right,D.right)-Math.max(this.left,D.left)),z=Math.max(0,Math.min(this.bottom,D.bottom)-Math.max(this.top,D.top)),O=S*z;return O/(this.height*this.width)},k.prototype.toCSSCompatValues=function(D){return{top:this.top-D.top,bottom:D.bottom-this.bottom,left:this.left-D.left,right:D.right-this.right,height:this.height,width:this.width}},k.getSimpleBoxPosition=function(D){var S=D.div?D.div.offsetHeight:D.tagName?D.offsetHeight:0,z=D.div?D.div.offsetWidth:D.tagName?D.offsetWidth:0,O=D.div?D.div.offsetTop:D.tagName?D.offsetTop:0;D=D.div?D.div.getBoundingClientRect():D.tagName?D.getBoundingClientRect():D;var U={left:D.left,right:D.right,top:D.top||O,height:D.height||S,bottom:D.bottom||O+(D.height||S),width:D.width||z};return U};function A(D,S,z,O){function U(fe,ve){for(var Ce,De=new k(fe),Ee=1,Be=0;Be<ve.length;Be++){for(;fe.overlapsOppositeAxis(z,ve[Be])||fe.within(z)&&fe.overlapsAny(O);)fe.move(ve[Be]);if(fe.within(z))return fe;var Ve=fe.intersectPercentage(z);Ee>Ve&&(Ce=new k(fe),Ee=Ve),fe=new k(De)}return Ce||De}var j=new k(S),V=S.cue,K=x(V),te=[];if(V.snapToLines){var J;switch(V.vertical){case"":te=["+y","-y"],J="height";break;case"rl":te=["+x","-x"],J="width";break;case"lr":te=["-x","+x"],J="width";break}var X=j.lineHeight,Y=X*Math.round(K),F=z[J]+X,H=te[0];Math.abs(Y)>F&&(Y=Y<0?-1:1,Y*=Math.ceil(F/X)*X),K<0&&(Y+=V.vertical===""?z.height:z.width,te=te.reverse()),j.move(H,Y)}else{var de=j.lineHeight/z.height*100;switch(V.lineAlign){case"center":K-=de/2;break;case"end":K-=de;break}switch(V.vertical){case"":S.applyStyles({top:S.formatStyle(K,"%")});break;case"rl":S.applyStyles({left:S.formatStyle(K,"%")});break;case"lr":S.applyStyles({right:S.formatStyle(K,"%")});break}te=["+y","-x","+x","-y"],j=new k(S)}var ee=U(j,te);S.move(ee.toCSSCompatValues(z))}function N(){}N.StringDecoder=function(){return{decode:function(D){if(!D)return"";if(typeof D!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(D))}}},N.convertCueToDOMTree=function(D,S){return!D||!S?null:m(D,S)};var P=.05,M="sans-serif",L="1.5%";return N.processCues=function(D,S,z){if(!D||!S||!z)return null;for(;z.firstChild;)z.removeChild(z.firstChild);var O=D.document.createElement("div");O.style.position="absolute",O.style.left="0",O.style.right="0",O.style.top="0",O.style.bottom="0",O.style.margin=L,z.appendChild(O);function U(X){for(var Y=0;Y<X.length;Y++)if(X[Y].hasBeenReset||!X[Y].displayState)return!0;return!1}if(!U(S)){for(var j=0;j<S.length;j++)O.appendChild(S[j].displayState);return}var V=[],K=k.getSimpleBoxPosition(O),te=Math.round(K.height*P*100)/100,J={font:te+"px "+M};(function(){for(var X,Y,F=0;F<S.length;F++)Y=S[F],X=new C(D,Y,J),O.appendChild(X.div),A(D,X,K,V),Y.displayState=X.div,V.push(k.getSimpleBoxPosition(X))})()},N.Parser=function(D,S,z){z||(z=S,S={}),S||(S={}),this.window=D,this.vttjs=S,this.state="INITIAL",this.buffer="",this.decoder=z||new TextDecoder("utf8"),this.regionList=[]},N.Parser.prototype={reportOrThrowError:function(D){if(D instanceof n)this.onparsingerror&&this.onparsingerror(D);else throw D},parse:function(D){var S=this;D&&(S.buffer+=S.decoder.decode(D,{stream:!0}));function z(){for(var X=S.buffer,Y=0;Y<X.length&&X[Y]!=="\r"&&X[Y]!==`
`;)++Y;var F=X.substr(0,Y);return X[Y]==="\r"&&++Y,X[Y]===`
`&&++Y,S.buffer=X.substr(Y),F}function O(X){var Y=new s;if(i(X,function(H,de){switch(H){case"id":Y.set(H,de);break;case"width":Y.percent(H,de);break;case"lines":Y.integer(H,de);break;case"regionanchor":case"viewportanchor":var ee=de.split(",");if(ee.length!==2)break;var fe=new s;if(fe.percent("x",ee[0]),fe.percent("y",ee[1]),!fe.has("x")||!fe.has("y"))break;Y.set(H+"X",fe.get("x")),Y.set(H+"Y",fe.get("y"));break;case"scroll":Y.alt(H,de,["up"]);break}},/=/,/\s/),Y.has("id")){var F=new(S.vttjs.VTTRegion||S.window.VTTRegion);F.width=Y.get("width",100),F.lines=Y.get("lines",3),F.regionAnchorX=Y.get("regionanchorX",0),F.regionAnchorY=Y.get("regionanchorY",100),F.viewportAnchorX=Y.get("viewportanchorX",0),F.viewportAnchorY=Y.get("viewportanchorY",100),F.scroll=Y.get("scroll",""),S.onregion&&S.onregion(F),S.regionList.push({id:Y.get("id"),region:F})}}function U(X){var Y=new s;i(X,function(F,H){switch(F){case"MPEGT":Y.integer(F+"S",H);break;case"LOCA":Y.set(F+"L",r(H));break}},/[^\d]:/,/,/),S.ontimestampmap&&S.ontimestampmap({MPEGTS:Y.get("MPEGTS"),LOCAL:Y.get("LOCAL")})}function j(X){X.match(/X-TIMESTAMP-MAP/)?i(X,function(Y,F){switch(Y){case"X-TIMESTAMP-MAP":U(F);break}},/=/):i(X,function(Y,F){switch(Y){case"Region":O(F);break}},/:/)}try{var V;if(S.state==="INITIAL"){if(!/\r\n|\n/.test(S.buffer))return this;V=z();var K=V.match(/^WEBVTT([ \t].*)?$/);if(!K||!K[0])throw new n(n.Errors.BadSignature);S.state="HEADER"}for(var te=!1;S.buffer;){if(!/\r\n|\n/.test(S.buffer))return this;switch(te?te=!1:V=z(),S.state){case"HEADER":/:/.test(V)?j(V):V||(S.state="ID");continue;case"NOTE":V||(S.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(V)){S.state="NOTE";break}if(!V)continue;S.cue=new(S.vttjs.VTTCue||S.window.VTTCue)(0,0,"");try{S.cue.align="center"}catch{S.cue.align="middle"}if(S.state="CUE",V.indexOf("-->")===-1){S.cue.id=V;continue}case"CUE":try{a(V,S.cue,S.regionList)}catch(X){S.reportOrThrowError(X),S.cue=null,S.state="BADCUE";continue}S.state="CUETEXT";continue;case"CUETEXT":var J=V.indexOf("-->")!==-1;if(!V||J&&(te=!0)){S.oncue&&S.oncue(S.cue),S.cue=null,S.state="ID";continue}S.cue.text&&(S.cue.text+=`
`),S.cue.text+=V.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":V||(S.state="ID");continue}}}catch(X){S.reportOrThrowError(X),S.state==="CUETEXT"&&S.cue&&S.oncue&&S.oncue(S.cue),S.cue=null,S.state=S.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var D=this;try{if(D.buffer+=D.decoder.decode(),(D.cue||D.state==="HEADER")&&(D.buffer+=`

`,D.parse()),D.state==="INITIAL")throw new n(n.Errors.BadSignature)}catch(S){D.reportOrThrowError(S)}return D.onflush&&D.onflush(),this}},F2=N,F2}var B2,H4;function bfe(){if(H4)return B2;H4=1;var t="auto",e={"":1,lr:1,rl:1},n={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function r(a){if(typeof a!="string")return!1;var l=e[a.toLowerCase()];return l?a.toLowerCase():!1}function s(a){if(typeof a!="string")return!1;var l=n[a.toLowerCase()];return l?a.toLowerCase():!1}function i(a,l,c){this.hasBeenReset=!1;var u="",h=!1,f=a,m=l,g=c,b=null,y="",x=!0,w="auto",C="start",k="auto",A="auto",N=100,P="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return u},set:function(M){u=""+M}},pauseOnExit:{enumerable:!0,get:function(){return h},set:function(M){h=!!M}},startTime:{enumerable:!0,get:function(){return f},set:function(M){if(typeof M!="number")throw new TypeError("Start time must be set to a number.");f=M,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return m},set:function(M){if(typeof M!="number")throw new TypeError("End time must be set to a number.");m=M,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return g},set:function(M){g=""+M,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return b},set:function(M){b=M,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return y},set:function(M){var L=r(M);if(L===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");y=L,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return x},set:function(M){x=!!M,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return w},set:function(M){if(typeof M!="number"&&M!==t)throw new SyntaxError("Line: an invalid number or illegal string was specified.");w=M,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return C},set:function(M){var L=s(M);L?(C=L,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return k},set:function(M){if(M<0||M>100)throw new Error("Position must be between 0 and 100.");k=M,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return A},set:function(M){var L=s(M);L?(A=L,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return N},set:function(M){if(M<0||M>100)throw new Error("Size must be between 0 and 100.");N=M,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return P},set:function(M){var L=s(M);if(!L)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");P=L,this.hasBeenReset=!0}}}),this.displayState=void 0}return i.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},B2=i,B2}var $2,W4;function xfe(){if(W4)return $2;W4=1;var t={"":!0,up:!0};function e(s){if(typeof s!="string")return!1;var i=t[s.toLowerCase()];return i?s.toLowerCase():!1}function n(s){return typeof s=="number"&&s>=0&&s<=100}function r(){var s=100,i=3,a=0,l=100,c=0,u=100,h="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return s},set:function(f){if(!n(f))throw new Error("Width must be between 0 and 100.");s=f}},lines:{enumerable:!0,get:function(){return i},set:function(f){if(typeof f!="number")throw new TypeError("Lines must be set to a number.");i=f}},regionAnchorY:{enumerable:!0,get:function(){return l},set:function(f){if(!n(f))throw new Error("RegionAnchorX must be between 0 and 100.");l=f}},regionAnchorX:{enumerable:!0,get:function(){return a},set:function(f){if(!n(f))throw new Error("RegionAnchorY must be between 0 and 100.");a=f}},viewportAnchorY:{enumerable:!0,get:function(){return u},set:function(f){if(!n(f))throw new Error("ViewportAnchorY must be between 0 and 100.");u=f}},viewportAnchorX:{enumerable:!0,get:function(){return c},set:function(f){if(!n(f))throw new Error("ViewportAnchorX must be between 0 and 100.");c=f}},scroll:{enumerable:!0,get:function(){return h},set:function(f){var m=e(f);m===!1?console.warn("Scroll: an invalid or illegal string was specified."):h=m}}})}return $2=r,$2}var V4;function vfe(){if(V4)return L2.exports;V4=1;var t=T1(),e=L2.exports={WebVTT:yfe(),VTTCue:bfe(),VTTRegion:xfe()};t.vttjs=e,t.WebVTT=e.WebVTT;var n=e.VTTCue,r=e.VTTRegion,s=t.VTTCue,i=t.VTTRegion;return e.shim=function(){t.VTTCue=n,t.VTTRegion=r},e.restore=function(){t.VTTCue=s,t.VTTRegion=i},t.VTTCue||e.shim(),L2.exports}var wfe=vfe();const q4=Jr(wfe);var Y4="https://example.com",_fe=function(e,n){if(/^[a-z]+:/i.test(n))return n;/^data:/.test(e)&&(e=Se.location&&Se.location.href||"");var r=/^\/\//.test(e),s=!Se.location&&!/\/\//i.test(e);e=new Se.URL(e,Se.location||Y4);var i=new URL(n,e);return s?i.href.slice(Y4.length):r?i.href.slice(i.protocol.length):i.href},GE=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(r,s){this.listeners[r]||(this.listeners[r]=[]),this.listeners[r].push(s)},e.off=function(r,s){if(!this.listeners[r])return!1;var i=this.listeners[r].indexOf(s);return this.listeners[r]=this.listeners[r].slice(0),this.listeners[r].splice(i,1),i>-1},e.trigger=function(r){var s=this.listeners[r];if(s)if(arguments.length===2)for(var i=s.length,a=0;a<i;++a)s[a].call(this,arguments[1]);else for(var l=Array.prototype.slice.call(arguments,1),c=s.length,u=0;u<c;++u)s[u].apply(this,l)},e.dispose=function(){this.listeners={}},e.pipe=function(r){this.on("data",function(s){r.push(s)})},t}(),Sfe=function(e){return Se.atob?Se.atob(e):Buffer.from(e,"base64").toString("binary")};function Cfe(t){for(var e=Sfe(t),n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}/*! @name m3u8-parser @version 7.2.0 @license Apache-2.0 */class Tfe extends GE{constructor(){super(),this.buffer=""}push(e){let n;for(this.buffer+=e,n=this.buffer.indexOf(`
`);n>-1;n=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,n)),this.buffer=this.buffer.substring(n+1)}}const kfe="	",z2=function(t){const e=/([0-9.]*)?@?([0-9.]*)?/.exec(t||""),n={};return e[1]&&(n.length=parseInt(e[1],10)),e[2]&&(n.offset=parseInt(e[2],10)),n},Efe=function(){const n="(?:"+"[^=]*"+")=(?:"+'"[^"]*"|[^,]*'+")";return new RegExp("(?:^|,)("+n+")")},ri=function(t){const e={};if(!t)return e;const n=t.split(Efe());let r=n.length,s;for(;r--;)n[r]!==""&&(s=/([^=]*)=(.*)/.exec(n[r]).slice(1),s[0]=s[0].replace(/^\s+|\s+$/g,""),s[1]=s[1].replace(/^\s+|\s+$/g,""),s[1]=s[1].replace(/^['"](.*)['"]$/g,"$1"),e[s[0]]=s[1]);return e},G4=t=>{const e=t.split("x"),n={};return e[0]&&(n.width=parseInt(e[0],10)),e[1]&&(n.height=parseInt(e[1],10)),n};class jfe extends GE{constructor(){super(),this.customParsers=[],this.tagMappers=[]}push(e){let n,r;if(e=e.trim(),e.length===0)return;if(e[0]!=="#"){this.trigger("data",{type:"uri",uri:e});return}this.tagMappers.reduce((i,a)=>{const l=a(e);return l===e?i:i.concat([l])},[e]).forEach(i=>{for(let a=0;a<this.customParsers.length;a++)if(this.customParsers[a].call(this,i))return;if(i.indexOf("#EXT")!==0){this.trigger("data",{type:"comment",text:i.slice(1)});return}if(i=i.replace("\r",""),n=/^#EXTM3U/.exec(i),n){this.trigger("data",{type:"tag",tagType:"m3u"});return}if(n=/^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(i),n){r={type:"tag",tagType:"inf"},n[1]&&(r.duration=parseFloat(n[1])),n[2]&&(r.title=n[2]),this.trigger("data",r);return}if(n=/^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(i),n){r={type:"tag",tagType:"targetduration"},n[1]&&(r.duration=parseInt(n[1],10)),this.trigger("data",r);return}if(n=/^#EXT-X-VERSION:([0-9.]*)?/.exec(i),n){r={type:"tag",tagType:"version"},n[1]&&(r.version=parseInt(n[1],10)),this.trigger("data",r);return}if(n=/^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(i),n){r={type:"tag",tagType:"media-sequence"},n[1]&&(r.number=parseInt(n[1],10)),this.trigger("data",r);return}if(n=/^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(i),n){r={type:"tag",tagType:"discontinuity-sequence"},n[1]&&(r.number=parseInt(n[1],10)),this.trigger("data",r);return}if(n=/^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(i),n){r={type:"tag",tagType:"playlist-type"},n[1]&&(r.playlistType=n[1]),this.trigger("data",r);return}if(n=/^#EXT-X-BYTERANGE:(.*)?$/.exec(i),n){r=Ot(z2(n[1]),{type:"tag",tagType:"byterange"}),this.trigger("data",r);return}if(n=/^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(i),n){r={type:"tag",tagType:"allow-cache"},n[1]&&(r.allowed=!/NO/.test(n[1])),this.trigger("data",r);return}if(n=/^#EXT-X-MAP:(.*)$/.exec(i),n){if(r={type:"tag",tagType:"map"},n[1]){const a=ri(n[1]);a.URI&&(r.uri=a.URI),a.BYTERANGE&&(r.byterange=z2(a.BYTERANGE))}this.trigger("data",r);return}if(n=/^#EXT-X-STREAM-INF:(.*)$/.exec(i),n){r={type:"tag",tagType:"stream-inf"},n[1]&&(r.attributes=ri(n[1]),r.attributes.RESOLUTION&&(r.attributes.RESOLUTION=G4(r.attributes.RESOLUTION)),r.attributes.BANDWIDTH&&(r.attributes.BANDWIDTH=parseInt(r.attributes.BANDWIDTH,10)),r.attributes["FRAME-RATE"]&&(r.attributes["FRAME-RATE"]=parseFloat(r.attributes["FRAME-RATE"])),r.attributes["PROGRAM-ID"]&&(r.attributes["PROGRAM-ID"]=parseInt(r.attributes["PROGRAM-ID"],10))),this.trigger("data",r);return}if(n=/^#EXT-X-MEDIA:(.*)$/.exec(i),n){r={type:"tag",tagType:"media"},n[1]&&(r.attributes=ri(n[1])),this.trigger("data",r);return}if(n=/^#EXT-X-ENDLIST/.exec(i),n){this.trigger("data",{type:"tag",tagType:"endlist"});return}if(n=/^#EXT-X-DISCONTINUITY/.exec(i),n){this.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(n=/^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(i),n){r={type:"tag",tagType:"program-date-time"},n[1]&&(r.dateTimeString=n[1],r.dateTimeObject=new Date(n[1])),this.trigger("data",r);return}if(n=/^#EXT-X-KEY:(.*)$/.exec(i),n){r={type:"tag",tagType:"key"},n[1]&&(r.attributes=ri(n[1]),r.attributes.IV&&(r.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(r.attributes.IV=r.attributes.IV.substring(2)),r.attributes.IV=r.attributes.IV.match(/.{8}/g),r.attributes.IV[0]=parseInt(r.attributes.IV[0],16),r.attributes.IV[1]=parseInt(r.attributes.IV[1],16),r.attributes.IV[2]=parseInt(r.attributes.IV[2],16),r.attributes.IV[3]=parseInt(r.attributes.IV[3],16),r.attributes.IV=new Uint32Array(r.attributes.IV))),this.trigger("data",r);return}if(n=/^#EXT-X-START:(.*)$/.exec(i),n){r={type:"tag",tagType:"start"},n[1]&&(r.attributes=ri(n[1]),r.attributes["TIME-OFFSET"]=parseFloat(r.attributes["TIME-OFFSET"]),r.attributes.PRECISE=/YES/.test(r.attributes.PRECISE)),this.trigger("data",r);return}if(n=/^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(i),n){r={type:"tag",tagType:"cue-out-cont"},n[1]?r.data=n[1]:r.data="",this.trigger("data",r);return}if(n=/^#EXT-X-CUE-OUT:(.*)?$/.exec(i),n){r={type:"tag",tagType:"cue-out"},n[1]?r.data=n[1]:r.data="",this.trigger("data",r);return}if(n=/^#EXT-X-CUE-IN:?(.*)?$/.exec(i),n){r={type:"tag",tagType:"cue-in"},n[1]?r.data=n[1]:r.data="",this.trigger("data",r);return}if(n=/^#EXT-X-SKIP:(.*)$/.exec(i),n&&n[1]){r={type:"tag",tagType:"skip"},r.attributes=ri(n[1]),r.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(r.attributes["SKIPPED-SEGMENTS"]=parseInt(r.attributes["SKIPPED-SEGMENTS"],10)),r.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(r.attributes["RECENTLY-REMOVED-DATERANGES"]=r.attributes["RECENTLY-REMOVED-DATERANGES"].split(kfe)),this.trigger("data",r);return}if(n=/^#EXT-X-PART:(.*)$/.exec(i),n&&n[1]){r={type:"tag",tagType:"part"},r.attributes=ri(n[1]),["DURATION"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=parseFloat(r.attributes[a]))}),["INDEPENDENT","GAP"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=/YES/.test(r.attributes[a]))}),r.attributes.hasOwnProperty("BYTERANGE")&&(r.attributes.byterange=z2(r.attributes.BYTERANGE)),this.trigger("data",r);return}if(n=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(i),n&&n[1]){r={type:"tag",tagType:"server-control"},r.attributes=ri(n[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=parseFloat(r.attributes[a]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=/YES/.test(r.attributes[a]))}),this.trigger("data",r);return}if(n=/^#EXT-X-PART-INF:(.*)$/.exec(i),n&&n[1]){r={type:"tag",tagType:"part-inf"},r.attributes=ri(n[1]),["PART-TARGET"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=parseFloat(r.attributes[a]))}),this.trigger("data",r);return}if(n=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(i),n&&n[1]){r={type:"tag",tagType:"preload-hint"},r.attributes=ri(n[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(a){if(r.attributes.hasOwnProperty(a)){r.attributes[a]=parseInt(r.attributes[a],10);const l=a==="BYTERANGE-LENGTH"?"length":"offset";r.attributes.byterange=r.attributes.byterange||{},r.attributes.byterange[l]=r.attributes[a],delete r.attributes[a]}}),this.trigger("data",r);return}if(n=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(i),n&&n[1]){r={type:"tag",tagType:"rendition-report"},r.attributes=ri(n[1]),["LAST-MSN","LAST-PART"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=parseInt(r.attributes[a],10))}),this.trigger("data",r);return}if(n=/^#EXT-X-DATERANGE:(.*)$/.exec(i),n&&n[1]){r={type:"tag",tagType:"daterange"},r.attributes=ri(n[1]),["ID","CLASS"].forEach(function(l){r.attributes.hasOwnProperty(l)&&(r.attributes[l]=String(r.attributes[l]))}),["START-DATE","END-DATE"].forEach(function(l){r.attributes.hasOwnProperty(l)&&(r.attributes[l]=new Date(r.attributes[l]))}),["DURATION","PLANNED-DURATION"].forEach(function(l){r.attributes.hasOwnProperty(l)&&(r.attributes[l]=parseFloat(r.attributes[l]))}),["END-ON-NEXT"].forEach(function(l){r.attributes.hasOwnProperty(l)&&(r.attributes[l]=/YES/i.test(r.attributes[l]))}),["SCTE35-CMD"," SCTE35-OUT","SCTE35-IN"].forEach(function(l){r.attributes.hasOwnProperty(l)&&(r.attributes[l]=r.attributes[l].toString(16))});const a=/^X-([A-Z]+-)+[A-Z]+$/;for(const l in r.attributes){if(!a.test(l))continue;const c=/[0-9A-Fa-f]{6}/g.test(r.attributes[l]),u=/^\d+(\.\d+)?$/.test(r.attributes[l]);r.attributes[l]=c?r.attributes[l].toString(16):u?parseFloat(r.attributes[l]):String(r.attributes[l])}this.trigger("data",r);return}if(n=/^#EXT-X-INDEPENDENT-SEGMENTS/.exec(i),n){this.trigger("data",{type:"tag",tagType:"independent-segments"});return}if(n=/^#EXT-X-I-FRAMES-ONLY/.exec(i),n){this.trigger("data",{type:"tag",tagType:"i-frames-only"});return}if(n=/^#EXT-X-CONTENT-STEERING:(.*)$/.exec(i),n){r={type:"tag",tagType:"content-steering"},r.attributes=ri(n[1]),this.trigger("data",r);return}if(n=/^#EXT-X-I-FRAME-STREAM-INF:(.*)$/.exec(i),n){r={type:"tag",tagType:"i-frame-playlist"},r.attributes=ri(n[1]),r.attributes.URI&&(r.uri=r.attributes.URI),r.attributes.BANDWIDTH&&(r.attributes.BANDWIDTH=parseInt(r.attributes.BANDWIDTH,10)),r.attributes.RESOLUTION&&(r.attributes.RESOLUTION=G4(r.attributes.RESOLUTION)),r.attributes["AVERAGE-BANDWIDTH"]&&(r.attributes["AVERAGE-BANDWIDTH"]=parseInt(r.attributes["AVERAGE-BANDWIDTH"],10)),r.attributes["FRAME-RATE"]&&(r.attributes["FRAME-RATE"]=parseFloat(r.attributes["FRAME-RATE"])),this.trigger("data",r);return}if(n=/^#EXT-X-DEFINE:(.*)$/.exec(i),n){r={type:"tag",tagType:"define"},r.attributes=ri(n[1]),this.trigger("data",r);return}this.trigger("data",{type:"tag",data:i.slice(4)})})}addParser({expression:e,customType:n,dataParser:r,segment:s}){typeof r!="function"&&(r=i=>i),this.customParsers.push(i=>{if(e.exec(i))return this.trigger("data",{type:"custom",data:r(i),customType:n,segment:s}),!0})}addTagMapper({expression:e,map:n}){const r=s=>e.test(s)?n(s):s;this.tagMappers.push(r)}}const Nfe=t=>t.toLowerCase().replace(/-(\w)/g,e=>e[1].toUpperCase()),zc=function(t){const e={};return Object.keys(t).forEach(function(n){e[Nfe(n)]=t[n]}),e},U2=function(t){const{serverControl:e,targetDuration:n,partTargetDuration:r}=t;if(!e)return;const s="#EXT-X-SERVER-CONTROL",i="holdBack",a="partHoldBack",l=n&&n*3,c=r&&r*2;n&&!e.hasOwnProperty(i)&&(e[i]=l,this.trigger("info",{message:`${s} defaulting HOLD-BACK to targetDuration * 3 (${l}).`})),l&&e[i]<l&&(this.trigger("warn",{message:`${s} clamping HOLD-BACK (${e[i]}) to targetDuration * 3 (${l})`}),e[i]=l),r&&!e.hasOwnProperty(a)&&(e[a]=r*3,this.trigger("info",{message:`${s} defaulting PART-HOLD-BACK to partTargetDuration * 3 (${e[a]}).`})),r&&e[a]<c&&(this.trigger("warn",{message:`${s} clamping PART-HOLD-BACK (${e[a]}) to partTargetDuration * 2 (${c}).`}),e[a]=c)};class Afe extends GE{constructor(e={}){super(),this.lineStream=new Tfe,this.parseStream=new jfe,this.lineStream.pipe(this.parseStream),this.mainDefinitions=e.mainDefinitions||{},this.params=new URL(e.uri,"https://a.com").searchParams,this.lastProgramDateTime=null;const n=this,r=[];let s={},i,a,l=!1;const c=function(){},u={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},h="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";let f=0;this.manifest={allowCache:!0,discontinuityStarts:[],dateRanges:[],iFramePlaylists:[],segments:[]};let m=0,g=0;const b={};this.on("end",()=>{s.uri||!s.parts&&!s.preloadHints||(!s.map&&i&&(s.map=i),!s.key&&a&&(s.key=a),!s.timeline&&typeof f=="number"&&(s.timeline=f),this.manifest.preloadSegment=s)}),this.parseStream.on("data",function(y){let x,w;if(n.manifest.definitions){for(const C in n.manifest.definitions)if(y.uri&&(y.uri=y.uri.replace(`{$${C}}`,n.manifest.definitions[C])),y.attributes)for(const k in y.attributes)typeof y.attributes[k]=="string"&&(y.attributes[k]=y.attributes[k].replace(`{$${C}}`,n.manifest.definitions[C]))}({tag(){({version(){y.version&&(this.manifest.version=y.version)},"allow-cache"(){this.manifest.allowCache=y.allowed,"allowed"in y||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange(){const C={};"length"in y&&(s.byterange=C,C.length=y.length,"offset"in y||(y.offset=m)),"offset"in y&&(s.byterange=C,C.offset=y.offset),m=C.offset+C.length},endlist(){this.manifest.endList=!0},inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),y.title&&(s.title=y.title),y.duration>0&&(s.duration=y.duration),y.duration===0&&(s.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=r},key(){if(!y.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(y.attributes.METHOD==="NONE"){a=null;return}if(!y.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(y.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:y.attributes};return}if(y.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:y.attributes.URI};return}if(y.attributes.KEYFORMAT===h){if(["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(y.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(y.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),y.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(y.attributes.KEYID&&y.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:y.attributes.KEYFORMAT,keyId:y.attributes.KEYID.substring(2)},pssh:Cfe(y.attributes.URI.split(",")[1])};return}y.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),a={method:y.attributes.METHOD||"AES-128",uri:y.attributes.URI},typeof y.attributes.IV<"u"&&(a.iv=y.attributes.IV)},"media-sequence"(){if(!isFinite(y.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+y.number});return}this.manifest.mediaSequence=y.number},"discontinuity-sequence"(){if(!isFinite(y.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+y.number});return}this.manifest.discontinuitySequence=y.number,f=y.number},"playlist-type"(){if(!/VOD|EVENT/.test(y.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+y.playlist});return}this.manifest.playlistType=y.playlistType},map(){i={},y.uri&&(i.uri=y.uri),y.byterange&&(i.byterange=y.byterange),a&&(i.key=a)},"stream-inf"(){if(this.manifest.playlists=r,this.manifest.mediaGroups=this.manifest.mediaGroups||u,!y.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}s.attributes||(s.attributes={}),Ot(s.attributes,y.attributes)},media(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||u,!(y.attributes&&y.attributes.TYPE&&y.attributes["GROUP-ID"]&&y.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}const C=this.manifest.mediaGroups[y.attributes.TYPE];C[y.attributes["GROUP-ID"]]=C[y.attributes["GROUP-ID"]]||{},x=C[y.attributes["GROUP-ID"]],w={default:/yes/i.test(y.attributes.DEFAULT)},w.default?w.autoselect=!0:w.autoselect=/yes/i.test(y.attributes.AUTOSELECT),y.attributes.LANGUAGE&&(w.language=y.attributes.LANGUAGE),y.attributes.URI&&(w.uri=y.attributes.URI),y.attributes["INSTREAM-ID"]&&(w.instreamId=y.attributes["INSTREAM-ID"]),y.attributes.CHARACTERISTICS&&(w.characteristics=y.attributes.CHARACTERISTICS),y.attributes.FORCED&&(w.forced=/yes/i.test(y.attributes.FORCED)),x[y.attributes.NAME]=w},discontinuity(){f+=1,s.discontinuity=!0,this.manifest.discontinuityStarts.push(r.length)},"program-date-time"(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=y.dateTimeString,this.manifest.dateTimeObject=y.dateTimeObject),s.dateTimeString=y.dateTimeString,s.dateTimeObject=y.dateTimeObject;const{lastProgramDateTime:C}=this;this.lastProgramDateTime=new Date(y.dateTimeString).getTime(),C===null&&this.manifest.segments.reduceRight((k,A)=>(A.programDateTime=k-A.duration*1e3,A.programDateTime),this.lastProgramDateTime)},targetduration(){if(!isFinite(y.duration)||y.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+y.duration});return}this.manifest.targetDuration=y.duration,U2.call(this,this.manifest)},start(){if(!y.attributes||isNaN(y.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:y.attributes["TIME-OFFSET"],precise:y.attributes.PRECISE}},"cue-out"(){s.cueOut=y.data},"cue-out-cont"(){s.cueOutCont=y.data},"cue-in"(){s.cueIn=y.data},skip(){this.manifest.skip=zc(y.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",y.attributes,["SKIPPED-SEGMENTS"])},part(){l=!0;const C=this.manifest.segments.length,k=zc(y.attributes);s.parts=s.parts||[],s.parts.push(k),k.byterange&&(k.byterange.hasOwnProperty("offset")||(k.byterange.offset=g),g=k.byterange.offset+k.byterange.length);const A=s.parts.length-1;this.warnOnMissingAttributes_(`#EXT-X-PART #${A} for segment #${C}`,y.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((N,P)=>{N.hasOwnProperty("lastPart")||this.trigger("warn",{message:`#EXT-X-RENDITION-REPORT #${P} lacks required attribute(s): LAST-PART`})})},"server-control"(){const C=this.manifest.serverControl=zc(y.attributes);C.hasOwnProperty("canBlockReload")||(C.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),U2.call(this,this.manifest),C.canSkipDateranges&&!C.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint"(){const C=this.manifest.segments.length,k=zc(y.attributes),A=k.type&&k.type==="PART";s.preloadHints=s.preloadHints||[],s.preloadHints.push(k),k.byterange&&(k.byterange.hasOwnProperty("offset")||(k.byterange.offset=A?g:0,A&&(g=k.byterange.offset+k.byterange.length)));const N=s.preloadHints.length-1;if(this.warnOnMissingAttributes_(`#EXT-X-PRELOAD-HINT #${N} for segment #${C}`,y.attributes,["TYPE","URI"]),!!k.type)for(let P=0;P<s.preloadHints.length-1;P++){const M=s.preloadHints[P];M.type&&M.type===k.type&&this.trigger("warn",{message:`#EXT-X-PRELOAD-HINT #${N} for segment #${C} has the same TYPE ${k.type} as preload hint #${P}`})}},"rendition-report"(){const C=zc(y.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(C);const k=this.manifest.renditionReports.length-1,A=["LAST-MSN","URI"];l&&A.push("LAST-PART"),this.warnOnMissingAttributes_(`#EXT-X-RENDITION-REPORT #${k}`,y.attributes,A)},"part-inf"(){this.manifest.partInf=zc(y.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",y.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),U2.call(this,this.manifest)},daterange(){this.manifest.dateRanges.push(zc(y.attributes));const C=this.manifest.dateRanges.length-1;this.warnOnMissingAttributes_(`#EXT-X-DATERANGE #${C}`,y.attributes,["ID","START-DATE"]);const k=this.manifest.dateRanges[C];k.endDate&&k.startDate&&new Date(k.endDate)<new Date(k.startDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE END-DATE must be equal to or later than the value of the START-DATE"}),k.duration&&k.duration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE DURATION must not be negative"}),k.plannedDuration&&k.plannedDuration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE PLANNED-DURATION must not be negative"});const A=!!k.endOnNext;if(A&&!k.class&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must have a CLASS attribute"}),A&&(k.duration||k.endDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must not contain DURATION or END-DATE attributes"}),k.duration&&k.endDate){const P=k.startDate.getTime()+k.duration*1e3;this.manifest.dateRanges[C].endDate=new Date(P)}if(!b[k.id])b[k.id]=k;else{for(const P in b[k.id])if(k[P]&&JSON.stringify(b[k.id][P])!==JSON.stringify(k[P])){this.trigger("warn",{message:"EXT-X-DATERANGE tags with the same ID in a playlist must have the same attributes values"});break}const N=this.manifest.dateRanges.findIndex(P=>P.id===k.id);this.manifest.dateRanges[N]=Ot(this.manifest.dateRanges[N],k),b[k.id]=Ot(b[k.id],k),this.manifest.dateRanges.pop()}},"independent-segments"(){this.manifest.independentSegments=!0},"i-frames-only"(){this.manifest.iFramesOnly=!0,this.requiredCompatibilityversion(this.manifest.version,4)},"content-steering"(){this.manifest.contentSteering=zc(y.attributes),this.warnOnMissingAttributes_("#EXT-X-CONTENT-STEERING",y.attributes,["SERVER-URI"])},define(){this.manifest.definitions=this.manifest.definitions||{};const C=(k,A)=>{if(k in this.manifest.definitions){this.trigger("error",{message:`EXT-X-DEFINE: Duplicate name ${k}`});return}this.manifest.definitions[k]=A};if("QUERYPARAM"in y.attributes){if("NAME"in y.attributes||"IMPORT"in y.attributes){this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"});return}const k=this.params.get(y.attributes.QUERYPARAM);if(!k){this.trigger("error",{message:`EXT-X-DEFINE: No query param ${y.attributes.QUERYPARAM}`});return}C(y.attributes.QUERYPARAM,decodeURIComponent(k));return}if("NAME"in y.attributes){if("IMPORT"in y.attributes){this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"});return}if(!("VALUE"in y.attributes)||typeof y.attributes.VALUE!="string"){this.trigger("error",{message:`EXT-X-DEFINE: No value for ${y.attributes.NAME}`});return}C(y.attributes.NAME,y.attributes.VALUE);return}if("IMPORT"in y.attributes){if(!this.mainDefinitions[y.attributes.IMPORT]){this.trigger("error",{message:`EXT-X-DEFINE: No value ${y.attributes.IMPORT} to import, or IMPORT used on main playlist`});return}C(y.attributes.IMPORT,this.mainDefinitions[y.attributes.IMPORT]);return}this.trigger("error",{message:"EXT-X-DEFINE: No attribute"})},"i-frame-playlist"(){this.manifest.iFramePlaylists.push({attributes:y.attributes,uri:y.uri,timeline:f}),this.warnOnMissingAttributes_("#EXT-X-I-FRAME-STREAM-INF",y.attributes,["BANDWIDTH","URI"])}}[y.tagType]||c).call(n)},uri(){s.uri=y.uri,r.push(s),this.manifest.targetDuration&&!("duration"in s)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),s.duration=this.manifest.targetDuration),a&&(s.key=a),s.timeline=f,i&&(s.map=i),g=0,this.lastProgramDateTime!==null&&(s.programDateTime=this.lastProgramDateTime,this.lastProgramDateTime+=s.duration*1e3),s={}},comment(){},custom(){y.segment?(s.custom=s.custom||{},s.custom[y.customType]=y.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[y.customType]=y.data)}})[y.type].call(n)})}requiredCompatibilityversion(e,n){(e<n||!e)&&this.trigger("warn",{message:`manifest must be at least version ${n}`})}warnOnMissingAttributes_(e,n,r){const s=[];r.forEach(function(i){n.hasOwnProperty(i)||s.push(i)}),s.length&&this.trigger("warn",{message:`${e} lacks required attribute(s): ${s.join(", ")}`})}push(e){this.lineStream.push(e)}end(){this.lineStream.push(`
`),this.manifest.dateRanges.length&&this.lastProgramDateTime===null&&this.trigger("warn",{message:"A playlist with EXT-X-DATERANGE tag must contain atleast one EXT-X-PROGRAM-DATE-TIME tag"}),this.lastProgramDateTime=null,this.trigger("end")}addParser(e){this.parseStream.addParser(e)}addTagMapper(e){this.parseStream.addTagMapper(e)}}var Cd={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},Dfe=["video","audio","text"],K4=["Video","Audio","Text"],OF=function(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(n,r,s){var i=("00"+Number(r).toString(16)).slice(-2),a=("00"+Number(s).toString(16)).slice(-2);return"avc1."+i+"00"+a})},qo=function(e){e===void 0&&(e="");var n=e.split(","),r=[];return n.forEach(function(s){s=s.trim();var i;Dfe.forEach(function(a){var l=Cd[a].exec(s.toLowerCase());if(!(!l||l.length<=1)){i=a;var c=s.substring(0,l[1].length),u=s.replace(c,"");r.push({type:c,details:u,mediaType:a})}}),i||r.push({type:s,details:"",mediaType:"unknown"})}),r},Pfe=function(e,n){if(!e.mediaGroups.AUDIO||!n)return null;var r=e.mediaGroups.AUDIO[n];if(!r)return null;for(var s in r){var i=r[s];if(i.default&&i.playlists)return qo(i.playlists[0].attributes.CODECS)}return null},MF=function(e){return e===void 0&&(e=""),Cd.audio.test(e.trim().toLowerCase())},Ife=function(e){return e===void 0&&(e=""),Cd.text.test(e.trim().toLowerCase())},Af=function(e){if(!(!e||typeof e!="string")){var n=e.toLowerCase().split(",").map(function(i){return OF(i.trim())}),r="video";n.length===1&&MF(n[0])?r="audio":n.length===1&&Ife(n[0])&&(r="application");var s="mp4";return n.every(function(i){return Cd.mp4.test(i)})?s="mp4":n.every(function(i){return Cd.webm.test(i)})?s="webm":n.every(function(i){return Cd.ogg.test(i)})&&(s="ogg"),r+"/"+s+';codecs="'+e+'"'}},Hm=function(e,n){return e===void 0&&(e=""),n===void 0&&(n=!1),Se.MediaSource&&Se.MediaSource.isTypeSupported&&Se.MediaSource.isTypeSupported(Af(e))||n&&Se.ManagedMediaSource&&Se.ManagedMediaSource.isTypeSupported&&Se.ManagedMediaSource.isTypeSupported(Af(e))||!1},H2=function(e){return e===void 0&&(e=""),e.toLowerCase().split(",").every(function(n){n=n.trim();for(var r=0;r<K4.length;r++){var s=K4[r];if(Cd["muxer"+s].test(n))return!0}return!1})},X4="mp4a.40.2",Ofe="avc1.4d400d",Mfe=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,Rfe=/^application\/dash\+xml/i,RF=function(e){return Mfe.test(e)?"hls":Rfe.test(e)?"dash":e==="application/vnd.videojs.vhs+json"?"vhs-json":null},Lfe=function(e){return e.toString(2).length},Ffe=function(e){return Math.ceil(Lfe(e)/8)},LF=function(e){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},Bfe=function(e){return LF(e)},ln=function(e){return e instanceof Uint8Array?e:(!Array.isArray(e)&&!Bfe(e)&&!(e instanceof ArrayBuffer)&&(typeof e!="number"||typeof e=="number"&&e!==e?e=0:e=[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},Is=Se.BigInt||Number,VC=[Is("0x1"),Is("0x100"),Is("0x10000"),Is("0x1000000"),Is("0x100000000"),Is("0x10000000000"),Is("0x1000000000000"),Is("0x100000000000000"),Is("0x10000000000000000")];(function(){var t=new Uint16Array([65484]),e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"})();var $fe=function(e,n){var r=n===void 0?{}:n,s=r.signed,i=s===void 0?!1:s,a=r.le,l=a===void 0?!1:a;e=ln(e);var c=l?"reduce":"reduceRight",u=e[c]?e[c]:Array.prototype[c],h=u.call(e,function(m,g,b){var y=l?b:Math.abs(b+1-e.length);return m+Is(g)*VC[y]},Is(0));if(i){var f=VC[e.length]/Is(2)-Is(1);h=Is(h),h>f&&(h-=f,h-=f,h-=Is(2))}return Number(h)},zfe=function(e,n){var r={},s=r.le,i=s===void 0?!1:s;(typeof e!="bigint"&&typeof e!="number"||typeof e=="number"&&e!==e)&&(e=0),e=Is(e);for(var a=Ffe(e),l=new Uint8Array(new ArrayBuffer(a)),c=0;c<a;c++){var u=i?c:Math.abs(c+1-l.length);l[u]=Number(e/VC[c]&Is(255)),e<0&&(l[u]=Math.abs(~l[u]),l[u]-=c===0?1:2)}return l},FF=function(e,n){if(typeof e!="string"&&e&&typeof e.toString=="function"&&(e=e.toString()),typeof e!="string")return new Uint8Array;n||(e=unescape(encodeURIComponent(e)));for(var r=new Uint8Array(e.length),s=0;s<e.length;s++)r[s]=e.charCodeAt(s);return r},Ufe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n=n.filter(function(l){return l&&(l.byteLength||l.length)&&typeof l!="string"}),n.length<=1)return ln(n[0]);var s=n.reduce(function(l,c,u){return l+(c.byteLength||c.length)},0),i=new Uint8Array(s),a=0;return n.forEach(function(l){l=ln(l),i.set(l,a),a+=l.byteLength}),i},jr=function(e,n,r){var s=r===void 0?{}:r,i=s.offset,a=i===void 0?0:i,l=s.mask,c=l===void 0?[]:l;e=ln(e),n=ln(n);var u=n.every?n.every:Array.prototype.every;return n.length&&e.length-a>=n.length&&u.call(n,function(h,f){var m=c[f]?c[f]&e[a+f]:e[a+f];return h===m})},W2={exports:{}},Q4;function Hfe(){return Q4||(Q4=1,function(t,e){(function(n){var r=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,s=/^(?=([^\/?#]*))\1([^]*)$/,i=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,l={buildAbsoluteURL:function(c,u,h){if(h=h||{},c=c.trim(),u=u.trim(),!u){if(!h.alwaysNormalize)return c;var f=l.parseURL(c);if(!f)throw new Error("Error trying to parse base URL.");return f.path=l.normalizePath(f.path),l.buildURLFromParts(f)}var m=l.parseURL(u);if(!m)throw new Error("Error trying to parse relative URL.");if(m.scheme)return h.alwaysNormalize?(m.path=l.normalizePath(m.path),l.buildURLFromParts(m)):u;var g=l.parseURL(c);if(!g)throw new Error("Error trying to parse base URL.");if(!g.netLoc&&g.path&&g.path[0]!=="/"){var b=s.exec(g.path);g.netLoc=b[1],g.path=b[2]}g.netLoc&&!g.path&&(g.path="/");var y={scheme:g.scheme,netLoc:m.netLoc,path:null,params:m.params,query:m.query,fragment:m.fragment};if(!m.netLoc&&(y.netLoc=g.netLoc,m.path[0]!=="/"))if(!m.path)y.path=g.path,m.params||(y.params=g.params,m.query||(y.query=g.query));else{var x=g.path,w=x.substring(0,x.lastIndexOf("/")+1)+m.path;y.path=l.normalizePath(w)}return y.path===null&&(y.path=h.alwaysNormalize?l.normalizePath(m.path):m.path),l.buildURLFromParts(y)},parseURL:function(c){var u=r.exec(c);return u?{scheme:u[1]||"",netLoc:u[2]||"",path:u[3]||"",params:u[4]||"",query:u[5]||"",fragment:u[6]||""}:null},normalizePath:function(c){for(c=c.split("").reverse().join("").replace(i,"");c.length!==(c=c.replace(a,"")).length;);return c.split("").reverse().join("")},buildURLFromParts:function(c){return c.scheme+c.netLoc+c.path+c.params+c.query+c.fragment}};t.exports=l})()}(W2)),W2.exports}var Wfe=Hfe();const Z4=Jr(Wfe);var J4="http://example.com",KE=function(e,n){if(/^[a-z]+:/i.test(n))return n;/^data:/.test(e)&&(e=Se.location&&Se.location.href||"");var r=typeof Se.URL=="function",s=/^\/\//.test(e),i=!Se.location&&!/\/\//i.test(e);if(r?e=new Se.URL(e,Se.location||J4):/\/\//i.test(e)||(e=Z4.buildAbsoluteURL(Se.location&&Se.location.href||"",e)),r){var a=new URL(n,e);return i?a.href.slice(J4.length):s?a.href.slice(a.protocol.length):a.href}return Z4.buildAbsoluteURL(e,n)},Vfe=function(e,n,r){n.forEach(function(s){for(var i in e.mediaGroups[s])for(var a in e.mediaGroups[s][i]){var l=e.mediaGroups[s][i][a];r(l,s,i,a)}})},qfe=function(e){return Se.atob?Se.atob(e):Buffer.from(e,"base64").toString("binary")};function Yfe(t){for(var e=qfe(t),n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var um={},Rl={},Ju={},eP;function k1(){if(eP)return Ju;eP=1;function t(i,a,l){if(l===void 0&&(l=Array.prototype),i&&typeof l.find=="function")return l.find.call(i,a);for(var c=0;c<i.length;c++)if(Object.prototype.hasOwnProperty.call(i,c)){var u=i[c];if(a.call(void 0,u,c,i))return u}}function e(i,a){return a===void 0&&(a=Object),a&&typeof a.freeze=="function"?a.freeze(i):i}function n(i,a){if(i===null||typeof i!="object")throw new TypeError("target is not an object");for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(i[l]=a[l]);return i}var r=e({HTML:"text/html",isHTML:function(i){return i===r.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),s=e({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(i){return i===s.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return Ju.assign=n,Ju.find=t,Ju.freeze=e,Ju.MIME_TYPE=r,Ju.NAMESPACE=s,Ju}var tP;function BF(){if(tP)return Rl;tP=1;var t=k1(),e=t.find,n=t.NAMESPACE;function r(Z){return Z!==""}function s(Z){return Z?Z.split(/[\t\n\f\r ]+/).filter(r):[]}function i(Z,ae){return Z.hasOwnProperty(ae)||(Z[ae]=!0),Z}function a(Z){if(!Z)return[];var ae=s(Z);return Object.keys(ae.reduce(i,{}))}function l(Z){return function(ae){return Z&&Z.indexOf(ae)!==-1}}function c(Z,ae){for(var me in Z)Object.prototype.hasOwnProperty.call(Z,me)&&(ae[me]=Z[me])}function u(Z,ae){var me=Z.prototype;if(!(me instanceof ae)){let oe=function(){};oe.prototype=ae.prototype,oe=new oe,c(me,oe),Z.prototype=me=oe}me.constructor!=Z&&(typeof Z!="function"&&console.error("unknown Class:"+Z),me.constructor=Z)}var h={},f=h.ELEMENT_NODE=1,m=h.ATTRIBUTE_NODE=2,g=h.TEXT_NODE=3,b=h.CDATA_SECTION_NODE=4,y=h.ENTITY_REFERENCE_NODE=5,x=h.ENTITY_NODE=6,w=h.PROCESSING_INSTRUCTION_NODE=7,C=h.COMMENT_NODE=8,k=h.DOCUMENT_NODE=9,A=h.DOCUMENT_TYPE_NODE=10,N=h.DOCUMENT_FRAGMENT_NODE=11,P=h.NOTATION_NODE=12,M={},L={};M.INDEX_SIZE_ERR=(L[1]="Index size error",1),M.DOMSTRING_SIZE_ERR=(L[2]="DOMString size error",2);var D=M.HIERARCHY_REQUEST_ERR=(L[3]="Hierarchy request error",3);M.WRONG_DOCUMENT_ERR=(L[4]="Wrong document",4),M.INVALID_CHARACTER_ERR=(L[5]="Invalid character",5),M.NO_DATA_ALLOWED_ERR=(L[6]="No data allowed",6),M.NO_MODIFICATION_ALLOWED_ERR=(L[7]="No modification allowed",7);var S=M.NOT_FOUND_ERR=(L[8]="Not found",8);M.NOT_SUPPORTED_ERR=(L[9]="Not supported",9);var z=M.INUSE_ATTRIBUTE_ERR=(L[10]="Attribute in use",10);M.INVALID_STATE_ERR=(L[11]="Invalid state",11),M.SYNTAX_ERR=(L[12]="Syntax error",12),M.INVALID_MODIFICATION_ERR=(L[13]="Invalid modification",13),M.NAMESPACE_ERR=(L[14]="Invalid namespace",14),M.INVALID_ACCESS_ERR=(L[15]="Invalid access",15);function O(Z,ae){if(ae instanceof Error)var me=ae;else me=this,Error.call(this,L[Z]),this.message=L[Z],Error.captureStackTrace&&Error.captureStackTrace(this,O);return me.code=Z,ae&&(this.message=this.message+": "+ae),me}O.prototype=Error.prototype,c(M,O);function U(){}U.prototype={length:0,item:function(Z){return Z>=0&&Z<this.length?this[Z]:null},toString:function(Z,ae){for(var me=[],oe=0;oe<this.length;oe++)We(this[oe],me,Z,ae);return me.join("")},filter:function(Z){return Array.prototype.filter.call(this,Z)},indexOf:function(Z){return Array.prototype.indexOf.call(this,Z)}};function j(Z,ae){this._node=Z,this._refresh=ae,V(this)}function V(Z){var ae=Z._node._inc||Z._node.ownerDocument._inc;if(Z._inc!==ae){var me=Z._refresh(Z._node);if(Ze(Z,"length",me.length),!Z.$$length||me.length<Z.$$length)for(var oe=me.length;oe in Z;oe++)Object.prototype.hasOwnProperty.call(Z,oe)&&delete Z[oe];c(me,Z),Z._inc=ae}}j.prototype.item=function(Z){return V(this),this[Z]||null},u(j,U);function K(){}function te(Z,ae){for(var me=Z.length;me--;)if(Z[me]===ae)return me}function J(Z,ae,me,oe){if(oe?ae[te(ae,oe)]=me:ae[ae.length++]=me,Z){me.ownerElement=Z;var Ne=Z.ownerDocument;Ne&&(oe&&ve(Ne,Z,oe),fe(Ne,Z,me))}}function X(Z,ae,me){var oe=te(ae,me);if(oe>=0){for(var Ne=ae.length-1;oe<Ne;)ae[oe]=ae[++oe];if(ae.length=Ne,Z){var xt=Z.ownerDocument;xt&&(ve(xt,Z,me),me.ownerElement=null)}}else throw new O(S,new Error(Z.tagName+"@"+me))}K.prototype={length:0,item:U.prototype.item,getNamedItem:function(Z){for(var ae=this.length;ae--;){var me=this[ae];if(me.nodeName==Z)return me}},setNamedItem:function(Z){var ae=Z.ownerElement;if(ae&&ae!=this._ownerElement)throw new O(z);var me=this.getNamedItem(Z.nodeName);return J(this._ownerElement,this,Z,me),me},setNamedItemNS:function(Z){var ae=Z.ownerElement,me;if(ae&&ae!=this._ownerElement)throw new O(z);return me=this.getNamedItemNS(Z.namespaceURI,Z.localName),J(this._ownerElement,this,Z,me),me},removeNamedItem:function(Z){var ae=this.getNamedItem(Z);return X(this._ownerElement,this,ae),ae},removeNamedItemNS:function(Z,ae){var me=this.getNamedItemNS(Z,ae);return X(this._ownerElement,this,me),me},getNamedItemNS:function(Z,ae){for(var me=this.length;me--;){var oe=this[me];if(oe.localName==ae&&oe.namespaceURI==Z)return oe}return null}};function Y(){}Y.prototype={hasFeature:function(Z,ae){return!0},createDocument:function(Z,ae,me){var oe=new ee;if(oe.implementation=this,oe.childNodes=new U,oe.doctype=me||null,me&&oe.appendChild(me),ae){var Ne=oe.createElementNS(Z,ae);oe.appendChild(Ne)}return oe},createDocumentType:function(Z,ae,me){var oe=new at;return oe.name=Z,oe.nodeName=Z,oe.publicId=ae||"",oe.systemId=me||"",oe}};function F(){}F.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(Z,ae){return ce(this,Z,ae)},replaceChild:function(Z,ae){ce(this,Z,ae,ne),ae&&this.removeChild(ae)},removeChild:function(Z){return De(this,Z)},appendChild:function(Z){return this.insertBefore(Z,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(Z){return Ye(this.ownerDocument||this,this,Z)},normalize:function(){for(var Z=this.firstChild;Z;){var ae=Z.nextSibling;ae&&ae.nodeType==g&&Z.nodeType==g?(this.removeChild(ae),Z.appendData(ae.data)):(Z.normalize(),Z=ae)}},isSupported:function(Z,ae){return this.ownerDocument.implementation.hasFeature(Z,ae)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(Z){for(var ae=this;ae;){var me=ae._nsMap;if(me){for(var oe in me)if(Object.prototype.hasOwnProperty.call(me,oe)&&me[oe]===Z)return oe}ae=ae.nodeType==m?ae.ownerDocument:ae.parentNode}return null},lookupNamespaceURI:function(Z){for(var ae=this;ae;){var me=ae._nsMap;if(me&&Object.prototype.hasOwnProperty.call(me,Z))return me[Z];ae=ae.nodeType==m?ae.ownerDocument:ae.parentNode}return null},isDefaultNamespace:function(Z){var ae=this.lookupPrefix(Z);return ae==null}};function H(Z){return Z=="<"&&"&lt;"||Z==">"&&"&gt;"||Z=="&"&&"&amp;"||Z=='"'&&"&quot;"||"&#"+Z.charCodeAt()+";"}c(h,F),c(h,F.prototype);function de(Z,ae){if(ae(Z))return!0;if(Z=Z.firstChild)do if(de(Z,ae))return!0;while(Z=Z.nextSibling)}function ee(){this.ownerDocument=this}function fe(Z,ae,me){Z&&Z._inc++;var oe=me.namespaceURI;oe===n.XMLNS&&(ae._nsMap[me.prefix?me.localName:""]=me.value)}function ve(Z,ae,me,oe){Z&&Z._inc++;var Ne=me.namespaceURI;Ne===n.XMLNS&&delete ae._nsMap[me.prefix?me.localName:""]}function Ce(Z,ae,me){if(Z&&Z._inc){Z._inc++;var oe=ae.childNodes;if(me)oe[oe.length++]=me;else{for(var Ne=ae.firstChild,xt=0;Ne;)oe[xt++]=Ne,Ne=Ne.nextSibling;oe.length=xt,delete oe[oe.length]}}}function De(Z,ae){var me=ae.previousSibling,oe=ae.nextSibling;return me?me.nextSibling=oe:Z.firstChild=oe,oe?oe.previousSibling=me:Z.lastChild=me,ae.parentNode=null,ae.previousSibling=null,ae.nextSibling=null,Ce(Z.ownerDocument,Z),ae}function Ee(Z){return Z&&(Z.nodeType===F.DOCUMENT_NODE||Z.nodeType===F.DOCUMENT_FRAGMENT_NODE||Z.nodeType===F.ELEMENT_NODE)}function Be(Z){return Z&&(rt(Z)||it(Z)||Ve(Z)||Z.nodeType===F.DOCUMENT_FRAGMENT_NODE||Z.nodeType===F.COMMENT_NODE||Z.nodeType===F.PROCESSING_INSTRUCTION_NODE)}function Ve(Z){return Z&&Z.nodeType===F.DOCUMENT_TYPE_NODE}function rt(Z){return Z&&Z.nodeType===F.ELEMENT_NODE}function it(Z){return Z&&Z.nodeType===F.TEXT_NODE}function G(Z,ae){var me=Z.childNodes||[];if(e(me,rt)||Ve(ae))return!1;var oe=e(me,Ve);return!(ae&&oe&&me.indexOf(oe)>me.indexOf(ae))}function Ae(Z,ae){var me=Z.childNodes||[];function oe(xt){return rt(xt)&&xt!==ae}if(e(me,oe))return!1;var Ne=e(me,Ve);return!(ae&&Ne&&me.indexOf(Ne)>me.indexOf(ae))}function be(Z,ae,me){if(!Ee(Z))throw new O(D,"Unexpected parent node type "+Z.nodeType);if(me&&me.parentNode!==Z)throw new O(S,"child not in parent");if(!Be(ae)||Ve(ae)&&Z.nodeType!==F.DOCUMENT_NODE)throw new O(D,"Unexpected node type "+ae.nodeType+" for parent node type "+Z.nodeType)}function re(Z,ae,me){var oe=Z.childNodes||[],Ne=ae.childNodes||[];if(ae.nodeType===F.DOCUMENT_FRAGMENT_NODE){var xt=Ne.filter(rt);if(xt.length>1||e(Ne,it))throw new O(D,"More than one element or text in fragment");if(xt.length===1&&!G(Z,me))throw new O(D,"Element in fragment can not be inserted before doctype")}if(rt(ae)&&!G(Z,me))throw new O(D,"Only one element can be added and only after doctype");if(Ve(ae)){if(e(oe,Ve))throw new O(D,"Only one doctype is allowed");var At=e(oe,rt);if(me&&oe.indexOf(At)<oe.indexOf(me))throw new O(D,"Doctype can only be inserted before an element");if(!me&&At)throw new O(D,"Doctype can not be appended since element is present")}}function ne(Z,ae,me){var oe=Z.childNodes||[],Ne=ae.childNodes||[];if(ae.nodeType===F.DOCUMENT_FRAGMENT_NODE){var xt=Ne.filter(rt);if(xt.length>1||e(Ne,it))throw new O(D,"More than one element or text in fragment");if(xt.length===1&&!Ae(Z,me))throw new O(D,"Element in fragment can not be inserted before doctype")}if(rt(ae)&&!Ae(Z,me))throw new O(D,"Only one element can be added and only after doctype");if(Ve(ae)){if(e(oe,function(wt){return Ve(wt)&&wt!==me}))throw new O(D,"Only one doctype is allowed");var At=e(oe,rt);if(me&&oe.indexOf(At)<oe.indexOf(me))throw new O(D,"Doctype can only be inserted before an element")}}function ce(Z,ae,me,oe){be(Z,ae,me),Z.nodeType===F.DOCUMENT_NODE&&(oe||re)(Z,ae,me);var Ne=ae.parentNode;if(Ne&&Ne.removeChild(ae),ae.nodeType===N){var xt=ae.firstChild;if(xt==null)return ae;var At=ae.lastChild}else xt=At=ae;var $t=me?me.previousSibling:Z.lastChild;xt.previousSibling=$t,At.nextSibling=me,$t?$t.nextSibling=xt:Z.firstChild=xt,me==null?Z.lastChild=At:me.previousSibling=At;do xt.parentNode=Z;while(xt!==At&&(xt=xt.nextSibling));return Ce(Z.ownerDocument||Z,Z),ae.nodeType==N&&(ae.firstChild=ae.lastChild=null),ae}function Te(Z,ae){return ae.parentNode&&ae.parentNode.removeChild(ae),ae.parentNode=Z,ae.previousSibling=Z.lastChild,ae.nextSibling=null,ae.previousSibling?ae.previousSibling.nextSibling=ae:Z.firstChild=ae,Z.lastChild=ae,Ce(Z.ownerDocument,Z,ae),ae}ee.prototype={nodeName:"#document",nodeType:k,doctype:null,documentElement:null,_inc:1,insertBefore:function(Z,ae){if(Z.nodeType==N){for(var me=Z.firstChild;me;){var oe=me.nextSibling;this.insertBefore(me,ae),me=oe}return Z}return ce(this,Z,ae),Z.ownerDocument=this,this.documentElement===null&&Z.nodeType===f&&(this.documentElement=Z),Z},removeChild:function(Z){return this.documentElement==Z&&(this.documentElement=null),De(this,Z)},replaceChild:function(Z,ae){ce(this,Z,ae,ne),Z.ownerDocument=this,ae&&this.removeChild(ae),rt(Z)&&(this.documentElement=Z)},importNode:function(Z,ae){return yt(this,Z,ae)},getElementById:function(Z){var ae=null;return de(this.documentElement,function(me){if(me.nodeType==f&&me.getAttribute("id")==Z)return ae=me,!0}),ae},getElementsByClassName:function(Z){var ae=a(Z);return new j(this,function(me){var oe=[];return ae.length>0&&de(me.documentElement,function(Ne){if(Ne!==me&&Ne.nodeType===f){var xt=Ne.getAttribute("class");if(xt){var At=Z===xt;if(!At){var $t=a(xt);At=ae.every(l($t))}At&&oe.push(Ne)}}}),oe})},createElement:function(Z){var ae=new he;ae.ownerDocument=this,ae.nodeName=Z,ae.tagName=Z,ae.localName=Z,ae.childNodes=new U;var me=ae.attributes=new K;return me._ownerElement=ae,ae},createDocumentFragment:function(){var Z=new ct;return Z.ownerDocument=this,Z.childNodes=new U,Z},createTextNode:function(Z){var ae=new Pe;return ae.ownerDocument=this,ae.appendData(Z),ae},createComment:function(Z){var ae=new Oe;return ae.ownerDocument=this,ae.appendData(Z),ae},createCDATASection:function(Z){var ae=new xe;return ae.ownerDocument=this,ae.appendData(Z),ae},createProcessingInstruction:function(Z,ae){var me=new tt;return me.ownerDocument=this,me.tagName=me.nodeName=me.target=Z,me.nodeValue=me.data=ae,me},createAttribute:function(Z){var ae=new se;return ae.ownerDocument=this,ae.name=Z,ae.nodeName=Z,ae.localName=Z,ae.specified=!0,ae},createEntityReference:function(Z){var ae=new Le;return ae.ownerDocument=this,ae.nodeName=Z,ae},createElementNS:function(Z,ae){var me=new he,oe=ae.split(":"),Ne=me.attributes=new K;return me.childNodes=new U,me.ownerDocument=this,me.nodeName=ae,me.tagName=ae,me.namespaceURI=Z,oe.length==2?(me.prefix=oe[0],me.localName=oe[1]):me.localName=ae,Ne._ownerElement=me,me},createAttributeNS:function(Z,ae){var me=new se,oe=ae.split(":");return me.ownerDocument=this,me.nodeName=ae,me.name=ae,me.namespaceURI=Z,me.specified=!0,oe.length==2?(me.prefix=oe[0],me.localName=oe[1]):me.localName=ae,me}},u(ee,F);function he(){this._nsMap={}}he.prototype={nodeType:f,hasAttribute:function(Z){return this.getAttributeNode(Z)!=null},getAttribute:function(Z){var ae=this.getAttributeNode(Z);return ae&&ae.value||""},getAttributeNode:function(Z){return this.attributes.getNamedItem(Z)},setAttribute:function(Z,ae){var me=this.ownerDocument.createAttribute(Z);me.value=me.nodeValue=""+ae,this.setAttributeNode(me)},removeAttribute:function(Z){var ae=this.getAttributeNode(Z);ae&&this.removeAttributeNode(ae)},appendChild:function(Z){return Z.nodeType===N?this.insertBefore(Z,null):Te(this,Z)},setAttributeNode:function(Z){return this.attributes.setNamedItem(Z)},setAttributeNodeNS:function(Z){return this.attributes.setNamedItemNS(Z)},removeAttributeNode:function(Z){return this.attributes.removeNamedItem(Z.nodeName)},removeAttributeNS:function(Z,ae){var me=this.getAttributeNodeNS(Z,ae);me&&this.removeAttributeNode(me)},hasAttributeNS:function(Z,ae){return this.getAttributeNodeNS(Z,ae)!=null},getAttributeNS:function(Z,ae){var me=this.getAttributeNodeNS(Z,ae);return me&&me.value||""},setAttributeNS:function(Z,ae,me){var oe=this.ownerDocument.createAttributeNS(Z,ae);oe.value=oe.nodeValue=""+me,this.setAttributeNode(oe)},getAttributeNodeNS:function(Z,ae){return this.attributes.getNamedItemNS(Z,ae)},getElementsByTagName:function(Z){return new j(this,function(ae){var me=[];return de(ae,function(oe){oe!==ae&&oe.nodeType==f&&(Z==="*"||oe.tagName==Z)&&me.push(oe)}),me})},getElementsByTagNameNS:function(Z,ae){return new j(this,function(me){var oe=[];return de(me,function(Ne){Ne!==me&&Ne.nodeType===f&&(Z==="*"||Ne.namespaceURI===Z)&&(ae==="*"||Ne.localName==ae)&&oe.push(Ne)}),oe})}},ee.prototype.getElementsByTagName=he.prototype.getElementsByTagName,ee.prototype.getElementsByTagNameNS=he.prototype.getElementsByTagNameNS,u(he,F);function se(){}se.prototype.nodeType=m,u(se,F);function ye(){}ye.prototype={data:"",substringData:function(Z,ae){return this.data.substring(Z,Z+ae)},appendData:function(Z){Z=this.data+Z,this.nodeValue=this.data=Z,this.length=Z.length},insertData:function(Z,ae){this.replaceData(Z,0,ae)},appendChild:function(Z){throw new Error(L[D])},deleteData:function(Z,ae){this.replaceData(Z,ae,"")},replaceData:function(Z,ae,me){var oe=this.data.substring(0,Z),Ne=this.data.substring(Z+ae);me=oe+me+Ne,this.nodeValue=this.data=me,this.length=me.length}},u(ye,F);function Pe(){}Pe.prototype={nodeName:"#text",nodeType:g,splitText:function(Z){var ae=this.data,me=ae.substring(Z);ae=ae.substring(0,Z),this.data=this.nodeValue=ae,this.length=ae.length;var oe=this.ownerDocument.createTextNode(me);return this.parentNode&&this.parentNode.insertBefore(oe,this.nextSibling),oe}},u(Pe,ye);function Oe(){}Oe.prototype={nodeName:"#comment",nodeType:C},u(Oe,ye);function xe(){}xe.prototype={nodeName:"#cdata-section",nodeType:b},u(xe,ye);function at(){}at.prototype.nodeType=A,u(at,F);function lt(){}lt.prototype.nodeType=P,u(lt,F);function ze(){}ze.prototype.nodeType=x,u(ze,F);function Le(){}Le.prototype.nodeType=y,u(Le,F);function ct(){}ct.prototype.nodeName="#document-fragment",ct.prototype.nodeType=N,u(ct,F);function tt(){}tt.prototype.nodeType=w,u(tt,F);function He(){}He.prototype.serializeToString=function(Z,ae,me){return gt.call(Z,ae,me)},F.prototype.toString=gt;function gt(Z,ae){var me=[],oe=this.nodeType==9&&this.documentElement||this,Ne=oe.prefix,xt=oe.namespaceURI;if(xt&&Ne==null){var Ne=oe.lookupPrefix(xt);if(Ne==null)var At=[{namespace:xt,prefix:null}]}return We(this,me,Z,ae,At),me.join("")}function ie(Z,ae,me){var oe=Z.prefix||"",Ne=Z.namespaceURI;if(!Ne||oe==="xml"&&Ne===n.XML||Ne===n.XMLNS)return!1;for(var xt=me.length;xt--;){var At=me[xt];if(At.prefix===oe)return At.namespace!==Ne}return!0}function Ie(Z,ae,me){Z.push(" ",ae,'="',me.replace(/[<>&"\t\n\r]/g,H),'"')}function We(Z,ae,me,oe,Ne){if(Ne||(Ne=[]),oe)if(Z=oe(Z),Z){if(typeof Z=="string"){ae.push(Z);return}}else return;switch(Z.nodeType){case f:var xt=Z.attributes,At=xt.length,Vn=Z.firstChild,$t=Z.tagName;me=n.isHTML(Z.namespaceURI)||me;var wt=$t;if(!me&&!Z.prefix&&Z.namespaceURI){for(var Jt,ir=0;ir<xt.length;ir++)if(xt.item(ir).name==="xmlns"){Jt=xt.item(ir).value;break}if(!Jt)for(var Ir=Ne.length-1;Ir>=0;Ir--){var Wn=Ne[Ir];if(Wn.prefix===""&&Wn.namespace===Z.namespaceURI){Jt=Wn.namespace;break}}if(Jt!==Z.namespaceURI)for(var Ir=Ne.length-1;Ir>=0;Ir--){var Wn=Ne[Ir];if(Wn.namespace===Z.namespaceURI){Wn.prefix&&(wt=Wn.prefix+":"+$t);break}}}ae.push("<",wt);for(var Qt=0;Qt<At;Qt++){var gn=xt.item(Qt);gn.prefix=="xmlns"?Ne.push({prefix:gn.localName,namespace:gn.value}):gn.nodeName=="xmlns"&&Ne.push({prefix:"",namespace:gn.value})}for(var Qt=0;Qt<At;Qt++){var gn=xt.item(Qt);if(ie(gn,me,Ne)){var qr=gn.prefix||"",Qs=gn.namespaceURI;Ie(ae,qr?"xmlns:"+qr:"xmlns",Qs),Ne.push({prefix:qr,namespace:Qs})}We(gn,ae,me,oe,Ne)}if($t===wt&&ie(Z,me,Ne)){var qr=Z.prefix||"",Qs=Z.namespaceURI;Ie(ae,qr?"xmlns:"+qr:"xmlns",Qs),Ne.push({prefix:qr,namespace:Qs})}if(Vn||me&&!/^(?:meta|link|img|br|hr|input)$/i.test($t)){if(ae.push(">"),me&&/^script$/i.test($t))for(;Vn;)Vn.data?ae.push(Vn.data):We(Vn,ae,me,oe,Ne.slice()),Vn=Vn.nextSibling;else for(;Vn;)We(Vn,ae,me,oe,Ne.slice()),Vn=Vn.nextSibling;ae.push("</",wt,">")}else ae.push("/>");return;case k:case N:for(var Vn=Z.firstChild;Vn;)We(Vn,ae,me,oe,Ne.slice()),Vn=Vn.nextSibling;return;case m:return Ie(ae,Z.name,Z.value);case g:return ae.push(Z.data.replace(/[<&>]/g,H));case b:return ae.push("<![CDATA[",Z.data,"]]>");case C:return ae.push("<!--",Z.data,"-->");case A:var ns=Z.publicId,Ns=Z.systemId;if(ae.push("<!DOCTYPE ",Z.name),ns)ae.push(" PUBLIC ",ns),Ns&&Ns!="."&&ae.push(" ",Ns),ae.push(">");else if(Ns&&Ns!=".")ae.push(" SYSTEM ",Ns,">");else{var bn=Z.internalSubset;bn&&ae.push(" [",bn,"]"),ae.push(">")}return;case w:return ae.push("<?",Z.target," ",Z.data,"?>");case y:return ae.push("&",Z.nodeName,";");default:ae.push("??",Z.nodeName)}}function yt(Z,ae,me){var oe;switch(ae.nodeType){case f:oe=ae.cloneNode(!1),oe.ownerDocument=Z;case N:break;case m:me=!0;break}if(oe||(oe=ae.cloneNode(!1)),oe.ownerDocument=Z,oe.parentNode=null,me)for(var Ne=ae.firstChild;Ne;)oe.appendChild(yt(Z,Ne,me)),Ne=Ne.nextSibling;return oe}function Ye(Z,ae,me){var oe=new ae.constructor;for(var Ne in ae)if(Object.prototype.hasOwnProperty.call(ae,Ne)){var xt=ae[Ne];typeof xt!="object"&&xt!=oe[Ne]&&(oe[Ne]=xt)}switch(ae.childNodes&&(oe.childNodes=new U),oe.ownerDocument=Z,oe.nodeType){case f:var At=ae.attributes,$t=oe.attributes=new K,wt=At.length;$t._ownerElement=oe;for(var Jt=0;Jt<wt;Jt++)oe.setAttributeNode(Ye(Z,At.item(Jt),!0));break;case m:me=!0}if(me)for(var ir=ae.firstChild;ir;)oe.appendChild(Ye(Z,ir,me)),ir=ir.nextSibling;return oe}function Ze(Z,ae,me){Z[ae]=me}try{if(Object.defineProperty){let Z=function(ae){switch(ae.nodeType){case f:case N:var me=[];for(ae=ae.firstChild;ae;)ae.nodeType!==7&&ae.nodeType!==8&&me.push(Z(ae)),ae=ae.nextSibling;return me.join("");default:return ae.nodeValue}};Object.defineProperty(j.prototype,"length",{get:function(){return V(this),this.$$length}}),Object.defineProperty(F.prototype,"textContent",{get:function(){return Z(this)},set:function(ae){switch(this.nodeType){case f:case N:for(;this.firstChild;)this.removeChild(this.firstChild);(ae||String(ae))&&this.appendChild(this.ownerDocument.createTextNode(ae));break;default:this.data=ae,this.value=ae,this.nodeValue=ae}}}),Ze=function(ae,me,oe){ae["$$"+me]=oe}}}catch{}return Rl.DocumentType=at,Rl.DOMException=O,Rl.DOMImplementation=Y,Rl.Element=he,Rl.Node=F,Rl.NodeList=U,Rl.XMLSerializer=He,Rl}var dm={},V2={},nP;function Gfe(){return nP||(nP=1,function(t){var e=k1().freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),t.entityMap=t.HTML_ENTITIES}(V2)),V2}var mb={},rP;function Kfe(){if(rP)return mb;rP=1;var t=k1().NAMESPACE,e=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,n=new RegExp("[\\-\\.0-9"+e.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),r=new RegExp("^"+e.source+n.source+"*(?::"+e.source+n.source+"*)?$"),s=0,i=1,a=2,l=3,c=4,u=5,h=6,f=7;function m(D,S){this.message=D,this.locator=S,Error.captureStackTrace&&Error.captureStackTrace(this,m)}m.prototype=new Error,m.prototype.name=m.name;function g(){}g.prototype={parse:function(D,S,z){var O=this.domBuilder;O.startDocument(),A(S,S={}),b(D,S,z,O,this.errorHandler),O.endDocument()}};function b(D,S,z,O,U){function j(he){if(he>65535){he-=65536;var se=55296+(he>>10),ye=56320+(he&1023);return String.fromCharCode(se,ye)}else return String.fromCharCode(he)}function V(he){var se=he.slice(1,-1);return Object.hasOwnProperty.call(z,se)?z[se]:se.charAt(0)==="#"?j(parseInt(se.substr(1).replace("x","0x"))):(U.error("entity not found:"+he),he)}function K(he){if(he>ee){var se=D.substring(ee,he).replace(/&#?\w+;/g,V);F&&te(ee),O.characters(se,0,he-ee),ee=he}}function te(he,se){for(;he>=X&&(se=Y.exec(D));)J=se.index,X=J+se[0].length,F.lineNumber++;F.columnNumber=he-J+1}for(var J=0,X=0,Y=/.*(?:\r\n?|\n)|.*$/g,F=O.locator,H=[{currentNSMap:S}],de={},ee=0;;){try{var fe=D.indexOf("<",ee);if(fe<0){if(!D.substr(ee).match(/^\s*$/)){var ve=O.doc,Ce=ve.createTextNode(D.substr(ee));ve.appendChild(Ce),O.currentElement=Ce}return}switch(fe>ee&&K(fe),D.charAt(fe+1)){case"/":var be=D.indexOf(">",fe+3),De=D.substring(fe+2,be).replace(/[ \t\n\r]+$/g,""),Ee=H.pop();be<0?(De=D.substring(fe+2).replace(/[\s<].*/,""),U.error("end tag name: "+De+" is not complete:"+Ee.tagName),be=fe+1+De.length):De.match(/\s</)&&(De=De.replace(/[\s<].*/,""),U.error("end tag name: "+De+" maybe not complete"),be=fe+1+De.length);var Be=Ee.localNSMap,Ve=Ee.tagName==De,rt=Ve||Ee.tagName&&Ee.tagName.toLowerCase()==De.toLowerCase();if(rt){if(O.endElement(Ee.uri,Ee.localName,De),Be)for(var it in Be)Object.prototype.hasOwnProperty.call(Be,it)&&O.endPrefixMapping(it);Ve||U.fatalError("end tag name: "+De+" is not match the current start tagName:"+Ee.tagName)}else H.push(Ee);be++;break;case"?":F&&te(fe),be=P(D,fe,O);break;case"!":F&&te(fe),be=N(D,fe,O,U);break;default:F&&te(fe);var G=new M,Ae=H[H.length-1].currentNSMap,be=x(D,fe,G,Ae,V,U),re=G.length;if(!G.closed&&k(D,be,G.tagName,de)&&(G.closed=!0,z.nbsp||U.warning("unclosed xml attribute")),F&&re){for(var ne=y(F,{}),ce=0;ce<re;ce++){var Te=G[ce];te(Te.offset),Te.locator=y(F,{})}O.locator=ne,w(G,O,Ae)&&H.push(G),O.locator=F}else w(G,O,Ae)&&H.push(G);t.isHTML(G.uri)&&!G.closed?be=C(D,be,G.tagName,V,O):be++}}catch(he){if(he instanceof m)throw he;U.error("element parse error: "+he),be=-1}be>ee?ee=be:K(Math.max(fe,ee)+1)}}function y(D,S){return S.lineNumber=D.lineNumber,S.columnNumber=D.columnNumber,S}function x(D,S,z,O,U,j){function V(F,H,de){z.attributeNames.hasOwnProperty(F)&&j.fatalError("Attribute "+F+" redefined"),z.addValue(F,H.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,U),de)}for(var K,te,J=++S,X=s;;){var Y=D.charAt(J);switch(Y){case"=":if(X===i)K=D.slice(S,J),X=l;else if(X===a)X=l;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(X===l||X===i)if(X===i&&(j.warning('attribute value must after "="'),K=D.slice(S,J)),S=J+1,J=D.indexOf(Y,S),J>0)te=D.slice(S,J),V(K,te,S-1),X=u;else throw new Error("attribute value no end '"+Y+"' match");else if(X==c)te=D.slice(S,J),V(K,te,S),j.warning('attribute "'+K+'" missed start quot('+Y+")!!"),S=J+1,X=u;else throw new Error('attribute value must after "="');break;case"/":switch(X){case s:z.setTagName(D.slice(S,J));case u:case h:case f:X=f,z.closed=!0;case c:case i:break;case a:z.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return j.error("unexpected end of input"),X==s&&z.setTagName(D.slice(S,J)),J;case">":switch(X){case s:z.setTagName(D.slice(S,J));case u:case h:case f:break;case c:case i:te=D.slice(S,J),te.slice(-1)==="/"&&(z.closed=!0,te=te.slice(0,-1));case a:X===a&&(te=K),X==c?(j.warning('attribute "'+te+'" missed quot(")!'),V(K,te,S)):((!t.isHTML(O[""])||!te.match(/^(?:disabled|checked|selected)$/i))&&j.warning('attribute "'+te+'" missed value!! "'+te+'" instead!!'),V(te,te,S));break;case l:throw new Error("attribute value missed!!")}return J;case"":Y=" ";default:if(Y<=" ")switch(X){case s:z.setTagName(D.slice(S,J)),X=h;break;case i:K=D.slice(S,J),X=a;break;case c:var te=D.slice(S,J);j.warning('attribute "'+te+'" missed quot(")!!'),V(K,te,S);case u:X=h;break}else switch(X){case a:z.tagName,(!t.isHTML(O[""])||!K.match(/^(?:disabled|checked|selected)$/i))&&j.warning('attribute "'+K+'" missed value!! "'+K+'" instead2!!'),V(K,K,S),S=J,X=i;break;case u:j.warning('attribute space is required"'+K+'"!!');case h:X=i,S=J;break;case l:X=c,S=J;break;case f:throw new Error("elements closed character '/' and '>' must be connected to")}}J++}}function w(D,S,z){for(var O=D.tagName,U=null,Y=D.length;Y--;){var j=D[Y],V=j.qName,K=j.value,F=V.indexOf(":");if(F>0)var te=j.prefix=V.slice(0,F),J=V.slice(F+1),X=te==="xmlns"&&J;else J=V,te=null,X=V==="xmlns"&&"";j.localName=J,X!==!1&&(U==null&&(U={},A(z,z={})),z[X]=U[X]=K,j.uri=t.XMLNS,S.startPrefixMapping(X,K))}for(var Y=D.length;Y--;){j=D[Y];var te=j.prefix;te&&(te==="xml"&&(j.uri=t.XML),te!=="xmlns"&&(j.uri=z[te||""]))}var F=O.indexOf(":");F>0?(te=D.prefix=O.slice(0,F),J=D.localName=O.slice(F+1)):(te=null,J=D.localName=O);var H=D.uri=z[te||""];if(S.startElement(H,J,O,D),D.closed){if(S.endElement(H,J,O),U)for(te in U)Object.prototype.hasOwnProperty.call(U,te)&&S.endPrefixMapping(te)}else return D.currentNSMap=z,D.localNSMap=U,!0}function C(D,S,z,O,U){if(/^(?:script|textarea)$/i.test(z)){var j=D.indexOf("</"+z+">",S),V=D.substring(S+1,j);if(/[&<]/.test(V))return/^script$/i.test(z)?(U.characters(V,0,V.length),j):(V=V.replace(/&#?\w+;/g,O),U.characters(V,0,V.length),j)}return S+1}function k(D,S,z,O){var U=O[z];return U==null&&(U=D.lastIndexOf("</"+z+">"),U<S&&(U=D.lastIndexOf("</"+z)),O[z]=U),U<S}function A(D,S){for(var z in D)Object.prototype.hasOwnProperty.call(D,z)&&(S[z]=D[z])}function N(D,S,z,O){var U=D.charAt(S+2);switch(U){case"-":if(D.charAt(S+3)==="-"){var j=D.indexOf("-->",S+4);return j>S?(z.comment(D,S+4,j-S-4),j+3):(O.error("Unclosed comment"),-1)}else return-1;default:if(D.substr(S+3,6)=="CDATA["){var j=D.indexOf("]]>",S+9);return z.startCDATA(),z.characters(D,S+9,j-S-9),z.endCDATA(),j+3}var V=L(D,S),K=V.length;if(K>1&&/!doctype/i.test(V[0][0])){var te=V[1][0],J=!1,X=!1;K>3&&(/^public$/i.test(V[2][0])?(J=V[3][0],X=K>4&&V[4][0]):/^system$/i.test(V[2][0])&&(X=V[3][0]));var Y=V[K-1];return z.startDTD(te,J,X),z.endDTD(),Y.index+Y[0].length}}return-1}function P(D,S,z){var O=D.indexOf("?>",S);if(O){var U=D.substring(S,O).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return U?(U[0].length,z.processingInstruction(U[1],U[2]),O+2):-1}return-1}function M(){this.attributeNames={}}M.prototype={setTagName:function(D){if(!r.test(D))throw new Error("invalid tagName:"+D);this.tagName=D},addValue:function(D,S,z){if(!r.test(D))throw new Error("invalid attribute:"+D);this.attributeNames[D]=this.length,this[this.length++]={qName:D,value:S,offset:z}},length:0,getLocalName:function(D){return this[D].localName},getLocator:function(D){return this[D].locator},getQName:function(D){return this[D].qName},getURI:function(D){return this[D].uri},getValue:function(D){return this[D].value}};function L(D,S){var z,O=[],U=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(U.lastIndex=S,U.exec(D);z=U.exec(D);)if(O.push(z),z[1])return O}return mb.XMLReader=g,mb.ParseError=m,mb}var sP;function Xfe(){if(sP)return dm;sP=1;var t=k1(),e=BF(),n=Gfe(),r=Kfe(),s=e.DOMImplementation,i=t.NAMESPACE,a=r.ParseError,l=r.XMLReader;function c(x){return x.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function u(x){this.options=x||{locator:{}}}u.prototype.parseFromString=function(x,w){var C=this.options,k=new l,A=C.domBuilder||new f,N=C.errorHandler,P=C.locator,M=C.xmlns||{},L=/\/x?html?$/.test(w),D=L?n.HTML_ENTITIES:n.XML_ENTITIES;P&&A.setDocumentLocator(P),k.errorHandler=h(N,A,P),k.domBuilder=C.domBuilder||A,L&&(M[""]=i.HTML),M.xml=M.xml||i.XML;var S=C.normalizeLineEndings||c;return x&&typeof x=="string"?k.parse(S(x),M,D):k.errorHandler.error("invalid doc source"),A.doc};function h(x,w,C){if(!x){if(w instanceof f)return w;x=w}var k={},A=x instanceof Function;C=C||{};function N(P){var M=x[P];!M&&A&&(M=x.length==2?function(L){x(P,L)}:x),k[P]=M&&function(L){M("[xmldom "+P+"]	"+L+g(C))}||function(){}}return N("warning"),N("error"),N("fatalError"),k}function f(){this.cdata=!1}function m(x,w){w.lineNumber=x.lineNumber,w.columnNumber=x.columnNumber}f.prototype={startDocument:function(){this.doc=new s().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(x,w,C,k){var A=this.doc,N=A.createElementNS(x,C||w),P=k.length;y(this,N),this.currentElement=N,this.locator&&m(this.locator,N);for(var M=0;M<P;M++){var x=k.getURI(M),L=k.getValue(M),C=k.getQName(M),D=A.createAttributeNS(x,C);this.locator&&m(k.getLocator(M),D),D.value=D.nodeValue=L,N.setAttributeNode(D)}},endElement:function(x,w,C){var k=this.currentElement;k.tagName,this.currentElement=k.parentNode},startPrefixMapping:function(x,w){},endPrefixMapping:function(x){},processingInstruction:function(x,w){var C=this.doc.createProcessingInstruction(x,w);this.locator&&m(this.locator,C),y(this,C)},ignorableWhitespace:function(x,w,C){},characters:function(x,w,C){if(x=b.apply(this,arguments),x){if(this.cdata)var k=this.doc.createCDATASection(x);else var k=this.doc.createTextNode(x);this.currentElement?this.currentElement.appendChild(k):/^\s*$/.test(x)&&this.doc.appendChild(k),this.locator&&m(this.locator,k)}},skippedEntity:function(x){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(x){(this.locator=x)&&(x.lineNumber=0)},comment:function(x,w,C){x=b.apply(this,arguments);var k=this.doc.createComment(x);this.locator&&m(this.locator,k),y(this,k)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(x,w,C){var k=this.doc.implementation;if(k&&k.createDocumentType){var A=k.createDocumentType(x,w,C);this.locator&&m(this.locator,A),y(this,A),this.doc.doctype=A}},warning:function(x){console.warn("[xmldom warning]	"+x,g(this.locator))},error:function(x){console.error("[xmldom error]	"+x,g(this.locator))},fatalError:function(x){throw new a(x,this.locator)}};function g(x){if(x)return`
@`+(x.systemId||"")+"#[line:"+x.lineNumber+",col:"+x.columnNumber+"]"}function b(x,w,C){return typeof x=="string"?x.substr(w,C):x.length>=w+C||w?new java.lang.String(x,w,C)+"":x}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(x){f.prototype[x]=function(){return null}});function y(x,w){x.currentElement?x.currentElement.appendChild(w):x.doc.appendChild(w)}return dm.__DOMHandler=f,dm.normalizeLineEndings=c,dm.DOMParser=u,dm}var iP;function Qfe(){if(iP)return um;iP=1;var t=BF();return um.DOMImplementation=t.DOMImplementation,um.XMLSerializer=t.XMLSerializer,um.DOMParser=Xfe().DOMParser,um}var Zfe=Qfe();/*! @name mpd-parser @version 1.3.1 @license Apache-2.0 */const aP=t=>!!t&&typeof t=="object",_s=(...t)=>t.reduce((e,n)=>(typeof n!="object"||Object.keys(n).forEach(r=>{Array.isArray(e[r])&&Array.isArray(n[r])?e[r]=e[r].concat(n[r]):aP(e[r])&&aP(n[r])?e[r]=_s(e[r],n[r]):e[r]=n[r]}),e),{}),$F=t=>Object.keys(t).map(e=>t[e]),Jfe=(t,e)=>{const n=[];for(let r=t;r<e;r++)n.push(r);return n},Df=t=>t.reduce((e,n)=>e.concat(n),[]),zF=t=>{if(!t.length)return[];const e=[];for(let n=0;n<t.length;n++)e.push(t[n]);return e},epe=(t,e)=>t.reduce((n,r,s)=>(r[e]&&n.push(s),n),[]),tpe=(t,e)=>$F(t.reduce((n,r)=>(r.forEach(s=>{n[e(s)]=s}),n),{}));var Pf={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"};const Cg=({baseUrl:t="",source:e="",range:n="",indexRange:r=""})=>{const s={uri:e,resolvedUri:KE(t||"",e)};if(n||r){const a=(n||r).split("-");let l=Se.BigInt?Se.BigInt(a[0]):parseInt(a[0],10),c=Se.BigInt?Se.BigInt(a[1]):parseInt(a[1],10);l<Number.MAX_SAFE_INTEGER&&typeof l=="bigint"&&(l=Number(l)),c<Number.MAX_SAFE_INTEGER&&typeof c=="bigint"&&(c=Number(c));let u;typeof c=="bigint"||typeof l=="bigint"?u=Se.BigInt(c)-Se.BigInt(l)+Se.BigInt(1):u=c-l+1,typeof u=="bigint"&&u<Number.MAX_SAFE_INTEGER&&(u=Number(u)),s.byterange={length:u,offset:l}}return s},npe=t=>{let e;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=Se.BigInt(t.offset)+Se.BigInt(t.length)-Se.BigInt(1):e=t.offset+t.length-1,`${t.offset}-${e}`},oP=t=>(t&&typeof t!="number"&&(t=parseInt(t,10)),isNaN(t)?null:t),rpe={static(t){const{duration:e,timescale:n=1,sourceDuration:r,periodDuration:s}=t,i=oP(t.endNumber),a=e/n;return typeof i=="number"?{start:0,end:i}:typeof s=="number"?{start:0,end:s/a}:{start:0,end:r/a}},dynamic(t){const{NOW:e,clientOffset:n,availabilityStartTime:r,timescale:s=1,duration:i,periodStart:a=0,minimumUpdatePeriod:l=0,timeShiftBufferDepth:c=1/0}=t,u=oP(t.endNumber),h=(e+n)/1e3,f=r+a,g=h+l-f,b=Math.ceil(g*s/i),y=Math.floor((h-f-c)*s/i),x=Math.floor((h-f)*s/i);return{start:Math.max(0,y),end:typeof u=="number"?u:Math.min(b,x)}}},spe=t=>e=>{const{duration:n,timescale:r=1,periodStart:s,startNumber:i=1}=t;return{number:i+e,duration:n/r,timeline:s,time:e*n}},XE=t=>{const{type:e,duration:n,timescale:r=1,periodDuration:s,sourceDuration:i}=t,{start:a,end:l}=rpe[e](t),c=Jfe(a,l).map(spe(t));if(e==="static"){const u=c.length-1,h=typeof s=="number"?s:i;c[u].duration=h-n/r*u}return c},UF=t=>{const{baseUrl:e,initialization:n={},sourceDuration:r,indexRange:s="",periodStart:i,presentationTime:a,number:l=0,duration:c}=t;if(!e)throw new Error(Pf.NO_BASE_URL);const u=Cg({baseUrl:e,source:n.sourceURL,range:n.range}),h=Cg({baseUrl:e,source:e,indexRange:s});if(h.map=u,c){const f=XE(t);f.length&&(h.duration=f[0].duration,h.timeline=f[0].timeline)}else r&&(h.duration=r,h.timeline=i);return h.presentationTime=a||i,h.number=l,[h]},QE=(t,e,n)=>{const r=t.sidx.map?t.sidx.map:null,s=t.sidx.duration,i=t.timeline||0,a=t.sidx.byterange,l=a.offset+a.length,c=e.timescale,u=e.references.filter(x=>x.referenceType!==1),h=[],f=t.endList?"static":"dynamic",m=t.sidx.timeline;let g=m,b=t.mediaSequence||0,y;typeof e.firstOffset=="bigint"?y=Se.BigInt(l)+e.firstOffset:y=l+e.firstOffset;for(let x=0;x<u.length;x++){const w=e.references[x],C=w.referencedSize,k=w.subsegmentDuration;let A;typeof y=="bigint"?A=y+Se.BigInt(C)-Se.BigInt(1):A=y+C-1;const N=`${y}-${A}`,M=UF({baseUrl:n,timescale:c,timeline:i,periodStart:m,presentationTime:g,number:b,duration:k,sourceDuration:s,indexRange:N,type:f})[0];r&&(M.map=r),h.push(M),typeof y=="bigint"?y+=Se.BigInt(C):y+=C,g+=k/c,b++}return t.segments=h,t},ipe=["AUDIO","SUBTITLES"],ape=1/60,HF=t=>tpe(t,({timeline:e})=>e).sort((e,n)=>e.timeline>n.timeline?1:-1),ope=(t,e)=>{for(let n=0;n<t.length;n++)if(t[n].attributes.NAME===e)return t[n];return null},lP=t=>{let e=[];return Vfe(t,ipe,(n,r,s,i)=>{e=e.concat(n.playlists||[])}),e},cP=({playlist:t,mediaSequence:e})=>{t.mediaSequence=e,t.segments.forEach((n,r)=>{n.number=t.mediaSequence+r})},lpe=({oldPlaylists:t,newPlaylists:e,timelineStarts:n})=>{e.forEach(r=>{r.discontinuitySequence=n.findIndex(function({timeline:c}){return c===r.timeline});const s=ope(t,r.attributes.NAME);if(!s||r.sidx)return;const i=r.segments[0],a=s.segments.findIndex(function(c){return Math.abs(c.presentationTime-i.presentationTime)<ape});if(a===-1){cP({playlist:r,mediaSequence:s.mediaSequence+s.segments.length}),r.segments[0].discontinuity=!0,r.discontinuityStarts.unshift(0),(!s.segments.length&&r.timeline>s.timeline||s.segments.length&&r.timeline>s.segments[s.segments.length-1].timeline)&&r.discontinuitySequence--;return}s.segments[a].discontinuity&&!i.discontinuity&&(i.discontinuity=!0,r.discontinuityStarts.unshift(0),r.discontinuitySequence--),cP({playlist:r,mediaSequence:s.segments[a].number})})},cpe=({oldManifest:t,newManifest:e})=>{const n=t.playlists.concat(lP(t)),r=e.playlists.concat(lP(e));return e.timelineStarts=HF([t.timelineStarts,e.timelineStarts]),lpe({oldPlaylists:n,newPlaylists:r,timelineStarts:e.timelineStarts}),e},E1=t=>t&&t.uri+"-"+npe(t.byterange),q2=t=>{const e=t.reduce(function(r,s){return r[s.attributes.baseUrl]||(r[s.attributes.baseUrl]=[]),r[s.attributes.baseUrl].push(s),r},{});let n=[];return Object.values(e).forEach(r=>{const s=$F(r.reduce((i,a)=>{const l=a.attributes.id+(a.attributes.lang||"");return i[l]?(a.segments&&(a.segments[0]&&(a.segments[0].discontinuity=!0),i[l].segments.push(...a.segments)),a.attributes.contentProtection&&(i[l].attributes.contentProtection=a.attributes.contentProtection)):(i[l]=a,i[l].attributes.timelineStarts=[]),i[l].attributes.timelineStarts.push({start:a.attributes.periodStart,timeline:a.attributes.periodStart}),i},{}));n=n.concat(s)}),n.map(r=>(r.discontinuityStarts=epe(r.segments||[],"discontinuity"),r))},ZE=(t,e)=>{const n=E1(t.sidx),r=n&&e[n]&&e[n].sidx;return r&&QE(t,r,t.sidx.resolvedUri),t},upe=(t,e={})=>{if(!Object.keys(e).length)return t;for(const n in t)t[n]=ZE(t[n],e);return t},dpe=({attributes:t,segments:e,sidx:n,mediaSequence:r,discontinuitySequence:s,discontinuityStarts:i},a)=>{const l={attributes:{NAME:t.id,BANDWIDTH:t.bandwidth,CODECS:t.codecs,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuitySequence:s,discontinuityStarts:i,timelineStarts:t.timelineStarts,mediaSequence:r,segments:e};return t.contentProtection&&(l.contentProtection=t.contentProtection),t.serviceLocation&&(l.attributes.serviceLocation=t.serviceLocation),n&&(l.sidx=n),a&&(l.attributes.AUDIO="audio",l.attributes.SUBTITLES="subs"),l},hpe=({attributes:t,segments:e,mediaSequence:n,discontinuityStarts:r,discontinuitySequence:s})=>{typeof e>"u"&&(e=[{uri:t.baseUrl,timeline:t.periodStart,resolvedUri:t.baseUrl||"",duration:t.sourceDuration,number:0}],t.duration=t.sourceDuration);const i={NAME:t.id,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1};t.codecs&&(i.CODECS=t.codecs);const a={attributes:i,uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,timelineStarts:t.timelineStarts,discontinuityStarts:r,discontinuitySequence:s,mediaSequence:n,segments:e};return t.serviceLocation&&(a.attributes.serviceLocation=t.serviceLocation),a},fpe=(t,e={},n=!1)=>{let r;const s=t.reduce((i,a)=>{const l=a.attributes.role&&a.attributes.role.value||"",c=a.attributes.lang||"";let u=a.attributes.label||"main";if(c&&!a.attributes.label){const f=l?` (${l})`:"";u=`${a.attributes.lang}${f}`}i[u]||(i[u]={language:c,autoselect:!0,default:l==="main",playlists:[],uri:""});const h=ZE(dpe(a,n),e);return i[u].playlists.push(h),typeof r>"u"&&l==="main"&&(r=a,r.default=!0),i},{});if(!r){const i=Object.keys(s)[0];s[i].default=!0}return s},ppe=(t,e={})=>t.reduce((n,r)=>{const s=r.attributes.label||r.attributes.lang||"text",i=r.attributes.lang||"und";return n[s]||(n[s]={language:i,default:!1,autoselect:!1,playlists:[],uri:""}),n[s].playlists.push(ZE(hpe(r),e)),n},{}),mpe=t=>t.reduce((e,n)=>(n&&n.forEach(r=>{const{channel:s,language:i}=r;e[i]={autoselect:!1,default:!1,instreamId:s,language:i},r.hasOwnProperty("aspectRatio")&&(e[i].aspectRatio=r.aspectRatio),r.hasOwnProperty("easyReader")&&(e[i].easyReader=r.easyReader),r.hasOwnProperty("3D")&&(e[i]["3D"]=r["3D"])}),e),{}),gpe=({attributes:t,segments:e,sidx:n,discontinuityStarts:r})=>{const s={attributes:{NAME:t.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:t.width,height:t.height},CODECS:t.codecs,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuityStarts:r,timelineStarts:t.timelineStarts,segments:e};return t.frameRate&&(s.attributes["FRAME-RATE"]=t.frameRate),t.contentProtection&&(s.contentProtection=t.contentProtection),t.serviceLocation&&(s.attributes.serviceLocation=t.serviceLocation),n&&(s.sidx=n),s},ype=({attributes:t})=>t.mimeType==="video/mp4"||t.mimeType==="video/webm"||t.contentType==="video",bpe=({attributes:t})=>t.mimeType==="audio/mp4"||t.mimeType==="audio/webm"||t.contentType==="audio",xpe=({attributes:t})=>t.mimeType==="text/vtt"||t.contentType==="text",vpe=(t,e)=>{t.forEach(n=>{n.mediaSequence=0,n.discontinuitySequence=e.findIndex(function({timeline:r}){return r===n.timeline}),n.segments&&n.segments.forEach((r,s)=>{r.number=s})})},uP=t=>t?Object.keys(t).reduce((e,n)=>{const r=t[n];return e.concat(r.playlists)},[]):[],wpe=({dashPlaylists:t,locations:e,contentSteering:n,sidxMapping:r={},previousManifest:s,eventStream:i})=>{if(!t.length)return{};const{sourceDuration:a,type:l,suggestedPresentationDelay:c,minimumUpdatePeriod:u}=t[0].attributes,h=q2(t.filter(ype)).map(gpe),f=q2(t.filter(bpe)),m=q2(t.filter(xpe)),g=t.map(A=>A.attributes.captionServices).filter(Boolean),b={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:"",duration:a,playlists:upe(h,r)};u>=0&&(b.minimumUpdatePeriod=u*1e3),e&&(b.locations=e),n&&(b.contentSteering=n),l==="dynamic"&&(b.suggestedPresentationDelay=c),i&&i.length>0&&(b.eventStream=i);const y=b.playlists.length===0,x=f.length?fpe(f,r,y):null,w=m.length?ppe(m,r):null,C=h.concat(uP(x),uP(w)),k=C.map(({timelineStarts:A})=>A);return b.timelineStarts=HF(k),vpe(C,b.timelineStarts),x&&(b.mediaGroups.AUDIO.audio=x),w&&(b.mediaGroups.SUBTITLES.subs=w),g.length&&(b.mediaGroups["CLOSED-CAPTIONS"].cc=mpe(g)),s?cpe({oldManifest:s,newManifest:b}):b},_pe=(t,e,n)=>{const{NOW:r,clientOffset:s,availabilityStartTime:i,timescale:a=1,periodStart:l=0,minimumUpdatePeriod:c=0}=t,u=(r+s)/1e3,h=i+l,m=u+c-h;return Math.ceil((m*a-e)/n)},WF=(t,e)=>{const{type:n,minimumUpdatePeriod:r=0,media:s="",sourceDuration:i,timescale:a=1,startNumber:l=1,periodStart:c}=t,u=[];let h=-1;for(let f=0;f<e.length;f++){const m=e[f],g=m.d,b=m.r||0,y=m.t||0;h<0&&(h=y),y&&y>h&&(h=y);let x;if(b<0){const k=f+1;k===e.length?n==="dynamic"&&r>0&&s.indexOf("$Number$")>0?x=_pe(t,h,g):x=(i*a-h)/g:x=(e[k].t-h)/g}else x=b+1;const w=l+u.length+x;let C=l+u.length;for(;C<w;)u.push({number:C,duration:g/a,time:h,timeline:c}),h+=g,C++}return u},Spe=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,Cpe=t=>(e,n,r,s)=>{if(e==="$$")return"$";if(typeof t[n]>"u")return e;const i=""+t[n];return n==="RepresentationID"||(r?s=parseInt(s,10):s=1,i.length>=s)?i:`${new Array(s-i.length+1).join("0")}${i}`},dP=(t,e)=>t.replace(Spe,Cpe(e)),Tpe=(t,e)=>!t.duration&&!e?[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodStart}]:t.duration?XE(t):WF(t,e),kpe=(t,e)=>{const n={RepresentationID:t.id,Bandwidth:t.bandwidth||0},{initialization:r={sourceURL:"",range:""}}=t,s=Cg({baseUrl:t.baseUrl,source:dP(r.sourceURL,n),range:r.range});return Tpe(t,e).map(a=>{n.Number=a.number,n.Time=a.time;const l=dP(t.media||"",n),c=t.timescale||1,u=t.presentationTimeOffset||0,h=t.periodStart+(a.time-u)/c;return{uri:l,timeline:a.timeline,duration:a.duration,resolvedUri:KE(t.baseUrl||"",l),map:s,number:a.number,presentationTime:h}})},Epe=(t,e)=>{const{baseUrl:n,initialization:r={}}=t,s=Cg({baseUrl:n,source:r.sourceURL,range:r.range}),i=Cg({baseUrl:n,source:e.media,range:e.mediaRange});return i.map=s,i},jpe=(t,e)=>{const{duration:n,segmentUrls:r=[],periodStart:s}=t;if(!n&&!e||n&&e)throw new Error(Pf.SEGMENT_TIME_UNSPECIFIED);const i=r.map(c=>Epe(t,c));let a;return n&&(a=XE(t)),e&&(a=WF(t,e)),a.map((c,u)=>{if(i[u]){const h=i[u],f=t.timescale||1,m=t.presentationTimeOffset||0;return h.timeline=c.timeline,h.duration=c.duration,h.number=c.number,h.presentationTime=s+(c.time-m)/f,h}}).filter(c=>c)},Npe=({attributes:t,segmentInfo:e})=>{let n,r;e.template?(r=kpe,n=_s(t,e.template)):e.base?(r=UF,n=_s(t,e.base)):e.list&&(r=jpe,n=_s(t,e.list));const s={attributes:t};if(!r)return s;const i=r(n,e.segmentTimeline);if(n.duration){const{duration:a,timescale:l=1}=n;n.duration=a/l}else i.length?n.duration=i.reduce((a,l)=>Math.max(a,Math.ceil(l.duration)),0):n.duration=0;return s.attributes=n,s.segments=i,e.base&&n.indexRange&&(s.sidx=i[0],s.segments=[]),s},Ape=t=>t.map(Npe),Dr=(t,e)=>zF(t.childNodes).filter(({tagName:n})=>n===e),g0=t=>t.textContent.trim(),Dpe=t=>parseFloat(t.split("/").reduce((e,n)=>e/n)),$h=t=>{const l=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(t);if(!l)return 0;const[c,u,h,f,m,g]=l.slice(1);return parseFloat(c||0)*31536e3+parseFloat(u||0)*2592e3+parseFloat(h||0)*86400+parseFloat(f||0)*3600+parseFloat(m||0)*60+parseFloat(g||0)},Ppe=t=>(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t)&&(t+="Z"),Date.parse(t)),hP={mediaPresentationDuration(t){return $h(t)},availabilityStartTime(t){return Ppe(t)/1e3},minimumUpdatePeriod(t){return $h(t)},suggestedPresentationDelay(t){return $h(t)},type(t){return t},timeShiftBufferDepth(t){return $h(t)},start(t){return $h(t)},width(t){return parseInt(t,10)},height(t){return parseInt(t,10)},bandwidth(t){return parseInt(t,10)},frameRate(t){return Dpe(t)},startNumber(t){return parseInt(t,10)},timescale(t){return parseInt(t,10)},presentationTimeOffset(t){return parseInt(t,10)},duration(t){const e=parseInt(t,10);return isNaN(e)?$h(t):e},d(t){return parseInt(t,10)},t(t){return parseInt(t,10)},r(t){return parseInt(t,10)},presentationTime(t){return parseInt(t,10)},DEFAULT(t){return t}},as=t=>t&&t.attributes?zF(t.attributes).reduce((e,n)=>{const r=hP[n.name]||hP.DEFAULT;return e[n.name]=r(n.value),e},{}):{},Ipe={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime","urn:mpeg:dash:mp4protection:2011":"mp4protection"},j1=(t,e)=>e.length?Df(t.map(function(n){return e.map(function(r){const s=g0(r),i=KE(n.baseUrl,s),a=_s(as(r),{baseUrl:i});return i!==s&&!a.serviceLocation&&n.serviceLocation&&(a.serviceLocation=n.serviceLocation),a})})):t,JE=t=>{const e=Dr(t,"SegmentTemplate")[0],n=Dr(t,"SegmentList")[0],r=n&&Dr(n,"SegmentURL").map(f=>_s({tag:"SegmentURL"},as(f))),s=Dr(t,"SegmentBase")[0],i=n||e,a=i&&Dr(i,"SegmentTimeline")[0],l=n||s||e,c=l&&Dr(l,"Initialization")[0],u=e&&as(e);u&&c?u.initialization=c&&as(c):u&&u.initialization&&(u.initialization={sourceURL:u.initialization});const h={template:u,segmentTimeline:a&&Dr(a,"S").map(f=>as(f)),list:n&&_s(as(n),{segmentUrls:r,initialization:as(c)}),base:s&&_s(as(s),{initialization:as(c)})};return Object.keys(h).forEach(f=>{h[f]||delete h[f]}),h},Ope=(t,e,n)=>r=>{const s=Dr(r,"BaseURL"),i=j1(e,s),a=_s(t,as(r)),l=JE(r);return i.map(c=>({segmentInfo:_s(n,l),attributes:_s(a,c)}))},Mpe=t=>t.reduce((e,n)=>{const r=as(n);r.schemeIdUri&&(r.schemeIdUri=r.schemeIdUri.toLowerCase());const s=Ipe[r.schemeIdUri];if(s){e[s]={attributes:r};const i=Dr(n,"cenc:pssh")[0];if(i){const a=g0(i);e[s].pssh=a&&Yfe(a)}}return e},{}),Rpe=t=>{if(t.schemeIdUri==="urn:scte:dash:cc:cea-608:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(n=>{let r,s;return s=n,/^CC\d=/.test(n)?[r,s]=n.split("="):/^CC\d$/.test(n)&&(r=n),{channel:r,language:s}});if(t.schemeIdUri==="urn:scte:dash:cc:cea-708:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(n=>{const r={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(n)){const[s,i=""]=n.split("=");r.channel=s,r.language=n,i.split(",").forEach(a=>{const[l,c]=a.split(":");l==="lang"?r.language=c:l==="er"?r.easyReader=Number(c):l==="war"?r.aspectRatio=Number(c):l==="3D"&&(r["3D"]=Number(c))})}else r.language=n;return r.channel&&(r.channel="SERVICE"+r.channel),r})},Lpe=t=>Df(Dr(t.node,"EventStream").map(e=>{const n=as(e),r=n.schemeIdUri;return Dr(e,"Event").map(s=>{const i=as(s),a=i.presentationTime||0,l=n.timescale||1,c=i.duration||0,u=a/l+t.attributes.start;return{schemeIdUri:r,value:n.value,id:i.id,start:u,end:u+c/l,messageData:g0(s)||i.messageData,contentEncoding:n.contentEncoding,presentationTimeOffset:n.presentationTimeOffset||0}})})),Fpe=(t,e,n)=>r=>{const s=as(r),i=j1(e,Dr(r,"BaseURL")),a=Dr(r,"Role")[0],l={role:as(a)};let c=_s(t,s,l);const u=Dr(r,"Accessibility")[0],h=Rpe(as(u));h&&(c=_s(c,{captionServices:h}));const f=Dr(r,"Label")[0];if(f&&f.childNodes.length){const x=f.childNodes[0].nodeValue.trim();c=_s(c,{label:x})}const m=Mpe(Dr(r,"ContentProtection"));Object.keys(m).length&&(c=_s(c,{contentProtection:m}));const g=JE(r),b=Dr(r,"Representation"),y=_s(n,g);return Df(b.map(Ope(c,i,y)))},Bpe=(t,e)=>(n,r)=>{const s=j1(e,Dr(n.node,"BaseURL")),i=_s(t,{periodStart:n.attributes.start});typeof n.attributes.duration=="number"&&(i.periodDuration=n.attributes.duration);const a=Dr(n.node,"AdaptationSet"),l=JE(n.node);return Df(a.map(Fpe(i,s,l)))},$pe=(t,e)=>{if(t.length>1&&e({type:"warn",message:"The MPD manifest should contain no more than one ContentSteering tag"}),!t.length)return null;const n=_s({serverURL:g0(t[0])},as(t[0]));return n.queryBeforeStart=n.queryBeforeStart==="true",n},zpe=({attributes:t,priorPeriodAttributes:e,mpdType:n})=>typeof t.start=="number"?t.start:e&&typeof e.start=="number"&&typeof e.duration=="number"?e.start+e.duration:!e&&n==="static"?0:null,Upe=(t,e={})=>{const{manifestUri:n="",NOW:r=Date.now(),clientOffset:s=0,eventHandler:i=function(){}}=e,a=Dr(t,"Period");if(!a.length)throw new Error(Pf.INVALID_NUMBER_OF_PERIOD);const l=Dr(t,"Location"),c=as(t),u=j1([{baseUrl:n}],Dr(t,"BaseURL")),h=Dr(t,"ContentSteering");c.type=c.type||"static",c.sourceDuration=c.mediaPresentationDuration||0,c.NOW=r,c.clientOffset=s,l.length&&(c.locations=l.map(g0));const f=[];return a.forEach((m,g)=>{const b=as(m),y=f[g-1];b.start=zpe({attributes:b,priorPeriodAttributes:y?y.attributes:null,mpdType:c.type}),f.push({node:m,attributes:b})}),{locations:c.locations,contentSteeringInfo:$pe(h,i),representationInfo:Df(f.map(Bpe(c,u))),eventStream:Df(f.map(Lpe))}},VF=t=>{if(t==="")throw new Error(Pf.DASH_EMPTY_MANIFEST);const e=new Zfe.DOMParser;let n,r;try{n=e.parseFromString(t,"application/xml"),r=n&&n.documentElement.tagName==="MPD"?n.documentElement:null}catch{}if(!r||r&&r.getElementsByTagName("parsererror").length>0)throw new Error(Pf.DASH_INVALID_XML);return r},Hpe=t=>{const e=Dr(t,"UTCTiming")[0];if(!e)return null;const n=as(e);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(Pf.UNSUPPORTED_UTC_TIMING_SCHEME)}return n},Wpe=(t,e={})=>{const n=Upe(VF(t),e),r=Ape(n.representationInfo);return wpe({dashPlaylists:r,locations:n.locations,contentSteering:n.contentSteeringInfo,sidxMapping:e.sidxMapping,previousManifest:e.previousManifest,eventStream:n.eventStream})},Vpe=t=>Hpe(VF(t));var Y2,fP;function qpe(){if(fP)return Y2;fP=1;var t=Math.pow(2,32),e=function(n){var r=new DataView(n.buffer,n.byteOffset,n.byteLength),s;return r.getBigUint64?(s=r.getBigUint64(0),s<Number.MAX_SAFE_INTEGER?Number(s):s):r.getUint32(0)*t+r.getUint32(4)};return Y2={getUint64:e,MAX_UINT32:t},Y2}var G2,pP;function Ype(){if(pP)return G2;pP=1;var t=qpe().getUint64,e=function(n){var r=new DataView(n.buffer,n.byteOffset,n.byteLength),s={version:n[0],flags:new Uint8Array(n.subarray(1,4)),references:[],referenceId:r.getUint32(4),timescale:r.getUint32(8)},i=12;s.version===0?(s.earliestPresentationTime=r.getUint32(i),s.firstOffset=r.getUint32(i+4),i+=8):(s.earliestPresentationTime=t(n.subarray(i)),s.firstOffset=t(n.subarray(i+8)),i+=16),i+=2;var a=r.getUint16(i);for(i+=2;a>0;i+=12,a--)s.references.push({referenceType:(n[i]&128)>>>7,referencedSize:r.getUint32(i)&2147483647,subsegmentDuration:r.getUint32(i+4),startsWithSap:!!(n[i+8]&128),sapType:(n[i+8]&112)>>>4,sapDeltaTime:r.getUint32(i+8)&268435455});return s};return G2=e,G2}var Gpe=Ype();const Kpe=Jr(Gpe);var Xpe=ln([73,68,51]),Qpe=function(e,n){n===void 0&&(n=0),e=ln(e);var r=e[n+5],s=e[n+6]<<21|e[n+7]<<14|e[n+8]<<7|e[n+9],i=(r&16)>>4;return i?s+20:s+10},Am=function t(e,n){return n===void 0&&(n=0),e=ln(e),e.length-n<10||!jr(e,Xpe,{offset:n})?n:(n+=Qpe(e,n),t(e,n))},mP=function(e){return typeof e=="string"?FF(e):e},Zpe=function(e){return Array.isArray(e)?e.map(function(n){return mP(n)}):[mP(e)]},Jpe=function t(e,n,r){r===void 0&&(r=!1),n=Zpe(n),e=ln(e);var s=[];if(!n.length)return s;for(var i=0;i<e.length;){var a=(e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3])>>>0,l=e.subarray(i+4,i+8);if(a===0)break;var c=i+a;if(c>e.length){if(r)break;c=e.length}var u=e.subarray(i+8,c);jr(l,n[0])&&(n.length===1?s.push(u):s.push.apply(s,t(u,n.slice(1),r))),i=c}return s},gb={EBML:ln([26,69,223,163]),DocType:ln([66,130]),Segment:ln([24,83,128,103]),SegmentInfo:ln([21,73,169,102]),Tracks:ln([22,84,174,107]),Track:ln([174]),TrackNumber:ln([215]),DefaultDuration:ln([35,227,131]),TrackEntry:ln([174]),TrackType:ln([131]),FlagDefault:ln([136]),CodecID:ln([134]),CodecPrivate:ln([99,162]),VideoTrack:ln([224]),AudioTrack:ln([225]),Cluster:ln([31,67,182,117]),Timestamp:ln([231]),TimestampScale:ln([42,215,177]),BlockGroup:ln([160]),BlockDuration:ln([155]),Block:ln([161]),SimpleBlock:ln([163])},qC=[128,64,32,16,8,4,2,1],eme=function(e){for(var n=1,r=0;r<qC.length&&!(e&qC[r]);r++)n++;return n},Wx=function(e,n,r,s){r===void 0&&(r=!0),s===void 0&&(s=!1);var i=eme(e[n]),a=e.subarray(n,n+i);return r&&(a=Array.prototype.slice.call(e,n,n+i),a[0]^=qC[i-1]),{length:i,value:$fe(a,{signed:s}),bytes:a}},gP=function t(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(n){return t(n)}):typeof e=="number"?zfe(e):e},tme=function(e){return Array.isArray(e)?e.map(function(n){return gP(n)}):[gP(e)]},nme=function t(e,n,r){if(r>=n.length)return n.length;var s=Wx(n,r,!1);if(jr(e.bytes,s.bytes))return r;var i=Wx(n,r+s.length);return t(e,n,r+i.length+i.value+s.length)},yP=function t(e,n){n=tme(n),e=ln(e);var r=[];if(!n.length)return r;for(var s=0;s<e.length;){var i=Wx(e,s,!1),a=Wx(e,s+i.length),l=s+i.length+a.length;a.value===127&&(a.value=nme(i,e,l),a.value!==e.length&&(a.value-=l));var c=l+a.value>e.length?e.length:l+a.value,u=e.subarray(l,c);jr(n[0],i.bytes)&&(n.length===1?r.push(u):r=r.concat(t(u,n.slice(1))));var h=i.length+a.length+u.length;s+=h}return r},rme=ln([0,0,0,1]),sme=ln([0,0,1]),ime=ln([0,0,3]),ame=function(e){for(var n=[],r=1;r<e.length-2;)jr(e.subarray(r,r+3),ime)&&(n.push(r+2),r++),r++;if(n.length===0)return e;var s=e.length-n.length,i=new Uint8Array(s),a=0;for(r=0;r<s;a++,r++)a===n[0]&&(a++,n.shift()),i[r]=e[a];return i},qF=function(e,n,r,s){e=ln(e),r=[].concat(r);for(var i=0,a,l=0;i<e.length&&(l<s||a);){var c=void 0;if(jr(e.subarray(i),rme)?c=4:jr(e.subarray(i),sme)&&(c=3),!c){i++;continue}if(l++,a)return ame(e.subarray(a,i));var u=void 0;n==="h264"?u=e[i+c]&31:n==="h265"&&(u=e[i+c]>>1&63),r.indexOf(u)!==-1&&(a=i+c),i+=c+(n==="h264"?1:2)}return e.subarray(0,0)},ome=function(e,n,r){return qF(e,"h264",n,r)},lme=function(e,n,r){return qF(e,"h265",n,r)},si={webm:ln([119,101,98,109]),matroska:ln([109,97,116,114,111,115,107,97]),flac:ln([102,76,97,67]),ogg:ln([79,103,103,83]),ac3:ln([11,119]),riff:ln([82,73,70,70]),avi:ln([65,86,73]),wav:ln([87,65,86,69]),"3gp":ln([102,116,121,112,51,103]),mp4:ln([102,116,121,112]),fmp4:ln([115,116,121,112]),mov:ln([102,116,121,112,113,116]),moov:ln([109,111,111,118]),moof:ln([109,111,111,102])},If={aac:function(e){var n=Am(e);return jr(e,[255,16],{offset:n,mask:[255,22]})},mp3:function(e){var n=Am(e);return jr(e,[255,2],{offset:n,mask:[255,6]})},webm:function(e){var n=yP(e,[gb.EBML,gb.DocType])[0];return jr(n,si.webm)},mkv:function(e){var n=yP(e,[gb.EBML,gb.DocType])[0];return jr(n,si.matroska)},mp4:function(e){if(If["3gp"](e)||If.mov(e))return!1;if(jr(e,si.mp4,{offset:4})||jr(e,si.fmp4,{offset:4})||jr(e,si.moof,{offset:4})||jr(e,si.moov,{offset:4}))return!0},mov:function(e){return jr(e,si.mov,{offset:4})},"3gp":function(e){return jr(e,si["3gp"],{offset:4})},ac3:function(e){var n=Am(e);return jr(e,si.ac3,{offset:n})},ts:function(e){if(e.length<189&&e.length>=1)return e[0]===71;for(var n=0;n+188<e.length&&n<188;){if(e[n]===71&&e[n+188]===71)return!0;n+=1}return!1},flac:function(e){var n=Am(e);return jr(e,si.flac,{offset:n})},ogg:function(e){return jr(e,si.ogg)},avi:function(e){return jr(e,si.riff)&&jr(e,si.avi,{offset:8})},wav:function(e){return jr(e,si.riff)&&jr(e,si.wav,{offset:8})},h264:function(e){return ome(e,7,3).length},h265:function(e){return lme(e,[32,33],3).length}},YC=Object.keys(If).filter(function(t){return t!=="ts"&&t!=="h264"&&t!=="h265"}).concat(["ts","h264","h265"]);YC.forEach(function(t){var e=If[t];If[t]=function(n){return e(ln(n))}});var cme=If,ej=function(e){e=ln(e);for(var n=0;n<YC.length;n++){var r=YC[n];if(cme[r](e))return r}return""},ume=function(e){return Jpe(e,["moof"]).length>0},K2,bP;function dme(){if(bP)return K2;bP=1;var t=9e4,e,n,r,s,i,a,l;return e=function(c){return c*t},n=function(c,u){return c*u},r=function(c){return c/t},s=function(c,u){return c/u},i=function(c,u){return e(s(c,u))},a=function(c,u){return n(r(c),u)},l=function(c,u,h){return r(h?c:c-u)},K2={ONE_SECOND_IN_TS:t,secondsToVideoTs:e,secondsToAudioTs:n,videoTsToSeconds:r,audioTsToSeconds:s,audioTsToVideoTs:i,videoTsToAudioTs:a,metadataTsToSeconds:l},K2}var gd=dme();/**
 * @license
 * Video.js 8.22.0 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var GC="8.22.0";const Ul={},pu=function(t,e){return Ul[t]=Ul[t]||[],e&&(Ul[t]=Ul[t].concat(e)),Ul[t]},hme=function(t,e){pu(t,e)},YF=function(t,e){const n=pu(t).indexOf(e);return n<=-1?!1:(Ul[t]=Ul[t].slice(),Ul[t].splice(n,1),!0)},fme=function(t,e){pu(t,[].concat(e).map(n=>{const r=(...s)=>(YF(t,r),n(...s));return r}))},Vx={prefixed:!0},Gb=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"]],xP=Gb[0];let Dm;for(let t=0;t<Gb.length;t++)if(Gb[t][1]in Et){Dm=Gb[t];break}if(Dm){for(let t=0;t<Dm.length;t++)Vx[xP[t]]=Dm[t];Vx.prefixed=Dm[0]!==xP[0]}let Ni=[];const pme=(t,e,n)=>(r,s,i)=>{const a=e.levels[s],l=new RegExp(`^(${a})$`);let c=t;if(r!=="log"&&i.unshift(r.toUpperCase()+":"),n&&(c=`%c${t}`,i.unshift(n)),i.unshift(c+":"),Ni){Ni.push([].concat(i));const h=Ni.length-1e3;Ni.splice(0,h>0?h:0)}if(!Se.console)return;let u=Se.console[r];!u&&r==="debug"&&(u=Se.console.info||Se.console.log),!(!u||!a||!l.test(r))&&u[Array.isArray(i)?"apply":"call"](Se.console,i)};function KC(t,e=":",n=""){let r="info",s;function i(...a){s("log",r,a)}return s=pme(t,i,n),i.createLogger=(a,l,c)=>{const u=l!==void 0?l:e,h=c!==void 0?c:n,f=`${t} ${u} ${a}`;return KC(f,u,h)},i.createNewLogger=(a,l,c)=>KC(a,l,c),i.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:r},i.level=a=>{if(typeof a=="string"){if(!i.levels.hasOwnProperty(a))throw new Error(`"${a}" in not a valid log level`);r=a}return r},i.history=()=>Ni?[].concat(Ni):[],i.history.filter=a=>(Ni||[]).filter(l=>new RegExp(`.*${a}.*`).test(l[0])),i.history.clear=()=>{Ni&&(Ni.length=0)},i.history.disable=()=>{Ni!==null&&(Ni.length=0,Ni=null)},i.history.enable=()=>{Ni===null&&(Ni=[])},i.error=(...a)=>s("error",r,a),i.warn=(...a)=>s("warn",r,a),i.debug=(...a)=>s("debug",r,a),i}const En=KC("VIDEOJS"),GF=En.createLogger,mme=Object.prototype.toString,KF=function(t){return ul(t)?Object.keys(t):[]};function hf(t,e){KF(t).forEach(n=>e(t[n],n))}function XF(t,e,n=0){return KF(t).reduce((r,s)=>e(r,t[s],s),n)}function ul(t){return!!t&&typeof t=="object"}function Of(t){return ul(t)&&mme.call(t)==="[object Object]"&&t.constructor===Object}function lr(...t){const e={};return t.forEach(n=>{n&&hf(n,(r,s)=>{if(!Of(r)){e[s]=r;return}Of(e[s])||(e[s]={}),e[s]=lr(e[s],r)})}),e}function QF(t={}){const e=[];for(const n in t)if(t.hasOwnProperty(n)){const r=t[n];e.push(r)}return e}function N1(t,e,n,r=!0){const s=a=>Object.defineProperty(t,e,{value:a,enumerable:!0,writable:!0}),i={configurable:!0,enumerable:!0,get(){const a=n();return s(a),a}};return r&&(i.set=s),Object.defineProperty(t,e,i)}var gme=Object.freeze({__proto__:null,each:hf,reduce:XF,isObject:ul,isPlain:Of,merge:lr,values:QF,defineLazyProperty:N1});let tj=!1,ZF=null,mo=!1,JF,eB=!1,ff=!1,pf=!1,dl=!1,nj=null,A1=null;const yme=!!(Se.cast&&Se.cast.framework&&Se.cast.framework.CastReceiverContext);let tB=null,qx=!1,D1=!1,Yx=!1,P1=!1,Gx=!1,Kx=!1,Xx=!1;const Tg=!!(cp()&&("ontouchstart"in Se||Se.navigator.maxTouchPoints||Se.DocumentTouch&&Se.document instanceof Se.DocumentTouch)),Uc=Se.navigator&&Se.navigator.userAgentData;Uc&&Uc.platform&&Uc.brands&&(mo=Uc.platform==="Android",ff=!!Uc.brands.find(t=>t.brand==="Microsoft Edge"),pf=!!Uc.brands.find(t=>t.brand==="Chromium"),dl=!ff&&pf,nj=A1=(Uc.brands.find(t=>t.brand==="Chromium")||{}).version||null,D1=Uc.platform==="Windows");if(!pf){const t=Se.navigator&&Se.navigator.userAgent||"";tj=/iPod/i.test(t),ZF=function(){const e=t.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),mo=/Android/i.test(t),JF=function(){const e=t.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;const n=e[1]&&parseFloat(e[1]),r=e[2]&&parseFloat(e[2]);return n&&r?parseFloat(e[1]+"."+e[2]):n||null}(),eB=/Firefox/i.test(t),ff=/Edg/i.test(t),pf=/Chrome/i.test(t)||/CriOS/i.test(t),dl=!ff&&pf,nj=A1=function(){const e=t.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),tB=function(){const e=/MSIE\s(\d+)\.\d/.exec(t);let n=e&&parseFloat(e[1]);return!n&&/Trident\/7.0/i.test(t)&&/rv:11.0/.test(t)&&(n=11),n}(),Gx=/Tizen/i.test(t),Kx=/Web0S/i.test(t),Xx=Gx||Kx,qx=/Safari/i.test(t)&&!dl&&!mo&&!ff&&!Xx,D1=/Windows/i.test(t),Yx=/iPad/i.test(t)||qx&&Tg&&!/iPhone/i.test(t),P1=/iPhone/i.test(t)&&!Yx}const qs=P1||Yx||tj,I1=(qx||qs)&&!dl;var nB=Object.freeze({__proto__:null,get IS_IPOD(){return tj},get IOS_VERSION(){return ZF},get IS_ANDROID(){return mo},get ANDROID_VERSION(){return JF},get IS_FIREFOX(){return eB},get IS_EDGE(){return ff},get IS_CHROMIUM(){return pf},get IS_CHROME(){return dl},get CHROMIUM_VERSION(){return nj},get CHROME_VERSION(){return A1},IS_CHROMECAST_RECEIVER:yme,get IE_VERSION(){return tB},get IS_SAFARI(){return qx},get IS_WINDOWS(){return D1},get IS_IPAD(){return Yx},get IS_IPHONE(){return P1},get IS_TIZEN(){return Gx},get IS_WEBOS(){return Kx},get IS_SMART_TV(){return Xx},TOUCH_ENABLED:Tg,IS_IOS:qs,IS_ANY_SAFARI:I1});function vP(t){return typeof t=="string"&&!!t.trim()}function bme(t){if(t.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function cp(){return Et===Se.document}function up(t){return ul(t)&&t.nodeType===1}function rB(){try{return Se.parent!==Se.self}catch{return!0}}function sB(t){return function(e,n){if(!vP(e))return Et[t](null);vP(n)&&(n=Et.querySelector(n));const r=up(n)?n:Et;return r[t]&&r[t](e)}}function fn(t="div",e={},n={},r){const s=Et.createElement(t);return Object.getOwnPropertyNames(e).forEach(function(i){const a=e[i];i==="textContent"?_u(s,a):(s[i]!==a||i==="tabIndex")&&(s[i]=a)}),Object.getOwnPropertyNames(n).forEach(function(i){s.setAttribute(i,n[i])}),r&&rj(s,r),s}function _u(t,e){return typeof t.textContent>"u"?t.innerText=e:t.textContent=e,t}function XC(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function Wm(t,e){return bme(e),t.classList.contains(e)}function Td(t,...e){return t.classList.add(...e.reduce((n,r)=>n.concat(r.split(/\s+/)),[])),t}function O1(t,...e){return t?(t.classList.remove(...e.reduce((n,r)=>n.concat(r.split(/\s+/)),[])),t):(En.warn("removeClass was called with an element that doesn't exist"),null)}function iB(t,e,n){return typeof n=="function"&&(n=n(t,e)),typeof n!="boolean"&&(n=void 0),e.split(/\s+/).forEach(r=>t.classList.toggle(r,n)),t}function aB(t,e){Object.getOwnPropertyNames(e).forEach(function(n){const r=e[n];r===null||typeof r>"u"||r===!1?t.removeAttribute(n):t.setAttribute(n,r===!0?"":r)})}function Xc(t){const e={},n=["autoplay","controls","playsinline","loop","muted","default","defaultMuted"];if(t&&t.attributes&&t.attributes.length>0){const r=t.attributes;for(let s=r.length-1;s>=0;s--){const i=r[s].name;let a=r[s].value;n.includes(i)&&(a=a!==null),e[i]=a}}return e}function oB(t,e){return t.getAttribute(e)}function Mf(t,e,n){t.setAttribute(e,n)}function M1(t,e){t.removeAttribute(e)}function lB(){Et.body.focus(),Et.onselectstart=function(){return!1}}function cB(){Et.onselectstart=function(){return!0}}function Rf(t){if(t&&t.getBoundingClientRect&&t.parentNode){const e=t.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach(r=>{e[r]!==void 0&&(n[r]=e[r])}),n.height||(n.height=parseFloat(Lf(t,"height"))),n.width||(n.width=parseFloat(Lf(t,"width"))),n}}function kg(t){if(!t||t&&!t.offsetParent)return{left:0,top:0,width:0,height:0};const e=t.offsetWidth,n=t.offsetHeight;let r=0,s=0;for(;t.offsetParent&&t!==Et[Vx.fullscreenElement];)r+=t.offsetLeft,s+=t.offsetTop,t=t.offsetParent;return{left:r,top:s,width:e,height:n}}function R1(t,e){const n={x:0,y:0};if(qs){let h=t;for(;h&&h.nodeName.toLowerCase()!=="html";){const f=Lf(h,"transform");if(/^matrix/.test(f)){const m=f.slice(7,-1).split(/,\s/).map(Number);n.x+=m[4],n.y+=m[5]}else if(/^matrix3d/.test(f)){const m=f.slice(9,-1).split(/,\s/).map(Number);n.x+=m[12],n.y+=m[13]}if(h.assignedSlot&&h.assignedSlot.parentElement&&Se.WebKitCSSMatrix){const m=Se.getComputedStyle(h.assignedSlot.parentElement).transform,g=new Se.WebKitCSSMatrix(m);n.x+=g.m41,n.y+=g.m42}h=h.parentNode||h.host}}const r={},s=kg(e.target),i=kg(t),a=i.width,l=i.height;let c=e.offsetY-(i.top-s.top),u=e.offsetX-(i.left-s.left);return e.changedTouches&&(u=e.changedTouches[0].pageX-i.left,c=e.changedTouches[0].pageY+i.top,qs&&(u-=n.x,c-=n.y)),r.y=1-Math.max(0,Math.min(1,c/l)),r.x=Math.max(0,Math.min(1,u/a)),r}function uB(t){return ul(t)&&t.nodeType===3}function L1(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function dB(t){return typeof t=="function"&&(t=t()),(Array.isArray(t)?t:[t]).map(e=>{if(typeof e=="function"&&(e=e()),up(e)||uB(e))return e;if(typeof e=="string"&&/\S/.test(e))return Et.createTextNode(e)}).filter(e=>e)}function rj(t,e){return dB(e).forEach(n=>t.appendChild(n)),t}function hB(t,e){return rj(L1(t),e)}function Eg(t){return t.button===void 0&&t.buttons===void 0||t.button===0&&t.buttons===void 0||t.type==="mouseup"&&t.button===0&&t.buttons===0||t.type==="mousedown"&&t.button===0&&t.buttons===0?!0:!(t.button!==0||t.buttons!==1)}const mu=sB("querySelector"),fB=sB("querySelectorAll");function Lf(t,e){if(!t||!e)return"";if(typeof Se.getComputedStyle=="function"){let n;try{n=Se.getComputedStyle(t)}catch{return""}return n?n.getPropertyValue(e)||n[e]:""}return""}function pB(t){[...Et.styleSheets].forEach(e=>{try{const n=[...e.cssRules].map(s=>s.cssText).join(""),r=Et.createElement("style");r.textContent=n,t.document.head.appendChild(r)}catch{const r=Et.createElement("link");r.rel="stylesheet",r.type=e.type,r.media=e.media.mediaText,r.href=e.href,t.document.head.appendChild(r)}})}var mB=Object.freeze({__proto__:null,isReal:cp,isEl:up,isInFrame:rB,createEl:fn,textContent:_u,prependTo:XC,hasClass:Wm,addClass:Td,removeClass:O1,toggleClass:iB,setAttributes:aB,getAttributes:Xc,getAttribute:oB,setAttribute:Mf,removeAttribute:M1,blockTextSelection:lB,unblockTextSelection:cB,getBoundingClientRect:Rf,findPosition:kg,getPointerPosition:R1,isTextNode:uB,emptyEl:L1,normalizeContent:dB,appendContent:rj,insertContent:hB,isSingleLeftClick:Eg,$:mu,$$:fB,computedStyle:Lf,copyStyleSheetsToWindow:pB});let gB=!1,QC;const xme=function(){if(QC.options.autoSetup===!1)return;const t=Array.prototype.slice.call(Et.getElementsByTagName("video")),e=Array.prototype.slice.call(Et.getElementsByTagName("audio")),n=Array.prototype.slice.call(Et.getElementsByTagName("video-js")),r=t.concat(e,n);if(r&&r.length>0)for(let s=0,i=r.length;s<i;s++){const a=r[s];if(a&&a.getAttribute)a.player===void 0&&a.getAttribute("data-setup")!==null&&QC(a);else{ZC(1);break}}else gB||ZC(1)};function ZC(t,e){cp()&&(e&&(QC=e),Se.setTimeout(xme,t))}function JC(){gB=!0,Se.removeEventListener("load",JC)}cp()&&(Et.readyState==="complete"?JC():Se.addEventListener("load",JC));const yB=function(t){const e=Et.createElement("style");return e.className=t,e},bB=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e};var hi=new WeakMap;const vme=3;let wme=vme;function Ua(){return wme++}function wP(t,e){if(!hi.has(t))return;const n=hi.get(t);n.handlers[e].length===0&&(delete n.handlers[e],t.removeEventListener?t.removeEventListener(e,n.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),Object.getOwnPropertyNames(n).length===0&&hi.delete(t)}function sj(t,e,n,r){n.forEach(function(s){t(e,s,r)})}function F1(t){if(t.fixed_)return t;function e(){return!0}function n(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){const r=t||Se.event;t={};const s=["layerX","layerY","keyLocation","path","webkitMovementX","webkitMovementY","mozPressure","mozInputSource"];for(const i in r)s.includes(i)||i==="returnValue"&&r.preventDefault||(t[i]=r[i]);if(t.target||(t.target=t.srcElement||Et),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){r.preventDefault&&r.preventDefault(),t.returnValue=!1,r.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),t.cancelBubble=!0,r.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=n,t.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=n,t.clientX!==null&&t.clientX!==void 0){const i=Et.documentElement,a=Et.body;t.pageX=t.clientX+(i&&i.scrollLeft||a&&a.scrollLeft||0)-(i&&i.clientLeft||a&&a.clientLeft||0),t.pageY=t.clientY+(i&&i.scrollTop||a&&a.scrollTop||0)-(i&&i.clientTop||a&&a.clientTop||0)}t.which=t.charCode||t.keyCode,t.button!==null&&t.button!==void 0&&(t.button=t.button&1?0:t.button&4?1:t.button&2?2:0)}return t.fixed_=!0,t}let yb;const _me=function(){if(typeof yb!="boolean"){yb=!1;try{const t=Object.defineProperty({},"passive",{get(){yb=!0}});Se.addEventListener("test",null,t),Se.removeEventListener("test",null,t)}catch{}}return yb},Sme=["touchstart","touchmove"];function ia(t,e,n){if(Array.isArray(e))return sj(ia,t,e,n);hi.has(t)||hi.set(t,{});const r=hi.get(t);if(r.handlers||(r.handlers={}),r.handlers[e]||(r.handlers[e]=[]),n.guid||(n.guid=Ua()),r.handlers[e].push(n),r.dispatcher||(r.disabled=!1,r.dispatcher=function(s,i){if(r.disabled)return;s=F1(s);const a=r.handlers[s.type];if(a){const l=a.slice(0);for(let c=0,u=l.length;c<u&&!s.isImmediatePropagationStopped();c++)try{l[c].call(t,s,i)}catch(h){En.error(h)}}}),r.handlers[e].length===1)if(t.addEventListener){let s=!1;_me()&&Sme.indexOf(e)>-1&&(s={passive:!0}),t.addEventListener(e,r.dispatcher,s)}else t.attachEvent&&t.attachEvent("on"+e,r.dispatcher)}function Ys(t,e,n){if(!hi.has(t))return;const r=hi.get(t);if(!r.handlers)return;if(Array.isArray(e))return sj(Ys,t,e,n);const s=function(a,l){r.handlers[l]=[],wP(a,l)};if(e===void 0){for(const a in r.handlers)Object.prototype.hasOwnProperty.call(r.handlers||{},a)&&s(t,a);return}const i=r.handlers[e];if(i){if(!n){s(t,e);return}if(n.guid)for(let a=0;a<i.length;a++)i[a].guid===n.guid&&i.splice(a--,1);wP(t,e)}}function dp(t,e,n){const r=hi.has(t)?hi.get(t):{},s=t.parentNode||t.ownerDocument;if(typeof e=="string"?e={type:e,target:t}:e.target||(e.target=t),e=F1(e),r.dispatcher&&r.dispatcher.call(t,e,n),s&&!e.isPropagationStopped()&&e.bubbles===!0)dp.call(null,s,e,n);else if(!s&&!e.defaultPrevented&&e.target&&e.target[e.type]){hi.has(e.target)||hi.set(e.target,{});const i=hi.get(e.target);e.target[e.type]&&(i.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),i.disabled=!1)}return!e.defaultPrevented}function B1(t,e,n){if(Array.isArray(e))return sj(B1,t,e,n);const r=function(){Ys(t,e,r),n.apply(this,arguments)};r.guid=n.guid=n.guid||Ua(),ia(t,e,r)}function ij(t,e,n){const r=function(){Ys(t,e,r),n.apply(this,arguments)};r.guid=n.guid=n.guid||Ua(),ia(t,e,r)}var Cme=Object.freeze({__proto__:null,fixEvent:F1,on:ia,off:Ys,trigger:dp,one:B1,any:ij});const Ha=30,gr=function(t,e,n){e.guid||(e.guid=Ua());const r=e.bind(t);return r.guid=n?n+"_"+e.guid:e.guid,r},hl=function(t,e){let n=Se.performance.now();return function(...s){const i=Se.performance.now();i-n>=e&&(t(...s),n=i)}},xB=function(t,e,n,r=Se){let s;const i=()=>{r.clearTimeout(s),s=null},a=function(){const l=this,c=arguments;let u=function(){s=null,u=null,n||t.apply(l,c)};!s&&n&&t.apply(l,c),r.clearTimeout(s),s=r.setTimeout(u,e)};return a.cancel=i,a};var Tme=Object.freeze({__proto__:null,UPDATE_REFRESH_INTERVAL:Ha,bind_:gr,throttle:hl,debounce:xB});let hm;class aa{on(e,n){const r=this.addEventListener;this.addEventListener=()=>{},ia(this,e,n),this.addEventListener=r}off(e,n){Ys(this,e,n)}one(e,n){const r=this.addEventListener;this.addEventListener=()=>{},B1(this,e,n),this.addEventListener=r}any(e,n){const r=this.addEventListener;this.addEventListener=()=>{},ij(this,e,n),this.addEventListener=r}trigger(e){const n=e.type||e;typeof e=="string"&&(e={type:n}),e=F1(e),this.allowedEvents_[n]&&this["on"+n]&&this["on"+n](e),dp(this,e)}queueTrigger(e){hm||(hm=new Map);const n=e.type||e;let r=hm.get(this);r||(r=new Map,hm.set(this,r));const s=r.get(n);r.delete(n),Se.clearTimeout(s);const i=Se.setTimeout(()=>{r.delete(n),r.size===0&&(r=null,hm.delete(this)),this.trigger(e)},0);r.set(n,i)}}aa.prototype.allowedEvents_={};aa.prototype.addEventListener=aa.prototype.on;aa.prototype.removeEventListener=aa.prototype.off;aa.prototype.dispatchEvent=aa.prototype.trigger;const $1=t=>typeof t.name=="function"?t.name():typeof t.name=="string"?t.name:t.name_?t.name_:t.constructor&&t.constructor.name?t.constructor.name:typeof t,Ql=t=>t instanceof aa||!!t.eventBusEl_&&["on","one","off","trigger"].every(e=>typeof t[e]=="function"),kme=(t,e)=>{Ql(t)?e():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(e))},eT=t=>typeof t=="string"&&/\S/.test(t)||Array.isArray(t)&&!!t.length,Qx=(t,e,n)=>{if(!t||!t.nodeName&&!Ql(t))throw new Error(`Invalid target for ${$1(e)}#${n}; must be a DOM node or evented object.`)},vB=(t,e,n)=>{if(!eT(t))throw new Error(`Invalid event type for ${$1(e)}#${n}; must be a non-empty string or array.`)},wB=(t,e,n)=>{if(typeof t!="function")throw new Error(`Invalid listener for ${$1(e)}#${n}; must be a function.`)},X2=(t,e,n)=>{const r=e.length<3||e[0]===t||e[0]===t.eventBusEl_;let s,i,a;return r?(s=t.eventBusEl_,e.length>=3&&e.shift(),[i,a]=e):(s=e[0],i=e[1],a=e[2]),Qx(s,t,n),vB(i,t,n),wB(a,t,n),a=gr(t,a),{isTargetingSelf:r,target:s,type:i,listener:a}},ed=(t,e,n,r)=>{Qx(t,t,e),t.nodeName?Cme[e](t,n,r):t[e](n,r)},Eme={on(...t){const{isTargetingSelf:e,target:n,type:r,listener:s}=X2(this,t,"on");if(ed(n,"on",r,s),!e){const i=()=>this.off(n,r,s);i.guid=s.guid;const a=()=>this.off("dispose",i);a.guid=s.guid,ed(this,"on","dispose",i),ed(n,"on","dispose",a)}},one(...t){const{isTargetingSelf:e,target:n,type:r,listener:s}=X2(this,t,"one");if(e)ed(n,"one",r,s);else{const i=(...a)=>{this.off(n,r,i),s.apply(null,a)};i.guid=s.guid,ed(n,"one",r,i)}},any(...t){const{isTargetingSelf:e,target:n,type:r,listener:s}=X2(this,t,"any");if(e)ed(n,"any",r,s);else{const i=(...a)=>{this.off(n,r,i),s.apply(null,a)};i.guid=s.guid,ed(n,"any",r,i)}},off(t,e,n){if(!t||eT(t))Ys(this.eventBusEl_,t,e);else{const r=t,s=e;Qx(r,this,"off"),vB(s,this,"off"),wB(n,this,"off"),n=gr(this,n),this.off("dispose",n),r.nodeName?(Ys(r,s,n),Ys(r,"dispose",n)):Ql(r)&&(r.off(s,n),r.off("dispose",n))}},trigger(t,e){Qx(this.eventBusEl_,this,"trigger");const n=t&&typeof t!="string"?t.type:t;if(!eT(n))throw new Error(`Invalid event type for ${$1(this)}#trigger; must be a non-empty string or object with a type key that has a non-empty value.`);return dp(this.eventBusEl_,t,e)}};function aj(t,e={}){const{eventBusKey:n}=e;if(n){if(!t[n].nodeName)throw new Error(`The eventBusKey "${n}" does not refer to an element.`);t.eventBusEl_=t[n]}else t.eventBusEl_=fn("span",{className:"vjs-event-bus"});return Object.assign(t,Eme),t.eventedCallbacks&&t.eventedCallbacks.forEach(r=>{r()}),t.on("dispose",()=>{t.off(),[t,t.el_,t.eventBusEl_].forEach(function(r){r&&hi.has(r)&&hi.delete(r)}),Se.setTimeout(()=>{t.eventBusEl_=null},0)}),t}const jme={state:{},setState(t){typeof t=="function"&&(t=t());let e;return hf(t,(n,r)=>{this.state[r]!==n&&(e=e||{},e[r]={from:this.state[r],to:n}),this.state[r]=n}),e&&Ql(this)&&this.trigger({changes:e,type:"statechanged"}),e}};function _B(t,e){return Object.assign(t,jme),t.state=Object.assign({},t.state,e),typeof t.handleStateChanged=="function"&&Ql(t)&&t.on("statechanged",t.handleStateChanged),t}const Vm=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toLowerCase())},Ur=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},SB=function(t,e){return Ur(t)===Ur(e)};var Nme=Object.freeze({__proto__:null,toLowerCase:Vm,toTitleCase:Ur,titleCaseEquals:SB});class ht{constructor(e,n,r){if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=lr({},this.options_),n=this.options_=lr(this.options_,n),this.id_=n.id||n.el&&n.el.id,!this.id_){const s=e&&e.id&&e.id()||"no_player";this.id_=`${s}_component_${Ua()}`}this.name_=n.name||null,n.el?this.el_=n.el:n.createEl!==!1&&(this.el_=this.createEl()),n.className&&this.el_&&n.className.split(" ").forEach(s=>this.addClass(s)),["on","off","one","any","trigger"].forEach(s=>{this[s]=void 0}),n.evented!==!1&&(aj(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),_B(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set,this.setIntervalIds_=new Set,this.rafIds_=new Set,this.namedRafs_=new Map,this.clearingTimersOnDispose_=!1,n.initChildren!==!1&&this.initChildren(),this.ready(r),n.reportTouchActivity!==!1&&this.enableTouchActivity()}dispose(e={}){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(let n=this.children_.length-1;n>=0;n--)this.children_[n].dispose&&this.children_[n].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(e.restoreEl?this.el_.parentNode.replaceChild(e.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}}isDisposed(){return!!this.isDisposed_}player(){return this.player_}options(e){return e?(this.options_=lr(this.options_,e),this.options_):this.options_}el(){return this.el_}createEl(e,n,r){return fn(e,n,r)}localize(e,n,r=e){const s=this.player_.language&&this.player_.language(),i=this.player_.languages&&this.player_.languages(),a=i&&i[s],l=s&&s.split("-")[0],c=i&&i[l];let u=r;return a&&a[e]?u=a[e]:c&&c[e]&&(u=c[e]),n&&(u=u.replace(/\{(\d+)\}/g,function(h,f){const m=n[f-1];let g=m;return typeof m>"u"&&(g=h),g})),u}handleLanguagechange(){}contentEl(){return this.contentEl_||this.el_}id(){return this.id_}name(){return this.name_}children(){return this.children_}getChildById(e){return this.childIndex_[e]}getChild(e){if(e)return this.childNameIndex_[e]}getDescendant(...e){e=e.reduce((r,s)=>r.concat(s),[]);let n=this;for(let r=0;r<e.length;r++)if(n=n.getChild(e[r]),!n||!n.getChild)return;return n}setIcon(e,n=this.el()){if(!this.player_.options_.experimentalSvgIcons)return;const r="http://www.w3.org/2000/svg",s=fn("span",{className:"vjs-icon-placeholder vjs-svg-icon"},{"aria-hidden":"true"}),i=Et.createElementNS(r,"svg");i.setAttributeNS(null,"viewBox","0 0 512 512");const a=Et.createElementNS(r,"use");return i.appendChild(a),a.setAttributeNS(null,"href",`#vjs-icon-${e}`),s.appendChild(i),this.iconIsSet_?n.replaceChild(s,n.querySelector(".vjs-icon-placeholder")):n.appendChild(s),this.iconIsSet_=!0,s}addChild(e,n={},r=this.children_.length){let s,i;if(typeof e=="string"){i=Ur(e);const a=n.componentClass||i;n.name=i;const l=ht.getComponent(a);if(!l)throw new Error(`Component ${a} does not exist`);if(typeof l!="function")return null;s=new l(this.player_||this,n)}else s=e;if(s.parentComponent_&&s.parentComponent_.removeChild(s),this.children_.splice(r,0,s),s.parentComponent_=this,typeof s.id=="function"&&(this.childIndex_[s.id()]=s),i=i||s.name&&Ur(s.name()),i&&(this.childNameIndex_[i]=s,this.childNameIndex_[Vm(i)]=s),typeof s.el=="function"&&s.el()){let a=null;this.children_[r+1]&&(this.children_[r+1].el_?a=this.children_[r+1].el_:up(this.children_[r+1])&&(a=this.children_[r+1])),this.contentEl().insertBefore(s.el(),a)}return s}removeChild(e){if(typeof e=="string"&&(e=this.getChild(e)),!e||!this.children_)return;let n=!1;for(let s=this.children_.length-1;s>=0;s--)if(this.children_[s]===e){n=!0,this.children_.splice(s,1);break}if(!n)return;e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[Ur(e.name())]=null,this.childNameIndex_[Vm(e.name())]=null;const r=e.el();r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}initChildren(){const e=this.options_.children;if(e){const n=this.options_,r=a=>{const l=a.name;let c=a.opts;if(n[l]!==void 0&&(c=n[l]),c===!1)return;c===!0&&(c={}),c.playerOptions=this.options_.playerOptions;const u=this.addChild(l,c);u&&(this[l]=u)};let s;const i=ht.getComponent("Tech");Array.isArray(e)?s=e:s=Object.keys(e),s.concat(Object.keys(this.options_).filter(function(a){return!s.some(function(l){return typeof l=="string"?a===l:a===l.name})})).map(a=>{let l,c;return typeof a=="string"?(l=a,c=e[l]||this.options_[l]||{}):(l=a.name,c=a),{name:l,opts:c}}).filter(a=>{const l=ht.getComponent(a.opts.componentClass||Ur(a.name));return l&&!i.isTech(l)}).forEach(r)}}buildCSSClass(){return""}ready(e,n=!1){if(e){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e);return}n?e.call(this):this.setTimeout(e,1)}}triggerReady(){this.isReady_=!0,this.setTimeout(function(){const e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(n){n.call(this)},this),this.trigger("ready")},1)}$(e,n){return mu(e,n||this.contentEl())}$$(e,n){return fB(e,n||this.contentEl())}hasClass(e){return Wm(this.el_,e)}addClass(...e){Td(this.el_,...e)}removeClass(...e){O1(this.el_,...e)}toggleClass(e,n){iB(this.el_,e,n)}show(){this.removeClass("vjs-hidden")}hide(){this.addClass("vjs-hidden")}lockShowing(){this.addClass("vjs-lock-showing")}unlockShowing(){this.removeClass("vjs-lock-showing")}getAttribute(e){return oB(this.el_,e)}setAttribute(e,n){Mf(this.el_,e,n)}removeAttribute(e){M1(this.el_,e)}width(e,n){return this.dimension("width",e,n)}height(e,n){return this.dimension("height",e,n)}dimensions(e,n){this.width(e,!0),this.height(n)}dimension(e,n,r){if(n!==void 0){(n===null||n!==n)&&(n=0),(""+n).indexOf("%")!==-1||(""+n).indexOf("px")!==-1?this.el_.style[e]=n:n==="auto"?this.el_.style[e]="":this.el_.style[e]=n+"px",r||this.trigger("componentresize");return}if(!this.el_)return 0;const s=this.el_.style[e],i=s.indexOf("px");return parseInt(i!==-1?s.slice(0,i):this.el_["offset"+Ur(e)],10)}currentDimension(e){let n=0;if(e!=="width"&&e!=="height")throw new Error("currentDimension only accepts width or height value");if(n=Lf(this.el_,e),n=parseFloat(n),n===0||isNaN(n)){const r=`offset${Ur(e)}`;n=this.el_[r]}return n}currentDimensions(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}}currentWidth(){return this.currentDimension("width")}currentHeight(){return this.currentDimension("height")}getPositions(){const e=this.el_.getBoundingClientRect(),n={x:e.x,y:e.y,width:e.width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left},r={x:e.left+e.width/2,y:e.top+e.height/2,width:0,height:0,top:e.top+e.height/2,right:e.left+e.width/2,bottom:e.top+e.height/2,left:e.left+e.width/2};return{boundingClientRect:n,center:r}}focus(){this.el_.focus()}blur(){this.el_.blur()}handleKeyDown(e){this.player_&&(e.key!=="Tab"&&!(this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled)&&e.stopPropagation(),this.player_.handleKeyDown(e))}handleKeyPress(e){this.handleKeyDown(e)}emitTapEvents(){let e=0,n=null;const r=10,s=200;let i;this.on("touchstart",function(l){l.touches.length===1&&(n={pageX:l.touches[0].pageX,pageY:l.touches[0].pageY},e=Se.performance.now(),i=!0)}),this.on("touchmove",function(l){if(l.touches.length>1)i=!1;else if(n){const c=l.touches[0].pageX-n.pageX,u=l.touches[0].pageY-n.pageY;Math.sqrt(c*c+u*u)>r&&(i=!1)}});const a=function(){i=!1};this.on("touchleave",a),this.on("touchcancel",a),this.on("touchend",function(l){n=null,i===!0&&Se.performance.now()-e<s&&(l.preventDefault(),this.trigger("tap"))})}enableTouchActivity(){if(!this.player()||!this.player().reportUserActivity)return;const e=gr(this.player(),this.player().reportUserActivity);let n;this.on("touchstart",function(){e(),this.clearInterval(n),n=this.setInterval(e,250)});const r=function(s){e(),this.clearInterval(n)};this.on("touchmove",e),this.on("touchend",r),this.on("touchcancel",r)}setTimeout(e,n){var r;return e=gr(this,e),this.clearTimersOnDispose_(),r=Se.setTimeout(()=>{this.setTimeoutIds_.has(r)&&this.setTimeoutIds_.delete(r),e()},n),this.setTimeoutIds_.add(r),r}clearTimeout(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),Se.clearTimeout(e)),e}setInterval(e,n){e=gr(this,e),this.clearTimersOnDispose_();const r=Se.setInterval(e,n);return this.setIntervalIds_.add(r),r}clearInterval(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),Se.clearInterval(e)),e}requestAnimationFrame(e){this.clearTimersOnDispose_();var n;return e=gr(this,e),n=Se.requestAnimationFrame(()=>{this.rafIds_.has(n)&&this.rafIds_.delete(n),e()}),this.rafIds_.add(n),n}requestNamedAnimationFrame(e,n){this.namedRafs_.has(e)&&this.cancelNamedAnimationFrame(e),this.clearTimersOnDispose_(),n=gr(this,n);const r=this.requestAnimationFrame(()=>{n(),this.namedRafs_.has(e)&&this.namedRafs_.delete(e)});return this.namedRafs_.set(e,r),e}cancelNamedAnimationFrame(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))}cancelAnimationFrame(e){return this.rafIds_.has(e)&&(this.rafIds_.delete(e),Se.cancelAnimationFrame(e)),e}clearTimersOnDispose_(){this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",()=>{[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(([e,n])=>{this[e].forEach((r,s)=>this[n](s))}),this.clearingTimersOnDispose_=!1}))}getIsDisabled(){return!!this.el_.disabled}getIsExpresslyInert(){return this.el_.inert&&!this.el_.ownerDocument.documentElement.inert}getIsFocusable(e){return(e||this.el_).tabIndex>=0&&!(this.getIsDisabled()||this.getIsExpresslyInert())}getIsAvailableToBeFocused(e){function n(i){const a=Se.getComputedStyle(i,null),l=a.getPropertyValue("visibility");return a.getPropertyValue("display")!=="none"&&!["hidden","collapse"].includes(l)}function r(i){return!(!n(i.parentElement)||!n(i)||i.style.opacity==="0"||Se.getComputedStyle(i).height==="0px"||Se.getComputedStyle(i).width==="0px")}function s(i){if(i.offsetWidth+i.offsetHeight+i.getBoundingClientRect().height+i.getBoundingClientRect().width===0)return!1;const a={x:i.getBoundingClientRect().left+i.offsetWidth/2,y:i.getBoundingClientRect().top+i.offsetHeight/2};if(a.x<0||a.x>(Et.documentElement.clientWidth||Se.innerWidth)||a.y<0||a.y>(Et.documentElement.clientHeight||Se.innerHeight))return!1;let l=Et.elementFromPoint(a.x,a.y);for(;l;){if(l===i)return!0;if(l.parentNode)l=l.parentNode;else return!1}}return e||(e=this.el()),!!(s(e)&&r(e)&&(!e.parentElement||e.tabIndex>=0))}static registerComponent(e,n){if(typeof e!="string"||!e)throw new Error(`Illegal component name, "${e}"; must be a non-empty string.`);const r=ht.getComponent("Tech"),s=r&&r.isTech(n),i=ht===n||ht.prototype.isPrototypeOf(n.prototype);if(s||!i){let l;throw s?l="techs must be registered using Tech.registerTech()":l="must be a Component subclass",new Error(`Illegal component, "${e}"; ${l}.`)}e=Ur(e),ht.components_||(ht.components_={});const a=ht.getComponent("Player");if(e==="Player"&&a&&a.players){const l=a.players,c=Object.keys(l);if(l&&c.length>0){for(let u=0;u<c.length;u++)if(l[c[u]]!==null)throw new Error("Can not register Player component after player has been created.")}}return ht.components_[e]=n,ht.components_[Vm(e)]=n,n}static getComponent(e){if(!(!e||!ht.components_))return ht.components_[e]}}ht.registerComponent("Component",ht);function Ame(t,e,n){if(typeof e!="number"||e<0||e>n)throw new Error(`Failed to execute '${t}' on 'TimeRanges': The index provided (${e}) is non-numeric or out of bounds (0-${n}).`)}function _P(t,e,n,r){return Ame(t,r,n.length-1),n[r][e]}function Q2(t){let e;return t===void 0||t.length===0?e={length:0,start(){throw new Error("This TimeRanges object is empty")},end(){throw new Error("This TimeRanges object is empty")}}:e={length:t.length,start:_P.bind(null,"start",0,t),end:_P.bind(null,"end",1,t)},Se.Symbol&&Se.Symbol.iterator&&(e[Se.Symbol.iterator]=()=>(t||[]).values()),e}function ho(t,e){return Array.isArray(t)?Q2(t):t===void 0||e===void 0?Q2():Q2([[t,e]])}const CB=function(t,e){t=t<0?0:t;let n=Math.floor(t%60),r=Math.floor(t/60%60),s=Math.floor(t/3600);const i=Math.floor(e/60%60),a=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(s=r=n="-"),s=s>0||a>0?s+":":"",r=((s||i>=10)&&r<10?"0"+r:r)+":",n=n<10?"0"+n:n,s+r+n};let oj=CB;function TB(t){oj=t}function kB(){oj=CB}function Fd(t,e=t){return oj(t,e)}var Dme=Object.freeze({__proto__:null,createTimeRanges:ho,createTimeRange:ho,setFormatTime:TB,resetFormatTime:kB,formatTime:Fd});function EB(t,e){let n=0,r,s;if(!e)return 0;(!t||!t.length)&&(t=ho(0,0));for(let i=0;i<t.length;i++)r=t.start(i),s=t.end(i),s>e&&(s=e),n+=s-r;return n/e}function Fr(t){if(t instanceof Fr)return t;typeof t=="number"?this.code=t:typeof t=="string"?this.message=t:ul(t)&&(typeof t.code=="number"&&(this.code=t.code),Object.assign(this,t)),this.message||(this.message=Fr.defaultMessages[this.code]||"")}Fr.prototype.code=0;Fr.prototype.message="";Fr.prototype.status=null;Fr.prototype.metadata=null;Fr.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];Fr.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};Fr.MEDIA_ERR_CUSTOM=0;Fr.prototype.MEDIA_ERR_CUSTOM=0;Fr.MEDIA_ERR_ABORTED=1;Fr.prototype.MEDIA_ERR_ABORTED=1;Fr.MEDIA_ERR_NETWORK=2;Fr.prototype.MEDIA_ERR_NETWORK=2;Fr.MEDIA_ERR_DECODE=3;Fr.prototype.MEDIA_ERR_DECODE=3;Fr.MEDIA_ERR_SRC_NOT_SUPPORTED=4;Fr.prototype.MEDIA_ERR_SRC_NOT_SUPPORTED=4;Fr.MEDIA_ERR_ENCRYPTED=5;Fr.prototype.MEDIA_ERR_ENCRYPTED=5;function qm(t){return t!=null&&typeof t.then=="function"}function Jo(t){qm(t)&&t.then(null,e=>{})}const tT=function(t){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((n,r,s)=>(t[r]&&(n[r]=t[r]),n),{cues:t.cues&&Array.prototype.map.call(t.cues,function(n){return{startTime:n.startTime,endTime:n.endTime,text:n.text,id:n.id}})})},Pme=function(t){const e=t.$$("track"),n=Array.prototype.map.call(e,s=>s.track);return Array.prototype.map.call(e,function(s){const i=tT(s.track);return s.src&&(i.src=s.src),i}).concat(Array.prototype.filter.call(t.textTracks(),function(s){return n.indexOf(s)===-1}).map(tT))},Ime=function(t,e){return t.forEach(function(n){const r=e.addRemoteTextTrack(n).track;!n.src&&n.cues&&n.cues.forEach(s=>r.addCue(s))}),e.textTracks()};var SP={textTracksToJson:Pme,jsonToTextTracks:Ime,trackToJson_:tT};const Z2="vjs-modal-dialog";class hp extends ht{constructor(e,n){super(e,n),this.handleKeyDown_=r=>this.handleKeyDown(r),this.close_=r=>this.close(r),this.opened_=this.hasBeenOpened_=this.hasBeenFilled_=!1,this.closeable(!this.options_.uncloseable),this.content(this.options_.content),this.contentEl_=fn("div",{className:`${Z2}-content`},{role:"document"}),this.descEl_=fn("p",{className:`${Z2}-description vjs-control-text`,id:this.el().getAttribute("aria-describedby")}),_u(this.descEl_,this.description()),this.el_.appendChild(this.descEl_),this.el_.appendChild(this.contentEl_)}createEl(){return super.createEl("div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":`${this.id()}_description`,"aria-hidden":"true","aria-label":this.label(),role:"dialog","aria-live":"polite"})}dispose(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,super.dispose()}buildCSSClass(){return`${Z2} vjs-hidden ${super.buildCSSClass()}`}label(){return this.localize(this.options_.label||"Modal Window")}description(){let e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e}open(){if(this.opened_){this.options_.fillAlways&&this.fill();return}const e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}opened(e){return typeof e=="boolean"&&this[e?"open":"close"](),this.opened_}close(){if(!this.opened_)return;const e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger({type:"modalclose",bubbles:!0}),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}closeable(e){if(typeof e=="boolean"){const n=this.closeable_=!!e;let r=this.getChild("closeButton");if(n&&!r){const s=this.contentEl_;this.contentEl_=this.el_,r=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=s,this.on(r,"close",this.close_)}!n&&r&&(this.off(r,"close",this.close_),this.removeChild(r),r.dispose())}return this.closeable_}fill(){this.fillWith(this.content())}fillWith(e){const n=this.contentEl(),r=n.parentNode,s=n.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,r.removeChild(n),this.empty(),hB(n,e),this.trigger("modalfill"),s?r.insertBefore(n,s):r.appendChild(n);const i=this.getChild("closeButton");i&&r.appendChild(i.el_),this.trigger("aftermodalfill")}empty(){this.trigger("beforemodalempty"),L1(this.contentEl()),this.trigger("modalempty")}content(e){return typeof e<"u"&&(this.content_=e),this.content_}conditionalFocus_(){const e=Et.activeElement,n=this.player_.el_;this.previouslyActiveEl_=null,(n.contains(e)||n===e)&&(this.previouslyActiveEl_=e,this.focus())}conditionalBlur_(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)}handleKeyDown(e){if(this.trigger({type:"modalKeydown",originalEvent:e,target:this,bubbles:!0}),e.stopPropagation(),e.key==="Escape"&&this.closeable()){e.preventDefault(),this.close();return}if(e.key!=="Tab")return;const n=this.focusableEls_(),r=this.el_.querySelector(":focus");let s;for(let i=0;i<n.length;i++)if(r===n[i]){s=i;break}Et.activeElement===this.el_&&(s=0),e.shiftKey&&s===0?(n[n.length-1].focus(),e.preventDefault()):!e.shiftKey&&s===n.length-1&&(n[0].focus(),e.preventDefault())}focusableEls_(){const e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,n=>(n instanceof Se.HTMLAnchorElement||n instanceof Se.HTMLAreaElement)&&n.hasAttribute("href")||(n instanceof Se.HTMLInputElement||n instanceof Se.HTMLSelectElement||n instanceof Se.HTMLTextAreaElement||n instanceof Se.HTMLButtonElement)&&!n.hasAttribute("disabled")||n instanceof Se.HTMLIFrameElement||n instanceof Se.HTMLObjectElement||n instanceof Se.HTMLEmbedElement||n.hasAttribute("tabindex")&&n.getAttribute("tabindex")!==-1||n.hasAttribute("contenteditable"))}}hp.prototype.options_={pauseOnOpen:!0,temporary:!0};ht.registerComponent("ModalDialog",hp);class Ff extends aa{constructor(e=[]){super(),this.tracks_=[],Object.defineProperty(this,"length",{get(){return this.tracks_.length}});for(let n=0;n<e.length;n++)this.addTrack(e[n])}addTrack(e){const n=this.tracks_.length;""+n in this||Object.defineProperty(this,n,{get(){return this.tracks_[n]}}),this.tracks_.indexOf(e)===-1&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=()=>{this.trigger({track:e,type:"labelchange",target:this})},Ql(e)&&e.addEventListener("labelchange",e.labelchange_)}removeTrack(e){let n;for(let r=0,s=this.length;r<s;r++)if(this[r]===e){n=this[r],n.off&&n.off(),this.tracks_.splice(r,1);break}n&&this.trigger({track:n,type:"removetrack",target:this})}getTrackById(e){let n=null;for(let r=0,s=this.length;r<s;r++){const i=this[r];if(i.id===e){n=i;break}}return n}}Ff.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(const t in Ff.prototype.allowedEvents_)Ff.prototype["on"+t]=null;const J2=function(t,e){for(let n=0;n<t.length;n++)!Object.keys(t[n]).length||e.id===t[n].id||(t[n].enabled=!1)};class Ome extends Ff{constructor(e=[]){for(let n=e.length-1;n>=0;n--)if(e[n].enabled){J2(e,e[n]);break}super(e),this.changing_=!1}addTrack(e){e.enabled&&J2(this,e),super.addTrack(e),e.addEventListener&&(e.enabledChange_=()=>{this.changing_||(this.changing_=!0,J2(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)}}const eS=function(t,e){for(let n=0;n<t.length;n++)!Object.keys(t[n]).length||e.id===t[n].id||(t[n].selected=!1)};class Mme extends Ff{constructor(e=[]){for(let n=e.length-1;n>=0;n--)if(e[n].selected){eS(e,e[n]);break}super(e),this.changing_=!1,Object.defineProperty(this,"selectedIndex",{get(){for(let n=0;n<this.length;n++)if(this[n].selected)return n;return-1},set(){}})}addTrack(e){e.selected&&eS(this,e),super.addTrack(e),e.addEventListener&&(e.selectedChange_=()=>{this.changing_||(this.changing_=!0,eS(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)}}class jB extends Ff{addTrack(e){super.addTrack(e),this.queueChange_||(this.queueChange_=()=>this.queueTrigger("change")),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=()=>this.trigger("selectedlanguagechange")),e.addEventListener("modechange",this.queueChange_),["metadata","chapters"].indexOf(e.kind)===-1&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)}removeTrack(e){super.removeTrack(e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))}}class Rme{constructor(e=[]){this.trackElements_=[],Object.defineProperty(this,"length",{get(){return this.trackElements_.length}});for(let n=0,r=e.length;n<r;n++)this.addTrackElement_(e[n])}addTrackElement_(e){const n=this.trackElements_.length;""+n in this||Object.defineProperty(this,n,{get(){return this.trackElements_[n]}}),this.trackElements_.indexOf(e)===-1&&this.trackElements_.push(e)}getTrackElementByTrack_(e){let n;for(let r=0,s=this.trackElements_.length;r<s;r++)if(e===this.trackElements_[r].track){n=this.trackElements_[r];break}return n}removeTrackElement_(e){for(let n=0,r=this.trackElements_.length;n<r;n++)if(e===this.trackElements_[n]){this.trackElements_[n].track&&typeof this.trackElements_[n].track.off=="function"&&this.trackElements_[n].track.off(),typeof this.trackElements_[n].off=="function"&&this.trackElements_[n].off(),this.trackElements_.splice(n,1);break}}}class Zx{constructor(e){Zx.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get(){return this.length_}})}setCues_(e){const n=this.length||0;let r=0;const s=e.length;this.cues_=e,this.length_=e.length;const i=function(a){""+a in this||Object.defineProperty(this,""+a,{get(){return this.cues_[a]}})};if(n<s)for(r=n;r<s;r++)i.call(this,r)}getCueById(e){let n=null;for(let r=0,s=this.length;r<s;r++){const i=this[r];if(i.id===e){n=i;break}}return n}}const Lme={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Fme={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},Bme={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},CP={disabled:"disabled",hidden:"hidden",showing:"showing"};class lj extends aa{constructor(e={}){super();const n={id:e.id||"vjs_track_"+Ua(),kind:e.kind||"",language:e.language||""};let r=e.label||"";for(const s in n)Object.defineProperty(this,s,{get(){return n[s]},set(){}});Object.defineProperty(this,"label",{get(){return r},set(s){s!==r&&(r=s,this.trigger("labelchange"))}})}}const cj=function(t){return new URL(t,Et.baseURI)},NB=function(t){return new URL(t,Et.baseURI).href},uj=function(t){if(typeof t=="string"){const n=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(t);if(n)return n.pop().toLowerCase()}return""},z1=function(t,e=Se.location){return cj(t).origin!==e.origin};var $me=Object.freeze({__proto__:null,parseUrl:cj,getAbsoluteURL:NB,getFileExtension:uj,isCrossOrigin:z1});const TP=function(t,e){const n=new Se.WebVTT.Parser(Se,Se.vttjs,Se.WebVTT.StringDecoder()),r=[];n.oncue=function(s){e.addCue(s)},n.onparsingerror=function(s){r.push(s)},n.onflush=function(){e.trigger({type:"loadeddata",target:e})},n.parse(t),r.length>0&&(Se.console&&Se.console.groupCollapsed&&Se.console.groupCollapsed(`Text Track parsing errors for ${e.src}`),r.forEach(s=>En.error(s)),Se.console&&Se.console.groupEnd&&Se.console.groupEnd()),n.flush()},kP=function(t,e){const n={uri:t},r=z1(t);r&&(n.cors=r);const s=e.tech_.crossOrigin()==="use-credentials";s&&(n.withCredentials=s),IF(n,gr(this,function(i,a,l){if(i)return En.error(i,a);e.loaded_=!0,typeof Se.WebVTT!="function"?e.tech_&&e.tech_.any(["vttjsloaded","vttjserror"],c=>{if(c.type==="vttjserror"){En.error(`vttjs failed to load, stopping trying to process ${e.src}`);return}return TP(l,e)}):TP(l,e)}))};class y0 extends lj{constructor(e={}){if(!e.tech)throw new Error("A tech was not provided.");const n=lr(e,{kind:Bme[e.kind]||"subtitles",language:e.language||e.srclang||""});let r=CP[n.mode]||"disabled";const s=n.default;(n.kind==="metadata"||n.kind==="chapters")&&(r="hidden"),super(n),this.tech_=n.tech,this.cues_=[],this.activeCues_=[],this.preload_=this.tech_.preloadTextTracks!==!1;const i=new Zx(this.cues_),a=new Zx(this.activeCues_);let l=!1;this.timeupdateHandler=gr(this,function(u={}){if(!this.tech_.isDisposed()){if(!this.tech_.isReady_){u.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler));return}this.activeCues=this.activeCues,l&&(this.trigger("cuechange"),l=!1),u.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}});const c=()=>{this.stopTracking()};this.tech_.one("dispose",c),r!=="disabled"&&this.startTracking(),Object.defineProperties(this,{default:{get(){return s},set(){}},mode:{get(){return r},set(u){CP[u]&&r!==u&&(r=u,!this.preload_&&r!=="disabled"&&this.cues.length===0&&kP(this.src,this),this.stopTracking(),r!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get(){return this.loaded_?i:null},set(){}},activeCues:{get(){if(!this.loaded_)return null;if(this.cues.length===0)return a;const u=this.tech_.currentTime(),h=[];for(let f=0,m=this.cues.length;f<m;f++){const g=this.cues[f];g.startTime<=u&&g.endTime>=u&&h.push(g)}if(l=!1,h.length!==this.activeCues_.length)l=!0;else for(let f=0;f<h.length;f++)this.activeCues_.indexOf(h[f])===-1&&(l=!0);return this.activeCues_=h,a.setCues_(this.activeCues_),a},set(){}}}),n.src?(this.src=n.src,this.preload_||(this.loaded_=!0),(this.preload_||n.kind!=="subtitles"&&n.kind!=="captions")&&kP(this.src,this)):this.loaded_=!0}startTracking(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)}stopTracking(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)}addCue(e){let n=e;if(!("getCueAsHTML"in n)){n=new Se.vttjs.VTTCue(e.startTime,e.endTime,e.text);for(const s in e)s in n||(n[s]=e[s]);n.id=e.id,n.originalCue_=e}const r=this.tech_.textTracks();for(let s=0;s<r.length;s++)r[s]!==this&&r[s].removeCue(n);this.cues_.push(n),this.cues.setCues_(this.cues_)}removeCue(e){let n=this.cues_.length;for(;n--;){const r=this.cues_[n];if(r===e||r.originalCue_&&r.originalCue_===e){this.cues_.splice(n,1),this.cues.setCues_(this.cues_);break}}}}y0.prototype.allowedEvents_={cuechange:"cuechange"};class AB extends lj{constructor(e={}){const n=lr(e,{kind:Fme[e.kind]||""});super(n);let r=!1;Object.defineProperty(this,"enabled",{get(){return r},set(s){typeof s!="boolean"||s===r||(r=s,this.trigger("enabledchange"))}}),n.enabled&&(this.enabled=n.enabled),this.loaded_=!0}}class DB extends lj{constructor(e={}){const n=lr(e,{kind:Lme[e.kind]||""});super(n);let r=!1;Object.defineProperty(this,"selected",{get(){return r},set(s){typeof s!="boolean"||s===r||(r=s,this.trigger("selectedchange"))}}),n.selected&&(this.selected=n.selected)}}class ic extends aa{constructor(e={}){super();let n;const r=new y0(e);this.kind=r.kind,this.src=r.src,this.srclang=r.language,this.label=r.label,this.default=r.default,Object.defineProperties(this,{readyState:{get(){return n}},track:{get(){return r}}}),n=ic.NONE,r.addEventListener("loadeddata",()=>{n=ic.LOADED,this.trigger({type:"load",target:this})})}}ic.prototype.allowedEvents_={load:"load"};ic.NONE=0;ic.LOADING=1;ic.LOADED=2;ic.ERROR=3;const La={audio:{ListClass:Ome,TrackClass:AB,capitalName:"Audio"},video:{ListClass:Mme,TrackClass:DB,capitalName:"Video"},text:{ListClass:jB,TrackClass:y0,capitalName:"Text"}};Object.keys(La).forEach(function(t){La[t].getterName=`${t}Tracks`,La[t].privateName=`${t}Tracks_`});const Bf={remoteText:{ListClass:jB,TrackClass:y0,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Rme,TrackClass:ic,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},di=Object.assign({},La,Bf);Bf.names=Object.keys(Bf);La.names=Object.keys(La);di.names=[].concat(Bf.names).concat(La.names);function zme(t,e,n,r,s={}){const i=t.textTracks();s.kind=e,n&&(s.label=n),r&&(s.language=r),s.tech=t;const a=new di.text.TrackClass(s);return i.addTrack(a),a}class _n extends ht{constructor(e={},n=function(){}){e.reportTouchActivity=!1,super(null,e,n),this.onDurationChange_=r=>this.onDurationChange(r),this.trackProgress_=r=>this.trackProgress(r),this.trackCurrentTime_=r=>this.trackCurrentTime(r),this.stopTrackingCurrentTime_=r=>this.stopTrackingCurrentTime(r),this.disposeSourceHandler_=r=>this.disposeSourceHandler(r),this.queuedHanders_=new Set,this.hasStarted_=!1,this.on("playing",function(){this.hasStarted_=!0}),this.on("loadstart",function(){this.hasStarted_=!1}),di.names.forEach(r=>{const s=di[r];e&&e[s.getterName]&&(this[s.privateName]=e[s.getterName])}),this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(r=>{e[`native${r}Tracks`]===!1&&(this[`featuresNative${r}Tracks`]=!1)}),e.nativeCaptions===!1||e.nativeTextTracks===!1?this.featuresNativeTextTracks=!1:(e.nativeCaptions===!0||e.nativeTextTracks===!0)&&(this.featuresNativeTextTracks=!0),this.featuresNativeTextTracks||this.emulateTextTracks(),this.preloadTextTracks=e.preloadTextTracks!==!1,this.autoRemoteTextTracks_=new di.text.ListClass,this.initTrackListeners(),e.nativeControlsForTouch||this.emitTapEvents(),this.constructor&&(this.name_=this.constructor.name||"Unknown Tech")}triggerSourceset(e){this.isReady_||this.one("ready",()=>this.setTimeout(()=>this.triggerSourceset(e),1)),this.trigger({src:e,type:"sourceset"})}manualProgressOn(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)}manualProgressOff(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)}trackProgress(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(gr(this,function(){const n=this.bufferedPercent();this.bufferedPercent_!==n&&this.trigger("progress"),this.bufferedPercent_=n,n===1&&this.stopTrackingProgress()}),500)}onDurationChange(e){this.duration_=this.duration()}buffered(){return ho(0,0)}bufferedPercent(){return EB(this.buffered(),this.duration_)}stopTrackingProgress(){this.clearInterval(this.progressInterval)}manualTimeUpdatesOn(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)}manualTimeUpdatesOff(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)}trackCurrentTime(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)}stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}dispose(){this.clearTracks(La.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),super.dispose()}clearTracks(e){e=[].concat(e),e.forEach(n=>{const r=this[`${n}Tracks`]()||[];let s=r.length;for(;s--;){const i=r[s];n==="text"&&this.removeRemoteTextTrack(i),r.removeTrack(i)}})}cleanupAutoTextTracks(){const e=this.autoRemoteTextTracks_||[];let n=e.length;for(;n--;){const r=e[n];this.removeRemoteTextTrack(r)}}reset(){}crossOrigin(){}setCrossOrigin(){}error(e){return e!==void 0&&(this.error_=new Fr(e),this.trigger("error")),this.error_}played(){return this.hasStarted_?ho(0,0):ho()}play(){}setScrubbing(e){}scrubbing(){}setCurrentTime(e){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}initTrackListeners(){La.names.forEach(e=>{const n=La[e],r=()=>{this.trigger(`${e}trackchange`)},s=this[n.getterName]();s.addEventListener("removetrack",r),s.addEventListener("addtrack",r),this.on("dispose",()=>{s.removeEventListener("removetrack",r),s.removeEventListener("addtrack",r)})})}addWebVttScript_(){if(!Se.WebVTT)if(Et.body.contains(this.el())){if(!this.options_["vtt.js"]&&Of(q4)&&Object.keys(q4).length>0){this.trigger("vttjsloaded");return}const e=Et.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=()=>{this.trigger("vttjsloaded")},e.onerror=()=>{this.trigger("vttjserror")},this.on("dispose",()=>{e.onload=null,e.onerror=null}),Se.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)}emulateTextTracks(){const e=this.textTracks(),n=this.remoteTextTracks(),r=l=>e.addTrack(l.track),s=l=>e.removeTrack(l.track);n.on("addtrack",r),n.on("removetrack",s),this.addWebVttScript_();const i=()=>this.trigger("texttrackchange"),a=()=>{i();for(let l=0;l<e.length;l++){const c=e[l];c.removeEventListener("cuechange",i),c.mode==="showing"&&c.addEventListener("cuechange",i)}};a(),e.addEventListener("change",a),e.addEventListener("addtrack",a),e.addEventListener("removetrack",a),this.on("dispose",function(){n.off("addtrack",r),n.off("removetrack",s),e.removeEventListener("change",a),e.removeEventListener("addtrack",a),e.removeEventListener("removetrack",a);for(let l=0;l<e.length;l++)e[l].removeEventListener("cuechange",i)})}addTextTrack(e,n,r){if(!e)throw new Error("TextTrack kind is required but was not provided");return zme(this,e,n,r)}createRemoteTextTrack(e){const n=lr(e,{tech:this});return new Bf.remoteTextEl.TrackClass(n)}addRemoteTextTrack(e={},n){const r=this.createRemoteTextTrack(e);return typeof n!="boolean"&&(n=!1),this.remoteTextTrackEls().addTrackElement_(r),this.remoteTextTracks().addTrack(r.track),n===!1&&this.ready(()=>this.autoRemoteTextTracks_.addTrack(r.track)),r}removeRemoteTextTrack(e){const n=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(n),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)}getVideoPlaybackQuality(){return{}}requestPictureInPicture(){return Promise.reject()}disablePictureInPicture(){return!0}setDisablePictureInPicture(){}requestVideoFrameCallback(e){const n=Ua();return!this.isReady_||this.paused()?(this.queuedHanders_.add(n),this.one("playing",()=>{this.queuedHanders_.has(n)&&(this.queuedHanders_.delete(n),e())})):this.requestNamedAnimationFrame(n,e),n}cancelVideoFrameCallback(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)}setPoster(){}playsinline(){}setPlaysinline(){}overrideNativeAudioTracks(e){}overrideNativeVideoTracks(e){}canPlayType(e){return""}static canPlayType(e){return""}static canPlaySource(e,n){return _n.canPlayType(e.type)}static isTech(e){return e.prototype instanceof _n||e instanceof _n||e===_n}static registerTech(e,n){if(_n.techs_||(_n.techs_={}),!_n.isTech(n))throw new Error(`Tech ${e} must be a Tech`);if(!_n.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!_n.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=Ur(e),_n.techs_[e]=n,_n.techs_[Vm(e)]=n,e!=="Tech"&&_n.defaultTechOrder_.push(e),n}static getTech(e){if(e){if(_n.techs_&&_n.techs_[e])return _n.techs_[e];if(e=Ur(e),Se&&Se.videojs&&Se.videojs[e])return En.warn(`The ${e} tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)`),Se.videojs[e]}}}di.names.forEach(function(t){const e=di[t];_n.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}});_n.prototype.featuresVolumeControl=!0;_n.prototype.featuresMuteControl=!0;_n.prototype.featuresFullscreenResize=!1;_n.prototype.featuresPlaybackRate=!1;_n.prototype.featuresProgressEvents=!1;_n.prototype.featuresSourceset=!1;_n.prototype.featuresTimeupdateEvents=!1;_n.prototype.featuresNativeTextTracks=!1;_n.prototype.featuresVideoFrameCallback=!1;_n.withSourceHandlers=function(t){t.registerSourceHandler=function(n,r){let s=t.sourceHandlers;s||(s=t.sourceHandlers=[]),r===void 0&&(r=s.length),s.splice(r,0,n)},t.canPlayType=function(n){const r=t.sourceHandlers||[];let s;for(let i=0;i<r.length;i++)if(s=r[i].canPlayType(n),s)return s;return""},t.selectSourceHandler=function(n,r){const s=t.sourceHandlers||[];let i;for(let a=0;a<s.length;a++)if(i=s[a].canHandleSource(n,r),i)return s[a];return null},t.canPlaySource=function(n,r){const s=t.selectSourceHandler(n,r);return s?s.canHandleSource(n,r):""},["seekable","seeking","duration"].forEach(function(n){const r=this[n];typeof r=="function"&&(this[n]=function(){return this.sourceHandler_&&this.sourceHandler_[n]?this.sourceHandler_[n].apply(this.sourceHandler_,arguments):r.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(n){let r=t.selectSourceHandler(n,this.options_);r||(t.nativeSourceHandler?r=t.nativeSourceHandler:En.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),r!==t.nativeSourceHandler&&(this.currentSource_=n),this.sourceHandler_=r.handleSource(n,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};ht.registerComponent("Tech",_n);_n.registerTech("Tech",_n);_n.defaultTechOrder_=[];const kd={},Jx={},ev={};function Ume(t,e){kd[t]=kd[t]||[],kd[t].push(e)}function Hme(t,e,n){t.setTimeout(()=>ad(e,kd[e.type],n,t),1)}function Wme(t,e){t.forEach(n=>n.setTech&&n.setTech(e))}function Vme(t,e,n){return t.reduceRight(dj(n),e[n]())}function qme(t,e,n,r){return e[n](t.reduce(dj(n),r))}function EP(t,e,n,r=null){const s="call"+Ur(n),i=t.reduce(dj(s),r),a=i===ev,l=a?null:e[n](i);return Kme(t,n,l,a),l}const Yme={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},Gme={setCurrentTime:1,setMuted:1,setVolume:1},jP={play:1,pause:1};function dj(t){return(e,n)=>e===ev?ev:n[t]?n[t](e):e}function Kme(t,e,n,r){for(let s=t.length-1;s>=0;s--){const i=t[s];i[e]&&i[e](r,n)}}function Xme(t){Jx.hasOwnProperty(t.id())&&delete Jx[t.id()]}function Qme(t,e){const n=Jx[t.id()];let r=null;if(n==null)return r=e(t),Jx[t.id()]=[[e,r]],r;for(let s=0;s<n.length;s++){const[i,a]=n[s];i===e&&(r=a)}return r===null&&(r=e(t),n.push([e,r])),r}function ad(t={},e=[],n,r,s=[],i=!1){const[a,...l]=e;if(typeof a=="string")ad(t,kd[a],n,r,s,i);else if(a){const c=Qme(r,a);if(!c.setSource)return s.push(c),ad(t,l,n,r,s,i);c.setSource(Object.assign({},t),function(u,h){if(u)return ad(t,l,n,r,s,i);s.push(c),ad(h,t.type===h.type?l:kd[h.type],n,r,s,i)})}else l.length?ad(t,l,n,r,s,i):i?n(t,s):ad(t,kd["*"],n,r,s,!0)}const Zme={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},tv=function(t=""){const e=uj(t);return Zme[e.toLowerCase()]||""},Jme=(t,e)=>{if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;const n=t.cache_.sources.filter(s=>s.src===e);if(n.length)return n[0].type;const r=t.$$("source");for(let s=0;s<r.length;s++){const i=r[s];if(i.type&&i.src&&i.src===e)return i.type}return tv(e)},PB=function(t){if(Array.isArray(t)){let e=[];t.forEach(function(n){n=PB(n),Array.isArray(n)?e=e.concat(n):ul(n)&&e.push(n)}),t=e}else typeof t=="string"&&t.trim()?t=[NP({src:t})]:ul(t)&&typeof t.src=="string"&&t.src&&t.src.trim()?t=[NP(t)]:t=[];return t};function NP(t){if(!t.type){const e=tv(t.src);e&&(t.type=e)}return t}var ege=`<svg xmlns="http://www.w3.org/2000/svg">
  <defs>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play">
      <path d="M16 10v28l22-14z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-pause">
      <path d="M12 38h8V10h-8v28zm16-28v28h8V10h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-audio">
      <path d="M24 2C14.06 2 6 10.06 6 20v14c0 3.31 2.69 6 6 6h6V24h-8v-4c0-7.73 6.27-14 14-14s14 6.27 14 14v4h-8v16h6c3.31 0 6-2.69 6-6V20c0-9.94-8.06-18-18-18z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-captions">
      <path d="M38 8H10c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM22 22h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2zm14 0h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-subtitles">
      <path d="M40 8H8c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM8 24h8v4H8v-4zm20 12H8v-4h20v4zm12 0h-8v-4h8v4zm0-8H20v-4h20v4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-enter">
      <path d="M14 28h-4v10h10v-4h-6v-6zm-4-8h4v-6h6v-4H10v10zm24 14h-6v4h10V28h-4v6zm-6-24v4h6v6h4V10H28z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-exit">
      <path d="M10 32h6v6h4V28H10v4zm6-16h-6v4h10V10h-4v6zm12 22h4v-6h6v-4H28v10zm4-22v-6h-4v10h10v-4h-6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play-circle">
      <path d="M20 33l12-9-12-9v18zm4-29C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-mute">
      <path d="M33 24c0-3.53-2.04-6.58-5-8.05v4.42l4.91 4.91c.06-.42.09-.85.09-1.28zm5 0c0 1.88-.41 3.65-1.08 5.28l3.03 3.03C41.25 29.82 42 27 42 24c0-8.56-5.99-15.72-14-17.54v4.13c5.78 1.72 10 7.07 10 13.41zM8.55 6L6 8.55 15.45 18H6v12h8l10 10V26.55l8.51 8.51c-1.34 1.03-2.85 1.86-4.51 2.36v4.13a17.94 17.94 0 0 0 7.37-3.62L39.45 42 42 39.45l-18-18L8.55 6zM24 8l-4.18 4.18L24 16.36V8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-low">
      <path d="M14 18v12h8l10 10V8L22 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-medium">
      <path d="M37 24c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zm-27-6v12h8l10 10V8L18 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-high">
      <path d="M6 18v12h8l10 10V8L14 18H6zm27 6c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zM28 6.46v4.13c5.78 1.72 10 7.07 10 13.41s-4.22 11.69-10 13.41v4.13c8.01-1.82 14-8.97 14-17.54S36.01 8.28 28 6.46z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-spinner">
      <path d="M18.8 21l9.53-16.51C26.94 4.18 25.49 4 24 4c-4.8 0-9.19 1.69-12.64 4.51l7.33 12.69.11-.2zm24.28-3c-1.84-5.85-6.3-10.52-11.99-12.68L23.77 18h19.31zm.52 2H28.62l.58 1 9.53 16.5C41.99 33.94 44 29.21 44 24c0-1.37-.14-2.71-.4-4zm-26.53 4l-7.8-13.5C6.01 14.06 4 18.79 4 24c0 1.37.14 2.71.4 4h14.98l-2.31-4zM4.92 30c1.84 5.85 6.3 10.52 11.99 12.68L24.23 30H4.92zm22.54 0l-7.8 13.51c1.4.31 2.85.49 4.34.49 4.8 0 9.19-1.69 12.64-4.51L29.31 26.8 27.46 30z"></path>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-hd">
      <path d="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm2-6h4c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1h-4V9zm1.5 4.5h2v-3h-2v3z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-chapters">
      <path d="M6 26h4v-4H6v4zm0 8h4v-4H6v4zm0-16h4v-4H6v4zm8 8h28v-4H14v4zm0 8h28v-4H14v4zm0-20v4h28v-4H14z"></path>
    </symbol>
    <symbol viewBox="0 0 40 40" id="vjs-icon-downloading">
      <path d="M18.208 36.875q-3.208-.292-5.979-1.729-2.771-1.438-4.812-3.729-2.042-2.292-3.188-5.229-1.146-2.938-1.146-6.23 0-6.583 4.334-11.416 4.333-4.834 10.833-5.5v3.166q-5.167.75-8.583 4.646Q6.25 14.75 6.25 19.958q0 5.209 3.396 9.104 3.396 3.896 8.562 4.646zM20 28.417L11.542 20l2.083-2.083 4.917 4.916v-11.25h2.916v11.25l4.875-4.916L28.417 20zm1.792 8.458v-3.167q1.833-.25 3.541-.958 1.709-.708 3.167-1.875l2.333 2.292q-1.958 1.583-4.25 2.541-2.291.959-4.791 1.167zm6.791-27.792q-1.541-1.125-3.25-1.854-1.708-.729-3.541-1.021V3.042q2.5.25 4.77 1.208 2.271.958 4.271 2.5zm4.584 21.584l-2.25-2.25q1.166-1.5 1.854-3.209.687-1.708.937-3.541h3.209q-.292 2.5-1.229 4.791-.938 2.292-2.521 4.209zm.541-12.417q-.291-1.833-.958-3.562-.667-1.73-1.833-3.188l2.375-2.208q1.541 1.916 2.458 4.208.917 2.292 1.167 4.75z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download">
      <path d="M10.8 40.55q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h26.35v-7.7h3.4v7.7q0 1.4-1 2.4t-2.4 1zM24 32.1L13.9 22.05l2.45-2.45 5.95 5.95V7.15h3.4v18.4l5.95-5.95 2.45 2.45z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-done">
      <path d="M9.8 40.5v-3.45h28.4v3.45zm9.2-9.05L7.4 19.85l2.45-2.35L19 26.65l19.2-19.2 2.4 2.4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-off">
      <path d="M4.9 4.75L43.25 43.1 41 45.3l-4.75-4.75q-.05.05-.075.025-.025-.025-.075-.025H10.8q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h22.05l-7-7-1.85 1.8L13.9 21.9l1.85-1.85L2.7 7zm26.75 14.7l2.45 2.45-3.75 3.8-2.45-2.5zM25.7 7.15V21.1l-3.4-3.45V7.15z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-share">
      <path d="M36 32.17c-1.52 0-2.89.59-3.93 1.54L17.82 25.4c.11-.45.18-.92.18-1.4s-.07-.95-.18-1.4l14.1-8.23c1.07 1 2.5 1.62 4.08 1.62 3.31 0 6-2.69 6-6s-2.69-6-6-6-6 2.69-6 6c0 .48.07.95.18 1.4l-14.1 8.23c-1.07-1-2.5-1.62-4.08-1.62-3.31 0-6 2.69-6 6s2.69 6 6 6c1.58 0 3.01-.62 4.08-1.62l14.25 8.31c-.1.42-.16.86-.16 1.31A5.83 5.83 0 1 0 36 32.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cog">
      <path d="M38.86 25.95c.08-.64.14-1.29.14-1.95s-.06-1.31-.14-1.95l4.23-3.31c.38-.3.49-.84.24-1.28l-4-6.93c-.25-.43-.77-.61-1.22-.43l-4.98 2.01c-1.03-.79-2.16-1.46-3.38-1.97L29 4.84c-.09-.47-.5-.84-1-.84h-8c-.5 0-.91.37-.99.84l-.75 5.3a14.8 14.8 0 0 0-3.38 1.97L9.9 10.1a1 1 0 0 0-1.22.43l-4 6.93c-.25.43-.14.97.24 1.28l4.22 3.31C9.06 22.69 9 23.34 9 24s.06 1.31.14 1.95l-4.22 3.31c-.38.3-.49.84-.24 1.28l4 6.93c.25.43.77.61 1.22.43l4.98-2.01c1.03.79 2.16 1.46 3.38 1.97l.75 5.3c.08.47.49.84.99.84h8c.5 0 .91-.37.99-.84l.75-5.3a14.8 14.8 0 0 0 3.38-1.97l4.98 2.01a1 1 0 0 0 1.22-.43l4-6.93c.25-.43.14-.97-.24-1.28l-4.22-3.31zM24 31c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-square">
      <path d="M36 8H12c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h24c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm0 28H12V12h24v24z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle">
      <circle cx="24" cy="24" r="20"></circle>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-outline">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-inner-circle">
      <path d="M24 4C12.97 4 4 12.97 4 24s8.97 20 20 20 20-8.97 20-20S35.03 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16zm6-16c0 3.31-2.69 6-6 6s-6-2.69-6-6 2.69-6 6-6 6 2.69 6 6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cancel">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm10 27.17L31.17 34 24 26.83 16.83 34 14 31.17 21.17 24 14 16.83 16.83 14 24 21.17 31.17 14 34 16.83 26.83 24 34 31.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-replay">
      <path d="M24 10V2L14 12l10 10v-8c6.63 0 12 5.37 12 12s-5.37 12-12 12-12-5.37-12-12H8c0 8.84 7.16 16 16 16s16-7.16 16-16-7.16-16-16-16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-repeat">
      <path d="M14 14h20v6l8-8-8-8v6H10v12h4v-8zm20 20H14v-6l-8 8 8 8v-6h24V26h-4v8z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-5">
      <path d="M17.689 98l-8.697 8.696 8.697 8.697 2.486-2.485-4.32-4.319h1.302c4.93 0 9.071 1.722 12.424 5.165 3.352 3.443 5.029 7.638 5.029 12.584h3.55c0-2.958-.553-5.73-1.658-8.313-1.104-2.583-2.622-4.841-4.555-6.774-1.932-1.932-4.19-3.45-6.773-4.555-2.584-1.104-5.355-1.657-8.313-1.657H15.5l4.615-4.615zm-8.08 21.659v13.861h11.357v5.008H9.609V143h12.7c.834 0 1.55-.298 2.146-.894.596-.597.895-1.31.895-2.145v-7.781c0-.835-.299-1.55-.895-2.147a2.929 2.929 0 0 0-2.147-.894h-8.227v-5.096H25.35v-4.384z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-10">
      <path d="M42.315 125.63c0-4.997-1.694-9.235-5.08-12.713-3.388-3.479-7.571-5.218-12.552-5.218h-1.315l4.363 4.363-2.51 2.51-8.787-8.786L25.221 97l2.45 2.45-4.662 4.663h1.375c2.988 0 5.788.557 8.397 1.673 2.61 1.116 4.892 2.65 6.844 4.602 1.953 1.953 3.487 4.234 4.602 6.844 1.116 2.61 1.674 5.41 1.674 8.398zM8.183 142v-19.657H3.176V117.8h9.643V142zm13.63 0c-1.156 0-2.127-.393-2.912-1.178-.778-.778-1.168-1.746-1.168-2.902v-16.04c0-1.156.393-2.127 1.178-2.912.779-.779 1.746-1.168 2.902-1.168h7.696c1.156 0 2.126.392 2.911 1.177.779.78 1.168 1.747 1.168 2.903v16.04c0 1.156-.392 2.127-1.177 2.912-.779.779-1.746 1.168-2.902 1.168zm.556-4.636h6.583v-15.02H22.37z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-30">
      <path d="M26.047 97l-8.733 8.732 8.733 8.733 2.496-2.494-4.336-4.338h1.307c4.95 0 9.108 1.73 12.474 5.187 3.367 3.458 5.051 7.668 5.051 12.635h3.565c0-2.97-.556-5.751-1.665-8.346-1.109-2.594-2.633-4.862-4.574-6.802-1.94-1.941-4.208-3.466-6.803-4.575-2.594-1.109-5.375-1.664-8.345-1.664H23.85l4.634-4.634zM2.555 117.531v4.688h10.297v5.25H5.873v4.687h6.979v5.156H2.555V142H13.36c1.061 0 1.95-.395 2.668-1.186.718-.79 1.076-1.772 1.076-2.94v-16.218c0-1.168-.358-2.149-1.076-2.94-.717-.79-1.607-1.185-2.668-1.185zm22.482.14c-1.149 0-2.11.39-2.885 1.165-.78.78-1.172 1.744-1.172 2.893v15.943c0 1.149.388 2.11 1.163 2.885.78.78 1.745 1.172 2.894 1.172h7.649c1.148 0 2.11-.388 2.884-1.163.78-.78 1.17-1.745 1.17-2.894v-15.943c0-1.15-.386-2.111-1.16-2.885-.78-.78-1.746-1.172-2.894-1.172zm.553 4.518h6.545v14.93H25.59z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-5">
      <path d="M29.508 97l-2.431 2.43 4.625 4.625h-1.364c-2.965 0-5.742.554-8.332 1.66-2.589 1.107-4.851 2.629-6.788 4.566-1.937 1.937-3.458 4.2-4.565 6.788-1.107 2.59-1.66 5.367-1.66 8.331h3.557c0-4.957 1.68-9.16 5.04-12.611 3.36-3.45 7.51-5.177 12.451-5.177h1.304l-4.326 4.33 2.49 2.49 8.715-8.716zm-9.783 21.61v13.89h11.382v5.018H19.725V142h12.727a2.93 2.93 0 0 0 2.15-.896 2.93 2.93 0 0 0 .896-2.15v-7.798c0-.837-.299-1.554-.896-2.152a2.93 2.93 0 0 0-2.15-.896h-8.245V123h11.29v-4.392z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-10">
      <path d="M23.119 97l-2.386 2.383 4.538 4.538h-1.339c-2.908 0-5.633.543-8.173 1.63-2.54 1.085-4.76 2.577-6.66 4.478-1.9 1.9-3.392 4.12-4.478 6.66-1.085 2.54-1.629 5.264-1.629 8.172h3.49c0-4.863 1.648-8.986 4.944-12.372 3.297-3.385 7.368-5.078 12.216-5.078h1.279l-4.245 4.247 2.443 2.442 8.55-8.55zm-9.52 21.45v4.42h4.871V142h4.513v-23.55zm18.136 0c-1.125 0-2.066.377-2.824 1.135-.764.764-1.148 1.709-1.148 2.834v15.612c0 1.124.38 2.066 1.139 2.824.764.764 1.708 1.145 2.833 1.145h7.489c1.125 0 2.066-.378 2.824-1.136.764-.764 1.145-1.709 1.145-2.833v-15.612c0-1.125-.378-2.067-1.136-2.825-.764-.764-1.708-1.145-2.833-1.145zm.54 4.42h6.408v14.617h-6.407z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-30">
      <path d="M25.549 97l-2.437 2.434 4.634 4.635H26.38c-2.97 0-5.753.555-8.347 1.664-2.594 1.109-4.861 2.633-6.802 4.574-1.94 1.94-3.465 4.207-4.574 6.802-1.109 2.594-1.664 5.377-1.664 8.347h3.565c0-4.967 1.683-9.178 5.05-12.636 3.366-3.458 7.525-5.187 12.475-5.187h1.307l-4.335 4.338 2.495 2.494 8.732-8.732zm-11.553 20.53v4.689h10.297v5.249h-6.978v4.688h6.978v5.156H13.996V142h10.808c1.06 0 1.948-.395 2.666-1.186.718-.79 1.077-1.771 1.077-2.94v-16.217c0-1.169-.36-2.15-1.077-2.94-.718-.79-1.605-1.186-2.666-1.186zm21.174.168c-1.149 0-2.11.389-2.884 1.163-.78.78-1.172 1.745-1.172 2.894v15.942c0 1.15.388 2.11 1.162 2.885.78.78 1.745 1.17 2.894 1.17h7.649c1.149 0 2.11-.386 2.885-1.16.78-.78 1.17-1.746 1.17-2.895v-15.942c0-1.15-.387-2.11-1.161-2.885-.78-.78-1.745-1.172-2.894-1.172zm.552 4.516h6.542v14.931h-6.542z"></path>
    </symbol>
    <symbol viewBox="0 0 512 512" id="vjs-icon-audio-description">
      <g fill-rule="evenodd"><path d="M227.29 381.351V162.993c50.38-1.017 89.108-3.028 117.631 17.126 27.374 19.342 48.734 56.965 44.89 105.325-4.067 51.155-41.335 94.139-89.776 98.475-24.085 2.155-71.972 0-71.972 0s-.84-1.352-.773-2.568m48.755-54.804c31.43 1.26 53.208-16.633 56.495-45.386 4.403-38.51-21.188-63.552-58.041-60.796v103.612c-.036 1.466.575 2.22 1.546 2.57"></path><path d="M383.78 381.328c13.336 3.71 17.387-11.06 23.215-21.408 12.722-22.571 22.294-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.226 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M425.154 381.328c13.336 3.71 17.384-11.061 23.215-21.408 12.721-22.571 22.291-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.511c-.586 3.874 2.226 7.315 3.866 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M466.26 381.328c13.337 3.71 17.385-11.061 23.216-21.408 12.722-22.571 22.292-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.225 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894M4.477 383.005H72.58l18.573-28.484 64.169-.135s.065 19.413.065 28.62h48.756V160.307h-58.816c-5.653 9.537-140.85 222.697-140.85 222.697zm152.667-145.282v71.158l-40.453-.27 40.453-70.888z"></path></g>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-next-item">
      <path d="M12 36l17-12-17-12v24zm20-24v24h4V12h-4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-previous-item">
      <path d="M12 12h4v24h-4zm7 12l17 12V12z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-shuffle">
      <path d="M21.17 18.34L10.83 8 8 10.83l10.34 10.34 2.83-2.83zM29 8l4.09 4.09L8 37.17 10.83 40l25.09-25.09L40 19V8H29zm.66 18.83l-2.83 2.83 6.26 6.26L29 40h11V29l-4.09 4.09-6.25-6.26z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cast">
      <path d="M42 6H6c-2.21 0-4 1.79-4 4v6h4v-6h36v28H28v4h14c2.21 0 4-1.79 4-4V10c0-2.21-1.79-4-4-4zM2 36v6h6c0-3.31-2.69-6-6-6zm0-8v4c5.52 0 10 4.48 10 10h4c0-7.73-6.27-14-14-14zm0-8v4c9.94 0 18 8.06 18 18h4c0-12.15-9.85-22-22-22z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-picture-in-picture-enter">
      <path d="M38 22H22v11.99h16V22zm8 16V9.96C46 7.76 44.2 6 42 6H6C3.8 6 2 7.76 2 9.96V38c0 2.2 1.8 4 4 4h36c2.2 0 4-1.8 4-4zm-4 .04H6V9.94h36v28.1z"></path>
    </symbol>
    <symbol viewBox="0 0 22 18" id="vjs-icon-picture-in-picture-exit">
      <path d="M18 4H4v10h14V4zm4 12V1.98C22 .88 21.1 0 20 0H2C.9 0 0 .88 0 1.98V16c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H2V1.97h18v14.05z"></path>
      <path fill="none" d="M-1-3h24v24H-1z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-facebook">
      <path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759H734V905H479V609h255V391q0-186 104-288.5T1115 0q147 0 228 12z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-linkedin">
      <path d="M477 625v991H147V625h330zm21-306q1 73-50.5 122T312 490h-2q-82 0-132-49t-50-122q0-74 51.5-122.5T314 148t133 48.5T498 319zm1166 729v568h-329v-530q0-105-40.5-164.5T1168 862q-63 0-105.5 34.5T999 982q-11 30-11 81v553H659q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5T1285 602q171 0 275 113.5t104 332.5z"></path>
    </symbol>
    <symbol viewBox="0 0 1200 1227" id="vjs-icon-twitter">
      <path d="M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z"/>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-tumblr">
      <path d="M1328 1329l80 237q-23 35-111 66t-177 32q-104 2-190.5-26T787 1564t-95-106-55.5-120-16.5-118V676H452V461q72-26 129-69.5t91-90 58-102 34-99T779 12q1-5 4.5-8.5T791 0h244v424h333v252h-334v518q0 30 6.5 56t22.5 52.5 49.5 41.5 81.5 14q78-2 134-29z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-pinterest">
      <path d="M1664 896q0 209-103 385.5T1281.5 1561 896 1664q-111 0-218-32 59-93 78-164 9-34 54-211 20 39 73 67.5t114 28.5q121 0 216-68.5t147-188.5 52-270q0-114-59.5-214T1180 449t-255-63q-105 0-196 29t-154.5 77-109 110.5-67 129.5T377 866q0 104 40 183t117 111q30 12 38-20 2-7 8-31t8-30q6-23-11-43-51-61-51-151 0-151 104.5-259.5T904 517q151 0 235.5 82t84.5 213q0 170-68.5 289T980 1220q-61 0-98-43.5T859 1072q8-35 26.5-93.5t30-103T927 800q0-50-27-83t-77-33q-62 0-105 57t-43 142q0 73 25 122l-99 418q-17 70-13 177-206-91-333-281T128 896q0-209 103-385.5T510.5 231 896 128t385.5 103T1561 510.5 1664 896z"></path>
    </symbol>
  </defs>
</svg>`;const AP=Gx?10009:Kx?461:8,zh={codes:{play:415,pause:19,ff:417,rw:412,back:AP},names:{415:"play",19:"pause",417:"ff",412:"rw",[AP]:"back"},isEventKey(t,e){return e=e.toLowerCase(),!!(this.names[t.keyCode]&&this.names[t.keyCode]===e)},getEventName(t){if(this.names[t.keyCode])return this.names[t.keyCode];if(this.codes[t.code]){const e=this.codes[t.code];return this.names[e]}return null}},DP=5;class tge extends aa{constructor(e){super(),this.player_=e,this.focusableComponents=[],this.isListening_=!1,this.isPaused_=!1,this.onKeyDown_=this.onKeyDown_.bind(this),this.lastFocusedComponent_=null}start(){this.isListening_||(this.player_.on("keydown",this.onKeyDown_),this.player_.on("modalKeydown",this.onKeyDown_),this.player_.on("loadedmetadata",()=>{this.focus(this.updateFocusableComponents()[0])}),this.player_.on("modalclose",()=>{this.refocusComponent()}),this.player_.on("focusin",this.handlePlayerFocus_.bind(this)),this.player_.on("focusout",this.handlePlayerBlur_.bind(this)),this.isListening_=!0,this.player_.errorDisplay&&this.player_.errorDisplay.on("aftermodalfill",()=>{this.updateFocusableComponents(),this.focusableComponents.length&&(this.focusableComponents.length>1?this.focusableComponents[1].focus():this.focusableComponents[0].focus())}))}stop(){this.player_.off("keydown",this.onKeyDown_),this.isListening_=!1}onKeyDown_(e){const n=e.originalEvent?e.originalEvent:e;if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(n.key)){if(this.isPaused_)return;n.preventDefault();const r=n.key.substring(5).toLowerCase();this.move(r)}else if(zh.isEventKey(n,"play")||zh.isEventKey(n,"pause")||zh.isEventKey(n,"ff")||zh.isEventKey(n,"rw")){n.preventDefault();const r=zh.getEventName(n);this.performMediaAction_(r)}else zh.isEventKey(n,"Back")&&e.target&&typeof e.target.closeable=="function"&&e.target.closeable()&&(n.preventDefault(),e.target.close())}performMediaAction_(e){if(this.player_)switch(e){case"play":this.player_.paused()&&this.player_.play();break;case"pause":this.player_.paused()||this.player_.pause();break;case"ff":this.userSeek_(this.player_.currentTime()+DP);break;case"rw":this.userSeek_(this.player_.currentTime()-DP);break}}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}pause(){this.isPaused_=!0}resume(){this.isPaused_=!1}handlePlayerBlur_(e){const n=e.relatedTarget;let r=null;const s=this.getCurrentComponent(e.target);n&&(r=!!n.closest(".video-js"),n.classList.contains("vjs-text-track-settings")&&!this.isPaused_&&this.searchForTrackSelect_()),(!e.currentTarget.contains(e.relatedTarget)&&!r||!n)&&(s&&s.name()==="CloseButton"?this.refocusComponent():(this.pause(),s&&s.el()&&(this.lastFocusedComponent_=s)))}handlePlayerFocus_(){this.getCurrentComponent()&&this.getCurrentComponent().getIsFocusable()&&this.resume()}updateFocusableComponents(){const e=this.player_,n=[];function r(s){for(const i of s)i.hasOwnProperty("el_")&&i.getIsFocusable()&&i.getIsAvailableToBeFocused(i.el())&&n.push(i),i.hasOwnProperty("children_")&&i.children_.length>0&&r(i.children_)}return e.children_.forEach(s=>{if(s.hasOwnProperty("el_"))if(s.getIsFocusable&&s.getIsAvailableToBeFocused&&s.getIsFocusable()&&s.getIsAvailableToBeFocused(s.el())){n.push(s);return}else s.hasOwnProperty("children_")&&s.children_.length>0?r(s.children_):s.hasOwnProperty("items")&&s.items.length>0?r(s.items):this.findSuitableDOMChild(s)&&n.push(s);if(s.name_==="ErrorDisplay"&&s.opened_){const i=s.el_.querySelector(".vjs-errors-ok-button-container");i&&i.querySelectorAll("button").forEach((l,c)=>{n.push({name:()=>"ModalButton"+(c+1),el:()=>l,getPositions:()=>{const u=l.getBoundingClientRect(),h={x:u.x,y:u.y,width:u.width,height:u.height,top:u.top,right:u.right,bottom:u.bottom,left:u.left},f={x:u.left+u.width/2,y:u.top+u.height/2,width:0,height:0,top:u.top+u.height/2,right:u.left+u.width/2,bottom:u.top+u.height/2,left:u.left+u.width/2};return{boundingClientRect:h,center:f}},getIsAvailableToBeFocused:()=>!0,getIsFocusable:u=>!0,focus:()=>l.focus()})})}}),this.focusableComponents=n,this.focusableComponents}findSuitableDOMChild(e){function n(r){if(e.getIsFocusable(r)&&e.getIsAvailableToBeFocused(r))return r;for(let s=0;s<r.children.length;s++){const i=r.children[s],a=n(i);if(a)return a}return null}return e.el()?n(e.el()):null}getCurrentComponent(e){this.updateFocusableComponents();const n=e||document.activeElement;if(this.focusableComponents.length){for(const r of this.focusableComponents)if(r.el()===n)return r}}add(e){const n=[...this.focusableComponents];e.hasOwnProperty("el_")&&e.getIsFocusable()&&e.getIsAvailableToBeFocused(e.el())&&n.push(e),this.focusableComponents=n,this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents})}remove(e){for(let n=0;n<this.focusableComponents.length;n++)if(this.focusableComponents[n].name()===e.name()){this.focusableComponents.splice(n,1),this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents});return}}clear(){this.focusableComponents.length>0&&(this.focusableComponents=[],this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents}))}move(e){const n=this.getCurrentComponent();if(!n)return;const r=n.getPositions(),s=this.focusableComponents.filter(a=>a!==n&&this.isInDirection_(r.boundingClientRect,a.getPositions().boundingClientRect,e)),i=this.findBestCandidate_(r.center,s,e);i?this.focus(i):this.trigger({type:"endOfFocusableComponents",direction:e,focusedComponent:n})}findBestCandidate_(e,n,r){let s=1/0,i=null;for(const a of n){const l=a.getPositions().center,c=this.calculateDistance_(e,l,r);c<s&&(s=c,i=a)}return i}isInDirection_(e,n,r){switch(r){case"right":return n.left>=e.right;case"left":return n.right<=e.left;case"down":return n.top>=e.bottom;case"up":return n.bottom<=e.top;default:return!1}}refocusComponent(){if(this.lastFocusedComponent_){this.player_.userActive()||this.player_.userActive(!0),this.updateFocusableComponents();for(let e=0;e<this.focusableComponents.length;e++)if(this.focusableComponents[e].name()===this.lastFocusedComponent_.name()){this.focus(this.focusableComponents[e]);return}}else this.focus(this.updateFocusableComponents()[0])}focus(e){typeof e=="object"&&(e.getIsAvailableToBeFocused(e.el())?e.focus():this.findSuitableDOMChild(e)&&this.findSuitableDOMChild(e).focus())}calculateDistance_(e,n,r){const s=Math.abs(e.x-n.x),i=Math.abs(e.y-n.y);let a;switch(r){case"right":case"left":a=s+i*100;break;case"up":a=i*2+s*.5;break;case"down":a=i*5+s;break;default:a=s+i}return a}searchForTrackSelect_(){const e=this;for(const n of e.updateFocusableComponents())if(n.constructor.name==="TextTrackSelect"){e.focus(n);break}}}class nge extends ht{constructor(e,n,r){const s=lr({createEl:!1},n);if(super(e,s,r),!n.playerOptions.sources||n.playerOptions.sources.length===0)for(let i=0,a=n.playerOptions.techOrder;i<a.length;i++){const l=Ur(a[i]);let c=_n.getTech(l);if(l||(c=ht.getComponent(l)),c&&c.isSupported()){e.loadTech_(l);break}}else e.src(n.playerOptions.sources)}}ht.registerComponent("MediaLoader",nge);class U1 extends ht{constructor(e,n){super(e,n),this.options_.controlText&&this.controlText(this.options_.controlText),this.handleMouseOver_=r=>this.handleMouseOver(r),this.handleMouseOut_=r=>this.handleMouseOut(r),this.handleClick_=r=>this.handleClick(r),this.handleKeyDown_=r=>this.handleKeyDown(r),this.emitTapEvents(),this.enable()}createEl(e="div",n={},r={}){n=Object.assign({className:this.buildCSSClass(),tabIndex:0},n),e==="button"&&En.error(`Creating a ClickableComponent with an HTML element of ${e} is not supported; use a Button instead.`),r=Object.assign({role:"button"},r),this.tabIndex_=n.tabIndex;const s=fn(e,n,r);return this.player_.options_.experimentalSvgIcons||s.appendChild(fn("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(s),s}dispose(){this.controlTextEl_=null,super.dispose()}createControlTextEl(e){return this.controlTextEl_=fn("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_}controlText(e,n=this.el()){if(e===void 0)return this.controlText_||"Need Text";const r=this.localize(e);this.controlText_=e,_u(this.controlTextEl_,r),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&n.setAttribute("title",r)}buildCSSClass(){return`vjs-control vjs-button ${super.buildCSSClass()}`}enable(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))}disable(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)}handleLanguagechange(){this.controlText(this.controlText_)}handleClick(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)}handleKeyDown(e){e.key===" "||e.key==="Enter"?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}ht.registerComponent("ClickableComponent",U1);class nT extends U1{constructor(e,n){super(e,n),this.update(),this.update_=r=>this.update(r),e.on("posterchange",this.update_)}dispose(){this.player().off("posterchange",this.update_),super.dispose()}createEl(){return fn("div",{className:"vjs-poster"})}crossOrigin(e){if(typeof e>"u")return this.$("img")?this.$("img").crossOrigin:this.player_.tech_&&this.player_.tech_.isReady_?this.player_.crossOrigin():this.player_.options_.crossOrigin||this.player_.options_.crossorigin||null;if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){this.player_.log.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.$("img")&&(this.$("img").crossOrigin=e)}update(e){const n=this.player().poster();this.setSrc(n),n?this.show():this.hide()}setSrc(e){if(!e){this.el_.textContent="";return}this.$("img")||this.el_.appendChild(fn("picture",{className:"vjs-poster",tabIndex:-1},{},fn("img",{loading:"lazy",crossOrigin:this.crossOrigin()},{alt:""}))),this.$("img").src=e}handleClick(e){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?Jo(this.player_.play()):this.player_.pause())}}nT.prototype.crossorigin=nT.prototype.crossOrigin;ht.registerComponent("PosterImage",nT);const Ea="#222",PP="#ccc",rge={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function tS(t,e){let n;if(t.length===4)n=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else if(t.length===7)n=t.slice(1);else throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+e+")"}function Uo(t,e,n){try{t.style[e]=n}catch{return}}function IP(t){return t?`${t}px`:""}class sge extends ht{constructor(e,n,r){super(e,n,r);const s=a=>this.updateDisplay(a),i=a=>{this.updateDisplayOverlay(),this.updateDisplay(a)};e.on("loadstart",a=>this.toggleDisplay(a)),e.on("texttrackchange",s),e.on("loadedmetadata",a=>{this.updateDisplayOverlay(),this.preselectTrack(a)}),e.ready(gr(this,function(){if(e.tech_&&e.tech_.featuresNativeTextTracks){this.hide();return}e.on("fullscreenchange",i),e.on("playerresize",i);const a=Se.screen.orientation||Se,l=Se.screen.orientation?"change":"orientationchange";a.addEventListener(l,i),e.on("dispose",()=>a.removeEventListener(l,i));const c=this.options_.playerOptions.tracks||[];for(let u=0;u<c.length;u++)this.player_.addRemoteTextTrack(c[u],!0);this.preselectTrack()}))}preselectTrack(){const e={captions:1,subtitles:1},n=this.player_.textTracks(),r=this.player_.cache_.selectedLanguage;let s,i,a;for(let l=0;l<n.length;l++){const c=n[l];r&&r.enabled&&r.language&&r.language===c.language&&c.kind in e?c.kind===r.kind?a=c:a||(a=c):r&&!r.enabled?(a=null,s=null,i=null):c.default&&(c.kind==="descriptions"&&!s?s=c:c.kind in e&&!i&&(i=c))}a?a.mode="showing":i?i.mode="showing":s&&(s.mode="showing")}toggleDisplay(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()}createEl(){return super.createEl("div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})}clearDisplay(){typeof Se.WebVTT=="function"&&Se.WebVTT.processCues(Se,[],this.el_)}updateDisplay(){const e=this.player_.textTracks(),n=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),n){const a=[];for(let l=0;l<e.length;++l){const c=e[l];c.mode==="showing"&&a.push(c)}this.updateForTrack(a);return}let r=null,s=null,i=e.length;for(;i--;){const a=e[i];a.mode==="showing"&&(a.kind==="descriptions"?r=a:s=a)}if(s?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(s)):r&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(r)),!Se.CSS.supports("inset","10px")){const a=this.el_,l=a.querySelectorAll(".vjs-text-track-cue"),c=this.player_.controlBar.el_.getBoundingClientRect().height,u=this.player_.el_.getBoundingClientRect().height;a.style="",Uo(a,"position","relative"),Uo(a,"height",u-c+"px"),Uo(a,"top","unset"),Xx?Uo(a,"bottom",u+"px"):Uo(a,"bottom","0px"),l.length>0&&l.forEach(h=>{if(h.style.inset){const f=h.style.inset.split(" ");f.length===3&&Object.assign(h.style,{top:f[0],right:f[1],bottom:f[2],left:"unset"})}})}}updateDisplayOverlay(){if(!this.player_.videoHeight()||!Se.CSS.supports("inset-inline: 10px"))return;const e=this.player_.currentWidth(),n=this.player_.currentHeight(),r=e/n,s=this.player_.videoWidth()/this.player_.videoHeight();let i=0,a=0;Math.abs(r-s)>.1&&(r>s?i=Math.round((e-n*s)/2):a=Math.round((n-e/s)/2)),Uo(this.el_,"insetInline",IP(i)),Uo(this.el_,"insetBlock",IP(a))}updateDisplayState(e){const n=this.player_.textTrackSettings.getValues(),r=e.activeCues;let s=r.length;for(;s--;){const i=r[s];if(!i)continue;const a=i.displayState;if(n.color&&(a.firstChild.style.color=n.color),n.textOpacity&&Uo(a.firstChild,"color",tS(n.color||"#fff",n.textOpacity)),n.backgroundColor&&(a.firstChild.style.backgroundColor=n.backgroundColor),n.backgroundOpacity&&Uo(a.firstChild,"backgroundColor",tS(n.backgroundColor||"#000",n.backgroundOpacity)),n.windowColor&&(n.windowOpacity?Uo(a,"backgroundColor",tS(n.windowColor,n.windowOpacity)):a.style.backgroundColor=n.windowColor),n.edgeStyle&&(n.edgeStyle==="dropshadow"?a.firstChild.style.textShadow=`2px 2px 3px ${Ea}, 2px 2px 4px ${Ea}, 2px 2px 5px ${Ea}`:n.edgeStyle==="raised"?a.firstChild.style.textShadow=`1px 1px ${Ea}, 2px 2px ${Ea}, 3px 3px ${Ea}`:n.edgeStyle==="depressed"?a.firstChild.style.textShadow=`1px 1px ${PP}, 0 1px ${PP}, -1px -1px ${Ea}, 0 -1px ${Ea}`:n.edgeStyle==="uniform"&&(a.firstChild.style.textShadow=`0 0 4px ${Ea}, 0 0 4px ${Ea}, 0 0 4px ${Ea}, 0 0 4px ${Ea}`)),n.fontPercent&&n.fontPercent!==1){const l=Se.parseFloat(a.style.fontSize);a.style.fontSize=l*n.fontPercent+"px",a.style.height="auto",a.style.top="auto"}n.fontFamily&&n.fontFamily!=="default"&&(n.fontFamily==="small-caps"?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=rge[n.fontFamily])}}updateForTrack(e){if(Array.isArray(e)||(e=[e]),typeof Se.WebVTT!="function"||e.every(r=>!r.activeCues))return;const n=[];for(let r=0;r<e.length;++r){const s=e[r];for(let i=0;i<s.activeCues.length;++i)n.push(s.activeCues[i])}Se.WebVTT.processCues(Se,n,this.el_);for(let r=0;r<e.length;++r){const s=e[r];for(let i=0;i<s.activeCues.length;++i){const a=s.activeCues[i].displayState;Td(a,"vjs-text-track-cue","vjs-text-track-cue-"+(s.language?s.language:r)),s.language&&Mf(a,"lang",s.language)}this.player_.textTrackSettings&&this.updateDisplayState(s)}}}ht.registerComponent("TextTrackDisplay",sge);class ige extends ht{createEl(){const e=this.player_.isAudio(),n=this.localize(e?"Audio Player":"Video Player"),r=fn("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[n])}),s=super.createEl("div",{className:"vjs-loading-spinner",dir:"ltr"});return s.appendChild(r),s}handleLanguagechange(){this.$(".vjs-control-text").textContent=this.localize("{1} is loading.",[this.player_.isAudio()?"Audio Player":"Video Player"])}}ht.registerComponent("LoadingSpinner",ige);class Gs extends U1{createEl(e,n={},r={}){e="button",n=Object.assign({className:this.buildCSSClass()},n),r=Object.assign({type:"button"},r);const s=fn(e,n,r);return this.player_.options_.experimentalSvgIcons||s.appendChild(fn("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(s),s}addChild(e,n={}){const r=this.constructor.name;return En.warn(`Adding an actionable (user controllable) child to a Button (${r}) is not supported; use a ClickableComponent instead.`),ht.prototype.addChild.call(this,e,n)}enable(){super.enable(),this.el_.removeAttribute("disabled")}disable(){super.disable(),this.el_.setAttribute("disabled","disabled")}handleKeyDown(e){if(e.key===" "||e.key==="Enter"){e.stopPropagation();return}super.handleKeyDown(e)}}ht.registerComponent("Button",Gs);class IB extends Gs{constructor(e,n){super(e,n),this.mouseused_=!1,this.setIcon("play"),this.on("mousedown",r=>this.handleMouseDown(r))}buildCSSClass(){return"vjs-big-play-button"}handleClick(e){const n=this.player_.play();if(this.mouseused_&&"clientX"in e&&"clientY"in e){Jo(n),this.player_.tech(!0)&&this.player_.tech(!0).focus();return}const r=this.player_.getChild("controlBar"),s=r&&r.getChild("playToggle");if(!s){this.player_.tech(!0).focus();return}const i=()=>s.focus();qm(n)?n.then(i,()=>{}):this.setTimeout(i,1)}handleKeyDown(e){this.mouseused_=!1,super.handleKeyDown(e)}handleMouseDown(e){this.mouseused_=!0}}IB.prototype.controlText_="Play Video";ht.registerComponent("BigPlayButton",IB);class age extends Gs{constructor(e,n){super(e,n),this.setIcon("cancel"),this.controlText(n&&n.controlText||this.localize("Close"))}buildCSSClass(){return`vjs-close-button ${super.buildCSSClass()}`}handleClick(e){this.trigger({type:"close",bubbles:!1})}handleKeyDown(e){e.key==="Escape"?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}ht.registerComponent("CloseButton",age);class OB extends Gs{constructor(e,n={}){super(e,n),n.replay=n.replay===void 0||n.replay,this.setIcon("play"),this.on(e,"play",r=>this.handlePlay(r)),this.on(e,"pause",r=>this.handlePause(r)),n.replay&&this.on(e,"ended",r=>this.handleEnded(r))}buildCSSClass(){return`vjs-play-control ${super.buildCSSClass()}`}handleClick(e){this.player_.paused()?Jo(this.player_.play()):this.player_.pause()}handleSeeked(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)}handlePlay(e){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.setIcon("pause"),this.controlText("Pause")}handlePause(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.setIcon("play"),this.controlText("Play")}handleEnded(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.setIcon("replay"),this.controlText("Replay"),this.one(this.player_,"seeked",n=>this.handleSeeked(n))}}OB.prototype.controlText_="Play";ht.registerComponent("PlayToggle",OB);class fp extends ht{constructor(e,n){super(e,n),this.on(e,["timeupdate","ended","seeking"],r=>this.update(r)),this.updateTextNode_()}createEl(){const e=this.buildCSSClass(),n=super.createEl("div",{className:`${e} vjs-time-control vjs-control`}),r=fn("span",{className:"vjs-control-text",textContent:`${this.localize(this.labelText_)} `},{role:"presentation"});return n.appendChild(r),this.contentEl_=fn("span",{className:`${e}-display`},{role:"presentation"}),n.appendChild(this.contentEl_),n}dispose(){this.contentEl_=null,this.textNode_=null,super.dispose()}update(e){!this.player_.options_.enableSmoothSeeking&&e.type==="seeking"||this.updateContent(e)}updateTextNode_(e=0){e=Fd(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",()=>{if(!this.contentEl_)return;let n=this.textNode_;n&&this.contentEl_.firstChild!==n&&(n=null,En.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),this.textNode_=Et.createTextNode(this.formattedTime_),this.textNode_&&(n?this.contentEl_.replaceChild(this.textNode_,n):this.contentEl_.appendChild(this.textNode_))}))}updateContent(e){}}fp.prototype.labelText_="Time";fp.prototype.controlText_="Time";ht.registerComponent("TimeDisplay",fp);class hj extends fp{buildCSSClass(){return"vjs-current-time"}updateContent(e){let n;this.player_.ended()?n=this.player_.duration():n=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(n)}}hj.prototype.labelText_="Current Time";hj.prototype.controlText_="Current Time";ht.registerComponent("CurrentTimeDisplay",hj);class fj extends fp{constructor(e,n){super(e,n);const r=s=>this.updateContent(s);this.on(e,"durationchange",r),this.on(e,"loadstart",r),this.on(e,"loadedmetadata",r)}buildCSSClass(){return"vjs-duration"}updateContent(e){const n=this.player_.duration();this.updateTextNode_(n)}}fj.prototype.labelText_="Duration";fj.prototype.controlText_="Duration";ht.registerComponent("DurationDisplay",fj);class oge extends ht{createEl(){const e=super.createEl("div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),n=super.createEl("div"),r=super.createEl("span",{textContent:"/"});return n.appendChild(r),e.appendChild(n),e}}ht.registerComponent("TimeDivider",oge);class pj extends fp{constructor(e,n){super(e,n),this.on(e,"durationchange",r=>this.updateContent(r))}buildCSSClass(){return"vjs-remaining-time"}createEl(){const e=super.createEl();return this.options_.displayNegative!==!1&&e.insertBefore(fn("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e}updateContent(e){if(typeof this.player_.duration()!="number")return;let n;this.player_.ended()?n=0:this.player_.remainingTimeDisplay?n=this.player_.remainingTimeDisplay():n=this.player_.remainingTime(),this.updateTextNode_(n)}}pj.prototype.labelText_="Remaining Time";pj.prototype.controlText_="Remaining Time";ht.registerComponent("RemainingTimeDisplay",pj);class lge extends ht{constructor(e,n){super(e,n),this.updateShowing(),this.on(this.player(),"durationchange",r=>this.updateShowing(r))}createEl(){const e=super.createEl("div",{className:"vjs-live-control vjs-control"});return this.contentEl_=fn("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(fn("span",{className:"vjs-control-text",textContent:`${this.localize("Stream Type")} `})),this.contentEl_.appendChild(Et.createTextNode(this.localize("LIVE"))),e.appendChild(this.contentEl_),e}dispose(){this.contentEl_=null,super.dispose()}updateShowing(e){this.player().duration()===1/0?this.show():this.hide()}}ht.registerComponent("LiveDisplay",lge);class MB extends Gs{constructor(e,n){super(e,n),this.updateLiveEdgeStatus(),this.player_.liveTracker&&(this.updateLiveEdgeStatusHandler_=r=>this.updateLiveEdgeStatus(r),this.on(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_))}createEl(){const e=super.createEl("button",{className:"vjs-seek-to-live-control vjs-control"});return this.setIcon("circle",e),this.textEl_=fn("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e}updateLiveEdgeStatus(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))}handleClick(){this.player_.liveTracker.seekToLiveEdge()}dispose(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,super.dispose()}}MB.prototype.controlText_="Seek to live, currently playing live";ht.registerComponent("SeekToLive",MB);function b0(t,e,n){return t=Number(t),Math.min(n,Math.max(e,isNaN(t)?e:t))}var cge=Object.freeze({__proto__:null,clamp:b0});class mj extends ht{constructor(e,n){super(e,n),this.handleMouseDown_=r=>this.handleMouseDown(r),this.handleMouseUp_=r=>this.handleMouseUp(r),this.handleKeyDown_=r=>this.handleKeyDown(r),this.handleClick_=r=>this.handleClick(r),this.handleMouseMove_=r=>this.handleMouseMove(r),this.update_=r=>this.update(r),this.bar=this.getChild(this.options_.barName),this.vertical(!!this.options_.vertical),this.enable()}enabled(){return this.enabled_}enable(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)}disable(){if(!this.enabled())return;const e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}createEl(e,n={},r={}){return n.className=n.className+" vjs-slider",n=Object.assign({tabIndex:0},n),r=Object.assign({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100},r),super.createEl(e,n,r)}handleMouseDown(e){const n=this.bar.el_.ownerDocument;e.type==="mousedown"&&e.preventDefault(),e.type==="touchstart"&&!dl&&e.preventDefault(),lB(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(n,"mousemove",this.handleMouseMove_),this.on(n,"mouseup",this.handleMouseUp_),this.on(n,"touchmove",this.handleMouseMove_),this.on(n,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)}handleMouseMove(e){}handleMouseUp(e){const n=this.bar.el_.ownerDocument;cB(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(n,"mousemove",this.handleMouseMove_),this.off(n,"mouseup",this.handleMouseUp_),this.off(n,"touchmove",this.handleMouseMove_),this.off(n,"touchend",this.handleMouseUp_),this.update()}update(){if(!this.el_||!this.bar)return;const e=this.getProgress();return e===this.progress_||(this.progress_=e,this.requestNamedAnimationFrame("Slider#update",()=>{const n=this.vertical()?"height":"width";this.bar.el().style[n]=(e*100).toFixed(2)+"%"})),e}getProgress(){return Number(b0(this.getPercent(),0,1).toFixed(4))}calculateDistance(e){const n=R1(this.el_,e);return this.vertical()?n.y:n.x}handleKeyDown(e){const n=this.options_.playerOptions.spatialNavigation,r=n&&n.enabled,s=n&&n.horizontalSeek;r?s&&e.key==="ArrowLeft"||!s&&e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepBack()):s&&e.key==="ArrowRight"||!s&&e.key==="ArrowUp"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e):e.key==="ArrowLeft"||e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepBack()):e.key==="ArrowUp"||e.key==="ArrowRight"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e)}handleClick(e){e.stopPropagation(),e.preventDefault()}vertical(e){if(e===void 0)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")}}ht.registerComponent("Slider",mj);const nS=(t,e)=>b0(t/e*100,0,100).toFixed(2)+"%";class uge extends ht{constructor(e,n){super(e,n),this.partEls_=[],this.on(e,"progress",r=>this.update(r))}createEl(){const e=super.createEl("div",{className:"vjs-load-progress"}),n=fn("span",{className:"vjs-control-text"}),r=fn("span",{textContent:this.localize("Loaded")}),s=Et.createTextNode(": ");return this.percentageEl_=fn("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(n),n.appendChild(r),n.appendChild(s),n.appendChild(this.percentageEl_),e}dispose(){this.partEls_=null,this.percentageEl_=null,super.dispose()}update(e){this.requestNamedAnimationFrame("LoadProgressBar#update",()=>{const n=this.player_.liveTracker,r=this.player_.buffered(),s=n&&n.isLive()?n.seekableEnd():this.player_.duration(),i=this.player_.bufferedEnd(),a=this.partEls_,l=nS(i,s);this.percent_!==l&&(this.el_.style.width=l,_u(this.percentageEl_,l),this.percent_=l);for(let c=0;c<r.length;c++){const u=r.start(c),h=r.end(c);let f=a[c];f||(f=this.el_.appendChild(fn()),a[c]=f),!(f.dataset.start===u&&f.dataset.end===h)&&(f.dataset.start=u,f.dataset.end=h,f.style.left=nS(u,i),f.style.width=nS(h-u,i))}for(let c=a.length;c>r.length;c--)this.el_.removeChild(a[c-1]);a.length=r.length})}}ht.registerComponent("LoadProgressBar",uge);class dge extends ht{constructor(e,n){super(e,n),this.update=hl(gr(this,this.update),Ha)}createEl(){return super.createEl("div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})}update(e,n,r){const s=kg(this.el_),i=Rf(this.player_.el()),a=e.width*n;if(!i||!s)return;let l=e.left-i.left+a,c=e.width-a+(i.right-e.right);c||(c=e.width-a,l=a);let u=s.width/2;l<u?u+=u-l:c<u&&(u=c),u<0?u=0:u>s.width&&(u=s.width),u=Math.round(u),this.el_.style.right=`-${u}px`,this.write(r)}write(e){_u(this.el_,e)}updateTime(e,n,r,s){this.requestNamedAnimationFrame("TimeTooltip#updateTime",()=>{let i;const a=this.player_.duration();if(this.player_.liveTracker&&this.player_.liveTracker.isLive()){const l=this.player_.liveTracker.liveWindow(),c=l-n*l;i=(c<1?"":"-")+Fd(c,l)}else i=Fd(r,a);this.update(e,n,i),s&&s()})}}ht.registerComponent("TimeTooltip",dge);class gj extends ht{constructor(e,n){super(e,n),this.setIcon("circle"),this.update=hl(gr(this,this.update),Ha)}createEl(){return super.createEl("div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})}update(e,n){const r=this.getChild("timeTooltip");if(!r)return;const s=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();r.updateTime(e,n,s)}}gj.prototype.options_={children:[]};!qs&&!mo&&gj.prototype.options_.children.push("timeTooltip");ht.registerComponent("PlayProgressBar",gj);class RB extends ht{constructor(e,n){super(e,n),this.update=hl(gr(this,this.update),Ha)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,n){const r=n*this.player_.duration();this.getChild("timeTooltip").updateTime(e,n,r,()=>{this.el_.style.left=`${e.width*n}px`})}}RB.prototype.options_={children:["timeTooltip"]};ht.registerComponent("MouseTimeDisplay",RB);class H1 extends mj{constructor(e,n){n=lr(H1.prototype.options_,n),n.children=[...n.children];const r=e.options_.disableSeekWhileScrubbingOnMobile&&(qs||mo);(!qs&&!mo||r)&&n.children.splice(1,0,"mouseTimeDisplay"),super(e,n),this.shouldDisableSeekWhileScrubbingOnMobile_=r,this.pendingSeekTime_=null,this.setEventHandlers_()}setEventHandlers_(){this.update_=gr(this,this.update),this.update=hl(this.update_,Ha),this.on(this.player_,["durationchange","timeupdate"],this.update),this.on(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=e=>this.enableInterval_(e),this.disableIntervalHandler_=e=>this.disableInterval_(e),this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Et&&"visibilityState"in Et&&this.on(Et,"visibilitychange",this.toggleVisibility_)}toggleVisibility_(e){Et.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())}enableInterval_(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,Ha))}disableInterval_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&e.type!=="ended"||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)}createEl(){return super.createEl("div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})}update(e){if(Et.visibilityState==="hidden")return;const n=super.update();return this.requestNamedAnimationFrame("SeekBar#update",()=>{const r=this.player_.ended()?this.player_.duration():this.getCurrentTime_(),s=this.player_.liveTracker;let i=this.player_.duration();s&&s.isLive()&&(i=this.player_.liveTracker.liveCurrentTime()),this.percent_!==n&&(this.el_.setAttribute("aria-valuenow",(n*100).toFixed(2)),this.percent_=n),(this.currentTime_!==r||this.duration_!==i)&&(this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[Fd(r,i),Fd(i,i)],"{1} of {2}")),this.currentTime_=r,this.duration_=i),this.bar&&this.bar.update(Rf(this.el()),this.getProgress())}),n}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}getCurrentTime_(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()}getPercent(){if(this.pendingSeekTime_)return this.pendingSeekTime_/this.player_.duration();const e=this.getCurrentTime_();let n;const r=this.player_.liveTracker;return r&&r.isLive()?(n=(e-r.seekableStart())/r.liveWindow(),r.atLiveEdge()&&(n=1)):n=e/this.player_.duration(),n}handleMouseDown(e){Eg(e)&&(e.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.shouldDisableSeekWhileScrubbingOnMobile_||this.player_.pause(),super.handleMouseDown(e))}handleMouseMove(e,n=!1){if(!Eg(e)||isNaN(this.player_.duration()))return;!n&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);let r;const s=this.calculateDistance(e),i=this.player_.liveTracker;if(!i||!i.isLive())r=s*this.player_.duration(),r===this.player_.duration()&&(r=r-.1);else{if(s>=.99){i.seekToLiveEdge();return}const a=i.seekableStart(),l=i.liveCurrentTime();if(r=a+s*i.liveWindow(),r>=l&&(r=l),r<=a&&(r=a+.1),r===1/0)return}this.shouldDisableSeekWhileScrubbingOnMobile_?this.pendingSeekTime_=r:this.userSeek_(r),this.player_.options_.enableSmoothSeeking&&this.update()}enable(){super.enable();const e=this.getChild("mouseTimeDisplay");e&&e.show()}disable(){super.disable();const e=this.getChild("mouseTimeDisplay");e&&e.hide()}handleMouseUp(e){super.handleMouseUp(e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.pendingSeekTime_&&(this.userSeek_(this.pendingSeekTime_),this.pendingSeekTime_=null),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Jo(this.player_.play()):this.update_()}stepForward(){this.userSeek_(this.player_.currentTime()+this.options().stepSeconds)}stepBack(){this.userSeek_(this.player_.currentTime()-this.options().stepSeconds)}handleAction(e){this.player_.paused()?this.player_.play():this.player_.pause()}handleKeyDown(e){const n=this.player_.liveTracker;if(e.key===" "||e.key==="Enter")e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(e.key==="Home")e.preventDefault(),e.stopPropagation(),this.userSeek_(0);else if(e.key==="End")e.preventDefault(),e.stopPropagation(),n&&n.isLive()?this.userSeek_(n.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(e.key)){e.preventDefault(),e.stopPropagation();const r=parseInt(e.key,10)*.1;n&&n.isLive()?this.userSeek_(n.seekableStart()+n.liveWindow()*r):this.userSeek_(this.player_.duration()*r)}else e.key==="PageDown"?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-this.options().stepSeconds*this.options().pageMultiplier)):e.key==="PageUp"?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+this.options().stepSeconds*this.options().pageMultiplier)):super.handleKeyDown(e)}dispose(){this.disableInterval_(),this.off(this.player_,["durationchange","timeupdate"],this.update),this.off(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Et&&"visibilityState"in Et&&this.off(Et,"visibilitychange",this.toggleVisibility_),super.dispose()}}H1.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar",stepSeconds:5,pageMultiplier:12};ht.registerComponent("SeekBar",H1);class LB extends ht{constructor(e,n){super(e,n),this.handleMouseMove=hl(gr(this,this.handleMouseMove),Ha),this.throttledHandleMouseSeek=hl(gr(this,this.handleMouseSeek),Ha),this.handleMouseUpHandler_=r=>this.handleMouseUp(r),this.handleMouseDownHandler_=r=>this.handleMouseDown(r),this.enable()}createEl(){return super.createEl("div",{className:"vjs-progress-control vjs-control"})}handleMouseMove(e){const n=this.getChild("seekBar");if(!n)return;const r=n.getChild("playProgressBar"),s=n.getChild("mouseTimeDisplay");if(!r&&!s)return;const i=n.el(),a=kg(i);let l=R1(i,e).x;l=b0(l,0,1),s&&s.update(a,l),r&&r.update(a,n.getProgress())}handleMouseSeek(e){const n=this.getChild("seekBar");n&&n.handleMouseMove(e)}enabled(){return this.enabled_}disable(){if(this.children().forEach(e=>e.disable&&e.disable()),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,["mousemove","touchmove"],this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){const e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&Jo(this.player_.play())}}enable(){this.children().forEach(e=>e.enable&&e.enable()),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,["mousemove","touchmove"],this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)}removeListenersAddedOnMousedownAndTouchstart(){const e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)}handleMouseDown(e){const n=this.el_.ownerDocument,r=this.getChild("seekBar");r&&r.handleMouseDown(e),this.on(n,"mousemove",this.throttledHandleMouseSeek),this.on(n,"touchmove",this.throttledHandleMouseSeek),this.on(n,"mouseup",this.handleMouseUpHandler_),this.on(n,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const n=this.getChild("seekBar");n&&n.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()}}LB.prototype.options_={children:["seekBar"]};ht.registerComponent("ProgressControl",LB);class FB extends Gs{constructor(e,n){super(e,n),this.setIcon("picture-in-picture-enter"),this.on(e,["enterpictureinpicture","leavepictureinpicture"],r=>this.handlePictureInPictureChange(r)),this.on(e,["disablepictureinpicturechanged","loadedmetadata"],r=>this.handlePictureInPictureEnabledChange(r)),this.on(e,["loadedmetadata","audioonlymodechange","audiopostermodechange"],()=>this.handlePictureInPictureAudioModeChange()),this.disable()}buildCSSClass(){return`vjs-picture-in-picture-control vjs-hidden ${super.buildCSSClass()}`}handlePictureInPictureAudioModeChange(){if(!(this.player_.currentType().substring(0,5)==="audio"||this.player_.audioPosterMode()||this.player_.audioOnlyMode())){this.show();return}this.player_.isInPictureInPicture()&&this.player_.exitPictureInPicture(),this.hide()}handlePictureInPictureEnabledChange(){Et.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1||this.player_.options_.enableDocumentPictureInPicture&&"documentPictureInPicture"in Se?this.enable():this.disable()}handlePictureInPictureChange(e){this.player_.isInPictureInPicture()?(this.setIcon("picture-in-picture-exit"),this.controlText("Exit Picture-in-Picture")):(this.setIcon("picture-in-picture-enter"),this.controlText("Picture-in-Picture")),this.handlePictureInPictureEnabledChange()}handleClick(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()}show(){typeof Et.exitPictureInPicture=="function"&&super.show()}}FB.prototype.controlText_="Picture-in-Picture";ht.registerComponent("PictureInPictureToggle",FB);class BB extends Gs{constructor(e,n){super(e,n),this.setIcon("fullscreen-enter"),this.on(e,"fullscreenchange",r=>this.handleFullscreenChange(r)),Et[e.fsApi_.fullscreenEnabled]===!1&&this.disable()}buildCSSClass(){return`vjs-fullscreen-control ${super.buildCSSClass()}`}handleFullscreenChange(e){this.player_.isFullscreen()?(this.controlText("Exit Fullscreen"),this.setIcon("fullscreen-exit")):(this.controlText("Fullscreen"),this.setIcon("fullscreen-enter"))}handleClick(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()}}BB.prototype.controlText_="Fullscreen";ht.registerComponent("FullscreenToggle",BB);const hge=function(t,e){e.tech_&&!e.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class fge extends ht{createEl(){const e=super.createEl("div",{className:"vjs-volume-level"});return this.setIcon("circle",e),e.appendChild(super.createEl("span",{className:"vjs-control-text"})),e}}ht.registerComponent("VolumeLevel",fge);class pge extends ht{constructor(e,n){super(e,n),this.update=hl(gr(this,this.update),Ha)}createEl(){return super.createEl("div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})}update(e,n,r,s){if(!r){const i=Rf(this.el_),a=Rf(this.player_.el()),l=e.width*n;if(!a||!i)return;const c=e.left-a.left+l,u=e.width-l+(a.right-e.right);let h=i.width/2;c<h?h+=h-c:u<h&&(h=u),h<0?h=0:h>i.width&&(h=i.width),this.el_.style.right=`-${h}px`}this.write(`${s}%`)}write(e){_u(this.el_,e)}updateVolume(e,n,r,s,i){this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",()=>{this.update(e,n,r,s.toFixed(0)),i&&i()})}}ht.registerComponent("VolumeLevelTooltip",pge);class $B extends ht{constructor(e,n){super(e,n),this.update=hl(gr(this,this.update),Ha)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,n,r){const s=100*n;this.getChild("volumeLevelTooltip").updateVolume(e,n,r,s,()=>{r?this.el_.style.bottom=`${e.height*n}px`:this.el_.style.left=`${e.width*n}px`})}}$B.prototype.options_={children:["volumeLevelTooltip"]};ht.registerComponent("MouseVolumeLevelDisplay",$B);class W1 extends mj{constructor(e,n){super(e,n),this.on("slideractive",r=>this.updateLastVolume_(r)),this.on(e,"volumechange",r=>this.updateARIAAttributes(r)),e.ready(()=>this.updateARIAAttributes())}createEl(){return super.createEl("div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})}handleMouseDown(e){Eg(e)&&super.handleMouseDown(e)}handleMouseMove(e){const n=this.getChild("mouseVolumeLevelDisplay");if(n){const r=this.el(),s=Rf(r),i=this.vertical();let a=R1(r,e);a=i?a.y:a.x,a=b0(a,0,1),n.update(s,a,i)}Eg(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))}checkMuted(){this.player_.muted()&&this.player_.muted(!1)}getPercent(){return this.player_.muted()?0:this.player_.volume()}stepForward(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)}stepBack(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)}updateARIAAttributes(e){const n=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",n),this.el_.setAttribute("aria-valuetext",n+"%")}volumeAsPercentage_(){return Math.round(this.player_.volume()*100)}updateLastVolume_(){const e=this.player_.volume();this.one("sliderinactive",()=>{this.player_.volume()===0&&this.player_.lastVolume_(e)})}}W1.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!qs&&!mo&&W1.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");W1.prototype.playerEvent="volumechange";ht.registerComponent("VolumeBar",W1);class zB extends ht{constructor(e,n={}){n.vertical=n.vertical||!1,(typeof n.volumeBar>"u"||Of(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical),super(e,n),hge(this,e),this.throttledHandleMouseMove=hl(gr(this,this.handleMouseMove),Ha),this.handleMouseUpHandler_=r=>this.handleMouseUp(r),this.on("mousedown",r=>this.handleMouseDown(r)),this.on("touchstart",r=>this.handleMouseDown(r)),this.on("mousemove",r=>this.handleMouseMove(r)),this.on(this.volumeBar,["focus","slideractive"],()=>{this.volumeBar.addClass("vjs-slider-active"),this.addClass("vjs-slider-active"),this.trigger("slideractive")}),this.on(this.volumeBar,["blur","sliderinactive"],()=>{this.volumeBar.removeClass("vjs-slider-active"),this.removeClass("vjs-slider-active"),this.trigger("sliderinactive")})}createEl(){let e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),super.createEl("div",{className:`vjs-volume-control vjs-control ${e}`})}handleMouseDown(e){const n=this.el_.ownerDocument;this.on(n,"mousemove",this.throttledHandleMouseMove),this.on(n,"touchmove",this.throttledHandleMouseMove),this.on(n,"mouseup",this.handleMouseUpHandler_),this.on(n,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const n=this.el_.ownerDocument;this.off(n,"mousemove",this.throttledHandleMouseMove),this.off(n,"touchmove",this.throttledHandleMouseMove),this.off(n,"mouseup",this.handleMouseUpHandler_),this.off(n,"touchend",this.handleMouseUpHandler_)}handleMouseMove(e){this.volumeBar.handleMouseMove(e)}}zB.prototype.options_={children:["volumeBar"]};ht.registerComponent("VolumeControl",zB);const mge=function(t,e){e.tech_&&!e.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class UB extends Gs{constructor(e,n){super(e,n),mge(this,e),this.on(e,["loadstart","volumechange"],r=>this.update(r))}buildCSSClass(){return`vjs-mute-control ${super.buildCSSClass()}`}handleClick(e){const n=this.player_.volume(),r=this.player_.lastVolume_();if(n===0){const s=r<.1?.1:r;this.player_.volume(s),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())}update(e){this.updateIcon_(),this.updateControlText_()}updateIcon_(){const e=this.player_.volume();let n=3;this.setIcon("volume-high"),qs&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),e===0||this.player_.muted()?(this.setIcon("volume-mute"),n=0):e<.33?(this.setIcon("volume-low"),n=1):e<.67&&(this.setIcon("volume-medium"),n=2),O1(this.el_,[0,1,2,3].reduce((r,s)=>r+`${s?" ":""}vjs-vol-${s}`,"")),Td(this.el_,`vjs-vol-${n}`)}updateControlText_(){const n=this.player_.muted()||this.player_.volume()===0?"Unmute":"Mute";this.controlText()!==n&&this.controlText(n)}}UB.prototype.controlText_="Mute";ht.registerComponent("MuteToggle",UB);class HB extends ht{constructor(e,n={}){typeof n.inline<"u"?n.inline=n.inline:n.inline=!0,(typeof n.volumeControl>"u"||Of(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline),super(e,n),this.handleKeyPressHandler_=r=>this.handleKeyPress(r),this.on(e,["loadstart"],r=>this.volumePanelState_(r)),this.on(this.muteToggle,"keyup",r=>this.handleKeyPress(r)),this.on(this.volumeControl,"keyup",r=>this.handleVolumeControlKeyUp(r)),this.on("keydown",r=>this.handleKeyPress(r)),this.on("mouseover",r=>this.handleMouseOver(r)),this.on("mouseout",r=>this.handleMouseOut(r)),this.on(this.volumeControl,["slideractive"],this.sliderActive_),this.on(this.volumeControl,["sliderinactive"],this.sliderInactive_)}sliderActive_(){this.addClass("vjs-slider-active")}sliderInactive_(){this.removeClass("vjs-slider-active")}volumePanelState_(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")}createEl(){let e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),super.createEl("div",{className:`vjs-volume-panel vjs-control ${e}`})}dispose(){this.handleMouseOut(),super.dispose()}handleVolumeControlKeyUp(e){e.key==="Escape"&&this.muteToggle.focus()}handleMouseOver(e){this.addClass("vjs-hover"),ia(Et,"keyup",this.handleKeyPressHandler_)}handleMouseOut(e){this.removeClass("vjs-hover"),Ys(Et,"keyup",this.handleKeyPressHandler_)}handleKeyPress(e){e.key==="Escape"&&this.handleMouseOut()}}HB.prototype.options_={children:["muteToggle","volumeControl"]};ht.registerComponent("VolumePanel",HB);class WB extends Gs{constructor(e,n){super(e,n),this.validOptions=[5,10,30],this.skipTime=this.getSkipForwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`forward-${this.skipTime}`),this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipForwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.forward}buildCSSClass(){return`vjs-skip-forward-${this.getSkipForwardTime()} ${super.buildCSSClass()}`}handleClick(e){if(isNaN(this.player_.duration()))return;const n=this.player_.currentTime(),r=this.player_.liveTracker,s=r&&r.isLive()?r.seekableEnd():this.player_.duration();let i;n+this.skipTime<=s?i=n+this.skipTime:i=s,this.player_.currentTime(i)}handleLanguagechange(){this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime]))}}WB.prototype.controlText_="Skip Forward";ht.registerComponent("SkipForward",WB);class VB extends Gs{constructor(e,n){super(e,n),this.validOptions=[5,10,30],this.skipTime=this.getSkipBackwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`replay-${this.skipTime}`),this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipBackwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.backward}buildCSSClass(){return`vjs-skip-backward-${this.getSkipBackwardTime()} ${super.buildCSSClass()}`}handleClick(e){const n=this.player_.currentTime(),r=this.player_.liveTracker,s=r&&r.isLive()&&r.seekableStart();let i;s&&n-this.skipTime<=s?i=s:n>=this.skipTime?i=n-this.skipTime:i=0,this.player_.currentTime(i)}handleLanguagechange(){this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime]))}}VB.prototype.controlText_="Skip Backward";ht.registerComponent("SkipBackward",VB);class qB extends ht{constructor(e,n){super(e,n),n&&(this.menuButton_=n.menuButton),this.focusedChild_=-1,this.on("keydown",r=>this.handleKeyDown(r)),this.boundHandleBlur_=r=>this.handleBlur(r),this.boundHandleTapClick_=r=>this.handleTapClick(r)}addEventListenerForItem(e){e instanceof ht&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))}removeEventListenerForItem(e){e instanceof ht&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))}removeChild(e){typeof e=="string"&&(e=this.getChild(e)),this.removeEventListenerForItem(e),super.removeChild(e)}addItem(e){const n=this.addChild(e);n&&this.addEventListenerForItem(n)}createEl(){const e=this.options_.contentElType||"ul";this.contentEl_=fn(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");const n=super.createEl("div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),ia(n,"click",function(r){r.preventDefault(),r.stopImmediatePropagation()}),n}dispose(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,super.dispose()}handleBlur(e){const n=e.relatedTarget||Et.activeElement;if(!this.children().some(r=>r.el()===n)){const r=this.menuButton_;r&&r.buttonPressed_&&n!==r.el().firstChild&&r.unpressButton()}}handleTapClick(e){if(this.menuButton_){this.menuButton_.unpressButton();const n=this.children();if(!Array.isArray(n))return;const r=n.filter(s=>s.el()===e.target)[0];if(!r)return;r.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}}handleKeyDown(e){e.key==="ArrowLeft"||e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(e.key==="ArrowRight"||e.key==="ArrowUp")&&(e.preventDefault(),e.stopPropagation(),this.stepBack())}stepForward(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_+1),this.focus(e)}stepBack(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_-1),this.focus(e)}focus(e=0){const n=this.children().slice();n.length&&n[0].hasClass("vjs-menu-title")&&n.shift(),n.length>0&&(e<0?e=0:e>=n.length&&(e=n.length-1),this.focusedChild_=e,n[e].el_.focus())}}ht.registerComponent("Menu",qB);class yj extends ht{constructor(e,n={}){super(e,n),this.menuButton_=new Gs(e,n),this.menuButton_.controlText(this.controlText_),this.menuButton_.el_.setAttribute("aria-haspopup","true");const r=Gs.prototype.buildCSSClass();this.menuButton_.el_.className=this.buildCSSClass()+" "+r,this.menuButton_.removeClass("vjs-control"),this.addChild(this.menuButton_),this.update(),this.enabled_=!0;const s=i=>this.handleClick(i);this.handleMenuKeyUp_=i=>this.handleMenuKeyUp(i),this.on(this.menuButton_,"tap",s),this.on(this.menuButton_,"click",s),this.on(this.menuButton_,"keydown",i=>this.handleKeyDown(i)),this.on(this.menuButton_,"mouseenter",()=>{this.addClass("vjs-hover"),this.menu.show(),ia(Et,"keyup",this.handleMenuKeyUp_)}),this.on("mouseleave",i=>this.handleMouseLeave(i)),this.on("keydown",i=>this.handleSubmenuKeyDown(i))}update(){const e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))}createMenu(){const e=new qB(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){const n=fn("li",{className:"vjs-menu-title",textContent:Ur(this.options_.title),tabIndex:-1}),r=new ht(this.player_,{el:n});e.addItem(r)}if(this.items=this.createItems(),this.items)for(let n=0;n<this.items.length;n++)e.addItem(this.items[n]);return e}createItems(){}createEl(){return super.createEl("div",{className:this.buildWrapperCSSClass()},{})}setIcon(e){super.setIcon(e,this.menuButton_.el_)}buildWrapperCSSClass(){let e="vjs-menu-button";this.options_.inline===!0?e+="-inline":e+="-popup";const n=Gs.prototype.buildCSSClass();return`vjs-menu-button ${e} ${n} ${super.buildCSSClass()}`}buildCSSClass(){let e="vjs-menu-button";return this.options_.inline===!0?e+="-inline":e+="-popup",`vjs-menu-button ${e} ${super.buildCSSClass()}`}controlText(e,n=this.menuButton_.el()){return this.menuButton_.controlText(e,n)}dispose(){this.handleMouseLeave(),super.dispose()}handleClick(e){this.buttonPressed_?this.unpressButton():this.pressButton()}handleMouseLeave(e){this.removeClass("vjs-hover"),Ys(Et,"keyup",this.handleMenuKeyUp_)}focus(){this.menuButton_.focus()}blur(){this.menuButton_.blur()}handleKeyDown(e){e.key==="Escape"||e.key==="Tab"?(this.buttonPressed_&&this.unpressButton(),!e.key==="Tab"&&(e.preventDefault(),this.menuButton_.focus())):(e.key==="Up"||e.key==="Down"&&!(this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))}handleMenuKeyUp(e){(e.key==="Escape"||e.key==="Tab")&&this.removeClass("vjs-hover")}handleSubmenuKeyPress(e){this.handleSubmenuKeyDown(e)}handleSubmenuKeyDown(e){(e.key==="Escape"||e.key==="Tab")&&(this.buttonPressed_&&this.unpressButton(),!e.key==="Tab"&&(e.preventDefault(),this.menuButton_.focus()))}pressButton(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),qs&&rB())return;this.menu.focus()}}unpressButton(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))}disable(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()}enable(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()}}ht.registerComponent("MenuButton",yj);class bj extends yj{constructor(e,n){const r=n.tracks;if(super(e,n),this.items.length<=1&&this.hide(),!r)return;const s=gr(this,this.update);r.addEventListener("removetrack",s),r.addEventListener("addtrack",s),r.addEventListener("labelchange",s),this.player_.on("ready",s),this.player_.on("dispose",function(){r.removeEventListener("removetrack",s),r.removeEventListener("addtrack",s),r.removeEventListener("labelchange",s)})}}ht.registerComponent("TrackButton",bj);class x0 extends U1{constructor(e,n){super(e,n),this.selectable=n.selectable,this.isSelected_=n.selected||!1,this.multiSelectable=n.multiSelectable,this.selected(this.isSelected_),this.selectable?this.multiSelectable?this.el_.setAttribute("role","menuitemcheckbox"):this.el_.setAttribute("role","menuitemradio"):this.el_.setAttribute("role","menuitem")}createEl(e,n,r){this.nonIconControl=!0;const s=super.createEl("li",Object.assign({className:"vjs-menu-item",tabIndex:-1},n),r),i=fn("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)});return this.player_.options_.experimentalSvgIcons?s.appendChild(i):s.replaceChild(i,s.querySelector(".vjs-icon-placeholder")),s}handleKeyDown(e){["Tab","Escape","ArrowUp","ArrowLeft","ArrowRight","ArrowDown"].includes(e.key)||super.handleKeyDown(e)}handleClick(e){this.selected(!0)}selected(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))}}ht.registerComponent("MenuItem",x0);class v0 extends x0{constructor(e,n){const r=n.track,s=e.textTracks();n.label=r.label||r.language||"Unknown",n.selected=r.mode==="showing",super(e,n),this.track=r,this.kinds=(n.kinds||[n.kind||this.track.kind]).filter(Boolean);const i=(...l)=>{this.handleTracksChange.apply(this,l)},a=(...l)=>{this.handleSelectedLanguageChange.apply(this,l)};if(e.on(["loadstart","texttrackchange"],i),s.addEventListener("change",i),s.addEventListener("selectedlanguagechange",a),this.on("dispose",function(){e.off(["loadstart","texttrackchange"],i),s.removeEventListener("change",i),s.removeEventListener("selectedlanguagechange",a)}),s.onchange===void 0){let l;this.on(["tap","click"],function(){if(typeof Se.Event!="object")try{l=new Se.Event("change")}catch{}l||(l=Et.createEvent("Event"),l.initEvent("change",!0,!0)),s.dispatchEvent(l)})}this.handleTracksChange()}handleClick(e){const n=this.track,r=this.player_.textTracks();if(super.handleClick(e),!!r)for(let s=0;s<r.length;s++){const i=r[s];this.kinds.indexOf(i.kind)!==-1&&(i===n?i.mode!=="showing"&&(i.mode="showing"):i.mode!=="disabled"&&(i.mode="disabled"))}}handleTracksChange(e){const n=this.track.mode==="showing";n!==this.isSelected_&&this.selected(n)}handleSelectedLanguageChange(e){if(this.track.mode==="showing"){const n=this.player_.cache_.selectedLanguage;if(n&&n.enabled&&n.language===this.track.language&&n.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}}dispose(){this.track=null,super.dispose()}}ht.registerComponent("TextTrackMenuItem",v0);class YB extends v0{constructor(e,n){n.track={player:e,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.label?n.track.label=n.label:n.track.label=n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,super(e,n)}handleTracksChange(e){const n=this.player().textTracks();let r=!0;for(let s=0,i=n.length;s<i;s++){const a=n[s];if(this.options_.kinds.indexOf(a.kind)>-1&&a.mode==="showing"){r=!1;break}}r!==this.isSelected_&&this.selected(r)}handleSelectedLanguageChange(e){const n=this.player().textTracks();let r=!0;for(let s=0,i=n.length;s<i;s++){const a=n[s];if(["captions","descriptions","subtitles"].indexOf(a.kind)>-1&&a.mode==="showing"){r=!1;break}}r&&(this.player_.cache_.selectedLanguage={enabled:!1})}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.label),super.handleLanguagechange()}}ht.registerComponent("OffTextTrackMenuItem",YB);class pp extends bj{constructor(e,n={}){n.tracks=e.textTracks(),super(e,n)}createItems(e=[],n=v0){let r;this.label_&&(r=`${this.label_} off`),e.push(new YB(this.player_,{kinds:this.kinds_,kind:this.kind_,label:r})),this.hideThreshold_+=1;const s=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(let i=0;i<s.length;i++){const a=s[i];if(this.kinds_.indexOf(a.kind)>-1){const l=new n(this.player_,{track:a,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});l.addClass(`vjs-${a.kind}-menu-item`),e.push(l)}}return e}}ht.registerComponent("TextTrackButton",pp);class GB extends x0{constructor(e,n){const r=n.track,s=n.cue,i=e.currentTime();n.selectable=!0,n.multiSelectable=!1,n.label=s.text,n.selected=s.startTime<=i&&i<s.endTime,super(e,n),this.track=r,this.cue=s}handleClick(e){super.handleClick(),this.player_.currentTime(this.cue.startTime)}}ht.registerComponent("ChaptersTrackMenuItem",GB);class xj extends pp{constructor(e,n,r){super(e,n,r),this.setIcon("chapters"),this.selectCurrentItem_=()=>{this.items.forEach(s=>{s.selected(this.track_.activeCues[0]===s.cue)})}}buildCSSClass(){return`vjs-chapters-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-chapters-button ${super.buildWrapperCSSClass()}`}update(e){if(e&&e.track&&e.track.kind!=="chapters")return;const n=this.findChaptersTrack();n!==this.track_?(this.setTrack(n),super.update()):(!this.items||n&&n.cues&&n.cues.length!==this.items.length)&&super.update()}setTrack(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){const n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";const n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}}findChaptersTrack(){const e=this.player_.textTracks()||[];for(let n=e.length-1;n>=0;n--){const r=e[n];if(r.kind===this.kind_)return r}}getMenuCaption(){return this.track_&&this.track_.label?this.track_.label:this.localize(Ur(this.kind_))}createMenu(){return this.options_.title=this.getMenuCaption(),super.createMenu()}createItems(){const e=[];if(!this.track_)return e;const n=this.track_.cues;if(!n)return e;for(let r=0,s=n.length;r<s;r++){const i=n[r],a=new GB(this.player_,{track:this.track_,cue:i});e.push(a)}return e}}xj.prototype.kind_="chapters";xj.prototype.controlText_="Chapters";ht.registerComponent("ChaptersButton",xj);class vj extends pp{constructor(e,n,r){super(e,n,r),this.setIcon("audio-description");const s=e.textTracks(),i=gr(this,this.handleTracksChange);s.addEventListener("change",i),this.on("dispose",function(){s.removeEventListener("change",i)})}handleTracksChange(e){const n=this.player().textTracks();let r=!1;for(let s=0,i=n.length;s<i;s++){const a=n[s];if(a.kind!==this.kind_&&a.mode==="showing"){r=!0;break}}r?this.disable():this.enable()}buildCSSClass(){return`vjs-descriptions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-descriptions-button ${super.buildWrapperCSSClass()}`}}vj.prototype.kind_="descriptions";vj.prototype.controlText_="Descriptions";ht.registerComponent("DescriptionsButton",vj);class wj extends pp{constructor(e,n,r){super(e,n,r),this.setIcon("subtitles")}buildCSSClass(){return`vjs-subtitles-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subtitles-button ${super.buildWrapperCSSClass()}`}}wj.prototype.kind_="subtitles";wj.prototype.controlText_="Subtitles";ht.registerComponent("SubtitlesButton",wj);class _j extends v0{constructor(e,n){n.track={player:e,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,n.name="CaptionSettingsMenuItem",super(e,n),this.addClass("vjs-texttrack-settings"),this.controlText(", opens "+n.kind+" settings dialog")}handleClick(e){this.player().getChild("textTrackSettings").open()}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.kind+" settings"),super.handleLanguagechange()}}ht.registerComponent("CaptionSettingsMenuItem",_j);class Sj extends pp{constructor(e,n,r){super(e,n,r),this.setIcon("captions")}buildCSSClass(){return`vjs-captions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-captions-button ${super.buildWrapperCSSClass()}`}createItems(){const e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new _j(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),super.createItems(e)}}Sj.prototype.kind_="captions";Sj.prototype.controlText_="Captions";ht.registerComponent("CaptionsButton",Sj);class KB extends v0{createEl(e,n,r){const s=super.createEl(e,n,r),i=s.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(this.player_.options_.experimentalSvgIcons?this.setIcon("captions",s):i.appendChild(fn("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),i.appendChild(fn("span",{className:"vjs-control-text",textContent:` ${this.localize("Captions")}`}))),s}}ht.registerComponent("SubsCapsMenuItem",KB);class Cj extends pp{constructor(e,n={}){super(e,n),this.label_="subtitles",this.setIcon("subtitles"),["en","en-us","en-ca","fr-ca"].indexOf(this.player_.language_)>-1&&(this.label_="captions",this.setIcon("captions")),this.menuButton_.controlText(Ur(this.label_))}buildCSSClass(){return`vjs-subs-caps-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subs-caps-button ${super.buildWrapperCSSClass()}`}createItems(){let e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new _j(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=super.createItems(e,KB),e}}Cj.prototype.kinds_=["captions","subtitles"];Cj.prototype.controlText_="Subtitles";ht.registerComponent("SubsCapsButton",Cj);class XB extends x0{constructor(e,n){const r=n.track,s=e.audioTracks();n.label=r.label||r.language||"Unknown",n.selected=r.enabled,super(e,n),this.track=r,this.addClass(`vjs-${r.kind}-menu-item`);const i=(...a)=>{this.handleTracksChange.apply(this,a)};s.addEventListener("change",i),this.on("dispose",()=>{s.removeEventListener("change",i)})}createEl(e,n,r){const s=super.createEl(e,n,r),i=s.querySelector(".vjs-menu-item-text");return["main-desc","descriptions"].indexOf(this.options_.track.kind)>=0&&(i.appendChild(fn("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),i.appendChild(fn("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),s}handleClick(e){if(super.handleClick(e),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks){const n=this.player_.audioTracks();for(let r=0;r<n.length;r++){const s=n[r];s!==this.track&&(s.enabled=s===this.track)}}}handleTracksChange(e){this.selected(this.track.enabled)}}ht.registerComponent("AudioTrackMenuItem",XB);class QB extends bj{constructor(e,n={}){n.tracks=e.audioTracks(),super(e,n),this.setIcon("audio")}buildCSSClass(){return`vjs-audio-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-audio-button ${super.buildWrapperCSSClass()}`}createItems(e=[]){this.hideThreshold_=1;const n=this.player_.audioTracks();for(let r=0;r<n.length;r++){const s=n[r];e.push(new XB(this.player_,{track:s,selectable:!0,multiSelectable:!1}))}return e}}QB.prototype.controlText_="Audio Track";ht.registerComponent("AudioTrackButton",QB);class Tj extends x0{constructor(e,n){const r=n.rate,s=parseFloat(r,10);n.label=r,n.selected=s===e.playbackRate(),n.selectable=!0,n.multiSelectable=!1,super(e,n),this.label=r,this.rate=s,this.on(e,"ratechange",i=>this.update(i))}handleClick(e){super.handleClick(),this.player().playbackRate(this.rate)}update(e){this.selected(this.player().playbackRate()===this.rate)}}Tj.prototype.contentElType="button";ht.registerComponent("PlaybackRateMenuItem",Tj);class ZB extends yj{constructor(e,n){super(e,n),this.menuButton_.el_.setAttribute("aria-describedby",this.labelElId_),this.updateVisibility(),this.updateLabel(),this.on(e,"loadstart",r=>this.updateVisibility(r)),this.on(e,"ratechange",r=>this.updateLabel(r)),this.on(e,"playbackrateschange",r=>this.handlePlaybackRateschange(r))}createEl(){const e=super.createEl();return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=fn("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),e.appendChild(this.labelEl_),e}dispose(){this.labelEl_=null,super.dispose()}buildCSSClass(){return`vjs-playback-rate ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-playback-rate ${super.buildWrapperCSSClass()}`}createItems(){const e=this.playbackRates(),n=[];for(let r=e.length-1;r>=0;r--)n.push(new Tj(this.player(),{rate:e[r]+"x"}));return n}handlePlaybackRateschange(e){this.update()}playbackRates(){const e=this.player();return e.playbackRates&&e.playbackRates()||[]}playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0}updateVisibility(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")}updateLabel(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")}}ZB.prototype.controlText_="Playback Rate";ht.registerComponent("PlaybackRateMenuButton",ZB);class JB extends ht{buildCSSClass(){return`vjs-spacer ${super.buildCSSClass()}`}createEl(e="div",n={},r={}){return n.className||(n.className=this.buildCSSClass()),super.createEl(e,n,r)}}ht.registerComponent("Spacer",JB);class gge extends JB{buildCSSClass(){return`vjs-custom-control-spacer ${super.buildCSSClass()}`}createEl(){return super.createEl("div",{className:this.buildCSSClass(),textContent:" "})}}ht.registerComponent("CustomControlSpacer",gge);class e7 extends ht{createEl(){return super.createEl("div",{className:"vjs-control-bar",dir:"ltr"})}}e7.prototype.options_={children:["playToggle","skipBackward","skipForward","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","pictureInPictureToggle","fullscreenToggle"]};ht.registerComponent("ControlBar",e7);class t7 extends hp{constructor(e,n){super(e,n),this.on(e,"error",r=>{this.open(r)})}buildCSSClass(){return`vjs-error-display ${super.buildCSSClass()}`}content(){const e=this.player().error();return e?this.localize(e.message):""}}t7.prototype.options_=Object.assign({},hp.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});ht.registerComponent("ErrorDisplay",t7);class n7 extends ht{constructor(e,n={}){super(e,n),this.el_.setAttribute("aria-labelledby",this.selectLabelledbyIds)}createEl(){return this.selectLabelledbyIds=[this.options_.legendId,this.options_.labelId].join(" ").trim(),fn("select",{id:this.options_.id},{},this.options_.SelectOptions.map(n=>{const r=(this.options_.labelId?this.options_.labelId:`vjs-track-option-${Ua()}`)+"-"+n[1].replace(/\W+/g,""),s=fn("option",{id:r,value:this.localize(n[0]),textContent:this.localize(n[1])});return s.setAttribute("aria-labelledby",`${this.selectLabelledbyIds} ${r}`),s}))}}ht.registerComponent("TextTrackSelect",n7);class Ed extends ht{constructor(e,n={}){super(e,n);const r=fn("legend",{textContent:this.localize(this.options_.legendText),id:this.options_.legendId});this.el().appendChild(r);const s=this.options_.selects;for(const i of s){const a=this.options_.selectConfigs[i],l=a.className,c=a.id.replace("%s",this.options_.id_);let u=null;const h=`vjs_select_${Ua()}`;if(this.options_.type==="colors"){u=fn("span",{className:l});const m=fn("label",{id:c,className:"vjs-label",textContent:this.localize(a.label)});m.setAttribute("for",h),u.appendChild(m)}const f=new n7(e,{SelectOptions:a.options,legendId:this.options_.legendId,id:h,labelId:c});this.addChild(f),this.options_.type==="colors"&&(u.appendChild(f.el()),this.el().appendChild(u))}}createEl(){return fn("fieldset",{className:this.options_.className})}}ht.registerComponent("TextTrackFieldset",Ed);class r7 extends ht{constructor(e,n={}){super(e,n);const r=this.options_.textTrackComponentid,s=new Ed(e,{id_:r,legendId:`captions-text-legend-${r}`,legendText:this.localize("Text"),className:"vjs-fg vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(s);const i=new Ed(e,{id_:r,legendId:`captions-background-${r}`,legendText:this.localize("Text Background"),className:"vjs-bg vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(i);const a=new Ed(e,{id_:r,legendId:`captions-window-${r}`,legendText:this.localize("Caption Area Background"),className:"vjs-window vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(a)}createEl(){return fn("div",{className:"vjs-track-settings-colors"})}}ht.registerComponent("TextTrackSettingsColors",r7);class s7 extends ht{constructor(e,n={}){super(e,n);const r=this.options_.textTrackComponentid,s=new Ed(e,{id_:r,legendId:`captions-font-size-${r}`,legendText:"Font Size",className:"vjs-font-percent vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(s);const i=new Ed(e,{id_:r,legendId:`captions-edge-style-${r}`,legendText:this.localize("Text Edge Style"),className:"vjs-edge-style vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(i);const a=new Ed(e,{id_:r,legendId:`captions-font-family-${r}`,legendText:this.localize("Font Family"),className:"vjs-font-family vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(a)}createEl(){return fn("div",{className:"vjs-track-settings-font"})}}ht.registerComponent("TextTrackSettingsFont",s7);class i7 extends ht{constructor(e,n={}){super(e,n);const r=this.localize("restore all settings to the default values"),s=new Gs(e,{controlText:r,className:"vjs-default-button"});s.el().classList.remove("vjs-control","vjs-button"),s.el().textContent=this.localize("Reset"),this.addChild(s);const i=new Gs(e,{controlText:r,className:"vjs-done-button"});i.el().classList.remove("vjs-control","vjs-button"),i.el().textContent=this.localize("Done"),this.addChild(i)}createEl(){return fn("div",{className:"vjs-track-settings-controls"})}}ht.registerComponent("TrackSettingsControls",i7);const rS="vjs-text-track-settings",OP=["#000","Black"],MP=["#00F","Blue"],RP=["#0FF","Cyan"],LP=["#0F0","Green"],FP=["#F0F","Magenta"],BP=["#F00","Red"],$P=["#FFF","White"],zP=["#FF0","Yellow"],sS=["1","Opaque"],iS=["0.5","Semi-Transparent"],UP=["0","Transparent"],Qc={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[OP,$P,BP,LP,MP,zP,FP,RP],className:"vjs-bg-color"},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Opacity",options:[sS,iS,UP],className:"vjs-bg-opacity vjs-opacity"},color:{selector:".vjs-text-color > select",id:"captions-foreground-color-%s",label:"Color",options:[$P,OP,BP,LP,MP,zP,FP,RP],className:"vjs-text-color"},edgeStyle:{selector:".vjs-edge-style > select",id:"",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Drop shadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:t=>t==="1.00"?null:Number(t)},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Opacity",options:[sS,iS],className:"vjs-text-opacity vjs-opacity"},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color",className:"vjs-window-color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Opacity",options:[UP,iS,sS],className:"vjs-window-opacity vjs-opacity"}};Qc.windowColor.options=Qc.backgroundColor.options;function a7(t,e){if(e&&(t=e(t)),t&&t!=="none")return t}function yge(t,e){const n=t.options[t.options.selectedIndex].value;return a7(n,e)}function bge(t,e,n){if(e){for(let r=0;r<t.options.length;r++)if(a7(t.options[r].value,n)===e){t.selectedIndex=r;break}}}class xge extends hp{constructor(e,n){n.temporary=!1,super(e,n),this.updateDisplay=this.updateDisplay.bind(this),this.fill(),this.hasBeenOpened_=this.hasBeenFilled_=!0,this.renderModalComponents(e),this.endDialog=fn("p",{className:"vjs-control-text",textContent:this.localize("End of dialog window.")}),this.el().appendChild(this.endDialog),this.setDefaults(),n.persistTextTrackSettings===void 0&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings),this.bindFunctionsToSelectsAndButtons(),this.options_.persistTextTrackSettings&&this.restoreSettings()}renderModalComponents(e){const n=new r7(e,{textTrackComponentid:this.id_,selectConfigs:Qc,fieldSets:[["color","textOpacity"],["backgroundColor","backgroundOpacity"],["windowColor","windowOpacity"]]});this.addChild(n);const r=new s7(e,{textTrackComponentid:this.id_,selectConfigs:Qc,fieldSets:[["fontPercent"],["edgeStyle"],["fontFamily"]]});this.addChild(r);const s=new i7(e);this.addChild(s)}bindFunctionsToSelectsAndButtons(){this.on(this.$(".vjs-done-button"),["click","tap"],()=>{this.saveSettings(),this.close()}),this.on(this.$(".vjs-default-button"),["click","tap"],()=>{this.setDefaults(),this.updateDisplay()}),hf(Qc,e=>{this.on(this.$(e.selector),"change",this.updateDisplay)})}dispose(){this.endDialog=null,super.dispose()}label(){return this.localize("Caption Settings Dialog")}description(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")}buildCSSClass(){return super.buildCSSClass()+" vjs-text-track-settings"}getValues(){return XF(Qc,(e,n,r)=>{const s=yge(this.$(n.selector),n.parser);return s!==void 0&&(e[r]=s),e},{})}setValues(e){hf(Qc,(n,r)=>{bge(this.$(n.selector),e[r],n.parser)})}setDefaults(){hf(Qc,e=>{const n=e.hasOwnProperty("default")?e.default:0;this.$(e.selector).selectedIndex=n})}restoreSettings(){let e;try{e=JSON.parse(Se.localStorage.getItem(rS))}catch(n){En.warn(n)}e&&this.setValues(e)}saveSettings(){if(!this.options_.persistTextTrackSettings)return;const e=this.getValues();try{Object.keys(e).length?Se.localStorage.setItem(rS,JSON.stringify(e)):Se.localStorage.removeItem(rS)}catch(n){En.warn(n)}}updateDisplay(){const e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()}handleLanguagechange(){this.fill(),this.renderModalComponents(this.player_),this.bindFunctionsToSelectsAndButtons()}}ht.registerComponent("TextTrackSettings",xge);class vge extends ht{constructor(e,n){let r=n.ResizeObserver||Se.ResizeObserver;n.ResizeObserver===null&&(r=!1);const s=lr({createEl:!r,reportTouchActivity:!1},n);super(e,s),this.ResizeObserver=n.ResizeObserver||Se.ResizeObserver,this.loadListener_=null,this.resizeObserver_=null,this.debouncedHandler_=xB(()=>{this.resizeHandler()},100,!1,this),r?(this.resizeObserver_=new this.ResizeObserver(this.debouncedHandler_),this.resizeObserver_.observe(e.el())):(this.loadListener_=()=>{if(!this.el_||!this.el_.contentWindow)return;const i=this.debouncedHandler_;let a=this.unloadListener_=function(){Ys(this,"resize",i),Ys(this,"unload",a),a=null};ia(this.el_.contentWindow,"unload",a),ia(this.el_.contentWindow,"resize",i)},this.one("load",this.loadListener_))}createEl(){return super.createEl("iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})}resizeHandler(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")}dispose(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,super.dispose()}}ht.registerComponent("ResizeManager",vge);const wge={trackingThreshold:20,liveTolerance:15};class _ge extends ht{constructor(e,n){const r=lr(wge,n,{createEl:!1});super(e,r),this.trackLiveHandler_=()=>this.trackLive_(),this.handlePlay_=s=>this.handlePlay(s),this.handleFirstTimeupdate_=s=>this.handleFirstTimeupdate(s),this.handleSeeked_=s=>this.handleSeeked(s),this.seekToLiveEdge_=s=>this.seekToLiveEdge(s),this.reset_(),this.on(this.player_,"durationchange",s=>this.handleDurationchange(s)),this.on(this.player_,"canplay",()=>this.toggleTracking())}trackLive_(){const e=this.player_.seekable();if(!e||!e.length)return;const n=Number(Se.performance.now().toFixed(4)),r=this.lastTime_===-1?0:(n-this.lastTime_)/1e3;this.lastTime_=n,this.pastSeekEnd_=this.pastSeekEnd()+r;const s=this.liveCurrentTime(),i=this.player_.currentTime();let a=this.player_.paused()||this.seekedBehindLive_||Math.abs(s-i)>this.options_.liveTolerance;(!this.timeupdateSeen_||s===1/0)&&(a=!1),a!==this.behindLiveEdge_&&(this.behindLiveEdge_=a,this.trigger("liveedgechange"))}handleDurationchange(){this.toggleTracking()}toggleTracking(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())}startTracking(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,Ha),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))}handleFirstTimeupdate(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)}handleSeeked(){const e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()}handlePlay(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)}reset_(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)}nextSeekedFromUser(){this.nextSeekedFromUser_=!0}stopTracking(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))}seekableEnd(){const e=this.player_.seekable(),n=[];let r=e?e.length:0;for(;r--;)n.push(e.end(r));return n.length?n.sort()[n.length-1]:1/0}seekableStart(){const e=this.player_.seekable(),n=[];let r=e?e.length:0;for(;r--;)n.push(e.start(r));return n.length?n.sort()[0]:0}liveWindow(){const e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()}isLive(){return this.isTracking()}atLiveEdge(){return!this.behindLiveEdge()}liveCurrentTime(){return this.pastSeekEnd()+this.seekableEnd()}pastSeekEnd(){const e=this.seekableEnd();return this.lastSeekEnd_!==-1&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_}behindLiveEdge(){return this.behindLiveEdge_}isTracking(){return typeof this.trackingInterval_=="number"}seekToLiveEdge(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))}dispose(){this.stopTracking(),super.dispose()}}ht.registerComponent("LiveTracker",_ge);class Sge extends ht{constructor(e,n){super(e,n),this.on("statechanged",r=>this.updateDom_()),this.updateDom_()}createEl(){return this.els={title:fn("div",{className:"vjs-title-bar-title",id:`vjs-title-bar-title-${Ua()}`}),description:fn("div",{className:"vjs-title-bar-description",id:`vjs-title-bar-description-${Ua()}`})},fn("div",{className:"vjs-title-bar"},{},QF(this.els))}updateDom_(){const e=this.player_.tech_,n=e&&e.el_,r={title:"aria-labelledby",description:"aria-describedby"};["title","description"].forEach(s=>{const i=this.state[s],a=this.els[s],l=r[s];L1(a),i&&_u(a,i),n&&(n.removeAttribute(l),i&&n.setAttribute(l,a.id))}),this.state.title||this.state.description?this.show():this.hide()}update(e){this.setState(e)}dispose(){const e=this.player_.tech_,n=e&&e.el_;n&&(n.removeAttribute("aria-labelledby"),n.removeAttribute("aria-describedby")),super.dispose(),this.els=null}}ht.registerComponent("TitleBar",Sge);const Cge={initialDisplay:4e3,position:[],takeFocus:!1};class Tge extends Gs{constructor(e,n){n=lr(Cge,n),super(e,n),this.controlText(n.controlText),this.hide(),this.on(this.player_,["useractive","userinactive"],r=>{this.removeClass("force-display")})}buildCSSClass(){return`vjs-transient-button focus-visible ${this.options_.position.map(e=>`vjs-${e}`).join(" ")}`}createEl(){const e=fn("button",{},{type:"button",class:this.buildCSSClass()},fn("span"));return this.controlTextEl_=e.querySelector("span"),e}show(){super.show(),this.addClass("force-display"),this.options_.takeFocus&&this.el().focus({preventScroll:!0}),this.forceDisplayTimeout=this.player_.setTimeout(()=>{this.removeClass("force-display")},this.options_.initialDisplay)}hide(){this.removeClass("force-display"),super.hide()}dispose(){this.player_.clearTimeout(this.forceDisplayTimeout),super.dispose()}}ht.registerComponent("TransientButton",Tge);const rT=t=>{const e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),!0;const n=t.$$("source"),r=[];let s="";if(!n.length)return!1;for(let i=0;i<n.length;i++){const a=n[i].src;a&&r.indexOf(a)===-1&&r.push(a)}return r.length?(r.length===1&&(s=r[0]),t.triggerSourceset(s),!0):!1},kge=Object.defineProperty({},"innerHTML",{get(){return this.cloneNode(!0).innerHTML},set(t){const e=Et.createElement(this.nodeName.toLowerCase());e.innerHTML=t;const n=Et.createDocumentFragment();for(;e.childNodes.length;)n.appendChild(e.childNodes[0]);return this.innerText="",Se.Element.prototype.appendChild.call(this,n),this.innerHTML}}),o7=(t,e)=>{let n={};for(let r=0;r<t.length&&(n=Object.getOwnPropertyDescriptor(t[r],e),!(n&&n.set&&n.get));r++);return n.enumerable=!0,n.configurable=!0,n},Ege=t=>o7([t.el(),Se.HTMLMediaElement.prototype,Se.Element.prototype,kge],"innerHTML"),HP=function(t){const e=t.el();if(e.resetSourceWatch_)return;const n={},r=Ege(t),s=i=>(...a)=>{const l=i.apply(e,a);return rT(t),l};["append","appendChild","insertAdjacentHTML"].forEach(i=>{e[i]&&(n[i]=e[i],e[i]=s(n[i]))}),Object.defineProperty(e,"innerHTML",lr(r,{set:s(r.set)})),e.resetSourceWatch_=()=>{e.resetSourceWatch_=null,Object.keys(n).forEach(i=>{e[i]=n[i]}),Object.defineProperty(e,"innerHTML",r)},t.one("sourceset",e.resetSourceWatch_)},jge=Object.defineProperty({},"src",{get(){return this.hasAttribute("src")?NB(Se.Element.prototype.getAttribute.call(this,"src")):""},set(t){return Se.Element.prototype.setAttribute.call(this,"src",t),t}}),Nge=t=>o7([t.el(),Se.HTMLMediaElement.prototype,jge],"src"),Age=function(t){if(!t.featuresSourceset)return;const e=t.el();if(e.resetSourceset_)return;const n=Nge(t),r=e.setAttribute,s=e.load;Object.defineProperty(e,"src",lr(n,{set:i=>{const a=n.set.call(e,i);return t.triggerSourceset(e.src),a}})),e.setAttribute=(i,a)=>{const l=r.call(e,i,a);return/src/i.test(i)&&t.triggerSourceset(e.src),l},e.load=()=>{const i=s.call(e);return rT(t)||(t.triggerSourceset(""),HP(t)),i},e.currentSrc?t.triggerSourceset(e.currentSrc):rT(t)||HP(t),e.resetSourceset_=()=>{e.resetSourceset_=null,e.load=s,e.setAttribute=r,Object.defineProperty(e,"src",n),e.resetSourceWatch_&&e.resetSourceWatch_()}};class Ut extends _n{constructor(e,n){super(e,n);const r=e.source;let s=!1;if(this.featuresVideoFrameCallback=this.featuresVideoFrameCallback&&this.el_.tagName==="VIDEO",r&&(this.el_.currentSrc!==r.src||e.tag&&e.tag.initNetworkState_===3)?this.setSource(r):this.handleLateInit_(this.el_),e.enableSourceset&&this.setupSourcesetHandling_(),this.isScrubbing_=!1,this.el_.hasChildNodes()){const i=this.el_.childNodes;let a=i.length;const l=[];for(;a--;){const c=i[a];c.nodeName.toLowerCase()==="track"&&(this.featuresNativeTextTracks?(this.remoteTextTrackEls().addTrackElement_(c),this.remoteTextTracks().addTrack(c.track),this.textTracks().addTrack(c.track),!s&&!this.el_.hasAttribute("crossorigin")&&z1(c.src)&&(s=!0)):l.push(c))}for(let c=0;c<l.length;c++)this.el_.removeChild(l[c])}this.proxyNativeTracks_(),this.featuresNativeTextTracks&&s&&En.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),this.restoreMetadataTracksInIOSNativePlayer_(),(Tg||P1)&&e.nativeControlsForTouch===!0&&this.setControls(!0),this.proxyWebkitFullscreen_(),this.triggerReady()}dispose(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),Ut.disposeMediaElement(this.el_),this.options_=null,super.dispose()}setupSourcesetHandling_(){Age(this)}restoreMetadataTracksInIOSNativePlayer_(){const e=this.textTracks();let n;const r=()=>{n=[];for(let i=0;i<e.length;i++){const a=e[i];a.kind==="metadata"&&n.push({track:a,storedMode:a.mode})}};r(),e.addEventListener("change",r),this.on("dispose",()=>e.removeEventListener("change",r));const s=()=>{for(let i=0;i<n.length;i++){const a=n[i];a.track.mode==="disabled"&&a.track.mode!==a.storedMode&&(a.track.mode=a.storedMode)}e.removeEventListener("change",s)};this.on("webkitbeginfullscreen",()=>{e.removeEventListener("change",r),e.removeEventListener("change",s),e.addEventListener("change",s)}),this.on("webkitendfullscreen",()=>{e.removeEventListener("change",r),e.addEventListener("change",r),e.removeEventListener("change",s)})}overrideNative_(e,n){if(n!==this[`featuresNative${e}Tracks`])return;const r=e.toLowerCase();this[`${r}TracksListeners_`]&&Object.keys(this[`${r}TracksListeners_`]).forEach(s=>{this.el()[`${r}Tracks`].removeEventListener(s,this[`${r}TracksListeners_`][s])}),this[`featuresNative${e}Tracks`]=!n,this[`${r}TracksListeners_`]=null,this.proxyNativeTracksForType_(r)}overrideNativeAudioTracks(e){this.overrideNative_("Audio",e)}overrideNativeVideoTracks(e){this.overrideNative_("Video",e)}proxyNativeTracksForType_(e){const n=La[e],r=this.el()[n.getterName],s=this[n.getterName]();if(!this[`featuresNative${n.capitalName}Tracks`]||!r||!r.addEventListener)return;const i={change:l=>{const c={type:"change",target:s,currentTarget:s,srcElement:s};s.trigger(c),e==="text"&&this[Bf.remoteText.getterName]().trigger(c)},addtrack(l){s.addTrack(l.track)},removetrack(l){s.removeTrack(l.track)}},a=function(){const l=[];for(let c=0;c<s.length;c++){let u=!1;for(let h=0;h<r.length;h++)if(r[h]===s[c]){u=!0;break}u||l.push(s[c])}for(;l.length;)s.removeTrack(l.shift())};this[n.getterName+"Listeners_"]=i,Object.keys(i).forEach(l=>{const c=i[l];r.addEventListener(l,c),this.on("dispose",u=>r.removeEventListener(l,c))}),this.on("loadstart",a),this.on("dispose",l=>this.off("loadstart",a))}proxyNativeTracks_(){La.names.forEach(e=>{this.proxyNativeTracksForType_(e)})}createEl(){let e=this.options_.tag;if(!e||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(e){const r=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(r,e),Ut.disposeMediaElement(e),e=r}else{e=Et.createElement("video");const r=this.options_.tag&&Xc(this.options_.tag),s=lr({},r);(!Tg||this.options_.nativeControlsForTouch!==!0)&&delete s.controls,aB(e,Object.assign(s,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&Mf(e,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);const n=["loop","muted","playsinline","autoplay"];for(let r=0;r<n.length;r++){const s=n[r],i=this.options_[s];typeof i<"u"&&(i?Mf(e,s,s):M1(e,s),e[s]=i)}return e}handleLateInit_(e){if(e.networkState===0||e.networkState===3)return;if(e.readyState===0){let r=!1;const s=function(){r=!0};this.on("loadstart",s);const i=function(){r||this.trigger("loadstart")};this.on("loadedmetadata",i),this.ready(function(){this.off("loadstart",s),this.off("loadedmetadata",i),r||this.trigger("loadstart")});return}const n=["loadstart"];n.push("loadedmetadata"),e.readyState>=2&&n.push("loadeddata"),e.readyState>=3&&n.push("canplay"),e.readyState>=4&&n.push("canplaythrough"),this.ready(function(){n.forEach(function(r){this.trigger(r)},this)})}setScrubbing(e){this.isScrubbing_=e}scrubbing(){return this.isScrubbing_}setCurrentTime(e){try{this.isScrubbing_&&this.el_.fastSeek&&I1?this.el_.fastSeek(e):this.el_.currentTime=e}catch(n){En(n,"Video is not ready. (Video.js)")}}duration(){if(this.el_.duration===1/0&&mo&&dl&&this.el_.currentTime===0){const e=()=>{this.el_.currentTime>0&&(this.el_.duration===1/0&&this.trigger("durationchange"),this.off("timeupdate",e))};return this.on("timeupdate",e),NaN}return this.el_.duration||NaN}width(){return this.el_.offsetWidth}height(){return this.el_.offsetHeight}proxyWebkitFullscreen_(){if(!("webkitDisplayingFullscreen"in this.el_))return;const e=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},n=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",()=>{this.off("webkitbeginfullscreen",n),this.off("webkitendfullscreen",e)})}supportsFullScreen(){return typeof this.el_.webkitEnterFullScreen=="function"}enterFullScreen(){const e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)Jo(this.el_.play()),this.setTimeout(function(){e.pause();try{e.webkitEnterFullScreen()}catch(n){this.trigger("fullscreenerror",n)}},0);else try{e.webkitEnterFullScreen()}catch(n){this.trigger("fullscreenerror",n)}}exitFullScreen(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()}requestPictureInPicture(){return this.el_.requestPictureInPicture()}requestVideoFrameCallback(e){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(e):super.requestVideoFrameCallback(e)}cancelVideoFrameCallback(e){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(e):super.cancelVideoFrameCallback(e)}src(e){if(e===void 0)return this.el_.src;this.setSrc(e)}addSourceElement(e,n){if(!e)return En.error("Invalid source URL."),!1;const r={src:e};n&&(r.type=n);const s=fn("source",{},r);return this.el_.appendChild(s),!0}removeSourceElement(e){if(!e)return En.error("Source URL is required to remove the source element."),!1;const n=this.el_.querySelectorAll("source");for(const r of n)if(r.src===e)return this.el_.removeChild(r),!0;return En.warn(`No matching source element found with src: ${e}`),!1}reset(){Ut.resetMediaElement(this.el_)}currentSrc(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc}setControls(e){this.el_.controls=!!e}addTextTrack(e,n,r){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,n,r):super.addTextTrack(e,n,r)}createRemoteTextTrack(e){if(!this.featuresNativeTextTracks)return super.createRemoteTextTrack(e);const n=Et.createElement("track");return e.kind&&(n.kind=e.kind),e.label&&(n.label=e.label),(e.language||e.srclang)&&(n.srclang=e.language||e.srclang),e.default&&(n.default=e.default),e.id&&(n.id=e.id),e.src&&(n.src=e.src),n}addRemoteTextTrack(e,n){const r=super.addRemoteTextTrack(e,n);return this.featuresNativeTextTracks&&this.el().appendChild(r),r}removeRemoteTextTrack(e){if(super.removeRemoteTextTrack(e),this.featuresNativeTextTracks){const n=this.$$("track");let r=n.length;for(;r--;)(e===n[r]||e===n[r].track)&&this.el().removeChild(n[r])}}getVideoPlaybackQuality(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();const e={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),Se.performance&&(e.creationTime=Se.performance.now()),e}}N1(Ut,"TEST_VID",function(){if(!cp())return;const t=Et.createElement("video"),e=Et.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",t.appendChild(e),t});Ut.isSupported=function(){try{Ut.TEST_VID.volume=.5}catch{return!1}return!!(Ut.TEST_VID&&Ut.TEST_VID.canPlayType)};Ut.canPlayType=function(t){return Ut.TEST_VID.canPlayType(t)};Ut.canPlaySource=function(t,e){return Ut.canPlayType(t.type)};Ut.canControlVolume=function(){try{const t=Ut.TEST_VID.volume;Ut.TEST_VID.volume=t/2+.1;const e=t!==Ut.TEST_VID.volume;return e&&qs?(Se.setTimeout(()=>{Ut&&Ut.prototype&&(Ut.prototype.featuresVolumeControl=t!==Ut.TEST_VID.volume)}),!1):e}catch{return!1}};Ut.canMuteVolume=function(){try{const t=Ut.TEST_VID.muted;return Ut.TEST_VID.muted=!t,Ut.TEST_VID.muted?Mf(Ut.TEST_VID,"muted","muted"):M1(Ut.TEST_VID,"muted","muted"),t!==Ut.TEST_VID.muted}catch{return!1}};Ut.canControlPlaybackRate=function(){if(mo&&dl&&A1<58)return!1;try{const t=Ut.TEST_VID.playbackRate;return Ut.TEST_VID.playbackRate=t/2+.1,t!==Ut.TEST_VID.playbackRate}catch{return!1}};Ut.canOverrideAttributes=function(){try{const t=()=>{};Object.defineProperty(Et.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(Et.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(Et.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(Et.createElement("audio"),"innerHTML",{get:t,set:t})}catch{return!1}return!0};Ut.supportsNativeTextTracks=function(){return I1||qs&&dl};Ut.supportsNativeVideoTracks=function(){return!!(Ut.TEST_VID&&Ut.TEST_VID.videoTracks)};Ut.supportsNativeAudioTracks=function(){return!!(Ut.TEST_VID&&Ut.TEST_VID.audioTracks)};Ut.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function([t,e]){N1(Ut.prototype,t,()=>Ut[e](),!0)});Ut.prototype.featuresVolumeControl=Ut.canControlVolume();Ut.prototype.movingMediaElementInDOM=!qs;Ut.prototype.featuresFullscreenResize=!0;Ut.prototype.featuresProgressEvents=!0;Ut.prototype.featuresTimeupdateEvents=!0;Ut.prototype.featuresVideoFrameCallback=!!(Ut.TEST_VID&&Ut.TEST_VID.requestVideoFrameCallback);Ut.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()}};Ut.resetMediaElement=function(t){if(!t)return;const e=t.querySelectorAll("source");let n=e.length;for(;n--;)t.removeChild(e[n]);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){Ut.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){Ut.prototype["set"+Ur(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(t){Ut.prototype[t]=function(){return this.el_[t]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(t){Ut.prototype["set"+Ur(t)]=function(e){this.el_[t]=e}});["pause","load","play"].forEach(function(t){Ut.prototype[t]=function(){return this.el_[t]()}});_n.withSourceHandlers(Ut);Ut.nativeSourceHandler={};Ut.nativeSourceHandler.canPlayType=function(t){try{return Ut.TEST_VID.canPlayType(t)}catch{return""}};Ut.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return Ut.nativeSourceHandler.canPlayType(t.type);if(t.src){const n=uj(t.src);return Ut.nativeSourceHandler.canPlayType(`video/${n}`)}return""};Ut.nativeSourceHandler.handleSource=function(t,e,n){e.setSrc(t.src)};Ut.nativeSourceHandler.dispose=function(){};Ut.registerSourceHandler(Ut.nativeSourceHandler);_n.registerTech("Html5",Ut);const l7=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],aS={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},sT=["tiny","xsmall","small","medium","large","xlarge","huge"],Kb={};sT.forEach(t=>{const e=t.charAt(0)==="x"?`x-${t.substring(1)}`:t;Kb[t]=`vjs-layout-${e}`});const Dge={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0};class vr extends ht{constructor(e,n,r){if(e.id=e.id||n.id||`vjs_video_${Ua()}`,n=Object.assign(vr.getTagSettings(e),n),n.initChildren=!1,n.createEl=!1,n.evented=!1,n.reportTouchActivity=!1,!n.language){const a=e.closest("[lang]");a&&(n.language=a.getAttribute("lang"))}if(super(null,n,r),this.boundDocumentFullscreenChange_=a=>this.documentFullscreenChange_(a),this.boundFullWindowOnEscKey_=a=>this.fullWindowOnEscKey(a),this.boundUpdateStyleEl_=a=>this.updateStyleEl_(a),this.boundApplyInitTime_=a=>this.applyInitTime_(a),this.boundUpdateCurrentBreakpoint_=a=>this.updateCurrentBreakpoint_(a),this.boundHandleTechClick_=a=>this.handleTechClick_(a),this.boundHandleTechDoubleClick_=a=>this.handleTechDoubleClick_(a),this.boundHandleTechTouchStart_=a=>this.handleTechTouchStart_(a),this.boundHandleTechTouchMove_=a=>this.handleTechTouchMove_(a),this.boundHandleTechTouchEnd_=a=>this.handleTechTouchEnd_(a),this.boundHandleTechTap_=a=>this.handleTechTap_(a),this.boundUpdatePlayerHeightOnAudioOnlyMode_=a=>this.updatePlayerHeightOnAudioOnlyMode_(a),this.isFullscreen_=!1,this.log=GF(this.id_),this.fsApi_=Vx,this.isPosterFromTech_=!1,this.queuedCallbacks_=[],this.isReady_=!1,this.hasStarted_=!1,this.userActive_=!1,this.debugEnabled_=!1,this.audioOnlyMode_=!1,this.audioPosterMode_=!1,this.audioOnlyCache_={controlBarHeight:null,playerHeight:null,hiddenChildren:[]},!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(this.tag=e,this.tagAttributes=e&&Xc(e),this.language(this.options_.language),n.languages){const a={};Object.getOwnPropertyNames(n.languages).forEach(function(l){a[l.toLowerCase()]=n.languages[l]}),this.languages_=a}else this.languages_=vr.prototype.options_.languages;this.resetCache_(),this.poster_=n.poster||"",this.controls_=!!n.controls,e.controls=!1,e.removeAttribute("controls"),this.changingSrc_=!1,this.playCallbacks_=[],this.playTerminatedQueue_=[],e.hasAttribute("autoplay")?this.autoplay(!0):this.autoplay(this.options_.autoplay),n.plugins&&Object.keys(n.plugins).forEach(a=>{if(typeof this[a]!="function")throw new Error(`plugin "${a}" does not exist`)}),this.scrubbing_=!1,this.el_=this.createEl(),aj(this,{eventBusKey:"el_"}),this.fsApi_.requestFullscreen&&(ia(Et,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.on(this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_)),this.fluid_&&this.on(["playerreset","resize"],this.boundUpdateStyleEl_);const s=lr(this.options_);if(n.plugins&&Object.keys(n.plugins).forEach(a=>{this[a](n.plugins[a])}),n.debug&&this.debug(!0),this.options_.playerOptions=s,this.middleware_=[],this.playbackRates(n.playbackRates),n.experimentalSvgIcons){const l=new Se.DOMParser().parseFromString(ege,"image/svg+xml");if(l.querySelector("parsererror"))En.warn("Failed to load SVG Icons. Falling back to Font Icons."),this.options_.experimentalSvgIcons=null;else{const u=l.documentElement;u.style.display="none",this.el_.appendChild(u),this.addClass("vjs-svg-icons-enabled")}}this.initChildren(),this.isAudio(e.nodeName.toLowerCase()==="audio"),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.el_.setAttribute("role","region"),this.isAudio()?this.el_.setAttribute("aria-label",this.localize("Audio Player")):this.el_.setAttribute("aria-label",this.localize("Video Player")),this.isAudio()&&this.addClass("vjs-audio"),n.spatialNavigation&&n.spatialNavigation.enabled&&(this.spatialNavigation=new tge(this),this.addClass("vjs-spatial-navigation-enabled")),Tg&&this.addClass("vjs-touch-enabled"),qs||this.addClass("vjs-workinghover"),vr.players[this.id_]=this;const i=GC.split(".")[0];this.addClass(`vjs-v${i}`),this.userActive(!0),this.reportUserActivity(),this.one("play",a=>this.listenForUserActivity_(a)),this.on("keydown",a=>this.handleKeyDown(a)),this.on("languagechange",a=>this.handleLanguagechange(a)),this.breakpoints(this.options_.breakpoints),this.responsive(this.options_.responsive),this.on("ready",()=>{this.audioPosterMode(this.options_.audioPosterMode),this.audioOnlyMode(this.options_.audioOnlyMode)})}dispose(){this.trigger("dispose"),this.off("dispose"),Ys(Et,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),Ys(Et,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),vr.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),Xme(this),di.names.forEach(e=>{const n=di[e],r=this[n.getterName]();r&&r.off&&r.off()}),super.dispose({restoreEl:this.options_.restoreEl})}createEl(){let e=this.tag,n,r=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-vjs-player");const s=this.tag.tagName.toLowerCase()==="video-js";r?n=this.el_=e.parentNode:s||(n=this.el_=super.createEl("div"));const i=Xc(e);if(s){for(n=this.el_=e,e=this.tag=Et.createElement("video");n.children.length;)e.appendChild(n.firstChild);Wm(n,"video-js")||Td(n,"video-js"),n.appendChild(e),r=this.playerElIngest_=n,Object.keys(n).forEach(c=>{try{e[c]=n[c]}catch{}})}e.setAttribute("tabindex","-1"),i.tabindex="-1",dl&&D1&&(e.setAttribute("role","application"),i.role="application"),e.removeAttribute("width"),e.removeAttribute("height"),"width"in i&&delete i.width,"height"in i&&delete i.height,Object.getOwnPropertyNames(i).forEach(function(c){s&&c==="class"||n.setAttribute(c,i[c]),s&&e.setAttribute(c,i[c])}),e.playerId=e.id,e.id+="_html5_api",e.className="vjs-tech",e.player=n.player=this,this.addClass("vjs-paused");const a=["IS_SMART_TV","IS_TIZEN","IS_WEBOS","IS_ANDROID","IS_IPAD","IS_IPHONE","IS_CHROMECAST_RECEIVER"].filter(c=>nB[c]).map(c=>"vjs-device-"+c.substring(3).toLowerCase().replace(/\_/g,"-"));if(this.addClass(...a),Se.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=yB("vjs-styles-dimensions");const c=mu(".vjs-styles-defaults"),u=mu("head");u.insertBefore(this.styleEl_,c?c.nextSibling:u.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);const l=e.getElementsByTagName("a");for(let c=0;c<l.length;c++){const u=l.item(c);Td(u,"vjs-hidden"),u.setAttribute("hidden","hidden")}return e.initNetworkState_=e.networkState,e.parentNode&&!r&&e.parentNode.insertBefore(n,e),XC(e,n),this.children_.unshift(e),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=n,n}crossOrigin(e){if(typeof e>"u")return this.techGet_("crossOrigin");if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){En.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.techCall_("setCrossOrigin",e),this.posterImage&&this.posterImage.crossOrigin(e)}width(e){return this.dimension("width",e)}height(e){return this.dimension("height",e)}dimension(e,n){const r=e+"_";if(n===void 0)return this[r]||0;if(n===""||n==="auto"){this[r]=void 0,this.updateStyleEl_();return}const s=parseFloat(n);if(isNaN(s)){En.error(`Improper value "${n}" supplied for for ${e}`);return}this[r]=s,this.updateStyleEl_()}fluid(e){if(e===void 0)return!!this.fluid_;this.fluid_=!!e,Ql(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),kme(this,()=>{this.on(["playerreset","resize"],this.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()}fill(e){if(e===void 0)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")}aspectRatio(e){if(e===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()}updateStyleEl_(){if(Se.VIDEOJS_NO_DYNAMIC_STYLE===!0){const l=typeof this.width_=="number"?this.width_:this.options_.width,c=typeof this.height_=="number"?this.height_:this.options_.height,u=this.tech_&&this.tech_.el();u&&(l>=0&&(u.width=l),c>=0&&(u.height=c));return}let e,n,r,s;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?r=this.aspectRatio_:this.videoWidth()>0?r=this.videoWidth()+":"+this.videoHeight():r="16:9";const i=r.split(":"),a=i[1]/i[0];this.width_!==void 0?e=this.width_:this.height_!==void 0?e=this.height_/a:e=this.videoWidth()||300,this.height_!==void 0?n=this.height_:n=e*a,/^[^a-zA-Z]/.test(this.id())?s="dimensions-"+this.id():s=this.id()+"-dimensions",this.addClass(s),bB(this.styleEl_,`
      .${s} {
        width: ${e}px;
        height: ${n}px;
      }

      .${s}.vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: ${a*100}%;
      }
    `)}loadTech_(e,n){this.tech_&&this.unloadTech_();const r=Ur(e),s=e.charAt(0).toLowerCase()+e.slice(1);r!=="Html5"&&this.tag&&(_n.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=r,this.isReady_=!1;let i=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(i=!1);const a={source:n,autoplay:i,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:`${this.id()}_${s}_api`,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};di.names.forEach(c=>{const u=di[c];a[u.getterName]=this[u.privateName]}),Object.assign(a,this.options_[r]),Object.assign(a,this.options_[s]),Object.assign(a,this.options_[e.toLowerCase()]),this.tag&&(a.tag=this.tag),n&&n.src===this.cache_.src&&this.cache_.currentTime>0&&(a.startTime=this.cache_.currentTime);const l=_n.getTech(e);if(!l)throw new Error(`No Tech named '${r}' exists! '${r}' should be registered using videojs.registerTech()'`);this.tech_=new l(a),this.tech_.ready(gr(this,this.handleTechReady_),!0),SP.jsonToTextTracks(this.textTracksJson_||[],this.tech_),l7.forEach(c=>{this.on(this.tech_,c,u=>this[`handleTech${Ur(c)}_`](u))}),Object.keys(aS).forEach(c=>{this.on(this.tech_,c,u=>{if(this.tech_.playbackRate()===0&&this.tech_.seeking()){this.queuedCallbacks_.push({callback:this[`handleTech${aS[c]}_`].bind(this),event:u});return}this[`handleTech${aS[c]}_`](u)})}),this.on(this.tech_,"loadstart",c=>this.handleTechLoadStart_(c)),this.on(this.tech_,"sourceset",c=>this.handleTechSourceset_(c)),this.on(this.tech_,"waiting",c=>this.handleTechWaiting_(c)),this.on(this.tech_,"ended",c=>this.handleTechEnded_(c)),this.on(this.tech_,"seeking",c=>this.handleTechSeeking_(c)),this.on(this.tech_,"play",c=>this.handleTechPlay_(c)),this.on(this.tech_,"pause",c=>this.handleTechPause_(c)),this.on(this.tech_,"durationchange",c=>this.handleTechDurationChange_(c)),this.on(this.tech_,"fullscreenchange",(c,u)=>this.handleTechFullscreenChange_(c,u)),this.on(this.tech_,"fullscreenerror",(c,u)=>this.handleTechFullscreenError_(c,u)),this.on(this.tech_,"enterpictureinpicture",c=>this.handleTechEnterPictureInPicture_(c)),this.on(this.tech_,"leavepictureinpicture",c=>this.handleTechLeavePictureInPicture_(c)),this.on(this.tech_,"error",c=>this.handleTechError_(c)),this.on(this.tech_,"posterchange",c=>this.handleTechPosterChange_(c)),this.on(this.tech_,"textdata",c=>this.handleTechTextData_(c)),this.on(this.tech_,"ratechange",c=>this.handleTechRateChange_(c)),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(r!=="Html5"||!this.tag)&&XC(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)}unloadTech_(){di.names.forEach(e=>{const n=di[e];this[n.privateName]=this[n.getterName]()}),this.textTracksJson_=SP.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1}tech(e){return e===void 0&&En.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_}version(){return{"video.js":GC}}addTechControlsListeners_(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)}removeTechControlsListeners_(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)}handleTechReady_(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()}handleTechLoadStart_(){this.removeClass("vjs-ended","vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):this.trigger("loadstart"),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())}manualAutoplay_(e){if(!this.tech_||typeof e!="string")return;const n=()=>{const s=this.muted();this.muted(!0);const i=()=>{this.muted(s)};this.playTerminatedQueue_.push(i);const a=this.play();if(qm(a))return a.catch(l=>{throw i(),new Error(`Rejection at manualAutoplay. Restoring muted value. ${l||""}`)})};let r;if(e==="any"&&!this.muted()?(r=this.play(),qm(r)&&(r=r.catch(n))):e==="muted"&&!this.muted()?r=n():r=this.play(),!!qm(r))return r.then(()=>{this.trigger({type:"autoplay-success",autoplay:e})}).catch(()=>{this.trigger({type:"autoplay-failure",autoplay:e})})}updateSourceCaches_(e=""){let n=e,r="";typeof n!="string"&&(n=e.src,r=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],n&&!r&&(r=Jme(this,n)),this.cache_.source=lr({},e,{src:n,type:r});const s=this.cache_.sources.filter(c=>c.src&&c.src===n),i=[],a=this.$$("source"),l=[];for(let c=0;c<a.length;c++){const u=Xc(a[c]);i.push(u),u.src&&u.src===n&&l.push(u.src)}l.length&&!s.length?this.cache_.sources=i:s.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=n}handleTechSourceset_(e){if(!this.changingSrc_){let n=i=>this.updateSourceCaches_(i);const r=this.currentSource().src,s=e.src;r&&!/^blob:/.test(r)&&/^blob:/.test(s)&&(!this.lastSource_||this.lastSource_.tech!==s&&this.lastSource_.player!==r)&&(n=()=>{}),n(s),e.src||this.tech_.any(["sourceset","loadstart"],i=>{if(i.type==="sourceset")return;const a=this.techGet_("currentSrc");this.lastSource_.tech=a,this.updateSourceCaches_(a)})}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})}hasStarted(e){if(e===void 0)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?this.addClass("vjs-has-started"):this.removeClass("vjs-has-started"))}handleTechPlay_(){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")}handleTechRateChange_(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(e=>e.callback(e.event)),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")}handleTechWaiting_(){this.addClass("vjs-waiting"),this.trigger("waiting");const e=this.currentTime(),n=()=>{e!==this.currentTime()&&(this.removeClass("vjs-waiting"),this.off("timeupdate",n))};this.on("timeupdate",n)}handleTechCanPlay_(){this.removeClass("vjs-waiting"),this.trigger("canplay")}handleTechCanPlayThrough_(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")}handleTechPlaying_(){this.removeClass("vjs-waiting"),this.trigger("playing")}handleTechSeeking_(){this.addClass("vjs-seeking"),this.trigger("seeking")}handleTechSeeked_(){this.removeClass("vjs-seeking","vjs-ended"),this.trigger("seeked")}handleTechPause_(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")}handleTechEnded_(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")}handleTechDurationChange_(){this.duration(this.techGet_("duration"))}handleTechClick_(e){this.controls_&&(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,e):this.paused()?Jo(this.play()):this.pause())}handleTechDoubleClick_(e){if(!this.controls_)return;Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),r=>r.contains(e.target))||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,e):this.isInPictureInPicture()&&!Et.pictureInPictureElement?this.exitPictureInPicture():this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}handleTechTap_(){this.userActive(!this.userActive())}handleTechTouchStart_(){this.userWasActive=this.userActive()}handleTechTouchMove_(){this.userWasActive&&this.reportUserActivity()}handleTechTouchEnd_(e){e.cancelable&&e.preventDefault()}toggleFullscreenClass_(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")}documentFullscreenChange_(e){const n=e.target.player;if(n&&n!==this)return;const r=this.el();let s=Et[this.fsApi_.fullscreenElement]===r;!s&&r.matches&&(s=r.matches(":"+this.fsApi_.fullscreen)),this.isFullscreen(s)}handleTechFullscreenChange_(e,n){n&&(n.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",()=>{this.removeClass("vjs-ios-native-fs")})),this.isFullscreen(n.isFullscreen))}handleTechFullscreenError_(e,n){this.trigger("fullscreenerror",n)}togglePictureInPictureClass_(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")}handleTechEnterPictureInPicture_(e){this.isInPictureInPicture(!0)}handleTechLeavePictureInPicture_(e){this.isInPictureInPicture(!1)}handleTechError_(){const e=this.tech_.error();e&&this.error(e)}handleTechTextData_(){let e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)}getCache(){return this.cache_}resetCache_(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}}techCall_(e,n){this.ready(function(){if(e in Gme)return qme(this.middleware_,this.tech_,e,n);if(e in jP)return EP(this.middleware_,this.tech_,e,n);try{this.tech_&&this.tech_[e](n)}catch(r){throw En(r),r}},!0)}techGet_(e){if(!(!this.tech_||!this.tech_.isReady_)){if(e in Yme)return Vme(this.middleware_,this.tech_,e);if(e in jP)return EP(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(n){throw this.tech_[e]===void 0?(En(`Video.js: ${e} method not defined for ${this.techName_} playback technology.`,n),n):n.name==="TypeError"?(En(`Video.js: ${e} unavailable on ${this.techName_} playback technology element.`,n),this.tech_.isReady_=!1,n):(En(n),n)}}}play(){return new Promise(e=>{this.play_(e)})}play_(e=Jo){this.playCallbacks_.push(e);const n=!!(!this.changingSrc_&&(this.src()||this.currentSrc())),r=!!(I1||qs);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!n){this.waitToPlay_=a=>{this.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!n&&r&&this.load();return}const s=this.techGet_("play");r&&this.hasClass("vjs-ended")&&this.resetProgressBar_(),s===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(s)}runPlayTerminatedQueue_(){const e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(n){n()})}runPlayCallbacks_(e){const n=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],n.forEach(function(r){r(e)})}pause(){this.techCall_("pause")}paused(){return this.techGet_("paused")!==!1}played(){return this.techGet_("played")||ho(0,0)}scrubbing(e){if(typeof e>"u")return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")}currentTime(e){if(e===void 0)return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime;if(e<0&&(e=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",e),this.cache_.initTime=0,isFinite(e)&&(this.cache_.currentTime=Number(e))}applyInitTime_(){this.currentTime(this.cache_.initTime)}duration(e){if(e===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;e=parseFloat(e),e<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))}remainingTime(){return this.duration()-this.currentTime()}remainingTimeDisplay(){return Math.floor(this.duration())-Math.floor(this.currentTime())}buffered(){let e=this.techGet_("buffered");return(!e||!e.length)&&(e=ho(0,0)),e}seekable(){let e=this.techGet_("seekable");return(!e||!e.length)&&(e=ho(0,0)),e}seeking(){return this.techGet_("seeking")}ended(){return this.techGet_("ended")}networkState(){return this.techGet_("networkState")}readyState(){return this.techGet_("readyState")}bufferedPercent(){return EB(this.buffered(),this.duration())}bufferedEnd(){const e=this.buffered(),n=this.duration();let r=e.end(e.length-1);return r>n&&(r=n),r}volume(e){let n;if(e!==void 0){n=Math.max(0,Math.min(1,e)),this.cache_.volume=n,this.techCall_("setVolume",n),n>0&&this.lastVolume_(n);return}return n=parseFloat(this.techGet_("volume")),isNaN(n)?1:n}muted(e){if(e!==void 0){this.techCall_("setMuted",e);return}return this.techGet_("muted")||!1}defaultMuted(e){return e!==void 0&&this.techCall_("setDefaultMuted",e),this.techGet_("defaultMuted")||!1}lastVolume_(e){if(e!==void 0&&e!==0){this.cache_.lastVolume=e;return}return this.cache_.lastVolume}supportsFullScreen(){return this.techGet_("supportsFullScreen")||!1}isFullscreen(e){if(e!==void 0){const n=this.isFullscreen_;this.isFullscreen_=!!e,this.isFullscreen_!==n&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_}requestFullscreen(e){this.isInPictureInPicture()&&this.exitPictureInPicture();const n=this;return new Promise((r,s)=>{function i(){n.off("fullscreenerror",l),n.off("fullscreenchange",a)}function a(){i(),r()}function l(u,h){i(),s(h)}n.one("fullscreenchange",a),n.one("fullscreenerror",l);const c=n.requestFullscreenHelper_(e);c&&(c.then(i,i),c.then(r,s))})}requestFullscreenHelper_(e){let n;if(this.fsApi_.prefixed||(n=this.options_.fullscreen&&this.options_.fullscreen.options||{},e!==void 0&&(n=e)),this.fsApi_.requestFullscreen){const r=this.el_[this.fsApi_.requestFullscreen](n);return r&&r.then(()=>this.isFullscreen(!0),()=>this.isFullscreen(!1)),r}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()}exitFullscreen(){const e=this;return new Promise((n,r)=>{function s(){e.off("fullscreenerror",a),e.off("fullscreenchange",i)}function i(){s(),n()}function a(c,u){s(),r(u)}e.one("fullscreenchange",i),e.one("fullscreenerror",a);const l=e.exitFullscreenHelper_();l&&(l.then(s,s),l.then(n,r))})}exitFullscreenHelper_(){if(this.fsApi_.requestFullscreen){const e=Et[this.fsApi_.exitFullscreen]();return e&&Jo(e.then(()=>this.isFullscreen(!1))),e}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()}enterFullWindow(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=Et.documentElement.style.overflow,ia(Et,"keydown",this.boundFullWindowOnEscKey_),Et.documentElement.style.overflow="hidden",Td(Et.body,"vjs-full-window"),this.trigger("enterFullWindow")}fullWindowOnEscKey(e){e.key==="Escape"&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())}exitFullWindow(){this.isFullscreen(!1),this.isFullWindow=!1,Ys(Et,"keydown",this.boundFullWindowOnEscKey_),Et.documentElement.style.overflow=this.docOrigOverflow,O1(Et.body,"vjs-full-window"),this.trigger("exitFullWindow")}disablePictureInPicture(e){if(e===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")}isInPictureInPicture(e){if(e!==void 0){this.isInPictureInPicture_=!!e,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_}requestPictureInPicture(){if(this.options_.enableDocumentPictureInPicture&&Se.documentPictureInPicture){const e=Et.createElement(this.el().tagName);return e.classList=this.el().classList,e.classList.add("vjs-pip-container"),this.posterImage&&e.appendChild(this.posterImage.el().cloneNode(!0)),this.titleBar&&e.appendChild(this.titleBar.el().cloneNode(!0)),e.appendChild(fn("p",{className:"vjs-pip-text"},{},this.localize("Playing in picture-in-picture"))),Se.documentPictureInPicture.requestWindow({width:this.videoWidth(),height:this.videoHeight()}).then(n=>(pB(n),this.el_.parentNode.insertBefore(e,this.el_),n.document.body.appendChild(this.el_),n.document.body.classList.add("vjs-pip-window"),this.player_.isInPictureInPicture(!0),this.player_.trigger({type:"enterpictureinpicture",pipWindow:n}),n.addEventListener("pagehide",r=>{const s=r.target.querySelector(".video-js");e.parentNode.replaceChild(s,e),this.player_.isInPictureInPicture(!1),this.player_.trigger("leavepictureinpicture")}),n))}return"pictureInPictureEnabled"in Et&&this.disablePictureInPicture()===!1?this.techGet_("requestPictureInPicture"):Promise.reject("No PiP mode is available")}exitPictureInPicture(){if(Se.documentPictureInPicture&&Se.documentPictureInPicture.window)return Se.documentPictureInPicture.window.close(),Promise.resolve();if("pictureInPictureEnabled"in Et)return Et.exitPictureInPicture()}handleKeyDown(e){const{userActions:n}=this.options_;!n||!n.hotkeys||(s=>{const i=s.tagName.toLowerCase();if(s.isContentEditable)return!0;const a=["button","checkbox","hidden","radio","reset","submit"];return i==="input"?a.indexOf(s.type)===-1:["textarea"].indexOf(i)!==-1})(this.el_.ownerDocument.activeElement)||(typeof n.hotkeys=="function"?n.hotkeys.call(this,e):this.handleHotkeys(e))}handleHotkeys(e){const n=this.options_.userActions?this.options_.userActions.hotkeys:{},{fullscreenKey:r=a=>e.key.toLowerCase()==="f",muteKey:s=a=>e.key.toLowerCase()==="m",playPauseKey:i=a=>e.key.toLowerCase()==="k"||e.key.toLowerCase()===" "}=n;if(r.call(this,e)){e.preventDefault(),e.stopPropagation();const a=ht.getComponent("FullscreenToggle");Et[this.fsApi_.fullscreenEnabled]!==!1&&a.prototype.handleClick.call(this,e)}else s.call(this,e)?(e.preventDefault(),e.stopPropagation(),ht.getComponent("MuteToggle").prototype.handleClick.call(this,e)):i.call(this,e)&&(e.preventDefault(),e.stopPropagation(),ht.getComponent("PlayToggle").prototype.handleClick.call(this,e))}canPlayType(e){let n;for(let r=0,s=this.options_.techOrder;r<s.length;r++){const i=s[r];let a=_n.getTech(i);if(a||(a=ht.getComponent(i)),!a){En.error(`The "${i}" tech is undefined. Skipped browser support check for that tech.`);continue}if(a.isSupported()&&(n=a.canPlayType(e),n))return n}return""}selectSource(e){const n=this.options_.techOrder.map(l=>[l,_n.getTech(l)]).filter(([l,c])=>c?c.isSupported():(En.error(`The "${l}" tech is undefined. Skipped browser support check for that tech.`),!1)),r=function(l,c,u){let h;return l.some(f=>c.some(m=>{if(h=u(f,m),h)return!0})),h};let s;const i=l=>(c,u)=>l(u,c),a=([l,c],u)=>{if(c.canPlaySource(u,this.options_[l.toLowerCase()]))return{source:u,tech:l}};return this.options_.sourceOrder?s=r(e,n,i(a)):s=r(n,e,a),s||!1}handleSrc_(e,n){if(typeof e>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();const r=PB(e);if(!r.length){this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0);return}if(this.changingSrc_=!0,n||(this.cache_.sources=r),this.updateSourceCaches_(r[0]),Hme(this,r[0],(s,i)=>{if(this.middleware_=i,n||(this.cache_.sources=r),this.updateSourceCaches_(s),this.src_(s)){if(r.length>1)return this.handleSrc_(r.slice(1));this.changingSrc_=!1,this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),this.triggerReady();return}Wme(i,this.tech_)}),r.length>1){const s=()=>{this.error(null),this.handleSrc_(r.slice(1),!0)},i=()=>{this.off("error",s)};this.one("error",s),this.one("playing",i),this.resetRetryOnError_=()=>{this.off("error",s),this.off("playing",i)}}}src(e){return this.handleSrc_(e,!1)}src_(e){const n=this.selectSource([e]);return n?SB(n.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(n.tech,n.source),this.tech_.ready(()=>{this.changingSrc_=!1}),!1):!0}addSourceElement(e,n){return this.tech_?this.tech_.addSourceElement(e,n):!1}removeSourceElement(e){return this.tech_?this.tech_.removeSourceElement(e):!1}load(){if(this.tech_&&this.tech_.vhs){this.src(this.currentSource());return}this.techCall_("load")}reset(){if(this.paused())this.doReset_();else{const e=this.play();Jo(e.then(()=>this.doReset_()))}}doReset_(){this.tech_&&this.tech_.clearTracks("text"),this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),this.error(null),this.titleBar&&this.titleBar.update({title:void 0,description:void 0}),Ql(this)&&this.trigger("playerreset")}resetControlBarUI_(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()}resetProgressBar_(){this.currentTime(0);const{currentTimeDisplay:e,durationDisplay:n,progressControl:r,remainingTimeDisplay:s}=this.controlBar||{},{seekBar:i}=r||{};e&&e.updateContent(),n&&n.updateContent(),s&&s.updateContent(),i&&(i.update(),i.loadProgressBar&&i.loadProgressBar.update())}resetPlaybackRate_(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()}resetVolumeBar_(){this.volume(1),this.trigger("volumechange")}currentSources(){const e=this.currentSource(),n=[];return Object.keys(e).length!==0&&n.push(e),this.cache_.sources||n}currentSource(){return this.cache_.source||{}}currentSrc(){return this.currentSource()&&this.currentSource().src||""}currentType(){return this.currentSource()&&this.currentSource().type||""}preload(e){if(e!==void 0){this.techCall_("setPreload",e),this.options_.preload=e;return}return this.techGet_("preload")}autoplay(e){if(e===void 0)return this.options_.autoplay||!1;let n;typeof e=="string"&&/(any|play|muted)/.test(e)||e===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_(typeof e=="string"?e:"play"),n=!1):e?this.options_.autoplay=!0:this.options_.autoplay=!1,n=typeof n>"u"?this.options_.autoplay:n,this.tech_&&this.techCall_("setAutoplay",n)}playsinline(e){return e!==void 0&&(this.techCall_("setPlaysinline",e),this.options_.playsinline=e),this.techGet_("playsinline")}loop(e){if(e!==void 0){this.techCall_("setLoop",e),this.options_.loop=e;return}return this.techGet_("loop")}poster(e){if(e===void 0)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))}handleTechPosterChange_(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){const e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}}controls(e){if(e===void 0)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))}usingNativeControls(e){if(e===void 0)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))}error(e){if(e===void 0)return this.error_||null;if(pu("beforeerror").forEach(n=>{const r=n(this,e);if(!(ul(r)&&!Array.isArray(r)||typeof r=="string"||typeof r=="number"||r===null)){this.log.error("please return a value that MediaError expects in beforeerror hooks");return}e=r}),this.options_.suppressNotSupportedError&&e&&e.code===4){const n=function(){this.error(e)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],n),this.one("loadstart",function(){this.off(["click","touchstart"],n)});return}if(e===null){this.error_=null,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new Fr(e),this.addClass("vjs-error"),En.error(`(CODE:${this.error_.code} ${Fr.errorTypes[this.error_.code]})`,this.error_.message,this.error_),this.trigger("error"),pu("error").forEach(n=>n(this,this.error_))}reportUserActivity(e){this.userActivity_=!0}userActive(e){if(e===void 0)return this.userActive_;if(e=!!e,e!==this.userActive_){if(this.userActive_=e,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(n){n.stopPropagation(),n.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}}listenForUserActivity_(){let e,n,r;const s=gr(this,this.reportUserActivity),i=function(f){(f.screenX!==n||f.screenY!==r)&&(n=f.screenX,r=f.screenY,s())},a=function(){s(),this.clearInterval(e),e=this.setInterval(s,250)},l=function(f){s(),this.clearInterval(e)};this.on("mousedown",a),this.on("mousemove",i),this.on("mouseup",l),this.on("mouseleave",l);const c=this.getChild("controlBar");c&&!qs&&!mo&&(c.on("mouseenter",function(f){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),c.on("mouseleave",function(f){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",s),this.on("keyup",s);let u;const h=function(){if(!this.userActivity_)return;this.userActivity_=!1,this.userActive(!0),this.clearTimeout(u);const f=this.options_.inactivityTimeout;f<=0||(u=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},f))};this.setInterval(h,250)}playbackRate(e){if(e!==void 0){this.techCall_("setPlaybackRate",e);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1}defaultPlaybackRate(e){return e!==void 0?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1}isAudio(e){if(e!==void 0){this.isAudio_=!!e;return}return!!this.isAudio_}updatePlayerHeightOnAudioOnlyMode_(){const e=this.getChild("ControlBar");!e||this.audioOnlyCache_.controlBarHeight===e.currentHeight()||(this.audioOnlyCache_.controlBarHeight=e.currentHeight(),this.height(this.audioOnlyCache_.controlBarHeight))}enableAudioOnlyUI_(){this.addClass("vjs-audio-only-mode");const e=this.children(),n=this.getChild("ControlBar"),r=n&&n.currentHeight();e.forEach(s=>{s!==n&&s.el_&&!s.hasClass("vjs-hidden")&&(s.hide(),this.audioOnlyCache_.hiddenChildren.push(s))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.audioOnlyCache_.controlBarHeight=r,this.on("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.height(r),this.trigger("audioonlymodechange")}disableAudioOnlyUI_(){this.removeClass("vjs-audio-only-mode"),this.off("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.audioOnlyCache_.hiddenChildren.forEach(e=>e.show()),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")}audioOnlyMode(e){if(typeof e!="boolean"||e===this.audioOnlyMode_)return this.audioOnlyMode_;if(this.audioOnlyMode_=e,e){const n=[];return this.isInPictureInPicture()&&n.push(this.exitPictureInPicture()),this.isFullscreen()&&n.push(this.exitFullscreen()),this.audioPosterMode()&&n.push(this.audioPosterMode(!1)),Promise.all(n).then(()=>this.enableAudioOnlyUI_())}return Promise.resolve().then(()=>this.disableAudioOnlyUI_())}enablePosterModeUI_(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}disablePosterModeUI_(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}audioPosterMode(e){return typeof e!="boolean"||e===this.audioPosterMode_?this.audioPosterMode_:(this.audioPosterMode_=e,e?this.audioOnlyMode()?this.audioOnlyMode(!1).then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.disablePosterModeUI_()}))}addTextTrack(e,n,r){if(this.tech_)return this.tech_.addTextTrack(e,n,r)}addRemoteTextTrack(e,n){if(this.tech_)return this.tech_.addRemoteTextTrack(e,n)}removeRemoteTextTrack(e={}){let{track:n}=e;if(n||(n=e),this.tech_)return this.tech_.removeRemoteTextTrack(n)}getVideoPlaybackQuality(){return this.techGet_("getVideoPlaybackQuality")}videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0}videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0}language(e){if(e===void 0)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),Ql(this)&&this.trigger("languagechange"))}languages(){return lr(vr.prototype.options_.languages,this.languages_)}toJSON(){const e=lr(this.options_),n=e.tracks;e.tracks=[];for(let r=0;r<n.length;r++){let s=n[r];s=lr(s),s.player=void 0,e.tracks[r]=s}return e}createModal(e,n){n=n||{},n.content=e||"";const r=new hp(this,n);return this.addChild(r),r.on("dispose",()=>{this.removeChild(r)}),r.open(),r}updateCurrentBreakpoint_(){if(!this.responsive())return;const e=this.currentBreakpoint(),n=this.currentWidth();for(let r=0;r<sT.length;r++){const s=sT[r],i=this.breakpoints_[s];if(n<=i){if(e===s)return;e&&this.removeClass(Kb[e]),this.addClass(Kb[s]),this.breakpoint_=s;break}}}removeCurrentBreakpoint_(){const e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)}breakpoints(e){return e===void 0?Object.assign(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=Object.assign({},Dge,e),this.updateCurrentBreakpoint_(),Object.assign(this.breakpoints_))}responsive(e){if(e===void 0)return this.responsive_;e=!!e;const n=this.responsive_;if(e!==n)return this.responsive_=e,e?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e}currentBreakpoint(){return this.breakpoint_}currentBreakpointClass(){return Kb[this.breakpoint_]||""}loadMedia(e,n){if(!e||typeof e!="object")return;const r=this.crossOrigin();this.reset(),this.cache_.media=lr(e);const{artist:s,artwork:i,description:a,poster:l,src:c,textTracks:u,title:h}=this.cache_.media;!i&&l&&(this.cache_.media.artwork=[{src:l,type:tv(l)}]),r&&this.crossOrigin(r),c&&this.src(c),l&&this.poster(l),Array.isArray(u)&&u.forEach(f=>this.addRemoteTextTrack(f,!1)),this.titleBar&&this.titleBar.update({title:h,description:a||s||""}),this.ready(n)}getMedia(){if(!this.cache_.media){const e=this.poster(),n=this.currentSources(),r=Array.prototype.map.call(this.remoteTextTracks(),i=>({kind:i.kind,label:i.label,language:i.language,src:i.src})),s={src:n,textTracks:r};return e&&(s.poster=e,s.artwork=[{src:s.poster,type:tv(s.poster)}]),s}return lr(this.cache_.media)}static getTagSettings(e){const n={sources:[],tracks:[]},r=Xc(e),s=r["data-setup"];if(Wm(e,"vjs-fill")&&(r.fill=!0),Wm(e,"vjs-fluid")&&(r.fluid=!0),s!==null)try{Object.assign(r,JSON.parse(s||"{}"))}catch(i){En.error("data-setup",i)}if(Object.assign(n,r),e.hasChildNodes()){const i=e.childNodes;for(let a=0,l=i.length;a<l;a++){const c=i[a],u=c.nodeName.toLowerCase();u==="source"?n.sources.push(Xc(c)):u==="track"&&n.tracks.push(Xc(c))}}return n}debug(e){if(e===void 0)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)}playbackRates(e){if(e===void 0)return this.cache_.playbackRates;Array.isArray(e)&&e.every(n=>typeof n=="number")&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))}}di.names.forEach(function(t){const e=di[t];vr.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}});vr.prototype.crossorigin=vr.prototype.crossOrigin;vr.players={};const fm=Se.navigator;vr.prototype.options_={techOrder:_n.defaultTechOrder_,html5:{},enableSourceset:!0,inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","titleBar","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:fm&&(fm.languages&&fm.languages[0]||fm.userLanguage||fm.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1,spatialNavigation:{enabled:!1,horizontalSeek:!1},enableSmoothSeeking:!1,disableSeekWhileScrubbingOnMobile:!1};l7.forEach(function(t){vr.prototype[`handleTech${Ur(t)}_`]=function(){return this.trigger(t)}});ht.registerComponent("Player",vr);const nv="plugin",mf="activePlugins_",Kh={},rv=t=>Kh.hasOwnProperty(t),Xb=t=>rv(t)?Kh[t]:void 0,c7=(t,e)=>{t[mf]=t[mf]||{},t[mf][e]=!0},sv=(t,e,n)=>{const r=(n?"before":"")+"pluginsetup";t.trigger(r,e),t.trigger(r+":"+e.name,e)},Pge=function(t,e){const n=function(){sv(this,{name:t,plugin:e,instance:null},!0);const r=e.apply(this,arguments);return c7(this,t),sv(this,{name:t,plugin:e,instance:r}),r};return Object.keys(e).forEach(function(r){n[r]=e[r]}),n},WP=(t,e)=>(e.prototype.name=t,function(...n){sv(this,{name:t,plugin:e,instance:null},!0);const r=new e(this,...n);return this[t]=()=>r,sv(this,r.getEventHash()),r});class Mi{constructor(e){if(this.constructor===Mi)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,this.log||(this.log=this.player.log.createLogger(this.name)),aj(this),delete this.trigger,_B(this,this.constructor.defaultState),c7(e,this.name),this.dispose=this.dispose.bind(this),e.on("dispose",this.dispose)}version(){return this.constructor.VERSION}getEventHash(e={}){return e.name=this.name,e.plugin=this.constructor,e.instance=this,e}trigger(e,n={}){return dp(this.eventBusEl_,e,this.getEventHash(n))}handleStateChanged(e){}dispose(){const{name:e,player:n}=this;this.trigger("dispose"),this.off(),n.off("dispose",this.dispose),n[mf][e]=!1,this.player=this.state=null,n[e]=WP(e,Kh[e])}static isBasic(e){const n=typeof e=="string"?Xb(e):e;return typeof n=="function"&&!Mi.prototype.isPrototypeOf(n.prototype)}static registerPlugin(e,n){if(typeof e!="string")throw new Error(`Illegal plugin name, "${e}", must be a string, was ${typeof e}.`);if(rv(e))En.warn(`A plugin named "${e}" already exists. You may want to avoid re-registering plugins!`);else if(vr.prototype.hasOwnProperty(e))throw new Error(`Illegal plugin name, "${e}", cannot share a name with an existing player method!`);if(typeof n!="function")throw new Error(`Illegal plugin for "${e}", must be a function, was ${typeof n}.`);return Kh[e]=n,e!==nv&&(Mi.isBasic(n)?vr.prototype[e]=Pge(e,n):vr.prototype[e]=WP(e,n)),n}static deregisterPlugin(e){if(e===nv)throw new Error("Cannot de-register base plugin.");rv(e)&&(delete Kh[e],delete vr.prototype[e])}static getPlugins(e=Object.keys(Kh)){let n;return e.forEach(r=>{const s=Xb(r);s&&(n=n||{},n[r]=s)}),n}static getPluginVersion(e){const n=Xb(e);return n&&n.VERSION||""}}Mi.getPlugin=Xb;Mi.BASE_PLUGIN_NAME=nv;Mi.registerPlugin(nv,Mi);vr.prototype.usingPlugin=function(t){return!!this[mf]&&this[mf][t]===!0};vr.prototype.hasPlugin=function(t){return!!rv(t)};function Ige(t,e){let n=!1;return function(...r){return n||En.warn(t),n=!0,e.apply(this,r)}}function wo(t,e,n,r){return Ige(`${e} is deprecated and will be removed in ${t}.0; please use ${n} instead.`,r)}var Oge={NetworkBadStatus:"networkbadstatus",NetworkRequestFailed:"networkrequestfailed",NetworkRequestAborted:"networkrequestaborted",NetworkRequestTimeout:"networkrequesttimeout",NetworkBodyParserFailed:"networkbodyparserfailed",StreamingHlsPlaylistParserError:"streaminghlsplaylistparsererror",StreamingDashManifestParserError:"streamingdashmanifestparsererror",StreamingContentSteeringParserError:"streamingcontentsteeringparsererror",StreamingVttParserError:"streamingvttparsererror",StreamingFailedToSelectNextSegment:"streamingfailedtoselectnextsegment",StreamingFailedToDecryptSegment:"streamingfailedtodecryptsegment",StreamingFailedToTransmuxSegment:"streamingfailedtotransmuxsegment",StreamingFailedToAppendSegment:"streamingfailedtoappendsegment",StreamingCodecsChangeError:"streamingcodecschangeerror"};const u7=t=>t.indexOf("#")===0?t.slice(1):t;function Qe(t,e,n){let r=Qe.getPlayer(t);if(r)return e&&En.warn(`Player "${t}" is already initialised. Options will not be applied.`),n&&r.ready(n),r;const s=typeof t=="string"?mu("#"+u7(t)):t;if(!up(s))throw new TypeError("The element or ID supplied is not valid. (videojs)");const a=("getRootNode"in s?s.getRootNode()instanceof Se.ShadowRoot:!1)?s.getRootNode():s.ownerDocument.body;(!s.ownerDocument.defaultView||!a.contains(s))&&En.warn("The element supplied is not included in the DOM"),e=e||{},e.restoreEl===!0&&(e.restoreEl=(s.parentNode&&s.parentNode.hasAttribute&&s.parentNode.hasAttribute("data-vjs-player")?s.parentNode:s).cloneNode(!0)),pu("beforesetup").forEach(c=>{const u=c(s,lr(e));if(!ul(u)||Array.isArray(u)){En.error("please return an object in beforesetup hooks");return}e=lr(e,u)});const l=ht.getComponent("Player");return r=new l(s,e,n),pu("setup").forEach(c=>c(r)),r}Qe.hooks_=Ul;Qe.hooks=pu;Qe.hook=hme;Qe.hookOnce=fme;Qe.removeHook=YF;if(Se.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&cp()){let t=mu(".vjs-styles-defaults");if(!t){t=yB("vjs-styles-defaults");const e=mu("head");e&&e.insertBefore(t,e.firstChild),bB(t,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: 56.25%
      }
    `)}}ZC(1,Qe);Qe.VERSION=GC;Qe.options=vr.prototype.options_;Qe.getPlayers=()=>vr.players;Qe.getPlayer=t=>{const e=vr.players;let n;if(typeof t=="string"){const r=u7(t),s=e[r];if(s)return s;n=mu("#"+r)}else n=t;if(up(n)){const{player:r,playerId:s}=n;if(r||e[s])return r||e[s]}};Qe.getAllPlayers=()=>Object.keys(vr.players).map(t=>vr.players[t]).filter(Boolean);Qe.players=vr.players;Qe.getComponent=ht.getComponent;Qe.registerComponent=(t,e)=>(_n.isTech(e)&&En.warn(`The ${t} tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)`),ht.registerComponent.call(ht,t,e));Qe.getTech=_n.getTech;Qe.registerTech=_n.registerTech;Qe.use=Ume;Object.defineProperty(Qe,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(Qe.middleware,"TERMINATOR",{value:ev,writeable:!1,enumerable:!0});Qe.browser=nB;Qe.obj=gme;Qe.mergeOptions=wo(9,"videojs.mergeOptions","videojs.obj.merge",lr);Qe.defineLazyProperty=wo(9,"videojs.defineLazyProperty","videojs.obj.defineLazyProperty",N1);Qe.bind=wo(9,"videojs.bind","native Function.prototype.bind",gr);Qe.registerPlugin=Mi.registerPlugin;Qe.deregisterPlugin=Mi.deregisterPlugin;Qe.plugin=(t,e)=>(En.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Mi.registerPlugin(t,e));Qe.getPlugins=Mi.getPlugins;Qe.getPlugin=Mi.getPlugin;Qe.getPluginVersion=Mi.getPluginVersion;Qe.addLanguage=function(t,e){return t=(""+t).toLowerCase(),Qe.options.languages=lr(Qe.options.languages,{[t]:e}),Qe.options.languages[t]};Qe.log=En;Qe.createLogger=GF;Qe.time=Dme;Qe.createTimeRange=wo(9,"videojs.createTimeRange","videojs.time.createTimeRanges",ho);Qe.createTimeRanges=wo(9,"videojs.createTimeRanges","videojs.time.createTimeRanges",ho);Qe.formatTime=wo(9,"videojs.formatTime","videojs.time.formatTime",Fd);Qe.setFormatTime=wo(9,"videojs.setFormatTime","videojs.time.setFormatTime",TB);Qe.resetFormatTime=wo(9,"videojs.resetFormatTime","videojs.time.resetFormatTime",kB);Qe.parseUrl=wo(9,"videojs.parseUrl","videojs.url.parseUrl",cj);Qe.isCrossOrigin=wo(9,"videojs.isCrossOrigin","videojs.url.isCrossOrigin",z1);Qe.EventTarget=aa;Qe.any=ij;Qe.on=ia;Qe.one=B1;Qe.off=Ys;Qe.trigger=dp;Qe.xhr=IF;Qe.TextTrack=y0;Qe.AudioTrack=AB;Qe.VideoTrack=DB;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(t=>{Qe[t]=function(){return En.warn(`videojs.${t}() is deprecated; use videojs.dom.${t}() instead`),mB[t].apply(null,arguments)}});Qe.computedStyle=wo(9,"videojs.computedStyle","videojs.dom.computedStyle",Lf);Qe.dom=mB;Qe.fn=Tme;Qe.num=cge;Qe.str=Nme;Qe.url=$me;Qe.Error=Oge;/*! @name videojs-contrib-quality-levels @version 4.1.0 @license Apache-2.0 */class Mge{constructor(e){let n=this;return n.id=e.id,n.label=n.id,n.width=e.width,n.height=e.height,n.bitrate=e.bandwidth,n.frameRate=e.frameRate,n.enabled_=e.enabled,Object.defineProperty(n,"enabled",{get(){return n.enabled_()},set(r){n.enabled_(r)}}),n}}class iv extends Qe.EventTarget{constructor(){super();let e=this;return e.levels_=[],e.selectedIndex_=-1,Object.defineProperty(e,"selectedIndex",{get(){return e.selectedIndex_}}),Object.defineProperty(e,"length",{get(){return e.levels_.length}}),e[Symbol.iterator]=()=>e.levels_.values(),e}addQualityLevel(e){let n=this.getQualityLevelById(e.id);if(n)return n;const r=this.levels_.length;return n=new Mge(e),""+r in this||Object.defineProperty(this,r,{get(){return this.levels_[r]}}),this.levels_.push(n),this.trigger({qualityLevel:n,type:"addqualitylevel"}),n}removeQualityLevel(e){let n=null;for(let r=0,s=this.length;r<s;r++)if(this[r]===e){n=this.levels_.splice(r,1)[0],this.selectedIndex_===r?this.selectedIndex_=-1:this.selectedIndex_>r&&this.selectedIndex_--;break}return n&&this.trigger({qualityLevel:e,type:"removequalitylevel"}),n}getQualityLevelById(e){for(let n=0,r=this.length;n<r;n++){const s=this[n];if(s.id===e)return s}return null}dispose(){this.selectedIndex_=-1,this.levels_.length=0}}iv.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"};for(const t in iv.prototype.allowedEvents_)iv.prototype["on"+t]=null;var d7="4.1.0";const Rge=function(t,e){const n=t.qualityLevels,r=new iv,s=function(){r.dispose(),t.qualityLevels=n,t.off("dispose",s)};return t.on("dispose",s),t.qualityLevels=()=>r,t.qualityLevels.VERSION=d7,r},h7=function(t){return Rge(this,Qe.obj.merge({},t))};Qe.registerPlugin("qualityLevels",h7);h7.VERSION=d7;/*! @name @videojs/http-streaming @version 3.17.0 @license Apache-2.0 */const Ai=_fe,av=(t,e)=>e&&e.responseURL&&t!==e.responseURL?e.responseURL:t,Ga=t=>Qe.log.debug?Qe.log.debug.bind(Qe,"VHS:",`${t} >`):function(){};function Jn(...t){const e=Qe.obj||Qe;return(e.merge||e.mergeOptions).apply(e,t)}function Cs(...t){const e=Qe.time||Qe;return(e.createTimeRanges||e.createTimeRanges).apply(e,t)}function Lge(t){if(t.length===0)return"Buffered Ranges are empty";let e=`Buffered Ranges: 
`;for(let n=0;n<t.length;n++){const r=t.start(n),s=t.end(n);e+=`${r} --> ${s}. Duration (${s-r})
`}return e}const el=1/30,tl=el*3,f7=function(t,e){const n=[];let r;if(t&&t.length)for(r=0;r<t.length;r++)e(t.start(r),t.end(r))&&n.push([t.start(r),t.end(r)]);return Cs(n)},Xh=function(t,e){return f7(t,function(n,r){return n-tl<=e&&r+tl>=e})},bb=function(t,e){return f7(t,function(n){return n-el>=e})},Fge=function(t){if(t.length<2)return Cs();const e=[];for(let n=1;n<t.length;n++){const r=t.end(n-1),s=t.start(n);e.push([r,s])}return Cs(e)},Bge=function(t,e){let n=null,r=null,s=0;const i=[],a=[];if(!t||!t.length||!e||!e.length)return Cs();let l=t.length;for(;l--;)i.push({time:t.start(l),type:"start"}),i.push({time:t.end(l),type:"end"});for(l=e.length;l--;)i.push({time:e.start(l),type:"start"}),i.push({time:e.end(l),type:"end"});for(i.sort(function(c,u){return c.time-u.time}),l=0;l<i.length;l++)i[l].type==="start"?(s++,s===2&&(n=i[l].time)):i[l].type==="end"&&(s--,s===1&&(r=i[l].time)),n!==null&&r!==null&&(a.push([n,r]),n=null,r=null);return Cs(a)},p7=t=>{const e=[];if(!t||!t.length)return"";for(let n=0;n<t.length;n++)e.push(t.start(n)+" => "+t.end(n));return e.join(", ")},$ge=function(t,e,n=1){return((t.length?t.end(t.length-1):0)-e)/n},yd=t=>{const e=[];for(let n=0;n<t.length;n++)e.push({start:t.start(n),end:t.end(n)});return e},zge=function(t,e){if(t===e)return!1;if(!t&&e||!e&&t||t.length!==e.length)return!0;for(let n=0;n<t.length;n++)if(t.start(n)!==e.start(n)||t.end(n)!==e.end(n))return!0;return!1},oS=function(t){if(!(!t||!t.length||!t.end))return t.end(t.length-1)},kj=function(t,e){let n=0;if(!t||!t.length)return n;for(let r=0;r<t.length;r++){const s=t.start(r),i=t.end(r);if(!(e>i)){if(e>s&&e<=i){n+=i-e;continue}n+=i-s}}return n},Ej=(t,e)=>{if(!e.preload)return e.duration;let n=0;return(e.parts||[]).forEach(function(r){n+=r.duration}),(e.preloadHints||[]).forEach(function(r){r.type==="PART"&&(n+=t.partTargetDuration)}),n},iT=t=>(t.segments||[]).reduce((e,n,r)=>(n.parts?n.parts.forEach(function(s,i){e.push({duration:s.duration,segmentIndex:r,partIndex:i,part:s,segment:n})}):e.push({duration:n.duration,segmentIndex:r,partIndex:null,segment:n,part:null}),e),[]),m7=t=>{const e=t.segments&&t.segments.length&&t.segments[t.segments.length-1];return e&&e.parts||[]},g7=({preloadSegment:t})=>{if(!t)return;const{parts:e,preloadHints:n}=t;let r=(n||[]).reduce((s,i)=>s+(i.type==="PART"?1:0),0);return r+=e&&e.length?e.length:0,r},y7=(t,e)=>{if(e.endList)return 0;if(t&&t.suggestedPresentationDelay)return t.suggestedPresentationDelay;const n=m7(e).length>0;return n&&e.serverControl&&e.serverControl.partHoldBack?e.serverControl.partHoldBack:n&&e.partTargetDuration?e.partTargetDuration*3:e.serverControl&&e.serverControl.holdBack?e.serverControl.holdBack:e.targetDuration?e.targetDuration*3:0},Uge=function(t,e){let n=0,r=e-t.mediaSequence,s=t.segments[r];if(s){if(typeof s.start<"u")return{result:s.start,precise:!0};if(typeof s.end<"u")return{result:s.end-s.duration,precise:!0}}for(;r--;){if(s=t.segments[r],typeof s.end<"u")return{result:n+s.end,precise:!0};if(n+=Ej(t,s),typeof s.start<"u")return{result:n+s.start,precise:!0}}return{result:n,precise:!1}},Hge=function(t,e){let n=0,r,s=e-t.mediaSequence;for(;s<t.segments.length;s++){if(r=t.segments[s],typeof r.start<"u")return{result:r.start-n,precise:!0};if(n+=Ej(t,r),typeof r.end<"u")return{result:r.end-n,precise:!0}}return{result:-1,precise:!1}},b7=function(t,e,n){if(typeof e>"u"&&(e=t.mediaSequence+t.segments.length),e<t.mediaSequence)return 0;const r=Uge(t,e);if(r.precise)return r.result;const s=Hge(t,e);return s.precise?s.result:r.result+n},x7=function(t,e,n){if(!t)return 0;if(typeof n!="number"&&(n=0),typeof e>"u"){if(t.totalDuration)return t.totalDuration;if(!t.endList)return Se.Infinity}return b7(t,e,n)},Ym=function({defaultDuration:t,durationList:e,startIndex:n,endIndex:r}){let s=0;if(n>r&&([n,r]=[r,n]),n<0){for(let i=n;i<Math.min(0,r);i++)s+=t;n=0}for(let i=n;i<r;i++)s+=e[i].duration;return s},v7=function(t,e,n,r){if(!t||!t.segments)return null;if(t.endList)return x7(t);if(e===null)return null;e=e||0;let s=b7(t,t.mediaSequence+t.segments.length,e);return n&&(r=typeof r=="number"?r:y7(null,t),s-=r),Math.max(0,s)},Wge=function(t,e,n){const s=e||0;let i=v7(t,e,!0,n);return i===null?Cs():(i<s&&(i=s),Cs(s,i))},Vge=function({playlist:t,currentTime:e,startingSegmentIndex:n,startingPartIndex:r,startTime:s,exactManifestTimings:i}){let a=e-s;const l=iT(t);let c=0;for(let u=0;u<l.length;u++){const h=l[u];if(n===h.segmentIndex&&!(typeof r=="number"&&typeof h.partIndex=="number"&&r!==h.partIndex)){c=u;break}}if(a<0){if(c>0)for(let u=c-1;u>=0;u--){const h=l[u];if(a+=h.duration,i){if(a<0)continue}else if(a+el<=0)continue;return{partIndex:h.partIndex,segmentIndex:h.segmentIndex,startTime:s-Ym({defaultDuration:t.targetDuration,durationList:l,startIndex:c,endIndex:u})}}return{partIndex:l[0]&&l[0].partIndex||null,segmentIndex:l[0]&&l[0].segmentIndex||0,startTime:e}}if(c<0){for(let u=c;u<0;u++)if(a-=t.targetDuration,a<0)return{partIndex:l[0]&&l[0].partIndex||null,segmentIndex:l[0]&&l[0].segmentIndex||0,startTime:e};c=0}for(let u=c;u<l.length;u++){const h=l[u];a-=h.duration;const f=h.duration>el,m=a===0,g=f&&a+el>=0;if(!((m||g)&&u!==l.length-1)){if(i){if(a>0)continue}else if(a-el>=0)continue;return{partIndex:h.partIndex,segmentIndex:h.segmentIndex,startTime:s+Ym({defaultDuration:t.targetDuration,durationList:l,startIndex:c,endIndex:u})}}}return{segmentIndex:l[l.length-1].segmentIndex,partIndex:l[l.length-1].partIndex,startTime:e}},w7=function(t){return t.excludeUntil&&t.excludeUntil>Date.now()},jj=function(t){return t.excludeUntil&&t.excludeUntil===1/0},V1=function(t){const e=w7(t);return!t.disabled&&!e},qge=function(t){return t.disabled},Yge=function(t){for(let e=0;e<t.segments.length;e++)if(t.segments[e].key)return!0;return!1},_7=function(t,e){return e.attributes&&e.attributes[t]},Gge=function(t,e,n,r=0){return _7("BANDWIDTH",n)?(t*n.attributes.BANDWIDTH-r*8)/e:NaN},aT=(t,e)=>{if(t.playlists.length===1)return!0;const n=e.attributes.BANDWIDTH||Number.MAX_VALUE;return t.playlists.filter(r=>V1(r)?(r.attributes.BANDWIDTH||0)<n:!1).length===0},Nj=(t,e)=>!t&&!e||!t&&e||t&&!e?!1:!!(t===e||t.id&&e.id&&t.id===e.id||t.resolvedUri&&e.resolvedUri&&t.resolvedUri===e.resolvedUri||t.uri&&e.uri&&t.uri===e.uri),VP=function(t,e){const n=t&&t.mediaGroups&&t.mediaGroups.AUDIO||{};let r=!1;for(const s in n){for(const i in n[s])if(r=e(n[s][i]),r)break;if(r)break}return!!r},w0=t=>{if(!t||!t.playlists||!t.playlists.length)return VP(t,n=>n.playlists&&n.playlists.length||n.uri);for(let e=0;e<t.playlists.length;e++){const n=t.playlists[e],r=n.attributes&&n.attributes.CODECS;if(!(r&&r.split(",").every(i=>MF(i))||VP(t,i=>Nj(n,i))))return!1}return!0};var Pi={liveEdgeDelay:y7,duration:x7,seekable:Wge,getMediaInfoForTime:Vge,isEnabled:V1,isDisabled:qge,isExcluded:w7,isIncompatible:jj,playlistEnd:v7,isAes:Yge,hasAttribute:_7,estimateSegmentRequestTime:Gge,isLowestEnabledRendition:aT,isAudioOnly:w0,playlistMatch:Nj,segmentDurationWithParts:Ej};const{log:S7}=Qe,gf=(t,e)=>`${t}-${e}`,C7=(t,e,n)=>`placeholder-uri-${t}-${e}-${n}`,Kge=({onwarn:t,oninfo:e,manifestString:n,customTagParsers:r=[],customTagMappers:s=[],llhls:i})=>{const a=new Afe;t&&a.on("warn",t),e&&a.on("info",e),r.forEach(u=>a.addParser(u)),s.forEach(u=>a.addTagMapper(u)),a.push(n),a.end();const l=a.manifest;if(i||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(u){l.hasOwnProperty(u)&&delete l[u]}),l.segments&&l.segments.forEach(function(u){["parts","preloadHints"].forEach(function(h){u.hasOwnProperty(h)&&delete u[h]})})),!l.targetDuration){let u=10;l.segments&&l.segments.length&&(u=l.segments.reduce((h,f)=>Math.max(h,f.duration),0)),t&&t({message:`manifest has no targetDuration defaulting to ${u}`}),l.targetDuration=u}const c=m7(l);if(c.length&&!l.partTargetDuration){const u=c.reduce((h,f)=>Math.max(h,f.duration),0);t&&(t({message:`manifest has no partTargetDuration defaulting to ${u}`}),S7.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),l.partTargetDuration=u}return l},mp=(t,e)=>{t.mediaGroups&&["AUDIO","SUBTITLES"].forEach(n=>{if(t.mediaGroups[n])for(const r in t.mediaGroups[n])for(const s in t.mediaGroups[n][r]){const i=t.mediaGroups[n][r][s];e(i,n,r,s)}})},T7=({playlist:t,uri:e,id:n})=>{t.id=n,t.playlistErrors_=0,e&&(t.uri=e),t.attributes=t.attributes||{}},Xge=t=>{let e=t.playlists.length;for(;e--;){const n=t.playlists[e];T7({playlist:n,id:gf(e,n.uri)}),n.resolvedUri=Ai(t.uri,n.uri),t.playlists[n.id]=n,t.playlists[n.uri]=n,n.attributes.BANDWIDTH||S7.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},Qge=t=>{mp(t,e=>{e.uri&&(e.resolvedUri=Ai(t.uri,e.uri))})},Zge=(t,e)=>{const n=gf(0,e),r={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:Se.location.href,resolvedUri:Se.location.href,playlists:[{uri:e,id:n,resolvedUri:e,attributes:{}}]};return r.playlists[n]=r.playlists[0],r.playlists[e]=r.playlists[0],r},k7=(t,e,n=C7)=>{t.uri=e;for(let s=0;s<t.playlists.length;s++)if(!t.playlists[s].uri){const i=`placeholder-uri-${s}`;t.playlists[s].uri=i}const r=w0(t);mp(t,(s,i,a,l)=>{if(!s.playlists||!s.playlists.length){if(r&&i==="AUDIO"&&!s.uri)for(let c=0;c<t.playlists.length;c++){const u=t.playlists[c];if(u.attributes&&u.attributes.AUDIO&&u.attributes.AUDIO===a)return}s.playlists=[Ot({},s)]}s.playlists.forEach(function(c,u){const h=n(i,a,l,c),f=gf(u,h);c.uri?c.resolvedUri=c.resolvedUri||Ai(t.uri,c.uri):(c.uri=u===0?h:f,c.resolvedUri=c.uri),c.id=c.id||f,c.attributes=c.attributes||{},t.playlists[c.id]=c,t.playlists[c.uri]=c})}),Xge(t),Qge(t)};class qP{constructor(){this.offset_=null,this.pendingDateRanges_=new Map,this.processedDateRanges_=new Map}setOffset(e=[]){if(this.offset_!==null||!e.length)return;const[n]=e;n.programDateTime!==void 0&&(this.offset_=n.programDateTime/1e3)}setPendingDateRanges(e=[]){if(!e.length)return;const[n]=e,r=n.startDate.getTime();this.trimProcessedDateRanges_(r),this.pendingDateRanges_=e.reduce((s,i)=>(s.set(i.id,i),s),new Map)}processDateRange(e){this.pendingDateRanges_.delete(e.id),this.processedDateRanges_.set(e.id,e)}getDateRangesToProcess(){if(this.offset_===null)return[];const e={},n=[];this.pendingDateRanges_.forEach((r,s)=>{if(!this.processedDateRanges_.has(s)&&(r.startTime=r.startDate.getTime()/1e3-this.offset_,r.processDateRange=()=>this.processDateRange(r),n.push(r),!!r.class))if(e[r.class]){const i=e[r.class].push(r);r.classListIndex=i-1}else e[r.class]=[r],r.classListIndex=0});for(const r of n){const s=e[r.class]||[];r.endDate?r.endTime=r.endDate.getTime()/1e3-this.offset_:r.endOnNext&&s[r.classListIndex+1]?r.endTime=s[r.classListIndex+1].startTime:r.duration?r.endTime=r.startTime+r.duration:r.plannedDuration?r.endTime=r.startTime+r.plannedDuration:r.endTime=r.startTime}return n}trimProcessedDateRanges_(e){new Map(this.processedDateRanges_).forEach((r,s)=>{r.startDate.getTime()<e&&this.processedDateRanges_.delete(s)})}}const E7=22,jd=({requestType:t,request:e,error:n,parseFailure:r})=>{const s=e.status<200||e.status>299,i=e.status>=400&&e.status<=499,a={uri:e.uri,requestType:t},l=s&&!i||r;if(n&&i)a.error=Ot({},n),a.errorType=Qe.Error.NetworkRequestFailed;else if(e.aborted)a.errorType=Qe.Error.NetworkRequestAborted;else if(e.timedout)a.erroType=Qe.Error.NetworkRequestTimeout;else if(l){const c=r?Qe.Error.NetworkBodyParserFailed:Qe.Error.NetworkBadStatus;a.errorType=c,a.status=e.status,a.headers=e.headers}return a},Jge=Ga("CodecUtils"),j7=function(t){const e=t.attributes||{};if(e.CODECS)return qo(e.CODECS)},N7=(t,e)=>{const n=e.attributes||{};return t&&t.mediaGroups&&t.mediaGroups.AUDIO&&n.AUDIO&&t.mediaGroups.AUDIO[n.AUDIO]},e0e=(t,e)=>{if(!N7(t,e))return!0;const n=e.attributes||{},r=t.mediaGroups.AUDIO[n.AUDIO];for(const s in r)if(!r[s].uri&&!r[s].playlists)return!0;return!1},jg=function(t){const e={};return t.forEach(({mediaType:n,type:r,details:s})=>{e[n]=e[n]||[],e[n].push(OF(`${r}${s}`))}),Object.keys(e).forEach(function(n){if(e[n].length>1){Jge(`multiple ${n} codecs found as attributes: ${e[n].join(", ")}. Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs.`),e[n]=null;return}e[n]=e[n][0]}),e},YP=function(t){let e=0;return t.audio&&e++,t.video&&e++,e},Gm=function(t,e){const n=e.attributes||{},r=jg(j7(e)||[]);if(N7(t,e)&&!r.audio&&!e0e(t,e)){const s=jg(Pfe(t,n.AUDIO)||[]);s.audio&&(r.audio=s.audio)}return r},{EventTarget:t0e}=Qe,n0e=(t,e)=>{if(e.endList||!e.serverControl)return t;const n={};if(e.serverControl.canBlockReload){const{preloadSegment:r}=e;let s=e.mediaSequence+e.segments.length;if(r){const i=r.parts||[],a=g7(e)-1;a>-1&&a!==i.length-1&&(n._HLS_part=a),(a>-1||i.length)&&s--}n._HLS_msn=s}if(e.serverControl&&e.serverControl.canSkipUntil&&(n._HLS_skip=e.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(n).length){const r=new Se.URL(t);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(s){n.hasOwnProperty(s)&&r.searchParams.set(s,n[s])}),t=r.toString()}return t},r0e=(t,e)=>{if(!t)return e;const n=Jn(t,e);if(t.preloadHints&&!e.preloadHints&&delete n.preloadHints,t.parts&&!e.parts)delete n.parts;else if(t.parts&&e.parts)for(let r=0;r<e.parts.length;r++)t.parts&&t.parts[r]&&(n.parts[r]=Jn(t.parts[r],e.parts[r]));return!t.skipped&&e.skipped&&(n.skipped=!1),t.preload&&!e.preload&&(n.preload=!1),n},s0e=(t,e,n)=>{const r=t.slice(),s=e.slice();n=n||0;const i=[];let a;for(let l=0;l<s.length;l++){const c=r[l+n],u=s[l];c?(a=c.map||a,i.push(r0e(c,u))):(a&&!u.map&&(u.map=a),i.push(u))}return i},A7=(t,e)=>{!t.resolvedUri&&t.uri&&(t.resolvedUri=Ai(e,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=Ai(e,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=Ai(e,t.map.uri)),t.map&&t.map.key&&!t.map.key.resolvedUri&&(t.map.key.resolvedUri=Ai(e,t.map.key.uri)),t.parts&&t.parts.length&&t.parts.forEach(n=>{n.resolvedUri||(n.resolvedUri=Ai(e,n.uri))}),t.preloadHints&&t.preloadHints.length&&t.preloadHints.forEach(n=>{n.resolvedUri||(n.resolvedUri=Ai(e,n.uri))})},D7=function(t){const e=t.segments||[],n=t.preloadSegment;if(n&&n.parts&&n.parts.length){if(n.preloadHints){for(let r=0;r<n.preloadHints.length;r++)if(n.preloadHints[r].type==="MAP")return e}n.duration=t.targetDuration,n.preload=!0,e.push(n)}return e},P7=(t,e)=>t===e||t.segments&&e.segments&&t.segments.length===e.segments.length&&t.endList===e.endList&&t.mediaSequence===e.mediaSequence&&t.preloadSegment===e.preloadSegment,oT=(t,e,n=P7)=>{const r=Jn(t,{}),s=r.playlists[e.id];if(!s||n(s,e))return null;e.segments=D7(e);const i=Jn(s,e);if(i.preloadSegment&&!e.preloadSegment&&delete i.preloadSegment,s.segments){if(e.skip){e.segments=e.segments||[];for(let a=0;a<e.skip.skippedSegments;a++)e.segments.unshift({skipped:!0})}i.segments=s0e(s.segments,e.segments,e.mediaSequence-s.mediaSequence)}i.segments.forEach(a=>{A7(a,i.resolvedUri)});for(let a=0;a<r.playlists.length;a++)r.playlists[a].id===e.id&&(r.playlists[a]=i);return r.playlists[e.id]=i,r.playlists[e.uri]=i,mp(t,(a,l,c,u)=>{if(a.playlists)for(let h=0;h<a.playlists.length;h++)e.id===a.playlists[h].id&&(a.playlists[h]=i)}),r},lT=(t,e)=>{const n=t.segments||[],r=n[n.length-1],s=r&&r.parts&&r.parts[r.parts.length-1],i=s&&s.duration||r&&r.duration;return e&&i?i*1e3:(t.partTargetDuration||t.targetDuration||10)*500},GP=(t,e,n)=>{if(!t)return;const r=[];return t.forEach(s=>{if(!s.attributes)return;const{BANDWIDTH:i,RESOLUTION:a,CODECS:l}=s.attributes;r.push({id:s.id,bandwidth:i,resolution:a,codecs:l})}),{type:e,isLive:n,renditions:r}};class Qh extends t0e{constructor(e,n,r={}){if(super(),!e)throw new Error("A non-empty playlist URL or object is required");this.logger_=Ga("PlaylistLoader");const{withCredentials:s=!1}=r;this.src=e,this.vhs_=n,this.withCredentials=s,this.addDateRangesToTextTrack_=r.addDateRangesToTextTrack;const i=n.options_;this.customTagParsers=i&&i.customTagParsers||[],this.customTagMappers=i&&i.customTagMappers||[],this.llhls=i&&i.llhls,this.dateRangesStorage_=new qP,this.state="HAVE_NOTHING",this.handleMediaupdatetimeout_=this.handleMediaupdatetimeout_.bind(this),this.on("mediaupdatetimeout",this.handleMediaupdatetimeout_),this.on("loadedplaylist",this.handleLoadedPlaylist_.bind(this))}handleLoadedPlaylist_(){const e=this.media();if(!e)return;this.dateRangesStorage_.setOffset(e.segments),this.dateRangesStorage_.setPendingDateRanges(e.dateRanges);const n=this.dateRangesStorage_.getDateRangesToProcess();!n.length||!this.addDateRangesToTextTrack_||this.addDateRangesToTextTrack_(n)}handleMediaupdatetimeout_(){if(this.state!=="HAVE_METADATA")return;const e=this.media();let n=Ai(this.main.uri,e.uri);this.llhls&&(n=n0e(n,e)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:n,withCredentials:this.withCredentials,requestType:"hls-playlist"},(r,s)=>{if(this.request){if(r)return this.playlistRequestError(this.request,this.media(),"HAVE_METADATA");this.haveMetadata({playlistString:this.request.responseText,url:this.media().uri,id:this.media().id})}})}playlistRequestError(e,n,r){const{uri:s,id:i}=n;this.request=null,r&&(this.state=r),this.error={playlist:this.main.playlists[i],status:e.status,message:`HLS playlist request error at URL: ${s}.`,responseText:e.responseText,code:e.status>=500?4:2,metadata:jd({requestType:e.requestType,request:e,error:e.error})},this.trigger("error")}parseManifest_({url:e,manifestString:n}){try{const r=Kge({onwarn:({message:s})=>this.logger_(`m3u8-parser warn for ${e}: ${s}`),oninfo:({message:s})=>this.logger_(`m3u8-parser info for ${e}: ${s}`),manifestString:n,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,llhls:this.llhls});return!r.playlists||!r.playlists.length||this.excludeAudioOnlyVariants(r.playlists),r}catch(r){this.error=r,this.error.metadata={errorType:Qe.Error.StreamingHlsPlaylistParserError,error:r}}}excludeAudioOnlyVariants(e){const n=r=>{const s=r.attributes||{},{width:i,height:a}=s.RESOLUTION||{};if(i&&a)return!0;const l=j7(r)||[];return!!jg(l).video};e.some(n)&&e.forEach(r=>{n(r)||(r.excludeUntil=1/0)})}haveMetadata({playlistString:e,playlistObject:n,url:r,id:s}){this.request=null,this.state="HAVE_METADATA";const i={playlistInfo:{type:"media",uri:r}};this.trigger({type:"playlistparsestart",metadata:i});const a=n||this.parseManifest_({url:r,manifestString:e});a.lastRequest=Date.now(),T7({playlist:a,uri:r,id:s});const l=oT(this.main,a);this.targetDuration=a.partTargetDuration||a.targetDuration,this.pendingMedia_=null,l?(this.main=l,this.media_=this.main.playlists[s]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(lT(this.media(),!!l)),i.parsedPlaylist=GP(this.main.playlists,i.playlistInfo.type,!this.media_.endList),this.trigger({type:"playlistparsecomplete",metadata:i}),this.trigger("loadedplaylist")}dispose(){this.trigger("dispose"),this.stopRequest(),Se.clearTimeout(this.mediaUpdateTimeout),Se.clearTimeout(this.finalRenditionTimeout),this.dateRangesStorage_=new qP,this.off()}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e,n){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof e=="string"){if(!this.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.main.playlists[e]}if(Se.clearTimeout(this.finalRenditionTimeout),n){const l=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=Se.setTimeout(this.media.bind(this,e,!1),l);return}const r=this.state,s=!this.media_||e.id!==this.media_.id,i=this.main.playlists[e.id];if(i&&i.endList||e.endList&&e.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,s&&(this.trigger("mediachanging"),r==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(lT(e,!0)),!s)return;if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e;const a={playlistInfo:{type:"media",uri:e.uri}};this.trigger({type:"playlistrequeststart",metadata:a}),this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials,requestType:"hls-playlist"},(l,c)=>{if(this.request){if(e.lastRequest=Date.now(),e.resolvedUri=av(e.resolvedUri,c),l)return this.playlistRequestError(this.request,e,r);this.trigger({type:"playlistrequestcomplete",metadata:a}),this.haveMetadata({playlistString:c.responseText,url:e.uri,id:e.id}),r==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}})}pause(){this.mediaUpdateTimeout&&(Se.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MAIN_MANIFEST":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")}load(e){this.mediaUpdateTimeout&&(Se.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);const n=this.media();if(e){const r=n?(n.partTargetDuration||n.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=Se.setTimeout(()=>{this.mediaUpdateTimeout=null,this.load()},r);return}if(!this.started){this.start();return}n&&!n.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")}updateMediaUpdateTimeout_(e){this.mediaUpdateTimeout&&(Se.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=Se.setTimeout(()=>{this.mediaUpdateTimeout=null,this.trigger("mediaupdatetimeout"),this.updateMediaUpdateTimeout_(e)},e))}start(){if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=Se.location.href),this.src.resolvedUri=this.src.uri,setTimeout(()=>{this.setupInitialPlaylist(this.src)},0);return}const e={playlistInfo:{type:"multivariant",uri:this.src}};this.trigger({type:"playlistrequeststart",metadata:e}),this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials,requestType:"hls-playlist"},(n,r)=>{if(!this.request)return;if(this.request=null,n)return this.error={status:r.status,message:`HLS playlist request error at URL: ${this.src}.`,responseText:r.responseText,code:2,metadata:jd({requestType:r.requestType,request:r,error:n})},this.state==="HAVE_NOTHING"&&(this.started=!1),this.trigger("error");this.trigger({type:"playlistrequestcomplete",metadata:e}),this.src=av(this.src,r),this.trigger({type:"playlistparsestart",metadata:e});const s=this.parseManifest_({manifestString:r.responseText,url:this.src});e.parsedPlaylist=GP(s.playlists,e.playlistInfo.type,!1),this.trigger({type:"playlistparsecomplete",metadata:e}),this.setupInitialPlaylist(s)})}srcUri(){return typeof this.src=="string"?this.src:this.src.uri}setupInitialPlaylist(e){if(this.state="HAVE_MAIN_MANIFEST",e.playlists){this.main=e,k7(this.main,this.srcUri()),e.playlists.forEach(r=>{r.segments=D7(r),r.segments.forEach(s=>{A7(s,r.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.main.playlists[0]);return}const n=this.srcUri()||Se.location.href;this.main=Zge(e,n),this.haveMetadata({playlistObject:e,url:n,id:this.main.playlists[0].id}),this.trigger("loadedmetadata")}updateOrDeleteClone(e,n){const r=this.main,s=e.ID;let i=r.playlists.length;for(;i--;){const a=r.playlists[i];if(a.attributes["PATHWAY-ID"]===s){const l=a.resolvedUri,c=a.id;if(n){const u=this.createCloneURI_(a.resolvedUri,e),h=gf(s,u),f=this.createCloneAttributes_(s,a.attributes),m=this.createClonePlaylist_(a,h,e,f);r.playlists[i]=m,r.playlists[h]=m,r.playlists[u]=m}else r.playlists.splice(i,1);delete r.playlists[c],delete r.playlists[l]}}this.updateOrDeleteCloneMedia(e,n)}updateOrDeleteCloneMedia(e,n){const r=this.main,s=e.ID;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(i=>{if(!(!r.mediaGroups[i]||!r.mediaGroups[i][s])){for(const a in r.mediaGroups[i])if(a===s){for(const l in r.mediaGroups[i][a])r.mediaGroups[i][a][l].playlists.forEach((u,h)=>{const f=r.playlists[u.id],m=f.id,g=f.resolvedUri;delete r.playlists[m],delete r.playlists[g]});delete r.mediaGroups[i][a]}}}),n&&this.createClonedMediaGroups_(e)}addClonePathway(e,n={}){const r=this.main,s=r.playlists.length,i=this.createCloneURI_(n.resolvedUri,e),a=gf(e.ID,i),l=this.createCloneAttributes_(e.ID,n.attributes),c=this.createClonePlaylist_(n,a,e,l);r.playlists[s]=c,r.playlists[a]=c,r.playlists[i]=c,this.createClonedMediaGroups_(e)}createClonedMediaGroups_(e){const n=e.ID,r=e["BASE-ID"],s=this.main;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(i=>{if(!(!s.mediaGroups[i]||s.mediaGroups[i][n]))for(const a in s.mediaGroups[i]){if(a===r)s.mediaGroups[i][n]={};else continue;for(const l in s.mediaGroups[i][a]){const c=s.mediaGroups[i][a][l];s.mediaGroups[i][n][l]=Ot({},c);const u=s.mediaGroups[i][n][l],h=this.createCloneURI_(c.resolvedUri,e);u.resolvedUri=h,u.uri=h,u.playlists=[],c.playlists.forEach((f,m)=>{const g=s.playlists[f.id],b=C7(i,n,l),y=gf(n,b);if(g&&!s.playlists[y]){const x=this.createClonePlaylist_(g,y,e),w=x.resolvedUri;s.playlists[y]=x,s.playlists[w]=x}u.playlists[m]=this.createClonePlaylist_(f,y,e)})}}})}createClonePlaylist_(e,n,r,s){const i=this.createCloneURI_(e.resolvedUri,r),a={resolvedUri:i,uri:i,id:n};return e.segments&&(a.segments=[]),s&&(a.attributes=s),Jn(e,a)}createCloneURI_(e,n){const r=new URL(e);r.hostname=n["URI-REPLACEMENT"].HOST;const s=n["URI-REPLACEMENT"].PARAMS;for(const i of Object.keys(s))r.searchParams.set(i,s[i]);return r.href}createCloneAttributes_(e,n){const r={"PATHWAY-ID":e};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(s=>{n[s]&&(r[s]=e)}),r}getKeyIdSet(e){if(e.contentProtection){const n=new Set;for(const r in e.contentProtection){const s=e.contentProtection[r].attributes.keyId;s&&n.add(s.toLowerCase())}return n}}}const cT=function(t,e,n,r){const s=t.responseType==="arraybuffer"?t.response:t.responseText;!e&&s&&(t.responseTime=Date.now(),t.roundTripTime=t.responseTime-t.requestTime,t.bytesReceived=s.byteLength||s.length,t.bandwidth||(t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8*1e3))),n.headers&&(t.responseHeaders=n.headers),e&&e.code==="ETIMEDOUT"&&(t.timedout=!0),!e&&!t.aborted&&n.statusCode!==200&&n.statusCode!==206&&n.statusCode!==0&&(e=new Error("XHR Failed with a response of: "+(t&&(s||t.responseText)))),r(e,t)},i0e=(t,e)=>{if(!t||!t.size)return;let n=e;return t.forEach(r=>{n=r(n)}),n},a0e=(t,e,n,r)=>{!t||!t.size||t.forEach(s=>{s(e,n,r)})},I7=function(){const t=function e(n,r){n=Jn({timeout:45e3},n);const s=e.beforeRequest||Qe.Vhs.xhr.beforeRequest,i=e._requestCallbackSet||Qe.Vhs.xhr._requestCallbackSet||new Set,a=e._responseCallbackSet||Qe.Vhs.xhr._responseCallbackSet;s&&typeof s=="function"&&(Qe.log.warn("beforeRequest is deprecated, use onRequest instead."),i.add(s));const l=Qe.Vhs.xhr.original===!0?Qe.xhr:Qe.Vhs.xhr,c=i0e(i,n);i.delete(s);const u=l(c||n,function(f,m){return a0e(a,u,f,m),cT(u,f,m,r)}),h=u.abort;return u.abort=function(){return u.aborted=!0,h.apply(u,arguments)},u.uri=n.uri,u.requestType=n.requestType,u.requestTime=Date.now(),u};return t.original=!0,t},o0e=function(t){let e;const n=t.offset;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=Se.BigInt(t.offset)+Se.BigInt(t.length)-Se.BigInt(1):e=t.offset+t.length-1,"bytes="+n+"-"+e},uT=function(t){const e={};return t.byterange&&(e.Range=o0e(t.byterange)),e},l0e=function(t,e){return t.start(e)+"-"+t.end(e)},c0e=function(t,e){const n=t.toString(16);return"00".substring(0,2-n.length)+n+(e%2?" ":"")},u0e=function(t){return t>=32&&t<126?String.fromCharCode(t):"."},O7=function(t){const e={};return Object.keys(t).forEach(n=>{const r=t[n];LF(r)?e[n]={bytes:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength}:e[n]=r}),e},ov=function(t){const e=t.byterange||{length:1/0,offset:0};return[e.length,e.offset,t.resolvedUri].join(",")},M7=function(t){return t.resolvedUri},R7=t=>{const e=Array.prototype.slice.call(t),n=16;let r="",s,i;for(let a=0;a<e.length/n;a++)s=e.slice(a*n,a*n+n).map(c0e).join(""),i=e.slice(a*n,a*n+n).map(u0e).join(""),r+=s+" "+i+`
`;return r},d0e=({bytes:t})=>R7(t),h0e=t=>{let e="",n;for(n=0;n<t.length;n++)e+=l0e(t,n)+" ";return e};var f0e=Object.freeze({__proto__:null,createTransferableMessage:O7,initSegmentId:ov,segmentKeyId:M7,hexDump:R7,tagDump:d0e,textRanges:h0e});const L7=.25,p0e=(t,e)=>{if(!e.dateTimeObject)return null;const n=e.videoTimingInfo.transmuxerPrependedSeconds,s=e.videoTimingInfo.transmuxedPresentationStart+n,i=t-s;return new Date(e.dateTimeObject.getTime()+i*1e3)},m0e=t=>t.transmuxedPresentationEnd-t.transmuxedPresentationStart-t.transmuxerPrependedSeconds,g0e=(t,e)=>{let n;try{n=new Date(t)}catch{return null}if(!e||!e.segments||e.segments.length===0)return null;let r=e.segments[0];if(n<new Date(r.dateTimeObject))return null;for(let c=0;c<e.segments.length-1;c++){r=e.segments[c];const u=new Date(e.segments[c+1].dateTimeObject);if(n<u)break}const s=e.segments[e.segments.length-1],i=s.dateTimeObject,a=s.videoTimingInfo?m0e(s.videoTimingInfo):s.duration+s.duration*L7,l=new Date(i.getTime()+a*1e3);return n>l?null:(n>new Date(i)&&(r=s),{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:Pi.duration(e,e.mediaSequence+e.segments.indexOf(r)),type:r.videoTimingInfo?"accurate":"estimate"})},y0e=(t,e)=>{if(!e||!e.segments||e.segments.length===0)return null;let n=0,r;for(let i=0;i<e.segments.length&&(r=e.segments[i],n=r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationEnd:n+r.duration,!(t<=n));i++);const s=e.segments[e.segments.length-1];if(s.videoTimingInfo&&s.videoTimingInfo.transmuxedPresentationEnd<t)return null;if(t>n){if(t>n+s.duration*L7)return null;r=s}return{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:n-r.duration,type:r.videoTimingInfo?"accurate":"estimate"}},b0e=(t,e)=>{let n,r;try{n=new Date(t),r=new Date(e)}catch{}const s=n.getTime();return(r.getTime()-s)/1e3},x0e=t=>{if(!t.segments||t.segments.length===0)return!1;for(let e=0;e<t.segments.length;e++)if(!t.segments[e].dateTimeObject)return!1;return!0},v0e=({playlist:t,time:e=void 0,callback:n})=>{if(!n)throw new Error("getProgramTime: callback must be provided");if(!t||e===void 0)return n({message:"getProgramTime: playlist and time must be provided"});const r=y0e(e,t);if(!r)return n({message:"valid programTime was not found"});if(r.type==="estimate")return n({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:r.estimatedStart});const s={mediaSeconds:e},i=p0e(e,r.segment);return i&&(s.programDateTime=i.toISOString()),n(null,s)},F7=({programTime:t,playlist:e,retryCount:n=2,seekTo:r,pauseAfterSeek:s=!0,tech:i,callback:a})=>{if(!a)throw new Error("seekToProgramTime: callback must be provided");if(typeof t>"u"||!e||!r)return a({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!e.endList&&!i.hasStarted_)return a({message:"player must be playing a live stream to start buffering"});if(!x0e(e))return a({message:"programDateTime tags must be provided in the manifest "+e.resolvedUri});const l=g0e(t,e);if(!l)return a({message:`${t} was not found in the stream`});const c=l.segment,u=b0e(c.dateTimeObject,t);if(l.type==="estimate"){if(n===0)return a({message:`${t} is not buffered yet. Try again`});r(l.estimatedStart+u),i.one("seeked",()=>{F7({programTime:t,playlist:e,retryCount:n-1,seekTo:r,pauseAfterSeek:s,tech:i,callback:a})});return}const h=c.start+u,f=()=>a(null,i.currentTime());i.one("seeked",f),s&&i.pause(),r(h)},lS=(t,e)=>{if(t.readyState===4)return e()},w0e=(t,e,n,r)=>{let s=[],i,a=!1;const l=function(f,m,g,b){return m.abort(),a=!0,n(f,m,g,b)},c=function(f,m){if(a)return;if(f)return f.metadata=jd({requestType:r,request:m,error:f}),l(f,m,"",s);const g=m.responseText.substring(s&&s.byteLength||0,m.responseText.length);if(s=Ufe(s,FF(g,!0)),i=i||Am(s),s.length<10||i&&s.length<i+2)return lS(m,()=>l(f,m,"",s));const b=ej(s);return b==="ts"&&s.length<188?lS(m,()=>l(f,m,"",s)):!b&&s.length<376?lS(m,()=>l(f,m,"",s)):l(null,m,b,s)},h=e({uri:t,beforeSend(f){f.overrideMimeType("text/plain; charset=x-user-defined"),f.addEventListener("progress",function({total:m,loaded:g}){return cT(f,null,{statusCode:f.status},c)})}},function(f,m){return cT(h,f,m,c)});return h},{EventTarget:_0e}=Qe,KP=function(t,e){if(!P7(t,e)||t.sidx&&e.sidx&&(t.sidx.offset!==e.sidx.offset||t.sidx.length!==e.sidx.length))return!1;if(!t.sidx&&e.sidx||t.sidx&&!e.sidx||t.segments&&!e.segments||!t.segments&&e.segments)return!1;if(!t.segments&&!e.segments)return!0;for(let n=0;n<t.segments.length;n++){const r=t.segments[n],s=e.segments[n];if(r.uri!==s.uri)return!1;if(!r.byterange&&!s.byterange)continue;const i=r.byterange,a=s.byterange;if(i&&!a||!i&&a||i.offset!==a.offset||i.length!==a.length)return!1}return!0},S0e=(t,e,n,r)=>{const s=r.attributes.NAME||n;return`placeholder-uri-${t}-${e}-${s}`},C0e=({mainXml:t,srcUrl:e,clientOffset:n,sidxMapping:r,previousManifest:s})=>{const i=Wpe(t,{manifestUri:e,clientOffset:n,sidxMapping:r,previousManifest:s});return k7(i,e,S0e),i},T0e=(t,e)=>{mp(t,(n,r,s,i)=>{(!e.mediaGroups[r][s]||!(i in e.mediaGroups[r][s]))&&delete t.mediaGroups[r][s][i]})},k0e=(t,e,n)=>{let r=!0,s=Jn(t,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod,timelineStarts:e.timelineStarts});for(let i=0;i<e.playlists.length;i++){const a=e.playlists[i];if(a.sidx){const c=E1(a.sidx);n&&n[c]&&n[c].sidx&&QE(a,n[c].sidx,a.sidx.resolvedUri)}const l=oT(s,a,KP);l&&(s=l,r=!1)}return mp(e,(i,a,l,c)=>{if(i.playlists&&i.playlists.length){const u=i.playlists[0].id,h=oT(s,i.playlists[0],KP);h&&(s=h,c in s.mediaGroups[a][l]||(s.mediaGroups[a][l][c]=i),s.mediaGroups[a][l][c].playlists[0]=s.playlists[u],r=!1)}}),T0e(s,e),e.minimumUpdatePeriod!==t.minimumUpdatePeriod&&(r=!1),r?null:s},E0e=(t,e)=>(!t.map&&!e.map||!!(t.map&&e.map&&t.map.byterange.offset===e.map.byterange.offset&&t.map.byterange.length===e.map.byterange.length))&&t.uri===e.uri&&t.byterange.offset===e.byterange.offset&&t.byterange.length===e.byterange.length,XP=(t,e)=>{const n={};for(const r in t){const i=t[r].sidx;if(i){const a=E1(i);if(!e[a])break;const l=e[a].sidxInfo;E0e(l,i)&&(n[a]=e[a])}}return n},j0e=(t,e)=>{let r=XP(t.playlists,e);return mp(t,(s,i,a,l)=>{if(s.playlists&&s.playlists.length){const c=s.playlists;r=Jn(r,XP(c,e))}}),r};class dT extends _0e{constructor(e,n,r={},s){super(),this.isPaused_=!0,this.mainPlaylistLoader_=s||this,s||(this.isMain_=!0);const{withCredentials:i=!1}=r;if(this.vhs_=n,this.withCredentials=i,this.addMetadataToTextTrack=r.addMetadataToTextTrack,!e)throw new Error("A non-empty playlist URL or object is required");this.on("minimumUpdatePeriod",()=>{this.refreshXml_()}),this.on("mediaupdatetimeout",()=>{this.refreshMedia_(this.media().id)}),this.state="HAVE_NOTHING",this.loadedPlaylists_={},this.logger_=Ga("DashPlaylistLoader"),this.isMain_?(this.mainPlaylistLoader_.srcUrl=e,this.mainPlaylistLoader_.sidxMapping_={}):this.childPlaylist_=e}get isPaused(){return this.isPaused_}requestErrored_(e,n,r){if(!this.request)return!0;if(this.request=null,e)return this.error=typeof e=="object"&&!(e instanceof Error)?e:{status:n.status,message:"DASH request error at URL: "+n.uri,response:n.response,code:2,metadata:e.metadata},r&&(this.state=r),this.trigger("error"),!0}addSidxSegments_(e,n,r){const s=e.sidx&&E1(e.sidx);if(!e.sidx||!s||this.mainPlaylistLoader_.sidxMapping_[s]){Se.clearTimeout(this.mediaRequest_),this.mediaRequest_=Se.setTimeout(()=>r(!1),0);return}const i=av(e.sidx.resolvedUri),a=(c,u)=>{if(this.requestErrored_(c,u,n))return;const h=this.mainPlaylistLoader_.sidxMapping_,{requestType:f}=u;let m;try{m=Kpe(ln(u.response).subarray(8))}catch(g){g.metadata=jd({requestType:f,request:u,parseFailure:!0}),this.requestErrored_(g,u,n);return}return h[s]={sidxInfo:e.sidx,sidx:m},QE(e,m,e.sidx.resolvedUri),r(!0)},l="dash-sidx";this.request=w0e(i,this.vhs_.xhr,(c,u,h,f)=>{if(c)return a(c,u);if(!h||h!=="mp4"){const b=h||"unknown";return a({status:u.status,message:`Unsupported ${b} container type for sidx segment at URL: ${i}`,response:"",playlist:e,internal:!0,playlistExclusionDuration:1/0,code:2},u)}const{offset:m,length:g}=e.sidx.byterange;if(f.length>=g+m)return a(c,{response:f.subarray(m,m+g),status:u.status,uri:u.uri});this.request=this.vhs_.xhr({uri:i,responseType:"arraybuffer",requestType:"dash-sidx",headers:uT({byterange:e.sidx.byterange})},a)},l)}dispose(){this.isPaused_=!0,this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},Se.clearTimeout(this.minimumUpdatePeriodTimeout_),Se.clearTimeout(this.mediaRequest_),Se.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.off()}hasPendingRequest(){return this.request||this.mediaRequest_}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);const n=this.state;if(typeof e=="string"){if(!this.mainPlaylistLoader_.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.mainPlaylistLoader_.main.playlists[e]}const r=!this.media_||e.id!==this.media_.id;if(r&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList){this.state="HAVE_METADATA",this.media_=e,r&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}r&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,n,s=>{this.haveMetadata({startingState:n,playlist:e})}))}haveMetadata({startingState:e,playlist:n}){this.state="HAVE_METADATA",this.loadedPlaylists_[n.id]=n,Se.clearTimeout(this.mediaRequest_),this.mediaRequest_=null,this.refreshMedia_(n.id),e==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}pause(){this.isPaused_=!0,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),Se.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMain_&&(Se.clearTimeout(this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_),this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)}load(e){this.isPaused_=!1,Se.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;const n=this.media();if(e){const r=n?n.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=Se.setTimeout(()=>this.load(),r);return}if(!this.started){this.start();return}n&&!n.endList?(this.isMain_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")}start(){if(this.started=!0,!this.isMain_){Se.clearTimeout(this.mediaRequest_),this.mediaRequest_=Se.setTimeout(()=>this.haveMain_(),0);return}this.requestMain_((e,n)=>{this.haveMain_(),!this.hasPendingRequest()&&!this.media_&&this.media(this.mainPlaylistLoader_.main.playlists[0])})}requestMain_(e){const n={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestrequeststart",metadata:n}),this.request=this.vhs_.xhr({uri:this.mainPlaylistLoader_.srcUrl,withCredentials:this.withCredentials,requestType:"dash-manifest"},(r,s)=>{if(r){const{requestType:a}=s;r.metadata=jd({requestType:a,request:s,error:r})}if(this.requestErrored_(r,s)){this.state==="HAVE_NOTHING"&&(this.started=!1);return}this.trigger({type:"manifestrequestcomplete",metadata:n});const i=s.responseText!==this.mainPlaylistLoader_.mainXml_;if(this.mainPlaylistLoader_.mainXml_=s.responseText,s.responseHeaders&&s.responseHeaders.date?this.mainLoaded_=Date.parse(s.responseHeaders.date):this.mainLoaded_=Date.now(),this.mainPlaylistLoader_.srcUrl=av(this.mainPlaylistLoader_.srcUrl,s),i){this.handleMain_(),this.syncClientServerClock_(()=>e(s,i));return}return e(s,i)})}syncClientServerClock_(e){const n=Vpe(this.mainPlaylistLoader_.mainXml_);if(n===null)return this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e();if(n.method==="DIRECT")return this.mainPlaylistLoader_.clientOffset_=n.value-Date.now(),e();this.request=this.vhs_.xhr({uri:Ai(this.mainPlaylistLoader_.srcUrl,n.value),method:n.method,withCredentials:this.withCredentials,requestType:"dash-clock-sync"},(r,s)=>{if(!this.request)return;if(r){const{requestType:a}=s;return this.error.metadata=jd({requestType:a,request:s,error:r}),this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e()}let i;n.method==="HEAD"?!s.responseHeaders||!s.responseHeaders.date?i=this.mainLoaded_:i=Date.parse(s.responseHeaders.date):i=Date.parse(s.responseText),this.mainPlaylistLoader_.clientOffset_=i-Date.now(),e()})}haveMain_(){this.state="HAVE_MAIN_MANIFEST",this.isMain_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)}handleMain_(){Se.clearTimeout(this.mediaRequest_),this.mediaRequest_=null;const e=this.mainPlaylistLoader_.main,n={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestparsestart",metadata:n});let r;try{r=C0e({mainXml:this.mainPlaylistLoader_.mainXml_,srcUrl:this.mainPlaylistLoader_.srcUrl,clientOffset:this.mainPlaylistLoader_.clientOffset_,sidxMapping:this.mainPlaylistLoader_.sidxMapping_,previousManifest:e})}catch(i){this.error=i,this.error.metadata={errorType:Qe.Error.StreamingDashManifestParserError,error:i},this.trigger("error")}e&&(r=k0e(e,r,this.mainPlaylistLoader_.sidxMapping_)),this.mainPlaylistLoader_.main=r||e;const s=this.mainPlaylistLoader_.main.locations&&this.mainPlaylistLoader_.main.locations[0];if(s&&s!==this.mainPlaylistLoader_.srcUrl&&(this.mainPlaylistLoader_.srcUrl=s),(!e||r&&r.minimumUpdatePeriod!==e.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),this.addEventStreamToMetadataTrack_(r),r){const{duration:i,endList:a}=r,l=[];r.playlists.forEach(u=>{l.push({id:u.id,bandwidth:u.attributes.BANDWIDTH,resolution:u.attributes.RESOLUTION,codecs:u.attributes.CODECS})});const c={duration:i,isLive:!a,renditions:l};n.parsedManifest=c,this.trigger({type:"manifestparsecomplete",metadata:n})}return!!r}updateMinimumUpdatePeriodTimeout_(){const e=this.mainPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(Se.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);let n=e.main&&e.main.minimumUpdatePeriod;if(n===0&&(e.media()?n=e.media().targetDuration*1e3:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),typeof n!="number"||n<=0){n<0&&this.logger_(`found invalid minimumUpdatePeriod of ${n}, not setting a timeout`);return}this.createMUPTimeout_(n)}createMUPTimeout_(e){const n=this.mainPlaylistLoader_;n.minimumUpdatePeriodTimeout_=Se.setTimeout(()=>{n.minimumUpdatePeriodTimeout_=null,n.trigger("minimumUpdatePeriod"),n.createMUPTimeout_(e)},e)}refreshXml_(){this.requestMain_((e,n)=>{n&&(this.media_&&(this.media_=this.mainPlaylistLoader_.main.playlists[this.media_.id]),this.mainPlaylistLoader_.sidxMapping_=j0e(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.sidxMapping_),this.addSidxSegments_(this.media(),this.state,r=>{this.refreshMedia_(this.media().id)}))})}refreshMedia_(e){if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMain_&&this.handleMain_();const n=this.mainPlaylistLoader_.main.playlists,r=!this.media_||this.media_!==n[e];if(r?this.media_=n[e]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){const s=()=>{this.media().endList||(this.mediaUpdateTimeout=Se.setTimeout(()=>{this.trigger("mediaupdatetimeout"),s()},lT(this.media(),!!r)))};s()}this.trigger("loadedplaylist")}addEventStreamToMetadataTrack_(e){if(e&&this.mainPlaylistLoader_.main.eventStream){const n=this.mainPlaylistLoader_.main.eventStream.map(r=>({cueTime:r.start,frames:[{data:r.messageData}]}));this.addMetadataToTextTrack("EventStream",n,this.mainPlaylistLoader_.main.duration)}}getKeyIdSet(e){if(e.contentProtection){const n=new Set;for(const r in e.contentProtection){const s=e.contentProtection[r].attributes["cenc:default_KID"];s&&n.add(s.replace(/-/g,"").toLowerCase())}return n}}}var vs={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30};const N0e=t=>{const e=new Uint8Array(new ArrayBuffer(t.length));for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e.buffer},B7=function(t){return t.on=t.addEventListener,t.off=t.removeEventListener,t},A0e=function(t){try{return URL.createObjectURL(new Blob([t],{type:"application/javascript"}))}catch{const n=new BlobBuilder;return n.append(t),URL.createObjectURL(n.getBlob())}},$7=function(t){return function(){const e=A0e(t),n=B7(new Worker(e));n.objURL=e;const r=n.terminate;return n.on=n.addEventListener,n.off=n.removeEventListener,n.terminate=function(){return URL.revokeObjectURL(e),r.call(this)},n}},z7=function(t){return`var browserWorkerPolyFill = ${B7.toString()};
browserWorkerPolyFill(self);
`+t},U7=function(t){return t.toString().replace(/^function.+?{/,"").slice(0,-1)},D0e=z7(U7(function(){var t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=function(){this.init=function(){var T={};this.on=function(I,B){T[I]||(T[I]=[]),T[I]=T[I].concat(B)},this.off=function(I,B){var R;return T[I]?(R=T[I].indexOf(B),T[I]=T[I].slice(),T[I].splice(R,1),R>-1):!1},this.trigger=function(I){var B,R,W,Q;if(B=T[I],!!B)if(arguments.length===2)for(W=B.length,R=0;R<W;++R)B[R].call(this,arguments[1]);else{for(Q=[],R=arguments.length,R=1;R<arguments.length;++R)Q.push(arguments[R]);for(W=B.length,R=0;R<W;++R)B[R].apply(this,Q)}},this.dispose=function(){T={}}}};e.prototype.pipe=function(T){return this.on("data",function(I){T.push(I)}),this.on("done",function(I){T.flush(I)}),this.on("partialdone",function(I){T.partialFlush(I)}),this.on("endedtimeline",function(I){T.endTimeline(I)}),this.on("reset",function(I){T.reset(I)}),T},e.prototype.push=function(T){this.trigger("data",T)},e.prototype.flush=function(T){this.trigger("done",T)},e.prototype.partialFlush=function(T){this.trigger("partialdone",T)},e.prototype.endTimeline=function(T){this.trigger("endedtimeline",T)},e.prototype.reset=function(T){this.trigger("reset",T)};var n=e,r=Math.pow(2,32),s=function(T){var I=new DataView(T.buffer,T.byteOffset,T.byteLength),B;return I.getBigUint64?(B=I.getBigUint64(0),B<Number.MAX_SAFE_INTEGER?Number(B):B):I.getUint32(0)*r+I.getUint32(4)},i={getUint64:s,MAX_UINT32:r},a=i.MAX_UINT32,l,c,u,h,f,m,g,b,y,x,w,C,k,A,N,P,M,L,D,S,z,O,U,j,V,K,te,J,X,Y,F,H,de,ee,fe,ve;(function(){var T;if(U={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(T in U)U.hasOwnProperty(T)&&(U[T]=[T.charCodeAt(0),T.charCodeAt(1),T.charCodeAt(2),T.charCodeAt(3)]);j=new Uint8Array([105,115,111,109]),K=new Uint8Array([97,118,99,49]),V=new Uint8Array([0,0,0,1]),te=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),J=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),X={video:te,audio:J},H=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),F=new Uint8Array([0,0,0,0,0,0,0,0]),de=new Uint8Array([0,0,0,0,0,0,0,0]),ee=de,fe=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),ve=de,Y=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),l=function(T){var I=[],B=0,R,W,Q;for(R=1;R<arguments.length;R++)I.push(arguments[R]);for(R=I.length;R--;)B+=I[R].byteLength;for(W=new Uint8Array(B+8),Q=new DataView(W.buffer,W.byteOffset,W.byteLength),Q.setUint32(0,W.byteLength),W.set(T,4),R=0,B=8;R<I.length;R++)W.set(I[R],B),B+=I[R].byteLength;return W},c=function(){return l(U.dinf,l(U.dref,H))},u=function(T){return l(U.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,T.audioobjecttype<<3|T.samplingfrequencyindex>>>1,T.samplingfrequencyindex<<7|T.channelcount<<3,6,1,2]))},h=function(){return l(U.ftyp,j,V,j,K)},P=function(T){return l(U.hdlr,X[T])},f=function(T){return l(U.mdat,T)},N=function(T){var I=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,T.duration>>>24&255,T.duration>>>16&255,T.duration>>>8&255,T.duration&255,85,196,0,0]);return T.samplerate&&(I[12]=T.samplerate>>>24&255,I[13]=T.samplerate>>>16&255,I[14]=T.samplerate>>>8&255,I[15]=T.samplerate&255),l(U.mdhd,I)},A=function(T){return l(U.mdia,N(T),P(T.type),g(T))},m=function(T){return l(U.mfhd,new Uint8Array([0,0,0,0,(T&4278190080)>>24,(T&16711680)>>16,(T&65280)>>8,T&255]))},g=function(T){return l(U.minf,T.type==="video"?l(U.vmhd,Y):l(U.smhd,F),c(),L(T))},b=function(T,I){for(var B=[],R=I.length;R--;)B[R]=S(I[R]);return l.apply(null,[U.moof,m(T)].concat(B))},y=function(T){for(var I=T.length,B=[];I--;)B[I]=C(T[I]);return l.apply(null,[U.moov,w(4294967295)].concat(B).concat(x(T)))},x=function(T){for(var I=T.length,B=[];I--;)B[I]=z(T[I]);return l.apply(null,[U.mvex].concat(B))},w=function(T){var I=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(T&4278190080)>>24,(T&16711680)>>16,(T&65280)>>8,T&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return l(U.mvhd,I)},M=function(T){var I=T.samples||[],B=new Uint8Array(4+I.length),R,W;for(W=0;W<I.length;W++)R=I[W].flags,B[W+4]=R.dependsOn<<4|R.isDependedOn<<2|R.hasRedundancy;return l(U.sdtp,B)},L=function(T){return l(U.stbl,D(T),l(U.stts,ve),l(U.stsc,ee),l(U.stsz,fe),l(U.stco,de))},function(){var T,I;D=function(B){return l(U.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),B.type==="video"?T(B):I(B))},T=function(B){var R=B.sps||[],W=B.pps||[],Q=[],pe=[],ge,_e;for(ge=0;ge<R.length;ge++)Q.push((R[ge].byteLength&65280)>>>8),Q.push(R[ge].byteLength&255),Q=Q.concat(Array.prototype.slice.call(R[ge]));for(ge=0;ge<W.length;ge++)pe.push((W[ge].byteLength&65280)>>>8),pe.push(W[ge].byteLength&255),pe=pe.concat(Array.prototype.slice.call(W[ge]));if(_e=[U.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(B.width&65280)>>8,B.width&255,(B.height&65280)>>8,B.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),l(U.avcC,new Uint8Array([1,B.profileIdc,B.profileCompatibility,B.levelIdc,255].concat([R.length],Q,[W.length],pe))),l(U.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],B.sarRatio){var ke=B.sarRatio[0],Me=B.sarRatio[1];_e.push(l(U.pasp,new Uint8Array([(ke&4278190080)>>24,(ke&16711680)>>16,(ke&65280)>>8,ke&255,(Me&4278190080)>>24,(Me&16711680)>>16,(Me&65280)>>8,Me&255])))}return l.apply(null,_e)},I=function(B){return l(U.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(B.channelcount&65280)>>8,B.channelcount&255,(B.samplesize&65280)>>8,B.samplesize&255,0,0,0,0,(B.samplerate&65280)>>8,B.samplerate&255,0,0]),u(B))}}(),k=function(T){var I=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(T.id&4278190080)>>24,(T.id&16711680)>>16,(T.id&65280)>>8,T.id&255,0,0,0,0,(T.duration&4278190080)>>24,(T.duration&16711680)>>16,(T.duration&65280)>>8,T.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(T.width&65280)>>8,T.width&255,0,0,(T.height&65280)>>8,T.height&255,0,0]);return l(U.tkhd,I)},S=function(T){var I,B,R,W,Q,pe,ge;return I=l(U.tfhd,new Uint8Array([0,0,0,58,(T.id&4278190080)>>24,(T.id&16711680)>>16,(T.id&65280)>>8,T.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),pe=Math.floor(T.baseMediaDecodeTime/a),ge=Math.floor(T.baseMediaDecodeTime%a),B=l(U.tfdt,new Uint8Array([1,0,0,0,pe>>>24&255,pe>>>16&255,pe>>>8&255,pe&255,ge>>>24&255,ge>>>16&255,ge>>>8&255,ge&255])),Q=92,T.type==="audio"?(R=O(T,Q),l(U.traf,I,B,R)):(W=M(T),R=O(T,W.length+Q),l(U.traf,I,B,R,W))},C=function(T){return T.duration=T.duration||4294967295,l(U.trak,k(T),A(T))},z=function(T){var I=new Uint8Array([0,0,0,0,(T.id&4278190080)>>24,(T.id&16711680)>>16,(T.id&65280)>>8,T.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return T.type!=="video"&&(I[I.length-1]=0),l(U.trex,I)},function(){var T,I,B;B=function(R,W){var Q=0,pe=0,ge=0,_e=0;return R.length&&(R[0].duration!==void 0&&(Q=1),R[0].size!==void 0&&(pe=2),R[0].flags!==void 0&&(ge=4),R[0].compositionTimeOffset!==void 0&&(_e=8)),[0,0,Q|pe|ge|_e,1,(R.length&4278190080)>>>24,(R.length&16711680)>>>16,(R.length&65280)>>>8,R.length&255,(W&4278190080)>>>24,(W&16711680)>>>16,(W&65280)>>>8,W&255]},I=function(R,W){var Q,pe,ge,_e,ke,Me;for(_e=R.samples||[],W+=20+16*_e.length,ge=B(_e,W),pe=new Uint8Array(ge.length+_e.length*16),pe.set(ge),Q=ge.length,Me=0;Me<_e.length;Me++)ke=_e[Me],pe[Q++]=(ke.duration&4278190080)>>>24,pe[Q++]=(ke.duration&16711680)>>>16,pe[Q++]=(ke.duration&65280)>>>8,pe[Q++]=ke.duration&255,pe[Q++]=(ke.size&4278190080)>>>24,pe[Q++]=(ke.size&16711680)>>>16,pe[Q++]=(ke.size&65280)>>>8,pe[Q++]=ke.size&255,pe[Q++]=ke.flags.isLeading<<2|ke.flags.dependsOn,pe[Q++]=ke.flags.isDependedOn<<6|ke.flags.hasRedundancy<<4|ke.flags.paddingValue<<1|ke.flags.isNonSyncSample,pe[Q++]=ke.flags.degradationPriority&61440,pe[Q++]=ke.flags.degradationPriority&15,pe[Q++]=(ke.compositionTimeOffset&4278190080)>>>24,pe[Q++]=(ke.compositionTimeOffset&16711680)>>>16,pe[Q++]=(ke.compositionTimeOffset&65280)>>>8,pe[Q++]=ke.compositionTimeOffset&255;return l(U.trun,pe)},T=function(R,W){var Q,pe,ge,_e,ke,Me;for(_e=R.samples||[],W+=20+8*_e.length,ge=B(_e,W),Q=new Uint8Array(ge.length+_e.length*8),Q.set(ge),pe=ge.length,Me=0;Me<_e.length;Me++)ke=_e[Me],Q[pe++]=(ke.duration&4278190080)>>>24,Q[pe++]=(ke.duration&16711680)>>>16,Q[pe++]=(ke.duration&65280)>>>8,Q[pe++]=ke.duration&255,Q[pe++]=(ke.size&4278190080)>>>24,Q[pe++]=(ke.size&16711680)>>>16,Q[pe++]=(ke.size&65280)>>>8,Q[pe++]=ke.size&255;return l(U.trun,Q)},O=function(R,W){return R.type==="audio"?T(R,W):I(R,W)}}();var Ce={ftyp:h,mdat:f,moof:b,moov:y,initSegment:function(T){var I=h(),B=y(T),R;return R=new Uint8Array(I.byteLength+B.byteLength),R.set(I),R.set(B,I.byteLength),R}},De=function(T){var I,B,R=[],W=[];for(W.byteLength=0,W.nalCount=0,W.duration=0,R.byteLength=0,I=0;I<T.length;I++)B=T[I],B.nalUnitType==="access_unit_delimiter_rbsp"?(R.length&&(R.duration=B.dts-R.dts,W.byteLength+=R.byteLength,W.nalCount+=R.length,W.duration+=R.duration,W.push(R)),R=[B],R.byteLength=B.data.byteLength,R.pts=B.pts,R.dts=B.dts):(B.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(R.keyFrame=!0),R.duration=B.dts-R.dts,R.byteLength+=B.data.byteLength,R.push(B));return W.length&&(!R.duration||R.duration<=0)&&(R.duration=W[W.length-1].duration),W.byteLength+=R.byteLength,W.nalCount+=R.length,W.duration+=R.duration,W.push(R),W},Ee=function(T){var I,B,R=[],W=[];for(R.byteLength=0,R.nalCount=0,R.duration=0,R.pts=T[0].pts,R.dts=T[0].dts,W.byteLength=0,W.nalCount=0,W.duration=0,W.pts=T[0].pts,W.dts=T[0].dts,I=0;I<T.length;I++)B=T[I],B.keyFrame?(R.length&&(W.push(R),W.byteLength+=R.byteLength,W.nalCount+=R.nalCount,W.duration+=R.duration),R=[B],R.nalCount=B.length,R.byteLength=B.byteLength,R.pts=B.pts,R.dts=B.dts,R.duration=B.duration):(R.duration+=B.duration,R.nalCount+=B.length,R.byteLength+=B.byteLength,R.push(B));return W.length&&R.duration<=0&&(R.duration=W[W.length-1].duration),W.byteLength+=R.byteLength,W.nalCount+=R.nalCount,W.duration+=R.duration,W.push(R),W},Be=function(T){var I;return!T[0][0].keyFrame&&T.length>1&&(I=T.shift(),T.byteLength-=I.byteLength,T.nalCount-=I.nalCount,T[0][0].dts=I.dts,T[0][0].pts=I.pts,T[0][0].duration+=I.duration),T},Ve=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},rt=function(T,I){var B=Ve();return B.dataOffset=I,B.compositionTimeOffset=T.pts-T.dts,B.duration=T.duration,B.size=4*T.length,B.size+=T.byteLength,T.keyFrame&&(B.flags.dependsOn=2,B.flags.isNonSyncSample=0),B},it=function(T,I){var B,R,W,Q,pe,ge=I||0,_e=[];for(B=0;B<T.length;B++)for(Q=T[B],R=0;R<Q.length;R++)pe=Q[R],W=rt(pe,ge),ge+=W.size,_e.push(W);return _e},G=function(T){var I,B,R,W,Q,pe,ge=0,_e=T.byteLength,ke=T.nalCount,Me=_e+4*ke,Ke=new Uint8Array(Me),Pt=new DataView(Ke.buffer);for(I=0;I<T.length;I++)for(W=T[I],B=0;B<W.length;B++)for(Q=W[B],R=0;R<Q.length;R++)pe=Q[R],Pt.setUint32(ge,pe.data.byteLength),ge+=4,Ke.set(pe.data,ge),ge+=pe.data.byteLength;return Ke},Ae=function(T,I){var B,R=I||0,W=[];return B=rt(T,R),W.push(B),W},be=function(T){var I,B,R=0,W=T.byteLength,Q=T.length,pe=W+4*Q,ge=new Uint8Array(pe),_e=new DataView(ge.buffer);for(I=0;I<T.length;I++)B=T[I],_e.setUint32(R,B.data.byteLength),R+=4,ge.set(B.data,R),R+=B.data.byteLength;return ge},re={groupNalsIntoFrames:De,groupFramesIntoGops:Ee,extendFirstKeyFrame:Be,generateSampleTable:it,concatenateNalData:G,generateSampleTableForFrame:Ae,concatenateNalDataForFrame:be},ne=[33,16,5,32,164,27],ce=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],Te=function(T){for(var I=[];T--;)I.push(0);return I},he=function(T){return Object.keys(T).reduce(function(I,B){return I[B]=new Uint8Array(T[B].reduce(function(R,W){return R.concat(W)},[])),I},{})},se,ye=function(){if(!se){var T={96e3:[ne,[227,64],Te(154),[56]],88200:[ne,[231],Te(170),[56]],64e3:[ne,[248,192],Te(240),[56]],48e3:[ne,[255,192],Te(268),[55,148,128],Te(54),[112]],44100:[ne,[255,192],Te(268),[55,163,128],Te(84),[112]],32e3:[ne,[255,192],Te(268),[55,234],Te(226),[112]],24e3:[ne,[255,192],Te(268),[55,255,128],Te(268),[111,112],Te(126),[224]],16e3:[ne,[255,192],Te(268),[55,255,128],Te(268),[111,255],Te(269),[223,108],Te(195),[1,192]],12e3:[ce,Te(268),[3,127,248],Te(268),[6,255,240],Te(268),[13,255,224],Te(268),[27,253,128],Te(259),[56]],11025:[ce,Te(268),[3,127,248],Te(268),[6,255,240],Te(268),[13,255,224],Te(268),[27,255,192],Te(268),[55,175,128],Te(108),[112]],8e3:[ce,Te(268),[3,121,16],Te(47),[7]]};se=he(T)}return se},Pe=9e4,Oe,xe,at,lt,ze,Le,ct;Oe=function(T){return T*Pe},xe=function(T,I){return T*I},at=function(T){return T/Pe},lt=function(T,I){return T/I},ze=function(T,I){return Oe(lt(T,I))},Le=function(T,I){return xe(at(T),I)},ct=function(T,I,B){return at(B?T:T-I)};var tt={ONE_SECOND_IN_TS:Pe,secondsToVideoTs:Oe,secondsToAudioTs:xe,videoTsToSeconds:at,audioTsToSeconds:lt,audioTsToVideoTs:ze,videoTsToAudioTs:Le,metadataTsToSeconds:ct},He=ye,gt=tt,ie=function(T){var I,B,R=0;for(I=0;I<T.length;I++)B=T[I],R+=B.data.byteLength;return R},Ie=function(T,I,B,R){var W,Q=0,pe=0,ge=0,_e=0,ke,Me,Ke;if(I.length&&(W=gt.audioTsToVideoTs(T.baseMediaDecodeTime,T.samplerate),Q=Math.ceil(gt.ONE_SECOND_IN_TS/(T.samplerate/1024)),B&&R&&(pe=W-Math.max(B,R),ge=Math.floor(pe/Q),_e=ge*Q),!(ge<1||_e>gt.ONE_SECOND_IN_TS/2))){for(ke=He()[T.samplerate],ke||(ke=I[0].data),Me=0;Me<ge;Me++)Ke=I[0],I.splice(0,0,{data:ke,dts:Ke.dts-Q,pts:Ke.pts-Q});return T.baseMediaDecodeTime-=Math.floor(gt.videoTsToAudioTs(_e,T.samplerate)),_e}},We=function(T,I,B){return I.minSegmentDts>=B?T:(I.minSegmentDts=1/0,T.filter(function(R){return R.dts>=B?(I.minSegmentDts=Math.min(I.minSegmentDts,R.dts),I.minSegmentPts=I.minSegmentDts,!0):!1}))},yt=function(T){var I,B,R=[];for(I=0;I<T.length;I++)B=T[I],R.push({size:B.data.byteLength,duration:1024});return R},Ye=function(T){var I,B,R=0,W=new Uint8Array(ie(T));for(I=0;I<T.length;I++)B=T[I],W.set(B.data,R),R+=B.data.byteLength;return W},Ze={prefixWithSilence:Ie,trimAdtsFramesByEarliestDts:We,generateSampleTable:yt,concatenateFrameData:Ye},Z=tt.ONE_SECOND_IN_TS,ae=function(T,I){typeof I.pts=="number"&&(T.timelineStartInfo.pts===void 0&&(T.timelineStartInfo.pts=I.pts),T.minSegmentPts===void 0?T.minSegmentPts=I.pts:T.minSegmentPts=Math.min(T.minSegmentPts,I.pts),T.maxSegmentPts===void 0?T.maxSegmentPts=I.pts:T.maxSegmentPts=Math.max(T.maxSegmentPts,I.pts)),typeof I.dts=="number"&&(T.timelineStartInfo.dts===void 0&&(T.timelineStartInfo.dts=I.dts),T.minSegmentDts===void 0?T.minSegmentDts=I.dts:T.minSegmentDts=Math.min(T.minSegmentDts,I.dts),T.maxSegmentDts===void 0?T.maxSegmentDts=I.dts:T.maxSegmentDts=Math.max(T.maxSegmentDts,I.dts))},me=function(T){delete T.minSegmentDts,delete T.maxSegmentDts,delete T.minSegmentPts,delete T.maxSegmentPts},oe=function(T,I){var B,R,W=T.minSegmentDts;return I||(W-=T.timelineStartInfo.dts),B=T.timelineStartInfo.baseMediaDecodeTime,B+=W,B=Math.max(0,B),T.type==="audio"&&(R=T.samplerate/Z,B*=R,B=Math.floor(B)),B},Ne={clearDtsInfo:me,calculateTrackBaseMediaDecodeTime:oe,collectDtsInfo:ae},xt=4,At=128,$t=function(T){for(var I=0,B={payloadType:-1,payloadSize:0},R=0,W=0;I<T.byteLength&&T[I]!==At;){for(;T[I]===255;)R+=255,I++;for(R+=T[I++];T[I]===255;)W+=255,I++;if(W+=T[I++],!B.payload&&R===xt){var Q=String.fromCharCode(T[I+3],T[I+4],T[I+5],T[I+6]);if(Q==="GA94"){B.payloadType=R,B.payloadSize=W,B.payload=T.subarray(I,I+W);break}else B.payload=void 0}I+=W,R=0,W=0}return B},wt=function(T){return T.payload[0]!==181||(T.payload[1]<<8|T.payload[2])!==49||String.fromCharCode(T.payload[3],T.payload[4],T.payload[5],T.payload[6])!=="GA94"||T.payload[7]!==3?null:T.payload.subarray(8,T.payload.length-1)},Jt=function(T,I){var B=[],R,W,Q,pe;if(!(I[0]&64))return B;for(W=I[0]&31,R=0;R<W;R++)Q=R*3,pe={type:I[Q+2]&3,pts:T},I[Q+2]&4&&(pe.ccData=I[Q+3]<<8|I[Q+4],B.push(pe));return B},ir=function(T){for(var I=T.byteLength,B=[],R=1,W,Q;R<I-2;)T[R]===0&&T[R+1]===0&&T[R+2]===3?(B.push(R+2),R+=2):R++;if(B.length===0)return T;W=I-B.length,Q=new Uint8Array(W);var pe=0;for(R=0;R<W;pe++,R++)pe===B[0]&&(pe++,B.shift()),Q[R]=T[pe];return Q},Ir={parseSei:$t,parseUserData:wt,parseCaptionPackets:Jt,discardEmulationPreventionBytes:ir,USER_DATA_REGISTERED_ITU_T_T35:xt},Wn=n,Qt=Ir,gn=function(T){T=T||{},gn.prototype.init.call(this),this.parse708captions_=typeof T.parse708captions=="boolean"?T.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new qn(0,0),new qn(0,1),new qn(1,0),new qn(1,1)],this.parse708captions_&&(this.cc708Stream_=new bn({captionServices:T.captionServices})),this.reset(),this.ccStreams_.forEach(function(I){I.on("data",this.trigger.bind(this,"data")),I.on("partialdone",this.trigger.bind(this,"partialdone")),I.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};gn.prototype=new Wn,gn.prototype.push=function(T){var I,B,R;if(T.nalUnitType==="sei_rbsp"&&(I=Qt.parseSei(T.escapedRBSP),!!I.payload&&I.payloadType===Qt.USER_DATA_REGISTERED_ITU_T_T35&&(B=Qt.parseUserData(I),!!B))){if(T.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(T.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}R=Qt.parseCaptionPackets(T.pts,B),this.captionPackets_=this.captionPackets_.concat(R),this.latestDts_!==T.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=T.dts}},gn.prototype.flushCCStreams=function(T){this.ccStreams_.forEach(function(I){return T==="flush"?I.flush():I.partialFlush()},this)},gn.prototype.flushStream=function(T){if(!this.captionPackets_.length){this.flushCCStreams(T);return}this.captionPackets_.forEach(function(I,B){I.presortIndex=B}),this.captionPackets_.sort(function(I,B){return I.pts===B.pts?I.presortIndex-B.presortIndex:I.pts-B.pts}),this.captionPackets_.forEach(function(I){I.type<2?this.dispatchCea608Packet(I):this.dispatchCea708Packet(I)},this),this.captionPackets_.length=0,this.flushCCStreams(T)},gn.prototype.flush=function(){return this.flushStream("flush")},gn.prototype.partialFlush=function(){return this.flushStream("partialFlush")},gn.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(T){T.reset()})},gn.prototype.dispatchCea608Packet=function(T){this.setsTextOrXDSActive(T)?this.activeCea608Channel_[T.type]=null:this.setsChannel1Active(T)?this.activeCea608Channel_[T.type]=0:this.setsChannel2Active(T)&&(this.activeCea608Channel_[T.type]=1),this.activeCea608Channel_[T.type]!==null&&this.ccStreams_[(T.type<<1)+this.activeCea608Channel_[T.type]].push(T)},gn.prototype.setsChannel1Active=function(T){return(T.ccData&30720)===4096},gn.prototype.setsChannel2Active=function(T){return(T.ccData&30720)===6144},gn.prototype.setsTextOrXDSActive=function(T){return(T.ccData&28928)===256||(T.ccData&30974)===4138||(T.ccData&30974)===6186},gn.prototype.dispatchCea708Packet=function(T){this.parse708captions_&&this.cc708Stream_.push(T)};var qr={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},Qs=function(T){var I=qr[T]||T;return T&4096&&T===I?"":String.fromCharCode(I)},Vn=function(T){return 32<=T&&T<=127||160<=T&&T<=255},ns=function(T){this.windowNum=T,this.reset()};ns.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},ns.prototype.getText=function(){return this.rows.join(`
`)},ns.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},ns.prototype.newLine=function(T){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(T),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},ns.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},ns.prototype.addText=function(T){this.rows[this.rowIdx]+=T},ns.prototype.backspace=function(){if(!this.isEmpty()){var T=this.rows[this.rowIdx];this.rows[this.rowIdx]=T.substr(0,T.length-1)}};var Ns=function(T,I,B){this.serviceNum=T,this.text="",this.currentWindow=new ns(-1),this.windows=[],this.stream=B,typeof I=="string"&&this.createTextDecoder(I)};Ns.prototype.init=function(T,I){this.startPts=T;for(var B=0;B<8;B++)this.windows[B]=new ns(B),typeof I=="function"&&(this.windows[B].beforeRowOverflow=I)},Ns.prototype.setCurrentWindow=function(T){this.currentWindow=this.windows[T]},Ns.prototype.createTextDecoder=function(T){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(T)}catch(I){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+T+" encoding. "+I})}};var bn=function(T){T=T||{},bn.prototype.init.call(this);var I=this,B=T.captionServices||{},R={},W;Object.keys(B).forEach(Q=>{W=B[Q],/^SERVICE/.test(Q)&&(R[Q]=W.encoding)}),this.serviceEncodings=R,this.current708Packet=null,this.services={},this.push=function(Q){Q.type===3?(I.new708Packet(),I.add708Bytes(Q)):(I.current708Packet===null&&I.new708Packet(),I.add708Bytes(Q))}};bn.prototype=new Wn,bn.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},bn.prototype.add708Bytes=function(T){var I=T.ccData,B=I>>>8,R=I&255;this.current708Packet.ptsVals.push(T.pts),this.current708Packet.data.push(B),this.current708Packet.data.push(R)},bn.prototype.push708Packet=function(){var T=this.current708Packet,I=T.data,B=null,R=null,W=0,Q=I[W++];for(T.seq=Q>>6,T.sizeCode=Q&63;W<I.length;W++)Q=I[W++],B=Q>>5,R=Q&31,B===7&&R>0&&(Q=I[W++],B=Q),this.pushServiceBlock(B,W,R),R>0&&(W+=R-1)},bn.prototype.pushServiceBlock=function(T,I,B){var R,W=I,Q=this.current708Packet.data,pe=this.services[T];for(pe||(pe=this.initService(T,W));W<I+B&&W<Q.length;W++)R=Q[W],Vn(R)?W=this.handleText(W,pe):R===24?W=this.multiByteCharacter(W,pe):R===16?W=this.extendedCommands(W,pe):128<=R&&R<=135?W=this.setCurrentWindow(W,pe):152<=R&&R<=159?W=this.defineWindow(W,pe):R===136?W=this.clearWindows(W,pe):R===140?W=this.deleteWindows(W,pe):R===137?W=this.displayWindows(W,pe):R===138?W=this.hideWindows(W,pe):R===139?W=this.toggleWindows(W,pe):R===151?W=this.setWindowAttributes(W,pe):R===144?W=this.setPenAttributes(W,pe):R===145?W=this.setPenColor(W,pe):R===146?W=this.setPenLocation(W,pe):R===143?pe=this.reset(W,pe):R===8?pe.currentWindow.backspace():R===12?pe.currentWindow.clearText():R===13?pe.currentWindow.pendingNewLine=!0:R===14?pe.currentWindow.clearText():R===141&&W++},bn.prototype.extendedCommands=function(T,I){var B=this.current708Packet.data,R=B[++T];return Vn(R)&&(T=this.handleText(T,I,{isExtended:!0})),T},bn.prototype.getPts=function(T){return this.current708Packet.ptsVals[Math.floor(T/2)]},bn.prototype.initService=function(T,I){var R="SERVICE"+T,B=this,R,W;return R in this.serviceEncodings&&(W=this.serviceEncodings[R]),this.services[T]=new Ns(T,W,B),this.services[T].init(this.getPts(I),function(Q){B.flushDisplayed(Q,B.services[T])}),this.services[T]},bn.prototype.handleText=function(T,I,B){var R=B&&B.isExtended,W=B&&B.isMultiByte,Q=this.current708Packet.data,pe=R?4096:0,ge=Q[T],_e=Q[T+1],ke=I.currentWindow,Me,Ke;function Pt(ot){return ot.map(Wt=>("0"+(Wt&255).toString(16)).slice(-2)).join("")}if(W?(Ke=[ge,_e],T++):Ke=[ge],I.textDecoder_&&!R)Me=I.textDecoder_.decode(new Uint8Array(Ke));else if(W){const ot=Pt(Ke);Me=String.fromCharCode(parseInt(ot,16))}else Me=Qs(pe|ge);return ke.pendingNewLine&&!ke.isEmpty()&&ke.newLine(this.getPts(T)),ke.pendingNewLine=!1,ke.addText(Me),T},bn.prototype.multiByteCharacter=function(T,I){var B=this.current708Packet.data,R=B[T+1],W=B[T+2];return Vn(R)&&Vn(W)&&(T=this.handleText(++T,I,{isMultiByte:!0})),T},bn.prototype.setCurrentWindow=function(T,I){var B=this.current708Packet.data,R=B[T],W=R&7;return I.setCurrentWindow(W),T},bn.prototype.defineWindow=function(T,I){var B=this.current708Packet.data,R=B[T],W=R&7;I.setCurrentWindow(W);var Q=I.currentWindow;return R=B[++T],Q.visible=(R&32)>>5,Q.rowLock=(R&16)>>4,Q.columnLock=(R&8)>>3,Q.priority=R&7,R=B[++T],Q.relativePositioning=(R&128)>>7,Q.anchorVertical=R&127,R=B[++T],Q.anchorHorizontal=R,R=B[++T],Q.anchorPoint=(R&240)>>4,Q.rowCount=R&15,R=B[++T],Q.columnCount=R&63,R=B[++T],Q.windowStyle=(R&56)>>3,Q.penStyle=R&7,Q.virtualRowCount=Q.rowCount+1,T},bn.prototype.setWindowAttributes=function(T,I){var B=this.current708Packet.data,R=B[T],W=I.currentWindow.winAttr;return R=B[++T],W.fillOpacity=(R&192)>>6,W.fillRed=(R&48)>>4,W.fillGreen=(R&12)>>2,W.fillBlue=R&3,R=B[++T],W.borderType=(R&192)>>6,W.borderRed=(R&48)>>4,W.borderGreen=(R&12)>>2,W.borderBlue=R&3,R=B[++T],W.borderType+=(R&128)>>5,W.wordWrap=(R&64)>>6,W.printDirection=(R&48)>>4,W.scrollDirection=(R&12)>>2,W.justify=R&3,R=B[++T],W.effectSpeed=(R&240)>>4,W.effectDirection=(R&12)>>2,W.displayEffect=R&3,T},bn.prototype.flushDisplayed=function(T,I){for(var B=[],R=0;R<8;R++)I.windows[R].visible&&!I.windows[R].isEmpty()&&B.push(I.windows[R].getText());I.endPts=T,I.text=B.join(`

`),this.pushCaption(I),I.startPts=T},bn.prototype.pushCaption=function(T){T.text!==""&&(this.trigger("data",{startPts:T.startPts,endPts:T.endPts,text:T.text,stream:"cc708_"+T.serviceNum}),T.text="",T.startPts=T.endPts)},bn.prototype.displayWindows=function(T,I){var B=this.current708Packet.data,R=B[++T],W=this.getPts(T);this.flushDisplayed(W,I);for(var Q=0;Q<8;Q++)R&1<<Q&&(I.windows[Q].visible=1);return T},bn.prototype.hideWindows=function(T,I){var B=this.current708Packet.data,R=B[++T],W=this.getPts(T);this.flushDisplayed(W,I);for(var Q=0;Q<8;Q++)R&1<<Q&&(I.windows[Q].visible=0);return T},bn.prototype.toggleWindows=function(T,I){var B=this.current708Packet.data,R=B[++T],W=this.getPts(T);this.flushDisplayed(W,I);for(var Q=0;Q<8;Q++)R&1<<Q&&(I.windows[Q].visible^=1);return T},bn.prototype.clearWindows=function(T,I){var B=this.current708Packet.data,R=B[++T],W=this.getPts(T);this.flushDisplayed(W,I);for(var Q=0;Q<8;Q++)R&1<<Q&&I.windows[Q].clearText();return T},bn.prototype.deleteWindows=function(T,I){var B=this.current708Packet.data,R=B[++T],W=this.getPts(T);this.flushDisplayed(W,I);for(var Q=0;Q<8;Q++)R&1<<Q&&I.windows[Q].reset();return T},bn.prototype.setPenAttributes=function(T,I){var B=this.current708Packet.data,R=B[T],W=I.currentWindow.penAttr;return R=B[++T],W.textTag=(R&240)>>4,W.offset=(R&12)>>2,W.penSize=R&3,R=B[++T],W.italics=(R&128)>>7,W.underline=(R&64)>>6,W.edgeType=(R&56)>>3,W.fontStyle=R&7,T},bn.prototype.setPenColor=function(T,I){var B=this.current708Packet.data,R=B[T],W=I.currentWindow.penColor;return R=B[++T],W.fgOpacity=(R&192)>>6,W.fgRed=(R&48)>>4,W.fgGreen=(R&12)>>2,W.fgBlue=R&3,R=B[++T],W.bgOpacity=(R&192)>>6,W.bgRed=(R&48)>>4,W.bgGreen=(R&12)>>2,W.bgBlue=R&3,R=B[++T],W.edgeRed=(R&48)>>4,W.edgeGreen=(R&12)>>2,W.edgeBlue=R&3,T},bn.prototype.setPenLocation=function(T,I){var B=this.current708Packet.data,R=B[T],W=I.currentWindow.penLoc;return I.currentWindow.pendingNewLine=!0,R=B[++T],W.row=R&15,R=B[++T],W.column=R&63,T},bn.prototype.reset=function(T,I){var B=this.getPts(T);return this.flushDisplayed(B,I),this.initService(I.serviceNum,T)};var fc={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Bi=function(T){return T===null?"":(T=fc[T]||T,String.fromCharCode(T))},_o=14,So=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],yi=function(){for(var T=[],I=_o+1;I--;)T.push({text:"",indent:0,offset:0});return T},qn=function(T,I){qn.prototype.init.call(this),this.field_=T||0,this.dataChannel_=I||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(B){var R,W,Q,pe,ge;if(R=B.ccData&32639,R===this.lastControlCode_){this.lastControlCode_=null;return}if((R&61440)===4096?this.lastControlCode_=R:R!==this.PADDING_&&(this.lastControlCode_=null),Q=R>>>8,pe=R&255,R!==this.PADDING_)if(R===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(R===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(B.pts),this.flushDisplayed(B.pts),W=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=W,this.startPts_=B.pts;else if(R===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(B.pts);else if(R===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(B.pts);else if(R===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(B.pts);else if(R===this.CARRIAGE_RETURN_)this.clearFormatting(B.pts),this.flushDisplayed(B.pts),this.shiftRowsUp_(),this.startPts_=B.pts;else if(R===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1);else if(R===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(B.pts),this.displayed_=yi();else if(R===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=yi();else if(R===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(B.pts),this.displayed_=yi()),this.mode_="paintOn",this.startPts_=B.pts;else if(this.isSpecialCharacter(Q,pe))Q=(Q&3)<<8,ge=Bi(Q|pe),this[this.mode_](B.pts,ge),this.column_++;else if(this.isExtCharacter(Q,pe))this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1),Q=(Q&3)<<8,ge=Bi(Q|pe),this[this.mode_](B.pts,ge),this.column_++;else if(this.isMidRowCode(Q,pe))this.clearFormatting(B.pts),this[this.mode_](B.pts," "),this.column_++,(pe&14)===14&&this.addFormatting(B.pts,["i"]),(pe&1)===1&&this.addFormatting(B.pts,["u"]);else if(this.isOffsetControlCode(Q,pe)){const ke=pe&3;this.nonDisplayed_[this.row_].offset=ke,this.column_+=ke}else if(this.isPAC(Q,pe)){var _e=So.indexOf(R&7968);if(this.mode_==="rollUp"&&(_e-this.rollUpRows_+1<0&&(_e=this.rollUpRows_-1),this.setRollUp(B.pts,_e)),_e!==this.row_&&_e>=0&&_e<=14&&(this.clearFormatting(B.pts),this.row_=_e),pe&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(B.pts,["u"]),(R&16)===16){const ke=(R&14)>>1;this.column_=ke*4,this.nonDisplayed_[this.row_].indent+=ke}this.isColorPAC(pe)&&(pe&14)===14&&this.addFormatting(B.pts,["i"])}else this.isNormalChar(Q)&&(pe===0&&(pe=null),ge=Bi(Q),ge+=Bi(pe),this[this.mode_](B.pts,ge),this.column_+=ge.length)}};qn.prototype=new Wn,qn.prototype.flushDisplayed=function(T){const I=R=>{this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+R+"."})},B=[];this.displayed_.forEach((R,W)=>{if(R&&R.text&&R.text.length){try{R.text=R.text.trim()}catch{I(W)}R.text.length&&B.push({text:R.text,line:W+1,position:10+Math.min(70,R.indent*10)+R.offset*2.5})}else R==null&&I(W)}),B.length&&this.trigger("data",{startPts:this.startPts_,endPts:T,content:B,stream:this.name_})},qn.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=yi(),this.nonDisplayed_=yi(),this.lastControlCode_=null,this.column_=0,this.row_=_o,this.rollUpRows_=2,this.formatting_=[]},qn.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},qn.prototype.isSpecialCharacter=function(T,I){return T===this.EXT_&&I>=48&&I<=63},qn.prototype.isExtCharacter=function(T,I){return(T===this.EXT_+1||T===this.EXT_+2)&&I>=32&&I<=63},qn.prototype.isMidRowCode=function(T,I){return T===this.EXT_&&I>=32&&I<=47},qn.prototype.isOffsetControlCode=function(T,I){return T===this.OFFSET_&&I>=33&&I<=35},qn.prototype.isPAC=function(T,I){return T>=this.BASE_&&T<this.BASE_+8&&I>=64&&I<=127},qn.prototype.isColorPAC=function(T){return T>=64&&T<=79||T>=96&&T<=127},qn.prototype.isNormalChar=function(T){return T>=32&&T<=127},qn.prototype.setRollUp=function(T,I){if(this.mode_!=="rollUp"&&(this.row_=_o,this.mode_="rollUp",this.flushDisplayed(T),this.nonDisplayed_=yi(),this.displayed_=yi()),I!==void 0&&I!==this.row_)for(var B=0;B<this.rollUpRows_;B++)this.displayed_[I-B]=this.displayed_[this.row_-B],this.displayed_[this.row_-B]={text:"",indent:0,offset:0};I===void 0&&(I=this.row_),this.topRow_=I-this.rollUpRows_+1},qn.prototype.addFormatting=function(T,I){this.formatting_=this.formatting_.concat(I);var B=I.reduce(function(R,W){return R+"<"+W+">"},"");this[this.mode_](T,B)},qn.prototype.clearFormatting=function(T){if(this.formatting_.length){var I=this.formatting_.reverse().reduce(function(B,R){return B+"</"+R+">"},"");this.formatting_=[],this[this.mode_](T,I)}},qn.prototype.popOn=function(T,I){var B=this.nonDisplayed_[this.row_].text;B+=I,this.nonDisplayed_[this.row_].text=B},qn.prototype.rollUp=function(T,I){var B=this.displayed_[this.row_].text;B+=I,this.displayed_[this.row_].text=B},qn.prototype.shiftRowsUp_=function(){var T;for(T=0;T<this.topRow_;T++)this.displayed_[T]={text:"",indent:0,offset:0};for(T=this.row_+1;T<_o+1;T++)this.displayed_[T]={text:"",indent:0,offset:0};for(T=this.topRow_;T<this.row_;T++)this.displayed_[T]=this.displayed_[T+1];this.displayed_[this.row_]={text:"",indent:0,offset:0}},qn.prototype.paintOn=function(T,I){var B=this.displayed_[this.row_].text;B+=I,this.displayed_[this.row_].text=B};var ml={CaptionStream:gn,Cea608Stream:qn,Cea708Stream:bn},Co={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Ka=n,ur=8589934592,gl=4294967296,To="shared",$i=function(T,I){var B=1;for(T>I&&(B=-1);Math.abs(I-T)>gl;)T+=B*ur;return T},bi=function(T){var I,B;bi.prototype.init.call(this),this.type_=T||To,this.push=function(R){if(R.type==="metadata"){this.trigger("data",R);return}this.type_!==To&&R.type!==this.type_||(B===void 0&&(B=R.dts),R.dts=$i(R.dts,B),R.pts=$i(R.pts,B),I=R.dts,this.trigger("data",R))},this.flush=function(){B=I,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){B=void 0,I=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};bi.prototype=new Ka;var yl={TimestampRolloverStream:bi,handleRollover:$i},da=(T,I,B)=>{if(!T)return-1;for(var R=B;R<T.length;R++)if(T[R]===I)return R;return-1},ko={typedArrayIndexOf:da},Or=ko.typedArrayIndexOf,ha={Utf8:3},rs=function(T,I,B){var R,W="";for(R=I;R<B;R++)W+="%"+("00"+T[R].toString(16)).slice(-2);return W},fa=function(T,I,B){return decodeURIComponent(rs(T,I,B))},Xa=function(T,I,B){return unescape(rs(T,I,B))},pa=function(T){return T[0]<<21|T[1]<<14|T[2]<<7|T[3]},As={APIC:function(T){var I=1,B,R,W="-->";T.data[0]===ha.Utf8&&(B=Or(T.data,0,I),!(B<0)&&(T.mimeType=Xa(T.data,I,B),I=B+1,T.pictureType=T.data[I],I++,R=Or(T.data,0,I),!(R<0)&&(T.description=fa(T.data,I,R),I=R+1,T.mimeType===W?T.url=Xa(T.data,I,T.data.length):T.pictureData=T.data.subarray(I,T.data.length))))},"T*":function(T){T.data[0]===ha.Utf8&&(T.value=fa(T.data,1,T.data.length).replace(/\0*$/,""),T.values=T.value.split("\0"))},TXXX:function(T){var I;T.data[0]===ha.Utf8&&(I=Or(T.data,0,1),I!==-1&&(T.description=fa(T.data,1,I),T.value=fa(T.data,I+1,T.data.length).replace(/\0*$/,""),T.data=T.value))},"W*":function(T){T.url=Xa(T.data,0,T.data.length).replace(/\0.*$/,"")},WXXX:function(T){var I;T.data[0]===ha.Utf8&&(I=Or(T.data,0,1),I!==-1&&(T.description=fa(T.data,1,I),T.url=Xa(T.data,I+1,T.data.length).replace(/\0.*$/,"")))},PRIV:function(T){var I;for(I=0;I<T.data.length;I++)if(T.data[I]===0){T.owner=Xa(T.data,0,I);break}T.privateData=T.data.subarray(I+1),T.data=T.privateData}},Eo=function(T){var I,B,R=10,W=0,Q=[];if(!(T.length<10||T[0]!==73||T[1]!==68||T[2]!==51)){W=pa(T.subarray(6,10)),W+=10;var pe=T[5]&64;pe&&(R+=4,R+=pa(T.subarray(10,14)),W-=pa(T.subarray(16,20)));do{if(I=pa(T.subarray(R+4,R+8)),I<1)break;B=String.fromCharCode(T[R],T[R+1],T[R+2],T[R+3]);var ge={id:B,data:T.subarray(R+10,R+I+10)};ge.key=ge.id,As[ge.id]?As[ge.id](ge):ge.id[0]==="T"?As["T*"](ge):ge.id[0]==="W"&&As["W*"](ge),Q.push(ge),R+=10,R+=I}while(R<W);return Q}},ma={parseId3Frames:Eo,parseSyncSafeInteger:pa,frameParsers:As},jo=n,pc=Co,Zs=ma,we;we=function(T){var I={descriptor:T&&T.descriptor},B=0,R=[],W=0,Q;if(we.prototype.init.call(this),this.dispatchType=pc.METADATA_STREAM_TYPE.toString(16),I.descriptor)for(Q=0;Q<I.descriptor.length;Q++)this.dispatchType+=("00"+I.descriptor[Q].toString(16)).slice(-2);this.push=function(pe){var ge,_e,ke,Me,Ke,Pt;if(pe.type==="timed-metadata"){if(pe.dataAlignmentIndicator&&(W=0,R.length=0),R.length===0&&(pe.data.length<10||pe.data[0]!==73||pe.data[1]!==68||pe.data[2]!==51)){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(R.push(pe),W+=pe.data.byteLength,R.length===1&&(B=Zs.parseSyncSafeInteger(pe.data.subarray(6,10)),B+=10),!(W<B)){for(ge={data:new Uint8Array(B),frames:[],pts:R[0].pts,dts:R[0].dts},Ke=0;Ke<B;)ge.data.set(R[0].data.subarray(0,B-Ke),Ke),Ke+=R[0].data.byteLength,W-=R[0].data.byteLength,R.shift();_e=10,ge.data[5]&64&&(_e+=4,_e+=Zs.parseSyncSafeInteger(ge.data.subarray(10,14)),B-=Zs.parseSyncSafeInteger(ge.data.subarray(16,20)));do{if(ke=Zs.parseSyncSafeInteger(ge.data.subarray(_e+4,_e+8)),ke<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping remaining metadata parsing."});break}if(Pt=String.fromCharCode(ge.data[_e],ge.data[_e+1],ge.data[_e+2],ge.data[_e+3]),Me={id:Pt,data:ge.data.subarray(_e+10,_e+ke+10)},Me.key=Me.id,Zs.frameParsers[Me.id]?Zs.frameParsers[Me.id](Me):Me.id[0]==="T"?Zs.frameParsers["T*"](Me):Me.id[0]==="W"&&Zs.frameParsers["W*"](Me),Me.owner==="com.apple.streaming.transportStreamTimestamp"){var ot=Me.data,Wt=(ot[3]&1)<<30|ot[4]<<22|ot[5]<<14|ot[6]<<6|ot[7]>>>2;Wt*=4,Wt+=ot[7]&3,Me.timeStamp=Wt,ge.pts===void 0&&ge.dts===void 0&&(ge.pts=Me.timeStamp,ge.dts=Me.timeStamp),this.trigger("timestamp",Me)}ge.frames.push(Me),_e+=10,_e+=ke}while(_e<B);this.trigger("data",ge)}}}},we.prototype=new jo;var Je=we,qe=n,pt=ml,ue=Co,Fe=yl.TimestampRolloverStream,Ge,bt,Ct,Tt=188,Mt=71;Ge=function(){var T=new Uint8Array(Tt),I=0;Ge.prototype.init.call(this),this.push=function(B){var R=0,W=Tt,Q;for(I?(Q=new Uint8Array(B.byteLength+I),Q.set(T.subarray(0,I)),Q.set(B,I),I=0):Q=B;W<Q.byteLength;){if(Q[R]===Mt&&Q[W]===Mt){this.trigger("data",Q.subarray(R,W)),R+=Tt,W+=Tt;continue}R++,W++}R<Q.byteLength&&(T.set(Q.subarray(R),0),I=Q.byteLength-R)},this.flush=function(){I===Tt&&T[0]===Mt&&(this.trigger("data",T),I=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){I=0,this.trigger("reset")}},Ge.prototype=new qe,bt=function(){var T,I,B,R;bt.prototype.init.call(this),R=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,T=function(W,Q){var pe=0;Q.payloadUnitStartIndicator&&(pe+=W[pe]+1),Q.type==="pat"?I(W.subarray(pe),Q):B(W.subarray(pe),Q)},I=function(W,Q){Q.section_number=W[7],Q.last_section_number=W[8],R.pmtPid=(W[10]&31)<<8|W[11],Q.pmtPid=R.pmtPid},B=function(W,Q){var pe,ge,_e,ke;if(W[5]&1){for(R.programMapTable={video:null,audio:null,"timed-metadata":{}},pe=(W[1]&15)<<8|W[2],ge=3+pe-4,_e=(W[10]&15)<<8|W[11],ke=12+_e;ke<ge;){var Me=W[ke],Ke=(W[ke+1]&31)<<8|W[ke+2];Me===ue.H264_STREAM_TYPE&&R.programMapTable.video===null?R.programMapTable.video=Ke:Me===ue.ADTS_STREAM_TYPE&&R.programMapTable.audio===null?R.programMapTable.audio=Ke:Me===ue.METADATA_STREAM_TYPE&&(R.programMapTable["timed-metadata"][Ke]=Me),ke+=((W[ke+3]&15)<<8|W[ke+4])+5}Q.programMapTable=R.programMapTable}},this.push=function(W){var Q={},pe=4;if(Q.payloadUnitStartIndicator=!!(W[1]&64),Q.pid=W[1]&31,Q.pid<<=8,Q.pid|=W[2],(W[3]&48)>>>4>1&&(pe+=W[pe]+1),Q.pid===0)Q.type="pat",T(W.subarray(pe),Q),this.trigger("data",Q);else if(Q.pid===this.pmtPid)for(Q.type="pmt",T(W.subarray(pe),Q),this.trigger("data",Q);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([W,pe,Q]):this.processPes_(W,pe,Q)},this.processPes_=function(W,Q,pe){pe.pid===this.programMapTable.video?pe.streamType=ue.H264_STREAM_TYPE:pe.pid===this.programMapTable.audio?pe.streamType=ue.ADTS_STREAM_TYPE:pe.streamType=this.programMapTable["timed-metadata"][pe.pid],pe.type="pes",pe.data=W.subarray(Q),this.trigger("data",pe)}},bt.prototype=new qe,bt.STREAM_TYPES={h264:27,adts:15},Ct=function(){var T=this,I=!1,B={data:[],size:0},R={data:[],size:0},W={data:[],size:0},Q,pe=function(_e,ke){var Me;const Ke=_e[0]<<16|_e[1]<<8|_e[2];ke.data=new Uint8Array,Ke===1&&(ke.packetLength=6+(_e[4]<<8|_e[5]),ke.dataAlignmentIndicator=(_e[6]&4)!==0,Me=_e[7],Me&192&&(ke.pts=(_e[9]&14)<<27|(_e[10]&255)<<20|(_e[11]&254)<<12|(_e[12]&255)<<5|(_e[13]&254)>>>3,ke.pts*=4,ke.pts+=(_e[13]&6)>>>1,ke.dts=ke.pts,Me&64&&(ke.dts=(_e[14]&14)<<27|(_e[15]&255)<<20|(_e[16]&254)<<12|(_e[17]&255)<<5|(_e[18]&254)>>>3,ke.dts*=4,ke.dts+=(_e[18]&6)>>>1)),ke.data=_e.subarray(9+_e[8]))},ge=function(_e,ke,Me){var Ke=new Uint8Array(_e.size),Pt={type:ke},ot=0,Wt=0,mn=!1,br;if(!(!_e.data.length||_e.size<9)){for(Pt.trackId=_e.data[0].pid,ot=0;ot<_e.data.length;ot++)br=_e.data[ot],Ke.set(br.data,Wt),Wt+=br.data.byteLength;pe(Ke,Pt),mn=ke==="video"||Pt.packetLength<=_e.size,(Me||mn)&&(_e.size=0,_e.data.length=0),mn&&T.trigger("data",Pt)}};Ct.prototype.init.call(this),this.push=function(_e){({pat:function(){},pes:function(){var ke,Me;switch(_e.streamType){case ue.H264_STREAM_TYPE:ke=B,Me="video";break;case ue.ADTS_STREAM_TYPE:ke=R,Me="audio";break;case ue.METADATA_STREAM_TYPE:ke=W,Me="timed-metadata";break;default:return}_e.payloadUnitStartIndicator&&ge(ke,Me,!0),ke.data.push(_e),ke.size+=_e.data.byteLength},pmt:function(){var ke={type:"metadata",tracks:[]};Q=_e.programMapTable,Q.video!==null&&ke.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+Q.video,codec:"avc",type:"video"}),Q.audio!==null&&ke.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+Q.audio,codec:"adts",type:"audio"}),I=!0,T.trigger("data",ke)}})[_e.type]()},this.reset=function(){B.size=0,B.data.length=0,R.size=0,R.data.length=0,this.trigger("reset")},this.flushStreams_=function(){ge(B,"video"),ge(R,"audio"),ge(W,"timed-metadata")},this.flush=function(){if(!I&&Q){var _e={type:"metadata",tracks:[]};Q.video!==null&&_e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+Q.video,codec:"avc",type:"video"}),Q.audio!==null&&_e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+Q.audio,codec:"adts",type:"audio"}),T.trigger("data",_e)}I=!1,this.flushStreams_(),this.trigger("done")}},Ct.prototype=new qe;var an={PAT_PID:0,MP2T_PACKET_LENGTH:Tt,TransportPacketStream:Ge,TransportParseStream:bt,ElementaryStream:Ct,TimestampRolloverStream:Fe,CaptionStream:pt.CaptionStream,Cea608Stream:pt.Cea608Stream,Cea708Stream:pt.Cea708Stream,MetadataStream:Je};for(var pn in ue)ue.hasOwnProperty(pn)&&(an[pn]=ue[pn]);var Vt=an,Gt=n,wn=tt.ONE_SECOND_IN_TS,kn,Nn=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];kn=function(T){var I,B=0;kn.prototype.init.call(this),this.skipWarn_=function(R,W){this.trigger("log",{level:"warn",message:`adts skiping bytes ${R} to ${W} in frame ${B} outside syncword`})},this.push=function(R){var W=0,Q,pe,ge,_e,ke;if(T||(B=0),R.type==="audio"){I&&I.length?(ge=I,I=new Uint8Array(ge.byteLength+R.data.byteLength),I.set(ge),I.set(R.data,ge.byteLength)):I=R.data;for(var Me;W+7<I.length;){if(I[W]!==255||(I[W+1]&246)!==240){typeof Me!="number"&&(Me=W),W++;continue}if(typeof Me=="number"&&(this.skipWarn_(Me,W),Me=null),pe=(~I[W+1]&1)*2,Q=(I[W+3]&3)<<11|I[W+4]<<3|(I[W+5]&224)>>5,_e=((I[W+6]&3)+1)*1024,ke=_e*wn/Nn[(I[W+2]&60)>>>2],I.byteLength-W<Q)break;this.trigger("data",{pts:R.pts+B*ke,dts:R.dts+B*ke,sampleCount:_e,audioobjecttype:(I[W+2]>>>6&3)+1,channelcount:(I[W+2]&1)<<2|(I[W+3]&192)>>>6,samplerate:Nn[(I[W+2]&60)>>>2],samplingfrequencyindex:(I[W+2]&60)>>>2,samplesize:16,data:I.subarray(W+7+pe,W+Q)}),B++,W+=Q}typeof Me=="number"&&(this.skipWarn_(Me,W),Me=null),I=I.subarray(W)}},this.flush=function(){B=0,this.trigger("done")},this.reset=function(){I=void 0,this.trigger("reset")},this.endTimeline=function(){I=void 0,this.trigger("endedtimeline")}},kn.prototype=new Gt;var Kn=kn,Yr;Yr=function(T){var I=T.byteLength,B=0,R=0;this.length=function(){return 8*I},this.bitsAvailable=function(){return 8*I+R},this.loadWord=function(){var W=T.byteLength-I,Q=new Uint8Array(4),pe=Math.min(4,I);if(pe===0)throw new Error("no bytes available");Q.set(T.subarray(W,W+pe)),B=new DataView(Q.buffer).getUint32(0),R=pe*8,I-=pe},this.skipBits=function(W){var Q;R>W?(B<<=W,R-=W):(W-=R,Q=Math.floor(W/8),W-=Q*8,I-=Q,this.loadWord(),B<<=W,R-=W)},this.readBits=function(W){var Q=Math.min(R,W),pe=B>>>32-Q;return R-=Q,R>0?B<<=Q:I>0&&this.loadWord(),Q=W-Q,Q>0?pe<<Q|this.readBits(Q):pe},this.skipLeadingZeros=function(){var W;for(W=0;W<R;++W)if(B&2147483648>>>W)return B<<=W,R-=W,W;return this.loadWord(),W+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var W=this.skipLeadingZeros();return this.readBits(W+1)-1},this.readExpGolomb=function(){var W=this.readUnsignedExpGolomb();return 1&W?1+W>>>1:-1*(W>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var Gr=Yr,E0=n,j0=Gr,No,Kd,vp;Kd=function(){var T=0,I,B;Kd.prototype.init.call(this),this.push=function(R){var W;B?(W=new Uint8Array(B.byteLength+R.data.byteLength),W.set(B),W.set(R.data,B.byteLength),B=W):B=R.data;for(var Q=B.byteLength;T<Q-3;T++)if(B[T+2]===1){I=T+5;break}for(;I<Q;)switch(B[I]){case 0:if(B[I-1]!==0){I+=2;break}else if(B[I-2]!==0){I++;break}T+3!==I-2&&this.trigger("data",B.subarray(T+3,I-2));do I++;while(B[I]!==1&&I<Q);T=I-2,I+=3;break;case 1:if(B[I-1]!==0||B[I-2]!==0){I+=3;break}this.trigger("data",B.subarray(T+3,I-2)),T=I-2,I+=3;break;default:I+=3;break}B=B.subarray(T),I-=T,T=0},this.reset=function(){B=null,T=0,this.trigger("reset")},this.flush=function(){B&&B.byteLength>3&&this.trigger("data",B.subarray(T+3)),B=null,T=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},Kd.prototype=new E0,vp={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},No=function(){var T=new Kd,I,B,R,W,Q,pe,ge;No.prototype.init.call(this),I=this,this.push=function(_e){_e.type==="video"&&(B=_e.trackId,R=_e.pts,W=_e.dts,T.push(_e))},T.on("data",function(_e){var ke={trackId:B,pts:R,dts:W,data:_e,nalUnitTypeCode:_e[0]&31};switch(ke.nalUnitTypeCode){case 5:ke.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:ke.nalUnitType="sei_rbsp",ke.escapedRBSP=Q(_e.subarray(1));break;case 7:ke.nalUnitType="seq_parameter_set_rbsp",ke.escapedRBSP=Q(_e.subarray(1)),ke.config=pe(ke.escapedRBSP);break;case 8:ke.nalUnitType="pic_parameter_set_rbsp";break;case 9:ke.nalUnitType="access_unit_delimiter_rbsp";break}I.trigger("data",ke)}),T.on("done",function(){I.trigger("done")}),T.on("partialdone",function(){I.trigger("partialdone")}),T.on("reset",function(){I.trigger("reset")}),T.on("endedtimeline",function(){I.trigger("endedtimeline")}),this.flush=function(){T.flush()},this.partialFlush=function(){T.partialFlush()},this.reset=function(){T.reset()},this.endTimeline=function(){T.endTimeline()},ge=function(_e,ke){var Me=8,Ke=8,Pt,ot;for(Pt=0;Pt<_e;Pt++)Ke!==0&&(ot=ke.readExpGolomb(),Ke=(Me+ot+256)%256),Me=Ke===0?Me:Ke},Q=function(_e){for(var ke=_e.byteLength,Me=[],Ke=1,Pt,ot;Ke<ke-2;)_e[Ke]===0&&_e[Ke+1]===0&&_e[Ke+2]===3?(Me.push(Ke+2),Ke+=2):Ke++;if(Me.length===0)return _e;Pt=ke-Me.length,ot=new Uint8Array(Pt);var Wt=0;for(Ke=0;Ke<Pt;Wt++,Ke++)Wt===Me[0]&&(Wt++,Me.shift()),ot[Ke]=_e[Wt];return ot},pe=function(_e){var ke=0,Me=0,Ke=0,Pt=0,ot,Wt,mn,br,ar,Ui,Ec,jc,Mo,Nc,wi,Xn=[1,1],Tl,_i;if(ot=new j0(_e),Wt=ot.readUnsignedByte(),br=ot.readUnsignedByte(),mn=ot.readUnsignedByte(),ot.skipUnsignedExpGolomb(),vp[Wt]&&(ar=ot.readUnsignedExpGolomb(),ar===3&&ot.skipBits(1),ot.skipUnsignedExpGolomb(),ot.skipUnsignedExpGolomb(),ot.skipBits(1),ot.readBoolean()))for(wi=ar!==3?8:12,_i=0;_i<wi;_i++)ot.readBoolean()&&(_i<6?ge(16,ot):ge(64,ot));if(ot.skipUnsignedExpGolomb(),Ui=ot.readUnsignedExpGolomb(),Ui===0)ot.readUnsignedExpGolomb();else if(Ui===1)for(ot.skipBits(1),ot.skipExpGolomb(),ot.skipExpGolomb(),Ec=ot.readUnsignedExpGolomb(),_i=0;_i<Ec;_i++)ot.skipExpGolomb();if(ot.skipUnsignedExpGolomb(),ot.skipBits(1),jc=ot.readUnsignedExpGolomb(),Mo=ot.readUnsignedExpGolomb(),Nc=ot.readBits(1),Nc===0&&ot.skipBits(1),ot.skipBits(1),ot.readBoolean()&&(ke=ot.readUnsignedExpGolomb(),Me=ot.readUnsignedExpGolomb(),Ke=ot.readUnsignedExpGolomb(),Pt=ot.readUnsignedExpGolomb()),ot.readBoolean()&&ot.readBoolean()){switch(Tl=ot.readUnsignedByte(),Tl){case 1:Xn=[1,1];break;case 2:Xn=[12,11];break;case 3:Xn=[10,11];break;case 4:Xn=[16,11];break;case 5:Xn=[40,33];break;case 6:Xn=[24,11];break;case 7:Xn=[20,11];break;case 8:Xn=[32,11];break;case 9:Xn=[80,33];break;case 10:Xn=[18,11];break;case 11:Xn=[15,11];break;case 12:Xn=[64,33];break;case 13:Xn=[160,99];break;case 14:Xn=[4,3];break;case 15:Xn=[3,2];break;case 16:Xn=[2,1];break;case 255:{Xn=[ot.readUnsignedByte()<<8|ot.readUnsignedByte(),ot.readUnsignedByte()<<8|ot.readUnsignedByte()];break}}Xn&&Xn[0]/Xn[1]}return{profileIdc:Wt,levelIdc:mn,profileCompatibility:br,width:(jc+1)*16-ke*2-Me*2,height:(2-Nc)*(Mo+1)*16-Ke*2-Pt*2,sarRatio:Xn}}},No.prototype=new E0;var Xd={H264Stream:No},N0=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],A0=function(T,I){var B=T[I+6]<<21|T[I+7]<<14|T[I+8]<<7|T[I+9],R=T[I+5],W=(R&16)>>4;return B=B>=0?B:0,W?B+20:B+10},mc=function(T,I){return T.length-I<10||T[I]!==73||T[I+1]!==68||T[I+2]!==51?I:(I+=A0(T,I),mc(T,I))},Cu=function(T){var I=mc(T,0);return T.length>=I+2&&(T[I]&255)===255&&(T[I+1]&240)===240&&(T[I+1]&22)===16},bl=function(T){return T[0]<<21|T[1]<<14|T[2]<<7|T[3]},Qd=function(T,I,B){var R,W="";for(R=I;R<B;R++)W+="%"+("00"+T[R].toString(16)).slice(-2);return W},lw=function(T,I,B){return unescape(Qd(T,I,B))},cw=function(T,I){var B=(T[I+5]&224)>>5,R=T[I+4]<<3,W=T[I+3]&6144;return W|R|B},wp=function(T,I){return T[I]===73&&T[I+1]===68&&T[I+2]===51?"timed-metadata":T[I]&!0&&(T[I+1]&240)===240?"audio":null},Zd=function(T){for(var I=0;I+5<T.length;){if(T[I]!==255||(T[I+1]&246)!==240){I++;continue}return N0[(T[I+2]&60)>>>2]}return null},_p=function(T){var I,B,R,W;I=10,T[5]&64&&(I+=4,I+=bl(T.subarray(10,14)));do{if(B=bl(T.subarray(I+4,I+8)),B<1)return null;if(W=String.fromCharCode(T[I],T[I+1],T[I+2],T[I+3]),W==="PRIV"){R=T.subarray(I+10,I+B+10);for(var Q=0;Q<R.byteLength;Q++)if(R[Q]===0){var pe=lw(R,0,Q);if(pe==="com.apple.streaming.transportStreamTimestamp"){var ge=R.subarray(Q+1),_e=(ge[3]&1)<<30|ge[4]<<22|ge[5]<<14|ge[6]<<6|ge[7]>>>2;return _e*=4,_e+=ge[7]&3,_e}break}}I+=10,I+=B}while(I<T.byteLength);return null},Jd={isLikelyAacData:Cu,parseId3TagSize:A0,parseAdtsSize:cw,parseType:wp,parseSampleRate:Zd,parseAacTimestamp:_p},Ao=n,eh=Jd,xl;xl=function(){var T=new Uint8Array,I=0;xl.prototype.init.call(this),this.setTimestamp=function(B){I=B},this.push=function(B){var R=0,W=0,Q,pe,ge,_e;for(T.length?(_e=T.length,T=new Uint8Array(B.byteLength+_e),T.set(T.subarray(0,_e)),T.set(B,_e)):T=B;T.length-W>=3;){if(T[W]===73&&T[W+1]===68&&T[W+2]===51){if(T.length-W<10||(R=eh.parseId3TagSize(T,W),W+R>T.length))break;pe={type:"timed-metadata",data:T.subarray(W,W+R)},this.trigger("data",pe),W+=R;continue}else if((T[W]&255)===255&&(T[W+1]&240)===240){if(T.length-W<7||(R=eh.parseAdtsSize(T,W),W+R>T.length))break;ge={type:"audio",data:T.subarray(W,W+R),pts:I,dts:I},this.trigger("data",ge),W+=R;continue}W++}Q=T.length-W,Q>0?T=T.subarray(W):T=new Uint8Array},this.reset=function(){T=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){T=new Uint8Array,this.trigger("endedtimeline")}},xl.prototype=new Ao;var D0=xl,th=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],nh=th,P0=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Js=P0,Qa=n,vl=Ce,Za=re,rh=Ze,ei=Ne,zi=Vt,Do=tt,Tu=Kn,I0=Xd.H264Stream,uw=D0,dw=Jd.isLikelyAacData,hw=tt.ONE_SECOND_IN_TS,sh=nh,O0=Js,ih,ku,ah,wl,M0=function(T,I){I.stream=T,this.trigger("log",I)},R0=function(T,I){for(var B=Object.keys(I),R=0;R<B.length;R++){var W=B[R];W==="headOfPipeline"||!I[W].on||I[W].on("log",M0.bind(T,W))}},L0=function(T,I){var B;if(T.length!==I.length)return!1;for(B=0;B<T.length;B++)if(T[B]!==I[B])return!1;return!0},F0=function(T,I,B,R,W,Q){var pe=B-I,ge=R-I,_e=W-B;return{start:{dts:T,pts:T+pe},end:{dts:T+ge,pts:T+_e},prependedContentDuration:Q,baseMediaDecodeTime:T}};ku=function(T,I){var B=[],R,W=0,Q=0,pe=1/0;I=I||{},R=I.firstSequenceNumber||0,ku.prototype.init.call(this),this.push=function(ge){ei.collectDtsInfo(T,ge),T&&sh.forEach(function(_e){T[_e]=ge[_e]}),B.push(ge)},this.setEarliestDts=function(ge){W=ge},this.setVideoBaseMediaDecodeTime=function(ge){pe=ge},this.setAudioAppendStart=function(ge){Q=ge},this.flush=function(){var ge,_e,ke,Me,Ke,Pt,ot;if(B.length===0){this.trigger("done","AudioSegmentStream");return}ge=rh.trimAdtsFramesByEarliestDts(B,T,W),T.baseMediaDecodeTime=ei.calculateTrackBaseMediaDecodeTime(T,I.keepOriginalTimestamps),ot=rh.prefixWithSilence(T,ge,Q,pe),T.samples=rh.generateSampleTable(ge),ke=vl.mdat(rh.concatenateFrameData(ge)),B=[],_e=vl.moof(R,[T]),Me=new Uint8Array(_e.byteLength+ke.byteLength),R++,Me.set(_e),Me.set(ke,_e.byteLength),ei.clearDtsInfo(T),Ke=Math.ceil(hw*1024/T.samplerate),ge.length&&(Pt=ge.length*Ke,this.trigger("segmentTimingInfo",F0(Do.audioTsToVideoTs(T.baseMediaDecodeTime,T.samplerate),ge[0].dts,ge[0].pts,ge[0].dts+Pt,ge[0].pts+Pt,ot||0)),this.trigger("timingInfo",{start:ge[0].pts,end:ge[0].pts+Pt})),this.trigger("data",{track:T,boxes:Me}),this.trigger("done","AudioSegmentStream")},this.reset=function(){ei.clearDtsInfo(T),B=[],this.trigger("reset")}},ku.prototype=new Qa,ih=function(T,I){var B,R=[],W=[],Q,pe;I=I||{},B=I.firstSequenceNumber||0,ih.prototype.init.call(this),delete T.minPTS,this.gopCache_=[],this.push=function(ge){ei.collectDtsInfo(T,ge),ge.nalUnitType==="seq_parameter_set_rbsp"&&!Q&&(Q=ge.config,T.sps=[ge.data],O0.forEach(function(_e){T[_e]=Q[_e]},this)),ge.nalUnitType==="pic_parameter_set_rbsp"&&!pe&&(pe=ge.data,T.pps=[ge.data]),R.push(ge)},this.flush=function(){for(var ge,_e,ke,Me,Ke,Pt,ot=0,Wt,mn;R.length&&R[0].nalUnitType!=="access_unit_delimiter_rbsp";)R.shift();if(R.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(ge=Za.groupNalsIntoFrames(R),ke=Za.groupFramesIntoGops(ge),ke[0][0].keyFrame||(_e=this.getGopForFusion_(R[0],T),_e?(ot=_e.duration,ke.unshift(_e),ke.byteLength+=_e.byteLength,ke.nalCount+=_e.nalCount,ke.pts=_e.pts,ke.dts=_e.dts,ke.duration+=_e.duration):ke=Za.extendFirstKeyFrame(ke)),W.length){var br;if(I.alignGopsAtEnd?br=this.alignGopsAtEnd_(ke):br=this.alignGopsAtStart_(ke),!br){this.gopCache_.unshift({gop:ke.pop(),pps:T.pps,sps:T.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),R=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}ei.clearDtsInfo(T),ke=br}ei.collectDtsInfo(T,ke),T.samples=Za.generateSampleTable(ke),Ke=vl.mdat(Za.concatenateNalData(ke)),T.baseMediaDecodeTime=ei.calculateTrackBaseMediaDecodeTime(T,I.keepOriginalTimestamps),this.trigger("processedGopsInfo",ke.map(function(ar){return{pts:ar.pts,dts:ar.dts,byteLength:ar.byteLength}})),Wt=ke[0],mn=ke[ke.length-1],this.trigger("segmentTimingInfo",F0(T.baseMediaDecodeTime,Wt.dts,Wt.pts,mn.dts+mn.duration,mn.pts+mn.duration,ot)),this.trigger("timingInfo",{start:ke[0].pts,end:ke[ke.length-1].pts+ke[ke.length-1].duration}),this.gopCache_.unshift({gop:ke.pop(),pps:T.pps,sps:T.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),R=[],this.trigger("baseMediaDecodeTime",T.baseMediaDecodeTime),this.trigger("timelineStartInfo",T.timelineStartInfo),Me=vl.moof(B,[T]),Pt=new Uint8Array(Me.byteLength+Ke.byteLength),B++,Pt.set(Me),Pt.set(Ke,Me.byteLength),this.trigger("data",{track:T,boxes:Pt}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),R=[],this.gopCache_.length=0,W.length=0,this.trigger("reset")},this.resetStream_=function(){ei.clearDtsInfo(T),Q=void 0,pe=void 0},this.getGopForFusion_=function(ge){var _e=45e3,ke=1/0,Me,Ke,Pt,ot,Wt;for(Wt=0;Wt<this.gopCache_.length;Wt++)ot=this.gopCache_[Wt],Pt=ot.gop,!(!(T.pps&&L0(T.pps[0],ot.pps[0]))||!(T.sps&&L0(T.sps[0],ot.sps[0])))&&(Pt.dts<T.timelineStartInfo.dts||(Me=ge.dts-Pt.dts-Pt.duration,Me>=-1e4&&Me<=_e&&(!Ke||ke>Me)&&(Ke=ot,ke=Me)));return Ke?Ke.gop:null},this.alignGopsAtStart_=function(ge){var _e,ke,Me,Ke,Pt,ot,Wt,mn;for(Pt=ge.byteLength,ot=ge.nalCount,Wt=ge.duration,_e=ke=0;_e<W.length&&ke<ge.length&&(Me=W[_e],Ke=ge[ke],Me.pts!==Ke.pts);){if(Ke.pts>Me.pts){_e++;continue}ke++,Pt-=Ke.byteLength,ot-=Ke.nalCount,Wt-=Ke.duration}return ke===0?ge:ke===ge.length?null:(mn=ge.slice(ke),mn.byteLength=Pt,mn.duration=Wt,mn.nalCount=ot,mn.pts=mn[0].pts,mn.dts=mn[0].dts,mn)},this.alignGopsAtEnd_=function(ge){var _e,ke,Me,Ke,Pt,ot;for(_e=W.length-1,ke=ge.length-1,Pt=null,ot=!1;_e>=0&&ke>=0;){if(Me=W[_e],Ke=ge[ke],Me.pts===Ke.pts){ot=!0;break}if(Me.pts>Ke.pts){_e--;continue}_e===W.length-1&&(Pt=ke),ke--}if(!ot&&Pt===null)return null;var Wt;if(ot?Wt=ke:Wt=Pt,Wt===0)return ge;var mn=ge.slice(Wt),br=mn.reduce(function(ar,Ui){return ar.byteLength+=Ui.byteLength,ar.duration+=Ui.duration,ar.nalCount+=Ui.nalCount,ar},{byteLength:0,duration:0,nalCount:0});return mn.byteLength=br.byteLength,mn.duration=br.duration,mn.nalCount=br.nalCount,mn.pts=mn[0].pts,mn.dts=mn[0].dts,mn},this.alignGopsWith=function(ge){W=ge}},ih.prototype=new Qa,wl=function(T,I){this.numberOfTracks=0,this.metadataStream=I,T=T||{},typeof T.remux<"u"?this.remuxTracks=!!T.remux:this.remuxTracks=!0,typeof T.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=T.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,wl.prototype.init.call(this),this.push=function(B){if(B.content||B.text)return this.pendingCaptions.push(B);if(B.frames)return this.pendingMetadata.push(B);this.pendingTracks.push(B.track),this.pendingBytes+=B.boxes.byteLength,B.track.type==="video"&&(this.videoTrack=B.track,this.pendingBoxes.push(B.boxes)),B.track.type==="audio"&&(this.audioTrack=B.track,this.pendingBoxes.unshift(B.boxes))}},wl.prototype=new Qa,wl.prototype.flush=function(T){var I=0,B={captions:[],captionStreams:{},metadata:[],info:{}},R,W,Q,pe=0,ge;if(this.pendingTracks.length<this.numberOfTracks){if(T!=="VideoSegmentStream"&&T!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(pe=this.videoTrack.timelineStartInfo.pts,O0.forEach(function(_e){B.info[_e]=this.videoTrack[_e]},this)):this.audioTrack&&(pe=this.audioTrack.timelineStartInfo.pts,sh.forEach(function(_e){B.info[_e]=this.audioTrack[_e]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?B.type=this.pendingTracks[0].type:B.type="combined",this.emittedTracks+=this.pendingTracks.length,Q=vl.initSegment(this.pendingTracks),B.initSegment=new Uint8Array(Q.byteLength),B.initSegment.set(Q),B.data=new Uint8Array(this.pendingBytes),ge=0;ge<this.pendingBoxes.length;ge++)B.data.set(this.pendingBoxes[ge],I),I+=this.pendingBoxes[ge].byteLength;for(ge=0;ge<this.pendingCaptions.length;ge++)R=this.pendingCaptions[ge],R.startTime=Do.metadataTsToSeconds(R.startPts,pe,this.keepOriginalTimestamps),R.endTime=Do.metadataTsToSeconds(R.endPts,pe,this.keepOriginalTimestamps),B.captionStreams[R.stream]=!0,B.captions.push(R);for(ge=0;ge<this.pendingMetadata.length;ge++)W=this.pendingMetadata[ge],W.cueTime=Do.metadataTsToSeconds(W.pts,pe,this.keepOriginalTimestamps),B.metadata.push(W);for(B.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",B),ge=0;ge<B.captions.length;ge++)R=B.captions[ge],this.trigger("caption",R);for(ge=0;ge<B.metadata.length;ge++)W=B.metadata[ge],this.trigger("id3Frame",W)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},wl.prototype.setRemux=function(T){this.remuxTracks=T},ah=function(T){var I=this,B=!0,R,W;ah.prototype.init.call(this),T=T||{},this.baseMediaDecodeTime=T.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var Q={};this.transmuxPipeline_=Q,Q.type="aac",Q.metadataStream=new zi.MetadataStream,Q.aacStream=new uw,Q.audioTimestampRolloverStream=new zi.TimestampRolloverStream("audio"),Q.timedMetadataTimestampRolloverStream=new zi.TimestampRolloverStream("timed-metadata"),Q.adtsStream=new Tu,Q.coalesceStream=new wl(T,Q.metadataStream),Q.headOfPipeline=Q.aacStream,Q.aacStream.pipe(Q.audioTimestampRolloverStream).pipe(Q.adtsStream),Q.aacStream.pipe(Q.timedMetadataTimestampRolloverStream).pipe(Q.metadataStream).pipe(Q.coalesceStream),Q.metadataStream.on("timestamp",function(pe){Q.aacStream.setTimestamp(pe.timeStamp)}),Q.aacStream.on("data",function(pe){pe.type!=="timed-metadata"&&pe.type!=="audio"||Q.audioSegmentStream||(W=W||{timelineStartInfo:{baseMediaDecodeTime:I.baseMediaDecodeTime},codec:"adts",type:"audio"},Q.coalesceStream.numberOfTracks++,Q.audioSegmentStream=new ku(W,T),Q.audioSegmentStream.on("log",I.getLogTrigger_("audioSegmentStream")),Q.audioSegmentStream.on("timingInfo",I.trigger.bind(I,"audioTimingInfo")),Q.adtsStream.pipe(Q.audioSegmentStream).pipe(Q.coalesceStream),I.trigger("trackinfo",{hasAudio:!!W,hasVideo:!!R}))}),Q.coalesceStream.on("data",this.trigger.bind(this,"data")),Q.coalesceStream.on("done",this.trigger.bind(this,"done")),R0(this,Q)},this.setupTsPipeline=function(){var Q={};this.transmuxPipeline_=Q,Q.type="ts",Q.metadataStream=new zi.MetadataStream,Q.packetStream=new zi.TransportPacketStream,Q.parseStream=new zi.TransportParseStream,Q.elementaryStream=new zi.ElementaryStream,Q.timestampRolloverStream=new zi.TimestampRolloverStream,Q.adtsStream=new Tu,Q.h264Stream=new I0,Q.captionStream=new zi.CaptionStream(T),Q.coalesceStream=new wl(T,Q.metadataStream),Q.headOfPipeline=Q.packetStream,Q.packetStream.pipe(Q.parseStream).pipe(Q.elementaryStream).pipe(Q.timestampRolloverStream),Q.timestampRolloverStream.pipe(Q.h264Stream),Q.timestampRolloverStream.pipe(Q.adtsStream),Q.timestampRolloverStream.pipe(Q.metadataStream).pipe(Q.coalesceStream),Q.h264Stream.pipe(Q.captionStream).pipe(Q.coalesceStream),Q.elementaryStream.on("data",function(pe){var ge;if(pe.type==="metadata"){for(ge=pe.tracks.length;ge--;)!R&&pe.tracks[ge].type==="video"?(R=pe.tracks[ge],R.timelineStartInfo.baseMediaDecodeTime=I.baseMediaDecodeTime):!W&&pe.tracks[ge].type==="audio"&&(W=pe.tracks[ge],W.timelineStartInfo.baseMediaDecodeTime=I.baseMediaDecodeTime);R&&!Q.videoSegmentStream&&(Q.coalesceStream.numberOfTracks++,Q.videoSegmentStream=new ih(R,T),Q.videoSegmentStream.on("log",I.getLogTrigger_("videoSegmentStream")),Q.videoSegmentStream.on("timelineStartInfo",function(_e){W&&!T.keepOriginalTimestamps&&(W.timelineStartInfo=_e,Q.audioSegmentStream.setEarliestDts(_e.dts-I.baseMediaDecodeTime))}),Q.videoSegmentStream.on("processedGopsInfo",I.trigger.bind(I,"gopInfo")),Q.videoSegmentStream.on("segmentTimingInfo",I.trigger.bind(I,"videoSegmentTimingInfo")),Q.videoSegmentStream.on("baseMediaDecodeTime",function(_e){W&&Q.audioSegmentStream.setVideoBaseMediaDecodeTime(_e)}),Q.videoSegmentStream.on("timingInfo",I.trigger.bind(I,"videoTimingInfo")),Q.h264Stream.pipe(Q.videoSegmentStream).pipe(Q.coalesceStream)),W&&!Q.audioSegmentStream&&(Q.coalesceStream.numberOfTracks++,Q.audioSegmentStream=new ku(W,T),Q.audioSegmentStream.on("log",I.getLogTrigger_("audioSegmentStream")),Q.audioSegmentStream.on("timingInfo",I.trigger.bind(I,"audioTimingInfo")),Q.audioSegmentStream.on("segmentTimingInfo",I.trigger.bind(I,"audioSegmentTimingInfo")),Q.adtsStream.pipe(Q.audioSegmentStream).pipe(Q.coalesceStream)),I.trigger("trackinfo",{hasAudio:!!W,hasVideo:!!R})}}),Q.coalesceStream.on("data",this.trigger.bind(this,"data")),Q.coalesceStream.on("id3Frame",function(pe){pe.dispatchType=Q.metadataStream.dispatchType,I.trigger("id3Frame",pe)}),Q.coalesceStream.on("caption",this.trigger.bind(this,"caption")),Q.coalesceStream.on("done",this.trigger.bind(this,"done")),R0(this,Q)},this.setBaseMediaDecodeTime=function(Q){var pe=this.transmuxPipeline_;T.keepOriginalTimestamps||(this.baseMediaDecodeTime=Q),W&&(W.timelineStartInfo.dts=void 0,W.timelineStartInfo.pts=void 0,ei.clearDtsInfo(W),pe.audioTimestampRolloverStream&&pe.audioTimestampRolloverStream.discontinuity()),R&&(pe.videoSegmentStream&&(pe.videoSegmentStream.gopCache_=[]),R.timelineStartInfo.dts=void 0,R.timelineStartInfo.pts=void 0,ei.clearDtsInfo(R),pe.captionStream.reset()),pe.timestampRolloverStream&&pe.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(Q){W&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(Q)},this.setRemux=function(Q){var pe=this.transmuxPipeline_;T.remux=Q,pe&&pe.coalesceStream&&pe.coalesceStream.setRemux(Q)},this.alignGopsWith=function(Q){R&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(Q)},this.getLogTrigger_=function(Q){var pe=this;return function(ge){ge.stream=Q,pe.trigger("log",ge)}},this.push=function(Q){if(B){var pe=dw(Q);pe&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!pe&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),B=!1}this.transmuxPipeline_.headOfPipeline.push(Q)},this.flush=function(){B=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},ah.prototype=new Qa;var fw={Transmuxer:ah},Sp=function(T){return T>>>0},pw=function(T){return("00"+T.toString(16)).slice(-2)},oh={toUnsigned:Sp,toHexString:pw},mw=function(T){var I="";return I+=String.fromCharCode(T[0]),I+=String.fromCharCode(T[1]),I+=String.fromCharCode(T[2]),I+=String.fromCharCode(T[3]),I},Cp=mw,gw=oh.toUnsigned,yw=Cp,B0=function(T,I){var B=[],R,W,Q,pe,ge;if(!I.length)return null;for(R=0;R<T.byteLength;)W=gw(T[R]<<24|T[R+1]<<16|T[R+2]<<8|T[R+3]),Q=yw(T.subarray(R+4,R+8)),pe=W>1?R+W:T.byteLength,Q===I[0]&&(I.length===1?B.push(T.subarray(R+8,pe)):(ge=B0(T.subarray(R+8,pe),I.slice(1)),ge.length&&(B=B.concat(ge)))),R=pe;return B},Tp=B0,bw=oh.toUnsigned,xw=i.getUint64,vw=function(T){var I={version:T[0],flags:new Uint8Array(T.subarray(1,4))};return I.version===1?I.baseMediaDecodeTime=xw(T.subarray(4)):I.baseMediaDecodeTime=bw(T[4]<<24|T[5]<<16|T[6]<<8|T[7]),I},Eu=vw,ju=function(T){var I=new DataView(T.buffer,T.byteOffset,T.byteLength),B={version:T[0],flags:new Uint8Array(T.subarray(1,4)),trackId:I.getUint32(4)},R=B.flags[2]&1,W=B.flags[2]&2,Q=B.flags[2]&8,pe=B.flags[2]&16,ge=B.flags[2]&32,_e=B.flags[0]&65536,ke=B.flags[0]&131072,Me;return Me=8,R&&(Me+=4,B.baseDataOffset=I.getUint32(12),Me+=4),W&&(B.sampleDescriptionIndex=I.getUint32(Me),Me+=4),Q&&(B.defaultSampleDuration=I.getUint32(Me),Me+=4),pe&&(B.defaultSampleSize=I.getUint32(Me),Me+=4),ge&&(B.defaultSampleFlags=I.getUint32(Me)),_e&&(B.durationIsEmpty=!0),!R&&ke&&(B.baseDataOffsetIsMoof=!0),B},$0=ju,z0=function(T){return{isLeading:(T[0]&12)>>>2,dependsOn:T[0]&3,isDependedOn:(T[1]&192)>>>6,hasRedundancy:(T[1]&48)>>>4,paddingValue:(T[1]&14)>>>1,isNonSyncSample:T[1]&1,degradationPriority:T[2]<<8|T[3]}},U0=z0,kp=U0,H0=function(T){var I={version:T[0],flags:new Uint8Array(T.subarray(1,4)),samples:[]},B=new DataView(T.buffer,T.byteOffset,T.byteLength),R=I.flags[2]&1,W=I.flags[2]&4,Q=I.flags[1]&1,pe=I.flags[1]&2,ge=I.flags[1]&4,_e=I.flags[1]&8,ke=B.getUint32(4),Me=8,Ke;for(R&&(I.dataOffset=B.getInt32(Me),Me+=4),W&&ke&&(Ke={flags:kp(T.subarray(Me,Me+4))},Me+=4,Q&&(Ke.duration=B.getUint32(Me),Me+=4),pe&&(Ke.size=B.getUint32(Me),Me+=4),_e&&(I.version===1?Ke.compositionTimeOffset=B.getInt32(Me):Ke.compositionTimeOffset=B.getUint32(Me),Me+=4),I.samples.push(Ke),ke--);ke--;)Ke={},Q&&(Ke.duration=B.getUint32(Me),Me+=4),pe&&(Ke.size=B.getUint32(Me),Me+=4),ge&&(Ke.flags=kp(T.subarray(Me,Me+4)),Me+=4),_e&&(I.version===1?Ke.compositionTimeOffset=B.getInt32(Me):Ke.compositionTimeOffset=B.getUint32(Me),Me+=4),I.samples.push(Ke);return I},Ep=H0,_l={tfdt:Eu,trun:Ep},W0={parseTfdt:_l.tfdt,parseTrun:_l.trun},ww=function(T){for(var I=0,B=String.fromCharCode(T[I]),R="";B!=="\0";)R+=B,I++,B=String.fromCharCode(T[I]);return R+=B,R},_w={uint8ToCString:ww},Nu=_w.uint8ToCString,V0=i.getUint64,Au=function(T){var I=4,B=T[0],R,W,Q,pe,ge,_e,ke,Me;if(B===0){R=Nu(T.subarray(I)),I+=R.length,W=Nu(T.subarray(I)),I+=W.length;var Ke=new DataView(T.buffer);Q=Ke.getUint32(I),I+=4,ge=Ke.getUint32(I),I+=4,_e=Ke.getUint32(I),I+=4,ke=Ke.getUint32(I),I+=4}else if(B===1){var Ke=new DataView(T.buffer);Q=Ke.getUint32(I),I+=4,pe=V0(T.subarray(I)),I+=8,_e=Ke.getUint32(I),I+=4,ke=Ke.getUint32(I),I+=4,R=Nu(T.subarray(I)),I+=R.length,W=Nu(T.subarray(I)),I+=W.length}Me=new Uint8Array(T.subarray(I,T.byteLength));var Pt={scheme_id_uri:R,value:W,timescale:Q||1,presentation_time:pe,presentation_time_delta:ge,event_duration:_e,id:ke,message_data:Me};return Sw(B,Pt)?Pt:void 0},Du=function(T,I,B,R){return T||T===0?T/I:R+B/I},Sw=function(T,I){var B=I.scheme_id_uri!=="\0",R=T===0&&Pu(I.presentation_time_delta)&&B,W=T===1&&Pu(I.presentation_time)&&B;return!(T>1)&&R||W},Pu=function(T){return T!==void 0||T!==null},Cw={parseEmsgBox:Au,scaleTime:Du},gc;typeof window<"u"?gc=window:typeof t<"u"?gc=t:typeof self<"u"?gc=self:gc={};var lh=gc,yc=oh.toUnsigned,bc=oh.toHexString,Tr=Tp,Sl=Cp,jp=Cw,Tw=$0,kw=Ep,Ew=Eu,jw=i.getUint64,xi,xc,Np,Ap,Dp,ch,uh,Pp=lh,Nw=ma.parseId3Frames;xi=function(T){var I={},B=Tr(T,["moov","trak"]);return B.reduce(function(R,W){var Q,pe,ge,_e,ke;return Q=Tr(W,["tkhd"])[0],!Q||(pe=Q[0],ge=pe===0?12:20,_e=yc(Q[ge]<<24|Q[ge+1]<<16|Q[ge+2]<<8|Q[ge+3]),ke=Tr(W,["mdia","mdhd"])[0],!ke)?null:(pe=ke[0],ge=pe===0?12:20,R[_e]=yc(ke[ge]<<24|ke[ge+1]<<16|ke[ge+2]<<8|ke[ge+3]),R)},I)},xc=function(T,I){var B;B=Tr(I,["moof","traf"]);var R=B.reduce(function(W,Q){var pe=Tr(Q,["tfhd"])[0],ge=yc(pe[4]<<24|pe[5]<<16|pe[6]<<8|pe[7]),_e=T[ge]||9e4,ke=Tr(Q,["tfdt"])[0],Me=new DataView(ke.buffer,ke.byteOffset,ke.byteLength),Ke;ke[0]===1?Ke=jw(ke.subarray(4,12)):Ke=Me.getUint32(4);let Pt;return typeof Ke=="bigint"?Pt=Ke/Pp.BigInt(_e):typeof Ke=="number"&&!isNaN(Ke)&&(Pt=Ke/_e),Pt<Number.MAX_SAFE_INTEGER&&(Pt=Number(Pt)),Pt<W&&(W=Pt),W},1/0);return typeof R=="bigint"||isFinite(R)?R:0},Np=function(T,I){var B=Tr(I,["moof","traf"]),R=0,W=0,Q;if(B&&B.length){var pe=Tr(B[0],["tfhd"])[0],ge=Tr(B[0],["trun"])[0],_e=Tr(B[0],["tfdt"])[0];if(pe){var ke=Tw(pe);Q=ke.trackId}if(_e){var Me=Ew(_e);R=Me.baseMediaDecodeTime}if(ge){var Ke=kw(ge);Ke.samples&&Ke.samples.length&&(W=Ke.samples[0].compositionTimeOffset||0)}}var Pt=T[Q]||9e4;typeof R=="bigint"&&(W=Pp.BigInt(W),Pt=Pp.BigInt(Pt));var ot=(R+W)/Pt;return typeof ot=="bigint"&&ot<Number.MAX_SAFE_INTEGER&&(ot=Number(ot)),ot},Ap=function(T){var I=Tr(T,["moov","trak"]),B=[];return I.forEach(function(R){var W=Tr(R,["mdia","hdlr"]),Q=Tr(R,["tkhd"]);W.forEach(function(pe,ge){var _e=Sl(pe.subarray(8,12)),ke=Q[ge],Me,Ke,Pt;_e==="vide"&&(Me=new DataView(ke.buffer,ke.byteOffset,ke.byteLength),Ke=Me.getUint8(0),Pt=Ke===0?Me.getUint32(12):Me.getUint32(20),B.push(Pt))})}),B},ch=function(T){var I=T[0],B=I===0?12:20;return yc(T[B]<<24|T[B+1]<<16|T[B+2]<<8|T[B+3])},Dp=function(T){var I=Tr(T,["moov","trak"]),B=[];return I.forEach(function(R){var W={},Q=Tr(R,["tkhd"])[0],pe,ge;Q&&(pe=new DataView(Q.buffer,Q.byteOffset,Q.byteLength),ge=pe.getUint8(0),W.id=ge===0?pe.getUint32(12):pe.getUint32(20));var _e=Tr(R,["mdia","hdlr"])[0];if(_e){var ke=Sl(_e.subarray(8,12));ke==="vide"?W.type="video":ke==="soun"?W.type="audio":W.type=ke}var Me=Tr(R,["mdia","minf","stbl","stsd"])[0];if(Me){var Ke=Me.subarray(8);W.codec=Sl(Ke.subarray(4,8));var Pt=Tr(Ke,[W.codec])[0],ot,Wt;Pt&&(/^[asm]vc[1-9]$/i.test(W.codec)?(ot=Pt.subarray(78),Wt=Sl(ot.subarray(4,8)),Wt==="avcC"&&ot.length>11?(W.codec+=".",W.codec+=bc(ot[9]),W.codec+=bc(ot[10]),W.codec+=bc(ot[11])):W.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(W.codec)?(ot=Pt.subarray(28),Wt=Sl(ot.subarray(4,8)),Wt==="esds"&&ot.length>20&&ot[19]!==0?(W.codec+="."+bc(ot[19]),W.codec+="."+bc(ot[20]>>>2&63).replace(/^0/,"")):W.codec="mp4a.40.2"):W.codec=W.codec.toLowerCase())}var mn=Tr(R,["mdia","mdhd"])[0];mn&&(W.timescale=ch(mn)),B.push(W)}),B},uh=function(T,I=0){var B=Tr(T,["emsg"]);return B.map(R=>{var W=jp.parseEmsgBox(new Uint8Array(R)),Q=Nw(W.message_data);return{cueTime:jp.scaleTime(W.presentation_time,W.timescale,W.presentation_time_delta,I),duration:jp.scaleTime(W.event_duration,W.timescale),frames:Q}})};var ga={findBox:Tr,parseType:Sl,timescale:xi,startTime:xc,compositionStartTime:Np,videoTrackIds:Ap,tracks:Dp,getTimescaleFromMediaHeader:ch,getEmsgID3:uh};const{parseTrun:Ip}=W0,{findBox:vc}=ga;var dh=lh,q0=function(T){var I=vc(T,["moof","traf"]),B=vc(T,["mdat"]),R=[];return B.forEach(function(W,Q){var pe=I[Q];R.push({mdat:W,traf:pe})}),R},hh=function(T,I,B){var R=I,W=B.defaultSampleDuration||0,Q=B.defaultSampleSize||0,pe=B.trackId,ge=[];return T.forEach(function(_e){var ke=Ip(_e),Me=ke.samples;Me.forEach(function(Ke){Ke.duration===void 0&&(Ke.duration=W),Ke.size===void 0&&(Ke.size=Q),Ke.trackId=pe,Ke.dts=R,Ke.compositionTimeOffset===void 0&&(Ke.compositionTimeOffset=0),typeof R=="bigint"?(Ke.pts=R+dh.BigInt(Ke.compositionTimeOffset),R+=dh.BigInt(Ke.duration)):(Ke.pts=R+Ke.compositionTimeOffset,R+=Ke.duration)}),ge=ge.concat(Me)}),ge},Cl={getMdatTrafPairs:q0,parseSamples:hh},Op=Ir.discardEmulationPreventionBytes,Y0=ml.CaptionStream,wc=Tp,G0=Eu,K0=$0,{getMdatTrafPairs:X0,parseSamples:Q0}=Cl,Z0=function(T,I){for(var B=T,R=0;R<I.length;R++){var W=I[R];if(B<W.size)return W;B-=W.size}return null},J0=function(T,I,B){var R=new DataView(T.buffer,T.byteOffset,T.byteLength),W={logs:[],seiNals:[]},Q,pe,ge,_e;for(pe=0;pe+4<T.length;pe+=ge)if(ge=R.getUint32(pe),pe+=4,!(ge<=0))switch(T[pe]&31){case 6:var ke=T.subarray(pe+1,pe+1+ge),Me=Z0(pe,I);if(Q={nalUnitType:"sei_rbsp",size:ge,data:ke,escapedRBSP:Op(ke),trackId:B},Me)Q.pts=Me.pts,Q.dts=Me.dts,_e=Me;else if(_e)Q.pts=_e.pts,Q.dts=_e.dts;else{W.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+pe+" for trackId "+B+". See mux.js#223."});break}W.seiNals.push(Q);break}return W},Po=function(T,I){var B={},R=X0(T);return R.forEach(function(W){var Q=W.mdat,pe=W.traf,ge=wc(pe,["tfhd"]),_e=K0(ge[0]),ke=_e.trackId,Me=wc(pe,["tfdt"]),Ke=Me.length>0?G0(Me[0]).baseMediaDecodeTime:0,Pt=wc(pe,["trun"]),ot,Wt;I===ke&&Pt.length>0&&(ot=Q0(Pt,Ke,_e),Wt=J0(Q,ot,ke),B[ke]||(B[ke]={seiNals:[],logs:[]}),B[ke].seiNals=B[ke].seiNals.concat(Wt.seiNals),B[ke].logs=B[ke].logs.concat(Wt.logs))}),B},Mp=function(T,I,B){var R;if(I===null)return null;R=Po(T,I);var W=R[I]||{};return{seiNals:W.seiNals,logs:W.logs,timescale:B}},Rp=function(){var T=!1,I,B,R,W,Q,pe;this.isInitialized=function(){return T},this.init=function(ge){I=new Y0,T=!0,pe=ge?ge.isPartial:!1,I.on("data",function(_e){_e.startTime=_e.startPts/W,_e.endTime=_e.endPts/W,Q.captions.push(_e),Q.captionStreams[_e.stream]=!0}),I.on("log",function(_e){Q.logs.push(_e)})},this.isNewInit=function(ge,_e){return ge&&ge.length===0||_e&&typeof _e=="object"&&Object.keys(_e).length===0?!1:R!==ge[0]||W!==_e[R]},this.parse=function(ge,_e,ke){var Me;if(this.isInitialized()){if(!_e||!ke)return null;if(this.isNewInit(_e,ke))R=_e[0],W=ke[R];else if(R===null||!W)return B.push(ge),null}else return null;for(;B.length>0;){var Ke=B.shift();this.parse(Ke,_e,ke)}return Me=Mp(ge,R,W),Me&&Me.logs&&(Q.logs=Q.logs.concat(Me.logs)),Me===null||!Me.seiNals?Q.logs.length?{logs:Q.logs,captions:[],captionStreams:[]}:null:(this.pushNals(Me.seiNals),this.flushStream(),Q)},this.pushNals=function(ge){if(!this.isInitialized()||!ge||ge.length===0)return null;ge.forEach(function(_e){I.push(_e)})},this.flushStream=function(){if(!this.isInitialized())return null;pe?I.partialFlush():I.flush()},this.clearParsedCaptions=function(){Q.captions=[],Q.captionStreams={},Q.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;I.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){B=[],R=null,W=null,Q?this.clearParsedCaptions():Q={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},Aw=Rp;const{parseTfdt:Dw}=W0,vi=Tp,{getTimescaleFromMediaHeader:Pw}=ga,{parseSamples:ey,getMdatTrafPairs:ty}=Cl;var fh=function(){let T=9e4;this.init=function(I){const B=vi(I,["moov","trak","mdia","mdhd"])[0];B&&(T=Pw(B))},this.parseSegment=function(I){const B=[],R=ty(I);let W=0;return R.forEach(function(Q){const pe=Q.mdat,ge=Q.traf,_e=vi(ge,["tfdt"])[0],ke=vi(ge,["tfhd"])[0],Me=vi(ge,["trun"]);if(_e&&(W=Dw(_e).baseMediaDecodeTime),Me.length&&ke){const Ke=ey(Me,W,ke);let Pt=0;Ke.forEach(function(ot){const Wt="utf-8",mn=new TextDecoder(Wt),br=pe.slice(Pt,Pt+ot.size);if(vi(br,["vtte"])[0]){Pt+=ot.size;return}vi(br,["vttc"]).forEach(function(Ec){const jc=vi(Ec,["payl"])[0],Mo=vi(Ec,["sttg"])[0],Nc=ot.pts/T,wi=(ot.pts+ot.duration)/T;let Xn,Tl;if(jc)try{Xn=mn.decode(jc)}catch(_i){console.error(_i)}if(Mo)try{Tl=mn.decode(Mo)}catch(_i){console.error(_i)}ot.duration&&Xn&&B.push({cueText:Xn,start:Nc,end:wi,settings:Tl})}),Pt+=ot.size})}}),B}},_c=Co,Sc=function(T){var I=T[1]&31;return I<<=8,I|=T[2],I},Iu=function(T){return!!(T[1]&64)},Cc=function(T){var I=0;return(T[3]&48)>>>4>1&&(I+=T[4]+1),I},Ou=function(T,I){var B=Sc(T);return B===0?"pat":B===I?"pmt":I?"pes":null},ph=function(T){var I=Iu(T),B=4+Cc(T);return I&&(B+=T[B]+1),(T[B+10]&31)<<8|T[B+11]},Tc=function(T){var I={},B=Iu(T),R=4+Cc(T);if(B&&(R+=T[R]+1),!!(T[R+5]&1)){var W,Q,pe;W=(T[R+1]&15)<<8|T[R+2],Q=3+W-4,pe=(T[R+10]&15)<<8|T[R+11];for(var ge=12+pe;ge<Q;){var _e=R+ge;I[(T[_e+1]&31)<<8|T[_e+2]]=T[_e],ge+=((T[_e+3]&15)<<8|T[_e+4])+5}return I}},ny=function(T,I){var B=Sc(T),R=I[B];switch(R){case _c.H264_STREAM_TYPE:return"video";case _c.ADTS_STREAM_TYPE:return"audio";case _c.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},Iw=function(T){var I=Iu(T);if(!I)return null;var B=4+Cc(T);if(B>=T.byteLength)return null;var R=null,W;return W=T[B+7],W&192&&(R={},R.pts=(T[B+9]&14)<<27|(T[B+10]&255)<<20|(T[B+11]&254)<<12|(T[B+12]&255)<<5|(T[B+13]&254)>>>3,R.pts*=4,R.pts+=(T[B+13]&6)>>>1,R.dts=R.pts,W&64&&(R.dts=(T[B+14]&14)<<27|(T[B+15]&255)<<20|(T[B+16]&254)<<12|(T[B+17]&255)<<5|(T[B+18]&254)>>>3,R.dts*=4,R.dts+=(T[B+18]&6)>>>1)),R},Lp=function(T){switch(T){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},ry=function(T){for(var I=4+Cc(T),B=T.subarray(I),R=0,W=0,Q=!1,pe;W<B.byteLength-3;W++)if(B[W+2]===1){R=W+5;break}for(;R<B.byteLength;)switch(B[R]){case 0:if(B[R-1]!==0){R+=2;break}else if(B[R-2]!==0){R++;break}W+3!==R-2&&(pe=Lp(B[W+3]&31),pe==="slice_layer_without_partitioning_rbsp_idr"&&(Q=!0));do R++;while(B[R]!==1&&R<B.length);W=R-2,R+=3;break;case 1:if(B[R-1]!==0||B[R-2]!==0){R+=3;break}pe=Lp(B[W+3]&31),pe==="slice_layer_without_partitioning_rbsp_idr"&&(Q=!0),W=R-2,R+=3;break;default:R+=3;break}return B=B.subarray(W),R-=W,W=0,B&&B.byteLength>3&&(pe=Lp(B[W+3]&31),pe==="slice_layer_without_partitioning_rbsp_idr"&&(Q=!0)),Q},mh={parseType:Ou,parsePat:ph,parsePmt:Tc,parsePayloadUnitStartIndicator:Iu,parsePesType:ny,parsePesTime:Iw,videoPacketContainsKeyFrame:ry},Mu=Co,Io=yl.handleRollover,Ln={};Ln.ts=mh,Ln.aac=Jd;var Ja=tt.ONE_SECOND_IN_TS,ls=188,ya=71,sy=function(T,I){for(var B=0,R=ls,W,Q;R<T.byteLength;){if(T[B]===ya&&T[R]===ya){switch(W=T.subarray(B,R),Q=Ln.ts.parseType(W,I.pid),Q){case"pat":I.pid=Ln.ts.parsePat(W);break;case"pmt":var pe=Ln.ts.parsePmt(W);I.table=I.table||{},Object.keys(pe).forEach(function(ge){I.table[ge]=pe[ge]});break}B+=ls,R+=ls;continue}B++,R++}},iy=function(T,I,B){for(var R=0,W=ls,Q,pe,ge,_e,ke,Me=!1;W<=T.byteLength;){if(T[R]===ya&&(T[W]===ya||W===T.byteLength)){switch(Q=T.subarray(R,W),pe=Ln.ts.parseType(Q,I.pid),pe){case"pes":ge=Ln.ts.parsePesType(Q,I.table),_e=Ln.ts.parsePayloadUnitStartIndicator(Q),ge==="audio"&&_e&&(ke=Ln.ts.parsePesTime(Q),ke&&(ke.type="audio",B.audio.push(ke),Me=!0));break}if(Me)break;R+=ls,W+=ls;continue}R++,W++}for(W=T.byteLength,R=W-ls,Me=!1;R>=0;){if(T[R]===ya&&(T[W]===ya||W===T.byteLength)){switch(Q=T.subarray(R,W),pe=Ln.ts.parseType(Q,I.pid),pe){case"pes":ge=Ln.ts.parsePesType(Q,I.table),_e=Ln.ts.parsePayloadUnitStartIndicator(Q),ge==="audio"&&_e&&(ke=Ln.ts.parsePesTime(Q),ke&&(ke.type="audio",B.audio.push(ke),Me=!0));break}if(Me)break;R-=ls,W-=ls;continue}R--,W--}},Ow=function(T,I,B){for(var R=0,W=ls,Q,pe,ge,_e,ke,Me,Ke,Pt,ot=!1,Wt={data:[],size:0};W<T.byteLength;){if(T[R]===ya&&T[W]===ya){switch(Q=T.subarray(R,W),pe=Ln.ts.parseType(Q,I.pid),pe){case"pes":if(ge=Ln.ts.parsePesType(Q,I.table),_e=Ln.ts.parsePayloadUnitStartIndicator(Q),ge==="video"&&(_e&&!ot&&(ke=Ln.ts.parsePesTime(Q),ke&&(ke.type="video",B.video.push(ke),ot=!0)),!B.firstKeyFrame)){if(_e&&Wt.size!==0){for(Me=new Uint8Array(Wt.size),Ke=0;Wt.data.length;)Pt=Wt.data.shift(),Me.set(Pt,Ke),Ke+=Pt.byteLength;if(Ln.ts.videoPacketContainsKeyFrame(Me)){var mn=Ln.ts.parsePesTime(Me);mn?(B.firstKeyFrame=mn,B.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}Wt.size=0}Wt.data.push(Q),Wt.size+=Q.byteLength}break}if(ot&&B.firstKeyFrame)break;R+=ls,W+=ls;continue}R++,W++}for(W=T.byteLength,R=W-ls,ot=!1;R>=0;){if(T[R]===ya&&T[W]===ya){switch(Q=T.subarray(R,W),pe=Ln.ts.parseType(Q,I.pid),pe){case"pes":ge=Ln.ts.parsePesType(Q,I.table),_e=Ln.ts.parsePayloadUnitStartIndicator(Q),ge==="video"&&_e&&(ke=Ln.ts.parsePesTime(Q),ke&&(ke.type="video",B.video.push(ke),ot=!0));break}if(ot)break;R-=ls,W-=ls;continue}R--,W--}},Fp=function(T,I){if(T.audio&&T.audio.length){var B=I;(typeof B>"u"||isNaN(B))&&(B=T.audio[0].dts),T.audio.forEach(function(Q){Q.dts=Io(Q.dts,B),Q.pts=Io(Q.pts,B),Q.dtsTime=Q.dts/Ja,Q.ptsTime=Q.pts/Ja})}if(T.video&&T.video.length){var R=I;if((typeof R>"u"||isNaN(R))&&(R=T.video[0].dts),T.video.forEach(function(Q){Q.dts=Io(Q.dts,R),Q.pts=Io(Q.pts,R),Q.dtsTime=Q.dts/Ja,Q.ptsTime=Q.pts/Ja}),T.firstKeyFrame){var W=T.firstKeyFrame;W.dts=Io(W.dts,R),W.pts=Io(W.pts,R),W.dtsTime=W.dts/Ja,W.ptsTime=W.pts/Ja}}},Oo=function(T){for(var I=!1,B=0,R=null,W=null,Q=0,pe=0,ge;T.length-pe>=3;){var _e=Ln.aac.parseType(T,pe);switch(_e){case"timed-metadata":if(T.length-pe<10){I=!0;break}if(Q=Ln.aac.parseId3TagSize(T,pe),Q>T.length){I=!0;break}W===null&&(ge=T.subarray(pe,pe+Q),W=Ln.aac.parseAacTimestamp(ge)),pe+=Q;break;case"audio":if(T.length-pe<7){I=!0;break}if(Q=Ln.aac.parseAdtsSize(T,pe),Q>T.length){I=!0;break}R===null&&(ge=T.subarray(pe,pe+Q),R=Ln.aac.parseSampleRate(ge)),B++,pe+=Q;break;default:pe++;break}if(I)return null}if(R===null||W===null)return null;var ke=Ja/R,Me={audio:[{type:"audio",dts:W,pts:W},{type:"audio",dts:W+B*1024*ke,pts:W+B*1024*ke}]};return Me},ay=function(T){var I={pid:null,table:null},B={};sy(T,I);for(var R in I.table)if(I.table.hasOwnProperty(R)){var W=I.table[R];switch(W){case Mu.H264_STREAM_TYPE:B.video=[],Ow(T,I,B),B.video.length===0&&delete B.video;break;case Mu.ADTS_STREAM_TYPE:B.audio=[],iy(T,I,B),B.audio.length===0&&delete B.audio;break}}return B},kc=function(T,I){var B=Ln.aac.isLikelyAacData(T),R;return B?R=Oo(T):R=ay(T),!R||!R.audio&&!R.video?null:(Fp(R,I),R)},ba={inspect:kc,parseAudioPes_:iy};const Ru=function(T,I){I.on("data",function(B){const R=B.initSegment;B.initSegment={data:R.buffer,byteOffset:R.byteOffset,byteLength:R.byteLength};const W=B.data;B.data=W.buffer,T.postMessage({action:"data",segment:B,byteOffset:W.byteOffset,byteLength:W.byteLength},[B.data])}),I.on("done",function(B){T.postMessage({action:"done"})}),I.on("gopInfo",function(B){T.postMessage({action:"gopInfo",gopInfo:B})}),I.on("videoSegmentTimingInfo",function(B){const R={start:{decode:tt.videoTsToSeconds(B.start.dts),presentation:tt.videoTsToSeconds(B.start.pts)},end:{decode:tt.videoTsToSeconds(B.end.dts),presentation:tt.videoTsToSeconds(B.end.pts)},baseMediaDecodeTime:tt.videoTsToSeconds(B.baseMediaDecodeTime)};B.prependedContentDuration&&(R.prependedContentDuration=tt.videoTsToSeconds(B.prependedContentDuration)),T.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:R})}),I.on("audioSegmentTimingInfo",function(B){const R={start:{decode:tt.videoTsToSeconds(B.start.dts),presentation:tt.videoTsToSeconds(B.start.pts)},end:{decode:tt.videoTsToSeconds(B.end.dts),presentation:tt.videoTsToSeconds(B.end.pts)},baseMediaDecodeTime:tt.videoTsToSeconds(B.baseMediaDecodeTime)};B.prependedContentDuration&&(R.prependedContentDuration=tt.videoTsToSeconds(B.prependedContentDuration)),T.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:R})}),I.on("id3Frame",function(B){T.postMessage({action:"id3Frame",id3Frame:B})}),I.on("caption",function(B){T.postMessage({action:"caption",caption:B})}),I.on("trackinfo",function(B){T.postMessage({action:"trackinfo",trackInfo:B})}),I.on("audioTimingInfo",function(B){T.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:tt.videoTsToSeconds(B.start),end:tt.videoTsToSeconds(B.end)}})}),I.on("videoTimingInfo",function(B){T.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:tt.videoTsToSeconds(B.start),end:tt.videoTsToSeconds(B.end)}})}),I.on("log",function(B){T.postMessage({action:"log",log:B})})};class xa{constructor(I,B){this.options=B||{},this.self=I,this.init()}init(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new fw.Transmuxer(this.options),Ru(this.self,this.transmuxer)}pushMp4Captions(I){this.captionParser||(this.captionParser=new Aw,this.captionParser.init());const B=new Uint8Array(I.data,I.byteOffset,I.byteLength),R=this.captionParser.parse(B,I.trackIds,I.timescales);this.self.postMessage({action:"mp4Captions",captions:R&&R.captions||[],logs:R&&R.logs||[],data:B.buffer},[B.buffer])}initMp4WebVttParser(I){this.webVttParser||(this.webVttParser=new fh);const B=new Uint8Array(I.data,I.byteOffset,I.byteLength);this.webVttParser.init(B)}getMp4WebVttText(I){this.webVttParser||(this.webVttParser=new fh);const B=new Uint8Array(I.data,I.byteOffset,I.byteLength),R=this.webVttParser.parseSegment(B);this.self.postMessage({action:"getMp4WebVttText",mp4VttCues:R||[],data:B.buffer},[B.buffer])}probeMp4StartTime({timescales:I,data:B}){const R=ga.startTime(I,B);this.self.postMessage({action:"probeMp4StartTime",startTime:R,data:B},[B.buffer])}probeMp4Tracks({data:I}){const B=ga.tracks(I);this.self.postMessage({action:"probeMp4Tracks",tracks:B,data:I},[I.buffer])}probeEmsgID3({data:I,offset:B}){const R=ga.getEmsgID3(I,B);this.self.postMessage({action:"probeEmsgID3",id3Frames:R,emsgData:I},[I.buffer])}probeTs({data:I,baseStartTime:B}){const R=typeof B=="number"&&!isNaN(B)?B*tt.ONE_SECOND_IN_TS:void 0,W=ba.inspect(I,R);let Q=null;W&&(Q={hasVideo:W.video&&W.video.length===2||!1,hasAudio:W.audio&&W.audio.length===2||!1},Q.hasVideo&&(Q.videoStart=W.video[0].ptsTime),Q.hasAudio&&(Q.audioStart=W.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:Q,data:I},[I.buffer])}clearAllMp4Captions(){this.captionParser&&this.captionParser.clearAllCaptions()}clearParsedMp4Captions(){this.captionParser&&this.captionParser.clearParsedCaptions()}push(I){const B=new Uint8Array(I.data,I.byteOffset,I.byteLength);this.transmuxer.push(B)}reset(){this.transmuxer.reset()}setTimestampOffset(I){const B=I.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(tt.secondsToVideoTs(B)))}setAudioAppendStart(I){this.transmuxer.setAudioAppendStart(Math.ceil(tt.secondsToVideoTs(I.appendStart)))}setRemux(I){this.transmuxer.setRemux(I.remux)}flush(I){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})}endTimeline(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})}alignGopsWith(I){this.transmuxer.alignGopsWith(I.gopsToAlignWith.slice())}}self.onmessage=function(T){if(T.data.action==="init"&&T.data.options){this.messageHandlers=new xa(self,T.data.options);return}this.messageHandlers||(this.messageHandlers=new xa(self)),T.data&&T.data.action&&T.data.action!=="init"&&this.messageHandlers[T.data.action]&&this.messageHandlers[T.data.action](T.data)}}));var P0e=$7(D0e);const I0e=(t,e,n)=>{const{type:r,initSegment:s,captions:i,captionStreams:a,metadata:l,videoFrameDtsTime:c,videoFramePtsTime:u}=t.data.segment;e.buffer.push({captions:i,captionStreams:a,metadata:l});const h=t.data.segment.boxes||{data:t.data.segment.data},f={type:r,data:new Uint8Array(h.data,h.data.byteOffset,h.data.byteLength),initSegment:new Uint8Array(s.data,s.byteOffset,s.byteLength)};typeof c<"u"&&(f.videoFrameDtsTime=c),typeof u<"u"&&(f.videoFramePtsTime=u),n(f)},O0e=({transmuxedData:t,callback:e})=>{t.buffer=[],e(t)},M0e=(t,e)=>{e.gopInfo=t.data.gopInfo},H7=t=>{const{transmuxer:e,bytes:n,audioAppendStart:r,gopsToAlignWith:s,remux:i,onData:a,onTrackInfo:l,onAudioTimingInfo:c,onVideoTimingInfo:u,onVideoSegmentTimingInfo:h,onAudioSegmentTimingInfo:f,onId3:m,onCaptions:g,onDone:b,onEndedTimeline:y,onTransmuxerLog:x,isEndOfTimeline:w,segment:C,triggerSegmentEventFn:k}=t,A={buffer:[]};let N=w;const P=L=>{e.currentTransmux===t&&(L.data.action==="data"&&I0e(L,A,a),L.data.action==="trackinfo"&&l(L.data.trackInfo),L.data.action==="gopInfo"&&M0e(L,A),L.data.action==="audioTimingInfo"&&c(L.data.audioTimingInfo),L.data.action==="videoTimingInfo"&&u(L.data.videoTimingInfo),L.data.action==="videoSegmentTimingInfo"&&h(L.data.videoSegmentTimingInfo),L.data.action==="audioSegmentTimingInfo"&&f(L.data.audioSegmentTimingInfo),L.data.action==="id3Frame"&&m([L.data.id3Frame],L.data.id3Frame.dispatchType),L.data.action==="caption"&&g(L.data.caption),L.data.action==="endedtimeline"&&(N=!1,y()),L.data.action==="log"&&x(L.data.log),L.data.type==="transmuxed"&&(N||(e.onmessage=null,O0e({transmuxedData:A,callback:b}),W7(e))))},M=()=>{const L={message:"Received an error message from the transmuxer worker",metadata:{errorType:Qe.Error.StreamingFailedToTransmuxSegment,segmentInfo:ud({segment:C})}};b(null,L)};if(e.onmessage=P,e.onerror=M,r&&e.postMessage({action:"setAudioAppendStart",appendStart:r}),Array.isArray(s)&&e.postMessage({action:"alignGopsWith",gopsToAlignWith:s}),typeof i<"u"&&e.postMessage({action:"setRemux",remux:i}),n.byteLength){const L=n instanceof ArrayBuffer?n:n.buffer,D=n instanceof ArrayBuffer?0:n.byteOffset;k({type:"segmenttransmuxingstart",segment:C}),e.postMessage({action:"push",data:L,byteOffset:D,byteLength:n.byteLength},[L])}w&&e.postMessage({action:"endTimeline"}),e.postMessage({action:"flush"})},W7=t=>{t.currentTransmux=null,t.transmuxQueue.length&&(t.currentTransmux=t.transmuxQueue.shift(),typeof t.currentTransmux=="function"?t.currentTransmux():H7(t.currentTransmux))},QP=(t,e)=>{t.postMessage({action:e}),W7(t)},V7=(t,e)=>{if(!e.currentTransmux){e.currentTransmux=t,QP(e,t);return}e.transmuxQueue.push(QP.bind(null,e,t))},R0e=t=>{V7("reset",t)},L0e=t=>{V7("endTimeline",t)},q7=t=>{if(!t.transmuxer.currentTransmux){t.transmuxer.currentTransmux=t,H7(t);return}t.transmuxer.transmuxQueue.push(t)},F0e=t=>{const e=new P0e;e.currentTransmux=null,e.transmuxQueue=[];const n=e.terminate;return e.terminate=()=>(e.currentTransmux=null,e.transmuxQueue.length=0,n.call(e)),e.postMessage({action:"init",options:t}),e};var cS={reset:R0e,endTimeline:L0e,transmux:q7,createTransmuxer:F0e};const yf=function(t){const e=t.transmuxer,n=t.endAction||t.action,r=t.callback,s=Ot({},t,{endAction:null,transmuxer:null,callback:null}),i=a=>{a.data.action===n&&(e.removeEventListener("message",i),a.data.data&&(a.data.data=new Uint8Array(a.data.data,t.byteOffset||0,t.byteLength||a.data.data.byteLength),t.data&&(t.data=a.data.data)),r(a.data))};if(e.addEventListener("message",i),t.data){const a=t.data instanceof ArrayBuffer;s.byteOffset=a?0:t.data.byteOffset,s.byteLength=t.data.byteLength;const l=[a?t.data:t.data.buffer];e.postMessage(s,l)}else e.postMessage(s)},nl={FAILURE:2,TIMEOUT:-101,ABORTED:-102},Y7="wvtt",hT=t=>{t.forEach(e=>{e.abort()})},B0e=t=>({bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}),$0e=t=>{const e=t.target,r={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-e.requestTime||0};return r.bytesReceived=t.loaded,r.bandwidth=Math.floor(r.bytesReceived/r.roundTripTime*8*1e3),r},Aj=(t,e)=>{const{requestType:n}=e,r=jd({requestType:n,request:e,error:t});return e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:nl.TIMEOUT,xhr:e,metadata:r}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:nl.ABORTED,xhr:e,metadata:r}:t?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:nl.FAILURE,xhr:e,metadata:r}:e.responseType==="arraybuffer"&&e.response.byteLength===0?{status:e.status,message:"Empty HLS response at URL: "+e.uri,code:nl.FAILURE,xhr:e,metadata:r}:null},ZP=(t,e,n,r)=>(s,i)=>{const a=i.response,l=Aj(s,i);if(l)return n(l,t);if(a.byteLength!==16)return n({status:i.status,message:"Invalid HLS key at URL: "+i.uri,code:nl.FAILURE,xhr:i},t);const c=new DataView(a),u=new Uint32Array([c.getUint32(0),c.getUint32(4),c.getUint32(8),c.getUint32(12)]);for(let f=0;f<e.length;f++)e[f].bytes=u;const h={uri:i.uri};return r({type:"segmentkeyloadcomplete",segment:t,keyInfo:h}),n(null,t)},z0e=(t,e)=>{e===Y7&&t.transmuxer.postMessage({action:"initMp4WebVttParser",data:t.map.bytes})},U0e=(t,e,n)=>{e===Y7&&yf({action:"getMp4WebVttText",data:t.bytes,transmuxer:t.transmuxer,callback:({data:r,mp4VttCues:s})=>{t.bytes=r,n(null,t,{mp4VttCues:s})}})},G7=(t,e)=>{const n=ej(t.map.bytes);if(n!=="mp4"){const r=t.map.resolvedUri||t.map.uri,s=n||"unknown";return e({internal:!0,message:`Found unsupported ${s} container for initialization segment at URL: ${r}`,code:nl.FAILURE,metadata:{mediaType:s}})}yf({action:"probeMp4Tracks",data:t.map.bytes,transmuxer:t.transmuxer,callback:({tracks:r,data:s})=>(t.map.bytes=s,r.forEach(function(i){t.map.tracks=t.map.tracks||{},!t.map.tracks[i.type]&&(t.map.tracks[i.type]=i,typeof i.id=="number"&&i.timescale&&(t.map.timescales=t.map.timescales||{},t.map.timescales[i.id]=i.timescale),i.type==="text"&&z0e(t,i.codec))}),e(null))})},H0e=({segment:t,finishProcessingFn:e,triggerSegmentEventFn:n})=>(r,s)=>{const i=Aj(r,s);if(i)return e(i,t);const a=new Uint8Array(s.response);if(n({type:"segmentloaded",segment:t}),t.map.key)return t.map.encryptedBytes=a,e(null,t);t.map.bytes=a,G7(t,function(l){if(l)return l.xhr=s,l.status=s.status,e(l,t);e(null,t)})},W0e=({segment:t,finishProcessingFn:e,responseType:n,triggerSegmentEventFn:r})=>(s,i)=>{const a=Aj(s,i);if(a)return e(a,t);r({type:"segmentloaded",segment:t});const l=n==="arraybuffer"||!i.responseText?i.response:N0e(i.responseText.substring(t.lastReachedChar||0));return t.stats=B0e(i),t.key?t.encryptedBytes=new Uint8Array(l):t.bytes=new Uint8Array(l),e(null,t)},V0e=({segment:t,bytes:e,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:i,id3Fn:a,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:u,dataFn:h,doneFn:f,onTransmuxerLog:m,triggerSegmentEventFn:g})=>{const b=t.map&&t.map.tracks||{},y=!!(b.audio&&b.video);let x=r.bind(null,t,"audio","start");const w=r.bind(null,t,"audio","end");let C=r.bind(null,t,"video","start");const k=r.bind(null,t,"video","end"),A=()=>q7({bytes:e,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,remux:y,onData:N=>{N.type=N.type==="combined"?"video":N.type,h(t,N)},onTrackInfo:N=>{n&&(y&&(N.isMuxed=!0),n(t,N))},onAudioTimingInfo:N=>{x&&typeof N.start<"u"&&(x(N.start),x=null),w&&typeof N.end<"u"&&w(N.end)},onVideoTimingInfo:N=>{C&&typeof N.start<"u"&&(C(N.start),C=null),k&&typeof N.end<"u"&&k(N.end)},onVideoSegmentTimingInfo:N=>{const P={pts:{start:N.start.presentation,end:N.end.presentation},dts:{start:N.start.decode,end:N.end.decode}};g({type:"segmenttransmuxingtiminginfoavailable",segment:t,timingInfo:P}),s(N)},onAudioSegmentTimingInfo:N=>{const P={pts:{start:N.start.pts,end:N.end.pts},dts:{start:N.start.dts,end:N.end.dts}};g({type:"segmenttransmuxingtiminginfoavailable",segment:t,timingInfo:P}),i(N)},onId3:(N,P)=>{a(t,N,P)},onCaptions:N=>{l(t,[N])},isEndOfTimeline:c,onEndedTimeline:()=>{u()},onTransmuxerLog:m,onDone:(N,P)=>{f&&(N.type=N.type==="combined"?"video":N.type,g({type:"segmenttransmuxingcomplete",segment:t}),f(P,t,N))},segment:t,triggerSegmentEventFn:g});yf({action:"probeTs",transmuxer:t.transmuxer,data:e,baseStartTime:t.baseStartTime,callback:N=>{t.bytes=e=N.data;const P=N.result;P&&(n(t,{hasAudio:P.hasAudio,hasVideo:P.hasVideo,isMuxed:y}),n=null),A()}})},K7=({segment:t,bytes:e,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:i,id3Fn:a,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:u,dataFn:h,doneFn:f,onTransmuxerLog:m,triggerSegmentEventFn:g})=>{let b=new Uint8Array(e);if(ume(b)){t.isFmp4=!0;const{tracks:y}=t.map;if(y.text&&(!y.audio||!y.video)){h(t,{data:b,type:"text"}),U0e(t,y.text.codec,f);return}const w={isFmp4:!0,hasVideo:!!y.video,hasAudio:!!y.audio};y.audio&&y.audio.codec&&y.audio.codec!=="enca"&&(w.audioCodec=y.audio.codec),y.video&&y.video.codec&&y.video.codec!=="encv"&&(w.videoCodec=y.video.codec),y.video&&y.audio&&(w.isMuxed=!0),n(t,w);const C=(k,A)=>{h(t,{data:b,type:w.hasAudio&&!w.isMuxed?"audio":"video"}),A&&A.length&&a(t,A),k&&k.length&&l(t,k),f(null,t,{})};yf({action:"probeMp4StartTime",timescales:t.map.timescales,data:b,transmuxer:t.transmuxer,callback:({data:k,startTime:A})=>{e=k.buffer,t.bytes=b=k,w.hasAudio&&!w.isMuxed&&r(t,"audio","start",A),w.hasVideo&&r(t,"video","start",A),yf({action:"probeEmsgID3",data:b,transmuxer:t.transmuxer,offset:A,callback:({emsgData:N,id3Frames:P})=>{if(e=N.buffer,t.bytes=b=N,!y.video||!N.byteLength||!t.transmuxer){C(void 0,P);return}yf({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:t.transmuxer,data:b,timescales:t.map.timescales,trackIds:[y.video.id],callback:M=>{e=M.data.buffer,t.bytes=b=M.data,M.logs.forEach(function(L){m(Jn(L,{stream:"mp4CaptionParser"}))}),C(M.captions,P)}})}})}});return}if(!t.transmuxer){f(null,t,{});return}if(typeof t.container>"u"&&(t.container=ej(b)),t.container!=="ts"&&t.container!=="aac"){n(t,{hasAudio:!1,hasVideo:!1}),f(null,t,{});return}V0e({segment:t,bytes:e,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:i,id3Fn:a,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:u,dataFn:h,doneFn:f,onTransmuxerLog:m,triggerSegmentEventFn:g})},X7=function({id:t,key:e,encryptedBytes:n,decryptionWorker:r,segment:s,doneFn:i},a){const l=u=>{if(u.data.source===t){r.removeEventListener("message",l);const h=u.data.decrypted;a(new Uint8Array(h.bytes,h.byteOffset,h.byteLength))}};r.onerror=()=>{const u="An error occurred in the decryption worker",h=ud({segment:s}),f={message:u,metadata:{error:new Error(u),errorType:Qe.Error.StreamingFailedToDecryptSegment,segmentInfo:h,keyInfo:{uri:s.key.resolvedUri||s.map.key.resolvedUri}}};i(f,s)},r.addEventListener("message",l);let c;e.bytes.slice?c=e.bytes.slice():c=new Uint32Array(Array.prototype.slice.call(e.bytes)),r.postMessage(O7({source:t,encrypted:n,key:c,iv:e.iv}),[n.buffer,c.buffer])},q0e=({decryptionWorker:t,segment:e,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:i,id3Fn:a,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:u,dataFn:h,doneFn:f,onTransmuxerLog:m,triggerSegmentEventFn:g})=>{g({type:"segmentdecryptionstart"}),X7({id:e.requestId,key:e.key,encryptedBytes:e.encryptedBytes,decryptionWorker:t,segment:e,doneFn:f},b=>{e.bytes=b,g({type:"segmentdecryptioncomplete",segment:e}),K7({segment:e,bytes:e.bytes,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:i,id3Fn:a,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:u,dataFn:h,doneFn:f,onTransmuxerLog:m,triggerSegmentEventFn:g})})},Y0e=({activeXhrs:t,decryptionWorker:e,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:i,id3Fn:a,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:u,dataFn:h,doneFn:f,onTransmuxerLog:m,triggerSegmentEventFn:g})=>{let b=0,y=!1;return(x,w)=>{if(!y){if(x)return y=!0,hT(t),f(x,w);if(b+=1,b===t.length){const C=function(){if(w.encryptedBytes)return q0e({decryptionWorker:e,segment:w,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:i,id3Fn:a,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:u,dataFn:h,doneFn:f,onTransmuxerLog:m,triggerSegmentEventFn:g});K7({segment:w,bytes:w.bytes,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:i,id3Fn:a,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:u,dataFn:h,doneFn:f,onTransmuxerLog:m,triggerSegmentEventFn:g})};if(w.endOfAllRequests=Date.now(),w.map&&w.map.encryptedBytes&&!w.map.bytes)return g({type:"segmentdecryptionstart",segment:w}),X7({decryptionWorker:e,id:w.requestId+"-init",encryptedBytes:w.map.encryptedBytes,key:w.map.key,segment:w,doneFn:f},k=>{w.map.bytes=k,g({type:"segmentdecryptioncomplete",segment:w}),G7(w,A=>{if(A)return hT(t),f(A,w);C()})});C()}}}},G0e=({loadendState:t,abortFn:e})=>n=>{n.target.aborted&&e&&!t.calledAbortFn&&(e(),t.calledAbortFn=!0)},K0e=({segment:t,progressFn:e,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:i,id3Fn:a,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:u,dataFn:h})=>f=>{if(!f.target.aborted)return t.stats=Jn(t.stats,$0e(f)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),e(f,t)},X0e=({xhr:t,xhrOptions:e,decryptionWorker:n,segment:r,abortFn:s,progressFn:i,trackInfoFn:a,timingInfoFn:l,videoSegmentTimingInfoFn:c,audioSegmentTimingInfoFn:u,id3Fn:h,captionsFn:f,isEndOfTimeline:m,endedTimelineFn:g,dataFn:b,doneFn:y,onTransmuxerLog:x,triggerSegmentEventFn:w})=>{const C=[],k=Y0e({activeXhrs:C,decryptionWorker:n,trackInfoFn:a,timingInfoFn:l,videoSegmentTimingInfoFn:c,audioSegmentTimingInfoFn:u,id3Fn:h,captionsFn:f,isEndOfTimeline:m,endedTimelineFn:g,dataFn:b,doneFn:y,onTransmuxerLog:x,triggerSegmentEventFn:w});if(r.key&&!r.key.bytes){const L=[r.key];r.map&&!r.map.bytes&&r.map.key&&r.map.key.resolvedUri===r.key.resolvedUri&&L.push(r.map.key);const D=Jn(e,{uri:r.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),S=ZP(r,L,k,w),z={uri:r.key.resolvedUri};w({type:"segmentkeyloadstart",segment:r,keyInfo:z});const O=t(D,S);C.push(O)}if(r.map&&!r.map.bytes){if(r.map.key&&(!r.key||r.key.resolvedUri!==r.map.key.resolvedUri)){const O=Jn(e,{uri:r.map.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),U=ZP(r,[r.map.key],k,w),j={uri:r.map.key.resolvedUri};w({type:"segmentkeyloadstart",segment:r,keyInfo:j});const V=t(O,U);C.push(V)}const D=Jn(e,{uri:r.map.resolvedUri,responseType:"arraybuffer",headers:uT(r.map),requestType:"segment-media-initialization"}),S=H0e({segment:r,finishProcessingFn:k,triggerSegmentEventFn:w});w({type:"segmentloadstart",segment:r});const z=t(D,S);C.push(z)}const A=Jn(e,{uri:r.part&&r.part.resolvedUri||r.resolvedUri,responseType:"arraybuffer",headers:uT(r),requestType:"segment"}),N=W0e({segment:r,finishProcessingFn:k,responseType:A.responseType,triggerSegmentEventFn:w});w({type:"segmentloadstart",segment:r});const P=t(A,N);P.addEventListener("progress",K0e({segment:r,progressFn:i,trackInfoFn:a,timingInfoFn:l,videoSegmentTimingInfoFn:c,audioSegmentTimingInfoFn:u,id3Fn:h,captionsFn:f,isEndOfTimeline:m,endedTimelineFn:g,dataFn:b})),C.push(P);const M={};return C.forEach(L=>{L.addEventListener("loadend",G0e({loadendState:M,abortFn:s}))}),()=>hT(C)},xb=Ga("PlaylistSelector"),JP=function(t){if(!t||!t.playlist)return;const e=t.playlist;return JSON.stringify({id:e.id,bandwidth:t.bandwidth,width:t.width,height:t.height,codecs:e.attributes&&e.attributes.CODECS||""})},bf=function(t,e){if(!t)return"";const n=Se.getComputedStyle(t);return n?n[e]:""},xf=function(t,e){const n=t.slice();t.sort(function(r,s){const i=e(r,s);return i===0?n.indexOf(r)-n.indexOf(s):i})},Dj=function(t,e){let n,r;return t.attributes.BANDWIDTH&&(n=t.attributes.BANDWIDTH),n=n||Se.Number.MAX_VALUE,e.attributes.BANDWIDTH&&(r=e.attributes.BANDWIDTH),r=r||Se.Number.MAX_VALUE,n-r},Q0e=function(t,e){let n,r;return t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(n=t.attributes.RESOLUTION.width),n=n||Se.Number.MAX_VALUE,e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(r=e.attributes.RESOLUTION.width),r=r||Se.Number.MAX_VALUE,n===r&&t.attributes.BANDWIDTH&&e.attributes.BANDWIDTH?t.attributes.BANDWIDTH-e.attributes.BANDWIDTH:n-r};let Q7=function(t){const{main:e,bandwidth:n,playerWidth:r,playerHeight:s,playerObjectFit:i,limitRenditionByPlayerDimensions:a,playlistController:l}=t;if(!e)return;const c={bandwidth:n,width:r,height:s,limitRenditionByPlayerDimensions:a};let u=e.playlists;Pi.isAudioOnly(e)&&(u=l.getAudioTrackPlaylists_(),c.audioOnly=!0);let h=u.map(M=>{let L;const D=M.attributes&&M.attributes.RESOLUTION&&M.attributes.RESOLUTION.width,S=M.attributes&&M.attributes.RESOLUTION&&M.attributes.RESOLUTION.height;return L=M.attributes&&M.attributes.BANDWIDTH,L=L||Se.Number.MAX_VALUE,{bandwidth:L,width:D,height:S,playlist:M}});xf(h,(M,L)=>M.bandwidth-L.bandwidth),h=h.filter(M=>!Pi.isIncompatible(M.playlist));let f=h.filter(M=>Pi.isEnabled(M.playlist));f.length||(f=h.filter(M=>!Pi.isDisabled(M.playlist)));const m=f.filter(M=>M.bandwidth*vs.BANDWIDTH_VARIANCE<n);let g=m[m.length-1];const b=m.filter(M=>M.bandwidth===g.bandwidth)[0];if(a===!1){const M=b||f[0]||h[0];if(M&&M.playlist){let L="sortedPlaylistReps";return b&&(L="bandwidthBestRep"),f[0]&&(L="enabledPlaylistReps"),xb(`choosing ${JP(M)} using ${L} with options`,c),M.playlist}return xb("could not choose a playlist with options",c),null}const y=m.filter(M=>M.width&&M.height);xf(y,(M,L)=>M.width-L.width);const x=y.filter(M=>M.width===r&&M.height===s);g=x[x.length-1];const w=x.filter(M=>M.bandwidth===g.bandwidth)[0];let C,k,A;w||(C=y.filter(M=>i==="cover"?M.width>r&&M.height>s:M.width>r||M.height>s),k=C.filter(M=>M.width===C[0].width&&M.height===C[0].height),g=k[k.length-1],A=k.filter(M=>M.bandwidth===g.bandwidth)[0]);let N;if(l.leastPixelDiffSelector){const M=y.map(L=>(L.pixelDiff=Math.abs(L.width-r)+Math.abs(L.height-s),L));xf(M,(L,D)=>L.pixelDiff===D.pixelDiff?D.bandwidth-L.bandwidth:L.pixelDiff-D.pixelDiff),N=M[0]}const P=N||A||w||b||f[0]||h[0];if(P&&P.playlist){let M="sortedPlaylistReps";return N?M="leastPixelDiffRep":A?M="resolutionPlusOneRep":w?M="resolutionBestRep":b?M="bandwidthBestRep":f[0]&&(M="enabledPlaylistReps"),xb(`choosing ${JP(P)} using ${M} with options`,c),P.playlist}return xb("could not choose a playlist with options",c),null};const eI=function(){let t=this.useDevicePixelRatio&&Se.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(t=this.customPixelRatio),Q7({main:this.playlists.main,bandwidth:this.systemBandwidth,playerWidth:parseInt(bf(this.tech_.el(),"width"),10)*t,playerHeight:parseInt(bf(this.tech_.el(),"height"),10)*t,playerObjectFit:this.usePlayerObjectFit?bf(this.tech_.el(),"objectFit"):"",limitRenditionByPlayerDimensions:this.limitRenditionByPlayerDimensions,playlistController:this.playlistController_})},Z0e=function(t){let e=-1,n=-1;if(t<0||t>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){let r=this.useDevicePixelRatio&&Se.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(r=this.customPixelRatio),e<0&&(e=this.systemBandwidth,n=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==n&&(e=t*this.systemBandwidth+(1-t)*e,n=this.systemBandwidth),Q7({main:this.playlists.main,bandwidth:e,playerWidth:parseInt(bf(this.tech_.el(),"width"),10)*r,playerHeight:parseInt(bf(this.tech_.el(),"height"),10)*r,playerObjectFit:this.usePlayerObjectFit?bf(this.tech_.el(),"objectFit"):"",limitRenditionByPlayerDimensions:this.limitRenditionByPlayerDimensions,playlistController:this.playlistController_})}},J0e=function(t){const{main:e,currentTime:n,bandwidth:r,duration:s,segmentDuration:i,timeUntilRebuffer:a,currentTimeline:l,syncController:c}=t,u=e.playlists.filter(b=>!Pi.isIncompatible(b));let h=u.filter(Pi.isEnabled);h.length||(h=u.filter(b=>!Pi.isDisabled(b)));const m=h.filter(Pi.hasAttribute.bind(null,"BANDWIDTH")).map(b=>{const x=c.getSyncPoint(b,s,l,n)?1:2,C=Pi.estimateSegmentRequestTime(i,r,b)*x-a;return{playlist:b,rebufferingImpact:C}}),g=m.filter(b=>b.rebufferingImpact<=0);return xf(g,(b,y)=>Dj(y.playlist,b.playlist)),g.length?g[0]:(xf(m,(b,y)=>b.rebufferingImpact-y.rebufferingImpact),m[0]||null)},eye=function(){const t=this.playlists.main.playlists.filter(Pi.isEnabled);return xf(t,(n,r)=>Dj(n,r)),t.filter(n=>!!Gm(this.playlists.main,n).video)[0]||null},tye=t=>{let e=0,n;return t.bytes&&(n=new Uint8Array(t.bytes),t.segments.forEach(r=>{n.set(r,e),e+=r.byteLength})),n};function Z7(t){try{return new URL(t).pathname.split("/").slice(-2).join("/")}catch{return""}}const nye=function(t,e,n){if(!t[n]){e.trigger({type:"usage",name:"vhs-608"});let r=n;/^cc708_/.test(n)&&(r="SERVICE"+n.split("_")[1]);const s=e.textTracks().getTrackById(r);if(s)t[n]=s;else{const i=e.options_.vhs&&e.options_.vhs.captionServices||{};let a=n,l=n,c=!1;const u=i[r];u&&(a=u.label,l=u.language,c=u.default),t[n]=e.addRemoteTextTrack({kind:"captions",id:r,default:c,label:a,language:l},!1).track}}},rye=function({inbandTextTracks:t,captionArray:e,timestampOffset:n}){if(!e)return;const r=Se.WebKitDataCue||Se.VTTCue;e.forEach(s=>{const i=s.stream;s.content?s.content.forEach(a=>{const l=new r(s.startTime+n,s.endTime+n,a.text);l.line=a.line,l.align="left",l.position=a.position,l.positionAlign="line-left",t[i].addCue(l)}):t[i].addCue(new r(s.startTime+n,s.endTime+n,s.text))})},sye=function(t){Object.defineProperties(t.frame,{id:{get(){return Qe.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get(){return Qe.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get(){return Qe.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})},iye=({inbandTextTracks:t,metadataArray:e,timestampOffset:n,videoDuration:r})=>{if(!e)return;const s=Se.WebKitDataCue||Se.VTTCue,i=t.metadataTrack_;if(!i||(e.forEach(h=>{const f=h.cueTime+n;typeof f!="number"||Se.isNaN(f)||f<0||!(f<1/0)||!h.frames||!h.frames.length||h.frames.forEach(m=>{const g=new s(f,f,m.value||m.url||m.data||"");g.frame=m,g.value=m,sye(g),i.addCue(g)})}),!i.cues||!i.cues.length))return;const a=i.cues,l=[];for(let h=0;h<a.length;h++)a[h]&&l.push(a[h]);const c=l.reduce((h,f)=>{const m=h[f.startTime]||[];return m.push(f),h[f.startTime]=m,h},{}),u=Object.keys(c).sort((h,f)=>Number(h)-Number(f));u.forEach((h,f)=>{const m=c[h],g=isFinite(r)?r:h,b=Number(u[f+1])||g;m.forEach(y=>{y.endTime=b})})},aye={id:"ID",class:"CLASS",startDate:"START-DATE",duration:"DURATION",endDate:"END-DATE",endOnNext:"END-ON-NEXT",plannedDuration:"PLANNED-DURATION",scte35Out:"SCTE35-OUT",scte35In:"SCTE35-IN"},oye=new Set(["id","class","startDate","duration","endDate","endOnNext","startTime","endTime","processDateRange"]),lye=({inbandTextTracks:t,dateRanges:e})=>{const n=t.metadataTrack_;if(!n)return;const r=Se.WebKitDataCue||Se.VTTCue;e.forEach(s=>{for(const i of Object.keys(s)){if(oye.has(i))continue;const a=new r(s.startTime,s.endTime,"");a.id=s.id,a.type="com.apple.quicktime.HLS",a.value={key:aye[i],data:s[i]},(i==="scte35Out"||i==="scte35In")&&(a.value.data=new Uint8Array(a.value.data.match(/[\da-f]{2}/gi)).buffer),n.addCue(a)}s.processDateRange()})},tI=(t,e,n)=>{t.metadataTrack_||(t.metadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,Qe.browser.IS_ANY_SAFARI||(t.metadataTrack_.inBandMetadataTrackDispatchType=e))},Pm=function(t,e,n){let r,s;if(n&&n.cues)for(r=n.cues.length;r--;)s=n.cues[r],s.startTime>=t&&s.endTime<=e&&n.removeCue(s)},cye=function(t){const e=t.cues;if(!e)return;const n={};for(let r=e.length-1;r>=0;r--){const s=e[r],i=`${s.startTime}-${s.endTime}-${s.text}`;n[i]?t.removeCue(s):n[i]=s}},uye=(t,e,n)=>{if(typeof e>"u"||e===null||!t.length)return[];const r=Math.ceil((e-n+3)*gd.ONE_SECOND_IN_TS);let s;for(s=0;s<t.length&&!(t[s].pts>r);s++);return t.slice(s)},dye=(t,e,n)=>{if(!e.length)return t;if(n)return e.slice();const r=e[0].pts;let s=0;for(s;s<t.length&&!(t[s].pts>=r);s++);return t.slice(0,s).concat(e)},hye=(t,e,n,r)=>{const s=Math.ceil((e-r)*gd.ONE_SECOND_IN_TS),i=Math.ceil((n-r)*gd.ONE_SECOND_IN_TS),a=t.slice();let l=t.length;for(;l--&&!(t[l].pts<=i););if(l===-1)return a;let c=l+1;for(;c--&&!(t[c].pts<=s););return c=Math.max(c,0),a.splice(c,l-c+1),a},fye=function(t,e){if(!t&&!e||!t&&e||t&&!e)return!1;if(t===e)return!0;const n=Object.keys(t).sort(),r=Object.keys(e).sort();if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++){const i=n[s];if(i!==r[s]||t[i]!==e[i])return!1}return!0},pye=function(t,e,n){e=e||[];const r=[];let s=0;for(let i=0;i<e.length;i++){const a=e[i];if(t===a.timeline&&(r.push(i),s+=a.duration,s>n))return i}return r.length===0?0:r[r.length-1]},pm=1,mye=500,nI=t=>typeof t=="number"&&isFinite(t),vb=1/60,gye=(t,e,n)=>t!=="main"||!e||!n?null:!n.hasAudio&&!n.hasVideo?"Neither audio nor video found in segment.":e.hasVideo&&!n.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!e.hasVideo&&n.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null,yye=(t,e,n)=>{let r=e-vs.BACK_BUFFER_LENGTH;t.length&&(r=Math.max(r,t.start(0)));const s=e-n;return Math.min(s,r)},Uh=t=>{const{startOfSegment:e,duration:n,segment:r,part:s,playlist:{mediaSequence:i,id:a,segments:l=[]},mediaIndex:c,partIndex:u,timeline:h}=t,f=l.length-1;let m="mediaIndex/partIndex increment";t.getMediaInfoForTime?m=`getMediaInfoForTime (${t.getMediaInfoForTime})`:t.isSyncRequest&&(m="getSyncSegmentCandidate (isSyncRequest)"),t.independent&&(m+=` with independent ${t.independent}`);const g=typeof u=="number",b=t.segment.uri?"segment":"pre-segment",y=g?g7({preloadSegment:r})-1:0;return`${b} [${i+c}/${i+f}]`+(g?` part [${u}/${y}]`:"")+` segment start/end [${r.start} => ${r.end}]`+(g?` part start/end [${s.start} => ${s.end}]`:"")+` startOfSegment [${e}] duration [${n}] timeline [${h}] selected by [${m}] playlist [${a}]`},rI=t=>`${t}TimingInfo`,bye=({segmentTimeline:t,currentTimeline:e,startOfSegment:n,buffered:r,overrideCheck:s})=>!s&&t===e?null:t<e?n:r.length?r.end(r.length-1):n,fT=({timelineChangeController:t,currentTimeline:e,segmentTimeline:n,loaderType:r,audioDisabled:s})=>{if(e===n)return!1;if(r==="audio"){const i=t.lastTimelineChange({type:"main"});return!i||i.to!==n}if(r==="main"&&s){const i=t.pendingTimelineChange({type:"audio"});return!(i&&i.to===n)}return!1},xye=t=>{if(!t)return!1;const e=t.pendingTimelineChange({type:"audio"}),n=t.pendingTimelineChange({type:"main"}),r=e&&n,s=r&&e.to!==n.to;return!!(r&&e.from!==-1&&n.from!==-1&&s)},vye=t=>{const e=t.timelineChangeController_.pendingTimelineChange({type:"audio"}),n=t.timelineChangeController_.pendingTimelineChange({type:"main"});return e&&n&&e.to<n.to},Hc=t=>{const e=t.pendingSegment_;if(!e)return;if(fT({timelineChangeController:t.timelineChangeController_,currentTimeline:t.currentTimeline_,segmentTimeline:e.timeline,loaderType:t.loaderType_,audioDisabled:t.audioDisabled_})&&xye(t.timelineChangeController_)){if(vye(t)){t.timelineChangeController_.trigger("audioTimelineBehind");return}t.timelineChangeController_.trigger("fixBadTimelineChange")}},wye=t=>{let e=0;return["video","audio"].forEach(function(n){const r=t[`${n}TimingInfo`];if(!r)return;const{start:s,end:i}=r;let a;typeof s=="bigint"||typeof i=="bigint"?a=Se.BigInt(i)-Se.BigInt(s):typeof s=="number"&&typeof i=="number"&&(a=i-s),typeof a<"u"&&a>e&&(e=a)}),typeof e=="bigint"&&e<Number.MAX_SAFE_INTEGER&&(e=Number(e)),e},sI=({segmentDuration:t,maxDuration:e})=>t?Math.round(t)>e+el:!1,_ye=(t,e)=>{if(e!=="hls")return null;const n=wye({audioTimingInfo:t.audioTimingInfo,videoTimingInfo:t.videoTimingInfo});if(!n)return null;const r=t.playlist.targetDuration,s=sI({segmentDuration:n,maxDuration:r*2}),i=sI({segmentDuration:n,maxDuration:r}),a=`Segment with index ${t.mediaIndex} from playlist ${t.playlist.id} has a duration of ${n} when the reported duration is ${t.duration} and the target duration is ${r}. For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1`;return s||i?{severity:s?"warn":"info",message:a}:null},ud=({type:t,segment:e})=>{if(!e)return;const n=!!(e.key||e.map&&e.map.ke),r=!!(e.map&&!e.map.bytes),s=e.startOfSegment===void 0?e.start:e.startOfSegment;return{type:t||e.type,uri:e.resolvedUri||e.uri,start:s,duration:e.duration,isEncrypted:n,isMediaInitialization:r}};class pT extends Qe.EventTarget{constructor(e,n={}){if(super(),!e)throw new TypeError("Initialization settings are required");if(typeof e.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");this.bandwidth=e.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.partIndex=null,this.hasPlayed_=e.hasPlayed,this.currentTime_=e.currentTime,this.seekable_=e.seekable,this.seeking_=e.seeking,this.duration_=e.duration,this.mediaSource_=e.mediaSource,this.vhs_=e.vhs,this.loaderType_=e.loaderType,this.currentMediaInfo_=void 0,this.startingMediaInfo_=void 0,this.segmentMetadataTrack_=e.segmentMetadataTrack,this.goalBufferLength_=e.goalBufferLength,this.sourceType_=e.sourceType,this.sourceUpdater_=e.sourceUpdater,this.inbandTextTracks_=e.inbandTextTracks,this.state_="INIT",this.timelineChangeController_=e.timelineChangeController,this.shouldSaveSegmentTimingInfo_=!0,this.parse708captions_=e.parse708captions,this.useDtsForTimestampOffset_=e.useDtsForTimestampOffset,this.captionServices_=e.captionServices,this.exactManifestTimings=e.exactManifestTimings,this.addMetadataToTextTrack=e.addMetadataToTextTrack,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.shouldForceTimestampOffsetAfterResync_=!1,this.pendingSegment_=null,this.xhrOptions_=null,this.pendingSegments_=[],this.audioDisabled_=!1,this.isPendingTimestampOffset_=!1,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=!1,this.appendInitSegment_={audio:!0,video:!0},this.playlistOfLastInitSegment_={audio:null,video:null},this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_={id3:[],caption:[]},this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.cacheEncryptionKeys_=e.cacheEncryptionKeys,this.keyCache_={},this.decrypter_=e.decrypter,this.syncController_=e.syncController,this.syncPoint_={segmentIndex:0,time:0},this.transmuxer_=this.createTransmuxer_(),this.triggerSyncInfoUpdate_=()=>this.trigger("syncinfoupdate"),this.syncController_.on("syncinfoupdate",this.triggerSyncInfoUpdate_),this.mediaSource_.addEventListener("sourceopen",()=>{this.isEndOfStream_()||(this.ended_=!1)}),this.fetchAtBuffer_=!1,this.logger_=Ga(`SegmentLoader[${this.loaderType_}]`),Object.defineProperty(this,"state",{get(){return this.state_},set(r){r!==this.state_&&(this.logger_(`${this.state_} -> ${r}`),this.state_=r,this.trigger("statechange"))}}),this.sourceUpdater_.on("ready",()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():Hc(this)}),this.sourceUpdater_.on("codecschange",r=>{this.trigger(Ot({type:"codecschange"},r))}),this.loaderType_==="main"&&this.timelineChangeController_.on("pendingtimelinechange",()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():Hc(this)}),this.loaderType_==="audio"&&this.timelineChangeController_.on("timelinechange",r=>{this.trigger(Ot({type:"timelinechange"},r)),this.hasEnoughInfoToLoad_()?this.processLoadQueue_():Hc(this),this.hasEnoughInfoToAppend_()?this.processCallQueue_():Hc(this)})}get mediaSequenceSync_(){return this.syncController_.getMediaSequenceSync(this.loaderType_)}createTransmuxer_(){return cS.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})}resetStats_(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0}dispose(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&Se.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()}setAudio(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())}abort(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null),this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()}abort_(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,Se.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null}checkForAbort_(e){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==e}error(e){return typeof e<"u"&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_}endOfStream(){this.ended_=!0,this.transmuxer_&&cS.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")}buffered_(){const e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return Cs();if(this.loaderType_==="main"){const{hasAudio:n,hasVideo:r,isMuxed:s}=e;if(r&&n&&!this.audioDisabled_&&!s)return this.sourceUpdater_.buffered();if(r)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()}initSegmentForMap(e,n=!1){if(!e)return null;const r=ov(e);let s=this.initSegments_[r];return n&&!s&&e.bytes&&(this.initSegments_[r]=s={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),s||e}segmentKey(e,n=!1){if(!e)return null;const r=M7(e);let s=this.keyCache_[r];this.cacheEncryptionKeys_&&n&&!s&&e.bytes&&(this.keyCache_[r]=s={resolvedUri:e.resolvedUri,bytes:e.bytes});const i={resolvedUri:(s||e).resolvedUri};return s&&(i.bytes=s.bytes),i}couldBeginLoading_(){return this.playlist_&&!this.paused()}load(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}playlist(e,n={}){if(!e||this.playlist_&&this.playlist_.endList&&e.endList&&this.playlist_.uri===e.uri)return;const r=this.playlist_,s=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=n,this.state==="INIT"&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(e));let i=null;if(r&&(r.id?i=r.id:r.uri&&(i=r.uri)),this.logger_(`playlist update [${i} => ${e.id||e.uri}]`),this.mediaSequenceSync_&&(this.mediaSequenceSync_.update(e,this.currentTime_()),this.logger_(`Playlist update:
currentTime: ${this.currentTime_()}
bufferedEnd: ${oS(this.buffered_())}
`,this.mediaSequenceSync_.diagnostics)),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!r||r.uri!==e.uri){this.mediaIndex!==null&&(!e.endList&&typeof e.partTargetDuration=="number"?this.resetLoader():this.resyncLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}const a=e.mediaSequence-r.mediaSequence;if(this.logger_(`live window shift [${a}]`),this.mediaIndex!==null)if(this.mediaIndex-=a,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{const l=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!l.parts||!l.parts.length||!l.parts[this.partIndex])){const c=this.mediaIndex;this.logger_(`currently processing part (index ${this.partIndex}) no longer exists.`),this.resetLoader(),this.mediaIndex=c}}s&&(s.mediaIndex-=a,s.mediaIndex<0?(s.mediaIndex=null,s.partIndex=null):(s.mediaIndex>=0&&(s.segment=e.segments[s.mediaIndex]),s.partIndex>=0&&s.segment.parts&&(s.part=s.segment.parts[s.partIndex]))),this.syncController_.saveExpiredSegmentInfo(r,e)}pause(){this.checkBufferTimeout_&&(Se.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}paused(){return this.checkBufferTimeout_===null}resetEverything(e){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))}resetLoader(){this.fetchAtBuffer_=!1,this.mediaSequenceSync_&&this.mediaSequenceSync_.resetAppendedStatus(),this.resyncLoader()}resyncLoader(){this.transmuxer_&&cS.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1;const e=this.currentMediaInfo_&&this.currentMediaInfo_.isFmp4;this.sourceType_==="hls"&&!e&&(this.shouldForceTimestampOffsetAfterResync_=!0),this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}remove(e,n,r=()=>{},s=!1){if(n===1/0&&(n=this.duration_()),n<=e){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}let i=1;const a=()=>{i--,i===0&&r()};(s||!this.audioDisabled_)&&(i++,this.sourceUpdater_.removeAudio(e,n,a)),(s||this.loaderType_==="main")&&(this.gopBuffer_=hye(this.gopBuffer_,e,n,this.timeMapping_),i++,this.sourceUpdater_.removeVideo(e,n,a));for(const l in this.inbandTextTracks_)Pm(e,n,this.inbandTextTracks_[l]);Pm(e,n,this.segmentMetadataTrack_),a()}monitorBuffer_(){this.checkBufferTimeout_&&Se.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=Se.setTimeout(this.monitorBufferTick_.bind(this),1)}monitorBufferTick_(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&Se.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=Se.setTimeout(this.monitorBufferTick_.bind(this),mye)}fillBuffer_(){if(this.sourceUpdater_.updating())return;const e=this.chooseNextRequest_();if(!e)return;const n={segmentInfo:ud({type:this.loaderType_,segment:e})};this.trigger({type:"segmentselected",metadata:n}),typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e)}isEndOfStream_(e=this.mediaIndex,n=this.playlist_,r=this.partIndex){if(!n||!this.mediaSource_)return!1;const s=typeof e=="number"&&n.segments[e],i=e+1===n.segments.length,a=!s||!s.parts||r+1===s.parts.length;return n.endList&&this.mediaSource_.readyState==="open"&&i&&a}chooseNextRequest_(){const e=this.buffered_(),n=oS(e)||0,r=kj(e,this.currentTime_()),s=!this.hasPlayed_()&&r>=1,i=r>=this.goalBufferLength_(),a=this.playlist_.segments;if(!a.length||s||i)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_(),this.loaderType_);const l={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:!this.syncPoint_};if(l.isSyncRequest)l.mediaIndex=pye(this.currentTimeline_,a,n),this.logger_(`choose next request. Can not find sync point. Fallback to media Index: ${l.mediaIndex}`);else if(this.mediaIndex!==null){const m=a[this.mediaIndex],g=typeof this.partIndex=="number"?this.partIndex:-1;l.startOfSegment=m.end?m.end:n,m.parts&&m.parts[g+1]?(l.mediaIndex=this.mediaIndex,l.partIndex=g+1):l.mediaIndex=this.mediaIndex+1}else{let m,g,b;const y=this.fetchAtBuffer_?n:this.currentTime_();if(this.mediaSequenceSync_&&this.logger_(`chooseNextRequest_ request after Quality Switch:
For TargetTime: ${y}.
CurrentTime: ${this.currentTime_()}
BufferedEnd: ${n}
Fetch At Buffer: ${this.fetchAtBuffer_}
`,this.mediaSequenceSync_.diagnostics),this.mediaSequenceSync_&&this.mediaSequenceSync_.isReliable){const x=this.getSyncInfoFromMediaSequenceSync_(y);if(!x){const w="No sync info found while using media sequence sync";return this.error({message:w,metadata:{errorType:Qe.Error.StreamingFailedToSelectNextSegment,error:new Error(w)}}),this.logger_("chooseNextRequest_ - no sync info found using media sequence sync"),null}this.logger_(`chooseNextRequest_ mediaSequence syncInfo (${x.start} --> ${x.end})`),m=x.segmentIndex,g=x.partIndex,b=x.start}else{this.logger_("chooseNextRequest_ - fallback to a regular segment selection algorithm, based on a syncPoint.");const x=Pi.getMediaInfoForTime({exactManifestTimings:this.exactManifestTimings,playlist:this.playlist_,currentTime:y,startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time});m=x.segmentIndex,g=x.partIndex,b=x.startTime}l.getMediaInfoForTime=this.fetchAtBuffer_?`bufferedEnd ${y}`:`currentTime ${y}`,l.mediaIndex=m,l.startOfSegment=b,l.partIndex=g,this.logger_(`choose next request. Playlist switched and we have a sync point. Media Index: ${l.mediaIndex} `)}const c=a[l.mediaIndex];let u=c&&typeof l.partIndex=="number"&&c.parts&&c.parts[l.partIndex];if(!c||typeof l.partIndex=="number"&&!u)return null;typeof l.partIndex!="number"&&c.parts&&(l.partIndex=0,u=c.parts[0]);const h=this.vhs_.playlists&&this.vhs_.playlists.main&&this.vhs_.playlists.main.independentSegments||this.playlist_.independentSegments;if(!r&&u&&!h&&!u.independent)if(l.partIndex===0){const m=a[l.mediaIndex-1],g=m.parts&&m.parts.length&&m.parts[m.parts.length-1];g&&g.independent&&(l.mediaIndex-=1,l.partIndex=m.parts.length-1,l.independent="previous segment")}else c.parts[l.partIndex-1].independent&&(l.partIndex-=1,l.independent="previous part");const f=this.mediaSource_&&this.mediaSource_.readyState==="ended";return l.mediaIndex>=a.length-1&&f&&!this.seeking_()?null:(this.shouldForceTimestampOffsetAfterResync_&&(this.shouldForceTimestampOffsetAfterResync_=!1,l.forceTimestampOffset=!0,this.logger_("choose next request. Force timestamp offset after loader resync")),this.generateSegmentInfo_(l))}getSyncInfoFromMediaSequenceSync_(e){if(!this.mediaSequenceSync_)return null;const n=Math.max(e,this.mediaSequenceSync_.start);e!==n&&this.logger_(`getSyncInfoFromMediaSequenceSync_. Pulled target time from ${e} to ${n}`);const r=this.mediaSequenceSync_.getSyncInfoForTime(n);if(!r)return null;if(!r.isAppended)return r;const s=this.mediaSequenceSync_.getSyncInfoForTime(r.end);return s?(s.isAppended&&this.logger_("getSyncInfoFromMediaSequenceSync_: We encounter unexpected scenario where next media sequence sync info is also appended!"),s):null}generateSegmentInfo_(e){const{independent:n,playlist:r,mediaIndex:s,startOfSegment:i,isSyncRequest:a,partIndex:l,forceTimestampOffset:c,getMediaInfoForTime:u}=e,h=r.segments[s],f=typeof l=="number"&&h.parts[l],m={requestId:"segment-loader-"+Math.random(),uri:f&&f.resolvedUri||h.resolvedUri,mediaIndex:s,partIndex:f?l:null,isSyncRequest:a,startOfSegment:i,playlist:r,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:h.timeline,duration:f&&f.duration||h.duration,segment:h,part:f,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:u,independent:n},g=typeof c<"u"?c:this.isPendingTimestampOffset_;m.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:h.timeline,currentTimeline:this.currentTimeline_,startOfSegment:i,buffered:this.buffered_(),overrideCheck:g});const b=oS(this.sourceUpdater_.audioBuffered());return typeof b=="number"&&(m.audioAppendStart=b-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(m.gopsToAlignWith=uye(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),m}timestampOffsetForSegment_(e){return bye(e)}earlyAbortWhenNeeded_(e){if(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH||Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return;const n=this.currentTime_(),r=e.bandwidth,s=this.pendingSegment_.duration,i=Pi.estimateSegmentRequestTime(s,r,this.playlist_,e.bytesReceived),a=$ge(this.buffered_(),n,this.vhs_.tech_.playbackRate())-1;if(i<=a)return;const l=J0e({main:this.vhs_.playlists.main,currentTime:n,bandwidth:r,duration:this.duration_(),segmentDuration:s,timeUntilRebuffer:a,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!l)return;const u=i-a-l.rebufferingImpact;let h=.5;a<=el&&(h=1),!(!l.playlist||l.playlist.uri===this.playlist_.uri||u<h)&&(this.bandwidth=l.playlist.attributes.BANDWIDTH*vs.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}handleAbort_(e){this.logger_(`Aborting ${Uh(e)}`),this.mediaRequestsAborted+=1}handleProgress_(e,n){this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)&&this.trigger("progress")}handleTrackInfo_(e,n){const{hasAudio:r,hasVideo:s}=n,i={segmentInfo:ud({type:this.loaderType_,segment:e}),trackInfo:{hasAudio:r,hasVideo:s}};this.trigger({type:"segmenttransmuxingtrackinfoavailable",metadata:i}),this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)&&(this.checkForIllegalMediaSwitch(n)||(n=n||{},fye(this.currentMediaInfo_,n)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=n,this.currentMediaInfo_=n,this.logger_("trackinfo update",n),this.trigger("trackinfo")),!this.checkForAbort_(e.requestId)&&(this.pendingSegment_.trackInfo=n,this.hasEnoughInfoToAppend_()?this.processCallQueue_():Hc(this))))}handleTimingInfo_(e,n,r,s){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;const i=this.pendingSegment_,a=rI(n);i[a]=i[a]||{},i[a][r]=s,this.logger_(`timinginfo: ${n} - ${r} - ${s}`),this.hasEnoughInfoToAppend_()?this.processCallQueue_():Hc(this)}handleCaptions_(e,n){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(n.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,n));return}const s=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),i={};n.forEach(a=>{i[a.stream]=i[a.stream]||{startTime:1/0,captions:[],endTime:0};const l=i[a.stream];l.startTime=Math.min(l.startTime,a.startTime+s),l.endTime=Math.max(l.endTime,a.endTime+s),l.captions.push(a)}),Object.keys(i).forEach(a=>{const{startTime:l,endTime:c,captions:u}=i[a],h=this.inbandTextTracks_;this.logger_(`adding cues from ${l} -> ${c} for ${a}`),nye(h,this.vhs_.tech_,a),Pm(l,c,h[a]),rye({captionArray:u,inbandTextTracks:h,timestampOffset:s})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}handleId3_(e,n,r){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,n,r));return}this.addMetadataToTextTrack(r,n,this.duration_())}processMetadataQueue_(){this.metadataQueue_.id3.forEach(e=>e()),this.metadataQueue_.caption.forEach(e=>e()),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]}processCallQueue_(){const e=this.callQueue_;this.callQueue_=[],e.forEach(n=>n())}processLoadQueue_(){const e=this.loadQueue_;this.loadQueue_=[],e.forEach(n=>n())}hasEnoughInfoToLoad_(){if(this.loaderType_!=="audio")return!0;const e=this.pendingSegment_;return e?this.getCurrentMediaInfo_()?!fT({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1}getCurrentMediaInfo_(e=this.pendingSegment_){return e&&e.trackInfo||this.currentMediaInfo_}getMediaInfo_(e=this.pendingSegment_){return this.getCurrentMediaInfo_(e)||this.startingMediaInfo_}getPendingSegmentPlaylist(){return this.pendingSegment_?this.pendingSegment_.playlist:null}hasEnoughInfoToAppend_(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;const e=this.pendingSegment_,n=this.getCurrentMediaInfo_();if(!e||!n)return!1;const{hasAudio:r,hasVideo:s,isMuxed:i}=n;return!(s&&!e.videoTimingInfo||r&&!this.audioDisabled_&&!i&&!e.audioTimingInfo||fT({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}handleData_(e,n){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){Hc(this),this.callQueue_.push(this.handleData_.bind(this,e,n));return}const r=this.pendingSegment_;if(this.setTimeMapping_(r.timeline),this.updateMediaSecondsLoaded_(r.part||r.segment),this.mediaSource_.readyState!=="closed"){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),r.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),r.isFmp4=e.isFmp4,r.timingInfo=r.timingInfo||{},r.isFmp4)this.trigger("fmp4"),r.timingInfo.start=r[rI(n.type)].start;else{const s=this.getCurrentMediaInfo_(),i=this.loaderType_==="main"&&s&&s.hasVideo;let a;i&&(a=r.videoTimingInfo.start),r.timingInfo.start=this.trueSegmentStart_({currentStart:r.timingInfo.start,playlist:r.playlist,mediaIndex:r.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:i,firstVideoFrameTimeForData:a,videoTimingInfo:r.videoTimingInfo,audioTimingInfo:r.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(r,n.type),this.updateSourceBufferTimestampOffset_(r),r.isSyncRequest){this.updateTimingInfoEnd_(r),this.syncController_.saveSegmentTimingInfo({segmentInfo:r,shouldSaveTimelineMapping:this.loaderType_==="main"});const s=this.chooseNextRequest_();if(s.mediaIndex!==r.mediaIndex||s.partIndex!==r.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}r.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(r,n)}}updateAppendInitSegmentStatus(e,n){this.loaderType_==="main"&&typeof e.timestampOffset=="number"&&!e.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[n]!==e.playlist&&(this.appendInitSegment_[n]=!0)}getInitSegmentAndUpdateState_({type:e,initSegment:n,map:r,playlist:s}){if(r){const i=ov(r);if(this.activeInitSegmentId_===i)return null;n=this.initSegmentForMap(r,!0).bytes,this.activeInitSegmentId_=i}return n&&this.appendInitSegment_[e]?(this.playlistOfLastInitSegment_[e]=s,this.appendInitSegment_[e]=!1,this.activeInitSegmentId_=null,n):null}handleQuotaExceededError_({segmentInfo:e,type:n,bytes:r},s){const i=this.sourceUpdater_.audioBuffered(),a=this.sourceUpdater_.videoBuffered();i.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+yd(i).join(", ")),a.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+yd(a).join(", "));const l=i.length?i.start(0):0,c=i.length?i.end(i.length-1):0,u=a.length?a.start(0):0,h=a.length?a.end(a.length-1):0;if(c-l<=pm&&h-u<=pm){this.logger_(`On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: ${r.byteLength}, audio buffer: ${yd(i).join(", ")}, video buffer: ${yd(a).join(", ")}, `),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:e,type:n,bytes:r}));const m=this.currentTime_()-pm;this.logger_(`On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to ${m}`),this.remove(0,m,()=>{this.logger_(`On QUOTA_EXCEEDED_ERR, retrying append in ${pm}s`),this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=Se.setTimeout(()=>{this.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),this.quotaExceededErrorRetryTimeout_=null,this.processCallQueue_()},pm*1e3)},!0)}handleAppendError_({segmentInfo:e,type:n,bytes:r},s){if(s){if(s.code===E7){this.handleQuotaExceededError_({segmentInfo:e,type:n,bytes:r});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",s),this.error({message:`${n} append of ${r.length}b failed for segment #${e.mediaIndex} in playlist ${e.playlist.id}`,metadata:{errorType:Qe.Error.StreamingFailedToAppendSegment}}),this.trigger("appenderror")}}appendToSourceBuffer_({segmentInfo:e,type:n,initSegment:r,data:s,bytes:i}){if(!i){const l=[s];let c=s.byteLength;r&&(l.unshift(r),c+=r.byteLength),i=tye({bytes:c,segments:l})}const a={segmentInfo:ud({type:this.loaderType_,segment:e})};this.trigger({type:"segmentappendstart",metadata:a}),this.sourceUpdater_.appendBuffer({segmentInfo:e,type:n,bytes:i},this.handleAppendError_.bind(this,{segmentInfo:e,type:n,bytes:i}))}handleSegmentTimingInfo_(e,n,r){if(!this.pendingSegment_||n!==this.pendingSegment_.requestId)return;const s=this.pendingSegment_.segment,i=`${e}TimingInfo`;s[i]||(s[i]={}),s[i].transmuxerPrependedSeconds=r.prependedContentDuration||0,s[i].transmuxedPresentationStart=r.start.presentation,s[i].transmuxedDecodeStart=r.start.decode,s[i].transmuxedPresentationEnd=r.end.presentation,s[i].transmuxedDecodeEnd=r.end.decode,s[i].baseMediaDecodeTime=r.baseMediaDecodeTime}appendData_(e,n){const{type:r,data:s}=n;if(!s||!s.byteLength||r==="audio"&&this.audioDisabled_)return;const i=this.getInitSegmentAndUpdateState_({type:r,initSegment:n.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:r,initSegment:i,data:s})}loadSegment_(e){if(this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),typeof e.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){Hc(this),this.loadQueue_.push(()=>{const n=Ot({},e,{forceTimestampOffset:!0});Ot(e,this.generateSegmentInfo_(n)),this.isPendingTimestampOffset_=!1,this.updateTransmuxerAndRequestSegment_(e)});return}this.updateTransmuxerAndRequestSegment_(e)}updateTransmuxerAndRequestSegment_(e){this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));const n=this.createSimplifiedSegmentObj_(e),r=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex),s=this.mediaIndex!==null,i=e.timeline!==this.currentTimeline_&&e.timeline>0,a=r||s&&i;this.logger_(`Requesting
${Z7(e.uri)}
${Uh(e)}`),n.map&&!n.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=X0e({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:n,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:a,endedTimelineFn:()=>{this.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:({message:l,level:c,stream:u})=>{this.logger_(`${Uh(e)} logged from transmuxer stream ${u} as a ${c}: ${l}`)},triggerSegmentEventFn:({type:l,segment:c,keyInfo:u,trackInfo:h,timingInfo:f})=>{const g={segmentInfo:ud({segment:c})};u&&(g.keyInfo=u),h&&(g.trackInfo=h),f&&(g.timingInfo=f),this.trigger({type:l,metadata:g})}})}trimBackBuffer_(e){const n=yye(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);n>0&&this.remove(0,n)}createSimplifiedSegmentObj_(e){const n=e.segment,r=e.part,s=e.segment.key||e.segment.map&&e.segment.map.key,i=e.segment.map&&!e.segment.map.bytes,a={resolvedUri:r?r.resolvedUri:n.resolvedUri,byterange:r?r.byterange:n.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part,type:this.loaderType_,start:e.startOfSegment,duration:e.duration,isEncrypted:s,isMediaInitialization:i},l=e.playlist.segments[e.mediaIndex-1];if(l&&l.timeline===n.timeline&&(l.videoTimingInfo?a.baseStartTime=l.videoTimingInfo.transmuxedDecodeEnd:l.audioTimingInfo&&(a.baseStartTime=l.audioTimingInfo.transmuxedDecodeEnd)),n.key){const c=n.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);a.key=this.segmentKey(n.key),a.key.iv=c}return n.map&&(a.map=this.initSegmentForMap(n.map)),a}saveTransferStats_(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)}saveBandwidthRelatedStats_(e,n){if(this.pendingSegment_.byteLength=n.bytesReceived,e<vb){this.logger_(`Ignoring segment's bandwidth because its duration of ${e} is less than the min to record ${vb}`);return}const r={bandwidthInfo:{from:this.bandwidth,to:n.bandwidth}};this.trigger({type:"bandwidthupdated",metadata:r}),this.bandwidth=n.bandwidth,this.roundTrip=n.roundTripTime}handleTimeout_(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")}segmentRequestFinished_(e,n,r){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,n,r));return}if(this.saveTransferStats_(n.stats),!this.pendingSegment_||n.requestId!==this.pendingSegment_.requestId)return;if(e){if(this.pendingSegment_=null,this.state="READY",e.code===nl.ABORTED)return;if(this.pause(),e.code===nl.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(e),this.trigger("error");return}const s=this.pendingSegment_;this.saveBandwidthRelatedStats_(s.duration,n.stats),s.endOfAllRequests=n.endOfAllRequests,r.gopInfo&&(this.gopBuffer_=dye(this.gopBuffer_,r.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(s)}setTimeMapping_(e){const n=this.syncController_.mappingForTimeline(e);n!==null&&(this.timeMapping_=n)}updateMediaSecondsLoaded_(e){typeof e.start=="number"&&typeof e.end=="number"?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration}shouldUpdateTransmuxerTimestampOffset_(e){return e===null?!1:this.loaderType_==="main"&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset()}trueSegmentStart_({currentStart:e,playlist:n,mediaIndex:r,firstVideoFrameTimeForData:s,currentVideoTimestampOffset:i,useVideoTimingInfo:a,videoTimingInfo:l,audioTimingInfo:c}){if(typeof e<"u")return e;if(!a)return c.start;const u=n.segments[r-1];return r===0||!u||typeof u.start>"u"||u.end!==s+i?s:l.start}waitForAppendsToComplete_(e){const n=this.getCurrentMediaInfo_(e);if(!n){this.error({message:"No starting media returned, likely due to an unsupported media format.",playlistExclusionDuration:1/0}),this.trigger("error");return}const{hasAudio:r,hasVideo:s,isMuxed:i}=n,a=this.loaderType_==="main"&&s,l=!this.audioDisabled_&&r&&!i;if(e.waitingOnAppends=0,!e.hasAppendedData_){!e.timingInfo&&typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),this.checkAppendsDone_(e);return}a&&e.waitingOnAppends++,l&&e.waitingOnAppends++,a&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),l&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))}checkAppendsDone_(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,e.waitingOnAppends===0&&this.handleAppendsDone_())}checkForIllegalMediaSwitch(e){const n=gye(this.loaderType_,this.getCurrentMediaInfo_(),e);return n?(this.error({message:n,playlistExclusionDuration:1/0}),this.trigger("error"),!0):!1}updateSourceBufferTimestampOffset_(e){if(e.timestampOffset===null||typeof e.timingInfo.start!="number"||e.changedTimestampOffset||this.loaderType_!=="main")return;let n=!1;e.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e.segment.videoTimingInfo,audioTimingInfo:e.segment.audioTimingInfo,timingInfo:e.timingInfo}),e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),n=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),n=!0),n&&this.trigger("timestampoffset")}getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e,audioTimingInfo:n,timingInfo:r}){return this.useDtsForTimestampOffset_?e&&typeof e.transmuxedDecodeStart=="number"?e.transmuxedDecodeStart:n&&typeof n.transmuxedDecodeStart=="number"?n.transmuxedDecodeStart:r.start:r.start}updateTimingInfoEnd_(e){e.timingInfo=e.timingInfo||{};const n=this.getMediaInfo_(),s=this.loaderType_==="main"&&n&&n.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;s&&(e.timingInfo.end=typeof s.end=="number"?s.end:s.start+e.duration)}handleAppendsDone_(){if(this.pendingSegment_){const c={segmentInfo:ud({type:this.loaderType_,segment:this.pendingSegment_})};this.trigger({type:"appendsdone",metadata:c})}if(!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}const e=this.pendingSegment_;e.part&&e.part.syncInfo?e.part.syncInfo.markAppended():e.segment.syncInfo&&e.segment.syncInfo.markAppended(),this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:this.loaderType_==="main"});const n=_ye(e,this.sourceType_);if(n&&(n.severity==="warn"?Qe.log.warn(n.message):this.logger_(n.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",e.isSyncRequest&&(this.trigger("syncinfoupdate"),!e.hasAppendedData_)){this.logger_(`Throwing away un-appended sync request ${Uh(e)}`);return}this.logger_(`Appended ${Uh(e)}`),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");const r=e.segment,s=e.part,i=r.end&&this.currentTime_()-r.end>e.playlist.targetDuration*3,a=s&&s.end&&this.currentTime_()-s.end>e.playlist.partTargetDuration*3;if(i||a){this.logger_(`bad ${i?"segment":"part"} ${Uh(e)}`),this.resetEverything();return}this.mediaIndex!==null&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}recordThroughput_(e){if(e.duration<vb){this.logger_(`Ignoring segment's throughput because its duration of ${e.duration} is less than the min to record ${vb}`);return}const n=this.throughput.rate,r=Date.now()-e.endOfAllRequests+1,s=Math.floor(e.byteLength/r*8*1e3);this.throughput.rate+=(s-n)/++this.throughput.count}addSegmentMetadataCue_(e){if(!this.segmentMetadataTrack_)return;const n=e.segment,r=n.start,s=n.end;if(!nI(r)||!nI(s))return;Pm(r,s,this.segmentMetadataTrack_);const i=Se.WebKitDataCue||Se.VTTCue,a={custom:n.custom,dateTimeObject:n.dateTimeObject,dateTimeString:n.dateTimeString,programDateTime:n.programDateTime,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:r,end:s},l=JSON.stringify(a),c=new i(r,s,l);c.value=a,this.segmentMetadataTrack_.addCue(c)}}function Hl(){}const J7=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},Sye=["video","audio"],mT=(t,e)=>{const n=e[`${t}Buffer`];return n&&n.updating||e.queuePending[t]},Cye=(t,e)=>{for(let n=0;n<e.length;n++){const r=e[n];if(r.type==="mediaSource")return null;if(r.type===t)return n}return null},vf=(t,e)=>{if(e.queue.length===0)return;let n=0,r=e.queue[n];if(r.type==="mediaSource"){!e.updating()&&e.mediaSource.readyState!=="closed"&&(e.queue.shift(),r.action(e),r.doneFn&&r.doneFn(),vf("audio",e),vf("video",e));return}if(t!=="mediaSource"&&!(!e.ready()||e.mediaSource.readyState==="closed"||mT(t,e))){if(r.type!==t){if(n=Cye(t,e.queue),n===null)return;r=e.queue[n]}if(e.queue.splice(n,1),e.queuePending[t]=r,r.action(t,e),!r.doneFn){e.queuePending[t]=null,vf(t,e);return}}},e$=(t,e)=>{const n=e[`${t}Buffer`],r=J7(t);n&&(n.removeEventListener("updateend",e[`on${r}UpdateEnd_`]),n.removeEventListener("error",e[`on${r}Error_`]),e.codecs[t]=null,e[`${t}Buffer`]=null)},Ko=(t,e)=>t&&e&&Array.prototype.indexOf.call(t.sourceBuffers,e)!==-1,qi={appendBuffer:(t,e,n)=>(r,s)=>{const i=s[`${r}Buffer`];if(Ko(s.mediaSource,i)){s.logger_(`Appending segment ${e.mediaIndex}'s ${t.length} bytes to ${r}Buffer`);try{i.appendBuffer(t)}catch(a){s.logger_(`Error with code ${a.code} `+(a.code===E7?"(QUOTA_EXCEEDED_ERR) ":"")+`when appending segment ${e.mediaIndex} to ${r}Buffer`),s.queuePending[r]=null,n(a)}}},remove:(t,e)=>(n,r)=>{const s=r[`${n}Buffer`];if(Ko(r.mediaSource,s)){r.logger_(`Removing ${t} to ${e} from ${n}Buffer`);try{s.remove(t,e)}catch{r.logger_(`Remove ${t} to ${e} from ${n}Buffer failed`)}}},timestampOffset:t=>(e,n)=>{const r=n[`${e}Buffer`];Ko(n.mediaSource,r)&&(n.logger_(`Setting ${e}timestampOffset to ${t}`),r.timestampOffset=t)},callback:t=>(e,n)=>{t()},endOfStream:t=>e=>{if(e.mediaSource.readyState==="open"){e.logger_(`Calling mediaSource endOfStream(${t||""})`);try{e.mediaSource.endOfStream(t)}catch(n){Qe.log.warn("Failed to call media source endOfStream",n)}}},duration:t=>e=>{e.logger_(`Setting mediaSource duration to ${t}`);try{e.mediaSource.duration=t}catch(n){Qe.log.warn("Failed to set media source duration",n)}},abort:()=>(t,e)=>{if(e.mediaSource.readyState!=="open")return;const n=e[`${t}Buffer`];if(Ko(e.mediaSource,n)){e.logger_(`calling abort on ${t}Buffer`);try{n.abort()}catch(r){Qe.log.warn(`Failed to abort on ${t}Buffer`,r)}}},addSourceBuffer:(t,e)=>n=>{const r=J7(t),s=Af(e);n.logger_(`Adding ${t}Buffer with codec ${e} to mediaSource`);const i=n.mediaSource.addSourceBuffer(s);i.addEventListener("updateend",n[`on${r}UpdateEnd_`]),i.addEventListener("error",n[`on${r}Error_`]),n.codecs[t]=e,n[`${t}Buffer`]=i},removeSourceBuffer:t=>e=>{const n=e[`${t}Buffer`];if(e$(t,e),!!Ko(e.mediaSource,n)){e.logger_(`Removing ${t}Buffer with codec ${e.codecs[t]} from mediaSource`);try{e.mediaSource.removeSourceBuffer(n)}catch(r){Qe.log.warn(`Failed to removeSourceBuffer ${t}Buffer`,r)}}},changeType:t=>(e,n)=>{const r=n[`${e}Buffer`],s=Af(t);if(!Ko(n.mediaSource,r))return;const i=t.substring(0,t.indexOf(".")),a=n.codecs[e];if(a.substring(0,a.indexOf("."))===i)return;const c={codecsChangeInfo:{from:a,to:t}};n.trigger({type:"codecschange",metadata:c}),n.logger_(`changing ${e}Buffer codec from ${a} to ${t}`);try{r.changeType(s),n.codecs[e]=t}catch(u){c.errorType=Qe.Error.StreamingCodecsChangeError,c.error=u,u.metadata=c,n.error_=u,n.trigger("error"),Qe.log.warn(`Failed to changeType on ${e}Buffer`,u)}}},Yi=({type:t,sourceUpdater:e,action:n,doneFn:r,name:s})=>{e.queue.push({type:t,action:n,doneFn:r,name:s}),vf(t,e)},iI=(t,e)=>n=>{const r=e[`${t}Buffered`](),s=Lge(r);if(e.logger_(`received "updateend" event for ${t} Source Buffer: `,s),e.queuePending[t]){const i=e.queuePending[t].doneFn;e.queuePending[t]=null,i&&i(e[`${t}Error_`])}vf(t,e)};class t$ extends Qe.EventTarget{constructor(e){super(),this.mediaSource=e,this.sourceopenListener_=()=>vf("mediaSource",this),this.mediaSource.addEventListener("sourceopen",this.sourceopenListener_),this.logger_=Ga("SourceUpdater"),this.audioTimestampOffset_=0,this.videoTimestampOffset_=0,this.queue=[],this.queuePending={audio:null,video:null},this.delayedAudioAppendQueue_=[],this.videoAppendQueued_=!1,this.codecs={},this.onVideoUpdateEnd_=iI("video",this),this.onAudioUpdateEnd_=iI("audio",this),this.onVideoError_=n=>{this.videoError_=n},this.onAudioError_=n=>{this.audioError_=n},this.createdSourceBuffers_=!1,this.initializedEme_=!1,this.triggeredReady_=!1}initializedEme(){this.initializedEme_=!0,this.triggerReady()}hasCreatedSourceBuffers(){return this.createdSourceBuffers_}hasInitializedAnyEme(){return this.initializedEme_}ready(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()}createSourceBuffers(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())}triggerReady(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))}addSourceBuffer(e,n){Yi({type:"mediaSource",sourceUpdater:this,action:qi.addSourceBuffer(e,n),name:"addSourceBuffer"})}abort(e){Yi({type:e,sourceUpdater:this,action:qi.abort(e),name:"abort"})}removeSourceBuffer(e){if(!this.canRemoveSourceBuffer()){Qe.log.error("removeSourceBuffer is not supported!");return}Yi({type:"mediaSource",sourceUpdater:this,action:qi.removeSourceBuffer(e),name:"removeSourceBuffer"})}canRemoveSourceBuffer(){return!Qe.browser.IS_FIREFOX&&Se.MediaSource&&Se.MediaSource.prototype&&typeof Se.MediaSource.prototype.removeSourceBuffer=="function"}static canChangeType(){return Se.SourceBuffer&&Se.SourceBuffer.prototype&&typeof Se.SourceBuffer.prototype.changeType=="function"}canChangeType(){return this.constructor.canChangeType()}changeType(e,n){if(!this.canChangeType()){Qe.log.error("changeType is not supported!");return}Yi({type:e,sourceUpdater:this,action:qi.changeType(n),name:"changeType"})}addOrChangeSourceBuffers(e){if(!e||typeof e!="object"||Object.keys(e).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach(n=>{const r=e[n];if(!this.hasCreatedSourceBuffers())return this.addSourceBuffer(n,r);this.canChangeType()&&this.changeType(n,r)})}appendBuffer(e,n){const{segmentInfo:r,type:s,bytes:i}=e;if(this.processedAppend_=!0,s==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([e,n]),this.logger_(`delayed audio append of ${i.length} until video append`);return}const a=n;if(Yi({type:s,sourceUpdater:this,action:qi.appendBuffer(i,r||{mediaIndex:-1},a),doneFn:n,name:"appendBuffer"}),s==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;const l=this.delayedAudioAppendQueue_.slice();this.logger_(`queuing delayed audio ${l.length} appendBuffers`),this.delayedAudioAppendQueue_.length=0,l.forEach(c=>{this.appendBuffer.apply(this,c)})}}audioBuffered(){return Ko(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:Cs()}videoBuffered(){return Ko(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:Cs()}buffered(){const e=Ko(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,n=Ko(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return n&&!e?this.audioBuffered():e&&!n?this.videoBuffered():Bge(this.audioBuffered(),this.videoBuffered())}setDuration(e,n=Hl){Yi({type:"mediaSource",sourceUpdater:this,action:qi.duration(e),name:"duration",doneFn:n})}endOfStream(e=null,n=Hl){typeof e!="string"&&(e=void 0),Yi({type:"mediaSource",sourceUpdater:this,action:qi.endOfStream(e),name:"endOfStream",doneFn:n})}removeAudio(e,n,r=Hl){if(!this.audioBuffered().length||this.audioBuffered().end(0)===0){r();return}Yi({type:"audio",sourceUpdater:this,action:qi.remove(e,n),doneFn:r,name:"remove"})}removeVideo(e,n,r=Hl){if(!this.videoBuffered().length||this.videoBuffered().end(0)===0){r();return}Yi({type:"video",sourceUpdater:this,action:qi.remove(e,n),doneFn:r,name:"remove"})}updating(){return!!(mT("audio",this)||mT("video",this))}audioTimestampOffset(e){return typeof e<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(Yi({type:"audio",sourceUpdater:this,action:qi.timestampOffset(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_}videoTimestampOffset(e){return typeof e<"u"&&this.videoBuffer&&this.videoTimestampOffset_!==e&&(Yi({type:"video",sourceUpdater:this,action:qi.timestampOffset(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_}audioQueueCallback(e){this.audioBuffer&&Yi({type:"audio",sourceUpdater:this,action:qi.callback(e),name:"callback"})}videoQueueCallback(e){this.videoBuffer&&Yi({type:"video",sourceUpdater:this,action:qi.callback(e),name:"callback"})}dispose(){this.trigger("dispose"),Sye.forEach(e=>{this.abort(e),this.canRemoveSourceBuffer()?this.removeSourceBuffer(e):this[`${e}QueueCallback`](()=>e$(e,this))}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()}}const aI=t=>decodeURIComponent(escape(String.fromCharCode.apply(null,t))),Tye=t=>{const e=new Uint8Array(t);return Array.from(e).map(n=>n.toString(16).padStart(2,"0")).join("")},oI=new Uint8Array(`

`.split("").map(t=>t.charCodeAt(0)));class kye extends Error{constructor(){super("Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")}}class Eye extends pT{constructor(e,n={}){super(e,n),this.mediaSource_=null,this.subtitlesTrack_=null,this.featuresNativeTextTracks_=e.featuresNativeTextTracks,this.loadVttJs=e.loadVttJs,this.shouldSaveSegmentTimingInfo_=!1}buffered_(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return Cs();const e=this.subtitlesTrack_.cues,n=e[0].startTime,r=e[e.length-1].startTime;return Cs([[n,r]])}initSegmentForMap(e,n=!1){if(!e)return null;const r=ov(e);let s=this.initSegments_[r];if(n&&!s&&e.bytes){const i=oI.byteLength+e.bytes.byteLength,a=new Uint8Array(i);a.set(e.bytes),a.set(oI,e.bytes.byteLength),this.initSegments_[r]=s={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:a}}return s||e}couldBeginLoading_(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}track(e){return typeof e>"u"?this.subtitlesTrack_:(this.subtitlesTrack_=e,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}remove(e,n){Pm(e,n,this.subtitlesTrack_)}fillBuffer_(){const e=this.chooseNextRequest_();if(e){if(this.syncController_.timestampOffsetForTimeline(e.timeline)===null){const n=()=>{this.state="READY",this.paused()||this.monitorBuffer_()};this.syncController_.one("timestampoffset",n),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(e)}}timestampOffsetForSegment_(){return null}chooseNextRequest_(){return this.skipEmptySegments_(super.chooseNextRequest_())}skipEmptySegments_(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e}stopForError(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")}segmentRequestFinished_(e,n,r){if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(n.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(e){e.code===nl.TIMEOUT&&this.handleTimeout_(),e.code===nl.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(e);return}const s=this.pendingSegment_,i=r.mp4VttCues&&r.mp4VttCues.length;i&&(s.mp4VttCues=r.mp4VttCues),this.saveBandwidthRelatedStats_(s.duration,n.stats),n.key&&this.segmentKey(n.key,!0),this.state="APPENDING",this.trigger("appending");const a=s.segment;if(a.map&&(a.map.bytes=n.map.bytes),s.bytes=n.bytes,typeof Se.WebVTT!="function"&&typeof this.loadVttJs=="function"){this.state="WAITING_ON_VTTJS",this.loadVttJs().then(()=>this.segmentRequestFinished_(e,n,r),()=>this.stopForError({message:"Error loading vtt.js"}));return}a.requested=!0;try{this.parseVTTCues_(s)}catch(l){this.stopForError({message:l.message,metadata:{errorType:Qe.Error.StreamingVttParserError,error:l}});return}if(i||this.updateTimeMapping_(s,this.syncController_.timelines[s.timeline],this.playlist_),s.cues.length?s.timingInfo={start:s.cues[0].startTime,end:s.cues[s.cues.length-1].endTime}:s.timingInfo={start:s.startOfSegment,end:s.startOfSegment+s.duration},s.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}s.byteLength=s.bytes.byteLength,this.mediaSecondsLoaded+=a.duration,s.cues.forEach(l=>{this.subtitlesTrack_.addCue(this.featuresNativeTextTracks_?new Se.VTTCue(l.startTime,l.endTime,l.text):l)}),cye(this.subtitlesTrack_),this.handleAppendsDone_()}handleData_(e,n){const r=e&&e.type==="vtt",s=n&&n.type==="text";r&&s&&super.handleData_(e,n)}updateTimingInfoEnd_(){}parseMp4VttCues_(e){const n=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();e.mp4VttCues.forEach(r=>{const s=r.start+n,i=r.end+n,a=new Se.VTTCue(s,i,r.cueText);r.settings&&r.settings.split(" ").forEach(l=>{const c=l.split(":"),u=c[0],h=c[1];a[u]=isNaN(h)?h:Number(h)}),e.cues.push(a)})}parseVTTCues_(e){let n,r=!1;if(typeof Se.WebVTT!="function")throw new kye;if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},e.mp4VttCues){this.parseMp4VttCues_(e);return}typeof Se.TextDecoder=="function"?n=new Se.TextDecoder("utf8"):(n=Se.WebVTT.StringDecoder(),r=!0);const s=new Se.WebVTT.Parser(Se,Se.vttjs,n);if(s.oncue=e.cues.push.bind(e.cues),s.ontimestampmap=a=>{e.timestampmap=a},s.onparsingerror=a=>{Qe.log.warn("Error encountered when parsing cues: "+a.message)},e.segment.map){let a=e.segment.map.bytes;r&&(a=aI(a)),s.parse(a)}let i=e.bytes;r&&(i=aI(i)),s.parse(i),s.flush()}updateTimeMapping_(e,n,r){const s=e.segment;if(!n)return;if(!e.cues.length){s.empty=!0;return}const{MPEGTS:i,LOCAL:a}=e.timestampmap,c=i/gd.ONE_SECOND_IN_TS-a+n.mapping;if(e.cues.forEach(u=>{const h=u.endTime-u.startTime,f=this.handleRollover_(u.startTime+c,n.time);u.startTime=Math.max(f,0),u.endTime=Math.max(f+h,0)}),!r.syncInfo){const u=e.cues[0].startTime,h=e.cues[e.cues.length-1].startTime;r.syncInfo={mediaSequence:r.mediaSequence+e.mediaIndex,time:Math.min(u,h-s.duration)}}}handleRollover_(e,n){if(n===null)return e;let r=e*gd.ONE_SECOND_IN_TS;const s=n*gd.ONE_SECOND_IN_TS;let i;for(s<r?i=-8589934592:i=8589934592;Math.abs(r-s)>4294967296;)r+=i;return r/gd.ONE_SECOND_IN_TS}}const jye=function(t,e){const n=t.cues;for(let r=0;r<n.length;r++){const s=n[r];if(e>=s.adStartTime&&e<=s.adEndTime)return s}return null},Nye=function(t,e,n=0){if(!t.segments)return;let r=n,s;for(let i=0;i<t.segments.length;i++){const a=t.segments[i];if(s||(s=jye(e,r+a.duration/2)),s){if("cueIn"in a){s.endTime=r,s.adEndTime=r,r+=a.duration,s=null;continue}if(r<s.endTime){r+=a.duration;continue}s.endTime+=a.duration}else if("cueOut"in a&&(s=new Se.VTTCue(r,r+a.duration,a.cueOut),s.adStartTime=r,s.adEndTime=r+parseFloat(a.cueOut),e.addCue(s)),"cueOutCont"in a){const[l,c]=a.cueOutCont.split("/").map(parseFloat);s=new Se.VTTCue(r,r+a.duration,""),s.adStartTime=r-l,s.adEndTime=s.adStartTime+c,e.addCue(s)}r+=a.duration}};class lI{constructor({start:e,end:n,segmentIndex:r,partIndex:s=null,appended:i=!1}){this.start_=e,this.end_=n,this.segmentIndex_=r,this.partIndex_=s,this.appended_=i}isInRange(e){return e>=this.start&&e<this.end}markAppended(){this.appended_=!0}resetAppendedStatus(){this.appended_=!1}get isAppended(){return this.appended_}get start(){return this.start_}get end(){return this.end_}get segmentIndex(){return this.segmentIndex_}get partIndex(){return this.partIndex_}}class Aye{constructor(e,n=[]){this.segmentSyncInfo_=e,this.partsSyncInfo_=n}get segmentSyncInfo(){return this.segmentSyncInfo_}get partsSyncInfo(){return this.partsSyncInfo_}get hasPartsSyncInfo(){return this.partsSyncInfo_.length>0}resetAppendStatus(){this.segmentSyncInfo_.resetAppendedStatus(),this.partsSyncInfo_.forEach(e=>e.resetAppendedStatus())}}class n${constructor(){this.storage_=new Map,this.diagnostics_="",this.isReliable_=!1,this.start_=-1/0,this.end_=1/0}get start(){return this.start_}get end(){return this.end_}get diagnostics(){return this.diagnostics_}get isReliable(){return this.isReliable_}resetAppendedStatus(){this.storage_.forEach(e=>e.resetAppendStatus())}update(e,n){const{mediaSequence:r,segments:s}=e;if(this.isReliable_=this.isReliablePlaylist_(r,s),!!this.isReliable_)return this.updateStorage_(s,r,this.calculateBaseTime_(r,s,n))}getSyncInfoForTime(e){for(const{segmentSyncInfo:n,partsSyncInfo:r}of this.storage_.values())if(r.length){for(const s of r)if(s.isInRange(e))return s}else if(n.isInRange(e))return n;return null}getSyncInfoForMediaSequence(e){return this.storage_.get(e)}updateStorage_(e,n,r){const s=new Map;let i=`
`,a=r,l=n;this.start_=a,e.forEach((c,u)=>{const h=this.storage_.get(l),f=a,m=f+c.duration,g=!!(h&&h.segmentSyncInfo&&h.segmentSyncInfo.isAppended),b=new lI({start:f,end:m,appended:g,segmentIndex:u});c.syncInfo=b;let y=a;const x=(c.parts||[]).map((w,C)=>{const k=y,A=y+w.duration,N=!!(h&&h.partsSyncInfo&&h.partsSyncInfo[C]&&h.partsSyncInfo[C].isAppended),P=new lI({start:k,end:A,appended:N,segmentIndex:u,partIndex:C});return y=A,i+=`Media Sequence: ${l}.${C} | Range: ${k} --> ${A} | Appended: ${N}
`,w.syncInfo=P,P});s.set(l,new Aye(b,x)),i+=`${Z7(c.resolvedUri)} | Media Sequence: ${l} | Range: ${f} --> ${m} | Appended: ${g}
`,l++,a=m}),this.end_=a,this.storage_=s,this.diagnostics_=i}calculateBaseTime_(e,n,r){if(!this.storage_.size)return 0;if(this.storage_.has(e))return this.storage_.get(e).segmentSyncInfo.start;const s=Math.min(...this.storage_.keys());if(e<s){const i=s-e;let a=this.storage_.get(s).segmentSyncInfo.start;for(let l=0;l<i;l++){const c=n[l];a-=c.duration}return a}return r}isReliablePlaylist_(e,n){return e!=null&&Array.isArray(n)&&n.length}}class cI extends n${constructor(e){super(),this.parent_=e}calculateBaseTime_(e,n,r){if(!this.storage_.size){const s=this.parent_.getSyncInfoForMediaSequence(e);return s?s.segmentSyncInfo.start:0}return super.calculateBaseTime_(e,n,r)}}const Dye=86400,uS=[{name:"VOD",run:(t,e,n,r,s)=>n!==1/0?{time:0,segmentIndex:0,partIndex:null}:null},{name:"MediaSequence",run:(t,e,n,r,s,i)=>{const a=t.getMediaSequenceSync(i);if(!a||!a.isReliable)return null;const l=a.getSyncInfoForTime(s);return l?{time:l.start,partIndex:l.partIndex,segmentIndex:l.segmentIndex}:null}},{name:"ProgramDateTime",run:(t,e,n,r,s)=>{if(!Object.keys(t.timelineToDatetimeMappings).length)return null;let i=null,a=null;const l=iT(e);s=s||0;for(let c=0;c<l.length;c++){const u=e.endList||s===0?c:l.length-(c+1),h=l[u],f=h.segment,m=t.timelineToDatetimeMappings[f.timeline];if(!m||!f.dateTimeObject)continue;let b=f.dateTimeObject.getTime()/1e3+m;if(f.parts&&typeof h.partIndex=="number")for(let x=0;x<h.partIndex;x++)b+=f.parts[x].duration;const y=Math.abs(s-b);if(a!==null&&(y===0||a<y))break;a=y,i={time:b,segmentIndex:h.segmentIndex,partIndex:h.partIndex}}return i}},{name:"Segment",run:(t,e,n,r,s)=>{let i=null,a=null;s=s||0;const l=iT(e);for(let c=0;c<l.length;c++){const u=e.endList||s===0?c:l.length-(c+1),h=l[u],f=h.segment,m=h.part&&h.part.start||f&&f.start;if(f.timeline===r&&typeof m<"u"){const g=Math.abs(s-m);if(a!==null&&a<g)break;(!i||a===null||a>=g)&&(a=g,i={time:m,segmentIndex:h.segmentIndex,partIndex:h.partIndex})}}return i}},{name:"Discontinuity",run:(t,e,n,r,s)=>{let i=null;if(s=s||0,e.discontinuityStarts&&e.discontinuityStarts.length){let a=null;for(let l=0;l<e.discontinuityStarts.length;l++){const c=e.discontinuityStarts[l],u=e.discontinuitySequence+l+1,h=t.discontinuities[u];if(h){const f=Math.abs(s-h.time);if(a!==null&&a<f)break;(!i||a===null||a>=f)&&(a=f,i={time:h.time,segmentIndex:c,partIndex:null})}}}return i}},{name:"Playlist",run:(t,e,n,r,s)=>e.syncInfo?{time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence,partIndex:null}:null}];class Pye extends Qe.EventTarget{constructor(e={}){super(),this.timelines=[],this.discontinuities=[],this.timelineToDatetimeMappings={};const n=new n$,r=new cI(n),s=new cI(n);this.mediaSequenceStorage_={main:n,audio:r,vtt:s},this.logger_=Ga("SyncController")}getMediaSequenceSync(e){return this.mediaSequenceStorage_[e]||null}getSyncPoint(e,n,r,s,i){if(n!==1/0)return uS.find(({name:c})=>c==="VOD").run(this,e,n);const a=this.runStrategies_(e,n,r,s,i);if(!a.length)return null;for(const l of a){const{syncPoint:c,strategy:u}=l,{segmentIndex:h,time:f}=c;if(h<0)continue;const m=e.segments[h],g=f,b=g+m.duration;if(this.logger_(`Strategy: ${u}. Current time: ${s}. selected segment: ${h}. Time: [${g} -> ${b}]}`),s>=g&&s<b)return this.logger_("Found sync point with exact match: ",c),c}return this.selectSyncPoint_(a,{key:"time",value:s})}getExpiredTime(e,n){if(!e||!e.segments)return null;const r=this.runStrategies_(e,n,e.discontinuitySequence,0);if(!r.length)return null;const s=this.selectSyncPoint_(r,{key:"segmentIndex",value:0});return s.segmentIndex>0&&(s.time*=-1),Math.abs(s.time+Ym({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:s.segmentIndex,endIndex:0}))}runStrategies_(e,n,r,s,i){const a=[];for(let l=0;l<uS.length;l++){const c=uS[l],u=c.run(this,e,n,r,s,i);u&&(u.strategy=c.name,a.push({strategy:c.name,syncPoint:u}))}return a}selectSyncPoint_(e,n){let r=e[0].syncPoint,s=Math.abs(e[0].syncPoint[n.key]-n.value),i=e[0].strategy;for(let a=1;a<e.length;a++){const l=Math.abs(e[a].syncPoint[n.key]-n.value);l<s&&(s=l,r=e[a].syncPoint,i=e[a].strategy)}return this.logger_(`syncPoint for [${n.key}: ${n.value}] chosen with strategy [${i}]: [time:${r.time}, segmentIndex:${r.segmentIndex}`+(typeof r.partIndex=="number"?`,partIndex:${r.partIndex}`:"")+"]"),r}saveExpiredSegmentInfo(e,n){const r=n.mediaSequence-e.mediaSequence;if(r>Dye){Qe.log.warn(`Not saving expired segment info. Media sequence gap ${r} is too large.`);return}for(let s=r-1;s>=0;s--){const i=e.segments[s];if(i&&typeof i.start<"u"){n.syncInfo={mediaSequence:e.mediaSequence+s,time:i.start},this.logger_(`playlist refresh sync: [time:${n.syncInfo.time}, mediaSequence: ${n.syncInfo.mediaSequence}]`),this.trigger("syncinfoupdate");break}}}setDateTimeMappingForStart(e){if(this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject){const n=e.segments[0],r=n.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[n.timeline]=-r}}saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:n}){const r=this.calculateSegmentTimeMapping_(e,e.timingInfo,n),s=e.segment;r&&(this.saveDiscontinuitySyncInfo_(e),e.playlist.syncInfo||(e.playlist.syncInfo={mediaSequence:e.playlist.mediaSequence+e.mediaIndex,time:s.start}));const i=s.dateTimeObject;s.discontinuity&&n&&i&&(this.timelineToDatetimeMappings[s.timeline]=-(i.getTime()/1e3))}timestampOffsetForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].time}mappingForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].mapping}calculateSegmentTimeMapping_(e,n,r){const s=e.segment,i=e.part;let a=this.timelines[e.timeline],l,c;if(typeof e.timestampOffset=="number")a={time:e.startOfSegment,mapping:e.startOfSegment-n.start},r&&(this.timelines[e.timeline]=a,this.trigger("timestampoffset"),this.logger_(`time mapping for timeline ${e.timeline}: [time: ${a.time}] [mapping: ${a.mapping}]`)),l=e.startOfSegment,c=n.end+a.mapping;else if(a)l=n.start+a.mapping,c=n.end+a.mapping;else return!1;return i&&(i.start=l,i.end=c),(!s.start||l<s.start)&&(s.start=l),s.end=c,!0}saveDiscontinuitySyncInfo_(e){const n=e.playlist,r=e.segment;if(r.discontinuity)this.discontinuities[r.timeline]={time:r.start,accuracy:0};else if(n.discontinuityStarts&&n.discontinuityStarts.length)for(let s=0;s<n.discontinuityStarts.length;s++){const i=n.discontinuityStarts[s],a=n.discontinuitySequence+s+1,l=i-e.mediaIndex,c=Math.abs(l);if(!this.discontinuities[a]||this.discontinuities[a].accuracy>c){let u;l<0?u=r.start-Ym({defaultDuration:n.targetDuration,durationList:n.segments,startIndex:e.mediaIndex,endIndex:i}):u=r.end+Ym({defaultDuration:n.targetDuration,durationList:n.segments,startIndex:e.mediaIndex+1,endIndex:i}),this.discontinuities[a]={time:u,accuracy:c}}}}dispose(){this.trigger("dispose"),this.off()}}class Iye extends Qe.EventTarget{constructor(){super(),this.pendingTimelineChanges_={},this.lastTimelineChanges_={}}clearPendingTimelineChange(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")}pendingTimelineChange({type:e,from:n,to:r}){return typeof n=="number"&&typeof r=="number"&&(this.pendingTimelineChanges_[e]={type:e,from:n,to:r},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[e]}lastTimelineChange({type:e,from:n,to:r}){if(typeof n=="number"&&typeof r=="number"){this.lastTimelineChanges_[e]={type:e,from:n,to:r},delete this.pendingTimelineChanges_[e];const s={timelineChangeInfo:{from:n,to:r}};this.trigger({type:"timelinechange",metadata:s})}return this.lastTimelineChanges_[e]}dispose(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()}}const Oye=z7(U7(function(){var t=function(){function y(){this.listeners={}}var x=y.prototype;return x.on=function(C,k){this.listeners[C]||(this.listeners[C]=[]),this.listeners[C].push(k)},x.off=function(C,k){if(!this.listeners[C])return!1;var A=this.listeners[C].indexOf(k);return this.listeners[C]=this.listeners[C].slice(0),this.listeners[C].splice(A,1),A>-1},x.trigger=function(C){var k=this.listeners[C];if(k)if(arguments.length===2)for(var A=k.length,N=0;N<A;++N)k[N].call(this,arguments[1]);else for(var P=Array.prototype.slice.call(arguments,1),M=k.length,L=0;L<M;++L)k[L].apply(this,P)},x.dispose=function(){this.listeners={}},x.pipe=function(C){this.on("data",function(k){C.push(k)})},y}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function e(y){return y.subarray(0,y.byteLength-y[y.byteLength-1])}/*! @name aes-decrypter @version 4.0.2 @license Apache-2.0 */const n=function(){const y=[[[],[],[],[],[]],[[],[],[],[],[]]],x=y[0],w=y[1],C=x[4],k=w[4];let A,N,P;const M=[],L=[];let D,S,z,O,U,j;for(A=0;A<256;A++)L[(M[A]=A<<1^(A>>7)*283)^A]=A;for(N=P=0;!C[N];N^=D||1,P=L[P]||1)for(O=P^P<<1^P<<2^P<<3^P<<4,O=O>>8^O&255^99,C[N]=O,k[O]=N,z=M[S=M[D=M[N]]],j=z*16843009^S*65537^D*257^N*16843008,U=M[O]*257^O*16843008,A=0;A<4;A++)x[A][N]=U=U<<24^U>>>8,w[A][O]=j=j<<24^j>>>8;for(A=0;A<5;A++)x[A]=x[A].slice(0),w[A]=w[A].slice(0);return y};let r=null;class s{constructor(x){r||(r=n()),this._tables=[[r[0][0].slice(),r[0][1].slice(),r[0][2].slice(),r[0][3].slice(),r[0][4].slice()],[r[1][0].slice(),r[1][1].slice(),r[1][2].slice(),r[1][3].slice(),r[1][4].slice()]];let w,C,k;const A=this._tables[0][4],N=this._tables[1],P=x.length;let M=1;if(P!==4&&P!==6&&P!==8)throw new Error("Invalid aes key size");const L=x.slice(0),D=[];for(this._key=[L,D],w=P;w<4*P+28;w++)k=L[w-1],(w%P===0||P===8&&w%P===4)&&(k=A[k>>>24]<<24^A[k>>16&255]<<16^A[k>>8&255]<<8^A[k&255],w%P===0&&(k=k<<8^k>>>24^M<<24,M=M<<1^(M>>7)*283)),L[w]=L[w-P]^k;for(C=0;w;C++,w--)k=L[C&3?w:w-4],w<=4||C<4?D[C]=k:D[C]=N[0][A[k>>>24]]^N[1][A[k>>16&255]]^N[2][A[k>>8&255]]^N[3][A[k&255]]}decrypt(x,w,C,k,A,N){const P=this._key[1];let M=x^P[0],L=k^P[1],D=C^P[2],S=w^P[3],z,O,U;const j=P.length/4-2;let V,K=4;const te=this._tables[1],J=te[0],X=te[1],Y=te[2],F=te[3],H=te[4];for(V=0;V<j;V++)z=J[M>>>24]^X[L>>16&255]^Y[D>>8&255]^F[S&255]^P[K],O=J[L>>>24]^X[D>>16&255]^Y[S>>8&255]^F[M&255]^P[K+1],U=J[D>>>24]^X[S>>16&255]^Y[M>>8&255]^F[L&255]^P[K+2],S=J[S>>>24]^X[M>>16&255]^Y[L>>8&255]^F[D&255]^P[K+3],K+=4,M=z,L=O,D=U;for(V=0;V<4;V++)A[(3&-V)+N]=H[M>>>24]<<24^H[L>>16&255]<<16^H[D>>8&255]<<8^H[S&255]^P[K++],z=M,M=L,L=D,D=S,S=z}}class i extends t{constructor(){super(t),this.jobs=[],this.delay=1,this.timeout_=null}processJob_(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}push(x){this.jobs.push(x),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}const a=function(y){return y<<24|(y&65280)<<8|(y&16711680)>>8|y>>>24},l=function(y,x,w){const C=new Int32Array(y.buffer,y.byteOffset,y.byteLength>>2),k=new s(Array.prototype.slice.call(x)),A=new Uint8Array(y.byteLength),N=new Int32Array(A.buffer);let P,M,L,D,S,z,O,U,j;for(P=w[0],M=w[1],L=w[2],D=w[3],j=0;j<C.length;j+=4)S=a(C[j]),z=a(C[j+1]),O=a(C[j+2]),U=a(C[j+3]),k.decrypt(S,z,O,U,N,j),N[j]=a(N[j]^P),N[j+1]=a(N[j+1]^M),N[j+2]=a(N[j+2]^L),N[j+3]=a(N[j+3]^D),P=S,M=z,L=O,D=U;return A};class c{constructor(x,w,C,k){const A=c.STEP,N=new Int32Array(x.buffer),P=new Uint8Array(x.byteLength);let M=0;for(this.asyncStream_=new i,this.asyncStream_.push(this.decryptChunk_(N.subarray(M,M+A),w,C,P)),M=A;M<N.length;M+=A)C=new Uint32Array([a(N[M-4]),a(N[M-3]),a(N[M-2]),a(N[M-1])]),this.asyncStream_.push(this.decryptChunk_(N.subarray(M,M+A),w,C,P));this.asyncStream_.push(function(){k(null,e(P))})}static get STEP(){return 32e3}decryptChunk_(x,w,C,k){return function(){const A=l(x,w,C);k.set(A,x.byteOffset)}}}var u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},h;typeof window<"u"?h=window:typeof u<"u"?h=u:typeof self<"u"?h=self:h={};var f=h,m=function(x){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(x):x&&x.buffer instanceof ArrayBuffer},g=f.BigInt||Number;g("0x1"),g("0x100"),g("0x10000"),g("0x1000000"),g("0x100000000"),g("0x10000000000"),g("0x1000000000000"),g("0x100000000000000"),g("0x10000000000000000"),function(){var y=new Uint16Array([65484]),x=new Uint8Array(y.buffer,y.byteOffset,y.byteLength);return x[0]===255?"big":x[0]===204?"little":"unknown"}();const b=function(y){const x={};return Object.keys(y).forEach(w=>{const C=y[w];m(C)?x[w]={bytes:C.buffer,byteOffset:C.byteOffset,byteLength:C.byteLength}:x[w]=C}),x};self.onmessage=function(y){const x=y.data,w=new Uint8Array(x.encrypted.bytes,x.encrypted.byteOffset,x.encrypted.byteLength),C=new Uint32Array(x.key.bytes,x.key.byteOffset,x.key.byteLength/4),k=new Uint32Array(x.iv.bytes,x.iv.byteOffset,x.iv.byteLength/4);new c(w,C,k,function(A,N){self.postMessage(b({source:x.source,decrypted:N}),[N.buffer])})}}));var Mye=$7(Oye);const Rye=t=>{let e=t.default?"main":"alternative";return t.characteristics&&t.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},r$=(t,e)=>{t.abort(),t.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)},gT=(t,e)=>{e.activePlaylistLoader=t,t.load()},Lye=(t,e)=>()=>{const{segmentLoaders:{[t]:n,main:r},mediaTypes:{[t]:s}}=e,i=s.activeTrack(),a=s.getActiveGroup(),l=s.activePlaylistLoader,c=s.lastGroup_;if(!(a&&c&&a.id===c.id)&&(s.lastGroup_=a,s.lastTrack_=i,r$(n,s),!(!a||a.isMainPlaylist))){if(!a.playlistLoader){l&&r.resetEverything();return}n.resyncLoader(),gT(a.playlistLoader,s)}},Fye=(t,e)=>()=>{const{segmentLoaders:{[t]:n},mediaTypes:{[t]:r}}=e;r.lastGroup_=null,n.abort(),n.pause()},Bye=(t,e)=>()=>{const{mainPlaylistLoader:n,segmentLoaders:{[t]:r,main:s},mediaTypes:{[t]:i}}=e,a=i.activeTrack(),l=i.getActiveGroup(),c=i.activePlaylistLoader,u=i.lastTrack_;if(!(u&&a&&u.id===a.id)&&(i.lastGroup_=l,i.lastTrack_=a,r$(r,i),!!l)){if(l.isMainPlaylist){if(!a||!u||a.id===u.id)return;const h=e.vhs.playlistController_,f=h.selectPlaylist();if(h.media()===f)return;i.logger_(`track change. Switching main audio from ${u.id} to ${a.id}`),n.pause(),s.resetEverything(),h.fastQualityChange_(f);return}if(t==="AUDIO"){if(!l.playlistLoader){s.setAudio(!0),s.resetEverything();return}r.setAudio(!0),s.setAudio(!1)}if(c===l.playlistLoader){gT(l.playlistLoader,i);return}r.track&&r.track(a),r.resetEverything(),gT(l.playlistLoader,i)}},lv={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:n},excludePlaylist:r}=e,s=n.activeTrack(),i=n.activeGroup(),a=(i.filter(c=>c.default)[0]||i[0]).id,l=n.tracks[a];if(s===l){r({error:{message:"Problem encountered loading the default audio track."}});return}Qe.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(const c in n.tracks)n.tracks[c].enabled=n.tracks[c]===l;n.onTrackChanged()},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:n}}=e;Qe.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track.");const r=n.activeTrack();r&&(r.mode="disabled"),n.onTrackChanged()}},uI={AUDIO:(t,e,n)=>{if(!e)return;const{tech:r,requestOptions:s,segmentLoaders:{[t]:i}}=n;e.on("loadedmetadata",()=>{const a=e.media();i.playlist(a,s),(!r.paused()||a.endList&&r.preload()!=="none")&&i.load()}),e.on("loadedplaylist",()=>{i.playlist(e.media(),s),r.paused()||i.load()}),e.on("error",lv[t](t,n))},SUBTITLES:(t,e,n)=>{const{tech:r,requestOptions:s,segmentLoaders:{[t]:i},mediaTypes:{[t]:a}}=n;e.on("loadedmetadata",()=>{const l=e.media();i.playlist(l,s),i.track(a.activeTrack()),(!r.paused()||l.endList&&r.preload()!=="none")&&i.load()}),e.on("loadedplaylist",()=>{i.playlist(e.media(),s),r.paused()||i.load()}),e.on("error",lv[t](t,n))}},$ye={AUDIO:(t,e)=>{const{vhs:n,sourceType:r,segmentLoaders:{[t]:s},requestOptions:i,main:{mediaGroups:a},mediaTypes:{[t]:{groups:l,tracks:c,logger_:u}},mainPlaylistLoader:h}=e,f=w0(h.main);(!a[t]||Object.keys(a[t]).length===0)&&(a[t]={main:{default:{default:!0}}},f&&(a[t].main.default.playlists=h.main.playlists));for(const m in a[t]){l[m]||(l[m]=[]);for(const g in a[t][m]){let b=a[t][m][g],y;if(f?(u(`AUDIO group '${m}' label '${g}' is a main playlist`),b.isMainPlaylist=!0,y=null):r==="vhs-json"&&b.playlists?y=new Qh(b.playlists[0],n,i):b.resolvedUri?y=new Qh(b.resolvedUri,n,i):b.playlists&&r==="dash"?y=new dT(b.playlists[0],n,i,h):y=null,b=Jn({id:g,playlistLoader:y},b),uI[t](t,b.playlistLoader,e),l[m].push(b),typeof c[g]>"u"){const x=new Qe.AudioTrack({id:g,kind:Rye(b),enabled:!1,language:b.language,default:b.default,label:g});c[g]=x}}}s.on("error",lv[t](t,e))},SUBTITLES:(t,e)=>{const{tech:n,vhs:r,sourceType:s,segmentLoaders:{[t]:i},requestOptions:a,main:{mediaGroups:l},mediaTypes:{[t]:{groups:c,tracks:u}},mainPlaylistLoader:h}=e;for(const f in l[t]){c[f]||(c[f]=[]);for(const m in l[t][f]){if(!r.options_.useForcedSubtitles&&l[t][f][m].forced)continue;let g=l[t][f][m],b;if(s==="hls")b=new Qh(g.resolvedUri,r,a);else if(s==="dash"){if(!g.playlists.filter(x=>x.excludeUntil!==1/0).length)return;b=new dT(g.playlists[0],r,a,h)}else s==="vhs-json"&&(b=new Qh(g.playlists?g.playlists[0]:g.resolvedUri,r,a));if(g=Jn({id:m,playlistLoader:b},g),uI[t](t,g.playlistLoader,e),c[f].push(g),typeof u[m]>"u"){const y=n.addRemoteTextTrack({id:m,kind:"subtitles",default:g.default&&g.autoselect,language:g.language,label:m},!1).track;u[m]=y}}}i.on("error",lv[t](t,e))},"CLOSED-CAPTIONS":(t,e)=>{const{tech:n,main:{mediaGroups:r},mediaTypes:{[t]:{groups:s,tracks:i}}}=e;for(const a in r[t]){s[a]||(s[a]=[]);for(const l in r[t][a]){const c=r[t][a][l];if(!/^(?:CC|SERVICE)/.test(c.instreamId))continue;const u=n.options_.vhs&&n.options_.vhs.captionServices||{};let h={label:l,language:c.language,instreamId:c.instreamId,default:c.default&&c.autoselect};if(u[h.instreamId]&&(h=Jn(h,u[h.instreamId])),h.default===void 0&&delete h.default,s[a].push(Jn({id:l},c)),typeof i[l]>"u"){const f=n.addRemoteTextTrack({id:h.instreamId,kind:"captions",default:h.default,language:h.language,label:h.label},!1).track;i[l]=f}}}}},s$=(t,e)=>{for(let n=0;n<t.length;n++)if(Nj(e,t[n])||t[n].playlists&&s$(t[n].playlists,e))return!0;return!1},zye=(t,e)=>n=>{const{mainPlaylistLoader:r,mediaTypes:{[t]:{groups:s}}}=e,i=r.media();if(!i)return null;let a=null;i.attributes[t]&&(a=s[i.attributes[t]]);const l=Object.keys(s);if(!a)if(t==="AUDIO"&&l.length>1&&w0(e.main))for(let c=0;c<l.length;c++){const u=s[l[c]];if(s$(u,i)){a=u;break}}else s.main?a=s.main:l.length===1&&(a=s[l[0]]);return typeof n>"u"?a:n===null||!a?null:a.filter(c=>c.id===n.id)[0]||null},Uye={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:n}}}=e;for(const r in n)if(n[r].enabled)return n[r];return null},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:n}}}=e;for(const r in n)if(n[r].mode==="showing"||n[r].mode==="hidden")return n[r];return null}},Hye=(t,{mediaTypes:e})=>()=>{const n=e[t].activeTrack();return n?e[t].activeGroup(n):null},Wye=t=>{["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(u=>{$ye[u](u,t)});const{mediaTypes:e,mainPlaylistLoader:n,tech:r,vhs:s,segmentLoaders:{["AUDIO"]:i,main:a}}=t;["AUDIO","SUBTITLES"].forEach(u=>{e[u].activeGroup=zye(u,t),e[u].activeTrack=Uye[u](u,t),e[u].onGroupChanged=Lye(u,t),e[u].onGroupChanging=Fye(u,t),e[u].onTrackChanged=Bye(u,t),e[u].getActiveGroup=Hye(u,t)});const l=e.AUDIO.activeGroup();if(l){const u=(l.filter(f=>f.default)[0]||l[0]).id;e.AUDIO.tracks[u].enabled=!0,e.AUDIO.onGroupChanged(),e.AUDIO.onTrackChanged(),e.AUDIO.getActiveGroup().playlistLoader?(a.setAudio(!1),i.setAudio(!0)):a.setAudio(!0)}n.on("mediachange",()=>{["AUDIO","SUBTITLES"].forEach(u=>e[u].onGroupChanged())}),n.on("mediachanging",()=>{["AUDIO","SUBTITLES"].forEach(u=>e[u].onGroupChanging())});const c=()=>{e.AUDIO.onTrackChanged(),r.trigger({type:"usage",name:"vhs-audio-change"})};r.audioTracks().addEventListener("change",c),r.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),s.on("dispose",()=>{r.audioTracks().removeEventListener("change",c),r.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)}),r.clearTracks("audio");for(const u in e.AUDIO.tracks)r.audioTracks().addTrack(e.AUDIO.tracks[u])},Vye=()=>{const t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Hl,activeTrack:Hl,getActiveGroup:Hl,onGroupChanged:Hl,onTrackChanged:Hl,lastTrack_:null,logger_:Ga(`MediaGroups[${e}]`)}}),t};class dI{constructor(){this.priority_=[],this.pathwayClones_=new Map}set version(e){e===1&&(this.version_=e)}set ttl(e){this.ttl_=e||300}set reloadUri(e){e&&(this.reloadUri_=Ai(this.reloadUri_,e))}set priority(e){e&&e.length&&(this.priority_=e)}set pathwayClones(e){e&&e.length&&(this.pathwayClones_=new Map(e.map(n=>[n.ID,n])))}get version(){return this.version_}get ttl(){return this.ttl_}get reloadUri(){return this.reloadUri_}get priority(){return this.priority_}get pathwayClones(){return this.pathwayClones_}}class qye extends Qe.EventTarget{constructor(e,n){super(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=!1,this.availablePathways_=new Set,this.steeringManifest=new dI,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.currentPathwayClones=new Map,this.nextPathwayClones=new Map,this.excludedSteeringManifestURLs=new Set,this.logger_=Ga("Content Steering"),this.xhr_=e,this.getBandwidth_=n}assignTagProperties(e,n){this.manifestType_=n.serverUri?"HLS":"DASH";const r=n.serverUri||n.serverURL;if(!r){this.logger_(`steering manifest URL is ${r}, cannot request steering manifest.`),this.trigger("error");return}if(r.startsWith("data:")){this.decodeDataUriManifest_(r.substring(r.indexOf(",")+1));return}this.steeringManifest.reloadUri=Ai(e,r),this.defaultPathway=n.pathwayId||n.defaultServiceLocation,this.queryBeforeStart=n.queryBeforeStart,this.proxyServerUrl_=n.proxyServerURL,this.defaultPathway&&!this.queryBeforeStart&&this.trigger("content-steering")}requestSteeringManifest(e){const n=this.steeringManifest.reloadUri;if(!n)return;const r=e?n:this.getRequestURI(n);if(!r){this.logger_("No valid content steering manifest URIs. Stopping content steering."),this.trigger("error"),this.dispose();return}const s={contentSteeringInfo:{uri:r}};this.trigger({type:"contentsteeringloadstart",metadata:s}),this.request_=this.xhr_({uri:r,requestType:"content-steering-manifest"},(i,a)=>{if(i){if(a.status===410){this.logger_(`manifest request 410 ${i}.`),this.logger_(`There will be no more content steering requests to ${r} this session.`),this.excludedSteeringManifestURLs.add(r);return}if(a.status===429){const u=a.responseHeaders["retry-after"];this.logger_(`manifest request 429 ${i}.`),this.logger_(`content steering will retry in ${u} seconds.`),this.startTTLTimeout_(parseInt(u,10));return}this.logger_(`manifest failed to load ${i}.`),this.startTTLTimeout_();return}this.trigger({type:"contentsteeringloadcomplete",metadata:s});let l;try{l=JSON.parse(this.request_.responseText)}catch(u){const h={errorType:Qe.Error.StreamingContentSteeringParserError,error:u};this.trigger({type:"error",metadata:h})}this.assignSteeringProperties_(l);const c={contentSteeringInfo:s.contentSteeringInfo,contentSteeringManifest:{version:this.steeringManifest.version,reloadUri:this.steeringManifest.reloadUri,priority:this.steeringManifest.priority}};this.trigger({type:"contentsteeringparsed",metadata:c}),this.startTTLTimeout_()})}setProxyServerUrl_(e){const n=new Se.URL(e),r=new Se.URL(this.proxyServerUrl_);return r.searchParams.set("url",encodeURI(n.toString())),this.setSteeringParams_(r.toString())}decodeDataUriManifest_(e){const n=JSON.parse(Se.atob(e));this.assignSteeringProperties_(n)}setSteeringParams_(e){const n=new Se.URL(e),r=this.getPathway(),s=this.getBandwidth_();if(r){const i=`_${this.manifestType_}_pathway`;n.searchParams.set(i,r)}if(s){const i=`_${this.manifestType_}_throughput`;n.searchParams.set(i,s)}return n.toString()}assignSteeringProperties_(e){if(this.steeringManifest.version=e.VERSION,!this.steeringManifest.version){this.logger_(`manifest version is ${e.VERSION}, which is not supported.`),this.trigger("error");return}this.steeringManifest.ttl=e.TTL,this.steeringManifest.reloadUri=e["RELOAD-URI"],this.steeringManifest.priority=e["PATHWAY-PRIORITY"]||e["SERVICE-LOCATION-PRIORITY"],this.steeringManifest.pathwayClones=e["PATHWAY-CLONES"],this.nextPathwayClones=this.steeringManifest.pathwayClones,this.availablePathways_.size||(this.logger_("There are no available pathways for content steering. Ending content steering."),this.trigger("error"),this.dispose());const r=(s=>{for(const i of s)if(this.availablePathways_.has(i))return i;return[...this.availablePathways_][0]})(this.steeringManifest.priority);this.currentPathway!==r&&(this.currentPathway=r,this.trigger("content-steering"))}getPathway(){return this.currentPathway||this.defaultPathway}getRequestURI(e){if(!e)return null;const n=s=>this.excludedSteeringManifestURLs.has(s);if(this.proxyServerUrl_){const s=this.setProxyServerUrl_(e);if(!n(s))return s}const r=this.setSteeringParams_(e);return n(r)?null:r}startTTLTimeout_(e=this.steeringManifest.ttl){const n=e*1e3;this.ttlTimeout_=Se.setTimeout(()=>{this.requestSteeringManifest()},n)}clearTTLTimeout_(){Se.clearTimeout(this.ttlTimeout_),this.ttlTimeout_=null}abort(){this.request_&&this.request_.abort(),this.request_=null}dispose(){this.off("content-steering"),this.off("error"),this.abort(),this.clearTTLTimeout_(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=null,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.excludedSteeringManifestURLs=new Set,this.availablePathways_=new Set,this.steeringManifest=new dI}addAvailablePathway(e){e&&this.availablePathways_.add(e)}clearAvailablePathways(){this.availablePathways_.clear()}excludePathway(e){return this.availablePathways_.delete(e)}didDASHTagChange(e,n){return!n&&this.steeringManifest.reloadUri||n&&(Ai(e,n.serverURL)!==this.steeringManifest.reloadUri||n.defaultServiceLocation!==this.defaultPathway||n.queryBeforeStart!==this.queryBeforeStart||n.proxyServerURL!==this.proxyServerUrl_)}getAvailablePathways(){return this.availablePathways_}}const Yye=(t,e)=>{let n=null;return(...r)=>{clearTimeout(n),n=setTimeout(()=>{t.apply(null,r)},e)}},Gye=10;let Wc;const Kye=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],Xye=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]},Qye=function({currentPlaylist:t,buffered:e,currentTime:n,nextPlaylist:r,bufferLowWaterLine:s,bufferHighWaterLine:i,duration:a,bufferBasedABR:l,log:c}){if(!r)return Qe.log.warn("We received no playlist to switch to. Please check your stream."),!1;const u=`allowing switch ${t&&t.id||"null"} -> ${r.id}`;if(!t)return c(`${u} as current playlist is not set`),!0;if(r.id===t.id)return!1;const h=!!Xh(e,n).length;if(!t.endList)return!h&&typeof t.partTargetDuration=="number"?(c(`not ${u} as current playlist is live llhls, but currentTime isn't in buffered.`),!1):(c(`${u} as current playlist is live`),!0);const f=kj(e,n),m=l?vs.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:vs.MAX_BUFFER_LOW_WATER_LINE;if(a<m)return c(`${u} as duration < max low water line (${a} < ${m})`),!0;const g=r.attributes.BANDWIDTH,b=t.attributes.BANDWIDTH;if(g<b&&(!l||f<i)){let y=`${u} as next bandwidth < current bandwidth (${g} < ${b})`;return l&&(y+=` and forwardBuffer < bufferHighWaterLine (${f} < ${i})`),c(y),!0}if((!l||g>b)&&f>=s){let y=`${u} as forwardBuffer >= bufferLowWaterLine (${f} >= ${s})`;return l&&(y+=` and next bandwidth > current bandwidth (${g} > ${b})`),c(y),!0}return c(`not ${u} as no switching criteria met`),!1};class Zye extends Qe.EventTarget{constructor(e){super(),this.fastQualityChange_=Yye(this.fastQualityChange_.bind(this),100);const{src:n,withCredentials:r,tech:s,bandwidth:i,externVhs:a,useCueTags:l,playlistExclusionDuration:c,enableLowInitialPlaylist:u,sourceType:h,cacheEncryptionKeys:f,bufferBasedABR:m,leastPixelDiffSelector:g,captionServices:b,experimentalUseMMS:y}=e;if(!n)throw new Error("A non-empty playlist URL or JSON manifest string is required");let{maxPlaylistRetries:x}=e;(x===null||typeof x>"u")&&(x=1/0),Wc=a,this.bufferBasedABR=!!m,this.leastPixelDiffSelector=!!g,this.withCredentials=r,this.tech_=s,this.vhs_=s.vhs,this.player_=e.player_,this.sourceType_=h,this.useCueTags_=l,this.playlistExclusionDuration=c,this.maxPlaylistRetries=x,this.enableLowInitialPlaylist=u,this.usingManagedMediaSource_=!1,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:r,maxPlaylistRetries:x,timeout:null},this.on("error",this.pauseLoading),this.mediaTypes_=Vye(),y&&Se.ManagedMediaSource?(this.tech_.el_.disableRemotePlayback=!0,this.mediaSource=new Se.ManagedMediaSource,this.usingManagedMediaSource_=!0,Qe.log("Using ManagedMediaSource")):Se.MediaSource&&(this.mediaSource=new Se.MediaSource),this.handleDurationChange_=this.handleDurationChange_.bind(this),this.handleSourceOpen_=this.handleSourceOpen_.bind(this),this.handleSourceEnded_=this.handleSourceEnded_.bind(this),this.load=this.load.bind(this),this.pause=this.pause.bind(this),this.mediaSource.addEventListener("durationchange",this.handleDurationChange_),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.addEventListener("sourceended",this.handleSourceEnded_),this.mediaSource.addEventListener("startstreaming",this.load),this.mediaSource.addEventListener("endstreaming",this.pause),this.seekable_=Cs(),this.hasPlayed_=!1,this.syncController_=new Pye(e),this.segmentMetadataTrack_=s.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.segmentMetadataTrack_.mode="hidden",this.decrypter_=new Mye,this.sourceUpdater_=new t$(this.mediaSource),this.inbandTextTracks_={},this.timelineChangeController_=new Iye,this.keyStatusMap_=new Map;const w={vhs:this.vhs_,parse708captions:e.parse708captions,useDtsForTimestampOffset:e.useDtsForTimestampOffset,captionServices:b,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:()=>this.seekable(),seeking:()=>this.tech_.seeking(),duration:()=>this.duration(),hasPlayed:()=>this.hasPlayed_,goalBufferLength:()=>this.goalBufferLength(),bandwidth:i,syncController:this.syncController_,decrypter:this.decrypter_,sourceType:this.sourceType_,inbandTextTracks:this.inbandTextTracks_,cacheEncryptionKeys:f,sourceUpdater:this.sourceUpdater_,timelineChangeController:this.timelineChangeController_,exactManifestTimings:e.exactManifestTimings,addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)};this.mainPlaylistLoader_=this.sourceType_==="dash"?new dT(n,this.vhs_,Jn(this.requestOptions_,{addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)})):new Qh(n,this.vhs_,Jn(this.requestOptions_,{addDateRangesToTextTrack:this.addDateRangesToTextTrack_.bind(this)})),this.setupMainPlaylistLoaderListeners_(),this.mainSegmentLoader_=new pT(Jn(w,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),e),this.audioSegmentLoader_=new pT(Jn(w,{loaderType:"audio"}),e),this.subtitleSegmentLoader_=new Eye(Jn(w,{loaderType:"vtt",featuresNativeTextTracks:this.tech_.featuresNativeTextTracks,loadVttJs:()=>new Promise((A,N)=>{function P(){s.off("vttjserror",M),A()}function M(){s.off("vttjsloaded",P),N()}s.one("vttjsloaded",P),s.one("vttjserror",M),s.addWebVttScript_()})}),e);const C=()=>this.mainSegmentLoader_.bandwidth;this.contentSteeringController_=new qye(this.vhs_.xhr,C),this.setupSegmentLoaderListeners_(),this.bufferBasedABR&&(this.mainPlaylistLoader_.one("loadedplaylist",()=>this.startABRTimer_()),this.tech_.on("pause",()=>this.stopABRTimer_()),this.tech_.on("play",()=>this.startABRTimer_())),Kye.forEach(A=>{this[A+"_"]=Xye.bind(this,A)}),this.logger_=Ga("pc"),this.triggeredFmp4Usage=!1,this.tech_.preload()==="none"?(this.loadOnPlay_=()=>{this.loadOnPlay_=null,this.mainPlaylistLoader_.load()},this.tech_.one("play",this.loadOnPlay_)):this.mainPlaylistLoader_.load(),this.timeToLoadedData__=-1,this.mainAppendsToLoadedData__=-1,this.audioAppendsToLoadedData__=-1;const k=this.tech_.preload()==="none"?"play":"loadstart";this.tech_.one(k,()=>{const A=Date.now();this.tech_.one("loadeddata",()=>{this.timeToLoadedData__=Date.now()-A,this.mainAppendsToLoadedData__=this.mainSegmentLoader_.mediaAppends,this.audioAppendsToLoadedData__=this.audioSegmentLoader_.mediaAppends})})}mainAppendsToLoadedData_(){return this.mainAppendsToLoadedData__}audioAppendsToLoadedData_(){return this.audioAppendsToLoadedData__}appendsToLoadedData_(){const e=this.mainAppendsToLoadedData_(),n=this.audioAppendsToLoadedData_();return e===-1||n===-1?-1:e+n}timeToLoadedData_(){return this.timeToLoadedData__}checkABR_(e="abr"){const n=this.selectPlaylist();n&&this.shouldSwitchToMedia_(n)&&this.switchMedia_(n,e)}switchMedia_(e,n,r){const s=this.media(),i=s&&(s.id||s.uri),a=e&&(e.id||e.uri);if(i&&i!==a){this.logger_(`switch media ${i} -> ${a} from ${n}`);const l={renditionInfo:{id:a,bandwidth:e.attributes.BANDWIDTH,resolution:e.attributes.RESOLUTION,codecs:e.attributes.CODECS},cause:n};this.trigger({type:"renditionselected",metadata:l}),this.tech_.trigger({type:"usage",name:`vhs-rendition-change-${n}`})}this.mainPlaylistLoader_.media(e,r)}switchMediaForDASHContentSteering_(){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{const n=this.mediaTypes_[e],r=n?n.activeGroup():null,s=this.contentSteeringController_.getPathway();if(r&&s){const a=(r.length?r[0].playlists:r.playlists).filter(l=>l.attributes.serviceLocation===s);a.length&&this.mediaTypes_[e].activePlaylistLoader.media(a[0])}})}startABRTimer_(){this.stopABRTimer_(),this.abrTimer_=Se.setInterval(()=>this.checkABR_(),250)}stopABRTimer_(){this.tech_.scrubbing&&this.tech_.scrubbing()||(Se.clearInterval(this.abrTimer_),this.abrTimer_=null)}getAudioTrackPlaylists_(){const e=this.main(),n=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return n;const r=e.mediaGroups.AUDIO,s=Object.keys(r);let i;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)i=this.mediaTypes_.AUDIO.activeTrack();else{const l=r.main||s.length&&r[s[0]];for(const c in l)if(l[c].default){i={label:c};break}}if(!i)return n;const a=[];for(const l in r)if(r[l][i.label]){const c=r[l][i.label];if(c.playlists&&c.playlists.length)a.push.apply(a,c.playlists);else if(c.uri)a.push(c);else if(e.playlists.length)for(let u=0;u<e.playlists.length;u++){const h=e.playlists[u];h.attributes&&h.attributes.AUDIO&&h.attributes.AUDIO===l&&a.push(h)}}return a.length?a:n}setupMainPlaylistLoaderListeners_(){this.mainPlaylistLoader_.on("loadedmetadata",()=>{const n=this.mainPlaylistLoader_.media(),r=n.targetDuration*1.5*1e3;aT(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=r,n.endList&&this.tech_.preload()!=="none"&&(this.mainSegmentLoader_.playlist(n,this.requestOptions_),this.mainSegmentLoader_.load()),Wye({sourceType:this.sourceType_,segmentLoaders:{AUDIO:this.audioSegmentLoader_,SUBTITLES:this.subtitleSegmentLoader_,main:this.mainSegmentLoader_},tech:this.tech_,requestOptions:this.requestOptions_,mainPlaylistLoader:this.mainPlaylistLoader_,vhs:this.vhs_,main:this.main(),mediaTypes:this.mediaTypes_,excludePlaylist:this.excludePlaylist.bind(this)}),this.triggerPresenceUsage_(this.main(),n),this.setupFirstPlay(),!this.mediaTypes_.AUDIO.activePlaylistLoader||this.mediaTypes_.AUDIO.activePlaylistLoader.media()?this.trigger("selectedinitialmedia"):this.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",()=>{this.trigger("selectedinitialmedia")})}),this.mainPlaylistLoader_.on("loadedplaylist",()=>{this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_);let n=this.mainPlaylistLoader_.media();if(!n){this.attachContentSteeringListeners_(),this.initContentSteeringController_(),this.excludeUnsupportedVariants_();let r;if(this.enableLowInitialPlaylist&&(r=this.selectInitialPlaylist()),r||(r=this.selectPlaylist()),!r||!this.shouldSwitchToMedia_(r)||(this.initialMedia_=r,this.switchMedia_(this.initialMedia_,"initial"),!(this.sourceType_==="vhs-json"&&this.initialMedia_.segments)))return;n=this.initialMedia_}this.handleUpdatedMediaPlaylist(n)}),this.mainPlaylistLoader_.on("error",()=>{const n=this.mainPlaylistLoader_.error;this.excludePlaylist({playlistToExclude:n.playlist,error:n})}),this.mainPlaylistLoader_.on("mediachanging",()=>{this.mainSegmentLoader_.abort(),this.mainSegmentLoader_.pause()}),this.mainPlaylistLoader_.on("mediachange",()=>{const n=this.mainPlaylistLoader_.media(),r=n.targetDuration*1.5*1e3;aT(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=r,this.sourceType_==="dash"&&this.mainPlaylistLoader_.isPaused&&this.mainPlaylistLoader_.load(),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(n,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_?this.runFastQualitySwitch_():this.mainSegmentLoader_.load(),this.tech_.trigger({type:"mediachange",bubbles:!0})}),this.mainPlaylistLoader_.on("playlistunchanged",()=>{const n=this.mainPlaylistLoader_.media();if(n.lastExcludeReason_==="playlist-unchanged")return;this.stuckAtPlaylistEnd_(n)&&(this.excludePlaylist({error:{message:"Playlist no longer updating.",reason:"playlist-unchanged"}}),this.tech_.trigger("playliststuck"))}),this.mainPlaylistLoader_.on("renditiondisabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"})}),this.mainPlaylistLoader_.on("renditionenabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"})}),["manifestrequeststart","manifestrequestcomplete","manifestparsestart","manifestparsecomplete","playlistrequeststart","playlistrequestcomplete","playlistparsestart","playlistparsecomplete","renditiondisabled","renditionenabled"].forEach(n=>{this.mainPlaylistLoader_.on(n,r=>{this.player_.trigger(Ot({},r))})})}handleUpdatedMediaPlaylist(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_&&this.runFastQualitySwitch_(),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())}triggerPresenceUsage_(e,n){const r=e.mediaGroups||{};let s=!0;const i=Object.keys(r.AUDIO);for(const a in r.AUDIO)for(const l in r.AUDIO[a])r.AUDIO[a][l].uri||(s=!1);s&&this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),Object.keys(r.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),Wc.Playlist.isAes(n)&&this.tech_.trigger({type:"usage",name:"vhs-aes"}),i.length&&Object.keys(r.AUDIO[i[0]]).length>1&&this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"})}shouldSwitchToMedia_(e){const n=this.mainPlaylistLoader_.media()||this.mainPlaylistLoader_.pendingMedia_,r=this.tech_.currentTime(),s=this.bufferLowWaterLine(),i=this.bufferHighWaterLine(),a=this.tech_.buffered();return Qye({buffered:a,currentTime:r,currentPlaylist:n,nextPlaylist:e,bufferLowWaterLine:s,bufferHighWaterLine:i,duration:this.duration(),bufferBasedABR:this.bufferBasedABR,log:this.logger_})}setupSegmentLoaderListeners_(){this.mainSegmentLoader_.on("bandwidthupdate",()=>{this.checkABR_("bandwidthupdate"),this.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",()=>{this.bufferBasedABR&&this.mainSegmentLoader_.load()}),this.bufferBasedABR||this.mainSegmentLoader_.on("progress",()=>{this.trigger("progress")}),this.mainSegmentLoader_.on("error",()=>{const r=this.mainSegmentLoader_.error();this.excludePlaylist({playlistToExclude:r.playlist,error:r})}),this.mainSegmentLoader_.on("appenderror",()=>{this.error=this.mainSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",()=>{this.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",()=>{this.error=this.audioSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("ended",()=>{this.logger_("main segment loader ended"),this.onEndOfStream()}),this.timelineChangeController_.on("audioTimelineBehind",()=>{const r=this.audioSegmentLoader_.pendingSegment_;if(!r||!r.segment||!r.segment.syncInfo)return;const s=r.segment.syncInfo.end+.01;this.tech_.setCurrentTime(s)}),this.timelineChangeController_.on("fixBadTimelineChange",()=>{this.logger_("Fix bad timeline change. Restarting al segment loaders..."),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}),this.mainSegmentLoader_.on("earlyabort",r=>{this.bufferBasedABR||(this.delegateLoaders_("all",["abort"]),this.excludePlaylist({error:{message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},playlistExclusionDuration:Gye}))});const e=()=>{if(!this.sourceUpdater_.hasCreatedSourceBuffers())return this.tryToCreateSourceBuffers_();const r=this.getCodecsOrExclude_();r&&this.sourceUpdater_.addOrChangeSourceBuffers(r)};this.mainSegmentLoader_.on("trackinfo",e),this.audioSegmentLoader_.on("trackinfo",e),this.mainSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",()=>{this.logger_("audioSegmentLoader ended"),this.onEndOfStream()}),["segmentselected","segmentloadstart","segmentloaded","segmentkeyloadstart","segmentkeyloadcomplete","segmentdecryptionstart","segmentdecryptioncomplete","segmenttransmuxingstart","segmenttransmuxingcomplete","segmenttransmuxingtrackinfoavailable","segmenttransmuxingtiminginfoavailable","segmentappendstart","appendsdone","bandwidthupdated","timelinechange","codecschange"].forEach(r=>{this.mainSegmentLoader_.on(r,s=>{this.player_.trigger(Ot({},s))}),this.audioSegmentLoader_.on(r,s=>{this.player_.trigger(Ot({},s))}),this.subtitleSegmentLoader_.on(r,s=>{this.player_.trigger(Ot({},s))})})}mediaSecondsLoaded_(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}load(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}pause(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}fastQualityChange_(e=this.selectPlaylist()){if(e&&e===this.mainPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(e,"fast-quality"),this.waitingForFastQualityPlaylistReceived_=!0}runFastQualitySwitch_(){this.waitingForFastQualityPlaylistReceived_=!1,this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}play(){if(this.setupFirstPlay())return;this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();const e=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0))return this.tech_.setCurrentTime(e.end(e.length-1))}setupFirstPlay(){const e=this.mainPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_)return!1;if(!e.endList||e.start){const n=this.seekable();if(!n.length)return!1;const r=n.end(0);let s=r;if(e.start){const i=e.start.timeOffset;i<0?s=Math.max(r+i,n.start(0)):s=Math.min(r,i)}this.trigger("firstplay"),this.tech_.setCurrentTime(s)}return this.hasPlayed_=!0,this.load(),!0}handleSourceOpen_(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){const e=this.tech_.play();typeof e<"u"&&typeof e.then=="function"&&e.then(null,n=>{})}this.trigger("sourceopen")}handleSourceEnded_(){if(!this.inbandTextTracks_.metadataTrack_)return;const e=this.inbandTextTracks_.metadataTrack_.cues;if(!e||!e.length)return;const n=this.duration();e[e.length-1].endTime=isNaN(n)||Math.abs(n)===1/0?Number.MAX_VALUE:n}handleDurationChange_(){this.tech_.trigger("durationchange")}onEndOfStream(){let e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){const n=this.mainSegmentLoader_.getCurrentMediaInfo_();!n||n.hasVideo?e=e&&this.audioSegmentLoader_.ended_:e=this.audioSegmentLoader_.ended_}e&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())}stuckAtPlaylistEnd_(e){if(!this.seekable().length)return!1;const r=this.syncController_.getExpiredTime(e,this.duration());if(r===null)return!1;const s=Wc.Playlist.playlistEnd(e,r),i=this.tech_.currentTime(),a=this.tech_.buffered();if(!a.length)return s-i<=tl;const l=a.end(a.length-1);return l-i<=tl&&s-l<=tl}excludePlaylist({playlistToExclude:e=this.mainPlaylistLoader_.media(),error:n={},playlistExclusionDuration:r}){if(e=e||this.mainPlaylistLoader_.media(),r=r||n.playlistExclusionDuration||this.playlistExclusionDuration,!e){this.error=n,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}e.playlistErrors_++;const s=this.mainPlaylistLoader_.main.playlists,i=s.filter(V1),a=i.length===1&&i[0]===e;if(s.length===1&&r!==1/0)return Qe.log.warn(`Problem encountered with playlist ${e.id}. Trying again since it is the only playlist.`),this.tech_.trigger("retryplaylist"),this.mainPlaylistLoader_.load(a);if(a){if(this.main().contentSteering){const b=this.pathwayAttribute_(e),y=this.contentSteeringController_.steeringManifest.ttl*1e3;this.contentSteeringController_.excludePathway(b),this.excludeThenChangePathway_(),setTimeout(()=>{this.contentSteeringController_.addAvailablePathway(b)},y);return}let g=!1;s.forEach(b=>{if(b===e)return;const y=b.excludeUntil;typeof y<"u"&&y!==1/0&&(g=!0,delete b.excludeUntil)}),g&&(Qe.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}let l;e.playlistErrors_>this.maxPlaylistRetries?l=1/0:l=Date.now()+r*1e3,e.excludeUntil=l,n.reason&&(e.lastExcludeReason_=n.reason),this.tech_.trigger("excludeplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-excluded"});const c=this.selectPlaylist();if(!c){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}const u=n.internal?this.logger_:Qe.log.warn,h=n.message?" "+n.message:"";u(`${n.internal?"Internal problem":"Problem"} encountered with playlist ${e.id}.${h} Switching to playlist ${c.id}.`),c.attributes.AUDIO!==e.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),c.attributes.SUBTITLES!==e.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);const f=c.targetDuration/2*1e3||5*1e3,m=typeof c.lastRequest=="number"&&Date.now()-c.lastRequest<=f;return this.switchMedia_(c,"exclude",a||m)}pauseLoading(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()}delegateLoaders_(e,n){const r=[],s=e==="all";(s||e==="main")&&r.push(this.mainPlaylistLoader_);const i=[];(s||e==="audio")&&i.push("AUDIO"),(s||e==="subtitle")&&(i.push("CLOSED-CAPTIONS"),i.push("SUBTITLES")),i.forEach(a=>{const l=this.mediaTypes_[a]&&this.mediaTypes_[a].activePlaylistLoader;l&&r.push(l)}),["main","audio","subtitle"].forEach(a=>{const l=this[`${a}SegmentLoader_`];l&&(e===a||e==="all")&&r.push(l)}),r.forEach(a=>n.forEach(l=>{typeof a[l]=="function"&&a[l]()}))}setCurrentTime(e){const n=Xh(this.tech_.buffered(),e);if(!(this.mainPlaylistLoader_&&this.mainPlaylistLoader_.media())||!this.mainPlaylistLoader_.media().segments)return 0;if(n&&n.length)return e;this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}duration(){if(!this.mainPlaylistLoader_)return 0;const e=this.mainPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:Wc.Playlist.duration(e):1/0:0}seekable(){return this.seekable_}getSeekableRange_(e,n){const r=e.media();if(!r)return null;const s=this.syncController_.getMediaSequenceSync(n);if(s&&s.isReliable){const l=s.start,c=s.end;if(!isFinite(l)||!isFinite(c))return null;const u=Wc.Playlist.liveEdgeDelay(this.mainPlaylistLoader_.main,r),h=Math.max(l,c-u);return Cs([[l,h]])}const i=this.syncController_.getExpiredTime(r,this.duration());if(i===null)return null;const a=Wc.Playlist.seekable(r,i,Wc.Playlist.liveEdgeDelay(this.mainPlaylistLoader_.main,r));return a.length?a:null}computeFinalSeekable_(e,n){if(!n)return e;const r=e.start(0),s=e.end(0),i=n.start(0),a=n.end(0);return i>s||r>a?e:Cs([[Math.max(r,i),Math.min(s,a)]])}onSyncInfoUpdate_(){if(!this.mainPlaylistLoader_)return;const e=this.getSeekableRange_(this.mainPlaylistLoader_,"main");if(!e)return;let n;if(this.mediaTypes_.AUDIO.activePlaylistLoader&&(n=this.getSeekableRange_(this.mediaTypes_.AUDIO.activePlaylistLoader,"audio"),!n))return;const r=this.seekable_;if(this.seekable_=this.computeFinalSeekable_(e,n),!this.seekable_||r&&r.length&&this.seekable_.length&&r.start(0)===this.seekable_.start(0)&&r.end(0)===this.seekable_.end(0))return;this.logger_(`seekable updated [${p7(this.seekable_)}]`);const s={seekableRanges:this.seekable_};this.trigger({type:"seekablerangeschanged",metadata:s}),this.tech_.trigger("seekablechanged")}updateDuration(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,e),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(e){const s=this.seekable();if(!s.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<s.end(s.length-1))&&this.sourceUpdater_.setDuration(s.end(s.length-1));return}const n=this.tech_.buffered();let r=Wc.Playlist.duration(this.mainPlaylistLoader_.media());n.length>0&&(r=Math.max(r,n.end(n.length-1))),this.mediaSource.duration!==r&&this.sourceUpdater_.setDuration(r)}dispose(){this.trigger("dispose"),this.decrypter_.terminate(),this.mainPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.contentSteeringController_.dispose(),this.keyStatusMap_.clear(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(e=>{const n=this.mediaTypes_[e].groups;for(const r in n)n[r].forEach(s=>{s.playlistLoader&&s.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()}main(){return this.mainPlaylistLoader_.main}media(){return this.mainPlaylistLoader_.media()||this.initialMedia_}areMediaTypesKnown_(){const e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,n=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),r=e?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!n||!r)}getCodecsOrExclude_(){const e={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},n=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();e.video=e.main;const r=Gm(this.main(),n),s={},i=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(e.main.hasVideo&&(s.video=r.video||e.main.videoCodec||Ofe),e.main.isMuxed&&(s.video+=`,${r.audio||e.main.audioCodec||X4}`),(e.main.hasAudio&&!e.main.isMuxed||e.audio.hasAudio||i)&&(s.audio=r.audio||e.main.audioCodec||e.audio.audioCodec||X4,e.audio.isFmp4=e.main.hasAudio&&!e.main.isMuxed?e.main.isFmp4:e.audio.isFmp4),!s.audio&&!s.video){this.excludePlaylist({playlistToExclude:n,error:{message:"Could not determine codecs for playlist."},playlistExclusionDuration:1/0});return}const a=(u,h)=>u?Hm(h,this.usingManagedMediaSource_):H2(h),l={};let c;if(["video","audio"].forEach(function(u){if(s.hasOwnProperty(u)&&!a(e[u].isFmp4,s[u])){const h=e[u].isFmp4?"browser":"muxer";l[h]=l[h]||[],l[h].push(s[u]),u==="audio"&&(c=h)}}),i&&c&&n.attributes.AUDIO){const u=n.attributes.AUDIO;this.main().playlists.forEach(h=>{(h.attributes&&h.attributes.AUDIO)===u&&h!==n&&(h.excludeUntil=1/0)}),this.logger_(`excluding audio group ${u} as ${c} does not support codec(s): "${s.audio}"`)}if(Object.keys(l).length){const u=Object.keys(l).reduce((h,f)=>(h&&(h+=", "),h+=`${f} does not support codec(s): "${l[f].join(",")}"`,h),"")+".";this.excludePlaylist({playlistToExclude:n,error:{internal:!0,message:u},playlistExclusionDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){const u=[];if(["video","audio"].forEach(h=>{const f=(qo(this.sourceUpdater_.codecs[h]||"")[0]||{}).type,m=(qo(s[h]||"")[0]||{}).type;f&&m&&f.toLowerCase()!==m.toLowerCase()&&u.push(`"${this.sourceUpdater_.codecs[h]}" -> "${s[h]}"`)}),u.length){this.excludePlaylist({playlistToExclude:n,error:{message:`Codec switching not supported: ${u.join(", ")}.`,internal:!0},playlistExclusionDuration:1/0});return}}return s}tryToCreateSourceBuffers_(){if(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers()||!this.areMediaTypesKnown_())return;const e=this.getCodecsOrExclude_();if(!e)return;this.sourceUpdater_.createSourceBuffers(e);const n=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(n)}excludeUnsupportedVariants_(){const e=this.main().playlists,n=[];Object.keys(e).forEach(r=>{const s=e[r];if(n.indexOf(s.id)!==-1)return;n.push(s.id);const i=Gm(this.main,s),a=[];i.audio&&!H2(i.audio)&&!Hm(i.audio,this.usingManagedMediaSource_)&&a.push(`audio codec ${i.audio}`),i.video&&!H2(i.video)&&!Hm(i.video,this.usingManagedMediaSource_)&&a.push(`video codec ${i.video}`),i.text&&i.text==="stpp.ttml.im1t"&&a.push(`text codec ${i.text}`),a.length&&(s.excludeUntil=1/0,this.logger_(`excluding ${s.id} for unsupported: ${a.join(", ")}`))})}excludeIncompatibleVariants_(e){const n=[],r=this.main().playlists,s=jg(qo(e)),i=YP(s),a=s.video&&qo(s.video)[0]||null,l=s.audio&&qo(s.audio)[0]||null;Object.keys(r).forEach(c=>{const u=r[c];if(n.indexOf(u.id)!==-1||u.excludeUntil===1/0)return;n.push(u.id);const h=[],f=Gm(this.mainPlaylistLoader_.main,u),m=YP(f);if(!(!f.audio&&!f.video)){if(m!==i&&h.push(`codec count "${m}" !== "${i}"`),!this.sourceUpdater_.canChangeType()){const g=f.video&&qo(f.video)[0]||null,b=f.audio&&qo(f.audio)[0]||null;g&&a&&g.type.toLowerCase()!==a.type.toLowerCase()&&h.push(`video codec "${g.type}" !== "${a.type}"`),b&&l&&b.type.toLowerCase()!==l.type.toLowerCase()&&h.push(`audio codec "${b.type}" !== "${l.type}"`)}h.length&&(u.excludeUntil=1/0,this.logger_(`excluding ${u.id}: ${h.join(" && ")}`))}})}updateAdCues_(e){let n=0;const r=this.seekable();r.length&&(n=r.start(0)),Nye(e,this.cueTagsTrack_,n)}goalBufferLength(){const e=this.tech_.currentTime(),n=vs.GOAL_BUFFER_LENGTH,r=vs.GOAL_BUFFER_LENGTH_RATE,s=Math.max(n,vs.MAX_GOAL_BUFFER_LENGTH);return Math.min(n+e*r,s)}bufferLowWaterLine(){const e=this.tech_.currentTime(),n=vs.BUFFER_LOW_WATER_LINE,r=vs.BUFFER_LOW_WATER_LINE_RATE,s=Math.max(n,vs.MAX_BUFFER_LOW_WATER_LINE),i=Math.max(n,vs.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(n+e*r,this.bufferBasedABR?i:s)}bufferHighWaterLine(){return vs.BUFFER_HIGH_WATER_LINE}addDateRangesToTextTrack_(e){tI(this.inbandTextTracks_,"com.apple.streaming",this.tech_),lye({inbandTextTracks:this.inbandTextTracks_,dateRanges:e})}addMetadataToTextTrack(e,n,r){const s=this.sourceUpdater_.videoBuffer?this.sourceUpdater_.videoTimestampOffset():this.sourceUpdater_.audioTimestampOffset();tI(this.inbandTextTracks_,e,this.tech_),iye({inbandTextTracks:this.inbandTextTracks_,metadataArray:n,timestampOffset:s,videoDuration:r})}pathwayAttribute_(e){return e.attributes["PATHWAY-ID"]||e.attributes.serviceLocation}initContentSteeringController_(){const e=this.main();if(e.contentSteering){for(const n of e.playlists)this.contentSteeringController_.addAvailablePathway(this.pathwayAttribute_(n));if(this.contentSteeringController_.assignTagProperties(e.uri,e.contentSteering),this.contentSteeringController_.queryBeforeStart){this.contentSteeringController_.requestSteeringManifest(!0);return}this.tech_.one("canplay",()=>{this.contentSteeringController_.requestSteeringManifest()})}}resetContentSteeringController_(){this.contentSteeringController_.clearAvailablePathways(),this.contentSteeringController_.dispose(),this.initContentSteeringController_()}attachContentSteeringListeners_(){this.contentSteeringController_.on("content-steering",this.excludeThenChangePathway_.bind(this)),["contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"].forEach(n=>{this.contentSteeringController_.on(n,r=>{this.trigger(Ot({},r))})}),this.sourceType_==="dash"&&this.mainPlaylistLoader_.on("loadedplaylist",()=>{const n=this.main();(this.contentSteeringController_.didDASHTagChange(n.uri,n.contentSteering)||(()=>{const i=this.contentSteeringController_.getAvailablePathways(),a=[];for(const l of n.playlists){const c=l.attributes.serviceLocation;if(c&&(a.push(c),!i.has(c)))return!0}return!!(!a.length&&i.size)})())&&this.resetContentSteeringController_()})}excludeThenChangePathway_(){const e=this.contentSteeringController_.getPathway();if(!e)return;this.handlePathwayClones_();const r=this.main().playlists,s=new Set;let i=!1;Object.keys(r).forEach(a=>{const l=r[a],c=this.pathwayAttribute_(l),u=c&&e!==c;l.excludeUntil===1/0&&l.lastExcludeReason_==="content-steering"&&!u&&(delete l.excludeUntil,delete l.lastExcludeReason_,i=!0);const f=!l.excludeUntil&&l.excludeUntil!==1/0;!s.has(l.id)&&u&&f&&(s.add(l.id),l.excludeUntil=1/0,l.lastExcludeReason_="content-steering",this.logger_(`excluding ${l.id} for ${l.lastExcludeReason_}`))}),this.contentSteeringController_.manifestType_==="DASH"&&Object.keys(this.mediaTypes_).forEach(a=>{const l=this.mediaTypes_[a];if(l.activePlaylistLoader){const c=l.activePlaylistLoader.media_;c&&c.attributes.serviceLocation!==e&&(i=!0)}}),i&&this.changeSegmentPathway_()}handlePathwayClones_(){const n=this.main().playlists,r=this.contentSteeringController_.currentPathwayClones,s=this.contentSteeringController_.nextPathwayClones;if(r&&r.size||s&&s.size){for(const[a,l]of r.entries())s.get(a)||(this.mainPlaylistLoader_.updateOrDeleteClone(l),this.contentSteeringController_.excludePathway(a));for(const[a,l]of s.entries()){const c=r.get(a);if(!c){n.filter(h=>h.attributes["PATHWAY-ID"]===l["BASE-ID"]).forEach(h=>{this.mainPlaylistLoader_.addClonePathway(l,h)}),this.contentSteeringController_.addAvailablePathway(a);continue}this.equalPathwayClones_(c,l)||(this.mainPlaylistLoader_.updateOrDeleteClone(l,!0),this.contentSteeringController_.addAvailablePathway(a))}this.contentSteeringController_.currentPathwayClones=new Map(JSON.parse(JSON.stringify([...s])))}}equalPathwayClones_(e,n){if(e["BASE-ID"]!==n["BASE-ID"]||e.ID!==n.ID||e["URI-REPLACEMENT"].HOST!==n["URI-REPLACEMENT"].HOST)return!1;const r=e["URI-REPLACEMENT"].PARAMS,s=n["URI-REPLACEMENT"].PARAMS;for(const i in r)if(r[i]!==s[i])return!1;for(const i in s)if(r[i]!==s[i])return!1;return!0}changeSegmentPathway_(){const e=this.selectPlaylist();this.pauseLoading(),this.contentSteeringController_.manifestType_==="DASH"&&this.switchMediaForDASHContentSteering_(),this.switchMedia_(e,"content-steering")}excludeNonUsablePlaylistsByKeyId_(){if(!this.mainPlaylistLoader_||!this.mainPlaylistLoader_.main)return;let e=0;const n="non-usable";this.mainPlaylistLoader_.main.playlists.forEach(r=>{const s=this.mainPlaylistLoader_.getKeyIdSet(r);!s||!s.size||s.forEach(i=>{const a="usable",l=this.keyStatusMap_.has(i)&&this.keyStatusMap_.get(i)===a,c=r.lastExcludeReason_===n&&r.excludeUntil===1/0;l?l&&c&&(delete r.excludeUntil,delete r.lastExcludeReason_,this.logger_(`enabling playlist ${r.id} because key ID ${i} is ${a}`)):(r.excludeUntil!==1/0&&r.lastExcludeReason_!==n&&(r.excludeUntil=1/0,r.lastExcludeReason_=n,this.logger_(`excluding playlist ${r.id} because the key ID ${i} doesn't exist in the keyStatusMap or is not ${a}`)),e++)})}),e>=this.mainPlaylistLoader_.main.playlists.length&&this.mainPlaylistLoader_.main.playlists.forEach(r=>{const s=r&&r.attributes&&r.attributes.RESOLUTION&&r.attributes.RESOLUTION.height<720,i=r.excludeUntil===1/0&&r.lastExcludeReason_===n;s&&i&&(delete r.excludeUntil,Qe.log.warn(`enabling non-HD playlist ${r.id} because all playlists were excluded due to ${n} key IDs`))})}addKeyStatus_(e,n){const i=(typeof e=="string"?e:Tye(e)).slice(0,32).toLowerCase();this.logger_(`KeyStatus '${n}' with key ID ${i} added to the keyStatusMap`),this.keyStatusMap_.set(i,n)}updatePlaylistByKeyStatus(e,n){this.addKeyStatus_(e,n),this.waitingForFastQualityPlaylistReceived_||this.excludeNonUsableThenChangePlaylist_(),this.mainPlaylistLoader_.off("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this)),this.mainPlaylistLoader_.on("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this))}excludeNonUsableThenChangePlaylist_(){this.excludeNonUsablePlaylistsByKeyId_(),this.fastQualityChange_()}}const Jye=(t,e,n)=>r=>{const s=t.main.playlists[e],i=jj(s),a=V1(s);if(typeof r>"u")return a;r?delete s.disabled:s.disabled=!0;const l={renditionInfo:{id:e,bandwidth:s.attributes.BANDWIDTH,resolution:s.attributes.RESOLUTION,codecs:s.attributes.CODECS},cause:"fast-quality"};return r!==a&&!i&&(r?(n(s),t.trigger({type:"renditionenabled",metadata:l})):t.trigger({type:"renditiondisabled",metadata:l})),r};class ebe{constructor(e,n,r){const{playlistController_:s}=e,i=s.fastQualityChange_.bind(s);if(n.attributes){const a=n.attributes.RESOLUTION;this.width=a&&a.width,this.height=a&&a.height,this.bandwidth=n.attributes.BANDWIDTH,this.frameRate=n.attributes["FRAME-RATE"]}this.codecs=Gm(s.main(),n),this.playlist=n,this.id=r,this.enabled=Jye(e.playlists,n.id,i)}}const tbe=function(t){t.representations=()=>{const e=t.playlistController_.main(),n=w0(e)?t.playlistController_.getAudioTrackPlaylists_():e.playlists;return n?n.filter(r=>!jj(r)).map((r,s)=>new ebe(t,r,r.id)):[]}},hI=["seeking","seeked","pause","playing","error"];class nbe extends Qe.EventTarget{constructor(e){super(),this.playlistController_=e.playlistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.playedRanges_=[],this.consecutiveUpdates=0,this.lastRecordedTime=null,this.checkCurrentTimeTimeout_=null,this.logger_=Ga("PlaybackWatcher"),this.logger_("initialize");const n=()=>this.monitorCurrentTime_(),r=()=>this.monitorCurrentTime_(),s=()=>this.techWaiting_(),i=()=>this.resetTimeUpdate_(),a=this.playlistController_,l=["main","subtitle","audio"],c={};l.forEach(h=>{c[h]={reset:()=>this.resetSegmentDownloads_(h),updateend:()=>this.checkSegmentDownloads_(h)},a[`${h}SegmentLoader_`].on("appendsdone",c[h].updateend),a[`${h}SegmentLoader_`].on("playlistupdate",c[h].reset),this.tech_.on(["seeked","seeking"],c[h].reset)});const u=h=>{["main","audio"].forEach(f=>{a[`${f}SegmentLoader_`][h]("appended",this.seekingAppendCheck_)})};this.seekingAppendCheck_=()=>{this.fixesBadSeeks_()&&(this.consecutiveUpdates=0,this.lastRecordedTime=this.tech_.currentTime(),u("off"))},this.clearSeekingAppendCheck_=()=>u("off"),this.watchForBadSeeking_=()=>{this.clearSeekingAppendCheck_(),u("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",s),this.tech_.on(hI,i),this.tech_.on("canplay",r),this.tech_.one("play",n),this.dispose=()=>{this.clearSeekingAppendCheck_(),this.logger_("dispose"),this.tech_.off("waiting",s),this.tech_.off(hI,i),this.tech_.off("canplay",r),this.tech_.off("play",n),this.tech_.off("seeking",this.watchForBadSeeking_),this.tech_.off("seeked",this.clearSeekingAppendCheck_),l.forEach(h=>{a[`${h}SegmentLoader_`].off("appendsdone",c[h].updateend),a[`${h}SegmentLoader_`].off("playlistupdate",c[h].reset),this.tech_.off(["seeked","seeking"],c[h].reset)}),this.checkCurrentTimeTimeout_&&Se.clearTimeout(this.checkCurrentTimeTimeout_),this.resetTimeUpdate_()}}monitorCurrentTime_(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&Se.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=Se.setTimeout(this.monitorCurrentTime_.bind(this),250)}resetSegmentDownloads_(e){const n=this.playlistController_[`${e}SegmentLoader_`];this[`${e}StalledDownloads_`]>0&&this.logger_(`resetting possible stalled download count for ${e} loader`),this[`${e}StalledDownloads_`]=0,this[`${e}Buffered_`]=n.buffered_()}checkSegmentDownloads_(e){const n=this.playlistController_,r=n[`${e}SegmentLoader_`],s=r.buffered_(),i=zge(this[`${e}Buffered_`],s);if(this[`${e}Buffered_`]=s,i){const a={bufferedRanges:s};n.trigger({type:"bufferedrangeschanged",metadata:a}),this.resetSegmentDownloads_(e);return}this[`${e}StalledDownloads_`]++,this.logger_(`found #${this[`${e}StalledDownloads_`]} ${e} appends that did not increase buffer (possible stalled download)`,{playlistId:r.playlist_&&r.playlist_.id,buffered:yd(s)}),!(this[`${e}StalledDownloads_`]<10)&&(this.logger_(`${e} loader stalled download exclusion`),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:`vhs-${e}-download-exclusion`}),e!=="subtitle"&&n.excludePlaylist({error:{message:`Excessive ${e} segment downloading detected.`},playlistExclusionDuration:1/0}))}checkCurrentTime_(){if(this.tech_.paused()||this.tech_.seeking())return;const e=this.tech_.currentTime(),n=this.tech_.buffered();if(this.lastRecordedTime===e&&(!n.length||e+tl>=n.end(n.length-1)))return this.techWaiting_();if(this.consecutiveUpdates>=5&&e===this.lastRecordedTime)this.consecutiveUpdates++,this.waiting_();else if(e===this.lastRecordedTime)this.consecutiveUpdates++;else{this.playedRanges_.push(Cs([this.lastRecordedTime,e]));const r={playedRanges:this.playedRanges_};this.playlistController_.trigger({type:"playedrangeschanged",metadata:r}),this.consecutiveUpdates=0,this.lastRecordedTime=e}}resetTimeUpdate_(){this.consecutiveUpdates=0}fixesBadSeeks_(){if(!this.tech_.seeking())return!1;const n=this.seekable(),r=this.tech_.currentTime(),s=this.afterSeekableWindow_(n,r,this.media(),this.allowSeeksWithinUnsafeLiveWindow);let i;if(s&&(i=n.end(n.length-1)),this.beforeSeekableWindow_(n,r)){const b=n.start(0);i=b+(b===n.end(0)?0:tl)}if(typeof i<"u")return this.logger_(`Trying to seek outside of seekable at time ${r} with seekable range ${p7(n)}. Seeking to ${i}.`),this.tech_.setCurrentTime(i),!0;const a=this.playlistController_.sourceUpdater_,l=this.tech_.buffered(),c=a.audioBuffer?a.audioBuffered():null,u=a.videoBuffer?a.videoBuffered():null,h=this.media(),f=h.partTargetDuration?h.partTargetDuration:(h.targetDuration-el)*2,m=[c,u];for(let b=0;b<m.length;b++){if(!m[b])continue;if(kj(m[b],r)<f)return!1}const g=bb(l,r);return g.length===0?!1:(i=g.start(0)+tl,this.logger_(`Buffered region starts (${g.start(0)})  just beyond seek point (${r}). Seeking to ${i}.`),this.tech_.setCurrentTime(i),!0)}waiting_(){if(this.techWaiting_())return;const e=this.tech_.currentTime(),n=this.tech_.buffered(),r=Xh(n,e);if(r.length&&e+3<=r.end(0)){this.resetTimeUpdate_(),this.tech_.setCurrentTime(e),this.logger_(`Stopped at ${e} while inside a buffered region [${r.start(0)} -> ${r.end(0)}]. Attempting to resume playback by seeking to the current time.`),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"});return}}techWaiting_(){const e=this.seekable(),n=this.tech_.currentTime();if(this.tech_.seeking())return!0;if(this.beforeSeekableWindow_(e,n)){const l=e.end(e.length-1);return this.logger_(`Fell out of live window at time ${n}. Seeking to live point (seekable end) ${l}`),this.resetTimeUpdate_(),this.tech_.setCurrentTime(l),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),!0}const r=this.tech_.vhs.playlistController_.sourceUpdater_,s=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:r.audioBuffered(),videoBuffered:r.videoBuffered(),currentTime:n}))return this.resetTimeUpdate_(),this.tech_.setCurrentTime(n),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),!0;const a=bb(s,n);return a.length>0?(this.logger_(`Stopped at ${n} and seeking to ${a.start(0)}`),this.resetTimeUpdate_(),this.skipTheGap_(n),!0):!1}afterSeekableWindow_(e,n,r,s=!1){if(!e.length)return!1;let i=e.end(e.length-1)+tl;const a=!r.endList,l=typeof r.partTargetDuration=="number";return a&&(l||s)&&(i=e.end(e.length-1)+r.targetDuration*3),n>i}beforeSeekableWindow_(e,n){return!!(e.length&&e.start(0)>0&&n<e.start(0)-this.liveRangeSafeTimeDelta)}videoUnderflow_({videoBuffered:e,audioBuffered:n,currentTime:r}){if(!e)return;let s;if(e.length&&n.length){const i=Xh(e,r-3),a=Xh(e,r),l=Xh(n,r);l.length&&!a.length&&i.length&&(s={start:i.end(0),end:l.end(0)})}else bb(e,r).length||(s=this.gapFromVideoUnderflow_(e,r));return s?(this.logger_(`Encountered a gap in video from ${s.start} to ${s.end}. Seeking to current time ${r}`),!0):!1}skipTheGap_(e){const n=this.tech_.buffered(),r=this.tech_.currentTime(),s=bb(n,r);if(this.resetTimeUpdate_(),s.length===0||r!==e)return;this.logger_("skipTheGap_:","currentTime:",r,"scheduled currentTime:",e,"nextRange start:",s.start(0)),this.tech_.setCurrentTime(s.start(0)+el);const i={gapInfo:{from:r,to:s.start(0)}};this.playlistController_.trigger({type:"gapjumped",metadata:i}),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"})}gapFromVideoUnderflow_(e,n){const r=Fge(e);for(let s=0;s<r.length;s++){const i=r.start(s),a=r.end(s);if(n-i<4&&n-i>2)return{start:i,end:a}}return null}}const rbe={errorInterval:30,getSource(t){const n=this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource();return t(n)}},i$=function(t,e){let n=0,r=0;const s=Jn(rbe,e);t.ready(()=>{t.trigger({type:"usage",name:"vhs-error-reload-initialized"})});const i=function(){r&&t.currentTime(r)},a=function(h){h!=null&&(r=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",i),t.src(h),t.trigger({type:"usage",name:"vhs-error-reload"}),t.play())},l=function(){if(Date.now()-n<s.errorInterval*1e3){t.trigger({type:"usage",name:"vhs-error-reload-canceled"});return}if(!s.getSource||typeof s.getSource!="function"){Qe.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return n=Date.now(),s.getSource.call(t,a)},c=function(){t.off("loadedmetadata",i),t.off("error",l),t.off("dispose",c)},u=function(h){c(),i$(t,h)};t.on("error",l),t.on("dispose",c),t.reloadSourceOnError=u},sbe=function(t){i$(this,t)};var a$="3.17.0",ibe="7.1.0",abe="1.3.1",obe="7.2.0",lbe="4.0.2";const Lr={PlaylistLoader:Qh,Playlist:Pi,utils:f0e,STANDARD_PLAYLIST_SELECTOR:eI,INITIAL_PLAYLIST_SELECTOR:eye,lastBandwidthSelector:eI,movingAverageBandwidthSelector:Z0e,comparePlaylistBandwidth:Dj,comparePlaylistResolution:Q0e,xhr:I7()};Object.keys(vs).forEach(t=>{Object.defineProperty(Lr,t,{get(){return Qe.log.warn(`using Vhs.${t} is UNSAFE be sure you know what you are doing`),vs[t]},set(e){if(Qe.log.warn(`using Vhs.${t} is UNSAFE be sure you know what you are doing`),typeof e!="number"||e<0){Qe.log.warn(`value of Vhs.${t} must be greater than or equal to 0`);return}vs[t]=e}})});const o$="videojs-vhs",l$=function(t,e){const n=e.media();let r=-1;for(let s=0;s<t.length;s++)if(t[s].id===n.id){r=s;break}t.selectedIndex_=r,t.trigger({selectedIndex:r,type:"change"})},cbe=function(t,e){e.representations().forEach(n=>{t.addQualityLevel(n)}),l$(t,e.playlists)};Lr.canPlaySource=function(){return Qe.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};const ube=(t,e,n)=>{if(!t)return t;let r={};e&&e.attributes&&e.attributes.CODECS&&(r=jg(qo(e.attributes.CODECS))),n&&n.attributes&&n.attributes.CODECS&&(r.audio=n.attributes.CODECS);const s=Af(r.video),i=Af(r.audio),a={};for(const l in t)a[l]={},i&&(a[l].audioContentType=i),s&&(a[l].videoContentType=s),e.contentProtection&&e.contentProtection[l]&&e.contentProtection[l].pssh&&(a[l].pssh=e.contentProtection[l].pssh),typeof t[l]=="string"&&(a[l].url=t[l]);return Jn(t,a)},dbe=(t,e)=>t.reduce((n,r)=>{if(!r.contentProtection)return n;const s=e.reduce((i,a)=>{const l=r.contentProtection[a];return l&&l.pssh&&(i[a]={pssh:l.pssh}),i},{});return Object.keys(s).length&&n.push(s),n},[]),hbe=({player:t,sourceKeySystems:e,audioMedia:n,mainPlaylists:r})=>{if(!t.eme.initializeMediaKeys)return Promise.resolve();const s=n?r.concat([n]):r,i=dbe(s,Object.keys(e)),a=[],l=[];return i.forEach(c=>{l.push(new Promise((u,h)=>{t.tech_.one("keysessioncreated",u)})),a.push(new Promise((u,h)=>{t.eme.initializeMediaKeys({keySystems:c},f=>{if(f){h(f);return}u()})}))}),Promise.race([Promise.all(a),Promise.race(l)])},fbe=({player:t,sourceKeySystems:e,media:n,audioMedia:r})=>{const s=ube(e,n,r);return s?(t.currentSource().keySystems=s,s&&!t.eme?(Qe.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},c$=()=>{if(!Se.localStorage)return null;const t=Se.localStorage.getItem(o$);if(!t)return null;try{return JSON.parse(t)}catch{return null}},pbe=t=>{if(!Se.localStorage)return!1;let e=c$();e=e?Jn(e,t):t;try{Se.localStorage.setItem(o$,JSON.stringify(e))}catch{return!1}return e},mbe=t=>t.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(t.substring(t.indexOf(",")+1)):t,u$=(t,e)=>{t._requestCallbackSet||(t._requestCallbackSet=new Set),t._requestCallbackSet.add(e)},d$=(t,e)=>{t._responseCallbackSet||(t._responseCallbackSet=new Set),t._responseCallbackSet.add(e)},h$=(t,e)=>{t._requestCallbackSet&&(t._requestCallbackSet.delete(e),t._requestCallbackSet.size||delete t._requestCallbackSet)},f$=(t,e)=>{t._responseCallbackSet&&(t._responseCallbackSet.delete(e),t._responseCallbackSet.size||delete t._responseCallbackSet)};Lr.supportsNativeHls=function(){if(!Et||!Et.createElement)return!1;const t=Et.createElement("video");return Qe.getTech("Html5").isSupported()?["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(n){return/maybe|probably/i.test(t.canPlayType(n))}):!1}();Lr.supportsNativeDash=function(){return!Et||!Et.createElement||!Qe.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(Et.createElement("video").canPlayType("application/dash+xml"))}();Lr.supportsTypeNatively=t=>t==="hls"?Lr.supportsNativeHls:t==="dash"?Lr.supportsNativeDash:!1;Lr.isSupported=function(){return Qe.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};Lr.xhr.onRequest=function(t){u$(Lr.xhr,t)};Lr.xhr.onResponse=function(t){d$(Lr.xhr,t)};Lr.xhr.offRequest=function(t){h$(Lr.xhr,t)};Lr.xhr.offResponse=function(t){f$(Lr.xhr,t)};const gbe=Qe.getComponent("Component");class p$ extends gbe{constructor(e,n,r){if(super(n,r.vhs),typeof r.initialBandwidth=="number"&&(this.options_.bandwidth=r.initialBandwidth),this.logger_=Ga("VhsHandler"),n.options_&&n.options_.playerId){const s=Qe.getPlayer(n.options_.playerId);this.player_=s}if(this.tech_=n,this.source_=e,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&n.overrideNativeAudioTracks&&n.overrideNativeVideoTracks)n.overrideNativeAudioTracks(!0),n.overrideNativeVideoTracks(!0);else if(this.options_.overrideNative&&(n.featuresNativeVideoTracks||n.featuresNativeAudioTracks))throw new Error("Overriding native VHS requires emulated tracks. See https://git.io/vMpjB");this.on(Et,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],s=>{const i=Et.fullscreenElement||Et.webkitFullscreenElement||Et.mozFullScreenElement||Et.msFullscreenElement;i&&i.contains(this.tech_.el())?this.playlistController_.fastQualityChange_():this.playlistController_.checkABR_()}),this.on(this.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.tech_.error()&&this.playlistController_&&this.playlistController_.pauseLoading()}),this.on(this.tech_,"play",this.play)}setOptions_(e={}){if(this.options_=Jn(this.options_,e),this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.usePlayerObjectFit=this.options_.usePlayerObjectFit||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useForcedSubtitles=this.options_.useForcedSubtitles||!1,this.options_.useNetworkInformationApi=typeof this.options_.useNetworkInformationApi<"u"?this.options_.useNetworkInformationApi:!0,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.llhls=this.options_.llhls!==!1,this.options_.bufferBasedABR=this.options_.bufferBasedABR||!1,typeof this.options_.playlistExclusionDuration!="number"&&(this.options_.playlistExclusionDuration=60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){const r=c$();r&&r.bandwidth&&(this.options_.bandwidth=r.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"})),r&&r.throughput&&(this.options_.throughput=r.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=vs.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===vs.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","usePlayerObjectFit","customPixelRatio","limitRenditionByPlayerDimensions","bandwidth","customTagParsers","customTagMappers","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","bufferBasedABR","liveRangeSafeTimeDelta","llhls","useForcedSubtitles","useNetworkInformationApi","useDtsForTimestampOffset","exactManifestTimings","leastPixelDiffSelector"].forEach(r=>{typeof this.source_[r]<"u"&&(this.options_[r]=this.source_[r])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio,this.usePlayerObjectFit=this.options_.usePlayerObjectFit;const n=this.options_.customPixelRatio;typeof n=="number"&&n>=0&&(this.customPixelRatio=n)}setOptions(e={}){this.setOptions_(e)}src(e,n){if(!e)return;this.setOptions_(),this.options_.src=mbe(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=Lr,this.options_.sourceType=RF(n),this.options_.seekTo=i=>{this.tech_.setCurrentTime(i)},this.options_.player_=this.player_,this.playlistController_=new Zye(this.options_);const r=Jn({liveRangeSafeTimeDelta:tl},this.options_,{seekable:()=>this.seekable(),media:()=>this.playlistController_.media(),playlistController:this.playlistController_});this.playbackWatcher_=new nbe(r),this.attachStreamingEventListeners_(),this.playlistController_.on("error",()=>{const i=Qe.players[this.tech_.options_.playerId];let a=this.playlistController_.error;typeof a=="object"&&!a.code?a.code=3:typeof a=="string"&&(a={message:a,code:3}),i.error(a)});const s=this.options_.bufferBasedABR?Lr.movingAverageBandwidthSelector(.55):Lr.STANDARD_PLAYLIST_SELECTOR;this.playlistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):s.bind(this),this.playlistController_.selectInitialPlaylist=Lr.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.playlistController_.mainPlaylistLoader_,this.mediaSource=this.playlistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get(){return this.playlistController_.selectPlaylist},set(i){this.playlistController_.selectPlaylist=i.bind(this)}},throughput:{get(){return this.playlistController_.mainSegmentLoader_.throughput.rate},set(i){this.playlistController_.mainSegmentLoader_.throughput.rate=i,this.playlistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get(){let i=this.playlistController_.mainSegmentLoader_.bandwidth;const a=Se.navigator.connection||Se.navigator.mozConnection||Se.navigator.webkitConnection,l=1e7;if(this.options_.useNetworkInformationApi&&a){const c=a.downlink*1e3*1e3;c>=l&&i>=l?i=Math.max(i,c):i=c}return i},set(i){this.playlistController_.mainSegmentLoader_.bandwidth=i,this.playlistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get(){const i=1/(this.bandwidth||1);let a;return this.throughput>0?a=1/this.throughput:a=0,Math.floor(1/(i+a))},set(){Qe.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:()=>this.bandwidth||0,enumerable:!0},mediaRequests:{get:()=>this.playlistController_.mediaRequests_()||0,enumerable:!0},mediaRequestsAborted:{get:()=>this.playlistController_.mediaRequestsAborted_()||0,enumerable:!0},mediaRequestsTimedout:{get:()=>this.playlistController_.mediaRequestsTimedout_()||0,enumerable:!0},mediaRequestsErrored:{get:()=>this.playlistController_.mediaRequestsErrored_()||0,enumerable:!0},mediaTransferDuration:{get:()=>this.playlistController_.mediaTransferDuration_()||0,enumerable:!0},mediaBytesTransferred:{get:()=>this.playlistController_.mediaBytesTransferred_()||0,enumerable:!0},mediaSecondsLoaded:{get:()=>this.playlistController_.mediaSecondsLoaded_()||0,enumerable:!0},mediaAppends:{get:()=>this.playlistController_.mediaAppends_()||0,enumerable:!0},mainAppendsToLoadedData:{get:()=>this.playlistController_.mainAppendsToLoadedData_()||0,enumerable:!0},audioAppendsToLoadedData:{get:()=>this.playlistController_.audioAppendsToLoadedData_()||0,enumerable:!0},appendsToLoadedData:{get:()=>this.playlistController_.appendsToLoadedData_()||0,enumerable:!0},timeToLoadedData:{get:()=>this.playlistController_.timeToLoadedData_()||0,enumerable:!0},buffered:{get:()=>yd(this.tech_.buffered()),enumerable:!0},currentTime:{get:()=>this.tech_.currentTime(),enumerable:!0},currentSource:{get:()=>this.tech_.currentSource_,enumerable:!0},currentTech:{get:()=>this.tech_.name_,enumerable:!0},duration:{get:()=>this.tech_.duration(),enumerable:!0},main:{get:()=>this.playlists.main,enumerable:!0},playerDimensions:{get:()=>this.tech_.currentDimensions(),enumerable:!0},seekable:{get:()=>yd(this.tech_.seekable()),enumerable:!0},timestamp:{get:()=>Date.now(),enumerable:!0},videoPlaybackQuality:{get:()=>this.tech_.getVideoPlaybackQuality(),enumerable:!0}}),this.tech_.one("canplay",this.playlistController_.setupFirstPlay.bind(this.playlistController_)),this.tech_.on("bandwidthupdate",()=>{this.options_.useBandwidthFromLocalStorage&&pbe({bandwidth:this.bandwidth,throughput:Math.round(this.throughput)})}),this.playlistController_.on("selectedinitialmedia",()=>{tbe(this)}),this.playlistController_.sourceUpdater_.on("createdsourcebuffers",()=>{this.setupEme_()}),this.on(this.playlistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.playlistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=Se.URL.createObjectURL(this.playlistController_.mediaSource),(Qe.browser.IS_ANY_SAFARI||Qe.browser.IS_IOS)&&this.options_.overrideNative&&this.options_.sourceType==="hls"&&typeof this.tech_.addSourceElement=="function"?(this.tech_.addSourceElement(this.mediaSourceUrl_),this.tech_.addSourceElement(this.source_.src)):this.tech_.src(this.mediaSourceUrl_))}createKeySessions_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),hbe({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:e&&e.media(),mainPlaylists:this.playlists.main.playlists}).then(()=>{this.logger_("created EME key session"),this.playlistController_.sourceUpdater_.initializedEme()}).catch(n=>{this.logger_("error while creating EME key session",n),this.player_.error({message:"Failed to initialize media keys for EME",code:3})})}handleWaitingForKey_(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()}setupEme_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader,n=fbe({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:e&&e.media()});if(this.player_.tech_.on("keystatuschange",r=>{this.playlistController_.updatePlaylistByKeyStatus(r.keyId,r.status)}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),!n){this.playlistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()}setupQualityLevels_(){const e=Qe.players[this.tech_.options_.playerId];!e||!e.qualityLevels||this.qualityLevels_||(this.qualityLevels_=e.qualityLevels(),this.playlistController_.on("selectedinitialmedia",()=>{cbe(this.qualityLevels_,this)}),this.playlists.on("mediachange",()=>{l$(this.qualityLevels_,this.playlists)}))}static version(){return{"@videojs/http-streaming":a$,"mux.js":ibe,"mpd-parser":abe,"m3u8-parser":obe,"aes-decrypter":lbe}}version(){return this.constructor.version()}canChangeType(){return t$.canChangeType()}play(){this.playlistController_.play()}setCurrentTime(e){this.playlistController_.setCurrentTime(e)}duration(){return this.playlistController_.duration()}seekable(){return this.playlistController_.seekable()}dispose(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.playlistController_&&this.playlistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.mediaSourceUrl_&&Se.URL.revokeObjectURL&&(Se.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),super.dispose()}convertToProgramTime(e,n){return v0e({playlist:this.playlistController_.media(),time:e,callback:n})}seekToProgramTime(e,n,r=!0,s=2){return F7({programTime:e,playlist:this.playlistController_.media(),retryCount:s,pauseAfterSeek:r,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:n})}setupXhrHooks_(){this.xhr.onRequest=e=>{u$(this.xhr,e)},this.xhr.onResponse=e=>{d$(this.xhr,e)},this.xhr.offRequest=e=>{h$(this.xhr,e)},this.xhr.offResponse=e=>{f$(this.xhr,e)},this.player_.trigger("xhr-hooks-ready")}attachStreamingEventListeners_(){const e=["seekablerangeschanged","bufferedrangeschanged","contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"],n=["gapjumped","playedrangeschanged"];e.forEach(r=>{this.playlistController_.on(r,s=>{this.player_.trigger(Ot({},s))})}),n.forEach(r=>{this.playbackWatcher_.on(r,s=>{this.player_.trigger(Ot({},s))})})}}const cv={name:"videojs-http-streaming",VERSION:a$,canHandleSource(t,e={}){const n=Jn(Qe.options,e);return!n.vhs.experimentalUseMMS&&!Hm("avc1.4d400d,mp4a.40.2",!1)?!1:cv.canPlayType(t.type,n)},handleSource(t,e,n={}){const r=Jn(Qe.options,n);return e.vhs=new p$(t,e,r),e.vhs.xhr=I7(),e.vhs.setupXhrHooks_(),e.vhs.src(t.src,t.type),e.vhs},canPlayType(t,e){const n=RF(t);if(!n)return"";const r=cv.getOverrideNative(e);return!Lr.supportsTypeNatively(n)||r?"maybe":""},getOverrideNative(t={}){const{vhs:e={}}=t,n=!(Qe.browser.IS_ANY_SAFARI||Qe.browser.IS_IOS),{overrideNative:r=n}=e;return r}},ybe=()=>Hm("avc1.4d400d,mp4a.40.2",!0);ybe()&&Qe.getTech("Html5").registerSourceHandler(cv,0);Qe.VhsHandler=p$;Qe.VhsSourceHandler=cv;Qe.Vhs=Lr;Qe.use||Qe.registerComponent("Vhs",Lr);Qe.options.vhs=Qe.options.vhs||{};(!Qe.getPlugin||!Qe.getPlugin("reloadSourceOnError"))&&Qe.registerPlugin("reloadSourceOnError",sbe);var m$={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},fI=Zt.createContext&&Zt.createContext(m$),bbe=["attr","size","title"];function xbe(t,e){if(t==null)return{};var n=vbe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function uv(){return uv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uv.apply(this,arguments)}function pI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function dv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pI(Object(n),!0).forEach(function(r){wbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wbe(t,e,n){return e=_be(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _be(t){var e=Sbe(t,"string");return typeof e=="symbol"?e:e+""}function Sbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function g$(t){return t&&t.map((e,n)=>Zt.createElement(e.tag,dv({key:n},e.attr),g$(e.child)))}function gi(t){return e=>Zt.createElement(Cbe,uv({attr:dv({},t.attr)},e),g$(t.child))}function Cbe(t){var e=n=>{var{attr:r,size:s,title:i}=t,a=xbe(t,bbe),l=s||n.size||"1em",c;return n.className&&(c=n.className),t.className&&(c=(c?c+" ":"")+t.className),Zt.createElement("svg",uv({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:c,style:dv(dv({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&Zt.createElement("title",null,i),t.children)};return fI!==void 0?Zt.createElement(fI.Consumer,null,n=>e(n)):e(m$)}function Qb(t){return gi({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function hv(t){return gi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function Tbe(t){return gi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(t)}function y$(t){return gi({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function b$(t){return gi({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 416h-23.41L277.88 53.69A32 32 0 0 0 247.58 32h-47.16a32 32 0 0 0-30.3 21.69L39.41 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-19.58l23.3-64h152.56l23.3 64H304a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM176.85 272L224 142.51 271.15 272z"},child:[]}]})(t)}function x$(t){return gi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(t)}function v$(t){return gi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(t)}function fv(t){return gi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"},child:[]}]})(t)}function Nd(t){return gi({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function w$(t){return gi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(t)}function $f(t){return gi({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function zf(t){return gi({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function kbe(t){return gi({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z"},child:[]}]})(t)}function Ebe(t){return gi({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}function ci(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var jbe=typeof Symbol=="function"&&Symbol.observable||"@@observable",mI=jbe,gI=()=>Math.random().toString(36).substring(7).split("").join("."),Nbe={INIT:`@@redux/INIT${gI()}`,REPLACE:`@@redux/REPLACE${gI()}`},yI=Nbe;function Abe(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function _$(t,e,n){if(typeof t!="function")throw new Error(ci(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ci(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ci(1));return n(_$)(t,e)}let r=t,s=e,i=new Map,a=i,l=0,c=!1;function u(){a===i&&(a=new Map,i.forEach((x,w)=>{a.set(w,x)}))}function h(){if(c)throw new Error(ci(3));return s}function f(x){if(typeof x!="function")throw new Error(ci(4));if(c)throw new Error(ci(5));let w=!0;u();const C=l++;return a.set(C,x),function(){if(w){if(c)throw new Error(ci(6));w=!1,u(),a.delete(C),i=null}}}function m(x){if(!Abe(x))throw new Error(ci(7));if(typeof x.type>"u")throw new Error(ci(8));if(typeof x.type!="string")throw new Error(ci(17));if(c)throw new Error(ci(9));try{c=!0,s=r(s,x)}finally{c=!1}return(i=a).forEach(C=>{C()}),x}function g(x){if(typeof x!="function")throw new Error(ci(10));r=x,m({type:yI.REPLACE})}function b(){const x=f;return{subscribe(w){if(typeof w!="object"||w===null)throw new Error(ci(11));function C(){const A=w;A.next&&A.next(h())}return C(),{unsubscribe:x(C)}},[mI](){return this}}}return m({type:yI.INIT}),{dispatch:m,subscribe:f,getState:h,replaceReducer:g,[mI]:b}}function bI(t,e){return function(...n){return e(t.apply(this,n))}}function xI(t,e){if(typeof t=="function")return bI(t,e);if(typeof t!="object"||t===null)throw new Error(ci(16));const n={};for(const r in t){const s=t[r];typeof s=="function"&&(n[r]=bI(s,e))}return n}function S$(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Dbe(...t){return e=>(n,r)=>{const s=e(n,r);let i=()=>{throw new Error(ci(15))};const a={getState:s.getState,dispatch:(c,...u)=>i(c,...u)},l=t.map(c=>c(a));return i=S$(...l)(s.dispatch),{...s,dispatch:i}}}var dS={exports:{}},hS={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vI;function Pbe(){if(vI)return hS;vI=1;var t=Wa();function e(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,s=t.useRef,i=t.useEffect,a=t.useMemo,l=t.useDebugValue;return hS.useSyncExternalStoreWithSelector=function(c,u,h,f,m){var g=s(null);if(g.current===null){var b={hasValue:!1,value:null};g.current=b}else b=g.current;g=a(function(){function x(N){if(!w){if(w=!0,C=N,N=f(N),m!==void 0&&b.hasValue){var P=b.value;if(m(P,N))return k=P}return k=N}if(P=k,n(C,N))return P;var M=f(N);return m!==void 0&&m(P,M)?(C=N,P):(C=N,k=M)}var w=!1,C,k,A=h===void 0?null:h;return[function(){return x(u())},A===null?void 0:function(){return x(A())}]},[u,h,f,m]);var y=r(c,g[0],g[1]);return i(function(){b.hasValue=!0,b.value=y},[y]),l(y),y},hS}var wI;function Ibe(){return wI||(wI=1,dS.exports=Pbe()),dS.exports}Ibe();var Obe=_.version.startsWith("19"),Mbe=Symbol.for(Obe?"react.transitional.element":"react.element"),Rbe=Symbol.for("react.portal"),Lbe=Symbol.for("react.fragment"),Fbe=Symbol.for("react.strict_mode"),Bbe=Symbol.for("react.profiler"),$be=Symbol.for("react.consumer"),zbe=Symbol.for("react.context"),C$=Symbol.for("react.forward_ref"),Ube=Symbol.for("react.suspense"),Hbe=Symbol.for("react.suspense_list"),Pj=Symbol.for("react.memo"),Wbe=Symbol.for("react.lazy"),Vbe=C$,qbe=Pj;function Ybe(t){if(typeof t=="object"&&t!==null){const{$$typeof:e}=t;switch(e){case Mbe:switch(t=t.type,t){case Lbe:case Bbe:case Fbe:case Ube:case Hbe:return t;default:switch(t=t&&t.$$typeof,t){case zbe:case C$:case Wbe:case Pj:return t;case $be:return t;default:return e}}case Rbe:return e}}}function Gbe(t){return Ybe(t)===Pj}function Kbe(t,e,n,r,{areStatesEqual:s,areOwnPropsEqual:i,areStatePropsEqual:a}){let l=!1,c,u,h,f,m;function g(C,k){return c=C,u=k,h=t(c,u),f=e(r,u),m=n(h,f,u),l=!0,m}function b(){return h=t(c,u),e.dependsOnOwnProps&&(f=e(r,u)),m=n(h,f,u),m}function y(){return t.dependsOnOwnProps&&(h=t(c,u)),e.dependsOnOwnProps&&(f=e(r,u)),m=n(h,f,u),m}function x(){const C=t(c,u),k=!a(C,h);return h=C,k&&(m=n(h,f,u)),m}function w(C,k){const A=!i(k,u),N=!s(C,c,k,u);return c=C,u=k,A&&N?b():A?y():N?x():m}return function(k,A){return l?w(k,A):g(k,A)}}function Xbe(t,{initMapStateToProps:e,initMapDispatchToProps:n,initMergeProps:r,...s}){const i=e(t,s),a=n(t,s),l=r(t,s);return Kbe(i,a,l,t,s)}function Qbe(t,e){const n={};for(const r in t){const s=t[r];typeof s=="function"&&(n[r]=(...i)=>e(s(...i)))}return n}function yT(t){return function(n){const r=t(n);function s(){return r}return s.dependsOnOwnProps=!1,s}}function _I(t){return t.dependsOnOwnProps?!!t.dependsOnOwnProps:t.length!==1}function T$(t,e){return function(r,{displayName:s}){const i=function(l,c){return i.dependsOnOwnProps?i.mapToProps(l,c):i.mapToProps(l,void 0)};return i.dependsOnOwnProps=!0,i.mapToProps=function(l,c){i.mapToProps=t,i.dependsOnOwnProps=_I(t);let u=i(l,c);return typeof u=="function"&&(i.mapToProps=u,i.dependsOnOwnProps=_I(u),u=i(l,c)),u},i}}function Ij(t,e){return(n,r)=>{throw new Error(`Invalid value of type ${typeof t} for ${e} argument when connecting component ${r.wrappedComponentName}.`)}}function Zbe(t){return t&&typeof t=="object"?yT(e=>Qbe(t,e)):t?typeof t=="function"?T$(t):Ij(t,"mapDispatchToProps"):yT(e=>({dispatch:e}))}function Jbe(t){return t?typeof t=="function"?T$(t):Ij(t,"mapStateToProps"):yT(()=>({}))}function exe(t,e,n){return{...n,...t,...e}}function txe(t){return function(n,{displayName:r,areMergedPropsEqual:s}){let i=!1,a;return function(c,u,h){const f=t(c,u,h);return i?s(f,a)||(a=f):(i=!0,a=f),a}}}function nxe(t){return t?typeof t=="function"?txe(t):Ij(t,"mergeProps"):()=>exe}function rxe(t){t()}function sxe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){rxe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const s=e={callback:n,next:null,prev:e};return s.prev?s.prev.next=s:t=s,function(){!r||t===null||(r=!1,s.next?s.next.prev=s.prev:e=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}var SI={notify(){},get:()=>[]};function k$(t,e){let n,r=SI,s=0,i=!1;function a(y){h();const x=r.subscribe(y);let w=!1;return()=>{w||(w=!0,x(),f())}}function l(){r.notify()}function c(){b.onStateChange&&b.onStateChange()}function u(){return i}function h(){s++,n||(n=e?e.addNestedSub(c):t.subscribe(c),r=sxe())}function f(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=SI)}function m(){i||(i=!0,h())}function g(){i&&(i=!1,f())}const b={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:m,tryUnsubscribe:g,getListeners:()=>r};return b}var ixe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",axe=ixe(),oxe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",lxe=oxe(),cxe=()=>axe||lxe?_.useLayoutEffect:_.useEffect,pv=cxe();function CI(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function fS(t,e){if(CI(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(!Object.prototype.hasOwnProperty.call(e,n[s])||!CI(t[n[s]],e[n[s]]))return!1;return!0}var uxe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},dxe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},hxe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},E$={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},fxe={[Vbe]:hxe,[qbe]:E$};function TI(t){return Gbe(t)?E$:fxe[t.$$typeof]||uxe}var pxe=Object.defineProperty,mxe=Object.getOwnPropertyNames,kI=Object.getOwnPropertySymbols,gxe=Object.getOwnPropertyDescriptor,yxe=Object.getPrototypeOf,EI=Object.prototype;function bT(t,e){if(typeof e!="string"){if(EI){const i=yxe(e);i&&i!==EI&&bT(t,i)}let n=mxe(e);kI&&(n=n.concat(kI(e)));const r=TI(t),s=TI(e);for(let i=0;i<n.length;++i){const a=n[i];if(!dxe[a]&&!(s&&s[a])&&!(r&&r[a])){const l=gxe(e,a);try{pxe(t,a,l)}catch{}}}}return t}var pS=Symbol.for("react-redux-context"),mS=typeof globalThis<"u"?globalThis:{};function bxe(){if(!_.createContext)return{};const t=mS[pS]??(mS[pS]=new Map);let e=t.get(_.createContext);return e||(e=_.createContext(null),t.set(_.createContext,e)),e}var j$=bxe(),xxe=[null,null];function vxe(t,e,n){pv(()=>t(...e),n)}function wxe(t,e,n,r,s,i){t.current=r,n.current=!1,s.current&&(s.current=null,i())}function _xe(t,e,n,r,s,i,a,l,c,u,h){if(!t)return()=>{};let f=!1,m=null;const g=()=>{if(f||!l.current)return;const y=e.getState();let x,w;try{x=r(y,s.current)}catch(C){w=C,m=C}w||(m=null),x===i.current?a.current||u():(i.current=x,c.current=x,a.current=!0,h())};return n.onStateChange=g,n.trySubscribe(),g(),()=>{if(f=!0,n.tryUnsubscribe(),n.onStateChange=null,m)throw m}}function Sxe(t,e){return t===e}function Cxe(t,e,n,{pure:r,areStatesEqual:s=Sxe,areOwnPropsEqual:i=fS,areStatePropsEqual:a=fS,areMergedPropsEqual:l=fS,forwardRef:c=!1,context:u=j$}={}){const h=u,f=Jbe(t),m=Zbe(e),g=nxe(n),b=!!t;return x=>{const w=x.displayName||x.name||"Component",C=`Connect(${w})`,k={shouldHandleStateChanges:b,displayName:C,wrappedComponentName:w,WrappedComponent:x,initMapStateToProps:f,initMapDispatchToProps:m,initMergeProps:g,areStatesEqual:s,areStatePropsEqual:a,areOwnPropsEqual:i,areMergedPropsEqual:l};function A(M){const[L,D,S]=_.useMemo(()=>{const{reactReduxForwardedRef:rt,...it}=M;return[M.context,rt,it]},[M]),z=_.useMemo(()=>{let rt=h;return L!=null&&L.Consumer,rt},[L,h]),O=_.useContext(z),U=!!M.store&&!!M.store.getState&&!!M.store.dispatch,j=!!O&&!!O.store,V=U?M.store:O.store,K=j?O.getServerState:V.getState,te=_.useMemo(()=>Xbe(V.dispatch,k),[V]),[J,X]=_.useMemo(()=>{if(!b)return xxe;const rt=k$(V,U?void 0:O.subscription),it=rt.notifyNestedSubs.bind(rt);return[rt,it]},[V,U,O]),Y=_.useMemo(()=>U?O:{...O,subscription:J},[U,O,J]),F=_.useRef(void 0),H=_.useRef(S),de=_.useRef(void 0),ee=_.useRef(!1),fe=_.useRef(!1),ve=_.useRef(void 0);pv(()=>(fe.current=!0,()=>{fe.current=!1}),[]);const Ce=_.useMemo(()=>()=>de.current&&S===H.current?de.current:te(V.getState(),S),[V,S]),De=_.useMemo(()=>it=>J?_xe(b,V,J,te,H,F,ee,fe,de,X,it):()=>{},[J]);vxe(wxe,[H,F,ee,S,de,X]);let Ee;try{Ee=_.useSyncExternalStore(De,Ce,K?()=>te(K(),S):Ce)}catch(rt){throw ve.current&&(rt.message+=`
The error may be correlated with this previous error:
${ve.current.stack}

`),rt}pv(()=>{ve.current=void 0,de.current=void 0,F.current=Ee});const Be=_.useMemo(()=>_.createElement(x,{...Ee,ref:D}),[D,x,Ee]);return _.useMemo(()=>b?_.createElement(z.Provider,{value:Y},Be):Be,[z,Be,Y])}const P=_.memo(A);if(P.WrappedComponent=x,P.displayName=A.displayName=C,c){const L=_.forwardRef(function(S,z){return _.createElement(P,{...S,reactReduxForwardedRef:z})});return L.displayName=C,L.WrappedComponent=x,bT(L,x)}return bT(P,x)}}var N$=Cxe;function Txe(t){const{children:e,context:n,serverState:r,store:s}=t,i=_.useMemo(()=>{const c=k$(s);return{store:s,subscription:c,getServerState:r?()=>r:void 0}},[s,r]),a=_.useMemo(()=>s.getState(),[s]);pv(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==s.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,a]);const l=n||j$;return _.createElement(l.Provider,{value:i},e)}var kxe=Txe,Exe="Invariant failed";function jxe(t,e){throw new Error(Exe)}var uo=function(e){var n=e.top,r=e.right,s=e.bottom,i=e.left,a=r-i,l=s-n,c={top:n,right:r,bottom:s,left:i,width:a,height:l,x:i,y:n,center:{x:(r+i)/2,y:(s+n)/2}};return c},Oj=function(e,n){return{top:e.top-n.top,left:e.left-n.left,bottom:e.bottom+n.bottom,right:e.right+n.right}},jI=function(e,n){return{top:e.top+n.top,left:e.left+n.left,bottom:e.bottom-n.bottom,right:e.right-n.right}},Nxe=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},gS={top:0,right:0,bottom:0,left:0},Mj=function(e){var n=e.borderBox,r=e.margin,s=r===void 0?gS:r,i=e.border,a=i===void 0?gS:i,l=e.padding,c=l===void 0?gS:l,u=uo(Oj(n,s)),h=uo(jI(n,a)),f=uo(jI(h,c));return{marginBox:u,borderBox:uo(n),paddingBox:h,contentBox:f,margin:s,border:a,padding:c}},ja=function(e){var n=e.slice(0,-2),r=e.slice(-2);if(r!=="px")return 0;var s=Number(n);return isNaN(s)&&jxe(),s},Axe=function(){return{x:window.pageXOffset,y:window.pageYOffset}},mv=function(e,n){var r=e.borderBox,s=e.border,i=e.margin,a=e.padding,l=Nxe(r,n);return Mj({borderBox:l,border:s,margin:i,padding:a})},gv=function(e,n){return n===void 0&&(n=Axe()),mv(e,n)},A$=function(e,n){var r={top:ja(n.marginTop),right:ja(n.marginRight),bottom:ja(n.marginBottom),left:ja(n.marginLeft)},s={top:ja(n.paddingTop),right:ja(n.paddingRight),bottom:ja(n.paddingBottom),left:ja(n.paddingLeft)},i={top:ja(n.borderTopWidth),right:ja(n.borderRightWidth),bottom:ja(n.borderBottomWidth),left:ja(n.borderLeftWidth)};return Mj({borderBox:e,margin:r,padding:s,border:i})},D$=function(e){var n=e.getBoundingClientRect(),r=window.getComputedStyle(e);return A$(n,r)},Ng=function(e){var n=[],r=null,s=function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];n=l,!r&&(r=requestAnimationFrame(function(){r=null,e.apply(void 0,n)}))};return s.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},s};function P$(t,e){}P$.bind(null,"warn");P$.bind(null,"error");function cu(){}function Dxe(t,e){return{...t,...e}}function Ra(t,e,n){const r=e.map(s=>{const i=Dxe(n,s.options);return t.addEventListener(s.eventName,s.fn,i),function(){t.removeEventListener(s.eventName,s.fn,i)}});return function(){r.forEach(i=>{i()})}}const Pxe="Invariant failed";class yv extends Error{}yv.prototype.toString=function(){return this.message};function Rt(t,e){throw new yv(Pxe)}class Ixe extends Zt.Component{constructor(...e){super(...e),this.callbacks=null,this.unbind=cu,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof yv&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=Ra(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(e instanceof yv){this.setState({});return}throw e}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const Oxe=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,bv=t=>t+1,Mxe=t=>`
  You have lifted an item in position ${bv(t.source.index)}
`,I$=(t,e)=>{const n=t.droppableId===e.droppableId,r=bv(t.index),s=bv(e.index);return n?`
      You have moved the item from position ${r}
      to position ${s}
    `:`
    You have moved the item from position ${r}
    in list ${t.droppableId}
    to list ${e.droppableId}
    in position ${s}
  `},O$=(t,e,n)=>e.droppableId===n.droppableId?`
      The item ${t}
      has been combined with ${n.draggableId}`:`
      The item ${t}
      in list ${e.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,Rxe=t=>{const e=t.destination;if(e)return I$(t.source,e);const n=t.combine;return n?O$(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},NI=t=>`
  The item has returned to its starting position
  of ${bv(t.index)}
`,Lxe=t=>{if(t.reason==="CANCEL")return`
      Movement cancelled.
      ${NI(t.source)}
    `;const e=t.destination,n=t.combine;return e?`
      You have dropped the item.
      ${I$(t.source,e)}
    `:n?`
      You have dropped the item.
      ${O$(t.draggableId,t.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${NI(t.source)}
  `},Zb={dragHandleUsageInstructions:Oxe,onDragStart:Mxe,onDragUpdate:Rxe,onDragEnd:Lxe};function Fxe(t,e){return!!(t===e||Number.isNaN(t)&&Number.isNaN(e))}function M$(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!Fxe(t[n],e[n]))return!1;return!0}function On(t,e){const n=_.useState(()=>({inputs:e,result:t()}))[0],r=_.useRef(!0),s=_.useRef(n),a=r.current||!!(e&&s.current.inputs&&M$(e,s.current.inputs))?s.current:{inputs:e,result:t()};return _.useEffect(()=>{r.current=!1,s.current=a},[a]),a.result}function rn(t,e){return On(()=>t,e)}const Es={x:0,y:0},Ms=(t,e)=>({x:t.x+e.x,y:t.y+e.y}),Xi=(t,e)=>({x:t.x-e.x,y:t.y-e.y}),uu=(t,e)=>t.x===e.x&&t.y===e.y,gp=t=>({x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}),Bd=(t,e,n=0)=>t==="x"?{x:e,y:n}:{x:n,y:e},Ag=(t,e)=>Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2),AI=(t,e)=>Math.min(...e.map(n=>Ag(t,n))),R$=t=>e=>({x:t(e.x),y:t(e.y)});var Bxe=(t,e)=>{const n=uo({top:Math.max(e.top,t.top),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom),left:Math.max(e.left,t.left)});return n.width<=0||n.height<=0?null:n};const _0=(t,e)=>({top:t.top+e.y,left:t.left+e.x,bottom:t.bottom+e.y,right:t.right+e.x}),DI=t=>[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}],$xe={top:0,right:0,bottom:0,left:0},zxe=(t,e)=>e?_0(t,e.scroll.diff.displacement):t,Uxe=(t,e,n)=>n&&n.increasedBy?{...t,[e.end]:t[e.end]+n.increasedBy[e.line]}:t,Hxe=(t,e)=>e&&e.shouldClipSubject?Bxe(e.pageMarginBox,t):uo(t);var Uf=({page:t,withPlaceholder:e,axis:n,frame:r})=>{const s=zxe(t.marginBox,r),i=Uxe(s,n,e),a=Hxe(i,r);return{page:t,withPlaceholder:e,active:a}},Rj=(t,e)=>{t.frame||Rt();const n=t.frame,r=Xi(e,n.scroll.initial),s=gp(r),i={...n,scroll:{initial:n.scroll.initial,current:e,diff:{value:r,displacement:s},max:n.scroll.max}},a=Uf({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:i});return{...t,frame:i,subject:a}};function Ts(t,e=M$){let n=null;function r(...s){if(n&&n.lastThis===this&&e(s,n.lastArgs))return n.lastResult;const i=t.apply(this,s);return n={lastResult:i,lastArgs:s,lastThis:this},i}return r.clear=function(){n=null},r}const L$=Ts(t=>t.reduce((e,n)=>(e[n.descriptor.id]=n,e),{})),F$=Ts(t=>t.reduce((e,n)=>(e[n.descriptor.id]=n,e),{})),q1=Ts(t=>Object.values(t)),Wxe=Ts(t=>Object.values(t));var yp=Ts((t,e)=>Wxe(e).filter(r=>t===r.descriptor.droppableId).sort((r,s)=>r.descriptor.index-s.descriptor.index));function Lj(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function Y1(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var G1=Ts((t,e)=>e.filter(n=>n.descriptor.id!==t.descriptor.id)),Vxe=({isMovingForward:t,draggable:e,destination:n,insideDestination:r,previousImpact:s})=>{if(!n.isCombineEnabled||!Lj(s))return null;function a(g){const b={type:"COMBINE",combine:{draggableId:g,droppableId:n.descriptor.id}};return{...s,at:b}}const l=s.displaced.all,c=l.length?l[0]:null;if(t)return c?a(c):null;const u=G1(e,r);if(!c){if(!u.length)return null;const g=u[u.length-1];return a(g.descriptor.id)}const h=u.findIndex(g=>g.descriptor.id===c);h===-1&&Rt();const f=h-1;if(f<0)return null;const m=u[f];return a(m.descriptor.id)},bp=(t,e)=>t.descriptor.droppableId===e.descriptor.id;const B$={point:Es,value:0},Dg={invisible:{},visible:{},all:[]},qxe={displaced:Dg,displacedBy:B$,at:null};var Fa=(t,e)=>n=>t<=n&&n<=e,$$=t=>{const e=Fa(t.top,t.bottom),n=Fa(t.left,t.right);return r=>{if(e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right))return!0;const i=e(r.top)||e(r.bottom),a=n(r.left)||n(r.right);if(i&&a)return!0;const c=r.top<t.top&&r.bottom>t.bottom,u=r.left<t.left&&r.right>t.right;return c&&u?!0:c&&a||u&&i}},Yxe=t=>{const e=Fa(t.top,t.bottom),n=Fa(t.left,t.right);return r=>e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right)};const Fj={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},z$={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var Gxe=t=>e=>{const n=Fa(e.top,e.bottom),r=Fa(e.left,e.right);return s=>t===Fj?n(s.top)&&n(s.bottom):r(s.left)&&r(s.right)};const Kxe=(t,e)=>{const n=e.frame?e.frame.scroll.diff.displacement:Es;return _0(t,n)},Xxe=(t,e,n)=>e.subject.active?n(e.subject.active)(t):!1,Qxe=(t,e,n)=>n(e)(t),Bj=({target:t,destination:e,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:s})=>{const i=r?Kxe(t,e):t;return Xxe(i,e,s)&&Qxe(i,n,s)},Zxe=t=>Bj({...t,isVisibleThroughFrameFn:$$}),U$=t=>Bj({...t,isVisibleThroughFrameFn:Yxe}),Jxe=t=>Bj({...t,isVisibleThroughFrameFn:Gxe(t.destination.axis)}),eve=(t,e,n)=>{if(typeof n=="boolean")return n;if(!e)return!0;const{invisible:r,visible:s}=e;if(r[t])return!1;const i=s[t];return i?i.shouldAnimate:!0};function tve(t,e){const n=t.page.marginBox,r={top:e.point.y,right:0,bottom:0,left:e.point.x};return uo(Oj(n,r))}function Pg({afterDragging:t,destination:e,displacedBy:n,viewport:r,forceShouldAnimate:s,last:i}){return t.reduce(function(l,c){const u=tve(c,n),h=c.descriptor.id;if(l.all.push(h),!Zxe({target:u,destination:e,viewport:r,withDroppableDisplacement:!0}))return l.invisible[c.descriptor.id]=!0,l;const m=eve(h,i,s),g={draggableId:h,shouldAnimate:m};return l.visible[h]=g,l},{all:[],visible:{},invisible:{}})}function nve(t,e){if(!t.length)return 0;const n=t[t.length-1].descriptor.index;return e.inHomeList?n:n+1}function PI({insideDestination:t,inHomeList:e,displacedBy:n,destination:r}){const s=nve(t,{inHomeList:e});return{displaced:Dg,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function xv({draggable:t,insideDestination:e,destination:n,viewport:r,displacedBy:s,last:i,index:a,forceShouldAnimate:l}){const c=bp(t,n);if(a==null)return PI({insideDestination:e,inHomeList:c,displacedBy:s,destination:n});const u=e.find(b=>b.descriptor.index===a);if(!u)return PI({insideDestination:e,inHomeList:c,displacedBy:s,destination:n});const h=G1(t,e),f=e.indexOf(u),m=h.slice(f);return{displaced:Pg({afterDragging:m,destination:n,displacedBy:s,last:i,viewport:r.frame,forceShouldAnimate:l}),displacedBy:s,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:a}}}}function gu(t,e){return!!e.effected[t]}var rve=({isMovingForward:t,destination:e,draggables:n,combine:r,afterCritical:s})=>{if(!e.isCombineEnabled)return null;const i=r.draggableId,l=n[i].descriptor.index;return gu(i,s)?t?l:l-1:t?l+1:l},sve=({isMovingForward:t,isInHomeList:e,insideDestination:n,location:r})=>{if(!n.length)return null;const s=r.index,i=t?s+1:s-1,a=n[0].descriptor.index,l=n[n.length-1].descriptor.index,c=e?l:l+1;return i<a||i>c?null:i},ive=({isMovingForward:t,isInHomeList:e,draggable:n,draggables:r,destination:s,insideDestination:i,previousImpact:a,viewport:l,afterCritical:c})=>{const u=a.at;if(u||Rt(),u.type==="REORDER"){const f=sve({isMovingForward:t,isInHomeList:e,location:u.destination,insideDestination:i});return f==null?null:xv({draggable:n,insideDestination:i,destination:s,viewport:l,last:a.displaced,displacedBy:a.displacedBy,index:f})}const h=rve({isMovingForward:t,destination:s,displaced:a.displaced,draggables:r,combine:u.combine,afterCritical:c});return h==null?null:xv({draggable:n,insideDestination:i,destination:s,viewport:l,last:a.displaced,displacedBy:a.displacedBy,index:h})},ave=({displaced:t,afterCritical:e,combineWith:n,displacedBy:r})=>{const s=!!(t.visible[n]||t.invisible[n]);return gu(n,e)?s?Es:gp(r.point):s?r.point:Es},ove=({afterCritical:t,impact:e,draggables:n})=>{const r=Y1(e);r||Rt();const s=r.draggableId,i=n[s].page.borderBox.center,a=ave({displaced:e.displaced,afterCritical:t,combineWith:s,displacedBy:e.displacedBy});return Ms(i,a)};const H$=(t,e)=>e.margin[t.start]+e.borderBox[t.size]/2,lve=(t,e)=>e.margin[t.end]+e.borderBox[t.size]/2,$j=(t,e,n)=>e[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2,II=({axis:t,moveRelativeTo:e,isMoving:n})=>Bd(t.line,e.marginBox[t.end]+H$(t,n),$j(t,e.marginBox,n)),OI=({axis:t,moveRelativeTo:e,isMoving:n})=>Bd(t.line,e.marginBox[t.start]-lve(t,n),$j(t,e.marginBox,n)),cve=({axis:t,moveInto:e,isMoving:n})=>Bd(t.line,e.contentBox[t.start]+H$(t,n),$j(t,e.contentBox,n));var uve=({impact:t,draggable:e,draggables:n,droppable:r,afterCritical:s})=>{const i=yp(r.descriptor.id,n),a=e.page,l=r.axis;if(!i.length)return cve({axis:l,moveInto:r.page,isMoving:a});const{displaced:c,displacedBy:u}=t,h=c.all[0];if(h){const m=n[h];if(gu(h,s))return OI({axis:l,moveRelativeTo:m.page,isMoving:a});const g=mv(m.page,u.point);return OI({axis:l,moveRelativeTo:g,isMoving:a})}const f=i[i.length-1];if(f.descriptor.id===e.descriptor.id)return a.borderBox.center;if(gu(f.descriptor.id,s)){const m=mv(f.page,gp(s.displacedBy.point));return II({axis:l,moveRelativeTo:m,isMoving:a})}return II({axis:l,moveRelativeTo:f.page,isMoving:a})},xT=(t,e)=>{const n=t.frame;return n?Ms(e,n.scroll.diff.displacement):e};const dve=({impact:t,draggable:e,droppable:n,draggables:r,afterCritical:s})=>{const i=e.page.borderBox.center,a=t.at;return!n||!a?i:a.type==="REORDER"?uve({impact:t,draggable:e,draggables:r,droppable:n,afterCritical:s}):ove({impact:t,draggables:r,afterCritical:s})};var K1=t=>{const e=dve(t),n=t.droppable;return n?xT(n,e):e},W$=(t,e)=>{const n=Xi(e,t.scroll.initial),r=gp(n);return{frame:uo({top:e.y,bottom:e.y+t.frame.height,left:e.x,right:e.x+t.frame.width}),scroll:{initial:t.scroll.initial,max:t.scroll.max,current:e,diff:{value:n,displacement:r}}}};function MI(t,e){return t.map(n=>e[n])}function hve(t,e){for(let n=0;n<e.length;n++){const r=e[n].visible[t];if(r)return r}return null}var fve=({impact:t,viewport:e,destination:n,draggables:r,maxScrollChange:s})=>{const i=W$(e,Ms(e.scroll.current,s)),a=n.frame?Rj(n,Ms(n.frame.scroll.current,s)):n,l=t.displaced,c=Pg({afterDragging:MI(l.all,r),destination:n,displacedBy:t.displacedBy,viewport:i.frame,last:l,forceShouldAnimate:!1}),u=Pg({afterDragging:MI(l.all,r),destination:a,displacedBy:t.displacedBy,viewport:e.frame,last:l,forceShouldAnimate:!1}),h={},f={},m=[l,c,u];return l.all.forEach(b=>{const y=hve(b,m);if(y){f[b]=y;return}h[b]=!0}),{...t,displaced:{all:l.all,invisible:h,visible:f}}},pve=(t,e)=>Ms(t.scroll.diff.displacement,e),zj=({pageBorderBoxCenter:t,draggable:e,viewport:n})=>{const r=pve(n,t),s=Xi(r,e.page.borderBox.center);return Ms(e.client.borderBox.center,s)},V$=({draggable:t,destination:e,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:s,onlyOnMainAxis:i=!1})=>{const a=Xi(n,t.page.borderBox.center),c={target:_0(t.page.borderBox,a),destination:e,withDroppableDisplacement:s,viewport:r};return i?Jxe(c):U$(c)},mve=({isMovingForward:t,draggable:e,destination:n,draggables:r,previousImpact:s,viewport:i,previousPageBorderBoxCenter:a,previousClientSelection:l,afterCritical:c})=>{if(!n.isEnabled)return null;const u=yp(n.descriptor.id,r),h=bp(e,n),f=Vxe({isMovingForward:t,draggable:e,destination:n,insideDestination:u,previousImpact:s})||ive({isMovingForward:t,isInHomeList:h,draggable:e,draggables:r,destination:n,insideDestination:u,previousImpact:s,viewport:i,afterCritical:c});if(!f)return null;const m=K1({impact:f,draggable:e,droppable:n,draggables:r,afterCritical:c});if(V$({draggable:e,destination:n,newPageBorderBoxCenter:m,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:zj({pageBorderBoxCenter:m,draggable:e,viewport:i}),impact:f,scrollJumpRequest:null};const b=Xi(m,a),y=fve({impact:f,viewport:i,destination:n,draggables:r,maxScrollChange:b});return{clientSelection:l,impact:y,scrollJumpRequest:b}};const ii=t=>{const e=t.subject.active;return e||Rt(),e};var gve=({isMovingForward:t,pageBorderBoxCenter:e,source:n,droppables:r,viewport:s})=>{const i=n.subject.active;if(!i)return null;const a=n.axis,l=Fa(i[a.start],i[a.end]),c=q1(r).filter(h=>h!==n).filter(h=>h.isEnabled).filter(h=>!!h.subject.active).filter(h=>$$(s.frame)(ii(h))).filter(h=>{const f=ii(h);return t?i[a.crossAxisEnd]<f[a.crossAxisEnd]:f[a.crossAxisStart]<i[a.crossAxisStart]}).filter(h=>{const f=ii(h),m=Fa(f[a.start],f[a.end]);return l(f[a.start])||l(f[a.end])||m(i[a.start])||m(i[a.end])}).sort((h,f)=>{const m=ii(h)[a.crossAxisStart],g=ii(f)[a.crossAxisStart];return t?m-g:g-m}).filter((h,f,m)=>ii(h)[a.crossAxisStart]===ii(m[0])[a.crossAxisStart]);if(!c.length)return null;if(c.length===1)return c[0];const u=c.filter(h=>Fa(ii(h)[a.start],ii(h)[a.end])(e[a.line]));return u.length===1?u[0]:u.length>1?u.sort((h,f)=>ii(h)[a.start]-ii(f)[a.start])[0]:c.sort((h,f)=>{const m=AI(e,DI(ii(h))),g=AI(e,DI(ii(f)));return m!==g?m-g:ii(h)[a.start]-ii(f)[a.start]})[0]};const RI=(t,e)=>{const n=t.page.borderBox.center;return gu(t.descriptor.id,e)?Xi(n,e.displacedBy.point):n},yve=(t,e)=>{const n=t.page.borderBox;return gu(t.descriptor.id,e)?_0(n,gp(e.displacedBy.point)):n};var bve=({pageBorderBoxCenter:t,viewport:e,destination:n,insideDestination:r,afterCritical:s})=>r.filter(a=>U$({target:yve(a,s),destination:n,viewport:e.frame,withDroppableDisplacement:!0})).sort((a,l)=>{const c=Ag(t,xT(n,RI(a,s))),u=Ag(t,xT(n,RI(l,s)));return c<u?-1:u<c?1:a.descriptor.index-l.descriptor.index})[0]||null,S0=Ts(function(e,n){const r=n[e.line];return{value:r,point:Bd(e.line,r)}});const xve=(t,e,n)=>{const r=t.axis;if(t.descriptor.mode==="virtual")return Bd(r.line,e[r.line]);const s=t.subject.page.contentBox[r.size],c=yp(t.descriptor.id,n).reduce((u,h)=>u+h.client.marginBox[r.size],0)+e[r.line]-s;return c<=0?null:Bd(r.line,c)},q$=(t,e)=>({...t,scroll:{...t.scroll,max:e}}),Y$=(t,e,n)=>{const r=t.frame;bp(e,t)&&Rt(),t.subject.withPlaceholder&&Rt();const s=S0(t.axis,e.displaceBy).point,i=xve(t,s,n),a={placeholderSize:s,increasedBy:i,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!r){const h=Uf({page:t.subject.page,withPlaceholder:a,axis:t.axis,frame:t.frame});return{...t,subject:h}}const l=i?Ms(r.scroll.max,i):r.scroll.max,c=q$(r,l),u=Uf({page:t.subject.page,withPlaceholder:a,axis:t.axis,frame:c});return{...t,subject:u,frame:c}},vve=t=>{const e=t.subject.withPlaceholder;e||Rt();const n=t.frame;if(!n){const a=Uf({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return{...t,subject:a}}const r=e.oldFrameMaxScroll;r||Rt();const s=q$(n,r),i=Uf({page:t.subject.page,axis:t.axis,frame:s,withPlaceholder:null});return{...t,subject:i,frame:s}};var wve=({previousPageBorderBoxCenter:t,moveRelativeTo:e,insideDestination:n,draggable:r,draggables:s,destination:i,viewport:a,afterCritical:l})=>{if(!e){if(n.length)return null;const f={displaced:Dg,displacedBy:B$,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:0}}},m=K1({impact:f,draggable:r,droppable:i,draggables:s,afterCritical:l}),g=bp(r,i)?i:Y$(i,r,s);return V$({draggable:r,destination:g,newPageBorderBoxCenter:m,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?f:null}const c=t[i.axis.line]<=e.page.borderBox.center[i.axis.line],u=(()=>{const f=e.descriptor.index;return e.descriptor.id===r.descriptor.id||c?f:f+1})(),h=S0(i.axis,r.displaceBy);return xv({draggable:r,insideDestination:n,destination:i,viewport:a,displacedBy:h,last:Dg,index:u})},_ve=({isMovingForward:t,previousPageBorderBoxCenter:e,draggable:n,isOver:r,draggables:s,droppables:i,viewport:a,afterCritical:l})=>{const c=gve({isMovingForward:t,pageBorderBoxCenter:e,source:r,droppables:i,viewport:a});if(!c)return null;const u=yp(c.descriptor.id,s),h=bve({pageBorderBoxCenter:e,viewport:a,destination:c,insideDestination:u,afterCritical:l}),f=wve({previousPageBorderBoxCenter:e,destination:c,draggable:n,draggables:s,moveRelativeTo:h,insideDestination:u,viewport:a,afterCritical:l});if(!f)return null;const m=K1({impact:f,draggable:n,droppable:c,draggables:s,afterCritical:l});return{clientSelection:zj({pageBorderBoxCenter:m,draggable:n,viewport:a}),impact:f,scrollJumpRequest:null}},ta=t=>{const e=t.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null};const Sve=(t,e)=>{const n=ta(t);return n?e[n]:null};var Cve=({state:t,type:e})=>{const n=Sve(t.impact,t.dimensions.droppables),r=!!n,s=t.dimensions.droppables[t.critical.droppable.id],i=n||s,a=i.axis.direction,l=a==="vertical"&&(e==="MOVE_UP"||e==="MOVE_DOWN")||a==="horizontal"&&(e==="MOVE_LEFT"||e==="MOVE_RIGHT");if(l&&!r)return null;const c=e==="MOVE_DOWN"||e==="MOVE_RIGHT",u=t.dimensions.draggables[t.critical.draggable.id],h=t.current.page.borderBoxCenter,{draggables:f,droppables:m}=t.dimensions;return l?mve({isMovingForward:c,previousPageBorderBoxCenter:h,draggable:u,destination:i,draggables:f,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):_ve({isMovingForward:c,previousPageBorderBoxCenter:h,draggable:u,isOver:i,draggables:f,droppables:m,viewport:t.viewport,afterCritical:t.afterCritical})};function od(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function G$(t){const e=Fa(t.top,t.bottom),n=Fa(t.left,t.right);return function(s){return e(s.y)&&n(s.x)}}function Tve(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top}function kve({pageBorderBox:t,draggable:e,candidates:n}){const r=e.page.borderBox.center,s=n.map(i=>{const a=i.axis,l=Bd(i.axis.line,t.center[a.line],i.page.borderBox.center[a.crossAxisLine]);return{id:i.descriptor.id,distance:Ag(r,l)}}).sort((i,a)=>a.distance-i.distance);return s[0]?s[0].id:null}function Eve({pageBorderBox:t,draggable:e,droppables:n}){const r=q1(n).filter(s=>{if(!s.isEnabled)return!1;const i=s.subject.active;if(!i||!Tve(t,i))return!1;if(G$(i)(t.center))return!0;const a=s.axis,l=i.center[a.crossAxisLine],c=t[a.crossAxisStart],u=t[a.crossAxisEnd],h=Fa(i[a.crossAxisStart],i[a.crossAxisEnd]),f=h(c),m=h(u);return!f&&!m?!0:f?c<l:u>l});return r.length?r.length===1?r[0].descriptor.id:kve({pageBorderBox:t,draggable:e,candidates:r}):null}const K$=(t,e)=>uo(_0(t,e));var jve=(t,e)=>{const n=t.frame;return n?K$(e,n.scroll.diff.value):e};function X$({displaced:t,id:e}){return!!(t.visible[e]||t.invisible[e])}function Nve({draggable:t,closest:e,inHomeList:n}){return e?n&&e.descriptor.index>t.descriptor.index?e.descriptor.index-1:e.descriptor.index:null}var Ave=({pageBorderBoxWithDroppableScroll:t,draggable:e,destination:n,insideDestination:r,last:s,viewport:i,afterCritical:a})=>{const l=n.axis,c=S0(n.axis,e.displaceBy),u=c.value,h=t[l.start],f=t[l.end],g=G1(e,r).find(y=>{const x=y.descriptor.id,w=y.page.borderBox.center[l.line],C=gu(x,a),k=X$({displaced:s,id:x});return C?k?f<=w:h<w-u:k?f<=w+u:h<w})||null,b=Nve({draggable:e,closest:g,inHomeList:bp(e,n)});return xv({draggable:e,insideDestination:r,destination:n,viewport:i,last:s,displacedBy:c,index:b})};const Dve=4;var Pve=({draggable:t,pageBorderBoxWithDroppableScroll:e,previousImpact:n,destination:r,insideDestination:s,afterCritical:i})=>{if(!r.isCombineEnabled)return null;const a=r.axis,l=S0(r.axis,t.displaceBy),c=l.value,u=e[a.start],h=e[a.end],m=G1(t,s).find(b=>{const y=b.descriptor.id,x=b.page.borderBox,C=x[a.size]/Dve,k=gu(y,i),A=X$({displaced:n.displaced,id:y});return k?A?h>x[a.start]+C&&h<x[a.end]-C:u>x[a.start]-c+C&&u<x[a.end]-c-C:A?h>x[a.start]+c+C&&h<x[a.end]+c-C:u>x[a.start]+C&&u<x[a.end]-C});return m?{displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:m.descriptor.id,droppableId:r.descriptor.id}}}:null},Q$=({pageOffset:t,draggable:e,draggables:n,droppables:r,previousImpact:s,viewport:i,afterCritical:a})=>{const l=K$(e.page.borderBox,t),c=Eve({pageBorderBox:l,draggable:e,droppables:r});if(!c)return qxe;const u=r[c],h=yp(u.descriptor.id,n),f=jve(u,l);return Pve({pageBorderBoxWithDroppableScroll:f,draggable:e,previousImpact:s,destination:u,insideDestination:h,afterCritical:a})||Ave({pageBorderBoxWithDroppableScroll:f,draggable:e,destination:u,insideDestination:h,last:s.displaced,viewport:i,afterCritical:a})},Uj=(t,e)=>({...t,[e.descriptor.id]:e});const Ive=({previousImpact:t,impact:e,droppables:n})=>{const r=ta(t),s=ta(e);if(!r||r===s)return n;const i=n[r];if(!i.subject.withPlaceholder)return n;const a=vve(i);return Uj(n,a)};var Ove=({draggable:t,draggables:e,droppables:n,previousImpact:r,impact:s})=>{const i=Ive({previousImpact:r,impact:s,droppables:n}),a=ta(s);if(!a)return i;const l=n[a];if(bp(t,l)||l.subject.withPlaceholder)return i;const c=Y$(l,t,e);return Uj(i,c)},Km=({state:t,clientSelection:e,dimensions:n,viewport:r,impact:s,scrollJumpRequest:i})=>{const a=r||t.viewport,l=n||t.dimensions,c=e||t.current.client.selection,u=Xi(c,t.initial.client.selection),h={offset:u,selection:c,borderBoxCenter:Ms(t.initial.client.borderBoxCenter,u)},f={selection:Ms(h.selection,a.scroll.current),borderBoxCenter:Ms(h.borderBoxCenter,a.scroll.current),offset:Ms(h.offset,a.scroll.diff.value)},m={client:h,page:f};if(t.phase==="COLLECTING")return{...t,dimensions:l,viewport:a,current:m};const g=l.draggables[t.critical.draggable.id],b=s||Q$({pageOffset:f.offset,draggable:g,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:a,afterCritical:t.afterCritical}),y=Ove({draggable:g,impact:b,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables});return{...t,current:m,dimensions:{draggables:l.draggables,droppables:y},impact:b,viewport:a,scrollJumpRequest:i||null,forceShouldAnimate:i?!1:null}};function Mve(t,e){return t.map(n=>e[n])}var Z$=({impact:t,viewport:e,draggables:n,destination:r,forceShouldAnimate:s})=>{const i=t.displaced,a=Mve(i.all,n),l=Pg({afterDragging:a,destination:r,displacedBy:t.displacedBy,viewport:e.frame,forceShouldAnimate:s,last:i});return{...t,displaced:l}},J$=({impact:t,draggable:e,droppable:n,draggables:r,viewport:s,afterCritical:i})=>{const a=K1({impact:t,draggable:e,draggables:r,droppable:n,afterCritical:i});return zj({pageBorderBoxCenter:a,draggable:e,viewport:s})},e9=({state:t,dimensions:e,viewport:n})=>{t.movementMode!=="SNAP"&&Rt();const r=t.impact,s=n||t.viewport,i=e||t.dimensions,{draggables:a,droppables:l}=i,c=a[t.critical.draggable.id],u=ta(r);u||Rt();const h=l[u],f=Z$({impact:r,viewport:s,destination:h,draggables:a}),m=J$({impact:f,draggable:c,droppable:h,draggables:a,viewport:s,afterCritical:t.afterCritical});return Km({impact:f,clientSelection:m,state:t,dimensions:i,viewport:s})},Rve=t=>({index:t.index,droppableId:t.droppableId}),t9=({draggable:t,home:e,draggables:n,viewport:r})=>{const s=S0(e.axis,t.displaceBy),i=yp(e.descriptor.id,n),a=i.indexOf(t);a===-1&&Rt();const l=i.slice(a+1),c=l.reduce((m,g)=>(m[g.descriptor.id]=!0,m),{}),u={inVirtualList:e.descriptor.mode==="virtual",displacedBy:s,effected:c};return{impact:{displaced:Pg({afterDragging:l,destination:e,displacedBy:s,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:s,at:{type:"REORDER",destination:Rve(t.descriptor)}},afterCritical:u}},Lve=(t,e)=>({draggables:t.draggables,droppables:Uj(t.droppables,e)}),Fve=({draggable:t,offset:e,initialWindowScroll:n})=>{const r=mv(t.client,e),s=gv(r,n);return{...t,placeholder:{...t.placeholder,client:r},client:r,page:s}},Bve=t=>{const e=t.frame;return e||Rt(),e},$ve=({additions:t,updatedDroppables:e,viewport:n})=>{const r=n.scroll.diff.value;return t.map(s=>{const i=s.descriptor.droppableId,a=e[i],c=Bve(a).scroll.diff.value,u=Ms(r,c);return Fve({draggable:s,offset:u,initialWindowScroll:n.scroll.initial})})},zve=({state:t,published:e})=>{const n=e.modified.map(w=>{const C=t.dimensions.droppables[w.droppableId];return Rj(C,w.scroll)}),r={...t.dimensions.droppables,...L$(n)},s=F$($ve({additions:e.additions,updatedDroppables:r,viewport:t.viewport})),i={...t.dimensions.draggables,...s};e.removals.forEach(w=>{delete i[w]});const a={droppables:r,draggables:i},l=ta(t.impact),c=l?a.droppables[l]:null,u=a.draggables[t.critical.draggable.id],h=a.droppables[t.critical.droppable.id],{impact:f,afterCritical:m}=t9({draggable:u,home:h,draggables:i,viewport:t.viewport}),g=c&&c.isCombineEnabled?t.impact:f,b=Q$({pageOffset:t.current.page.offset,draggable:a.draggables[t.critical.draggable.id],draggables:a.draggables,droppables:a.droppables,previousImpact:g,viewport:t.viewport,afterCritical:m}),y={...t,phase:"DRAGGING",impact:b,onLiftImpact:f,dimensions:a,afterCritical:m,forceShouldAnimate:!1};return t.phase==="COLLECTING"?y:{...y,phase:"DROP_PENDING",reason:t.reason,isWaiting:!1}};const vT=t=>t.movementMode==="SNAP",yS=(t,e,n)=>{const r=Lve(t.dimensions,e);return!vT(t)||n?Km({state:t,dimensions:r}):e9({state:t,dimensions:r})};function bS(t){return t.isDragging&&t.movementMode==="SNAP"?{...t,scrollJumpRequest:null}:t}const LI={phase:"IDLE",completed:null,shouldFlush:!1};var Uve=(t=LI,e)=>{if(e.type==="FLUSH")return{...LI,shouldFlush:!0};if(e.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&Rt();const{critical:n,clientSelection:r,viewport:s,dimensions:i,movementMode:a}=e.payload,l=i.draggables[n.draggable.id],c=i.droppables[n.droppable.id],u={selection:r,borderBoxCenter:l.client.borderBox.center,offset:Es},h={client:u,page:{selection:Ms(u.selection,s.scroll.initial),borderBoxCenter:Ms(u.selection,s.scroll.initial),offset:Ms(u.selection,s.scroll.diff.value)}},f=q1(i.droppables).every(y=>!y.isFixedOnPage),{impact:m,afterCritical:g}=t9({draggable:l,home:c,draggables:i.draggables,viewport:s});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:a,dimensions:i,initial:h,current:h,isWindowScrollAllowed:f,impact:m,afterCritical:g,onLiftImpact:m,viewport:s,scrollJumpRequest:null,forceShouldAnimate:null}}if(e.type==="COLLECTION_STARTING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"?t:(t.phase!=="DRAGGING"&&Rt(),{...t,phase:"COLLECTING"});if(e.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||Rt(),zve({state:t,published:e.payload});if(e.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;od(t)||Rt();const{client:n}=e.payload;return uu(n,t.current.client.selection)?t:Km({state:t,clientSelection:n,impact:vT(t)?t.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return bS(t);od(t)||Rt();const{id:n,newScroll:r}=e.payload,s=t.dimensions.droppables[n];if(!s)return t;const i=Rj(s,r);return yS(t,i,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;od(t)||Rt();const{id:n,isEnabled:r}=e.payload,s=t.dimensions.droppables[n];s||Rt(),s.isEnabled===r&&Rt();const i={...s,isEnabled:r};return yS(t,i,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;od(t)||Rt();const{id:n,isCombineEnabled:r}=e.payload,s=t.dimensions.droppables[n];s||Rt(),s.isCombineEnabled===r&&Rt();const i={...s,isCombineEnabled:r};return yS(t,i,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;od(t)||Rt(),t.isWindowScrollAllowed||Rt();const n=e.payload.newScroll;if(uu(t.viewport.scroll.current,n))return bS(t);const r=W$(t.viewport,n);return vT(t)?e9({state:t,viewport:r}):Km({state:t,viewport:r})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!od(t))return t;const n=e.payload.maxScroll;if(uu(n,t.viewport.scroll.max))return t;const r={...t.viewport,scroll:{...t.viewport.scroll,max:n}};return{...t,viewport:r}}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&Rt();const n=Cve({state:t,type:e.type});return n?Km({state:t,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):t}if(e.type==="DROP_PENDING"){const n=e.payload.reason;return t.phase!=="COLLECTING"&&Rt(),{...t,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(e.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:s}=e.payload;return t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||Rt(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:s,dimensions:t.dimensions}}if(e.type==="DROP_COMPLETE"){const{completed:n}=e.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return t};function tr(t,e){return t instanceof Object&&"type"in t&&t.type===e}const Hve=t=>({type:"BEFORE_INITIAL_CAPTURE",payload:t}),Wve=t=>({type:"LIFT",payload:t}),Vve=t=>({type:"INITIAL_PUBLISH",payload:t}),qve=t=>({type:"PUBLISH_WHILE_DRAGGING",payload:t}),Yve=()=>({type:"COLLECTION_STARTING",payload:null}),Gve=t=>({type:"UPDATE_DROPPABLE_SCROLL",payload:t}),Kve=t=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}),Xve=t=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}),n9=t=>({type:"MOVE",payload:t}),Qve=t=>({type:"MOVE_BY_WINDOW_SCROLL",payload:t}),Zve=t=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}),Jve=()=>({type:"MOVE_UP",payload:null}),e1e=()=>({type:"MOVE_DOWN",payload:null}),t1e=()=>({type:"MOVE_RIGHT",payload:null}),n1e=()=>({type:"MOVE_LEFT",payload:null}),Hj=()=>({type:"FLUSH",payload:null}),r1e=t=>({type:"DROP_ANIMATE",payload:t}),Wj=t=>({type:"DROP_COMPLETE",payload:t}),r9=t=>({type:"DROP",payload:t}),s1e=t=>({type:"DROP_PENDING",payload:t}),s9=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var i1e=t=>({getState:e,dispatch:n})=>r=>s=>{if(!tr(s,"LIFT")){r(s);return}const{id:i,clientSelection:a,movementMode:l}=s.payload,c=e();c.phase==="DROP_ANIMATING"&&n(Wj({completed:c.completed})),e().phase!=="IDLE"&&Rt(),n(Hj()),n(Hve({draggableId:i,movementMode:l}));const h={draggableId:i,scrollOptions:{shouldPublishImmediately:l==="SNAP"}},{critical:f,dimensions:m,viewport:g}=t.startPublishing(h);n(Vve({critical:f,dimensions:m,clientSelection:a,movementMode:l,viewport:g}))},a1e=t=>()=>e=>n=>{tr(n,"INITIAL_PUBLISH")&&t.dragging(),tr(n,"DROP_ANIMATE")&&t.dropping(n.payload.completed.result.reason),(tr(n,"FLUSH")||tr(n,"DROP_COMPLETE"))&&t.resting(),e(n)};const Vj={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Ig={opacity:{drop:0,combining:.7},scale:{drop:.75}},i9={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},td=`${i9.outOfTheWay}s ${Vj.outOfTheWay}`,Xm={fluid:`opacity ${td}`,snap:`transform ${td}, opacity ${td}`,drop:t=>{const e=`${t}s ${Vj.drop}`;return`transform ${e}, opacity ${e}`},outOfTheWay:`transform ${td}`,placeholder:`height ${td}, width ${td}, margin ${td}`},FI=t=>uu(t,Es)?void 0:`translate(${t.x}px, ${t.y}px)`,wT={moveTo:FI,drop:(t,e)=>{const n=FI(t);if(n)return e?`${n} scale(${Ig.scale.drop})`:n}},{minDropTime:_T,maxDropTime:a9}=i9,o1e=a9-_T,BI=1500,l1e=.6;var c1e=({current:t,destination:e,reason:n})=>{const r=Ag(t,e);if(r<=0)return _T;if(r>=BI)return a9;const s=r/BI,i=_T+o1e*s,a=n==="CANCEL"?i*l1e:i;return Number(a.toFixed(2))},u1e=({impact:t,draggable:e,dimensions:n,viewport:r,afterCritical:s})=>{const{draggables:i,droppables:a}=n,l=ta(t),c=l?a[l]:null,u=a[e.descriptor.droppableId],h=J$({impact:t,draggable:e,draggables:i,afterCritical:s,droppable:c||u,viewport:r});return Xi(h,e.client.borderBox.center)},d1e=({draggables:t,reason:e,lastImpact:n,home:r,viewport:s,onLiftImpact:i})=>!n.at||e!=="DROP"?{impact:Z$({draggables:t,impact:i,destination:r,viewport:s,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:Dg},didDropInsideDroppable:!0};const h1e=({getState:t,dispatch:e})=>n=>r=>{if(!tr(r,"DROP")){n(r);return}const s=t(),i=r.payload.reason;if(s.phase==="COLLECTING"){e(s1e({reason:i}));return}if(s.phase==="IDLE")return;s.phase==="DROP_PENDING"&&s.isWaiting&&Rt(),s.phase==="DRAGGING"||s.phase==="DROP_PENDING"||Rt();const l=s.critical,c=s.dimensions,u=c.draggables[s.critical.draggable.id],{impact:h,didDropInsideDroppable:f}=d1e({reason:i,lastImpact:s.impact,afterCritical:s.afterCritical,onLiftImpact:s.onLiftImpact,home:s.dimensions.droppables[s.critical.droppable.id],viewport:s.viewport,draggables:s.dimensions.draggables}),m=f?Lj(h):null,g=f?Y1(h):null,b={index:l.draggable.index,droppableId:l.droppable.id},y={draggableId:u.descriptor.id,type:u.descriptor.type,source:b,reason:i,mode:s.movementMode,destination:m,combine:g},x=u1e({impact:h,draggable:u,dimensions:c,viewport:s.viewport,afterCritical:s.afterCritical}),w={critical:s.critical,afterCritical:s.afterCritical,result:y,impact:h};if(!(!uu(s.current.client.offset,x)||!!y.combine)){e(Wj({completed:w}));return}const k=c1e({current:s.current.client.offset,destination:x,reason:i});e(r1e({newHomeClientOffset:x,dropDuration:k,completed:w}))};var o9=()=>({x:window.pageXOffset,y:window.pageYOffset});function f1e(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:e=>{e.target!==window&&e.target!==window.document||t()}}}function p1e({onWindowScroll:t}){function e(){t(o9())}const n=Ng(e),r=f1e(n);let s=cu;function i(){return s!==cu}function a(){i()&&Rt(),s=Ra(window,[r])}function l(){i()||Rt(),n.cancel(),s(),s=cu}return{start:a,stop:l,isActive:i}}const m1e=t=>tr(t,"DROP_COMPLETE")||tr(t,"DROP_ANIMATE")||tr(t,"FLUSH"),g1e=t=>{const e=p1e({onWindowScroll:n=>{t.dispatch(Qve({newScroll:n}))}});return n=>r=>{!e.isActive()&&tr(r,"INITIAL_PUBLISH")&&e.start(),e.isActive()&&m1e(r)&&e.stop(),n(r)}};var y1e=t=>{let e=!1,n=!1;const r=setTimeout(()=>{n=!0}),s=i=>{e||n||(e=!0,t(i),clearTimeout(r))};return s.wasCalled=()=>e,s},b1e=()=>{const t=[],e=s=>{const i=t.findIndex(l=>l.timerId===s);i===-1&&Rt();const[a]=t.splice(i,1);a.callback()};return{add:s=>{const i=setTimeout(()=>e(i)),a={timerId:i,callback:s};t.push(a)},flush:()=>{if(!t.length)return;const s=[...t];t.length=0,s.forEach(i=>{clearTimeout(i.timerId),i.callback()})}}};const x1e=(t,e)=>t==null&&e==null?!0:t==null||e==null?!1:t.droppableId===e.droppableId&&t.index===e.index,v1e=(t,e)=>t==null&&e==null?!0:t==null||e==null?!1:t.draggableId===e.draggableId&&t.droppableId===e.droppableId,w1e=(t,e)=>{if(t===e)return!0;const n=t.draggable.id===e.draggable.id&&t.draggable.droppableId===e.draggable.droppableId&&t.draggable.type===e.draggable.type&&t.draggable.index===e.draggable.index,r=t.droppable.id===e.droppable.id&&t.droppable.type===e.droppable.type;return n&&r},mm=(t,e)=>{e()},wb=(t,e)=>({draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:e});function xS(t,e,n,r){if(!t){n(r(e));return}const s=y1e(n);t(e,{announce:s}),s.wasCalled()||n(r(e))}var _1e=(t,e)=>{const n=b1e();let r=null;const s=(f,m)=>{r&&Rt(),mm("onBeforeCapture",()=>{const g=t().onBeforeCapture;g&&g({draggableId:f,mode:m})})},i=(f,m)=>{r&&Rt(),mm("onBeforeDragStart",()=>{const g=t().onBeforeDragStart;g&&g(wb(f,m))})},a=(f,m)=>{r&&Rt();const g=wb(f,m);r={mode:m,lastCritical:f,lastLocation:g.source,lastCombine:null},n.add(()=>{mm("onDragStart",()=>xS(t().onDragStart,g,e,Zb.onDragStart))})},l=(f,m)=>{const g=Lj(m),b=Y1(m);r||Rt();const y=!w1e(f,r.lastCritical);y&&(r.lastCritical=f);const x=!x1e(r.lastLocation,g);x&&(r.lastLocation=g);const w=!v1e(r.lastCombine,b);if(w&&(r.lastCombine=b),!y&&!x&&!w)return;const C={...wb(f,r.mode),combine:b,destination:g};n.add(()=>{mm("onDragUpdate",()=>xS(t().onDragUpdate,C,e,Zb.onDragUpdate))})},c=()=>{r||Rt(),n.flush()},u=f=>{r||Rt(),r=null,mm("onDragEnd",()=>xS(t().onDragEnd,f,e,Zb.onDragEnd))};return{beforeCapture:s,beforeStart:i,start:a,update:l,flush:c,drop:u,abort:()=>{if(!r)return;const f={...wb(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};u(f)}}},S1e=(t,e)=>{const n=_1e(t,e);return r=>s=>i=>{if(tr(i,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(tr(i,"INITIAL_PUBLISH")){const l=i.payload.critical;n.beforeStart(l,i.payload.movementMode),s(i),n.start(l,i.payload.movementMode);return}if(tr(i,"DROP_COMPLETE")){const l=i.payload.completed.result;n.flush(),s(i),n.drop(l);return}if(s(i),tr(i,"FLUSH")){n.abort();return}const a=r.getState();a.phase==="DRAGGING"&&n.update(a.critical,a.impact)}};const C1e=t=>e=>n=>{if(!tr(n,"DROP_ANIMATION_FINISHED")){e(n);return}const r=t.getState();r.phase!=="DROP_ANIMATING"&&Rt(),t.dispatch(Wj({completed:r.completed}))},T1e=t=>{let e=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),e&&(e(),e=null)}return s=>i=>{if((tr(i,"FLUSH")||tr(i,"DROP_COMPLETE")||tr(i,"DROP_ANIMATION_FINISHED"))&&r(),s(i),!tr(i,"DROP_ANIMATE"))return;const a={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){t.getState().phase==="DROP_ANIMATING"&&t.dispatch(s9())}};n=requestAnimationFrame(()=>{n=null,e=Ra(window,[a])})}};var k1e=t=>()=>e=>n=>{(tr(n,"DROP_COMPLETE")||tr(n,"FLUSH")||tr(n,"DROP_ANIMATE"))&&t.stopPublishing(),e(n)},E1e=t=>{let e=!1;return()=>n=>r=>{if(tr(r,"INITIAL_PUBLISH")){e=!0,t.tryRecordFocus(r.payload.critical.draggable.id),n(r),t.tryRestoreFocusRecorded();return}if(n(r),!!e){if(tr(r,"FLUSH")){e=!1,t.tryRestoreFocusRecorded();return}if(tr(r,"DROP_COMPLETE")){e=!1;const s=r.payload.completed.result;s.combine&&t.tryShiftRecord(s.draggableId,s.combine.draggableId),t.tryRestoreFocusRecorded()}}}};const j1e=t=>tr(t,"DROP_COMPLETE")||tr(t,"DROP_ANIMATE")||tr(t,"FLUSH");var N1e=t=>e=>n=>r=>{if(j1e(r)){t.stop(),n(r);return}if(tr(r,"INITIAL_PUBLISH")){n(r);const s=e.getState();s.phase!=="DRAGGING"&&Rt(),t.start(s);return}n(r),t.scroll(e.getState())};const A1e=t=>e=>n=>{if(e(n),!tr(n,"PUBLISH_WHILE_DRAGGING"))return;const r=t.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||t.dispatch(r9({reason:r.reason})))},D1e=S$;var P1e=({dimensionMarshal:t,focusMarshal:e,styleMarshal:n,getResponders:r,announce:s,autoScroller:i})=>_$(Uve,D1e(Dbe(a1e(n),k1e(t),i1e(t),h1e,C1e,T1e,A1e,N1e(i),g1e,E1e(e),S1e(r,s))));const vS=()=>({additions:{},removals:{},modified:{}});function I1e({registry:t,callbacks:e}){let n=vS(),r=null;const s=()=>{r||(e.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:c,removals:u,modified:h}=n,f=Object.keys(c).map(b=>t.draggable.getById(b).getDimension(Es)).sort((b,y)=>b.descriptor.index-y.descriptor.index),m=Object.keys(h).map(b=>{const x=t.droppable.getById(b).callbacks.getScrollWhileDragging();return{droppableId:b,scroll:x}}),g={additions:f,removals:Object.keys(u),modified:m};n=vS(),e.publish(g)}))};return{add:c=>{const u=c.descriptor.id;n.additions[u]=c,n.modified[c.descriptor.droppableId]=!0,n.removals[u]&&delete n.removals[u],s()},remove:c=>{const u=c.descriptor;n.removals[u.id]=!0,n.modified[u.droppableId]=!0,n.additions[u.id]&&delete n.additions[u.id],s()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=vS())}}}var l9=({scrollHeight:t,scrollWidth:e,height:n,width:r})=>{const s=Xi({x:e,y:t},{x:r,y:n});return{x:Math.max(0,s.x),y:Math.max(0,s.y)}},c9=()=>{const t=document.documentElement;return t||Rt(),t},u9=()=>{const t=c9();return l9({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight})},O1e=()=>{const t=o9(),e=u9(),n=t.y,r=t.x,s=c9(),i=s.clientWidth,a=s.clientHeight,l=r+i,c=n+a;return{frame:uo({top:n,left:r,right:l,bottom:c}),scroll:{initial:t,current:t,max:e,diff:{value:Es,displacement:Es}}}},M1e=({critical:t,scrollOptions:e,registry:n})=>{const r=O1e(),s=r.scroll.current,i=t.droppable,a=n.droppable.getAllByType(i.type).map(h=>h.callbacks.getDimensionAndWatchScroll(s,e)),l=n.draggable.getAllByType(t.draggable.type).map(h=>h.getDimension(s));return{dimensions:{draggables:F$(l),droppables:L$(a)},critical:t,viewport:r}};function $I(t,e,n){return!(n.descriptor.id===e.id||n.descriptor.type!==e.type||t.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var R1e=(t,e)=>{let n=null;const r=I1e({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:t}),s=(m,g)=>{t.droppable.exists(m)||Rt(),n&&e.updateDroppableIsEnabled({id:m,isEnabled:g})},i=(m,g)=>{n&&(t.droppable.exists(m)||Rt(),e.updateDroppableIsCombineEnabled({id:m,isCombineEnabled:g}))},a=(m,g)=>{n&&(t.droppable.exists(m)||Rt(),e.updateDroppableScroll({id:m,newScroll:g}))},l=(m,g)=>{n&&t.droppable.getById(m).callbacks.scroll(g)},c=()=>{if(!n)return;r.stop();const m=n.critical.droppable;t.droppable.getAllByType(m.type).forEach(g=>g.callbacks.dragStopped()),n.unsubscribe(),n=null},u=m=>{n||Rt();const g=n.critical.draggable;m.type==="ADDITION"&&$I(t,g,m.value)&&r.add(m.value),m.type==="REMOVAL"&&$I(t,g,m.value)&&r.remove(m.value)};return{updateDroppableIsEnabled:s,updateDroppableIsCombineEnabled:i,scrollDroppable:l,updateDroppableScroll:a,startPublishing:m=>{n&&Rt();const g=t.draggable.getById(m.draggableId),b=t.droppable.getById(g.descriptor.droppableId),y={draggable:g.descriptor,droppable:b.descriptor},x=t.subscribe(u);return n={critical:y,unsubscribe:x},M1e({critical:y,registry:t,scrollOptions:m.scrollOptions})},stopPublishing:c}},d9=(t,e)=>t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===e?!1:t.completed.result.reason==="DROP",L1e=t=>{window.scrollBy(t.x,t.y)};const F1e=Ts(t=>q1(t).filter(e=>!(!e.isEnabled||!e.frame))),B1e=(t,e)=>F1e(e).find(r=>(r.frame||Rt(),G$(r.frame.pageMarginBox)(t)))||null;var $1e=({center:t,destination:e,droppables:n})=>{if(e){const s=n[e];return s.frame?s:null}return B1e(t,n)};const Og={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:t=>t**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var z1e=(t,e,n=()=>Og)=>{const r=n(),s=t[e.size]*r.startFromPercentage,i=t[e.size]*r.maxScrollAtPercentage;return{startScrollingFrom:s,maxScrollValueAt:i}},h9=({startOfRange:t,endOfRange:e,current:n})=>{const r=e-t;return r===0?0:(n-t)/r},qj=1,U1e=(t,e,n=()=>Og)=>{const r=n();if(t>e.startScrollingFrom)return 0;if(t<=e.maxScrollValueAt)return r.maxPixelScroll;if(t===e.startScrollingFrom)return qj;const i=1-h9({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:t}),a=r.maxPixelScroll*r.ease(i);return Math.ceil(a)},H1e=(t,e,n)=>{const r=n(),s=r.durationDampening.accelerateAt,i=r.durationDampening.stopDampeningAt,a=e,l=i,u=Date.now()-a;if(u>=i)return t;if(u<s)return qj;const h=h9({startOfRange:s,endOfRange:l,current:u}),f=t*r.ease(h);return Math.ceil(f)},zI=({distanceToEdge:t,thresholds:e,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:s})=>{const i=U1e(t,e,s);return i===0?0:r?Math.max(H1e(i,n,s),qj):i},UI=({container:t,distanceToEdges:e,dragStartTime:n,axis:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const a=z1e(t,r,i);return e[r.end]<e[r.start]?zI({distanceToEdge:e[r.end],thresholds:a,dragStartTime:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i}):-1*zI({distanceToEdge:e[r.start],thresholds:a,dragStartTime:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i})},W1e=({container:t,subject:e,proposedScroll:n})=>{const r=e.height>t.height,s=e.width>t.width;return!s&&!r?n:s&&r?null:{x:s?0:n.x,y:r?0:n.y}};const V1e=R$(t=>t===0?0:t);var f9=({dragStartTime:t,container:e,subject:n,center:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const a={top:r.y-e.top,right:e.right-r.x,bottom:e.bottom-r.y,left:r.x-e.left},l=UI({container:e,distanceToEdges:a,dragStartTime:t,axis:Fj,shouldUseTimeDampening:s,getAutoScrollerOptions:i}),c=UI({container:e,distanceToEdges:a,dragStartTime:t,axis:z$,shouldUseTimeDampening:s,getAutoScrollerOptions:i}),u=V1e({x:c,y:l});if(uu(u,Es))return null;const h=W1e({container:e,subject:n,proposedScroll:u});return h?uu(h,Es)?null:h:null};const q1e=R$(t=>t===0?0:t>0?1:-1),Yj=(()=>{const t=(e,n)=>e<0?e:e>n?e-n:0;return({current:e,max:n,change:r})=>{const s=Ms(e,r),i={x:t(s.x,n.x),y:t(s.y,n.y)};return uu(i,Es)?null:i}})(),p9=({max:t,current:e,change:n})=>{const r={x:Math.max(e.x,t.x),y:Math.max(e.y,t.y)},s=q1e(n),i=Yj({max:r,current:e,change:s});return!i||s.x!==0&&i.x===0||s.y!==0&&i.y===0},Gj=(t,e)=>p9({current:t.scroll.current,max:t.scroll.max,change:e}),Y1e=(t,e)=>{if(!Gj(t,e))return null;const n=t.scroll.max,r=t.scroll.current;return Yj({current:r,max:n,change:e})},Kj=(t,e)=>{const n=t.frame;return n?p9({current:n.scroll.current,max:n.scroll.max,change:e}):!1},G1e=(t,e)=>{const n=t.frame;return!n||!Kj(t,e)?null:Yj({current:n.scroll.current,max:n.scroll.max,change:e})};var K1e=({viewport:t,subject:e,center:n,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const a=f9({dragStartTime:r,container:t.frame,subject:e,center:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i});return a&&Gj(t,a)?a:null},X1e=({droppable:t,subject:e,center:n,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const a=t.frame;if(!a)return null;const l=f9({dragStartTime:r,container:a.pageMarginBox,subject:e,center:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i});return l&&Kj(t,l)?l:null},HI=({state:t,dragStartTime:e,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:s,getAutoScrollerOptions:i})=>{const a=t.current.page.borderBoxCenter,c=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const f=t.viewport,m=K1e({dragStartTime:e,viewport:f,subject:c,center:a,shouldUseTimeDampening:n,getAutoScrollerOptions:i});if(m){r(m);return}}const u=$1e({center:a,destination:ta(t.impact),droppables:t.dimensions.droppables});if(!u)return;const h=X1e({dragStartTime:e,droppable:u,subject:c,center:a,shouldUseTimeDampening:n,getAutoScrollerOptions:i});h&&s(u.descriptor.id,h)},Q1e=({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:n=()=>Og})=>{const r=Ng(t),s=Ng(e);let i=null;const a=u=>{i||Rt();const{shouldUseTimeDampening:h,dragStartTime:f}=i;HI({state:u,scrollWindow:r,scrollDroppable:s,dragStartTime:f,shouldUseTimeDampening:h,getAutoScrollerOptions:n})};return{start:u=>{i&&Rt();const h=Date.now();let f=!1;const m=()=>{f=!0};HI({state:u,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:m,scrollDroppable:m,getAutoScrollerOptions:n}),i={dragStartTime:h,shouldUseTimeDampening:f},f&&a(u)},stop:()=>{i&&(r.cancel(),s.cancel(),i=null)},scroll:a}},Z1e=({move:t,scrollDroppable:e,scrollWindow:n})=>{const r=(l,c)=>{const u=Ms(l.current.client.selection,c);t({client:u})},s=(l,c)=>{if(!Kj(l,c))return c;const u=G1e(l,c);if(!u)return e(l.descriptor.id,c),null;const h=Xi(c,u);return e(l.descriptor.id,h),Xi(c,h)},i=(l,c,u)=>{if(!l||!Gj(c,u))return u;const h=Y1e(c,u);if(!h)return n(u),null;const f=Xi(u,h);return n(f),Xi(u,f)};return l=>{const c=l.scrollJumpRequest;if(!c)return;const u=ta(l.impact);u||Rt();const h=s(l.dimensions.droppables[u],c);if(!h)return;const f=l.viewport,m=i(l.isWindowScrollAllowed,f,h);m&&r(l,m)}},J1e=({scrollDroppable:t,scrollWindow:e,move:n,getAutoScrollerOptions:r})=>{const s=Q1e({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:r}),i=Z1e({move:n,scrollWindow:e,scrollDroppable:t});return{scroll:c=>{if(!(r().disabled||c.phase!=="DRAGGING")){if(c.movementMode==="FLUID"){s.scroll(c);return}c.scrollJumpRequest&&i(c)}},start:s.start,stop:s.stop}};const Hf="data-rfd",Wf=(()=>{const t=`${Hf}-drag-handle`;return{base:t,draggableId:`${t}-draggable-id`,contextId:`${t}-context-id`}})(),ST=(()=>{const t=`${Hf}-draggable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),ewe=(()=>{const t=`${Hf}-droppable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),WI={contextId:`${Hf}-scroll-container-context-id`},twe=t=>e=>`[${e}="${t}"]`,gm=(t,e)=>t.map(n=>{const r=n.styles[e];return r?`${n.selector} { ${r} }`:""}).join(" "),nwe="pointer-events: none;";var rwe=t=>{const e=twe(t),n=(()=>{const l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(Wf.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:nwe,dropAnimating:l}}})(),r=(()=>{const l=`
      transition: ${Xm.outOfTheWay};
    `;return{selector:e(ST.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}})(),s={selector:e(ewe.contextId),styles:{always:"overflow-anchor: none;"}},a=[r,n,s,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:gm(a,"always"),resting:gm(a,"resting"),dragging:gm(a,"dragging"),dropAnimating:gm(a,"dropAnimating"),userCancel:gm(a,"userCancel")}};const na=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?_.useLayoutEffect:_.useEffect,wS=()=>{const t=document.querySelector("head");return t||Rt(),t},VI=t=>{const e=document.createElement("style");return t&&e.setAttribute("nonce",t),e.type="text/css",e};function swe(t,e){const n=On(()=>rwe(t),[t]),r=_.useRef(null),s=_.useRef(null),i=rn(Ts(f=>{const m=s.current;m||Rt(),m.textContent=f}),[]),a=rn(f=>{const m=r.current;m||Rt(),m.textContent=f},[]);na(()=>{!r.current&&!s.current||Rt();const f=VI(e),m=VI(e);return r.current=f,s.current=m,f.setAttribute(`${Hf}-always`,t),m.setAttribute(`${Hf}-dynamic`,t),wS().appendChild(f),wS().appendChild(m),a(n.always),i(n.resting),()=>{const g=b=>{const y=b.current;y||Rt(),wS().removeChild(y),b.current=null};g(r),g(s)}},[e,a,i,n.always,n.resting,t]);const l=rn(()=>i(n.dragging),[i,n.dragging]),c=rn(f=>{if(f==="DROP"){i(n.dropAnimating);return}i(n.userCancel)},[i,n.dropAnimating,n.userCancel]),u=rn(()=>{s.current&&i(n.resting)},[i,n.resting]);return On(()=>({dragging:l,dropping:c,resting:u}),[l,c,u])}function m9(t,e){return Array.from(t.querySelectorAll(e))}var g9=t=>t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:window;function X1(t){return t instanceof g9(t).HTMLElement}function iwe(t,e){const n=`[${Wf.contextId}="${t}"]`,r=m9(document,n);if(!r.length)return null;const s=r.find(i=>i.getAttribute(Wf.draggableId)===e);return!s||!X1(s)?null:s}function awe(t){const e=_.useRef({}),n=_.useRef(null),r=_.useRef(null),s=_.useRef(!1),i=rn(function(m,g){const b={id:m,focus:g};return e.current[m]=b,function(){const x=e.current;x[m]!==b&&delete x[m]}},[]),a=rn(function(m){const g=iwe(t,m);g&&g!==document.activeElement&&g.focus()},[t]),l=rn(function(m,g){n.current===m&&(n.current=g)},[]),c=rn(function(){r.current||s.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const m=n.current;m&&a(m)}))},[a]),u=rn(function(m){n.current=null;const g=document.activeElement;g&&g.getAttribute(Wf.draggableId)===m&&(n.current=m)},[]);return na(()=>(s.current=!0,function(){s.current=!1;const m=r.current;m&&cancelAnimationFrame(m)}),[]),On(()=>({register:i,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:l}),[i,u,c,l])}function owe(){const t={draggables:{},droppables:{}},e=[];function n(f){return e.push(f),function(){const g=e.indexOf(f);g!==-1&&e.splice(g,1)}}function r(f){e.length&&e.forEach(m=>m(f))}function s(f){return t.draggables[f]||null}function i(f){const m=s(f);return m||Rt(),m}const a={register:f=>{t.draggables[f.descriptor.id]=f,r({type:"ADDITION",value:f})},update:(f,m)=>{const g=t.draggables[m.descriptor.id];g&&g.uniqueId===f.uniqueId&&(delete t.draggables[m.descriptor.id],t.draggables[f.descriptor.id]=f)},unregister:f=>{const m=f.descriptor.id,g=s(m);g&&f.uniqueId===g.uniqueId&&(delete t.draggables[m],t.droppables[f.descriptor.droppableId]&&r({type:"REMOVAL",value:f}))},getById:i,findById:s,exists:f=>!!s(f),getAllByType:f=>Object.values(t.draggables).filter(m=>m.descriptor.type===f)};function l(f){return t.droppables[f]||null}function c(f){const m=l(f);return m||Rt(),m}const u={register:f=>{t.droppables[f.descriptor.id]=f},unregister:f=>{const m=l(f.descriptor.id);m&&f.uniqueId===m.uniqueId&&delete t.droppables[f.descriptor.id]},getById:c,findById:l,exists:f=>!!l(f),getAllByType:f=>Object.values(t.droppables).filter(m=>m.descriptor.type===f)};function h(){t.draggables={},t.droppables={},e.length=0}return{draggable:a,droppable:u,subscribe:n,clean:h}}function lwe(){const t=On(owe,[]);return _.useEffect(()=>function(){t.clean()},[t]),t}var Xj=Zt.createContext(null),vv=()=>{const t=document.body;return t||Rt(),t};const cwe={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},uwe=t=>`rfd-announcement-${t}`;function dwe(t){const e=On(()=>uwe(t),[t]),n=_.useRef(null);return _.useEffect(function(){const i=document.createElement("div");return n.current=i,i.id=e,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),Ot(i.style,cwe),vv().appendChild(i),function(){setTimeout(function(){const c=vv();c.contains(i)&&c.removeChild(i),i===n.current&&(n.current=null)})}},[e]),rn(s=>{const i=n.current;if(i){i.textContent=s;return}},[])}const hwe={separator:"::"};function Qj(t,e=hwe){const n=Zt.useId();return On(()=>`${t}${e.separator}${n}`,[e.separator,t,n])}function fwe({contextId:t,uniqueId:e}){return`rfd-hidden-text-${t}-${e}`}function pwe({contextId:t,text:e}){const n=Qj("hidden-text",{separator:"-"}),r=On(()=>fwe({contextId:t,uniqueId:n}),[n,t]);return _.useEffect(function(){const i=document.createElement("div");return i.id=r,i.textContent=e,i.style.display="none",vv().appendChild(i),function(){const l=vv();l.contains(i)&&l.removeChild(i)}},[r,e]),r}var Q1=Zt.createContext(null);function y9(t){const e=_.useRef(t);return _.useEffect(()=>{e.current=t}),e}function mwe(){let t=null;function e(){return!!t}function n(a){return a===t}function r(a){t&&Rt();const l={abandon:a};return t=l,l}function s(){t||Rt(),t=null}function i(){t&&(t.abandon(),s())}return{isClaimed:e,isActive:n,claim:r,release:s,tryAbandon:i}}function Mg(t){return t.phase==="IDLE"||t.phase==="DROP_ANIMATING"?!1:t.isDragging}const gwe=9,ywe=13,Zj=27,b9=32,bwe=33,xwe=34,vwe=35,wwe=36,_we=37,Swe=38,Cwe=39,Twe=40,kwe={[ywe]:!0,[gwe]:!0};var x9=t=>{kwe[t.keyCode]&&t.preventDefault()};const Z1=(()=>{const t="visibilitychange";return typeof document>"u"?t:[t,`ms${t}`,`webkit${t}`,`moz${t}`,`o${t}`].find(r=>`on${r}`in document)||t})(),v9=0,qI=5;function Ewe(t,e){return Math.abs(e.x-t.x)>=qI||Math.abs(e.y-t.y)>=qI}const YI={type:"IDLE"};function jwe({cancel:t,completed:e,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:s=>{const{button:i,clientX:a,clientY:l}=s;if(i!==v9)return;const c={x:a,y:l},u=n();if(u.type==="DRAGGING"){s.preventDefault(),u.actions.move(c);return}u.type!=="PENDING"&&Rt();const h=u.point;if(!Ewe(h,c))return;s.preventDefault();const f=u.actions.fluidLift(c);r({type:"DRAGGING",actions:f})}},{eventName:"mouseup",fn:s=>{const i=n();if(i.type!=="DRAGGING"){t();return}s.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"mousedown",fn:s=>{n().type==="DRAGGING"&&s.preventDefault(),t()}},{eventName:"keydown",fn:s=>{if(n().type==="PENDING"){t();return}if(s.keyCode===Zj){s.preventDefault(),t();return}x9(s)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:s=>{const i=n();if(i.type==="IDLE"&&Rt(),i.actions.shouldRespectForcePress()){t();return}s.preventDefault()}},{eventName:Z1,fn:t}]}function Nwe(t){const e=_.useRef(YI),n=_.useRef(cu),r=On(()=>({eventName:"mousedown",fn:function(f){if(f.defaultPrevented||f.button!==v9||f.ctrlKey||f.metaKey||f.shiftKey||f.altKey)return;const m=t.findClosestDraggableId(f);if(!m)return;const g=t.tryGetLock(m,a,{sourceEvent:f});if(!g)return;f.preventDefault();const b={x:f.clientX,y:f.clientY};n.current(),u(g,b)}}),[t]),s=On(()=>({eventName:"webkitmouseforcewillbegin",fn:h=>{if(h.defaultPrevented)return;const f=t.findClosestDraggableId(h);if(!f)return;const m=t.findOptionsForDraggable(f);m&&(m.shouldRespectForcePress||t.canGetLock(f)&&h.preventDefault())}}),[t]),i=rn(function(){const f={passive:!1,capture:!0};n.current=Ra(window,[s,r],f)},[s,r]),a=rn(()=>{e.current.type!=="IDLE"&&(e.current=YI,n.current(),i())},[i]),l=rn(()=>{const h=e.current;a(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[a]),c=rn(function(){const f={capture:!0,passive:!1},m=jwe({cancel:l,completed:a,getPhase:()=>e.current,setPhase:g=>{e.current=g}});n.current=Ra(window,m,f)},[l,a]),u=rn(function(f,m){e.current.type!=="IDLE"&&Rt(),e.current={type:"PENDING",point:m,actions:f},c()},[c]);na(function(){return i(),function(){n.current()}},[i])}function Awe(){}const Dwe={[xwe]:!0,[bwe]:!0,[wwe]:!0,[vwe]:!0};function Pwe(t,e){function n(){e(),t.cancel()}function r(){e(),t.drop()}return[{eventName:"keydown",fn:s=>{if(s.keyCode===Zj){s.preventDefault(),n();return}if(s.keyCode===b9){s.preventDefault(),r();return}if(s.keyCode===Twe){s.preventDefault(),t.moveDown();return}if(s.keyCode===Swe){s.preventDefault(),t.moveUp();return}if(s.keyCode===Cwe){s.preventDefault(),t.moveRight();return}if(s.keyCode===_we){s.preventDefault(),t.moveLeft();return}if(Dwe[s.keyCode]){s.preventDefault();return}x9(s)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Z1,fn:n}]}function Iwe(t){const e=_.useRef(Awe),n=On(()=>({eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==b9)return;const a=t.findClosestDraggableId(i);if(!a)return;const l=t.tryGetLock(a,h,{sourceEvent:i});if(!l)return;i.preventDefault();let c=!0;const u=l.snapLift();e.current();function h(){c||Rt(),c=!1,e.current(),r()}e.current=Ra(window,Pwe(u,h),{capture:!0,passive:!1})}}),[t]),r=rn(function(){const i={passive:!1,capture:!0};e.current=Ra(window,[n],i)},[n]);na(function(){return r(),function(){e.current()}},[r])}const _S={type:"IDLE"},Owe=120,Mwe=.15;function Rwe({cancel:t,getPhase:e}){return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(e().type!=="DRAGGING"){t();return}n.keyCode===Zj&&n.preventDefault(),t()}},{eventName:Z1,fn:t}]}function Lwe({cancel:t,completed:e,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const s=n();if(s.type!=="DRAGGING"){t();return}s.hasMoved=!0;const{clientX:i,clientY:a}=r.touches[0],l={x:i,y:a};r.preventDefault(),s.actions.move(l)}},{eventName:"touchend",fn:r=>{const s=n();if(s.type!=="DRAGGING"){t();return}r.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){t();return}r.preventDefault(),t()}},{eventName:"touchforcechange",fn:r=>{const s=n();s.type==="IDLE"&&Rt();const i=r.touches[0];if(!i||!(i.force>=Mwe))return;const l=s.actions.shouldRespectForcePress();if(s.type==="PENDING"){l&&t();return}if(l){if(s.hasMoved){r.preventDefault();return}t();return}r.preventDefault()}},{eventName:Z1,fn:t}]}function Fwe(t){const e=_.useRef(_S),n=_.useRef(cu),r=rn(function(){return e.current},[]),s=rn(function(g){e.current=g},[]),i=On(()=>({eventName:"touchstart",fn:function(g){if(g.defaultPrevented)return;const b=t.findClosestDraggableId(g);if(!b)return;const y=t.tryGetLock(b,l,{sourceEvent:g});if(!y)return;const x=g.touches[0],{clientX:w,clientY:C}=x,k={x:w,y:C};n.current(),f(y,k)}}),[t]),a=rn(function(){const g={capture:!0,passive:!1};n.current=Ra(window,[i],g)},[i]),l=rn(()=>{const m=e.current;m.type!=="IDLE"&&(m.type==="PENDING"&&clearTimeout(m.longPressTimerId),s(_S),n.current(),a())},[a,s]),c=rn(()=>{const m=e.current;l(),m.type==="DRAGGING"&&m.actions.cancel({shouldBlockNextClick:!0}),m.type==="PENDING"&&m.actions.abort()},[l]),u=rn(function(){const g={capture:!0,passive:!1},b={cancel:c,completed:l,getPhase:r},y=Ra(window,Lwe(b),g),x=Ra(window,Rwe(b),g);n.current=function(){y(),x()}},[c,r,l]),h=rn(function(){const g=r();g.type!=="PENDING"&&Rt();const b=g.actions.fluidLift(g.point);s({type:"DRAGGING",actions:b,hasMoved:!1})},[r,s]),f=rn(function(g,b){r().type!=="IDLE"&&Rt();const y=setTimeout(h,Owe);s({type:"PENDING",point:b,actions:g,longPressTimerId:y}),u()},[u,r,s,h]);na(function(){return a(),function(){n.current();const b=r();b.type==="PENDING"&&(clearTimeout(b.longPressTimerId),s(_S))}},[r,a,s]),na(function(){return Ra(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const Bwe=["input","button","textarea","select","option","optgroup","video","audio"];function w9(t,e){if(e==null)return!1;if(Bwe.includes(e.tagName.toLowerCase()))return!0;const r=e.getAttribute("contenteditable");return r==="true"||r===""?!0:e===t?!1:w9(t,e.parentElement)}function $we(t,e){const n=e.target;return X1(n)?w9(t,n):!1}var zwe=t=>uo(t.getBoundingClientRect()).center;function Uwe(t){return t instanceof g9(t).Element}const Hwe=(()=>{const t="matches";return typeof document>"u"?t:[t,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||t})();function _9(t,e){return t==null?null:t[Hwe](e)?t:_9(t.parentElement,e)}function Wwe(t,e){return t.closest?t.closest(e):_9(t,e)}function Vwe(t){return`[${Wf.contextId}="${t}"]`}function qwe(t,e){const n=e.target;if(!Uwe(n))return null;const r=Vwe(t),s=Wwe(n,r);return!s||!X1(s)?null:s}function Ywe(t,e){const n=qwe(t,e);return n?n.getAttribute(Wf.draggableId):null}function Gwe(t,e){const n=`[${ST.contextId}="${t}"]`,s=m9(document,n).find(i=>i.getAttribute(ST.id)===e);return!s||!X1(s)?null:s}function Kwe(t){t.preventDefault()}function _b({expected:t,phase:e,isLockActive:n,shouldWarn:r}){return!(!n()||t!==e)}function S9({lockAPI:t,store:e,registry:n,draggableId:r}){if(t.isClaimed())return!1;const s=n.draggable.findById(r);return!(!s||!s.options.isEnabled||!d9(e.getState(),r))}function Xwe({lockAPI:t,contextId:e,store:n,registry:r,draggableId:s,forceSensorStop:i,sourceEvent:a}){if(!S9({lockAPI:t,store:n,registry:r,draggableId:s}))return null;const c=r.draggable.getById(s),u=Gwe(e,c.descriptor.id);if(!u||a&&!c.options.canDragInteractiveElements&&$we(u,a))return null;const h=t.claim(i||cu);let f="PRE_DRAG";function m(){return c.options.shouldRespectForcePress}function g(){return t.isActive(h)}function b(N,P){_b({expected:N,phase:f,isLockActive:g,shouldWarn:!0})&&n.dispatch(P())}const y=b.bind(null,"DRAGGING");function x(N){function P(){t.release(),f="COMPLETED"}f!=="PRE_DRAG"&&(P(),Rt()),n.dispatch(Wve(N.liftActionArgs)),f="DRAGGING";function M(L,D={shouldBlockNextClick:!1}){if(N.cleanup(),D.shouldBlockNextClick){const S=Ra(window,[{eventName:"click",fn:Kwe,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(S)}P(),n.dispatch(r9({reason:L}))}return{isActive:()=>_b({expected:"DRAGGING",phase:f,isLockActive:g,shouldWarn:!1}),shouldRespectForcePress:m,drop:L=>M("DROP",L),cancel:L=>M("CANCEL",L),...N.actions}}function w(N){const P=Ng(L=>{y(()=>n9({client:L}))});return{...x({liftActionArgs:{id:s,clientSelection:N,movementMode:"FLUID"},cleanup:()=>P.cancel(),actions:{move:P}}),move:P}}function C(){const N={moveUp:()=>y(Jve),moveRight:()=>y(t1e),moveDown:()=>y(e1e),moveLeft:()=>y(n1e)};return x({liftActionArgs:{id:s,clientSelection:zwe(u),movementMode:"SNAP"},cleanup:cu,actions:N})}function k(){_b({expected:"PRE_DRAG",phase:f,isLockActive:g,shouldWarn:!0})&&t.release()}return{isActive:()=>_b({expected:"PRE_DRAG",phase:f,isLockActive:g,shouldWarn:!1}),shouldRespectForcePress:m,fluidLift:w,snapLift:C,abort:k}}const Qwe=[Nwe,Iwe,Fwe];function Zwe({contextId:t,store:e,registry:n,customSensors:r,enableDefaultSensors:s}){const i=[...s?Qwe:[],...r||[]],a=_.useState(()=>mwe())[0],l=rn(function(x,w){Mg(x)&&!Mg(w)&&a.tryAbandon()},[a]);na(function(){let x=e.getState();return e.subscribe(()=>{const C=e.getState();l(x,C),x=C})},[a,e,l]),na(()=>a.tryAbandon,[a.tryAbandon]);const c=rn(y=>S9({lockAPI:a,registry:n,store:e,draggableId:y}),[a,n,e]),u=rn((y,x,w)=>Xwe({lockAPI:a,registry:n,contextId:t,store:e,draggableId:y,forceSensorStop:x||null,sourceEvent:w&&w.sourceEvent?w.sourceEvent:null}),[t,a,n,e]),h=rn(y=>Ywe(t,y),[t]),f=rn(y=>{const x=n.draggable.findById(y);return x?x.options:null},[n.draggable]),m=rn(function(){a.isClaimed()&&(a.tryAbandon(),e.getState().phase!=="IDLE"&&e.dispatch(Hj()))},[a,e]),g=rn(()=>a.isClaimed(),[a]),b=On(()=>({canGetLock:c,tryGetLock:u,findClosestDraggableId:h,findOptionsForDraggable:f,tryReleaseLock:m,isLockClaimed:g}),[c,u,h,f,m,g]);for(let y=0;y<i.length;y++)i[y](b)}const Jwe=t=>({onBeforeCapture:e=>{const n=()=>{t.onBeforeCapture&&t.onBeforeCapture(e)};Zg.flushSync(n)},onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}),e_e=t=>({...Og,...t.autoScrollerOptions,durationDampening:{...Og.durationDampening,...t.autoScrollerOptions}});function ym(t){return t.current||Rt(),t.current}function t_e(t){const{contextId:e,setCallbacks:n,sensors:r,nonce:s,dragHandleUsageInstructions:i}=t,a=_.useRef(null),l=y9(t),c=rn(()=>Jwe(l.current),[l]),u=rn(()=>e_e(l.current),[l]),h=dwe(e),f=pwe({contextId:e,text:i}),m=swe(e,s),g=rn(S=>{ym(a).dispatch(S)},[]),b=On(()=>xI({publishWhileDragging:qve,updateDroppableScroll:Gve,updateDroppableIsEnabled:Kve,updateDroppableIsCombineEnabled:Xve,collectionStarting:Yve},g),[g]),y=lwe(),x=On(()=>R1e(y,b),[y,b]),w=On(()=>J1e({scrollWindow:L1e,scrollDroppable:x.scrollDroppable,getAutoScrollerOptions:u,...xI({move:n9},g)}),[x.scrollDroppable,g,u]),C=awe(e),k=On(()=>P1e({announce:h,autoScroller:w,dimensionMarshal:x,focusMarshal:C,getResponders:c,styleMarshal:m}),[h,w,x,C,c,m]);a.current=k;const A=rn(()=>{const S=ym(a);S.getState().phase!=="IDLE"&&S.dispatch(Hj())},[]),N=rn(()=>{const S=ym(a).getState();return S.phase==="DROP_ANIMATING"?!0:S.phase==="IDLE"?!1:S.isDragging},[]),P=On(()=>({isDragging:N,tryAbort:A}),[N,A]);n(P);const M=rn(S=>d9(ym(a).getState(),S),[]),L=rn(()=>od(ym(a).getState()),[]),D=On(()=>({marshal:x,focus:C,contextId:e,canLift:M,isMovementAllowed:L,dragHandleUsageInstructionsId:f,registry:y}),[e,x,f,C,M,L,y]);return Zwe({contextId:e,store:k,registry:y,customSensors:r||null,enableDefaultSensors:t.enableDefaultSensors!==!1}),_.useEffect(()=>A,[A]),Zt.createElement(Q1.Provider,{value:D},Zt.createElement(kxe,{context:Xj,store:k},t.children))}function n_e(){return Zt.useId()}function Vf(t){const e=n_e(),n=t.dragHandleUsageInstructions||Zb.dragHandleUsageInstructions;return Zt.createElement(Ixe,null,r=>Zt.createElement(t_e,{nonce:t.nonce,contextId:e,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd,autoScrollerOptions:t.autoScrollerOptions},t.children))}const GI={dragging:5e3,dropAnimating:4500},r_e=(t,e)=>e?Xm.drop(e.duration):t?Xm.snap:Xm.fluid,s_e=(t,e)=>{if(t)return e?Ig.opacity.drop:Ig.opacity.combining},i_e=t=>t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP";function a_e(t){const n=t.dimension.client,{offset:r,combineWith:s,dropping:i}=t,a=!!s,l=i_e(t),c=!!i,u=c?wT.drop(r,a):wT.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:r_e(l,i),transform:u,opacity:s_e(a,c),zIndex:c?GI.dropAnimating:GI.dragging,pointerEvents:"none"}}function o_e(t){return{transform:wT.moveTo(t.offset),transition:t.shouldAnimateDisplacement?void 0:"none"}}function l_e(t){return t.type==="DRAGGING"?a_e(t):o_e(t)}function c_e(t,e,n=Es){const r=window.getComputedStyle(e),s=e.getBoundingClientRect(),i=A$(s,r),a=gv(i,n),l={client:i,tagName:e.tagName.toLowerCase(),display:r.display},c={x:i.marginBox.width,y:i.marginBox.height};return{descriptor:t,placeholder:l,displaceBy:c,client:i,page:a}}function u_e(t){const e=Qj("draggable"),{descriptor:n,registry:r,getDraggableRef:s,canDragInteractiveElements:i,shouldRespectForcePress:a,isEnabled:l}=t,c=On(()=>({canDragInteractiveElements:i,shouldRespectForcePress:a,isEnabled:l}),[i,l,a]),u=rn(g=>{const b=s();return b||Rt(),c_e(n,b,g)},[n,s]),h=On(()=>({uniqueId:e,descriptor:n,options:c,getDimension:u}),[n,u,c,e]),f=_.useRef(h),m=_.useRef(!0);na(()=>(r.draggable.register(f.current),()=>r.draggable.unregister(f.current)),[r.draggable]),na(()=>{if(m.current){m.current=!1;return}const g=f.current;f.current=h,r.draggable.update(h,g)},[h,r.draggable])}var Jj=Zt.createContext(null);function wv(t){const e=_.useContext(t);return e||Rt(),e}function d_e(t){t.preventDefault()}const h_e=t=>{const e=_.useRef(null),n=rn((P=null)=>{e.current=P},[]),r=rn(()=>e.current,[]),{contextId:s,dragHandleUsageInstructionsId:i,registry:a}=wv(Q1),{type:l,droppableId:c}=wv(Jj),u=On(()=>({id:t.draggableId,index:t.index,type:l,droppableId:c}),[t.draggableId,t.index,l,c]),{children:h,draggableId:f,isEnabled:m,shouldRespectForcePress:g,canDragInteractiveElements:b,isClone:y,mapped:x,dropAnimationFinished:w}=t;if(!y){const P=On(()=>({descriptor:u,registry:a,getDraggableRef:r,canDragInteractiveElements:b,shouldRespectForcePress:g,isEnabled:m}),[u,a,r,b,g,m]);u_e(P)}const C=On(()=>m?{tabIndex:0,role:"button","aria-describedby":i,"data-rfd-drag-handle-draggable-id":f,"data-rfd-drag-handle-context-id":s,draggable:!1,onDragStart:d_e}:null,[s,i,f,m]),k=rn(P=>{x.type==="DRAGGING"&&x.dropping&&P.propertyName==="transform"&&Zg.flushSync(w)},[w,x]),A=On(()=>{const P=l_e(x),M=x.type==="DRAGGING"&&x.dropping?k:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":s,"data-rfd-draggable-id":f,style:P,onTransitionEnd:M},dragHandleProps:C}},[s,C,f,x,k,n]),N=On(()=>({draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}}),[u.droppableId,u.id,u.index,u.type]);return Zt.createElement(Zt.Fragment,null,h(A,x.snapshot,N))};var C9=(t,e)=>t===e,T9=t=>{const{combine:e,destination:n}=t;return n?n.droppableId:e?e.droppableId:null};const f_e=t=>t.combine?t.combine.draggableId:null,p_e=t=>t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null;function m_e(){const t=Ts((s,i)=>({x:s,y:i})),e=Ts((s,i,a=null,l=null,c=null)=>({isDragging:!0,isClone:i,isDropAnimating:!!c,dropAnimation:c,mode:s,draggingOver:a,combineWith:l,combineTargetFor:null})),n=Ts((s,i,a,l,c=null,u=null,h=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:u,mode:i,offset:s,dimension:a,forceShouldAnimate:h,snapshot:e(i,l,c,u,null)}}));return(s,i)=>{if(Mg(s)){if(s.critical.draggable.id!==i.draggableId)return null;const a=s.current.client.offset,l=s.dimensions.draggables[i.draggableId],c=ta(s.impact),u=p_e(s.impact),h=s.forceShouldAnimate;return n(t(a.x,a.y),s.movementMode,l,i.isClone,c,u,h)}if(s.phase==="DROP_ANIMATING"){const a=s.completed;if(a.result.draggableId!==i.draggableId)return null;const l=i.isClone,c=s.dimensions.draggables[i.draggableId],u=a.result,h=u.mode,f=T9(u),m=f_e(u),b={duration:s.dropDuration,curve:Vj.drop,moveTo:s.newHomeClientOffset,opacity:m?Ig.opacity.drop:null,scale:m?Ig.scale.drop:null};return{mapped:{type:"DRAGGING",offset:s.newHomeClientOffset,dimension:c,dropping:b,draggingOver:f,combineWith:m,mode:h,forceShouldAnimate:null,snapshot:e(h,l,f,m,b)}}}return null}}function k9(t=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}const g_e={mapped:{type:"SECONDARY",offset:Es,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:k9(null)}};function y_e(){const t=Ts((a,l)=>({x:a,y:l})),e=Ts(k9),n=Ts((a,l=null,c)=>({mapped:{type:"SECONDARY",offset:a,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:e(l)}})),r=a=>a?n(Es,a,!0):null,s=(a,l,c,u)=>{const h=c.displaced.visible[a],f=!!(u.inVirtualList&&u.effected[a]),m=Y1(c),g=m&&m.draggableId===a?l:null;if(!h){if(!f)return r(g);if(c.displaced.invisible[a])return null;const x=gp(u.displacedBy.point),w=t(x.x,x.y);return n(w,g,!0)}if(f)return r(g);const b=c.displacedBy.point,y=t(b.x,b.y);return n(y,g,h.shouldAnimate)};return(a,l)=>{if(Mg(a))return a.critical.draggable.id===l.draggableId?null:s(l.draggableId,a.critical.draggable.id,a.impact,a.afterCritical);if(a.phase==="DROP_ANIMATING"){const c=a.completed;return c.result.draggableId===l.draggableId?null:s(l.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null}}const b_e=()=>{const t=m_e(),e=y_e();return(r,s)=>t(r,s)||e(r,s)||g_e},x_e={dropAnimationFinished:s9},v_e=N$(b_e,x_e,null,{context:Xj,areStatePropsEqual:C9})(h_e);function E9(t){return wv(Jj).isUsingCloneFor===t.draggableId&&!t.isClone?null:Zt.createElement(v_e,t)}function Zl(t){const e=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,n=!!t.disableInteractiveElementBlocking,r=!!t.shouldRespectForcePress;return Zt.createElement(E9,Ot({},t,{isClone:!1,isEnabled:e,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const j9=t=>e=>t===e,w_e=j9("scroll"),__e=j9("auto"),KI=(t,e)=>e(t.overflowX)||e(t.overflowY),S_e=t=>{const e=window.getComputedStyle(t),n={overflowX:e.overflowX,overflowY:e.overflowY};return KI(n,w_e)||KI(n,__e)},C_e=()=>!1,N9=t=>t==null?null:t===document.body?C_e()?t:null:t===document.documentElement?null:S_e(t)?t:N9(t.parentElement);var CT=t=>({x:t.scrollLeft,y:t.scrollTop});const A9=t=>t?window.getComputedStyle(t).position==="fixed"?!0:A9(t.parentElement):!1;var T_e=t=>{const e=N9(t),n=A9(t);return{closestScrollable:e,isFixedOnPage:n}},k_e=({descriptor:t,isEnabled:e,isCombineEnabled:n,isFixedOnPage:r,direction:s,client:i,page:a,closest:l})=>{const c=(()=>{if(!l)return null;const{scrollSize:m,client:g}=l,b=l9({scrollHeight:m.scrollHeight,scrollWidth:m.scrollWidth,height:g.paddingBox.height,width:g.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:g,scrollSize:m,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:b,diff:{value:Es,displacement:Es}}}})(),u=s==="vertical"?Fj:z$,h=Uf({page:a,withPlaceholder:null,axis:u,frame:c});return{descriptor:t,isCombineEnabled:n,isFixedOnPage:r,axis:u,isEnabled:e,client:i,page:a,frame:c,subject:h}};const E_e=(t,e)=>{const n=D$(t);if(!e||t!==e)return n;const r=n.paddingBox.top-e.scrollTop,s=n.paddingBox.left-e.scrollLeft,i=r+e.scrollHeight,a=s+e.scrollWidth,c=Oj({top:r,right:a,bottom:i,left:s},n.border);return Mj({borderBox:c,margin:n.margin,border:n.border,padding:n.padding})};var j_e=({ref:t,descriptor:e,env:n,windowScroll:r,direction:s,isDropDisabled:i,isCombineEnabled:a,shouldClipSubject:l})=>{const c=n.closestScrollable,u=E_e(t,c),h=gv(u,r),f=(()=>{if(!c)return null;const g=D$(c),b={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:g,page:gv(g,r),scroll:CT(c),scrollSize:b,shouldClipSubject:l}})();return k_e({descriptor:e,isEnabled:!i,isCombineEnabled:a,isFixedOnPage:n.isFixedOnPage,direction:s,client:u,page:h,closest:f})};const N_e={passive:!1},A_e={passive:!0};var XI=t=>t.shouldPublishImmediately?N_e:A_e;const Sb=t=>t&&t.env.closestScrollable||null;function D_e(t){const e=_.useRef(null),n=wv(Q1),r=Qj("droppable"),{registry:s,marshal:i}=n,a=y9(t),l=On(()=>({id:t.droppableId,type:t.type,mode:t.mode}),[t.droppableId,t.mode,t.type]),c=_.useRef(l),u=On(()=>Ts((A,N)=>{e.current||Rt();const P={x:A,y:N};i.updateDroppableScroll(l.id,P)}),[l.id,i]),h=rn(()=>{const A=e.current;return!A||!A.env.closestScrollable?Es:CT(A.env.closestScrollable)},[]),f=rn(()=>{const A=h();u(A.x,A.y)},[h,u]),m=On(()=>Ng(f),[f]),g=rn(()=>{const A=e.current,N=Sb(A);if(A&&N||Rt(),A.scrollOptions.shouldPublishImmediately){f();return}m()},[m,f]),b=rn((A,N)=>{e.current&&Rt();const P=a.current,M=P.getDroppableRef();M||Rt();const L=T_e(M),D={ref:M,descriptor:l,env:L,scrollOptions:N};e.current=D;const S=j_e({ref:M,descriptor:l,env:L,windowScroll:A,direction:P.direction,isDropDisabled:P.isDropDisabled,isCombineEnabled:P.isCombineEnabled,shouldClipSubject:!P.ignoreContainerClipping}),z=L.closestScrollable;return z&&(z.setAttribute(WI.contextId,n.contextId),z.addEventListener("scroll",g,XI(D.scrollOptions))),S},[n.contextId,l,g,a]),y=rn(()=>{const A=e.current,N=Sb(A);return A&&N||Rt(),CT(N)},[]),x=rn(()=>{const A=e.current;A||Rt();const N=Sb(A);e.current=null,N&&(m.cancel(),N.removeAttribute(WI.contextId),N.removeEventListener("scroll",g,XI(A.scrollOptions)))},[g,m]),w=rn(A=>{const N=e.current;N||Rt();const P=Sb(N);P||Rt(),P.scrollTop+=A.y,P.scrollLeft+=A.x},[]),C=On(()=>({getDimensionAndWatchScroll:b,getScrollWhileDragging:y,dragStopped:x,scroll:w}),[x,b,y,w]),k=On(()=>({uniqueId:r,descriptor:l,callbacks:C}),[C,l,r]);na(()=>(c.current=k.descriptor,s.droppable.register(k),()=>{e.current&&x(),s.droppable.unregister(k)}),[C,l,x,k,i,s.droppable]),na(()=>{e.current&&i.updateDroppableIsEnabled(c.current.id,!t.isDropDisabled)},[t.isDropDisabled,i]),na(()=>{e.current&&i.updateDroppableIsCombineEnabled(c.current.id,t.isCombineEnabled)},[t.isCombineEnabled,i])}function SS(){}const QI={width:0,height:0,margin:$xe},P_e=({isAnimatingOpenOnMount:t,placeholder:e,animate:n})=>t||n==="close"?QI:{height:e.client.borderBox.height,width:e.client.borderBox.width,margin:e.client.margin},I_e=({isAnimatingOpenOnMount:t,placeholder:e,animate:n})=>{const r=P_e({isAnimatingOpenOnMount:t,placeholder:e,animate:n});return{display:e.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?Xm.placeholder:null}},O_e=t=>{const e=_.useRef(null),n=rn(()=>{e.current&&(clearTimeout(e.current),e.current=null)},[]),{animate:r,onTransitionEnd:s,onClose:i,contextId:a}=t,[l,c]=_.useState(t.animate==="open");_.useEffect(()=>l?r!=="open"?(n(),c(!1),SS):e.current?SS:(e.current=setTimeout(()=>{e.current=null,c(!1)}),n):SS,[r,l,n]);const u=rn(f=>{f.propertyName==="height"&&(s(),r==="close"&&i())},[r,i,s]),h=I_e({isAnimatingOpenOnMount:l,animate:t.animate,placeholder:t.placeholder});return Zt.createElement(t.placeholder.tagName,{style:h,"data-rfd-placeholder-context-id":a,onTransitionEnd:u,ref:t.innerRef})};var M_e=Zt.memo(O_e);class R_e extends Zt.PureComponent{constructor(...e){super(...e),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,n){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!e.on,data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}const L_e=t=>{const e=_.useContext(Q1);e||Rt();const{contextId:n,isMovementAllowed:r}=e,s=_.useRef(null),i=_.useRef(null),{children:a,droppableId:l,type:c,mode:u,direction:h,ignoreContainerClipping:f,isDropDisabled:m,isCombineEnabled:g,snapshot:b,useClone:y,updateViewportMaxScroll:x,getContainerForClone:w}=t,C=rn(()=>s.current,[]),k=rn((z=null)=>{s.current=z},[]);rn(()=>i.current,[]);const A=rn((z=null)=>{i.current=z},[]),N=rn(()=>{r()&&x({maxScroll:u9()})},[r,x]);D_e({droppableId:l,type:c,mode:u,direction:h,isDropDisabled:m,isCombineEnabled:g,ignoreContainerClipping:f,getDroppableRef:C});const P=On(()=>Zt.createElement(R_e,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},({onClose:z,data:O,animate:U})=>Zt.createElement(M_e,{placeholder:O,onClose:z,innerRef:A,animate:U,contextId:n,onTransitionEnd:N})),[n,N,t.placeholder,t.shouldAnimatePlaceholder,A]),M=On(()=>({innerRef:k,placeholder:P,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":n}}),[n,l,P,k]),L=y?y.dragging.draggableId:null,D=On(()=>({droppableId:l,type:c,isUsingCloneFor:L}),[l,L,c]);function S(){if(!y)return null;const{dragging:z,render:O}=y,U=Zt.createElement(E9,{draggableId:z.draggableId,index:z.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(j,V)=>O(j,V,z));return hd.createPortal(U,w())}return Zt.createElement(Jj.Provider,{value:D},a(M,b),S())};function F_e(){return document.body||Rt(),document.body}const ZI={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:F_e},D9=t=>{let e={...t},n;for(n in ZI)t[n]===void 0&&(e={...e,[n]:ZI[n]});return e},CS=(t,e)=>t===e.droppable.type,JI=(t,e)=>e.draggables[t.draggable.id],B_e=()=>{const t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},e={...t,shouldAnimatePlaceholder:!1},n=Ts(i=>({draggableId:i.id,type:i.type,source:{index:i.index,droppableId:i.droppableId}})),r=Ts((i,a,l,c,u,h)=>{const f=u.descriptor.id;if(u.descriptor.droppableId===i){const b=h?{render:h,dragging:n(u.descriptor)}:null,y={isDraggingOver:l,draggingOverWith:l?f:null,draggingFromThisWith:f,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!1,snapshot:y,useClone:b}}if(!a)return e;if(!c)return t;const g={isDraggingOver:l,draggingOverWith:f,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!0,snapshot:g,useClone:null}});return(i,a)=>{const l=D9(a),c=l.droppableId,u=l.type,h=!l.isDropDisabled,f=l.renderClone;if(Mg(i)){const m=i.critical;if(!CS(u,m))return e;const g=JI(m,i.dimensions),b=ta(i.impact)===c;return r(c,h,b,b,g,f)}if(i.phase==="DROP_ANIMATING"){const m=i.completed;if(!CS(u,m.critical))return e;const g=JI(m.critical,i.dimensions);return r(c,h,T9(m.result)===c,ta(m.impact)===c,g,f)}if(i.phase==="IDLE"&&i.completed&&!i.shouldFlush){const m=i.completed;if(!CS(u,m.critical))return e;const g=ta(m.impact)===c,b=!!(m.impact.at&&m.impact.at.type==="COMBINE"),y=m.critical.droppable.id===c;return g?b?t:e:y?t:e}return e}},$_e={updateViewportMaxScroll:Zve},Jl=N$(B_e,$_e,(t,e,n)=>({...D9(n),...t,...e}),{context:Xj,areStatePropsEqual:C9})(L_e);function eO({show:t,quizId:e,onClose:n}){var Ae,be,re,ne,ce,Te,he,se,ye,Pe,Oe,xe,at,lt;const[r,s]=_.useState([]),[i,a]=_.useState(!0),[l,c]=_.useState(!0),[u,h]=_.useState(!1),[f,m]=_.useState(null),[g,b]=_.useState(0),[y,x]=_.useState(null),[w,C]=_.useState([]),[k,A]=_.useState(!1),[N,P]=_.useState(!1),[M,L]=_.useState(!1),[D,S]=_.useState(5),[z,O]=_.useState([]),[U,j]=_.useState([]),[V,K]=_.useState(!1),[te,J]=_.useState(!1),[X,Y]=_.useState(!1),[F,H]=_.useState(!1),[de,ee]=_.useState([]),[fe,ve]=_.useState([]);fr();const Ce="#0055A4",De="#FFFFFF",Ee="#EF4135",Be=async ze=>{A(!0);try{const ct=(await mt().get(`student/quiz/${ze}/`)).data;m(ct),C(ct.questions||[]),b(0),x(null),P(!1),S(5),O([]),j([]),K(!1),H(!1),J(!1),ee([]),ve([])}catch{}finally{A(!1)}},Ve=()=>{Y(!1),n(),b(0),x(null),C([]),m(null),O([]),j([]),S(5),P(!1),K(!1),H(!1),J(!1)};_.useEffect(()=>{t&&e&&Be(e)},[t,e]);const rt=async()=>{var ze;if(((ze=w[g])==null?void 0:ze.type)==="sentence_building"){if(de.length===0)return;const Le=de.map(He=>He.originalIndex),ct=w[g].options.correct_order||Array.from({length:w[g].options.words.length},(He,gt)=>gt),tt=Le.length===ct.length&&Le.every((He,gt)=>He===ct[gt]);L(tt),P(!0);try{await mt().post("student/quiz-answer-check/",{quiz_id:f.id,question_id:w[g].id,selected_answer:Le,question_type:"sentence_building"})}catch{}setTimeout(()=>{tt?(j(He=>[...He,g]),te&&O(He=>He.filter(gt=>gt!==g)),it()):(S(He=>He-1),te||z.includes(g)||O(He=>[...He,g]),D<=1?(S(0),H(!0),setTimeout(()=>{n(),H(!1)},3e3)):G(w[g])),P(!1)},2e3)}else{if(y===null)return;const Le=w[g],ct=(Le==null?void 0:Le.options)||[];try{const tt=await mt().post("student/quiz-answer-check/",{quiz_id:f.id,question_id:Le.id,selected_answer:y}),{is_correct:He}=tt.data;L(He),P(!0),setTimeout(()=>{He?(j(gt=>[...gt,g]),te&&O(gt=>gt.filter(ie=>ie!==g)),it()):(S(gt=>gt-1),te||z.includes(g)||O(gt=>[...gt,g]),D<=1?(S(0),H(!0),setTimeout(()=>{n(),H(!1)},3e3)):x(null)),P(!1)},2e3)}catch{let He=!1;if(Le.type==="true_false"||Le.type==="multiple_choice"){const gt=ct.findIndex(ie=>ie.isCorrect===!0);He=y===gt}else if(Le.type==="checkbox"){const gt=Array.isArray(y)?y:[y],ie=ct.reduce((Ie,We,yt)=>(We.isCorrect&&Ie.push(yt),Ie),[]);He=gt.length===ie.length&&gt.every(Ie=>ie.includes(Ie))}L(He),P(!0),setTimeout(()=>{He?(j(gt=>[...gt,g]),te&&O(gt=>gt.filter(ie=>ie!==g)),it()):(S(gt=>gt-1),te||z.includes(g)||O(gt=>[...gt,g]),D<=1?(S(0),H(!0),setTimeout(()=>{n(),H(!1)},3e3)):x(null)),P(!1)},2e3)}}},it=()=>{if(te)if(z.length<=1)K(!0),J(!1),setTimeout(()=>{n()},3e3);else{const Le=(z.indexOf(g)+1)%z.length;b(z[Le]),x(null)}else g<w.length-1?(b(g+1),x(null)):z.length>0?(J(!0),b(z[0]),x(null)):(K(!0),setTimeout(()=>{n()},3e3))};_.useEffect(()=>{const ze=()=>{const ct=document.body.classList.contains("dark-mode")||localStorage.getItem("appearanceSettings")&&JSON.parse(localStorage.getItem("appearanceSettings")).darkMode;h(ct)};ze();const Le=()=>{ze()};return window.addEventListener("storage",Le),()=>{window.removeEventListener("storage",Le)}},[]);const G=ze=>{var Le;if(ze.type==="sentence_building"&&Array.isArray((Le=ze.options)==null?void 0:Le.words)){const tt=[...ze.options.words.map((He,gt)=>({word:He,originalIndex:gt}))];for(let He=tt.length-1;He>0;He--){const gt=Math.floor(Math.random()*(He+1));[tt[He],tt[gt]]=[tt[gt],tt[He]]}ee([]),ve(tt)}};return _.useEffect(()=>{if(w.length>0&&g<w.length){const ze=w[g];(ze==null?void 0:ze.type)==="sentence_building"&&G(ze),P(!1),x(null)}},[w,g]),o.jsx("div",{children:o.jsx(vt,{show:t,onHide:()=>{N||Y(!0)},centered:!0,size:"lg",backdrop:"static",className:"duolingo-quiz-modal",children:o.jsxs(vt.Body,{className:"p-0",children:[o.jsxs("div",{style:{backgroundColor:u?"#1c2c3a":"rgb(207, 207, 207)",minHeight:"500px",borderRadius:"8px",position:"relative",padding:"0"},children:[o.jsx("div",{style:{height:"6px",backgroundColor:u?"#2e3e4a":De,borderRadius:"8px 8px 0 0",overflow:"hidden"},children:o.jsx("div",{style:{height:"100%",width:`${U.length/w.length*100}%`,backgroundColor:Ee,transition:"width 0.3s ease"}})}),o.jsxs("div",{style:{position:"absolute",top:"20px",right:"20px",display:"flex",alignItems:"center",backgroundColor:"rgba(255,255,255,0.2)",borderRadius:"20px",padding:"5px 10px"},children:[o.jsx("span",{style:{color:"red",marginRight:"5px",fontSize:"16px"},children:"❤️"}),o.jsx("span",{style:{color:u?"white":"black",fontWeight:"bold",fontSize:"16px"},children:D})]}),te&&o.jsx("div",{style:{position:"absolute",top:"20px",left:"20px",backgroundColor:"rgba(255,255,255,0.2)",borderRadius:"20px",padding:"5px 10px",color:"white"},children:"Review Mode"}),F?o.jsxs("div",{style:{padding:"30px 20px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%",minHeight:"400px"},children:[o.jsx("div",{style:{width:"150px",height:"150px",borderRadius:"50%",backgroundColor:Ee,display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"30px"},children:o.jsx($f,{style:{fontSize:"80px",color:"white"}})}),o.jsx("h2",{style:{color:u?"white":"black",marginBottom:"20px",textAlign:"center"},children:"Quiz Failed!"}),o.jsx("p",{style:{color:u?"white":"black",fontSize:"20px",textAlign:"center",marginBottom:"30px"},children:"You ran out of hearts! Try again."}),o.jsxs("p",{style:{color:u?"white":"black",fontSize:"16px",textAlign:"center"},children:["You completed ",U.length," out of"," ",w.length," questions correctly."]})]}):V?o.jsxs("div",{style:{padding:"30px 20px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%",minHeight:"400px"},children:[o.jsx("div",{style:{width:"150px",height:"150px",borderRadius:"50%",backgroundColor:"#4CAF50",display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"30px"},children:o.jsx(hv,{style:{fontSize:"80px",color:"white"}})}),o.jsx("h2",{style:{color:u?"white":"black",marginBottom:"20px",textAlign:"center"},children:"Quiz Completed!"}),o.jsxs("p",{style:{color:u?"white":"black",fontSize:"20px",textAlign:"center"},children:["You got ",U.length," out of"," ",w.length," questions correct!"]})]}):w.length>0&&g<w.length&&o.jsxs("div",{style:{padding:"30px 20px",display:"flex",flexDirection:"column",minHeight:"500px"},children:[o.jsxs("div",{style:{flex:1},children:[o.jsxs("div",{style:{textAlign:"center",marginBottom:"30px"},children:[o.jsxs("h3",{style:{color:u?"white":"black",marginBottom:"10px"},children:["Question ",te?"(Review)":g+1]}),o.jsx("h2",{style:{color:u?"white":"black",fontSize:"24px"},children:((Ae=w[g])==null?void 0:Ae.title)||"Select the correct answer"})]}),o.jsx("div",{style:{textAlign:"center",backgroundColor:De,color:"#333",padding:"10px 15px",borderRadius:"20px",width:"fit-content",margin:"0 auto 30px",boxShadow:"0 2px 5px rgba(0,0,0,0.2)"},children:((be=w[g])==null?void 0:be.description)||"Choose the right answer!"}),N&&o.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:M?"rgba(0,100,0,0.9)":"rgba(200,0,0,0.9)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:10},children:M?o.jsxs(o.Fragment,{children:[o.jsx(hv,{style:{fontSize:"100px",color:"white"}}),o.jsx("h2",{style:{color:"white",marginTop:"20px"},children:"Correct!"})]}):o.jsxs(o.Fragment,{children:[o.jsx($f,{style:{fontSize:"100px",color:"white"}}),o.jsx("h2",{style:{color:"white",marginTop:"20px"},children:"Incorrect!"})]})}),o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px",maxWidth:"600px",margin:"0 auto"},children:Array.isArray((re=w[g])==null?void 0:re.options)?(ne=w[g])==null?void 0:ne.options.map((ze,Le)=>{var ct;return o.jsxs("div",{onClick:()=>{var tt;if(!N)if(((tt=w[g])==null?void 0:tt.type)==="checkbox"){const He=Array.isArray(y)?[...y]:[],gt=He.indexOf(Le);gt===-1?He.push(Le):He.splice(gt,1),x(He)}else x(Le)},style:{padding:"14px",backgroundColor:Array.isArray(y)?y.includes(Le)?De:"rgba(255,255,255,0.9)":y===Le?De:"rgba(255,255,255,0.9)",border:Array.isArray(y)?y.includes(Le)?`2px solid ${Ee}`:"2px solid transparent":y===Le?`2px solid ${Ee}`:"2px solid transparent",borderRadius:"12px",cursor:N?"default":"pointer",display:"flex",alignItems:"center",color:"#333"},children:[o.jsx("div",{style:{width:"30px",height:"30px",borderRadius:"50%",backgroundColor:Ce,color:"white",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"10px",fontWeight:"bold"},children:Le+1}),o.jsx("div",{style:{flex:1},children:ze.text}),((ct=w[g])==null?void 0:ct.type)==="checkbox"&&o.jsx("div",{style:{width:"20px",height:"20px",border:"2px solid #ccc",marginLeft:"10px",backgroundColor:Array.isArray(y)&&y.includes(Le)?Ee:"transparent"}})]},Le)}):Object.entries(((ce=w[g])==null?void 0:ce.options)||{}).map(([ze,Le],ct)=>["words","correct_order","translation"].includes(ze)?null:o.jsxs("div",{onClick:()=>{N||x(ct)},style:{padding:"14px",backgroundColor:y===ct?De:"rgba(255,255,255,0.9)",border:y===ct?`2px solid ${Ee}`:"2px solid transparent",borderRadius:"12px",cursor:N?"default":"pointer",display:"flex",alignItems:"center",color:"#333"},children:[o.jsx("div",{style:{width:"30px",height:"30px",borderRadius:"50%",backgroundColor:Ce,color:"white",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"10px",fontWeight:"bold"},children:ct+1}),o.jsx("div",{style:{flex:1},children:Le.text||Le})]},ct)).filter(Boolean)}),((Te=w[g])==null?void 0:Te.type)==="sentence_building"&&o.jsxs("div",{style:{padding:"20px 0"},children:[((se=(he=w[g])==null?void 0:he.options)==null?void 0:se.translation)&&o.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.2)",padding:"10px 15px",marginBottom:"20px",borderRadius:"10px",color:u?"white":"black",textAlign:"center",fontStyle:"italic"},children:(Pe=(ye=w[g])==null?void 0:ye.options)==null?void 0:Pe.translation}),o.jsxs(Vf,{onDragEnd:ze=>{if(!ze.destination)return;const Le=ze.source,ct=ze.destination;if(Le.droppableId==="word-bank"&&ct.droppableId==="sentence-area"){const tt=fe[Le.index];ve(He=>He.filter((gt,ie)=>ie!==Le.index)),ee(He=>{const gt=[...He];return gt.splice(ct.index,0,tt),gt})}else if(Le.droppableId==="sentence-area"&&ct.droppableId==="word-bank"){const tt=de[Le.index];ee(He=>He.filter((gt,ie)=>ie!==Le.index)),ve(He=>{const gt=[...He];return gt.splice(ct.index,0,tt),gt})}else Le.droppableId==="sentence-area"&&ct.droppableId==="sentence-area"?ee(tt=>{const He=[...tt],[gt]=He.splice(Le.index,1);return He.splice(ct.index,0,gt),He}):Le.droppableId==="word-bank"&&ct.droppableId==="word-bank"&&ve(tt=>{const He=[...tt],[gt]=He.splice(Le.index,1);return He.splice(ct.index,0,gt),He})},children:[o.jsx(Jl,{droppableId:"sentence-area",direction:"horizontal",children:(ze,Le)=>o.jsxs("div",{ref:ze.innerRef,...ze.droppableProps,style:{minHeight:"80px",backgroundColor:u?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.15)",borderRadius:"10px",padding:"15px",marginBottom:"20px",display:"flex",flexWrap:"wrap",alignItems:"center",border:Le.isDraggingOver?"2px dashed white":"2px solid transparent"},children:[de.length===0?o.jsx("div",{style:{color:u?"rgba(255,255,255,0.5)":"black",textAlign:"center",width:"100%"},children:"Drag words here to form a sentence"}):de.map((ct,tt)=>o.jsx(Zl,{draggableId:`selected-${tt}`,index:tt,children:(He,gt)=>o.jsx("div",{ref:He.innerRef,...He.draggableProps,...He.dragHandleProps,style:{...He.draggableProps.style,backgroundColor:De,color:"#333",padding:"8px 15px",margin:"5px",borderRadius:"5px",fontWeight:"500",boxShadow:gt.isDragging?"0 5px 10px rgba(0,0,0,0.3)":"0 2px 4px rgba(0,0,0,0.1)",transform:gt.isDragging?`${He.draggableProps.style.transform} scale(1.05)`:He.draggableProps.style.transform},children:ct.word})},`selected-${tt}`)),ze.placeholder]})}),o.jsx(Jl,{droppableId:"word-bank",direction:"horizontal",children:(ze,Le)=>o.jsxs("div",{ref:ze.innerRef,...ze.droppableProps,style:{backgroundColor:"rgba(0,0,0,0.2)",padding:"15px",borderRadius:"10px",display:"flex",flexWrap:"wrap",gap:"10px",justifyContent:"center",minHeight:"70px",border:Le.isDraggingOver?"2px dashed white":"2px solid transparent"},children:[fe.length===0?o.jsx("div",{style:{color:"rgba(255,255,255,0.5)",textAlign:"center",width:"100%"},children:"All words have been used"}):fe.map((ct,tt)=>o.jsx(Zl,{draggableId:`remaining-${tt}`,index:tt,children:(He,gt)=>o.jsx("div",{ref:He.innerRef,...He.draggableProps,...He.dragHandleProps,style:{...He.draggableProps.style,backgroundColor:Ce,color:"white",padding:"8px 15px",margin:"5px",borderRadius:"5px",fontWeight:"500",boxShadow:gt.isDragging?"0 5px 10px rgba(0,0,0,0.3)":"0 2px 4px rgba(0,0,0,0.2)",transform:gt.isDragging?`${He.draggableProps.style.transform} scale(1.05)`:He.draggableProps.style.transform},children:ct.word})},`remaining-${tt}`)),ze.placeholder]})})]})]})]}),o.jsx("div",{style:{marginTop:"40px",display:"flex",justifyContent:"center",padding:"20px"},children:o.jsx("button",{onClick:rt,disabled:(((Oe=w[g])==null?void 0:Oe.type)==="sentence_building"?de.length===0:y===null)||N,style:{padding:"12px 40px",backgroundColor:(((xe=w[g])==null?void 0:xe.type)==="sentence_building"?de.length>0:y!==null)&&!N?Ee:"#e5e5e5",border:"none",borderRadius:"8px",color:(((at=w[g])==null?void 0:at.type)==="sentence_building"?de.length>0:y!==null)&&!N?"white":"#999",fontWeight:"bold",cursor:(((lt=w[g])==null?void 0:lt.type)==="sentence_building"?de.length>0:y!==null)&&!N?"pointer":"not-allowed"},children:"CHECK"})})]})]}),o.jsx("div",{style:{position:"absolute",top:"15px",left:"15px",zIndex:5},children:o.jsx("button",{onClick:Ve,style:{backgroundColor:"rgba(255,255,255,0.2)",color:u?"white":"black",border:"none",borderRadius:"4px",padding:"4px 10px",cursor:"pointer",fontSize:"14px"},children:"Quit"})})]})})})}const z_e="certificates/",P9=async(t,e=null,n=null)=>{try{const r=mt();let s=`${z_e}get/`;const i=new URLSearchParams;t&&i.append("student_id",t),e&&i.append("course_id",e),n&&i.append("completion_date",n);const a=i.toString();return a&&(s+=`?${a}`),(await r.get(s,{headers:{"Content-Type":"application/json"}})).data}catch(r){throw new Error("Error fetching/generating certificate: "+r.message)}},U_e=P9;function Cb(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var TS={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var tO;function H_e(){return tO||(tO=1,function(t,e){(function(n){t.exports=n()})(function(){return function n(r,s,i){function a(u,h){if(!s[u]){if(!r[u]){var f=typeof Cb=="function"&&Cb;if(!h&&f)return f(u,!0);if(l)return l(u,!0);var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m}var g=s[u]={exports:{}};r[u][0].call(g.exports,function(b){var y=r[u][1][b];return a(y||b)},g,g.exports,n,r,s,i)}return s[u].exports}for(var l=typeof Cb=="function"&&Cb,c=0;c<i.length;c++)a(i[c]);return a}({1:[function(n,r,s){var i=n("./utils"),a=n("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(c){for(var u,h,f,m,g,b,y,x=[],w=0,C=c.length,k=C,A=i.getTypeOf(c)!=="string";w<c.length;)k=C-w,f=A?(u=c[w++],h=w<C?c[w++]:0,w<C?c[w++]:0):(u=c.charCodeAt(w++),h=w<C?c.charCodeAt(w++):0,w<C?c.charCodeAt(w++):0),m=u>>2,g=(3&u)<<4|h>>4,b=1<k?(15&h)<<2|f>>6:64,y=2<k?63&f:64,x.push(l.charAt(m)+l.charAt(g)+l.charAt(b)+l.charAt(y));return x.join("")},s.decode=function(c){var u,h,f,m,g,b,y=0,x=0,w="data:";if(c.substr(0,w.length)===w)throw new Error("Invalid base64 input, it looks like a data url.");var C,k=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===l.charAt(64)&&k--,c.charAt(c.length-2)===l.charAt(64)&&k--,k%1!=0)throw new Error("Invalid base64 input, bad content length.");for(C=a.uint8array?new Uint8Array(0|k):new Array(0|k);y<c.length;)u=l.indexOf(c.charAt(y++))<<2|(m=l.indexOf(c.charAt(y++)))>>4,h=(15&m)<<4|(g=l.indexOf(c.charAt(y++)))>>2,f=(3&g)<<6|(b=l.indexOf(c.charAt(y++))),C[x++]=u,g!==64&&(C[x++]=h),b!==64&&(C[x++]=f);return C}},{"./support":30,"./utils":32}],2:[function(n,r,s){var i=n("./external"),a=n("./stream/DataWorker"),l=n("./stream/Crc32Probe"),c=n("./stream/DataLengthProbe");function u(h,f,m,g,b){this.compressedSize=h,this.uncompressedSize=f,this.crc32=m,this.compression=g,this.compressedContent=b}u.prototype={getContentWorker:function(){var h=new a(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),f=this;return h.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),h},getCompressedWorker:function(){return new a(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(h,f,m){return h.pipe(new l).pipe(new c("uncompressedSize")).pipe(f.compressWorker(m)).pipe(new c("compressedSize")).withStreamInfo("compression",f)},r.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,s){var i=n("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},s.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,s){var i=n("./utils"),a=function(){for(var l,c=[],u=0;u<256;u++){l=u;for(var h=0;h<8;h++)l=1&l?3988292384^l>>>1:l>>>1;c[u]=l}return c}();r.exports=function(l,c){return l!==void 0&&l.length?i.getTypeOf(l)!=="string"?function(u,h,f,m){var g=a,b=m+f;u^=-1;for(var y=m;y<b;y++)u=u>>>8^g[255&(u^h[y])];return-1^u}(0|c,l,l.length,0):function(u,h,f,m){var g=a,b=m+f;u^=-1;for(var y=m;y<b;y++)u=u>>>8^g[255&(u^h.charCodeAt(y))];return-1^u}(0|c,l,l.length,0):0}},{"./utils":32}],5:[function(n,r,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(n,r,s){var i=null;i=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:i}},{lie:37}],7:[function(n,r,s){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=n("pako"),l=n("./utils"),c=n("./stream/GenericWorker"),u=i?"uint8array":"array";function h(f,m){c.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=m,this.meta={}}s.magic="\b\0",l.inherits(h,c),h.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(u,f.data),!1)},h.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(m){f.push({data:m,meta:f.meta})}},s.compressWorker=function(f){return new h("Deflate",f)},s.uncompressWorker=function(){return new h("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,s){function i(g,b){var y,x="";for(y=0;y<b;y++)x+=String.fromCharCode(255&g),g>>>=8;return x}function a(g,b,y,x,w,C){var k,A,N=g.file,P=g.compression,M=C!==u.utf8encode,L=l.transformTo("string",C(N.name)),D=l.transformTo("string",u.utf8encode(N.name)),S=N.comment,z=l.transformTo("string",C(S)),O=l.transformTo("string",u.utf8encode(S)),U=D.length!==N.name.length,j=O.length!==S.length,V="",K="",te="",J=N.dir,X=N.date,Y={crc32:0,compressedSize:0,uncompressedSize:0};b&&!y||(Y.crc32=g.crc32,Y.compressedSize=g.compressedSize,Y.uncompressedSize=g.uncompressedSize);var F=0;b&&(F|=8),M||!U&&!j||(F|=2048);var H=0,de=0;J&&(H|=16),w==="UNIX"?(de=798,H|=function(fe,ve){var Ce=fe;return fe||(Ce=ve?16893:33204),(65535&Ce)<<16}(N.unixPermissions,J)):(de=20,H|=function(fe){return 63&(fe||0)}(N.dosPermissions)),k=X.getUTCHours(),k<<=6,k|=X.getUTCMinutes(),k<<=5,k|=X.getUTCSeconds()/2,A=X.getUTCFullYear()-1980,A<<=4,A|=X.getUTCMonth()+1,A<<=5,A|=X.getUTCDate(),U&&(K=i(1,1)+i(h(L),4)+D,V+="up"+i(K.length,2)+K),j&&(te=i(1,1)+i(h(z),4)+O,V+="uc"+i(te.length,2)+te);var ee="";return ee+=`
\0`,ee+=i(F,2),ee+=P.magic,ee+=i(k,2),ee+=i(A,2),ee+=i(Y.crc32,4),ee+=i(Y.compressedSize,4),ee+=i(Y.uncompressedSize,4),ee+=i(L.length,2),ee+=i(V.length,2),{fileRecord:f.LOCAL_FILE_HEADER+ee+L+V,dirRecord:f.CENTRAL_FILE_HEADER+i(de,2)+ee+i(z.length,2)+"\0\0\0\0"+i(H,4)+i(x,4)+L+V+z}}var l=n("../utils"),c=n("../stream/GenericWorker"),u=n("../utf8"),h=n("../crc32"),f=n("../signature");function m(g,b,y,x){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=y,this.encodeFileName=x,this.streamFiles=g,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(m,c),m.prototype.push=function(g){var b=g.meta.percent||0,y=this.entriesCount,x=this._sources.length;this.accumulate?this.contentBuffer.push(g):(this.bytesWritten+=g.data.length,c.prototype.push.call(this,{data:g.data,meta:{currentFile:this.currentFile,percent:y?(b+100*(y-x-1))/y:100}}))},m.prototype.openedSource=function(g){this.currentSourceOffset=this.bytesWritten,this.currentFile=g.file.name;var b=this.streamFiles&&!g.file.dir;if(b){var y=a(g,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},m.prototype.closedSource=function(g){this.accumulate=!1;var b=this.streamFiles&&!g.file.dir,y=a(g,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),b)this.push({data:function(x){return f.DATA_DESCRIPTOR+i(x.crc32,4)+i(x.compressedSize,4)+i(x.uncompressedSize,4)}(g),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},m.prototype.flush=function(){for(var g=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var y=this.bytesWritten-g,x=function(w,C,k,A,N){var P=l.transformTo("string",N(A));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(w,2)+i(w,2)+i(C,4)+i(k,4)+i(P.length,2)+P}(this.dirRecords.length,y,g,this.zipComment,this.encodeFileName);this.push({data:x,meta:{percent:100}})},m.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},m.prototype.registerPrevious=function(g){this._sources.push(g);var b=this;return g.on("data",function(y){b.processChunk(y)}),g.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),g.on("error",function(y){b.error(y)}),this},m.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},m.prototype.error=function(g){var b=this._sources;if(!c.prototype.error.call(this,g))return!1;for(var y=0;y<b.length;y++)try{b[y].error(g)}catch{}return!0},m.prototype.lock=function(){c.prototype.lock.call(this);for(var g=this._sources,b=0;b<g.length;b++)g[b].lock()},r.exports=m},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,s){var i=n("../compressions"),a=n("./ZipFileWorker");s.generateWorker=function(l,c,u){var h=new a(c.streamFiles,u,c.platform,c.encodeFileName),f=0;try{l.forEach(function(m,g){f++;var b=function(C,k){var A=C||k,N=i[A];if(!N)throw new Error(A+" is not a valid compression method !");return N}(g.options.compression,c.compression),y=g.options.compressionOptions||c.compressionOptions||{},x=g.dir,w=g.date;g._compressWorker(b,y).withStreamInfo("file",{name:m,dir:x,date:w,comment:g.comment||"",unixPermissions:g.unixPermissions,dosPermissions:g.dosPermissions}).pipe(h)}),h.entriesCount=f}catch(m){h.error(m)}return h}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,s){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new i;for(var l in this)typeof this[l]!="function"&&(a[l]=this[l]);return a}}(i.prototype=n("./object")).loadAsync=n("./load"),i.support=n("./support"),i.defaults=n("./defaults"),i.version="3.10.1",i.loadAsync=function(a,l){return new i().loadAsync(a,l)},i.external=n("./external"),r.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,s){var i=n("./utils"),a=n("./external"),l=n("./utf8"),c=n("./zipEntries"),u=n("./stream/Crc32Probe"),h=n("./nodejsUtils");function f(m){return new a.Promise(function(g,b){var y=m.decompressed.getContentWorker().pipe(new u);y.on("error",function(x){b(x)}).on("end",function(){y.streamInfo.crc32!==m.decompressed.crc32?b(new Error("Corrupted zip : CRC32 mismatch")):g()}).resume()})}r.exports=function(m,g){var b=this;return g=i.extend(g||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),h.isNode&&h.isStream(m)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",m,!0,g.optimizedBinaryString,g.base64).then(function(y){var x=new c(g);return x.load(y),x}).then(function(y){var x=[a.Promise.resolve(y)],w=y.files;if(g.checkCRC32)for(var C=0;C<w.length;C++)x.push(f(w[C]));return a.Promise.all(x)}).then(function(y){for(var x=y.shift(),w=x.files,C=0;C<w.length;C++){var k=w[C],A=k.fileNameStr,N=i.resolve(k.fileNameStr);b.file(N,k.decompressed,{binary:!0,optimizedBinaryString:!0,date:k.date,dir:k.dir,comment:k.fileCommentStr.length?k.fileCommentStr:null,unixPermissions:k.unixPermissions,dosPermissions:k.dosPermissions,createFolders:g.createFolders}),k.dir||(b.file(N).unsafeOriginalName=A)}return x.zipComment.length&&(b.comment=x.zipComment),b})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,s){var i=n("../utils"),a=n("../stream/GenericWorker");function l(c,u){a.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(u)}i.inherits(l,a),l.prototype._bindStream=function(c){var u=this;(this._stream=c).pause(),c.on("data",function(h){u.push({data:h,meta:{percent:0}})}).on("error",function(h){u.isPaused?this.generatedError=h:u.error(h)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},l.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,s){var i=n("readable-stream").Readable;function a(l,c,u){i.call(this,c),this._helper=l;var h=this;l.on("data",function(f,m){h.push(f)||h._helper.pause(),u&&u(m)}).on("error",function(f){h.emit("error",f)}).on("end",function(){h.push(null)})}n("../utils").inherits(a,i),a.prototype._read=function(){this._helper.resume()},r.exports=a},{"../utils":32,"readable-stream":16}],14:[function(n,r,s){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,a);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,a)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var a=new Buffer(i);return a.fill(0),a},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(n,r,s){function i(N,P,M){var L,D=l.getTypeOf(P),S=l.extend(M||{},h);S.date=S.date||new Date,S.compression!==null&&(S.compression=S.compression.toUpperCase()),typeof S.unixPermissions=="string"&&(S.unixPermissions=parseInt(S.unixPermissions,8)),S.unixPermissions&&16384&S.unixPermissions&&(S.dir=!0),S.dosPermissions&&16&S.dosPermissions&&(S.dir=!0),S.dir&&(N=w(N)),S.createFolders&&(L=x(N))&&C.call(this,L,!0);var z=D==="string"&&S.binary===!1&&S.base64===!1;M&&M.binary!==void 0||(S.binary=!z),(P instanceof f&&P.uncompressedSize===0||S.dir||!P||P.length===0)&&(S.base64=!1,S.binary=!0,P="",S.compression="STORE",D="string");var O=null;O=P instanceof f||P instanceof c?P:b.isNode&&b.isStream(P)?new y(N,P):l.prepareContent(N,P,S.binary,S.optimizedBinaryString,S.base64);var U=new m(N,O,S);this.files[N]=U}var a=n("./utf8"),l=n("./utils"),c=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),h=n("./defaults"),f=n("./compressedObject"),m=n("./zipObject"),g=n("./generate"),b=n("./nodejsUtils"),y=n("./nodejs/NodejsStreamInputAdapter"),x=function(N){N.slice(-1)==="/"&&(N=N.substring(0,N.length-1));var P=N.lastIndexOf("/");return 0<P?N.substring(0,P):""},w=function(N){return N.slice(-1)!=="/"&&(N+="/"),N},C=function(N,P){return P=P!==void 0?P:h.createFolders,N=w(N),this.files[N]||i.call(this,N,null,{dir:!0,createFolders:P}),this.files[N]};function k(N){return Object.prototype.toString.call(N)==="[object RegExp]"}var A={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(N){var P,M,L;for(P in this.files)L=this.files[P],(M=P.slice(this.root.length,P.length))&&P.slice(0,this.root.length)===this.root&&N(M,L)},filter:function(N){var P=[];return this.forEach(function(M,L){N(M,L)&&P.push(L)}),P},file:function(N,P,M){if(arguments.length!==1)return N=this.root+N,i.call(this,N,P,M),this;if(k(N)){var L=N;return this.filter(function(S,z){return!z.dir&&L.test(S)})}var D=this.files[this.root+N];return D&&!D.dir?D:null},folder:function(N){if(!N)return this;if(k(N))return this.filter(function(D,S){return S.dir&&N.test(D)});var P=this.root+N,M=C.call(this,P),L=this.clone();return L.root=M.name,L},remove:function(N){N=this.root+N;var P=this.files[N];if(P||(N.slice(-1)!=="/"&&(N+="/"),P=this.files[N]),P&&!P.dir)delete this.files[N];else for(var M=this.filter(function(D,S){return S.name.slice(0,N.length)===N}),L=0;L<M.length;L++)delete this.files[M[L].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(N){var P,M={};try{if((M=l.extend(N||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=M.type.toLowerCase(),M.compression=M.compression.toUpperCase(),M.type==="binarystring"&&(M.type="string"),!M.type)throw new Error("No output type specified.");l.checkSupport(M.type),M.platform!=="darwin"&&M.platform!=="freebsd"&&M.platform!=="linux"&&M.platform!=="sunos"||(M.platform="UNIX"),M.platform==="win32"&&(M.platform="DOS");var L=M.comment||this.comment||"";P=g.generateWorker(this,M,L)}catch(D){(P=new c("error")).error(D)}return new u(P,M.type||"string",M.mimeType)},generateAsync:function(N,P){return this.generateInternalStream(N).accumulate(P)},generateNodeStream:function(N,P){return(N=N||{}).type||(N.type="nodebuffer"),this.generateInternalStream(N).toNodejsStream(P)}};r.exports=A},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,s){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,s){var i=n("./DataReader");function a(l){i.call(this,l);for(var c=0;c<this.data.length;c++)l[c]=255&l[c]}n("../utils").inherits(a,i),a.prototype.byteAt=function(l){return this.data[this.zero+l]},a.prototype.lastIndexOfSignature=function(l){for(var c=l.charCodeAt(0),u=l.charCodeAt(1),h=l.charCodeAt(2),f=l.charCodeAt(3),m=this.length-4;0<=m;--m)if(this.data[m]===c&&this.data[m+1]===u&&this.data[m+2]===h&&this.data[m+3]===f)return m-this.zero;return-1},a.prototype.readAndCheckSignature=function(l){var c=l.charCodeAt(0),u=l.charCodeAt(1),h=l.charCodeAt(2),f=l.charCodeAt(3),m=this.readData(4);return c===m[0]&&u===m[1]&&h===m[2]&&f===m[3]},a.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},r.exports=a},{"../utils":32,"./DataReader":18}],18:[function(n,r,s){var i=n("../utils");function a(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var c,u=0;for(this.checkOffset(l),c=this.index+l-1;c>=this.index;c--)u=(u<<8)+this.byteAt(c);return this.index+=l,u},readString:function(l){return i.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},r.exports=a},{"../utils":32}],19:[function(n,r,s){var i=n("./Uint8ArrayReader");function a(l){i.call(this,l)}n("../utils").inherits(a,i),a.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},r.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,s){var i=n("./DataReader");function a(l){i.call(this,l)}n("../utils").inherits(a,i),a.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},a.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},a.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},a.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},r.exports=a},{"../utils":32,"./DataReader":18}],21:[function(n,r,s){var i=n("./ArrayReader");function a(l){i.call(this,l)}n("../utils").inherits(a,i),a.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},r.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,s){var i=n("../utils"),a=n("../support"),l=n("./ArrayReader"),c=n("./StringReader"),u=n("./NodeBufferReader"),h=n("./Uint8ArrayReader");r.exports=function(f){var m=i.getTypeOf(f);return i.checkSupport(m),m!=="string"||a.uint8array?m==="nodebuffer"?new u(f):a.uint8array?new h(i.transformTo("uint8array",f)):new l(i.transformTo("array",f)):new c(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,s){var i=n("./GenericWorker"),a=n("../utils");function l(c){i.call(this,"ConvertWorker to "+c),this.destType=c}a.inherits(l,i),l.prototype.processChunk=function(c){this.push({data:a.transformTo(this.destType,c.data),meta:c.meta})},r.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,s){var i=n("./GenericWorker"),a=n("../crc32");function l(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(l,i),l.prototype.processChunk=function(c){this.streamInfo.crc32=a(c.data,this.streamInfo.crc32||0),this.push(c)},r.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,s){var i=n("../utils"),a=n("./GenericWorker");function l(c){a.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}i.inherits(l,a),l.prototype.processChunk=function(c){if(c){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+c.data.length}a.prototype.processChunk.call(this,c)},r.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,s){var i=n("../utils"),a=n("./GenericWorker");function l(c){a.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(h){u.dataIsReady=!0,u.data=h,u.max=h&&h.length||0,u.type=i.getTypeOf(h),u.isPaused||u._tickAndRepeat()},function(h){u.error(h)})}i.inherits(l,a),l.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,u);break;case"uint8array":c=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":c=this.data.slice(this.index,u)}return this.index=u,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,s){function i(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,l){return this._listeners[a].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,l){if(this._listeners[a])for(var c=0;c<this._listeners[a].length;c++)this._listeners[a][c].call(this,l)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var l=this;return a.on("data",function(c){l.processChunk(c)}),a.on("end",function(){l.end()}),a.on("error",function(c){l.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,l){return this.extraStreamInfo[a]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},r.exports=i},{}],29:[function(n,r,s){var i=n("../utils"),a=n("./ConvertWorker"),l=n("./GenericWorker"),c=n("../base64"),u=n("../support"),h=n("../external"),f=null;if(u.nodestream)try{f=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function m(b,y){return new h.Promise(function(x,w){var C=[],k=b._internalType,A=b._outputType,N=b._mimeType;b.on("data",function(P,M){C.push(P),y&&y(M)}).on("error",function(P){C=[],w(P)}).on("end",function(){try{var P=function(M,L,D){switch(M){case"blob":return i.newBlob(i.transformTo("arraybuffer",L),D);case"base64":return c.encode(L);default:return i.transformTo(M,L)}}(A,function(M,L){var D,S=0,z=null,O=0;for(D=0;D<L.length;D++)O+=L[D].length;switch(M){case"string":return L.join("");case"array":return Array.prototype.concat.apply([],L);case"uint8array":for(z=new Uint8Array(O),D=0;D<L.length;D++)z.set(L[D],S),S+=L[D].length;return z;case"nodebuffer":return Buffer.concat(L);default:throw new Error("concat : unsupported type '"+M+"'")}}(k,C),N);x(P)}catch(M){w(M)}C=[]}).resume()})}function g(b,y,x){var w=y;switch(y){case"blob":case"arraybuffer":w="uint8array";break;case"base64":w="string"}try{this._internalType=w,this._outputType=y,this._mimeType=x,i.checkSupport(w),this._worker=b.pipe(new a(w)),b.lock()}catch(C){this._worker=new l("error"),this._worker.error(C)}}g.prototype={accumulate:function(b){return m(this,b)},on:function(b,y){var x=this;return b==="data"?this._worker.on(b,function(w){y.call(x,w.data,w.meta)}):this._worker.on(b,function(){i.delay(y,arguments,x)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(b){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},b)}},r.exports=g},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var i=new ArrayBuffer(0);try{s.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(i),s.blob=a.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!n("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,s){for(var i=n("./utils"),a=n("./support"),l=n("./nodejsUtils"),c=n("./stream/GenericWorker"),u=new Array(256),h=0;h<256;h++)u[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;u[254]=u[254]=1;function f(){c.call(this,"utf-8 decode"),this.leftOver=null}function m(){c.call(this,"utf-8 encode")}s.utf8encode=function(g){return a.nodebuffer?l.newBufferFrom(g,"utf-8"):function(b){var y,x,w,C,k,A=b.length,N=0;for(C=0;C<A;C++)(64512&(x=b.charCodeAt(C)))==55296&&C+1<A&&(64512&(w=b.charCodeAt(C+1)))==56320&&(x=65536+(x-55296<<10)+(w-56320),C++),N+=x<128?1:x<2048?2:x<65536?3:4;for(y=a.uint8array?new Uint8Array(N):new Array(N),C=k=0;k<N;C++)(64512&(x=b.charCodeAt(C)))==55296&&C+1<A&&(64512&(w=b.charCodeAt(C+1)))==56320&&(x=65536+(x-55296<<10)+(w-56320),C++),x<128?y[k++]=x:(x<2048?y[k++]=192|x>>>6:(x<65536?y[k++]=224|x>>>12:(y[k++]=240|x>>>18,y[k++]=128|x>>>12&63),y[k++]=128|x>>>6&63),y[k++]=128|63&x);return y}(g)},s.utf8decode=function(g){return a.nodebuffer?i.transformTo("nodebuffer",g).toString("utf-8"):function(b){var y,x,w,C,k=b.length,A=new Array(2*k);for(y=x=0;y<k;)if((w=b[y++])<128)A[x++]=w;else if(4<(C=u[w]))A[x++]=65533,y+=C-1;else{for(w&=C===2?31:C===3?15:7;1<C&&y<k;)w=w<<6|63&b[y++],C--;1<C?A[x++]=65533:w<65536?A[x++]=w:(w-=65536,A[x++]=55296|w>>10&1023,A[x++]=56320|1023&w)}return A.length!==x&&(A.subarray?A=A.subarray(0,x):A.length=x),i.applyFromCharCode(A)}(g=i.transformTo(a.uint8array?"uint8array":"array",g))},i.inherits(f,c),f.prototype.processChunk=function(g){var b=i.transformTo(a.uint8array?"uint8array":"array",g.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var y=b;(b=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),b.set(y,this.leftOver.length)}else b=this.leftOver.concat(b);this.leftOver=null}var x=function(C,k){var A;for((k=k||C.length)>C.length&&(k=C.length),A=k-1;0<=A&&(192&C[A])==128;)A--;return A<0||A===0?k:A+u[C[A]]>k?A:k}(b),w=b;x!==b.length&&(a.uint8array?(w=b.subarray(0,x),this.leftOver=b.subarray(x,b.length)):(w=b.slice(0,x),this.leftOver=b.slice(x,b.length))),this.push({data:s.utf8decode(w),meta:g.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=f,i.inherits(m,c),m.prototype.processChunk=function(g){this.push({data:s.utf8encode(g.data),meta:g.meta})},s.Utf8EncodeWorker=m},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,s){var i=n("./support"),a=n("./base64"),l=n("./nodejsUtils"),c=n("./external");function u(y){return y}function h(y,x){for(var w=0;w<y.length;++w)x[w]=255&y.charCodeAt(w);return x}n("setimmediate"),s.newBlob=function(y,x){s.checkSupport("blob");try{return new Blob([y],{type:x})}catch{try{var w=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return w.append(y),w.getBlob(x)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(y,x,w){var C=[],k=0,A=y.length;if(A<=w)return String.fromCharCode.apply(null,y);for(;k<A;)x==="array"||x==="nodebuffer"?C.push(String.fromCharCode.apply(null,y.slice(k,Math.min(k+w,A)))):C.push(String.fromCharCode.apply(null,y.subarray(k,Math.min(k+w,A)))),k+=w;return C.join("")},stringifyByChar:function(y){for(var x="",w=0;w<y.length;w++)x+=String.fromCharCode(y[w]);return x},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}}()}};function m(y){var x=65536,w=s.getTypeOf(y),C=!0;if(w==="uint8array"?C=f.applyCanBeUsed.uint8array:w==="nodebuffer"&&(C=f.applyCanBeUsed.nodebuffer),C)for(;1<x;)try{return f.stringifyByChunk(y,w,x)}catch{x=Math.floor(x/2)}return f.stringifyByChar(y)}function g(y,x){for(var w=0;w<y.length;w++)x[w]=y[w];return x}s.applyFromCharCode=m;var b={};b.string={string:u,array:function(y){return h(y,new Array(y.length))},arraybuffer:function(y){return b.string.uint8array(y).buffer},uint8array:function(y){return h(y,new Uint8Array(y.length))},nodebuffer:function(y){return h(y,l.allocBuffer(y.length))}},b.array={string:m,array:u,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return l.newBufferFrom(y)}},b.arraybuffer={string:function(y){return m(new Uint8Array(y))},array:function(y){return g(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:u,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return l.newBufferFrom(new Uint8Array(y))}},b.uint8array={string:m,array:function(y){return g(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:u,nodebuffer:function(y){return l.newBufferFrom(y)}},b.nodebuffer={string:m,array:function(y){return g(y,new Array(y.length))},arraybuffer:function(y){return b.nodebuffer.uint8array(y).buffer},uint8array:function(y){return g(y,new Uint8Array(y.length))},nodebuffer:u},s.transformTo=function(y,x){if(x=x||"",!y)return x;s.checkSupport(y);var w=s.getTypeOf(x);return b[w][y](x)},s.resolve=function(y){for(var x=y.split("/"),w=[],C=0;C<x.length;C++){var k=x[C];k==="."||k===""&&C!==0&&C!==x.length-1||(k===".."?w.pop():w.push(k))}return w.join("/")},s.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":i.nodebuffer&&l.isBuffer(y)?"nodebuffer":i.uint8array&&y instanceof Uint8Array?"uint8array":i.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(y){if(!i[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(y){var x,w,C="";for(w=0;w<(y||"").length;w++)C+="\\x"+((x=y.charCodeAt(w))<16?"0":"")+x.toString(16).toUpperCase();return C},s.delay=function(y,x,w){setImmediate(function(){y.apply(w||null,x||[])})},s.inherits=function(y,x){function w(){}w.prototype=x.prototype,y.prototype=new w},s.extend=function(){var y,x,w={};for(y=0;y<arguments.length;y++)for(x in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],x)&&w[x]===void 0&&(w[x]=arguments[y][x]);return w},s.prepareContent=function(y,x,w,C,k){return c.Promise.resolve(x).then(function(A){return i.blob&&(A instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(A))!==-1)&&typeof FileReader<"u"?new c.Promise(function(N,P){var M=new FileReader;M.onload=function(L){N(L.target.result)},M.onerror=function(L){P(L.target.error)},M.readAsArrayBuffer(A)}):A}).then(function(A){var N=s.getTypeOf(A);return N?(N==="arraybuffer"?A=s.transformTo("uint8array",A):N==="string"&&(k?A=a.decode(A):w&&C!==!0&&(A=function(P){return h(P,i.uint8array?new Uint8Array(P.length):new Array(P.length))}(A))),A):c.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,s){var i=n("./reader/readerFor"),a=n("./utils"),l=n("./signature"),c=n("./zipEntry"),u=n("./support");function h(f){this.files=[],this.loadOptions=f}h.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var m=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(m)+", expected "+a.pretty(f)+")")}},isSignature:function(f,m){var g=this.reader.index;this.reader.setIndex(f);var b=this.reader.readString(4)===m;return this.reader.setIndex(g),b},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),m=u.uint8array?"uint8array":"array",g=a.transformTo(m,f);this.zipComment=this.loadOptions.decodeFileName(g)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,m,g,b=this.zip64EndOfCentralSize-44;0<b;)f=this.reader.readInt(2),m=this.reader.readInt(4),g=this.reader.readData(m),this.zip64ExtensibleData[f]={id:f,length:m,value:g}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,m;for(f=0;f<this.files.length;f++)m=this.files[f],this.reader.setIndex(m.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),m.readLocalPart(this.reader),m.handleUTF8(),m.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(f=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var m=f;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var g=this.centralDirOffset+this.centralDirSize;this.zip64&&(g+=20,g+=12+this.zip64EndOfCentralSize);var b=m-g;if(0<b)this.isSignature(m,l.CENTRAL_FILE_HEADER)||(this.reader.zero=b);else if(b<0)throw new Error("Corrupted zip: missing "+Math.abs(b)+" bytes.")},prepareReader:function(f){this.reader=i(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=h},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,s){var i=n("./reader/readerFor"),a=n("./utils"),l=n("./compressedObject"),c=n("./crc32"),u=n("./utf8"),h=n("./compressions"),f=n("./support");function m(g,b){this.options=g,this.loadOptions=b}m.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(g){var b,y;if(g.skip(22),this.fileNameLength=g.readInt(2),y=g.readInt(2),this.fileName=g.readData(this.fileNameLength),g.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((b=function(x){for(var w in h)if(Object.prototype.hasOwnProperty.call(h,w)&&h[w].magic===x)return h[w];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,b,g.readData(this.compressedSize))},readCentralPart:function(g){this.versionMadeBy=g.readInt(2),g.skip(2),this.bitFlag=g.readInt(2),this.compressionMethod=g.readString(2),this.date=g.readDate(),this.crc32=g.readInt(4),this.compressedSize=g.readInt(4),this.uncompressedSize=g.readInt(4);var b=g.readInt(2);if(this.extraFieldsLength=g.readInt(2),this.fileCommentLength=g.readInt(2),this.diskNumberStart=g.readInt(2),this.internalFileAttributes=g.readInt(2),this.externalFileAttributes=g.readInt(4),this.localHeaderOffset=g.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");g.skip(b),this.readExtraFields(g),this.parseZIP64ExtraField(g),this.fileComment=g.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var g=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),g==0&&(this.dosPermissions=63&this.externalFileAttributes),g==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var g=i(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=g.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=g.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=g.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=g.readInt(4))}},readExtraFields:function(g){var b,y,x,w=g.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});g.index+4<w;)b=g.readInt(2),y=g.readInt(2),x=g.readData(y),this.extraFields[b]={id:b,length:y,value:x};g.setIndex(w)},handleUTF8:function(){var g=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var b=this.findExtraFieldUnicodePath();if(b!==null)this.fileNameStr=b;else{var y=a.transformTo(g,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var x=this.findExtraFieldUnicodeComment();if(x!==null)this.fileCommentStr=x;else{var w=a.transformTo(g,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(w)}}},findExtraFieldUnicodePath:function(){var g=this.extraFields[28789];if(g){var b=i(g.value);return b.readInt(1)!==1||c(this.fileName)!==b.readInt(4)?null:u.utf8decode(b.readData(g.length-5))}return null},findExtraFieldUnicodeComment:function(){var g=this.extraFields[25461];if(g){var b=i(g.value);return b.readInt(1)!==1||c(this.fileComment)!==b.readInt(4)?null:u.utf8decode(b.readData(g.length-5))}return null}},r.exports=m},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,s){function i(b,y,x){this.name=b,this.dir=x.dir,this.date=x.date,this.comment=x.comment,this.unixPermissions=x.unixPermissions,this.dosPermissions=x.dosPermissions,this._data=y,this._dataBinary=x.binary,this.options={compression:x.compression,compressionOptions:x.compressionOptions}}var a=n("./stream/StreamHelper"),l=n("./stream/DataWorker"),c=n("./utf8"),u=n("./compressedObject"),h=n("./stream/GenericWorker");i.prototype={internalStream:function(b){var y=null,x="string";try{if(!b)throw new Error("No output type specified.");var w=(x=b.toLowerCase())==="string"||x==="text";x!=="binarystring"&&x!=="text"||(x="string"),y=this._decompressWorker();var C=!this._dataBinary;C&&!w&&(y=y.pipe(new c.Utf8EncodeWorker)),!C&&w&&(y=y.pipe(new c.Utf8DecodeWorker))}catch(k){(y=new h("error")).error(k)}return new a(y,x,"")},async:function(b,y){return this.internalStream(b).accumulate(y)},nodeStream:function(b,y){return this.internalStream(b||"nodebuffer").toNodejsStream(y)},_compressWorker:function(b,y){if(this._data instanceof u&&this._data.compression.magic===b.magic)return this._data.getCompressedWorker();var x=this._decompressWorker();return this._dataBinary||(x=x.pipe(new c.Utf8EncodeWorker)),u.createWorkerFrom(x,b,y)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof h?this._data:new l(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],m=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},g=0;g<f.length;g++)i.prototype[f[g]]=m;r.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,s){(function(i){var a,l,c=i.MutationObserver||i.WebKitMutationObserver;if(c){var u=0,h=new c(b),f=i.document.createTextNode("");h.observe(f,{characterData:!0}),a=function(){f.data=u=++u%2}}else if(i.setImmediate||i.MessageChannel===void 0)a="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var y=i.document.createElement("script");y.onreadystatechange=function(){b(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},i.document.documentElement.appendChild(y)}:function(){setTimeout(b,0)};else{var m=new i.MessageChannel;m.port1.onmessage=b,a=function(){m.port2.postMessage(0)}}var g=[];function b(){var y,x;l=!0;for(var w=g.length;w;){for(x=g,g=[],y=-1;++y<w;)x[y]();w=g.length}l=!1}r.exports=function(y){g.push(y)!==1||l||a()}}).call(this,typeof ao<"u"?ao:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,s){var i=n("immediate");function a(){}var l={},c=["REJECTED"],u=["FULFILLED"],h=["PENDING"];function f(w){if(typeof w!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,w!==a&&y(this,w)}function m(w,C,k){this.promise=w,typeof C=="function"&&(this.onFulfilled=C,this.callFulfilled=this.otherCallFulfilled),typeof k=="function"&&(this.onRejected=k,this.callRejected=this.otherCallRejected)}function g(w,C,k){i(function(){var A;try{A=C(k)}catch(N){return l.reject(w,N)}A===w?l.reject(w,new TypeError("Cannot resolve promise with itself")):l.resolve(w,A)})}function b(w){var C=w&&w.then;if(w&&(typeof w=="object"||typeof w=="function")&&typeof C=="function")return function(){C.apply(w,arguments)}}function y(w,C){var k=!1;function A(M){k||(k=!0,l.reject(w,M))}function N(M){k||(k=!0,l.resolve(w,M))}var P=x(function(){C(N,A)});P.status==="error"&&A(P.value)}function x(w,C){var k={};try{k.value=w(C),k.status="success"}catch(A){k.status="error",k.value=A}return k}(r.exports=f).prototype.finally=function(w){if(typeof w!="function")return this;var C=this.constructor;return this.then(function(k){return C.resolve(w()).then(function(){return k})},function(k){return C.resolve(w()).then(function(){throw k})})},f.prototype.catch=function(w){return this.then(null,w)},f.prototype.then=function(w,C){if(typeof w!="function"&&this.state===u||typeof C!="function"&&this.state===c)return this;var k=new this.constructor(a);return this.state!==h?g(k,this.state===u?w:C,this.outcome):this.queue.push(new m(k,w,C)),k},m.prototype.callFulfilled=function(w){l.resolve(this.promise,w)},m.prototype.otherCallFulfilled=function(w){g(this.promise,this.onFulfilled,w)},m.prototype.callRejected=function(w){l.reject(this.promise,w)},m.prototype.otherCallRejected=function(w){g(this.promise,this.onRejected,w)},l.resolve=function(w,C){var k=x(b,C);if(k.status==="error")return l.reject(w,k.value);var A=k.value;if(A)y(w,A);else{w.state=u,w.outcome=C;for(var N=-1,P=w.queue.length;++N<P;)w.queue[N].callFulfilled(C)}return w},l.reject=function(w,C){w.state=c,w.outcome=C;for(var k=-1,A=w.queue.length;++k<A;)w.queue[k].callRejected(C);return w},f.resolve=function(w){return w instanceof this?w:l.resolve(new this(a),w)},f.reject=function(w){var C=new this(a);return l.reject(C,w)},f.all=function(w){var C=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=w.length,A=!1;if(!k)return this.resolve([]);for(var N=new Array(k),P=0,M=-1,L=new this(a);++M<k;)D(w[M],M);return L;function D(S,z){C.resolve(S).then(function(O){N[z]=O,++P!==k||A||(A=!0,l.resolve(L,N))},function(O){A||(A=!0,l.reject(L,O))})}},f.race=function(w){var C=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=w.length,A=!1;if(!k)return this.resolve([]);for(var N=-1,P=new this(a);++N<k;)M=w[N],C.resolve(M).then(function(L){A||(A=!0,l.resolve(P,L))},function(L){A||(A=!0,l.reject(P,L))});var M;return P}},{immediate:36}],38:[function(n,r,s){var i={};(0,n("./lib/utils/common").assign)(i,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,s){var i=n("./zlib/deflate"),a=n("./utils/common"),l=n("./utils/strings"),c=n("./zlib/messages"),u=n("./zlib/zstream"),h=Object.prototype.toString,f=0,m=-1,g=0,b=8;function y(w){if(!(this instanceof y))return new y(w);this.options=a.assign({level:m,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:g,to:""},w||{});var C=this.options;C.raw&&0<C.windowBits?C.windowBits=-C.windowBits:C.gzip&&0<C.windowBits&&C.windowBits<16&&(C.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var k=i.deflateInit2(this.strm,C.level,C.method,C.windowBits,C.memLevel,C.strategy);if(k!==f)throw new Error(c[k]);if(C.header&&i.deflateSetHeader(this.strm,C.header),C.dictionary){var A;if(A=typeof C.dictionary=="string"?l.string2buf(C.dictionary):h.call(C.dictionary)==="[object ArrayBuffer]"?new Uint8Array(C.dictionary):C.dictionary,(k=i.deflateSetDictionary(this.strm,A))!==f)throw new Error(c[k]);this._dict_set=!0}}function x(w,C){var k=new y(C);if(k.push(w,!0),k.err)throw k.msg||c[k.err];return k.result}y.prototype.push=function(w,C){var k,A,N=this.strm,P=this.options.chunkSize;if(this.ended)return!1;A=C===~~C?C:C===!0?4:0,typeof w=="string"?N.input=l.string2buf(w):h.call(w)==="[object ArrayBuffer]"?N.input=new Uint8Array(w):N.input=w,N.next_in=0,N.avail_in=N.input.length;do{if(N.avail_out===0&&(N.output=new a.Buf8(P),N.next_out=0,N.avail_out=P),(k=i.deflate(N,A))!==1&&k!==f)return this.onEnd(k),!(this.ended=!0);N.avail_out!==0&&(N.avail_in!==0||A!==4&&A!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(a.shrinkBuf(N.output,N.next_out))):this.onData(a.shrinkBuf(N.output,N.next_out)))}while((0<N.avail_in||N.avail_out===0)&&k!==1);return A===4?(k=i.deflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===f):A!==2||(this.onEnd(f),!(N.avail_out=0))},y.prototype.onData=function(w){this.chunks.push(w)},y.prototype.onEnd=function(w){w===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},s.Deflate=y,s.deflate=x,s.deflateRaw=function(w,C){return(C=C||{}).raw=!0,x(w,C)},s.gzip=function(w,C){return(C=C||{}).gzip=!0,x(w,C)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,s){var i=n("./zlib/inflate"),a=n("./utils/common"),l=n("./utils/strings"),c=n("./zlib/constants"),u=n("./zlib/messages"),h=n("./zlib/zstream"),f=n("./zlib/gzheader"),m=Object.prototype.toString;function g(y){if(!(this instanceof g))return new g(y);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},y||{});var x=this.options;x.raw&&0<=x.windowBits&&x.windowBits<16&&(x.windowBits=-x.windowBits,x.windowBits===0&&(x.windowBits=-15)),!(0<=x.windowBits&&x.windowBits<16)||y&&y.windowBits||(x.windowBits+=32),15<x.windowBits&&x.windowBits<48&&!(15&x.windowBits)&&(x.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var w=i.inflateInit2(this.strm,x.windowBits);if(w!==c.Z_OK)throw new Error(u[w]);this.header=new f,i.inflateGetHeader(this.strm,this.header)}function b(y,x){var w=new g(x);if(w.push(y,!0),w.err)throw w.msg||u[w.err];return w.result}g.prototype.push=function(y,x){var w,C,k,A,N,P,M=this.strm,L=this.options.chunkSize,D=this.options.dictionary,S=!1;if(this.ended)return!1;C=x===~~x?x:x===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof y=="string"?M.input=l.binstring2buf(y):m.call(y)==="[object ArrayBuffer]"?M.input=new Uint8Array(y):M.input=y,M.next_in=0,M.avail_in=M.input.length;do{if(M.avail_out===0&&(M.output=new a.Buf8(L),M.next_out=0,M.avail_out=L),(w=i.inflate(M,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&D&&(P=typeof D=="string"?l.string2buf(D):m.call(D)==="[object ArrayBuffer]"?new Uint8Array(D):D,w=i.inflateSetDictionary(this.strm,P)),w===c.Z_BUF_ERROR&&S===!0&&(w=c.Z_OK,S=!1),w!==c.Z_STREAM_END&&w!==c.Z_OK)return this.onEnd(w),!(this.ended=!0);M.next_out&&(M.avail_out!==0&&w!==c.Z_STREAM_END&&(M.avail_in!==0||C!==c.Z_FINISH&&C!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(k=l.utf8border(M.output,M.next_out),A=M.next_out-k,N=l.buf2string(M.output,k),M.next_out=A,M.avail_out=L-A,A&&a.arraySet(M.output,M.output,k,A,0),this.onData(N)):this.onData(a.shrinkBuf(M.output,M.next_out)))),M.avail_in===0&&M.avail_out===0&&(S=!0)}while((0<M.avail_in||M.avail_out===0)&&w!==c.Z_STREAM_END);return w===c.Z_STREAM_END&&(C=c.Z_FINISH),C===c.Z_FINISH?(w=i.inflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===c.Z_OK):C!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(M.avail_out=0))},g.prototype.onData=function(y){this.chunks.push(y)},g.prototype.onEnd=function(y){y===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},s.Inflate=g,s.inflate=b,s.inflateRaw=function(y,x){return(x=x||{}).raw=!0,b(y,x)},s.ungzip=b},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,s){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(c){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var h=u.shift();if(h){if(typeof h!="object")throw new TypeError(h+"must be non-object");for(var f in h)h.hasOwnProperty(f)&&(c[f]=h[f])}}return c},s.shrinkBuf=function(c,u){return c.length===u?c:c.subarray?c.subarray(0,u):(c.length=u,c)};var a={arraySet:function(c,u,h,f,m){if(u.subarray&&c.subarray)c.set(u.subarray(h,h+f),m);else for(var g=0;g<f;g++)c[m+g]=u[h+g]},flattenChunks:function(c){var u,h,f,m,g,b;for(u=f=0,h=c.length;u<h;u++)f+=c[u].length;for(b=new Uint8Array(f),u=m=0,h=c.length;u<h;u++)g=c[u],b.set(g,m),m+=g.length;return b}},l={arraySet:function(c,u,h,f,m){for(var g=0;g<f;g++)c[m+g]=u[h+g]},flattenChunks:function(c){return[].concat.apply([],c)}};s.setTyped=function(c){c?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,a)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,l))},s.setTyped(i)},{}],42:[function(n,r,s){var i=n("./common"),a=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var c=new i.Buf8(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function h(f,m){if(m<65537&&(f.subarray&&l||!f.subarray&&a))return String.fromCharCode.apply(null,i.shrinkBuf(f,m));for(var g="",b=0;b<m;b++)g+=String.fromCharCode(f[b]);return g}c[254]=c[254]=1,s.string2buf=function(f){var m,g,b,y,x,w=f.length,C=0;for(y=0;y<w;y++)(64512&(g=f.charCodeAt(y)))==55296&&y+1<w&&(64512&(b=f.charCodeAt(y+1)))==56320&&(g=65536+(g-55296<<10)+(b-56320),y++),C+=g<128?1:g<2048?2:g<65536?3:4;for(m=new i.Buf8(C),y=x=0;x<C;y++)(64512&(g=f.charCodeAt(y)))==55296&&y+1<w&&(64512&(b=f.charCodeAt(y+1)))==56320&&(g=65536+(g-55296<<10)+(b-56320),y++),g<128?m[x++]=g:(g<2048?m[x++]=192|g>>>6:(g<65536?m[x++]=224|g>>>12:(m[x++]=240|g>>>18,m[x++]=128|g>>>12&63),m[x++]=128|g>>>6&63),m[x++]=128|63&g);return m},s.buf2binstring=function(f){return h(f,f.length)},s.binstring2buf=function(f){for(var m=new i.Buf8(f.length),g=0,b=m.length;g<b;g++)m[g]=f.charCodeAt(g);return m},s.buf2string=function(f,m){var g,b,y,x,w=m||f.length,C=new Array(2*w);for(g=b=0;g<w;)if((y=f[g++])<128)C[b++]=y;else if(4<(x=c[y]))C[b++]=65533,g+=x-1;else{for(y&=x===2?31:x===3?15:7;1<x&&g<w;)y=y<<6|63&f[g++],x--;1<x?C[b++]=65533:y<65536?C[b++]=y:(y-=65536,C[b++]=55296|y>>10&1023,C[b++]=56320|1023&y)}return h(C,b)},s.utf8border=function(f,m){var g;for((m=m||f.length)>f.length&&(m=f.length),g=m-1;0<=g&&(192&f[g])==128;)g--;return g<0||g===0?m:g+c[f[g]]>m?g:m}},{"./common":41}],43:[function(n,r,s){r.exports=function(i,a,l,c){for(var u=65535&i|0,h=i>>>16&65535|0,f=0;l!==0;){for(l-=f=2e3<l?2e3:l;h=h+(u=u+a[c++]|0)|0,--f;);u%=65521,h%=65521}return u|h<<16|0}},{}],44:[function(n,r,s){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,s){var i=function(){for(var a,l=[],c=0;c<256;c++){a=c;for(var u=0;u<8;u++)a=1&a?3988292384^a>>>1:a>>>1;l[c]=a}return l}();r.exports=function(a,l,c,u){var h=i,f=u+c;a^=-1;for(var m=u;m<f;m++)a=a>>>8^h[255&(a^l[m])];return-1^a}},{}],46:[function(n,r,s){var i,a=n("../utils/common"),l=n("./trees"),c=n("./adler32"),u=n("./crc32"),h=n("./messages"),f=0,m=4,g=0,b=-2,y=-1,x=4,w=2,C=8,k=9,A=286,N=30,P=19,M=2*A+1,L=15,D=3,S=258,z=S+D+1,O=42,U=113,j=1,V=2,K=3,te=4;function J(G,Ae){return G.msg=h[Ae],Ae}function X(G){return(G<<1)-(4<G?9:0)}function Y(G){for(var Ae=G.length;0<=--Ae;)G[Ae]=0}function F(G){var Ae=G.state,be=Ae.pending;be>G.avail_out&&(be=G.avail_out),be!==0&&(a.arraySet(G.output,Ae.pending_buf,Ae.pending_out,be,G.next_out),G.next_out+=be,Ae.pending_out+=be,G.total_out+=be,G.avail_out-=be,Ae.pending-=be,Ae.pending===0&&(Ae.pending_out=0))}function H(G,Ae){l._tr_flush_block(G,0<=G.block_start?G.block_start:-1,G.strstart-G.block_start,Ae),G.block_start=G.strstart,F(G.strm)}function de(G,Ae){G.pending_buf[G.pending++]=Ae}function ee(G,Ae){G.pending_buf[G.pending++]=Ae>>>8&255,G.pending_buf[G.pending++]=255&Ae}function fe(G,Ae){var be,re,ne=G.max_chain_length,ce=G.strstart,Te=G.prev_length,he=G.nice_match,se=G.strstart>G.w_size-z?G.strstart-(G.w_size-z):0,ye=G.window,Pe=G.w_mask,Oe=G.prev,xe=G.strstart+S,at=ye[ce+Te-1],lt=ye[ce+Te];G.prev_length>=G.good_match&&(ne>>=2),he>G.lookahead&&(he=G.lookahead);do if(ye[(be=Ae)+Te]===lt&&ye[be+Te-1]===at&&ye[be]===ye[ce]&&ye[++be]===ye[ce+1]){ce+=2,be++;do;while(ye[++ce]===ye[++be]&&ye[++ce]===ye[++be]&&ye[++ce]===ye[++be]&&ye[++ce]===ye[++be]&&ye[++ce]===ye[++be]&&ye[++ce]===ye[++be]&&ye[++ce]===ye[++be]&&ye[++ce]===ye[++be]&&ce<xe);if(re=S-(xe-ce),ce=xe-S,Te<re){if(G.match_start=Ae,he<=(Te=re))break;at=ye[ce+Te-1],lt=ye[ce+Te]}}while((Ae=Oe[Ae&Pe])>se&&--ne!=0);return Te<=G.lookahead?Te:G.lookahead}function ve(G){var Ae,be,re,ne,ce,Te,he,se,ye,Pe,Oe=G.w_size;do{if(ne=G.window_size-G.lookahead-G.strstart,G.strstart>=Oe+(Oe-z)){for(a.arraySet(G.window,G.window,Oe,Oe,0),G.match_start-=Oe,G.strstart-=Oe,G.block_start-=Oe,Ae=be=G.hash_size;re=G.head[--Ae],G.head[Ae]=Oe<=re?re-Oe:0,--be;);for(Ae=be=Oe;re=G.prev[--Ae],G.prev[Ae]=Oe<=re?re-Oe:0,--be;);ne+=Oe}if(G.strm.avail_in===0)break;if(Te=G.strm,he=G.window,se=G.strstart+G.lookahead,ye=ne,Pe=void 0,Pe=Te.avail_in,ye<Pe&&(Pe=ye),be=Pe===0?0:(Te.avail_in-=Pe,a.arraySet(he,Te.input,Te.next_in,Pe,se),Te.state.wrap===1?Te.adler=c(Te.adler,he,Pe,se):Te.state.wrap===2&&(Te.adler=u(Te.adler,he,Pe,se)),Te.next_in+=Pe,Te.total_in+=Pe,Pe),G.lookahead+=be,G.lookahead+G.insert>=D)for(ce=G.strstart-G.insert,G.ins_h=G.window[ce],G.ins_h=(G.ins_h<<G.hash_shift^G.window[ce+1])&G.hash_mask;G.insert&&(G.ins_h=(G.ins_h<<G.hash_shift^G.window[ce+D-1])&G.hash_mask,G.prev[ce&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=ce,ce++,G.insert--,!(G.lookahead+G.insert<D)););}while(G.lookahead<z&&G.strm.avail_in!==0)}function Ce(G,Ae){for(var be,re;;){if(G.lookahead<z){if(ve(G),G.lookahead<z&&Ae===f)return j;if(G.lookahead===0)break}if(be=0,G.lookahead>=D&&(G.ins_h=(G.ins_h<<G.hash_shift^G.window[G.strstart+D-1])&G.hash_mask,be=G.prev[G.strstart&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=G.strstart),be!==0&&G.strstart-be<=G.w_size-z&&(G.match_length=fe(G,be)),G.match_length>=D)if(re=l._tr_tally(G,G.strstart-G.match_start,G.match_length-D),G.lookahead-=G.match_length,G.match_length<=G.max_lazy_match&&G.lookahead>=D){for(G.match_length--;G.strstart++,G.ins_h=(G.ins_h<<G.hash_shift^G.window[G.strstart+D-1])&G.hash_mask,be=G.prev[G.strstart&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=G.strstart,--G.match_length!=0;);G.strstart++}else G.strstart+=G.match_length,G.match_length=0,G.ins_h=G.window[G.strstart],G.ins_h=(G.ins_h<<G.hash_shift^G.window[G.strstart+1])&G.hash_mask;else re=l._tr_tally(G,0,G.window[G.strstart]),G.lookahead--,G.strstart++;if(re&&(H(G,!1),G.strm.avail_out===0))return j}return G.insert=G.strstart<D-1?G.strstart:D-1,Ae===m?(H(G,!0),G.strm.avail_out===0?K:te):G.last_lit&&(H(G,!1),G.strm.avail_out===0)?j:V}function De(G,Ae){for(var be,re,ne;;){if(G.lookahead<z){if(ve(G),G.lookahead<z&&Ae===f)return j;if(G.lookahead===0)break}if(be=0,G.lookahead>=D&&(G.ins_h=(G.ins_h<<G.hash_shift^G.window[G.strstart+D-1])&G.hash_mask,be=G.prev[G.strstart&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=G.strstart),G.prev_length=G.match_length,G.prev_match=G.match_start,G.match_length=D-1,be!==0&&G.prev_length<G.max_lazy_match&&G.strstart-be<=G.w_size-z&&(G.match_length=fe(G,be),G.match_length<=5&&(G.strategy===1||G.match_length===D&&4096<G.strstart-G.match_start)&&(G.match_length=D-1)),G.prev_length>=D&&G.match_length<=G.prev_length){for(ne=G.strstart+G.lookahead-D,re=l._tr_tally(G,G.strstart-1-G.prev_match,G.prev_length-D),G.lookahead-=G.prev_length-1,G.prev_length-=2;++G.strstart<=ne&&(G.ins_h=(G.ins_h<<G.hash_shift^G.window[G.strstart+D-1])&G.hash_mask,be=G.prev[G.strstart&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=G.strstart),--G.prev_length!=0;);if(G.match_available=0,G.match_length=D-1,G.strstart++,re&&(H(G,!1),G.strm.avail_out===0))return j}else if(G.match_available){if((re=l._tr_tally(G,0,G.window[G.strstart-1]))&&H(G,!1),G.strstart++,G.lookahead--,G.strm.avail_out===0)return j}else G.match_available=1,G.strstart++,G.lookahead--}return G.match_available&&(re=l._tr_tally(G,0,G.window[G.strstart-1]),G.match_available=0),G.insert=G.strstart<D-1?G.strstart:D-1,Ae===m?(H(G,!0),G.strm.avail_out===0?K:te):G.last_lit&&(H(G,!1),G.strm.avail_out===0)?j:V}function Ee(G,Ae,be,re,ne){this.good_length=G,this.max_lazy=Ae,this.nice_length=be,this.max_chain=re,this.func=ne}function Be(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=C,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*M),this.dyn_dtree=new a.Buf16(2*(2*N+1)),this.bl_tree=new a.Buf16(2*(2*P+1)),Y(this.dyn_ltree),Y(this.dyn_dtree),Y(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(L+1),this.heap=new a.Buf16(2*A+1),Y(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*A+1),Y(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ve(G){var Ae;return G&&G.state?(G.total_in=G.total_out=0,G.data_type=w,(Ae=G.state).pending=0,Ae.pending_out=0,Ae.wrap<0&&(Ae.wrap=-Ae.wrap),Ae.status=Ae.wrap?O:U,G.adler=Ae.wrap===2?0:1,Ae.last_flush=f,l._tr_init(Ae),g):J(G,b)}function rt(G){var Ae=Ve(G);return Ae===g&&function(be){be.window_size=2*be.w_size,Y(be.head),be.max_lazy_match=i[be.level].max_lazy,be.good_match=i[be.level].good_length,be.nice_match=i[be.level].nice_length,be.max_chain_length=i[be.level].max_chain,be.strstart=0,be.block_start=0,be.lookahead=0,be.insert=0,be.match_length=be.prev_length=D-1,be.match_available=0,be.ins_h=0}(G.state),Ae}function it(G,Ae,be,re,ne,ce){if(!G)return b;var Te=1;if(Ae===y&&(Ae=6),re<0?(Te=0,re=-re):15<re&&(Te=2,re-=16),ne<1||k<ne||be!==C||re<8||15<re||Ae<0||9<Ae||ce<0||x<ce)return J(G,b);re===8&&(re=9);var he=new Be;return(G.state=he).strm=G,he.wrap=Te,he.gzhead=null,he.w_bits=re,he.w_size=1<<he.w_bits,he.w_mask=he.w_size-1,he.hash_bits=ne+7,he.hash_size=1<<he.hash_bits,he.hash_mask=he.hash_size-1,he.hash_shift=~~((he.hash_bits+D-1)/D),he.window=new a.Buf8(2*he.w_size),he.head=new a.Buf16(he.hash_size),he.prev=new a.Buf16(he.w_size),he.lit_bufsize=1<<ne+6,he.pending_buf_size=4*he.lit_bufsize,he.pending_buf=new a.Buf8(he.pending_buf_size),he.d_buf=1*he.lit_bufsize,he.l_buf=3*he.lit_bufsize,he.level=Ae,he.strategy=ce,he.method=be,rt(G)}i=[new Ee(0,0,0,0,function(G,Ae){var be=65535;for(be>G.pending_buf_size-5&&(be=G.pending_buf_size-5);;){if(G.lookahead<=1){if(ve(G),G.lookahead===0&&Ae===f)return j;if(G.lookahead===0)break}G.strstart+=G.lookahead,G.lookahead=0;var re=G.block_start+be;if((G.strstart===0||G.strstart>=re)&&(G.lookahead=G.strstart-re,G.strstart=re,H(G,!1),G.strm.avail_out===0)||G.strstart-G.block_start>=G.w_size-z&&(H(G,!1),G.strm.avail_out===0))return j}return G.insert=0,Ae===m?(H(G,!0),G.strm.avail_out===0?K:te):(G.strstart>G.block_start&&(H(G,!1),G.strm.avail_out),j)}),new Ee(4,4,8,4,Ce),new Ee(4,5,16,8,Ce),new Ee(4,6,32,32,Ce),new Ee(4,4,16,16,De),new Ee(8,16,32,32,De),new Ee(8,16,128,128,De),new Ee(8,32,128,256,De),new Ee(32,128,258,1024,De),new Ee(32,258,258,4096,De)],s.deflateInit=function(G,Ae){return it(G,Ae,C,15,8,0)},s.deflateInit2=it,s.deflateReset=rt,s.deflateResetKeep=Ve,s.deflateSetHeader=function(G,Ae){return G&&G.state?G.state.wrap!==2?b:(G.state.gzhead=Ae,g):b},s.deflate=function(G,Ae){var be,re,ne,ce;if(!G||!G.state||5<Ae||Ae<0)return G?J(G,b):b;if(re=G.state,!G.output||!G.input&&G.avail_in!==0||re.status===666&&Ae!==m)return J(G,G.avail_out===0?-5:b);if(re.strm=G,be=re.last_flush,re.last_flush=Ae,re.status===O)if(re.wrap===2)G.adler=0,de(re,31),de(re,139),de(re,8),re.gzhead?(de(re,(re.gzhead.text?1:0)+(re.gzhead.hcrc?2:0)+(re.gzhead.extra?4:0)+(re.gzhead.name?8:0)+(re.gzhead.comment?16:0)),de(re,255&re.gzhead.time),de(re,re.gzhead.time>>8&255),de(re,re.gzhead.time>>16&255),de(re,re.gzhead.time>>24&255),de(re,re.level===9?2:2<=re.strategy||re.level<2?4:0),de(re,255&re.gzhead.os),re.gzhead.extra&&re.gzhead.extra.length&&(de(re,255&re.gzhead.extra.length),de(re,re.gzhead.extra.length>>8&255)),re.gzhead.hcrc&&(G.adler=u(G.adler,re.pending_buf,re.pending,0)),re.gzindex=0,re.status=69):(de(re,0),de(re,0),de(re,0),de(re,0),de(re,0),de(re,re.level===9?2:2<=re.strategy||re.level<2?4:0),de(re,3),re.status=U);else{var Te=C+(re.w_bits-8<<4)<<8;Te|=(2<=re.strategy||re.level<2?0:re.level<6?1:re.level===6?2:3)<<6,re.strstart!==0&&(Te|=32),Te+=31-Te%31,re.status=U,ee(re,Te),re.strstart!==0&&(ee(re,G.adler>>>16),ee(re,65535&G.adler)),G.adler=1}if(re.status===69)if(re.gzhead.extra){for(ne=re.pending;re.gzindex<(65535&re.gzhead.extra.length)&&(re.pending!==re.pending_buf_size||(re.gzhead.hcrc&&re.pending>ne&&(G.adler=u(G.adler,re.pending_buf,re.pending-ne,ne)),F(G),ne=re.pending,re.pending!==re.pending_buf_size));)de(re,255&re.gzhead.extra[re.gzindex]),re.gzindex++;re.gzhead.hcrc&&re.pending>ne&&(G.adler=u(G.adler,re.pending_buf,re.pending-ne,ne)),re.gzindex===re.gzhead.extra.length&&(re.gzindex=0,re.status=73)}else re.status=73;if(re.status===73)if(re.gzhead.name){ne=re.pending;do{if(re.pending===re.pending_buf_size&&(re.gzhead.hcrc&&re.pending>ne&&(G.adler=u(G.adler,re.pending_buf,re.pending-ne,ne)),F(G),ne=re.pending,re.pending===re.pending_buf_size)){ce=1;break}ce=re.gzindex<re.gzhead.name.length?255&re.gzhead.name.charCodeAt(re.gzindex++):0,de(re,ce)}while(ce!==0);re.gzhead.hcrc&&re.pending>ne&&(G.adler=u(G.adler,re.pending_buf,re.pending-ne,ne)),ce===0&&(re.gzindex=0,re.status=91)}else re.status=91;if(re.status===91)if(re.gzhead.comment){ne=re.pending;do{if(re.pending===re.pending_buf_size&&(re.gzhead.hcrc&&re.pending>ne&&(G.adler=u(G.adler,re.pending_buf,re.pending-ne,ne)),F(G),ne=re.pending,re.pending===re.pending_buf_size)){ce=1;break}ce=re.gzindex<re.gzhead.comment.length?255&re.gzhead.comment.charCodeAt(re.gzindex++):0,de(re,ce)}while(ce!==0);re.gzhead.hcrc&&re.pending>ne&&(G.adler=u(G.adler,re.pending_buf,re.pending-ne,ne)),ce===0&&(re.status=103)}else re.status=103;if(re.status===103&&(re.gzhead.hcrc?(re.pending+2>re.pending_buf_size&&F(G),re.pending+2<=re.pending_buf_size&&(de(re,255&G.adler),de(re,G.adler>>8&255),G.adler=0,re.status=U)):re.status=U),re.pending!==0){if(F(G),G.avail_out===0)return re.last_flush=-1,g}else if(G.avail_in===0&&X(Ae)<=X(be)&&Ae!==m)return J(G,-5);if(re.status===666&&G.avail_in!==0)return J(G,-5);if(G.avail_in!==0||re.lookahead!==0||Ae!==f&&re.status!==666){var he=re.strategy===2?function(se,ye){for(var Pe;;){if(se.lookahead===0&&(ve(se),se.lookahead===0)){if(ye===f)return j;break}if(se.match_length=0,Pe=l._tr_tally(se,0,se.window[se.strstart]),se.lookahead--,se.strstart++,Pe&&(H(se,!1),se.strm.avail_out===0))return j}return se.insert=0,ye===m?(H(se,!0),se.strm.avail_out===0?K:te):se.last_lit&&(H(se,!1),se.strm.avail_out===0)?j:V}(re,Ae):re.strategy===3?function(se,ye){for(var Pe,Oe,xe,at,lt=se.window;;){if(se.lookahead<=S){if(ve(se),se.lookahead<=S&&ye===f)return j;if(se.lookahead===0)break}if(se.match_length=0,se.lookahead>=D&&0<se.strstart&&(Oe=lt[xe=se.strstart-1])===lt[++xe]&&Oe===lt[++xe]&&Oe===lt[++xe]){at=se.strstart+S;do;while(Oe===lt[++xe]&&Oe===lt[++xe]&&Oe===lt[++xe]&&Oe===lt[++xe]&&Oe===lt[++xe]&&Oe===lt[++xe]&&Oe===lt[++xe]&&Oe===lt[++xe]&&xe<at);se.match_length=S-(at-xe),se.match_length>se.lookahead&&(se.match_length=se.lookahead)}if(se.match_length>=D?(Pe=l._tr_tally(se,1,se.match_length-D),se.lookahead-=se.match_length,se.strstart+=se.match_length,se.match_length=0):(Pe=l._tr_tally(se,0,se.window[se.strstart]),se.lookahead--,se.strstart++),Pe&&(H(se,!1),se.strm.avail_out===0))return j}return se.insert=0,ye===m?(H(se,!0),se.strm.avail_out===0?K:te):se.last_lit&&(H(se,!1),se.strm.avail_out===0)?j:V}(re,Ae):i[re.level].func(re,Ae);if(he!==K&&he!==te||(re.status=666),he===j||he===K)return G.avail_out===0&&(re.last_flush=-1),g;if(he===V&&(Ae===1?l._tr_align(re):Ae!==5&&(l._tr_stored_block(re,0,0,!1),Ae===3&&(Y(re.head),re.lookahead===0&&(re.strstart=0,re.block_start=0,re.insert=0))),F(G),G.avail_out===0))return re.last_flush=-1,g}return Ae!==m?g:re.wrap<=0?1:(re.wrap===2?(de(re,255&G.adler),de(re,G.adler>>8&255),de(re,G.adler>>16&255),de(re,G.adler>>24&255),de(re,255&G.total_in),de(re,G.total_in>>8&255),de(re,G.total_in>>16&255),de(re,G.total_in>>24&255)):(ee(re,G.adler>>>16),ee(re,65535&G.adler)),F(G),0<re.wrap&&(re.wrap=-re.wrap),re.pending!==0?g:1)},s.deflateEnd=function(G){var Ae;return G&&G.state?(Ae=G.state.status)!==O&&Ae!==69&&Ae!==73&&Ae!==91&&Ae!==103&&Ae!==U&&Ae!==666?J(G,b):(G.state=null,Ae===U?J(G,-3):g):b},s.deflateSetDictionary=function(G,Ae){var be,re,ne,ce,Te,he,se,ye,Pe=Ae.length;if(!G||!G.state||(ce=(be=G.state).wrap)===2||ce===1&&be.status!==O||be.lookahead)return b;for(ce===1&&(G.adler=c(G.adler,Ae,Pe,0)),be.wrap=0,Pe>=be.w_size&&(ce===0&&(Y(be.head),be.strstart=0,be.block_start=0,be.insert=0),ye=new a.Buf8(be.w_size),a.arraySet(ye,Ae,Pe-be.w_size,be.w_size,0),Ae=ye,Pe=be.w_size),Te=G.avail_in,he=G.next_in,se=G.input,G.avail_in=Pe,G.next_in=0,G.input=Ae,ve(be);be.lookahead>=D;){for(re=be.strstart,ne=be.lookahead-(D-1);be.ins_h=(be.ins_h<<be.hash_shift^be.window[re+D-1])&be.hash_mask,be.prev[re&be.w_mask]=be.head[be.ins_h],be.head[be.ins_h]=re,re++,--ne;);be.strstart=re,be.lookahead=D-1,ve(be)}return be.strstart+=be.lookahead,be.block_start=be.strstart,be.insert=be.lookahead,be.lookahead=0,be.match_length=be.prev_length=D-1,be.match_available=0,G.next_in=he,G.input=se,G.avail_in=Te,be.wrap=ce,g},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,s){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,s){r.exports=function(i,a){var l,c,u,h,f,m,g,b,y,x,w,C,k,A,N,P,M,L,D,S,z,O,U,j,V;l=i.state,c=i.next_in,j=i.input,u=c+(i.avail_in-5),h=i.next_out,V=i.output,f=h-(a-i.avail_out),m=h+(i.avail_out-257),g=l.dmax,b=l.wsize,y=l.whave,x=l.wnext,w=l.window,C=l.hold,k=l.bits,A=l.lencode,N=l.distcode,P=(1<<l.lenbits)-1,M=(1<<l.distbits)-1;e:do{k<15&&(C+=j[c++]<<k,k+=8,C+=j[c++]<<k,k+=8),L=A[C&P];t:for(;;){if(C>>>=D=L>>>24,k-=D,(D=L>>>16&255)===0)V[h++]=65535&L;else{if(!(16&D)){if(!(64&D)){L=A[(65535&L)+(C&(1<<D)-1)];continue t}if(32&D){l.mode=12;break e}i.msg="invalid literal/length code",l.mode=30;break e}S=65535&L,(D&=15)&&(k<D&&(C+=j[c++]<<k,k+=8),S+=C&(1<<D)-1,C>>>=D,k-=D),k<15&&(C+=j[c++]<<k,k+=8,C+=j[c++]<<k,k+=8),L=N[C&M];n:for(;;){if(C>>>=D=L>>>24,k-=D,!(16&(D=L>>>16&255))){if(!(64&D)){L=N[(65535&L)+(C&(1<<D)-1)];continue n}i.msg="invalid distance code",l.mode=30;break e}if(z=65535&L,k<(D&=15)&&(C+=j[c++]<<k,(k+=8)<D&&(C+=j[c++]<<k,k+=8)),g<(z+=C&(1<<D)-1)){i.msg="invalid distance too far back",l.mode=30;break e}if(C>>>=D,k-=D,(D=h-f)<z){if(y<(D=z-D)&&l.sane){i.msg="invalid distance too far back",l.mode=30;break e}if(U=w,(O=0)===x){if(O+=b-D,D<S){for(S-=D;V[h++]=w[O++],--D;);O=h-z,U=V}}else if(x<D){if(O+=b+x-D,(D-=x)<S){for(S-=D;V[h++]=w[O++],--D;);if(O=0,x<S){for(S-=D=x;V[h++]=w[O++],--D;);O=h-z,U=V}}}else if(O+=x-D,D<S){for(S-=D;V[h++]=w[O++],--D;);O=h-z,U=V}for(;2<S;)V[h++]=U[O++],V[h++]=U[O++],V[h++]=U[O++],S-=3;S&&(V[h++]=U[O++],1<S&&(V[h++]=U[O++]))}else{for(O=h-z;V[h++]=V[O++],V[h++]=V[O++],V[h++]=V[O++],2<(S-=3););S&&(V[h++]=V[O++],1<S&&(V[h++]=V[O++]))}break}}break}}while(c<u&&h<m);c-=S=k>>3,C&=(1<<(k-=S<<3))-1,i.next_in=c,i.next_out=h,i.avail_in=c<u?u-c+5:5-(c-u),i.avail_out=h<m?m-h+257:257-(h-m),l.hold=C,l.bits=k}},{}],49:[function(n,r,s){var i=n("../utils/common"),a=n("./adler32"),l=n("./crc32"),c=n("./inffast"),u=n("./inftrees"),h=1,f=2,m=0,g=-2,b=1,y=852,x=592;function w(O){return(O>>>24&255)+(O>>>8&65280)+((65280&O)<<8)+((255&O)<<24)}function C(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function k(O){var U;return O&&O.state?(U=O.state,O.total_in=O.total_out=U.total=0,O.msg="",U.wrap&&(O.adler=1&U.wrap),U.mode=b,U.last=0,U.havedict=0,U.dmax=32768,U.head=null,U.hold=0,U.bits=0,U.lencode=U.lendyn=new i.Buf32(y),U.distcode=U.distdyn=new i.Buf32(x),U.sane=1,U.back=-1,m):g}function A(O){var U;return O&&O.state?((U=O.state).wsize=0,U.whave=0,U.wnext=0,k(O)):g}function N(O,U){var j,V;return O&&O.state?(V=O.state,U<0?(j=0,U=-U):(j=1+(U>>4),U<48&&(U&=15)),U&&(U<8||15<U)?g:(V.window!==null&&V.wbits!==U&&(V.window=null),V.wrap=j,V.wbits=U,A(O))):g}function P(O,U){var j,V;return O?(V=new C,(O.state=V).window=null,(j=N(O,U))!==m&&(O.state=null),j):g}var M,L,D=!0;function S(O){if(D){var U;for(M=new i.Buf32(512),L=new i.Buf32(32),U=0;U<144;)O.lens[U++]=8;for(;U<256;)O.lens[U++]=9;for(;U<280;)O.lens[U++]=7;for(;U<288;)O.lens[U++]=8;for(u(h,O.lens,0,288,M,0,O.work,{bits:9}),U=0;U<32;)O.lens[U++]=5;u(f,O.lens,0,32,L,0,O.work,{bits:5}),D=!1}O.lencode=M,O.lenbits=9,O.distcode=L,O.distbits=5}function z(O,U,j,V){var K,te=O.state;return te.window===null&&(te.wsize=1<<te.wbits,te.wnext=0,te.whave=0,te.window=new i.Buf8(te.wsize)),V>=te.wsize?(i.arraySet(te.window,U,j-te.wsize,te.wsize,0),te.wnext=0,te.whave=te.wsize):(V<(K=te.wsize-te.wnext)&&(K=V),i.arraySet(te.window,U,j-V,K,te.wnext),(V-=K)?(i.arraySet(te.window,U,j-V,V,0),te.wnext=V,te.whave=te.wsize):(te.wnext+=K,te.wnext===te.wsize&&(te.wnext=0),te.whave<te.wsize&&(te.whave+=K))),0}s.inflateReset=A,s.inflateReset2=N,s.inflateResetKeep=k,s.inflateInit=function(O){return P(O,15)},s.inflateInit2=P,s.inflate=function(O,U){var j,V,K,te,J,X,Y,F,H,de,ee,fe,ve,Ce,De,Ee,Be,Ve,rt,it,G,Ae,be,re,ne=0,ce=new i.Buf8(4),Te=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!O||!O.state||!O.output||!O.input&&O.avail_in!==0)return g;(j=O.state).mode===12&&(j.mode=13),J=O.next_out,K=O.output,Y=O.avail_out,te=O.next_in,V=O.input,X=O.avail_in,F=j.hold,H=j.bits,de=X,ee=Y,Ae=m;e:for(;;)switch(j.mode){case b:if(j.wrap===0){j.mode=13;break}for(;H<16;){if(X===0)break e;X--,F+=V[te++]<<H,H+=8}if(2&j.wrap&&F===35615){ce[j.check=0]=255&F,ce[1]=F>>>8&255,j.check=l(j.check,ce,2,0),H=F=0,j.mode=2;break}if(j.flags=0,j.head&&(j.head.done=!1),!(1&j.wrap)||(((255&F)<<8)+(F>>8))%31){O.msg="incorrect header check",j.mode=30;break}if((15&F)!=8){O.msg="unknown compression method",j.mode=30;break}if(H-=4,G=8+(15&(F>>>=4)),j.wbits===0)j.wbits=G;else if(G>j.wbits){O.msg="invalid window size",j.mode=30;break}j.dmax=1<<G,O.adler=j.check=1,j.mode=512&F?10:12,H=F=0;break;case 2:for(;H<16;){if(X===0)break e;X--,F+=V[te++]<<H,H+=8}if(j.flags=F,(255&j.flags)!=8){O.msg="unknown compression method",j.mode=30;break}if(57344&j.flags){O.msg="unknown header flags set",j.mode=30;break}j.head&&(j.head.text=F>>8&1),512&j.flags&&(ce[0]=255&F,ce[1]=F>>>8&255,j.check=l(j.check,ce,2,0)),H=F=0,j.mode=3;case 3:for(;H<32;){if(X===0)break e;X--,F+=V[te++]<<H,H+=8}j.head&&(j.head.time=F),512&j.flags&&(ce[0]=255&F,ce[1]=F>>>8&255,ce[2]=F>>>16&255,ce[3]=F>>>24&255,j.check=l(j.check,ce,4,0)),H=F=0,j.mode=4;case 4:for(;H<16;){if(X===0)break e;X--,F+=V[te++]<<H,H+=8}j.head&&(j.head.xflags=255&F,j.head.os=F>>8),512&j.flags&&(ce[0]=255&F,ce[1]=F>>>8&255,j.check=l(j.check,ce,2,0)),H=F=0,j.mode=5;case 5:if(1024&j.flags){for(;H<16;){if(X===0)break e;X--,F+=V[te++]<<H,H+=8}j.length=F,j.head&&(j.head.extra_len=F),512&j.flags&&(ce[0]=255&F,ce[1]=F>>>8&255,j.check=l(j.check,ce,2,0)),H=F=0}else j.head&&(j.head.extra=null);j.mode=6;case 6:if(1024&j.flags&&(X<(fe=j.length)&&(fe=X),fe&&(j.head&&(G=j.head.extra_len-j.length,j.head.extra||(j.head.extra=new Array(j.head.extra_len)),i.arraySet(j.head.extra,V,te,fe,G)),512&j.flags&&(j.check=l(j.check,V,fe,te)),X-=fe,te+=fe,j.length-=fe),j.length))break e;j.length=0,j.mode=7;case 7:if(2048&j.flags){if(X===0)break e;for(fe=0;G=V[te+fe++],j.head&&G&&j.length<65536&&(j.head.name+=String.fromCharCode(G)),G&&fe<X;);if(512&j.flags&&(j.check=l(j.check,V,fe,te)),X-=fe,te+=fe,G)break e}else j.head&&(j.head.name=null);j.length=0,j.mode=8;case 8:if(4096&j.flags){if(X===0)break e;for(fe=0;G=V[te+fe++],j.head&&G&&j.length<65536&&(j.head.comment+=String.fromCharCode(G)),G&&fe<X;);if(512&j.flags&&(j.check=l(j.check,V,fe,te)),X-=fe,te+=fe,G)break e}else j.head&&(j.head.comment=null);j.mode=9;case 9:if(512&j.flags){for(;H<16;){if(X===0)break e;X--,F+=V[te++]<<H,H+=8}if(F!==(65535&j.check)){O.msg="header crc mismatch",j.mode=30;break}H=F=0}j.head&&(j.head.hcrc=j.flags>>9&1,j.head.done=!0),O.adler=j.check=0,j.mode=12;break;case 10:for(;H<32;){if(X===0)break e;X--,F+=V[te++]<<H,H+=8}O.adler=j.check=w(F),H=F=0,j.mode=11;case 11:if(j.havedict===0)return O.next_out=J,O.avail_out=Y,O.next_in=te,O.avail_in=X,j.hold=F,j.bits=H,2;O.adler=j.check=1,j.mode=12;case 12:if(U===5||U===6)break e;case 13:if(j.last){F>>>=7&H,H-=7&H,j.mode=27;break}for(;H<3;){if(X===0)break e;X--,F+=V[te++]<<H,H+=8}switch(j.last=1&F,H-=1,3&(F>>>=1)){case 0:j.mode=14;break;case 1:if(S(j),j.mode=20,U!==6)break;F>>>=2,H-=2;break e;case 2:j.mode=17;break;case 3:O.msg="invalid block type",j.mode=30}F>>>=2,H-=2;break;case 14:for(F>>>=7&H,H-=7&H;H<32;){if(X===0)break e;X--,F+=V[te++]<<H,H+=8}if((65535&F)!=(F>>>16^65535)){O.msg="invalid stored block lengths",j.mode=30;break}if(j.length=65535&F,H=F=0,j.mode=15,U===6)break e;case 15:j.mode=16;case 16:if(fe=j.length){if(X<fe&&(fe=X),Y<fe&&(fe=Y),fe===0)break e;i.arraySet(K,V,te,fe,J),X-=fe,te+=fe,Y-=fe,J+=fe,j.length-=fe;break}j.mode=12;break;case 17:for(;H<14;){if(X===0)break e;X--,F+=V[te++]<<H,H+=8}if(j.nlen=257+(31&F),F>>>=5,H-=5,j.ndist=1+(31&F),F>>>=5,H-=5,j.ncode=4+(15&F),F>>>=4,H-=4,286<j.nlen||30<j.ndist){O.msg="too many length or distance symbols",j.mode=30;break}j.have=0,j.mode=18;case 18:for(;j.have<j.ncode;){for(;H<3;){if(X===0)break e;X--,F+=V[te++]<<H,H+=8}j.lens[Te[j.have++]]=7&F,F>>>=3,H-=3}for(;j.have<19;)j.lens[Te[j.have++]]=0;if(j.lencode=j.lendyn,j.lenbits=7,be={bits:j.lenbits},Ae=u(0,j.lens,0,19,j.lencode,0,j.work,be),j.lenbits=be.bits,Ae){O.msg="invalid code lengths set",j.mode=30;break}j.have=0,j.mode=19;case 19:for(;j.have<j.nlen+j.ndist;){for(;Ee=(ne=j.lencode[F&(1<<j.lenbits)-1])>>>16&255,Be=65535&ne,!((De=ne>>>24)<=H);){if(X===0)break e;X--,F+=V[te++]<<H,H+=8}if(Be<16)F>>>=De,H-=De,j.lens[j.have++]=Be;else{if(Be===16){for(re=De+2;H<re;){if(X===0)break e;X--,F+=V[te++]<<H,H+=8}if(F>>>=De,H-=De,j.have===0){O.msg="invalid bit length repeat",j.mode=30;break}G=j.lens[j.have-1],fe=3+(3&F),F>>>=2,H-=2}else if(Be===17){for(re=De+3;H<re;){if(X===0)break e;X--,F+=V[te++]<<H,H+=8}H-=De,G=0,fe=3+(7&(F>>>=De)),F>>>=3,H-=3}else{for(re=De+7;H<re;){if(X===0)break e;X--,F+=V[te++]<<H,H+=8}H-=De,G=0,fe=11+(127&(F>>>=De)),F>>>=7,H-=7}if(j.have+fe>j.nlen+j.ndist){O.msg="invalid bit length repeat",j.mode=30;break}for(;fe--;)j.lens[j.have++]=G}}if(j.mode===30)break;if(j.lens[256]===0){O.msg="invalid code -- missing end-of-block",j.mode=30;break}if(j.lenbits=9,be={bits:j.lenbits},Ae=u(h,j.lens,0,j.nlen,j.lencode,0,j.work,be),j.lenbits=be.bits,Ae){O.msg="invalid literal/lengths set",j.mode=30;break}if(j.distbits=6,j.distcode=j.distdyn,be={bits:j.distbits},Ae=u(f,j.lens,j.nlen,j.ndist,j.distcode,0,j.work,be),j.distbits=be.bits,Ae){O.msg="invalid distances set",j.mode=30;break}if(j.mode=20,U===6)break e;case 20:j.mode=21;case 21:if(6<=X&&258<=Y){O.next_out=J,O.avail_out=Y,O.next_in=te,O.avail_in=X,j.hold=F,j.bits=H,c(O,ee),J=O.next_out,K=O.output,Y=O.avail_out,te=O.next_in,V=O.input,X=O.avail_in,F=j.hold,H=j.bits,j.mode===12&&(j.back=-1);break}for(j.back=0;Ee=(ne=j.lencode[F&(1<<j.lenbits)-1])>>>16&255,Be=65535&ne,!((De=ne>>>24)<=H);){if(X===0)break e;X--,F+=V[te++]<<H,H+=8}if(Ee&&!(240&Ee)){for(Ve=De,rt=Ee,it=Be;Ee=(ne=j.lencode[it+((F&(1<<Ve+rt)-1)>>Ve)])>>>16&255,Be=65535&ne,!(Ve+(De=ne>>>24)<=H);){if(X===0)break e;X--,F+=V[te++]<<H,H+=8}F>>>=Ve,H-=Ve,j.back+=Ve}if(F>>>=De,H-=De,j.back+=De,j.length=Be,Ee===0){j.mode=26;break}if(32&Ee){j.back=-1,j.mode=12;break}if(64&Ee){O.msg="invalid literal/length code",j.mode=30;break}j.extra=15&Ee,j.mode=22;case 22:if(j.extra){for(re=j.extra;H<re;){if(X===0)break e;X--,F+=V[te++]<<H,H+=8}j.length+=F&(1<<j.extra)-1,F>>>=j.extra,H-=j.extra,j.back+=j.extra}j.was=j.length,j.mode=23;case 23:for(;Ee=(ne=j.distcode[F&(1<<j.distbits)-1])>>>16&255,Be=65535&ne,!((De=ne>>>24)<=H);){if(X===0)break e;X--,F+=V[te++]<<H,H+=8}if(!(240&Ee)){for(Ve=De,rt=Ee,it=Be;Ee=(ne=j.distcode[it+((F&(1<<Ve+rt)-1)>>Ve)])>>>16&255,Be=65535&ne,!(Ve+(De=ne>>>24)<=H);){if(X===0)break e;X--,F+=V[te++]<<H,H+=8}F>>>=Ve,H-=Ve,j.back+=Ve}if(F>>>=De,H-=De,j.back+=De,64&Ee){O.msg="invalid distance code",j.mode=30;break}j.offset=Be,j.extra=15&Ee,j.mode=24;case 24:if(j.extra){for(re=j.extra;H<re;){if(X===0)break e;X--,F+=V[te++]<<H,H+=8}j.offset+=F&(1<<j.extra)-1,F>>>=j.extra,H-=j.extra,j.back+=j.extra}if(j.offset>j.dmax){O.msg="invalid distance too far back",j.mode=30;break}j.mode=25;case 25:if(Y===0)break e;if(fe=ee-Y,j.offset>fe){if((fe=j.offset-fe)>j.whave&&j.sane){O.msg="invalid distance too far back",j.mode=30;break}ve=fe>j.wnext?(fe-=j.wnext,j.wsize-fe):j.wnext-fe,fe>j.length&&(fe=j.length),Ce=j.window}else Ce=K,ve=J-j.offset,fe=j.length;for(Y<fe&&(fe=Y),Y-=fe,j.length-=fe;K[J++]=Ce[ve++],--fe;);j.length===0&&(j.mode=21);break;case 26:if(Y===0)break e;K[J++]=j.length,Y--,j.mode=21;break;case 27:if(j.wrap){for(;H<32;){if(X===0)break e;X--,F|=V[te++]<<H,H+=8}if(ee-=Y,O.total_out+=ee,j.total+=ee,ee&&(O.adler=j.check=j.flags?l(j.check,K,ee,J-ee):a(j.check,K,ee,J-ee)),ee=Y,(j.flags?F:w(F))!==j.check){O.msg="incorrect data check",j.mode=30;break}H=F=0}j.mode=28;case 28:if(j.wrap&&j.flags){for(;H<32;){if(X===0)break e;X--,F+=V[te++]<<H,H+=8}if(F!==(4294967295&j.total)){O.msg="incorrect length check",j.mode=30;break}H=F=0}j.mode=29;case 29:Ae=1;break e;case 30:Ae=-3;break e;case 31:return-4;case 32:default:return g}return O.next_out=J,O.avail_out=Y,O.next_in=te,O.avail_in=X,j.hold=F,j.bits=H,(j.wsize||ee!==O.avail_out&&j.mode<30&&(j.mode<27||U!==4))&&z(O,O.output,O.next_out,ee-O.avail_out)?(j.mode=31,-4):(de-=O.avail_in,ee-=O.avail_out,O.total_in+=de,O.total_out+=ee,j.total+=ee,j.wrap&&ee&&(O.adler=j.check=j.flags?l(j.check,K,ee,O.next_out-ee):a(j.check,K,ee,O.next_out-ee)),O.data_type=j.bits+(j.last?64:0)+(j.mode===12?128:0)+(j.mode===20||j.mode===15?256:0),(de==0&&ee===0||U===4)&&Ae===m&&(Ae=-5),Ae)},s.inflateEnd=function(O){if(!O||!O.state)return g;var U=O.state;return U.window&&(U.window=null),O.state=null,m},s.inflateGetHeader=function(O,U){var j;return O&&O.state&&2&(j=O.state).wrap?((j.head=U).done=!1,m):g},s.inflateSetDictionary=function(O,U){var j,V=U.length;return O&&O.state?(j=O.state).wrap!==0&&j.mode!==11?g:j.mode===11&&a(1,U,V,0)!==j.check?-3:z(O,U,V,V)?(j.mode=31,-4):(j.havedict=1,m):g},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,s){var i=n("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(h,f,m,g,b,y,x,w){var C,k,A,N,P,M,L,D,S,z=w.bits,O=0,U=0,j=0,V=0,K=0,te=0,J=0,X=0,Y=0,F=0,H=null,de=0,ee=new i.Buf16(16),fe=new i.Buf16(16),ve=null,Ce=0;for(O=0;O<=15;O++)ee[O]=0;for(U=0;U<g;U++)ee[f[m+U]]++;for(K=z,V=15;1<=V&&ee[V]===0;V--);if(V<K&&(K=V),V===0)return b[y++]=20971520,b[y++]=20971520,w.bits=1,0;for(j=1;j<V&&ee[j]===0;j++);for(K<j&&(K=j),O=X=1;O<=15;O++)if(X<<=1,(X-=ee[O])<0)return-1;if(0<X&&(h===0||V!==1))return-1;for(fe[1]=0,O=1;O<15;O++)fe[O+1]=fe[O]+ee[O];for(U=0;U<g;U++)f[m+U]!==0&&(x[fe[f[m+U]]++]=U);if(M=h===0?(H=ve=x,19):h===1?(H=a,de-=257,ve=l,Ce-=257,256):(H=c,ve=u,-1),O=j,P=y,J=U=F=0,A=-1,N=(Y=1<<(te=K))-1,h===1&&852<Y||h===2&&592<Y)return 1;for(;;){for(L=O-J,S=x[U]<M?(D=0,x[U]):x[U]>M?(D=ve[Ce+x[U]],H[de+x[U]]):(D=96,0),C=1<<O-J,j=k=1<<te;b[P+(F>>J)+(k-=C)]=L<<24|D<<16|S|0,k!==0;);for(C=1<<O-1;F&C;)C>>=1;if(C!==0?(F&=C-1,F+=C):F=0,U++,--ee[O]==0){if(O===V)break;O=f[m+x[U]]}if(K<O&&(F&N)!==A){for(J===0&&(J=K),P+=j,X=1<<(te=O-J);te+J<V&&!((X-=ee[te+J])<=0);)te++,X<<=1;if(Y+=1<<te,h===1&&852<Y||h===2&&592<Y)return 1;b[A=F&N]=K<<24|te<<16|P-y|0}}return F!==0&&(b[P+F]=O-J<<24|64<<16|0),w.bits=K,0}},{"../utils/common":41}],51:[function(n,r,s){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,s){var i=n("../utils/common"),a=0,l=1;function c(ne){for(var ce=ne.length;0<=--ce;)ne[ce]=0}var u=0,h=29,f=256,m=f+1+h,g=30,b=19,y=2*m+1,x=15,w=16,C=7,k=256,A=16,N=17,P=18,M=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],L=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z=new Array(2*(m+2));c(z);var O=new Array(2*g);c(O);var U=new Array(512);c(U);var j=new Array(256);c(j);var V=new Array(h);c(V);var K,te,J,X=new Array(g);function Y(ne,ce,Te,he,se){this.static_tree=ne,this.extra_bits=ce,this.extra_base=Te,this.elems=he,this.max_length=se,this.has_stree=ne&&ne.length}function F(ne,ce){this.dyn_tree=ne,this.max_code=0,this.stat_desc=ce}function H(ne){return ne<256?U[ne]:U[256+(ne>>>7)]}function de(ne,ce){ne.pending_buf[ne.pending++]=255&ce,ne.pending_buf[ne.pending++]=ce>>>8&255}function ee(ne,ce,Te){ne.bi_valid>w-Te?(ne.bi_buf|=ce<<ne.bi_valid&65535,de(ne,ne.bi_buf),ne.bi_buf=ce>>w-ne.bi_valid,ne.bi_valid+=Te-w):(ne.bi_buf|=ce<<ne.bi_valid&65535,ne.bi_valid+=Te)}function fe(ne,ce,Te){ee(ne,Te[2*ce],Te[2*ce+1])}function ve(ne,ce){for(var Te=0;Te|=1&ne,ne>>>=1,Te<<=1,0<--ce;);return Te>>>1}function Ce(ne,ce,Te){var he,se,ye=new Array(x+1),Pe=0;for(he=1;he<=x;he++)ye[he]=Pe=Pe+Te[he-1]<<1;for(se=0;se<=ce;se++){var Oe=ne[2*se+1];Oe!==0&&(ne[2*se]=ve(ye[Oe]++,Oe))}}function De(ne){var ce;for(ce=0;ce<m;ce++)ne.dyn_ltree[2*ce]=0;for(ce=0;ce<g;ce++)ne.dyn_dtree[2*ce]=0;for(ce=0;ce<b;ce++)ne.bl_tree[2*ce]=0;ne.dyn_ltree[2*k]=1,ne.opt_len=ne.static_len=0,ne.last_lit=ne.matches=0}function Ee(ne){8<ne.bi_valid?de(ne,ne.bi_buf):0<ne.bi_valid&&(ne.pending_buf[ne.pending++]=ne.bi_buf),ne.bi_buf=0,ne.bi_valid=0}function Be(ne,ce,Te,he){var se=2*ce,ye=2*Te;return ne[se]<ne[ye]||ne[se]===ne[ye]&&he[ce]<=he[Te]}function Ve(ne,ce,Te){for(var he=ne.heap[Te],se=Te<<1;se<=ne.heap_len&&(se<ne.heap_len&&Be(ce,ne.heap[se+1],ne.heap[se],ne.depth)&&se++,!Be(ce,he,ne.heap[se],ne.depth));)ne.heap[Te]=ne.heap[se],Te=se,se<<=1;ne.heap[Te]=he}function rt(ne,ce,Te){var he,se,ye,Pe,Oe=0;if(ne.last_lit!==0)for(;he=ne.pending_buf[ne.d_buf+2*Oe]<<8|ne.pending_buf[ne.d_buf+2*Oe+1],se=ne.pending_buf[ne.l_buf+Oe],Oe++,he===0?fe(ne,se,ce):(fe(ne,(ye=j[se])+f+1,ce),(Pe=M[ye])!==0&&ee(ne,se-=V[ye],Pe),fe(ne,ye=H(--he),Te),(Pe=L[ye])!==0&&ee(ne,he-=X[ye],Pe)),Oe<ne.last_lit;);fe(ne,k,ce)}function it(ne,ce){var Te,he,se,ye=ce.dyn_tree,Pe=ce.stat_desc.static_tree,Oe=ce.stat_desc.has_stree,xe=ce.stat_desc.elems,at=-1;for(ne.heap_len=0,ne.heap_max=y,Te=0;Te<xe;Te++)ye[2*Te]!==0?(ne.heap[++ne.heap_len]=at=Te,ne.depth[Te]=0):ye[2*Te+1]=0;for(;ne.heap_len<2;)ye[2*(se=ne.heap[++ne.heap_len]=at<2?++at:0)]=1,ne.depth[se]=0,ne.opt_len--,Oe&&(ne.static_len-=Pe[2*se+1]);for(ce.max_code=at,Te=ne.heap_len>>1;1<=Te;Te--)Ve(ne,ye,Te);for(se=xe;Te=ne.heap[1],ne.heap[1]=ne.heap[ne.heap_len--],Ve(ne,ye,1),he=ne.heap[1],ne.heap[--ne.heap_max]=Te,ne.heap[--ne.heap_max]=he,ye[2*se]=ye[2*Te]+ye[2*he],ne.depth[se]=(ne.depth[Te]>=ne.depth[he]?ne.depth[Te]:ne.depth[he])+1,ye[2*Te+1]=ye[2*he+1]=se,ne.heap[1]=se++,Ve(ne,ye,1),2<=ne.heap_len;);ne.heap[--ne.heap_max]=ne.heap[1],function(lt,ze){var Le,ct,tt,He,gt,ie,Ie=ze.dyn_tree,We=ze.max_code,yt=ze.stat_desc.static_tree,Ye=ze.stat_desc.has_stree,Ze=ze.stat_desc.extra_bits,Z=ze.stat_desc.extra_base,ae=ze.stat_desc.max_length,me=0;for(He=0;He<=x;He++)lt.bl_count[He]=0;for(Ie[2*lt.heap[lt.heap_max]+1]=0,Le=lt.heap_max+1;Le<y;Le++)ae<(He=Ie[2*Ie[2*(ct=lt.heap[Le])+1]+1]+1)&&(He=ae,me++),Ie[2*ct+1]=He,We<ct||(lt.bl_count[He]++,gt=0,Z<=ct&&(gt=Ze[ct-Z]),ie=Ie[2*ct],lt.opt_len+=ie*(He+gt),Ye&&(lt.static_len+=ie*(yt[2*ct+1]+gt)));if(me!==0){do{for(He=ae-1;lt.bl_count[He]===0;)He--;lt.bl_count[He]--,lt.bl_count[He+1]+=2,lt.bl_count[ae]--,me-=2}while(0<me);for(He=ae;He!==0;He--)for(ct=lt.bl_count[He];ct!==0;)We<(tt=lt.heap[--Le])||(Ie[2*tt+1]!==He&&(lt.opt_len+=(He-Ie[2*tt+1])*Ie[2*tt],Ie[2*tt+1]=He),ct--)}}(ne,ce),Ce(ye,at,ne.bl_count)}function G(ne,ce,Te){var he,se,ye=-1,Pe=ce[1],Oe=0,xe=7,at=4;for(Pe===0&&(xe=138,at=3),ce[2*(Te+1)+1]=65535,he=0;he<=Te;he++)se=Pe,Pe=ce[2*(he+1)+1],++Oe<xe&&se===Pe||(Oe<at?ne.bl_tree[2*se]+=Oe:se!==0?(se!==ye&&ne.bl_tree[2*se]++,ne.bl_tree[2*A]++):Oe<=10?ne.bl_tree[2*N]++:ne.bl_tree[2*P]++,ye=se,at=(Oe=0)===Pe?(xe=138,3):se===Pe?(xe=6,3):(xe=7,4))}function Ae(ne,ce,Te){var he,se,ye=-1,Pe=ce[1],Oe=0,xe=7,at=4;for(Pe===0&&(xe=138,at=3),he=0;he<=Te;he++)if(se=Pe,Pe=ce[2*(he+1)+1],!(++Oe<xe&&se===Pe)){if(Oe<at)for(;fe(ne,se,ne.bl_tree),--Oe!=0;);else se!==0?(se!==ye&&(fe(ne,se,ne.bl_tree),Oe--),fe(ne,A,ne.bl_tree),ee(ne,Oe-3,2)):Oe<=10?(fe(ne,N,ne.bl_tree),ee(ne,Oe-3,3)):(fe(ne,P,ne.bl_tree),ee(ne,Oe-11,7));ye=se,at=(Oe=0)===Pe?(xe=138,3):se===Pe?(xe=6,3):(xe=7,4)}}c(X);var be=!1;function re(ne,ce,Te,he){ee(ne,(u<<1)+(he?1:0),3),function(se,ye,Pe,Oe){Ee(se),de(se,Pe),de(se,~Pe),i.arraySet(se.pending_buf,se.window,ye,Pe,se.pending),se.pending+=Pe}(ne,ce,Te)}s._tr_init=function(ne){be||(function(){var ce,Te,he,se,ye,Pe=new Array(x+1);for(se=he=0;se<h-1;se++)for(V[se]=he,ce=0;ce<1<<M[se];ce++)j[he++]=se;for(j[he-1]=se,se=ye=0;se<16;se++)for(X[se]=ye,ce=0;ce<1<<L[se];ce++)U[ye++]=se;for(ye>>=7;se<g;se++)for(X[se]=ye<<7,ce=0;ce<1<<L[se]-7;ce++)U[256+ye++]=se;for(Te=0;Te<=x;Te++)Pe[Te]=0;for(ce=0;ce<=143;)z[2*ce+1]=8,ce++,Pe[8]++;for(;ce<=255;)z[2*ce+1]=9,ce++,Pe[9]++;for(;ce<=279;)z[2*ce+1]=7,ce++,Pe[7]++;for(;ce<=287;)z[2*ce+1]=8,ce++,Pe[8]++;for(Ce(z,m+1,Pe),ce=0;ce<g;ce++)O[2*ce+1]=5,O[2*ce]=ve(ce,5);K=new Y(z,M,f+1,m,x),te=new Y(O,L,0,g,x),J=new Y(new Array(0),D,0,b,C)}(),be=!0),ne.l_desc=new F(ne.dyn_ltree,K),ne.d_desc=new F(ne.dyn_dtree,te),ne.bl_desc=new F(ne.bl_tree,J),ne.bi_buf=0,ne.bi_valid=0,De(ne)},s._tr_stored_block=re,s._tr_flush_block=function(ne,ce,Te,he){var se,ye,Pe=0;0<ne.level?(ne.strm.data_type===2&&(ne.strm.data_type=function(Oe){var xe,at=4093624447;for(xe=0;xe<=31;xe++,at>>>=1)if(1&at&&Oe.dyn_ltree[2*xe]!==0)return a;if(Oe.dyn_ltree[18]!==0||Oe.dyn_ltree[20]!==0||Oe.dyn_ltree[26]!==0)return l;for(xe=32;xe<f;xe++)if(Oe.dyn_ltree[2*xe]!==0)return l;return a}(ne)),it(ne,ne.l_desc),it(ne,ne.d_desc),Pe=function(Oe){var xe;for(G(Oe,Oe.dyn_ltree,Oe.l_desc.max_code),G(Oe,Oe.dyn_dtree,Oe.d_desc.max_code),it(Oe,Oe.bl_desc),xe=b-1;3<=xe&&Oe.bl_tree[2*S[xe]+1]===0;xe--);return Oe.opt_len+=3*(xe+1)+5+5+4,xe}(ne),se=ne.opt_len+3+7>>>3,(ye=ne.static_len+3+7>>>3)<=se&&(se=ye)):se=ye=Te+5,Te+4<=se&&ce!==-1?re(ne,ce,Te,he):ne.strategy===4||ye===se?(ee(ne,2+(he?1:0),3),rt(ne,z,O)):(ee(ne,4+(he?1:0),3),function(Oe,xe,at,lt){var ze;for(ee(Oe,xe-257,5),ee(Oe,at-1,5),ee(Oe,lt-4,4),ze=0;ze<lt;ze++)ee(Oe,Oe.bl_tree[2*S[ze]+1],3);Ae(Oe,Oe.dyn_ltree,xe-1),Ae(Oe,Oe.dyn_dtree,at-1)}(ne,ne.l_desc.max_code+1,ne.d_desc.max_code+1,Pe+1),rt(ne,ne.dyn_ltree,ne.dyn_dtree)),De(ne),he&&Ee(ne)},s._tr_tally=function(ne,ce,Te){return ne.pending_buf[ne.d_buf+2*ne.last_lit]=ce>>>8&255,ne.pending_buf[ne.d_buf+2*ne.last_lit+1]=255&ce,ne.pending_buf[ne.l_buf+ne.last_lit]=255&Te,ne.last_lit++,ce===0?ne.dyn_ltree[2*Te]++:(ne.matches++,ce--,ne.dyn_ltree[2*(j[Te]+f+1)]++,ne.dyn_dtree[2*H(ce)]++),ne.last_lit===ne.lit_bufsize-1},s._tr_align=function(ne){ee(ne,2,3),fe(ne,k,z),function(ce){ce.bi_valid===16?(de(ce,ce.bi_buf),ce.bi_buf=0,ce.bi_valid=0):8<=ce.bi_valid&&(ce.pending_buf[ce.pending++]=255&ce.bi_buf,ce.bi_buf>>=8,ce.bi_valid-=8)}(ne)}},{"../utils/common":41}],53:[function(n,r,s){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,s){(function(i){(function(a,l){if(!a.setImmediate){var c,u,h,f,m=1,g={},b=!1,y=a.document,x=Object.getPrototypeOf&&Object.getPrototypeOf(a);x=x&&x.setTimeout?x:a,c={}.toString.call(a.process)==="[object process]"?function(A){process.nextTick(function(){C(A)})}:function(){if(a.postMessage&&!a.importScripts){var A=!0,N=a.onmessage;return a.onmessage=function(){A=!1},a.postMessage("","*"),a.onmessage=N,A}}()?(f="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",k,!1):a.attachEvent("onmessage",k),function(A){a.postMessage(f+A,"*")}):a.MessageChannel?((h=new MessageChannel).port1.onmessage=function(A){C(A.data)},function(A){h.port2.postMessage(A)}):y&&"onreadystatechange"in y.createElement("script")?(u=y.documentElement,function(A){var N=y.createElement("script");N.onreadystatechange=function(){C(A),N.onreadystatechange=null,u.removeChild(N),N=null},u.appendChild(N)}):function(A){setTimeout(C,0,A)},x.setImmediate=function(A){typeof A!="function"&&(A=new Function(""+A));for(var N=new Array(arguments.length-1),P=0;P<N.length;P++)N[P]=arguments[P+1];var M={callback:A,args:N};return g[m]=M,c(m),m++},x.clearImmediate=w}function w(A){delete g[A]}function C(A){if(b)setTimeout(C,0,A);else{var N=g[A];if(N){b=!0;try{(function(P){var M=P.callback,L=P.args;switch(L.length){case 0:M();break;case 1:M(L[0]);break;case 2:M(L[0],L[1]);break;case 3:M(L[0],L[1],L[2]);break;default:M.apply(l,L)}})(N)}finally{w(A),b=!1}}}}function k(A){A.source===a&&typeof A.data=="string"&&A.data.indexOf(f)===0&&C(+A.data.slice(f.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof ao<"u"?ao:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(TS)),TS.exports}var W_e=H_e();const V_e=Jr(W_e),I9=({show:t,handleClose:e,studentId:n,courseId:r,completionDate:s})=>{const[i,a]=_.useState(null),[l,c]=_.useState(!0),[u,h]=_.useState(null),[f,m]=_.useState(!1),[g,b]=_.useState(!1);_.useEffect(()=>{const C=()=>{const A=document.body.classList.contains("dark-mode")||localStorage.getItem("appearanceSettings")&&JSON.parse(localStorage.getItem("appearanceSettings")).darkMode;b(A)};C();const k=()=>{C()};return window.addEventListener("storage",k),()=>{window.removeEventListener("storage",k)}},[]),_.useEffect(()=>{t&&r&&y()},[t,r]);const y=async()=>{try{c(!0),h(null);const C=await P9(n,r,s);Array.isArray(C)?C.length>0?a(C[0]):h("No certificate found for this course"):a(C)}catch(C){h("Failed to load certificate: "+(C.message||"Unknown error")),nt().fire({icon:"error",title:"Failed to load certificate"})}finally{c(!1)}},x=async()=>{if(i)try{m(!0);let C=null,k=null;if(i.download_pdf)C=i.download_pdf;else if(i.pdf_url)C=i.pdf_url;else throw new Error("No PDF URL available");if(i.download_png)k=i.download_png;else if(i.image_url)k=i.image_url;else throw new Error("No PNG URL available");const A=ui;C.startsWith("/")&&(C=`${A}${C}`),k.startsWith("/")&&(k=`${A}${k}`);const N=localStorage.getItem("access");Promise.all([fetch(C,{headers:{Authorization:N?`Bearer ${N}`:""}}),fetch(k,{headers:{Authorization:N?`Bearer ${N}`:""}})]).then(([P,M])=>{if(!P.ok||!M.ok)throw new Error(`Failed to download certificate files: PDF status: ${P.status}, PNG status: ${M.status}`);return Promise.all([P.blob(),M.blob()])}).then(([P,M])=>{var z;if(P.size===0||M.size===0)throw new Error("Received empty file(s) from server");const L=new V_e,D=((z=i.course_title)==null?void 0:z.replace(/[^a-z0-9]/gi,"_").toLowerCase())||"certificate",S=i.certificate_id||"cert";return L.file(`${D}_certificate_${S}.pdf`,P),L.file(`${D}_certificate_${S}.png`,M),L.generateAsync({type:"blob",compression:"DEFLATE"})}).then(P=>{var z;const M=window.URL.createObjectURL(P),L=((z=i.course_title)==null?void 0:z.replace(/[^a-z0-9]/gi,"_").toLowerCase())||"certificate",D=i.certificate_id||"cert",S=document.createElement("a");S.href=M,S.download=`${L}_certificate_${D}.zip`,S.target="_self",document.body.appendChild(S),S.click(),setTimeout(()=>{document.body.removeChild(S),window.URL.revokeObjectURL(M)},100),nt().fire({icon:"success",title:"Certificate downloaded successfully"})}).catch(P=>{nt().fire({icon:"error",title:"Failed to download certificate"})}).finally(()=>{m(!1)})}catch{nt().fire({icon:"error",title:"Failed to start download process"}),m(!1)}},w=()=>i?i.download_png?i.download_png.startsWith("/")?`${ui}${i.download_png}`:i.download_png:i.image_url?i.image_url:null:null;return o.jsxs(vt,{show:t,onHide:e,size:"lg",centered:!0,className:"certificate-modal",children:[o.jsxs(vt.Header,{style:{backgroundColor:"white",borderBottom:g?"1px solid #444":"1px solid #dee2e6"},children:[o.jsx(vt.Title,{className:"text-muted",children:"Course Certificate"}),o.jsx("button",{onClick:e,style:{background:"transparent",border:"none",fontSize:"1.2rem",padding:"0.25rem 0.5rem",cursor:"pointer",color:"#000",transition:"color 0.15s ease-in-out"},"aria-label":"Close",className:"custom-close-button",onMouseOver:C=>C.currentTarget.style.color="#555",onMouseOut:C=>C.currentTarget.style.color="#000",children:"✕"})]}),o.jsx(vt.Body,{className:"p-0",style:{backgroundColor:"white"},children:l?o.jsxs("div",{className:"text-center py-5",children:[o.jsx(Hr,{animation:"border",role:"status",variant:"primary",children:o.jsx("span",{className:"visually-hidden",children:"Loading..."})}),o.jsx("p",{className:"mt-3",children:"Loading your certificate..."})]}):u?o.jsx("div",{className:"alert alert-danger m-3",children:u}):i?o.jsxs("div",{className:"certificate-container p-0",children:[o.jsx("div",{className:"certificate-image-container text-center py-4 border-top border-bottom",children:o.jsx("img",{src:w(),alt:"Certificate",className:"img-fluid certificate-image",style:{maxHeight:"350px",objectFit:"contain",width:"auto"},onError:C=>{C.target.src="https://via.placeholder.com/800x600?text=Certificate+Not+Available",C.target.style.opacity=.7}})}),o.jsxs("div",{className:"d-flex justify-content-between align-items-center px-4 py-3",children:[o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("span",{className:"me-2 text-muted",children:"Share:"}),o.jsx("div",{className:"d-flex gap-2",children:["twitter","facebook","linkedin","instagram"].map(C=>o.jsx("button",{onClick:()=>handleShare(C),className:"btn rounded-circle p-0 d-flex align-items-center justify-content-center",style:{backgroundColor:C==="twitter"?"#1DA1F2":C==="facebook"?"#4267B2":C==="linkedin"?"#0e76a8":"#C13584",color:"white",width:"36px",height:"36px",border:"none"},children:o.jsx("i",{className:`fab fa-${C==="twitter"?"twitter":C==="facebook"?"facebook-f":C==="linkedin"?"linkedin-in":"instagram"}`})},C))})]}),o.jsx(Dt,{variant:"success",onClick:x,className:"px-4",disabled:f,children:f?o.jsxs(o.Fragment,{children:[o.jsx(Hr,{animation:"border",size:"sm",className:"me-2"}),"Creating ZIP..."]}):o.jsxs(o.Fragment,{children:[o.jsx("i",{className:"fas fa-download me-2"}),"Download ZIP"]})})]})]}):o.jsx("div",{className:"alert alert-info m-3",children:"No certificate found for this course. Try refreshing the page."})})]})};let nO=!1;const q_e=t=>{if(!t||t.isDisposed())return;t.addClass("vjs-youtube-style");const n=(()=>{const r=["#8c0101","#034287"];return r[Math.floor(Math.random()*r.length)]})();if(!nO){const r="vjs-youtube-global-styles";if(!document.getElementById(r)){const s=document.createElement("style");s.id=r,s.textContent=`
        .video-js.vjs-youtube-style {
          font-family: 'Roboto', Arial, sans-serif;
        }
        body.dark-mode button:not(.btn-primary):not(.btn-success):not(.btn-danger) {
        background-color: rgba(255, 255, 255, 0) !important;
        border-color: rgba(255, 255, 255, 0) !important;
    }
        .video-js.vjs-youtube-style .vjs-control-bar {
          background: transparent; /* Changed from gradient to transparent */
          height: 40px;
          padding: 0;
          margin: 0;
          opacity: 0;
          transition: opacity 0.2s ease;
          display: flex;
          justify-content: space-between;
          width: 100%;
        }
        
        .video-js.vjs-youtube-style:hover .vjs-control-bar {
          opacity: 1;
          background: rgba(0, 0, 0, 0);
        }
        
        .video-js.vjs-youtube-style .vjs-progress-control {
          position: absolute !important;
          top: -10px !important;
          left: 0 !important;
          right: 0 !important;
          width: 100% !important;
          height: 3px;
          transition: height 0.1s;
          padding: 0 !important;
          margin: 0 !important;
          box-sizing: border-box;
          backgroundcolor: rgba(0, 0, 0, 0)!important;
        }
        
        .video-js.vjs-youtube-style:hover .vjs-progress-control {
          height: 5px;
        }
        
        .video-js.vjs-youtube-style .vjs-play-progress {
          background-color: ${n};
        }
        
        .video-js.vjs-youtube-style .vjs-progress-holder {
          height: 3px;
          margin: 0;
          width: 100%;
          max-width: 100%;
        }
        
        .video-js.vjs-youtube-style .vjs-load-progress,
        .video-js.vjs-youtube-style .vjs-load-progress div {
          backgroundcolor: rgba(0, 0, 0, 0);
        }
        
        .video-js.vjs-youtube-style .vjs-progress-control .vjs-progress-holder {
          margin: 0;
          padding: 0;
          width: 100%;
        }
        
        .video-js.vjs-youtube-style .vjs-progress-control,
        .video-js.vjs-youtube-style .vjs-progress-holder,
        .video-js.vjs-youtube-style .vjs-slider,
        .video-js.vjs-youtube-style .vjs-slider-horizontal {
          margin: 0;
          padding: 0;
          backgroundcolor: rgba(0, 0, 0, 0);
        }
        
        .video-js.vjs-youtube-style .vjs-button > .vjs-icon-placeholder:before {
          font-size: 20px;
          line-height: 40px;
        }
        
        .vjs-youtube-left-controls,
        .vjs-youtube-right-controls {
          display: flex;
          align-items: center;
          padding: 0 5px;
          backgroundcolor: rgba(0, 0, 0, 0)!important;
        }
        
        .video-js.vjs-youtube-style .vjs-control {
          width: 30px;
          backgroundcolor: rgba(0, 0, 0, 0)!important;
        }
        
        /* Compact Time Display in YouTube style */
        .video-js.vjs-youtube-style .vjs-current-time,
        .video-js.vjs-youtube-style .vjs-time-divider,
        .video-js.vjs-youtube-style .vjs-duration {
          padding: 0;
          margin: 0;
          font-size: 12px;
          display: block !important;
          line-height: 40px;
          width: auto;
          backgroundcolor: rgba(0, 0, 0, 0)!important;
        }
        
        /* Make current time and duration display tight together */
        .video-js.vjs-youtube-style .vjs-current-time-display,
        .video-js.vjs-youtube-style .vjs-duration-display {
          padding: 0 1px;
        }
        
        /* Adjust time divider */
        .video-js.vjs-youtube-style .vjs-time-divider {
          padding: 0;
          min-width: 8px;
          text-align: center;
        }
        
        /* Hide the time remaining display */
        .video-js.vjs-youtube-style .vjs-remaining-time {
          display: none !important;
        }
        
        .video-js.vjs-youtube-style .vjs-volume-panel {
          display: flex;
          margin-right: 0;
          backgroundcolor: rgba(0, 0, 0, 0)!important;
        }
        
        .video-js.vjs-youtube-style .vjs-volume-control {
          width: 0;
          transition: width 0.2s;
          height: 100%;
          backgroundcolor: rgba(0, 0, 0, 0)!important;
        }
        
        .video-js.vjs-youtube-style .vjs-volume-panel:hover .vjs-volume-control,
        .video-js.vjs-youtube-style .vjs-volume-panel:focus .vjs-volume-control,
        .video-js.vjs-youtube-style .vjs-volume-panel.vjs-hover .vjs-volume-control {
          visibility: visible;
          opacity: 1;
          width: 50px;
          height: 100%;
          backgroundcolor: rgba(0, 0, 0, 0)!important;
        }
        
        /* Settings button (Speedometer icon) */
        .vjs-youtube-settings-button .vjs-icon-placeholder:before {
          content: "⚙";
          font-size: 18px;
        }
        
        /* Group right-aligned controls tighter */
        .vjs-youtube-right-controls {
          display: flex;
          align-items: center;
          gap: 0;
        }
        
        .vjs-speed-menu {
          position: absolute;
          bottom: 50px;
          right: 10px;
          background-color: rgba(28, 28, 28, 0.9);
          border-radius: 2px;
          padding: 8px 0;
          width: 200px;
          display: none;
          z-index: 100;
        }
        
        .vjs-speed-menu.active {
          display: block;
        }
        
        .vjs-speed-menu-item {
          padding: 8px 20px;
          color: white;
          cursor: pointer;
          display: flex;
          justify-content: space-between;
        }
        
        .vjs-speed-menu-item:hover {
          background-color: rgba(255, 255, 255, 0.1);
        }
        
        .vjs-speed-menu-item.selected {
          font-weight: bold;
        }
        
        .vjs-speed-menu-item.selected:after {
          content: "✓";
        }
        
        .video-js.vjs-youtube-style .vjs-volume-level {
          background-color: white;
        }

        /* Volume panel - with centered control */
        .video-js.vjs-youtube-style .vjs-volume-panel {
          display: flex;
          align-items: center;
          margin-right: 0;
        }

        /* Volume control - centered position */
        .video-js.vjs-youtube-style .vjs-volume-control {
          width: 0;
          transition: width 0.2s;
          height: 100%;
          display: flex;
          align-items: center;
        }

        /* Volume bar container */
        .video-js.vjs-youtube-style .vjs-volume-bar {
          margin: 0 auto;
          height: 3px;
        }

        /* When hovering the volume panel */
        .video-js.vjs-youtube-style .vjs-volume-panel:hover .vjs-volume-control,
        .video-js.vjs-youtube-style .vjs-volume-panel:focus .vjs-volume-control,
        .video-js.vjs-youtube-style .vjs-volume-panel.vjs-hover .vjs-volume-control {
          visibility: visible;
          opacity: 1;
          width: 50px;
          height: 100%;
        }

        /* Volume level indicator */
        .video-js.vjs-youtube-style .vjs-volume-level {
          background-color: white;
          height: 100%;
        }

        /* Volume panel - with centered control */
        .video-js.vjs-youtube-style .vjs-volume-panel {
          display: flex;
          align-items: center;
          margin-right: 0;
        }

        /* Volume control - adjust vertical position */
        .video-js.vjs-youtube-style .vjs-volume-control {
          width: 0;
          transition: width 0.2s;
          height: 100%;
          display: flex;
          align-items: center;
          margin-top:0.7px; 
        }

        /* Volume bar container - adjust position */
        .video-js.vjs-youtube-style .vjs-volume-bar {
          margin: 0 auto;
          height: 3px;
          position: relative;
          top: 0.5px; /* Move the bar down for better alignment */
        }

        /* When hovering the volume panel */
        .video-js.vjs-youtube-style .vjs-volume-panel:hover .vjs-volume-control,
        .video-js.vjs-youtube-style .vjs-volume-panel:focus .vjs-volume-control,
        .video-js.vjs-youtube-style .vjs-volume-panel.vjs-hover .vjs-volume-control {
          visibility: visible;
          opacity: 1;
          width: 50px;
          height: 100%;
        }
        
        /* Mobile touch improvements */
        .video-js .vjs-tech {
          cursor: pointer;
        }
        
        @media (max-width: 700px) {
          .video-js .vjs-control-bar {
            height: 50px; /* Larger on mobile for easier touch */
          }
          
          .video-js .vjs-button > .vjs-icon-placeholder:before {
            font-size: 24px; /* Larger icons on mobile */
            line-height: 50px;
          }
          
          /* Larger progress bar for mobile */
          .video-js .vjs-progress-control {
            height: 5px !important;
          }
          
          .video-js:hover .vjs-progress-control {
            height: 8px !important;
          }
          
          /* Ensure touch targets are large enough */
          .video-js .vjs-control {
            width: 40px;
          }
          
          .video-js .vjs-play-progress:before {
            font-size: 12px;
            top: -5px;
          }
        }
      `,document.head.appendChild(s),nO=!0}}t.ready(()=>{setTimeout(()=>{const k=t.el().querySelector(".vjs-progress-control");if(k){k.style.width="100%";const A=t.el().querySelector(".vjs-progress-holder");A&&(A.style.width="100%")}},100);const r=document.createElement("button");r.className="vjs-control vjs-button vjs-youtube-settings-button",r.type="button",r.title="Settings";const s=document.createElement("span");s.className="vjs-icon-placeholder",r.appendChild(s);const i=document.createElement("div");i.className="vjs-speed-menu",[.25,.5,.75,1,1.25,1.5,1.75,2].forEach(k=>{const A=document.createElement("div");A.className="vjs-speed-menu-item",A.textContent=k===1?"Normal":`${k}×`,A.dataset.speed=k,t.playbackRate()===k&&A.classList.add("selected"),A.addEventListener("click",()=>{t.playbackRate(k),document.querySelectorAll(".vjs-speed-menu-item").forEach(N=>{N.classList.remove("selected")}),A.classList.add("selected"),i.classList.remove("active")}),i.appendChild(A)}),r.addEventListener("click",k=>{k.stopPropagation(),i.classList.toggle("active")});const l=k=>{!i.contains(k.target)&&!r.contains(k.target)&&i.classList.remove("active")};document.addEventListener("click",l),t.closeMenuHandler_=l;const c=t.getChild("controlBar").el(),u=document.createElement("div");u.className="vjs-youtube-left-controls";const h=document.createElement("div");h.className="vjs-youtube-right-controls";const f=c.querySelector(".vjs-play-control"),m=c.querySelector(".vjs-volume-panel"),g=c.querySelector(".vjs-current-time"),b=c.querySelector(".vjs-time-divider"),y=c.querySelector(".vjs-duration"),x=c.querySelector(".vjs-progress-control"),w=c.querySelector(".vjs-fullscreen-control"),C=c.querySelector(".vjs-picture-in-picture-control");Array.from(c.children).forEach(k=>{k!==x&&!u.contains(k)&&!h.contains(k)&&c.removeChild(k)}),f&&u.appendChild(f),m&&u.appendChild(m),g&&u.appendChild(g),b&&u.appendChild(b),y&&u.appendChild(y),h.appendChild(r),C&&h.appendChild(C),w&&h.appendChild(w),c.appendChild(u),c.appendChild(h),t.el().appendChild(i)})};function Y_e(){var pc,Zs;const[t,e]=_.useState([]),[n,r]=_.useState(!0),[s,i]=_.useState(!0),[a,l]=_.useState(!0),[c,u]=_.useState(!1),[h,f]=_.useState(null),[m,g]=_.useState([]),[b,y]=_.useState(null),[x,w]=_.useState(!1),[C,k]=_.useState(null),[A,N]=_.useState(!1),[P,M]=_.useState([]),[L,D]=_.useState(null),[S,z]=_.useState([]),[O,U]=_.useState(!1),[j,V]=_.useState(!1),[K,te]=_.useState(!1),[J,X]=_.useState(0),[Y,F]=_.useState([]),[H,de]=_.useState([]),[ee,fe]=_.useState(localStorage.getItem("cart_id")||null),[ve,Ce]=_.useState("description"),[De,Ee]=_.useState([]),[Be,Ve]=_.useState(!1),[rt,it]=_.useState(0),[G,Ae]=_.useState(0),[be,re]=_.useState({}),[ne,ce]=_.useState({}),[Te,he]=_.useState(!1),[se,ye]=_.useState(!1),Pe=fr(),[Oe,xe]=_.useState(!1),[at,lt]=_.useState(null),[ze,Le]=_.useState(""),[ct,tt]=_.useState("all"),[He,gt]=_.useState("newest"),[ie,Ie]=_.useState("all"),[We,yt]=_.useState(!1),[Ye,Ze]=_.useState(null),[Z,ae]=_.useState(window.innerWidth<700);_.useEffect(()=>{const we=()=>ae(window.innerWidth<700);return window.addEventListener("resize",we),()=>window.removeEventListener("resize",we)},[]);const me=_.useRef(null),oe=_.useRef(null),Ne=_.useRef(null),xt=_.useRef(null),At=_.useRef(null),$t=()=>{l(!a)},wt=async()=>{var we;try{r(!0);const Je=await mt().get(`student/course-list/${(we=zt())==null?void 0:we.user_id}/`);e(Je.data),r(!1)}catch(Je){Je.response&&Je.response.status===401&&(xn.remove("access_token"),xn.remove("refresh_token"),Pe("/"))}},Jt=we=>{switch(we){case"Beginner":return"#28a745";case"Intermediate":return"#007bff";case"Advanced":return"#dc3545";default:return"#6c757d"}},ir=async we=>{try{const Je=await mt().get(`/course/${we}/lectures/`);g(Je.data)}catch{}},Ir=async we=>{try{const Je=await mt().get(`/course/${we}/progress/`);if(Je.data&&Array.isArray(Je.data.lectures)){const qe={};Je.data.lectures.forEach(pt=>{qe[pt.lecture_id]={percentage:pt.percentage_complete||0,completed:pt.completed||!1,current_time:pt.current_time||0}}),ce(qe)}}catch{}},Wn=async we=>{f(we),await ir(we.id),await Ir(we.id),u(!0)},Qt=we=>{Ze(we.course_id),yt(!0)},gn=()=>{u(!1),f(null),y(null),oe.current&&(oe.current.dispose(),oe.current=null)},qr=async(we=null)=>{const Je=we||At.current||b;if(!(!oe.current||!Je||!h))try{const qe=oe.current.currentTime(),pt=oe.current.duration();await mt().post(`/lecture/${Je.id}/progress/`,{current_time:pt,duration:pt});const ue=await mt().post("/student/track-lecture-completion/",{lecture_id:Je.id,course_id:h.id});ce(Fe=>({...Fe,[Je.id]:{...Fe[Je.id],percentage:100,completed:!0,current_time:pt}})),Eo(Je.id),As();try{const Fe=await mt().get(`/lecture/${Je.id}/quiz/`);Fe.data&&Fe.data.quiz_id&&(lt(Fe.data.quiz_id),xe(!0))}catch{}}catch(qe){qe.response}};_.useEffect(()=>{Object.entries(be).forEach(([we,Je])=>{if(Je&&Je.percentage>=100&&t.find(pt=>pt.course.id===parseInt(we))){const pt=JSON.parse(localStorage.getItem("completedCourses")||"[]");pt.includes(parseInt(we))||(pt.push(parseInt(we)),localStorage.setItem("completedCourses",JSON.stringify(pt)),Qt(parseInt(we)))}})},[be,t]),_.useEffect(()=>{if(oe.current)return oe.current.on("ended",qr),()=>{oe.current&&oe.current.off("ended",qr)}},[b,h]);const Qs=async(we,Je)=>{try{Ve(!0);const pt=(await mt().get(`/course/${we}/lecture/${Je}/resources/`)).data.map(ue=>(ue.file_size&&!isNaN(parseFloat(ue.file_size))&&(ue.file_size=parseFloat(ue.file_size)),ue));Ee(pt)}catch{Ee([])}finally{Ve(!1)}},Vn=async we=>{if(!(!we||!h)&&!((b==null?void 0:b.id)===we.id&&oe.current)){he(!0),y(we),At.current=we;try{let Je;try{if(Je=mt(),!Je)throw new Error("Axios instance is not available.")}catch{he(!1);return}try{await Je.post(`/lecture/${we.id}/progress/`,{current_time:0,duration:0})}catch{}const[qe,pt,ue]=await Promise.all([Je.get(`/lecture/${we.id}/progress/`).catch(Ge=>({data:null})),Je.get(`/lecture/${we.id}/video-metadata/`).catch(Ge=>({data:null})),Qs(h.id,we.id)]);qe!=null&&qe.data&&(it(qe.data.current_time||0),Ae(qe.data.duration||0),ce(Ge=>({...Ge,[we.id]:{percentage:qe.data.percentage_complete||0,completed:qe.data.completed||!1,current_time:qe.data.current_time||0}}))),await new Promise(Ge=>{if(oe.current)try{oe.current.dispose()}catch{}finally{oe.current=null,me.current=null}Ge()}),setTimeout(()=>{var Tt;const Ge=xt.current;if(!Ge){he(!1);return}Ge.firstChild;const bt=document.createElement("video");if(bt.className="video-js vjs-default-skin",bt.setAttribute("controls","true"),bt.setAttribute("preload","auto"),bt.style.width="100%",bt.style.height="100%",Ge.appendChild(bt),me.current=bt,!((Tt=pt==null?void 0:pt.data)!=null&&Tt.url)){me.current&&me.current.parentNode===Ge&&Ge.removeChild(me.current),me.current=null,he(!1);return}const Ct={};try{oe.current=Qe(me.current,Ct),oe.current.ready(()=>{var Vt;if(!oe.current||oe.current.isDisposed())return;let Mt=pt.data.url;const an=pt.data.mime_type||"video/mp4";if(Mt&&Mt.startsWith("/")){const Gt=Je.defaults.baseURL||"https://127.0.0.1:8000",wn=Gt.endsWith("/")?Gt.slice(0,-1):Gt,kn=Mt.startsWith("/")?Mt.slice(1):Mt;Mt=`${wn}/${kn}`}else if(Mt&&!Mt.startsWith("http")){const Gt=Je.defaults.baseURL||"https://127.0.0.1:8000";Mt=`${Gt.endsWith("/")?Gt.slice(0,-1):Gt}/${Mt}`}Mt=Mt.replace(/\\/g,"/"),oe.current.src({src:Mt,type:an}),oe.current.on("timeupdate",Ns),oe.current.on("loadedmetadata",ns),oe.current.on("ended",()=>{At.current&&qr(At.current)}),oe.current.on("error",()=>{he(!1)}),oe.current.on("loadeddata",()=>{he(!1)}),oe.current.on("canplay",()=>{}),So(oe.current),q_e(oe.current);const pn=(Vt=qe==null?void 0:qe.data)==null?void 0:Vt.current_time;pn&&pn>0&&oe.current.currentTime(pn),Te&&he(!1)}),oe.current.on("loadedmetadata",()=>{if(At.current&&At.current.id===we.id){const Mt=oe.current.duration();Mt&&!isNaN(Mt)&&Je.post(`/lecture/${we.id}/progress/`,{current_time:0,duration:Mt}).catch(()=>{})}})}catch{me.current&&me.current.parentNode===Ge&&Ge.removeChild(me.current),me.current=null,he(!1)}},100)}catch{he(!1)}}},ns=()=>{try{if(!oe.current||!b)return;const we=oe.current.duration();if(isNaN(we)||we<=0)return;Ae(we),rt>0&&rt<we&&oe.current.currentTime(rt),b.chapters&&b.chapters.length&&_o(oe.current,b),fc(oe.current)}catch{}},Ns=()=>{if(!(!oe.current||!b))try{const we=oe.current.currentTime(),Je=oe.current.duration();if(isNaN(we)||isNaN(Je)||Je<=0)return;const qe=Bi(we),pt=Bi(Je);it(we);const ue=Math.round(we/Je*100);ce(Ge=>({...Ge,[b.id]:{...Ge[b.id],percentage:ue,current_time:we}}));const Fe=oe.current.lastProgressSave||0;we-Fe>=10&&(bn(),oe.current.lastProgressSave=we)}catch{}},bn=async()=>{if(!(!oe.current||!b))try{const we=oe.current.currentTime(),Je=oe.current.duration();if(isNaN(we)||isNaN(Je)||Je<=0)return;Ne.current&&clearTimeout(Ne.current),Ne.current=setTimeout(async()=>{var qe;try{const pt=await mt().post(`/lecture/${b.id}/progress/`,{current_time:we,duration:Je});if(pt.data){const ue=((qe=ne[b.id])==null?void 0:qe.completed)||!1,Fe=pt.data.completed||!1;ce(Ge=>({...Ge,[b.id]:{percentage:pt.data.percentage_complete||0,completed:pt.data.completed||!1,current_time:pt.data.current_time||0}})),!ue&&Fe&&As()}}catch{}},1e3)}catch{}};_.useEffect(()=>()=>{Ne.current&&(clearTimeout(Ne.current),Ne.current=null),oe.current&&b&&bn()},[b]),_.useEffect(()=>()=>{if(oe.current)try{oe.current.closeMenuHandler_&&document.removeEventListener("click",oe.current.closeMenuHandler_),oe.current.dispose()}catch{}finally{oe.current=null}},[]);const fc=we=>{we&&we.ready(()=>{const Je=we.tech().el_;Je.preload="auto";const qe=Tt=>{if(!Tt||isNaN(Tt)||Tt<=0)return null;const Mt=2,an=[],pn=[];for(let Vt=0;Vt<=Tt;Vt+=Mt){const Gt=Vt/Tt;an.push({time:Vt,position:Gt}),pn.push({index:an.length-1,time:Vt.toFixed(2)+"s",position:(Gt*100).toFixed(2)+"%",formatTime:Bi(Vt)})}return an.length>0&&(an.length>=3&&Math.floor(an.length/2),an.length-1),an},pt=(Tt,Mt)=>{if(!Tt||Tt.length===0)return null;let an=Tt[0],pn=Math.abs(Mt-an.time);for(let Vt=1;Vt<Tt.length;Vt++){const Gt=Math.abs(Mt-Tt[Vt].time);Gt<pn&&(pn=Gt,an=Tt[Vt])}return an};let ue=null;we.on("loadedmetadata",()=>{const Tt=we.duration();Tt&&Tt>0&&(ue=qe(Tt))}),we.on("seeking",()=>{we.addClass("vjs-seeking")}),we.on("seeked",()=>{we.removeClass("vjs-seeking"),it(we.currentTime())});const Fe=we.el().querySelector(".vjs-progress-holder");if(!Fe)return;const Ge=function(Tt){Tt.preventDefault(),Tt.stopPropagation();const Mt=Fe.getBoundingClientRect(),an=Tt.clientX-Mt.left,pn=Math.max(0,Math.min(1,an/Mt.width)),Vt=we.duration();if(isNaN(Vt)||Vt<=0)return!1;let Gt=pn*Vt;if(ue){const wn=pt(ue,Gt);wn&&Math.abs(Gt-wn.time)<.5&&(Gt=wn.time)}try{we.addClass("vjs-seeking"),it(Gt);const wn=!we.paused();wn&&we.pause(),Je.currentTime=Gt,we.currentTime(Gt);const kn=function(){wn&&we.play(),we.off("seeked",kn)};we.on("seeked",kn),setTimeout(()=>{bn()},500)}catch{we.removeClass("vjs-seeking")}return!1};Fe.onclick=null,Fe._clickHandler&&Fe.removeEventListener("click",Fe._clickHandler),Fe._clickHandler=Ge,Fe.addEventListener("click",Ge);const bt=()=>{const Tt=()=>{try{const Mt=we.buffered(),an=we.duration();if(!Mt||!an)return;const pn=we.el().querySelector(".vjs-load-progress");if(!pn)return;pn.innerHTML="";for(let Vt=0;Vt<Mt.length;Vt++){const Gt=Mt.start(Vt)/an*100,wn=(Mt.end(Vt)-Mt.start(Vt))/an*100,kn=document.createElement("div");kn.className="vjs-load-progress-segment",kn.style.left=Gt+"%",kn.style.width=wn+"%",pn.appendChild(kn)}}catch{}};we.on("progress",Tt)},Ct=document.createElement("style");Ct.textContent=`
      .video-js.vjs-seeking .vjs-loading-spinner {
        display: block;
        opacity: 0.8;
        visibility: visible;
      }
      
      .video-js .vjs-progress-holder:hover {
        cursor: pointer;
        height: 6px;
      }
      
      .video-js .vjs-play-progress {
        background-color: generate-color;
      }
      
      .video-js .vjs-time-tooltip {
        padding: 2px 5px;
        background-color: #000;
        border-radius: 3px;
      }
      
     
      .video-js .vjs-load-progress-segment {
        background-color: rgba(255, 255, 255, 0);
      }
    `,we.el().appendChild(Ct),bt()})},Bi=we=>{if(we==null||isNaN(we)||we<0)return"0:00";if(we>=3600){const pt=Math.floor(we/3600),ue=Math.floor(we%3600/60),Fe=Math.floor(we%60);return`${pt}:${ue.toString().padStart(2,"0")}:${Fe.toString().padStart(2,"0")}`}const Je=Math.floor(we/60),qe=Math.floor(we%60);return`${Je}:${qe.toString().padStart(2,"0")}`},_o=(we,Je)=>{!we||!Je.chapters||!Je.chapters.length||we.ready(()=>{const qe=we.duration();if(!qe)return;let pt=we.el().querySelector(".vjs-chapter-markers");if(!pt){pt=document.createElement("div"),pt.className="vjs-chapter-markers",pt.style.position="absolute",pt.style.bottom="34px",pt.style.width="100%",pt.style.height="3px",pt.style.pointerEvents="none";const ue=we.el().querySelector(".vjs-progress-control");ue&&ue.appendChild(pt)}pt.innerHTML="",Je.chapters.forEach(ue=>{const Fe=document.createElement("div");Fe.className="vjs-chapter-marker",Fe.style.position="absolute",Fe.style.height="100%",Fe.style.width="2px",Fe.style.backgroundColor="rgba(255, 255, 255, 0.5)",Fe.style.left=`${ue.time/qe*100}%`,pt.appendChild(Fe)})})},So=we=>{if(!we)return;let Je=!0,qe=null;const pt=()=>{we.isDisposed()||(we.addClass("vjs-controls-hidden"),Je=!1)},ue=()=>{we.isDisposed()||(we.removeClass("vjs-controls-hidden"),Je=!0,qe&&clearTimeout(qe),qe=setTimeout(()=>{pt()},15e3))},Fe=()=>{Je?pt():ue()};we.on("click",Ct=>{!Ct.target.classList.contains("vjs-tech")&&!Ct.target.classList.contains("vjs-poster")||Fe()}),ue(),we.on("pause",()=>{ue()}),we.on("useractive",()=>{ue()});const Ge=we.el().querySelector(".vjs-tech");Ge&&Ge.addEventListener("touchstart",()=>{Fe()});const bt=document.createElement("style");bt.textContent=`
    .video-js.vjs-controls-hidden .vjs-control-bar {
      opacity: 0 !important;
      pointer-events: none;
      transition: opacity 0.3s ease;
    }
    
    .video-js:not(.vjs-controls-hidden) .vjs-control-bar {
      opacity: 1 !important;
      pointer-events: auto;
      transition: opacity 0.3s ease;
    }
  `,document.head.appendChild(bt)},yi=we=>{const Je=document.createElement("a");fetch(we.file_url).then(qe=>qe.blob()).then(qe=>{const pt=window.URL.createObjectURL(qe);Je.href=pt,Je.download=we.title+(we.file_type?"."+we.file_type:""),Je.target="_self",document.body.appendChild(Je),Je.click(),setTimeout(()=>{document.body.removeChild(Je),window.URL.revokeObjectURL(pt)},100)}).catch(qe=>{nt().fire({icon:"error",title:"Download failed. Please try again."})})};_.useEffect(()=>{var qe;const we=setTimeout(()=>{i(!1)},3e3);if(!((qe=zt())==null?void 0:qe.user_id)){xn.remove("access_token"),xn.remove("refresh_token"),Pe("/");return}return wt(),As(),()=>clearTimeout(we)},[]),_.useEffect(()=>{const we=localStorage.getItem("user_cart");if(we)try{const qe=JSON.parse(we);z(qe);const pt=qe.reduce((ue,Fe)=>{const Ge=typeof Fe.price=="string"?parseFloat(Fe.price):Fe.price;return ue+(isNaN(Ge)?0:Ge)},0);X(pt)}catch{}const Je=localStorage.getItem("cart_id");Je&&fe(Je)},[]),_.useEffect(()=>{(async()=>{var Je;try{if(!((Je=zt())==null?void 0:Je.user_id))return;const pt=localStorage.getItem("user_cart");if(pt)try{const ue=JSON.parse(pt);z(ue);const Fe=ue.reduce((Ge,bt)=>{const Ct=typeof bt.price=="string"?parseFloat(bt.price):bt.price;return Ge+(isNaN(Ct)?0:Ct)},0);X(Fe)}catch{}else{const ue=localStorage.getItem("cart_id");if(ue){const Fe=await mt().get(`/course/cart-list/${ue}/`);if(Fe.data&&Array.isArray(Fe.data)){const Ge=Fe.data.map(Ct=>({id:Ct.course.id,title:Ct.course.title,price:parseFloat(Ct.price).toFixed(2),image:Ct.course.image,level:Ct.course.level,cartId:ue}));z(Ge),localStorage.setItem("user_cart",JSON.stringify(Ge));const bt=Ge.reduce((Ct,Tt)=>{const Mt=typeof Tt.price=="string"?parseFloat(Tt.price):Tt.price;return Ct+(isNaN(Mt)?0:parseFloat(Mt))},0);X(bt)}}}}catch{}})()},[]),_.useEffect(()=>{(async()=>{var ue;const Je=(ue=zt())==null?void 0:ue.user_id;if(!Je)return;let qe=localStorage.getItem("cart_id");const pt=`user_${Je}`;(!qe||!qe.includes(Je))&&(qe=pt,localStorage.setItem("cart_id",qe),fe(qe));try{const Fe=await mt().get(`/course/cart-list/${qe}/`);if(Fe.data&&Array.isArray(Fe.data)){const Ge=Fe.data.map(Ct=>({id:Ct.course.id,title:Ct.course.title,price:parseFloat(Ct.price).toFixed(2),image:Ct.course.image,level:Ct.course.level}));z(Ge);const bt=Ge.reduce((Ct,Tt)=>{const Mt=typeof Tt.price=="string"?parseFloat(Tt.price):Tt.price;return Ct+(isNaN(Mt)?0:parseFloat(Mt))},0);X(bt)}}catch{}})()},[(pc=zt())==null?void 0:pc.user_id]),_.useEffect(()=>{var qe;const we=new URLSearchParams(window.location.search);if(we.get("payment")==="success"){nt().fire({icon:"success",title:"Payment Successful!",text:"Your course enrollment is complete. You can now access your courses."});const pt=window.location.pathname;window.history.replaceState({},document.title,pt),we.get("order")&&(wt(),z([]),(qe=zt())!=null&&qe.user_id&&(localStorage.removeItem("user_cart"),Or()))}},[]);const qn=we=>{const Je=we.target.value;Le(Je)},ml=we=>{k(we),w(!0)},Co=()=>{w(!1),k(null)},Ka=async()=>{var we;try{const Je=(we=zt())==null?void 0:we.user_id;if(!Je)return;const pt=(await mt().get(`/student/unbought-courses/${Je}/`)).data.map(ue=>{if(!ue.image)return ue;if(!ue.image.startsWith("http")&&!ue.image.startsWith("https")){const Fe=ue.image.startsWith("/")?ue.image:`/${ue.image}`;return{...ue,image:`${ui}${Fe}`}}return ue});M(pt)}catch{}},ur=async()=>{try{const we=await mt().get("/subscription/")}catch{nt().fire({icon:"error",title:"Failed to fetch subscription details."})}},gl=async()=>{await Ka(),await ur(),await ha(),N(!0)},To=()=>{N(!1)},$i=async we=>{try{const Je=await mt().post("/subscription/add-courses/",{course_id:we});if(Je.data.message)if(Je.data.courses&&Je.data.courses.length>0){const qe=Je.data.courses[0],pt={course:qe,completed_lesson:[],date:new Date().toISOString()};e(ue=>[...ue,pt]),wt(),nt().fire({icon:"success",title:`${qe.title} added to your courses!`}),M(P.filter(ue=>ue.id!==we))}else nt().fire({icon:"success",title:"Course added to your library!"}),wt(),Ka()}catch(Je){Je.response&&Je.response.data,nt().fire({icon:"error",title:"Failed to add course to your library."})}},bi=async we=>{var Je;try{const qe=typeof we.price=="string"?parseFloat(we.price):we.price;if(isNaN(qe)){nt().fire({icon:"error",title:"Cannot add course with invalid price."});return}if(S.some(Ge=>Ge.id===we.id)){nt().fire({icon:"info",title:"This course is already in your cart"});return}const ue=(Je=zt())==null?void 0:Je.user_id;if(!ue){nt().fire({icon:"error",title:"You must be logged in to add items to cart"});return}const Fe=`user_${ue}`;localStorage.setItem("cart_id",Fe),await mt().post("/course/cart/",{course_id:we.id,user_id:ue,price:qe,country_name:"South Africa",cart_id:Fe}),await fa(Fe),nt().fire({icon:"success",title:`${we.title} added to cart!`})}catch{nt().fire({icon:"error",title:"Failed to add course to cart."})}},yl=async we=>{var Je;try{const qe=(Je=zt())==null?void 0:Je.user_id;if(!qe){nt().fire({icon:"error",title:"You must be logged in to manage your cart"});return}const pt=localStorage.getItem("cart_id")||`user_${qe}`;await mt().delete(`/course/cart-item-delete/${pt}/${we}/`),await fa(pt),nt().fire({icon:"success",title:"Item removed from cart"})}catch{nt().fire({icon:"error",title:"Failed to remove item from cart"})}},da=()=>S.reduce((Je,qe)=>{const pt=typeof qe.price=="string"?parseFloat(qe.price):qe.price;return Je+(isNaN(pt)?0:pt)},0),ko=async()=>{var we,Je,qe;try{if(te(!0),S.length===0){nt().fire({icon:"warning",title:"Your cart is empty!"});return}const pt=(we=zt())==null?void 0:we.user_id;if(!pt){nt().fire({icon:"error",title:"You must be logged in to checkout"});return}const ue=`user_${pt}`,Fe=await mt().post("/order/create-order/",{full_name:((Je=zt())==null?void 0:Je.full_name)||"",email:((qe=zt())==null?void 0:qe.email)||"",country:"South Africa",cart_id:ue,user_id:pt});if(!Fe.data||!Fe.data.order_oid)throw new Error("Failed to create order");const Ge=Fe.data.order_oid,bt=await mt().post("/payment/create-checkout/",{order_oid:Ge,amount:da()*100});if(bt.data&&bt.data.redirectUrl)nt().fire({icon:"info",title:"Redirecting to payment page..."}),window.location.href=bt.data.redirectUrl;else throw new Error("No redirect URL received from payment processor")}catch(pt){let ue="Payment processing error. Please try again.";pt.response&&pt.response.data&&(pt.response.data.error&&(ue=pt.response.data.error),pt.response.data.details),nt().fire({icon:"error",title:ue})}finally{te(!1)}},Or=async()=>{try{const we=localStorage.getItem("cart_id");if(!we)return;for(const Je of S)await mt().delete(`/course/cart-item-delete/${we}/${Je.id}/`);await ha(),nt().fire({icon:"success",title:"Cart cleared"})}catch{nt().fire({icon:"error",title:"Failed to clear cart"})}},ha=async(we=!1)=>{var Je;try{const qe=(Je=zt())==null?void 0:Je.user_id;if(!qe)return;let pt=localStorage.getItem("cart_id");if(!pt||we){const Fe=new Date().getTime(),Ge=Math.random().toString(36).substring(2,8);pt=`cart_${Fe}_${Ge}_${qe}`,localStorage.setItem("cart_id",pt),fe(pt)}const ue=await mt().get(`/course/cart-list/${pt}/`);if(ue.data&&Array.isArray(ue.data)){const Fe=ue.data.map(bt=>({id:bt.course.id,title:bt.course.title,price:parseFloat(bt.price).toFixed(2),image:bt.course.image,level:bt.course.level,cartItemId:bt.id}));z(Fe);const Ge=Fe.reduce((bt,Ct)=>{const Tt=typeof Ct.price=="string"?parseFloat(Ct.price):Ct.price;return bt+(isNaN(Tt)?0:parseFloat(Tt))},0);X(Ge)}else z([]),X(0)}catch{}},rs=async()=>{await ha(),U(!0)},fa=async we=>{try{if(!we&&(we=localStorage.getItem("cart_id"),!we))return;const Je=await mt().get(`/course/cart-list/${we}/`);if(Je.data&&Array.isArray(Je.data)){const qe=Je.data.map(ue=>({id:ue.course.id,title:ue.course.title,price:parseFloat(ue.price).toFixed(2),image:ue.course.image,level:ue.course.level}));z(qe);const pt=qe.reduce((ue,Fe)=>{const Ge=typeof Fe.price=="string"?parseFloat(Fe.price):Fe.price;return ue+(isNaN(Ge)?0:parseFloat(Ge))},0);X(pt)}}catch{}},Xa=()=>{U(!1),V(!0)},pa=()=>{let we=[...t];ze&&(we=we.filter(qe=>qe.course.title.toLowerCase().includes(ze.toLowerCase()))),ct==="completed"?we=we.filter(qe=>(be[qe.course.id]||{percentage:0}).percentage>=100):ct==="in_progress"&&(we=we.filter(qe=>{const pt=be[qe.course.id]||{percentage:0};return pt.percentage>0&&pt.percentage<100})),we.sort((qe,pt)=>He==="newest"?new Date(pt.date)-new Date(qe.date):He==="oldest"?new Date(qe.date)-new Date(pt.date):He==="title_asc"?qe.course.title.localeCompare(pt.course.title):He==="title_desc"?pt.course.title.localeCompare(qe.course.title):0);const Je={Beginner:we.filter(qe=>qe.course&&qe.course.level==="Beginner"),Intermediate:we.filter(qe=>qe.course&&qe.course.level==="Intermediate"),Advanced:we.filter(qe=>qe.course&&qe.course.level==="Advanced")};if(ie&&ie!=="all"){const qe={};return qe[ie]=Je[ie],qe}return Je},As=async()=>{var we;try{const Je=(we=zt())==null?void 0:we.user_id;if(!Je)return;const qe=await mt().get(`/student/${Je}/progress/`);if(qe.data&&Array.isArray(qe.data)){const pt={};qe.data.forEach(ue=>{pt[ue.course_id]={percentage:ue.progress||0,completed_lectures:ue.completed_lectures||0,total_lectures:ue.total_lectures||0}}),re(pt)}}catch{}},Eo=async we=>{try{const Je=await mt().get(`/lecture/${we}/progress/`);if(Je.data)return ce(qe=>({...qe,[we]:{percentage:Je.data.percentage_complete||0,completed:Je.data.completed||!1,current_time:Je.data.current_time||0}})),Je.data}catch{return null}};_.useEffect(()=>()=>{Ne.current&&clearTimeout(Ne.current),oe.current&&b&&bn()},[b]);const ma=we=>we?(we=we.toLowerCase(),we==="pdf"?"file-pdf":["doc","docx"].includes(we)?"file-word":["xls","xlsx"].includes(we)?"file-excel":["ppt","pptx"].includes(we)?"file-powerpoint":["jpg","jpeg","png","gif"].includes(we)?"file-image":["mp3","wav","ogg"].includes(we)?"file-audio":["mp4","mov","avi"].includes(we)?"file-video":["zip","rar","7z"].includes(we)?"file-archive":"file"):"file",jo=we=>{if(we==null||isNaN(we))return"Unknown size";if(we===0)return"0 KB";const Je=["KB","MB","GB","TB"];if(we<1024)return"1 KB";const qe=we/1024,pt=Math.floor(Math.log(qe)/Math.log(1024));let ue=0;return pt===1?ue=1:pt>=2&&(ue=2),`${(qe/Math.pow(1024,pt)).toFixed(ue)} ${Je[pt]}`};return _.useEffect(()=>{async function we(){try{const Je=await mt().get("/user/appearance-settings/");Je.data&&Je.data.dark_mode!==void 0&&ye(Je.data.dark_mode)}catch{}}we()},[]),o.jsxs("div",{style:{display:"flex",minHeight:"100vh"},children:[!Z&&o.jsx(dc,{sidebarCollapsed:a}),o.jsxs("div",{style:{flex:1,marginLeft:Z?0:a?"80px":"270px",transition:"margin-left 0.3s ease"},children:[o.jsx(Fi,{sidebarCollapsed:a,toggleSidebar:$t,children:o.jsxs("button",{className:"btn btn-secondary",onClick:Xa,style:{marginLeft:"auto"},children:["Cart (",S.length,")"]})}),o.jsxs("div",{style:{padding:"20px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[o.jsx("h4",{children:"My Courses"}),o.jsx("button",{className:"btn btn-primary",onClick:gl,children:"Add More"})]}),o.jsx("div",{className:"mb-4",children:o.jsxs(Ss,{children:[o.jsx(Tn,{md:4,className:"mb-3 mb-md-0",children:o.jsx(Ue.Group,{children:o.jsxs(E4,{children:[o.jsx(E4.Text,{children:o.jsx("i",{className:"fas fa-search"})}),o.jsx(Ue.Control,{type:"search",placeholder:"Search your courses",value:ze,onChange:qn,style:{backgroundColor:se?"rgb(255, 255, 255)":"rgb(247, 247, 247)",border:se?"1px solid rgba(89, 89, 89, 0.8)":"1px solid rgba(164, 164, 164, 0.8)",color:"black"}})]})})}),o.jsx(Tn,{md:3,children:o.jsx(Ue.Group,{children:o.jsxs(Ue.Select,{value:ie,onChange:we=>Ie(we.target.value),className:se?"bg-dark text-white border-secondary":"",style:{backgroundColor:se?"rgb(255, 255, 255)":"rgb(247, 247, 247)",border:se?"1px solid rgba(89, 89, 89, 0.8)":"1px solid rgba(164, 164, 164, 0.8)",color:"black"},children:[o.jsx("option",{value:"all",children:"All Categories"}),o.jsx("option",{value:"Beginner",children:"Beginner"}),o.jsx("option",{value:"Intermediate",children:"Intermediate"}),o.jsx("option",{value:"Advanced",children:"Advanced"})]})})}),o.jsx(Tn,{md:3,children:o.jsx(Ue.Group,{children:o.jsxs(Ue.Select,{value:He,onChange:we=>gt(we.target.value),className:se?"bg-dark text-white border-secondary":"",style:{backgroundColor:se?"rgb(255, 255, 255)":"rgb(247, 247, 247)",border:se?"1px solid rgba(89, 89, 89, 0.8)":"1px solid rgba(164, 164, 164, 0.8)",color:"black"},children:[o.jsx("option",{value:"newest",children:"Newest First"}),o.jsx("option",{value:"oldest",children:"Oldest First"}),o.jsx("option",{value:"title_asc",children:"Title (A-Z)"}),o.jsx("option",{value:"title_desc",children:"Title (Z-A)"})]})})}),o.jsx(Tn,{md:2,children:o.jsx(Ue.Group,{children:o.jsxs(Ue.Select,{value:ct,onChange:we=>tt(we.target.value),className:se?"bg-dark text-white border-secondary":"",style:{backgroundColor:se?"rgb(255, 255, 255)":"rgb(247, 247, 247)",border:se?"1px solid rgba(89, 89, 89, 0.8)":"1px solid rgba(164, 164, 164, 0.8)",color:"black"},children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"completed",children:"Completed"}),o.jsx("option",{value:"in_progress",children:"In Progress"})]})})})]})}),n&&o.jsx("p",{children:"Loading..."}),!n&&Object.keys(pa()).map(we=>{const Je=pa()[we];return Je.length===0?null:o.jsxs("div",{style:{marginBottom:"40px"},children:[o.jsxs("h5",{children:[we," Courses"]}),o.jsxs(Ss,{children:[Je.slice(0,5).map((qe,pt)=>{const ue=be[qe.course.id]||{percentage:0},Fe=ue.percentage>=100;return o.jsx(Tn,{md:6,lg:4,xl:3,className:"mb-4",children:o.jsxs(Lt,{className:`h-100 ${se?"bg-dark text-white":""}`,style:{boxShadow:se?"0 0 10px rgba(0, 0, 0, 0.5)":"0 0 10px rgba(0, 0, 0, 0.1)",border:"none",overflow:"hidden"},children:[o.jsx("div",{className:"position-relative",children:o.jsxs("div",{style:{height:"180px",overflow:"hidden"},children:[qe.course.image?o.jsx("img",{src:qe.course.image,alt:"course",style:{width:"100%",height:"100%",objectFit:"cover"}}):o.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#4286f4",color:"white",fontSize:"32px",fontWeight:"bold"},children:qe.course.title&&typeof qe.course.title=="string"?qe.course.title.charAt(0).toUpperCase():"?"}),Fe&&o.jsx("div",{style:{position:"absolute",top:"10px",right:"10px",backgroundColor:"#28a745",color:"white",padding:"3px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:"bold"},children:"Completed"}),qe.added_via_subscription&&o.jsx("div",{style:{position:"absolute",top:Fe?"40px":"10px",right:"10px",backgroundColor:"#007bff",color:"white",padding:"3px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:"bold"},children:"Subscription"})]})}),o.jsxs(Lt.Body,{className:"d-flex flex-column",children:[o.jsx("div",{className:"fw-bold mb-2",style:{fontSize:"16px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:qe.course.title}),o.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[o.jsx("span",{style:{backgroundColor:Jt(qe.course.level),color:"white",padding:"2px 6px",borderRadius:"4px",fontSize:"11px"},children:qe.course.level}),o.jsx("small",{style:{color:se?"#aaa":"#6c757d"},children:Bt(qe.date).format("MMM D, YYYY")})]}),o.jsx("div",{className:"progress mb-3",style:{height:"5px"},children:o.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${ue.percentage}%`,backgroundColor:"#EF4135"}})}),o.jsxs("div",{className:"mt-auto",children:[o.jsx("button",{className:"btn btn-primary w-100",onClick:()=>Wn(qe.course),children:ue.percentage>0?"Continue":"Start"}),ue&&ue.percentage>=100&&o.jsxs("button",{className:"btn btn-outline-success btn-sm mt-2",onClick:Ge=>{Ge.stopPropagation(),Qt(qe.course)},children:[o.jsx("i",{className:"fas fa-certificate me-1"}),"View Certificate"]})]})]})]})},pt)}),Je.length>5&&o.jsx(Tn,{md:6,lg:4,xl:3,className:"mb-4",children:o.jsx(Lt,{className:`h-100 d-flex justify-content-center align-items-center ${se?"bg-dark text-white":""}`,style:{backgroundColor:"#007bff",color:"white",cursor:"pointer",boxShadow:se?"0 0 10px rgba(0, 0, 0, 0.5)":"0 0 10px rgba(0, 0, 0, 0.1)",height:"280px"},onClick:()=>ml(we),children:o.jsxs(Lt.Body,{className:"d-flex flex-column justify-content-center align-items-center text-center",children:[o.jsx("i",{className:"fas fa-th-large mb-3",style:{fontSize:"32px"}}),o.jsx("h5",{children:"View More"})]})})})]})]},we)}),t.length===0&&!n&&o.jsx("p",{children:"No courses found. Start adding courses!"})]})]}),c&&h&&o.jsx("div",{className:`lecture-popup ${se?"dark":""}`,style:{position:"fixed",top:Z?"0":"60px",left:Z?"0":a?"80px":"270px",width:Z?"100%":`calc(100% - ${a?"80px":"270px"})`,height:Z?"100vh":"calc(100vh - 60px)",backgroundColor:se?"#121212":"#fff",color:se?"#e0e0e0":"inherit",zIndex:1e3,display:"flex",flexDirection:Z?"column":"row",overflow:"hidden",transition:"left 0.3s ease, width 0.3s ease"},children:Z?o.jsxs(o.Fragment,{children:[o.jsxs("div",{style:{padding:"15px",backgroundColor:se?"#1e1e1e":"#f8f8f8",borderBottom:se?"1px solid #333":"1px solid #eee",display:"flex",alignItems:"center",justifyContent:"space-between",zIndex:10},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[o.jsx("div",{style:{marginRight:"15px"},children:o.jsx(rO,{percentage:m.length>0?Math.round(Object.values(ne).filter(we=>we.completed).length/m.length*100):0,size:50,strokeWidth:5,strokeColor:"#4285f4"})}),o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:"bold",fontSize:"14px"},children:"COURSE PROGRESS"}),o.jsxs("div",{style:{fontSize:"12px",color:"#777"},children:[Object.values(ne).filter(we=>we.completed).length,"/",m.length]})]})]}),o.jsx("button",{onClick:gn,style:{background:"none",border:"none",fontSize:"22px",cursor:"pointer",color:"#666",padding:"8px"},children:"×"})]}),o.jsx("div",{style:{padding:"10px 15px",backgroundColor:se?"#1e1e1e":"#f8f8f8",color:se?"#e0e0e0":"#333",borderBottom:se?"1px solid #333":"1px solid #eee",fontWeight:"bold",fontSize:"16px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:h.title}),o.jsx("div",{ref:xt,style:{width:"100%",height:"30vh",backgroundColor:"#000",position:"relative",overflow:"hidden"},children:Te&&o.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.7)",zIndex:10},children:o.jsx("div",{className:"spinner-border text-light",role:"status",children:o.jsx("span",{className:"visually-hidden",children:"Loading..."})})})}),o.jsxs("div",{style:{display:"flex",borderBottom:se?"1px solid #333":"1px solid #ddd",backgroundColor:se?"#1e1e1e":"#f8f8f8",flexShrink:0},children:[o.jsx("div",{onClick:()=>Ce("description"),style:{padding:"10px 15px",cursor:"pointer",fontWeight:ve==="description"?"bold":"normal",color:ve==="description"?"#4285f4":se?"#e0e0e0":"inherit",borderBottom:ve==="description"?"2px solid #4285f4":"none",width:"50%",textAlign:"center"},children:"Description"}),o.jsx("div",{onClick:()=>Ce("resources"),style:{padding:"10px 15px",cursor:"pointer",fontWeight:ve==="resources"?"bold":"normal",color:ve==="resources"?"#4285f4":se?"#e0e0e0":"inherit",borderBottom:ve==="resources"?"2px solid #4285f4":"none",width:"50%",textAlign:"center"},children:"Resources"})]}),o.jsxs("div",{style:{flex:"0 0 auto",height:"20vh",overflowY:"auto",padding:"15px",backgroundColor:se?"#121212":"#fff",color:se?"#e0e0e0":"inherit"},children:[ve==="description"&&b&&o.jsxs("div",{children:[o.jsx("h5",{children:b.title||"Lecture Title"}),o.jsx("p",{children:b.description||"Lecture description goes here..."})]}),ve==="resources"&&o.jsxs("div",{children:[o.jsx("h5",{children:"Resources"}),Be?o.jsx("div",{className:"d-flex justify-content-center my-4",children:o.jsx("div",{className:"spinner-border text-primary",role:"status",children:o.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):De.length>0?o.jsx("div",{className:"list-group mt-2",children:De.map(we=>{var Je;return o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px",marginBottom:"8px",borderRadius:"4px",cursor:"pointer",backgroundColor:se?"#2a2a2a":"#fff",border:se?"1px solid #444":"1px solid rgb(0, 114, 254)",color:se?"#e0e0e0":"inherit"},className:"list-group-item-action",children:[o.jsx("div",{children:o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("i",{className:`fas fa-${ma(we.file_type)} me-2 text-primary`,style:{fontSize:"14px"}}),o.jsxs("div",{children:[o.jsx("h6",{className:"mb-0",style:{color:se?"#fff":"inherit",fontSize:"14px"},children:we.title}),o.jsxs("small",{style:{color:se?"#aaa":"#6c757d",fontSize:"12px"},children:[((Je=we.file_type)==null?void 0:Je.toUpperCase())||"Unknown"," • ",jo(we.file_size)]})]})]})}),o.jsx("button",{style:{color:se?"#4285f4":"",borderColor:"#4285f4",backgroundColor:se?"transparent":"",padding:"4px 8px",fontSize:"12px"},className:"btn btn-sm btn-outline-primary",onClick:()=>yi(we),children:o.jsx("i",{className:"fas fa-download"})})]},we.id)})}):b?o.jsxs("div",{className:"alert mt-3",style:{backgroundColor:se?"#2a3f54":"#cff4fc",color:se?"#8fcaff":"#055160",borderColor:se?"#1f3146":"#b6effb"},children:[o.jsx("i",{className:"fas fa-info-circle me-2"}),"No resources available for this lecture."]}):o.jsx("p",{style:{color:se?"#aaa":"#6c757d"},className:"mt-3",children:"Select a lecture to view its resources."})]}),!b&&ve==="description"&&o.jsx("p",{children:"Select a lecture to view its description."})]}),o.jsxs("div",{style:{flex:1,overflowY:"auto",backgroundColor:se?"#121212":"#fff",borderTop:se?"1px solid #333":"1px solid #eee"},children:[o.jsx("div",{style:{padding:"10px 15px",backgroundColor:se?"#1e1e1e":"#f8f8f8",borderBottom:se?"1px solid #333":"1px solid #eee",fontSize:"14px",fontWeight:"bold"},children:"Lectures"}),o.jsx("ul",{style:{listStyle:"none",padding:"0",margin:0},children:m.map(we=>{const Je=ne[we.id]||{completed:!1},qe=(b==null?void 0:b.id)===we.id;return o.jsxs("li",{style:{cursor:"pointer",padding:"12px 15px",backgroundColor:qe?"#4285f4":se?"#121212":"transparent",color:qe?"rgb(255, 255, 255)":se?"#e0e0e0":"#333",borderBottom:se?"1px solid #333":"1px solid #eee",display:"flex",alignItems:"center",transition:"all 0.2s ease"},onClick:()=>Vn(we),children:[o.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",marginRight:"10px",backgroundColor:qe?"#fff":Je.completed?"#4285f4":se?"#555":"#ccc"}}),o.jsx("span",{style:{fontSize:"14px"},children:we.title})]},we.id)})})]}),Oe&&at&&o.jsx(eO,{quizId:at,show:Oe,onClose:()=>xe(!1)})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{style:{flex:2,display:"flex",flexDirection:"column",height:"100%",overflow:"hidden",borderRight:se?"1px solid #333":"1px solid #ddd"},children:[o.jsx("div",{ref:xt,style:{width:"100%",height:"60%",backgroundColor:"#000",position:"relative",overflow:"hidden"},children:Te&&o.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.7)",zIndex:10},children:o.jsx("div",{className:"spinner-border text-light",role:"status",children:o.jsx("span",{className:"visually-hidden",children:"Loading..."})})})}),o.jsxs("div",{style:{display:"flex",borderBottom:se?"1px solid #333":"1px solid #ddd",backgroundColor:se?"#1e1e1e":"#f8f8f8",flexShrink:0},children:[o.jsx("div",{onClick:()=>Ce("description"),style:{padding:"10px 20px",cursor:"pointer",fontWeight:ve==="description"?"bold":"normal",color:se?"#e0e0e0":"inherit"},children:"Description"}),o.jsx("div",{onClick:()=>Ce("resources"),style:{padding:"10px 20px",cursor:"pointer",fontWeight:ve==="resources"?"bold":"normal",color:se?"#e0e0e0":"inherit"},children:"Resources"})]}),o.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"20px",backgroundColor:se?"#121212":"#fff",color:se?"#e0e0e0":"inherit"},children:[ve==="description"&&b&&o.jsxs("div",{children:[o.jsx("h4",{children:b.title||"Lecture Title"}),o.jsx("p",{children:b.description||"Lecture description goes here..."})]}),ve==="resources"&&o.jsx("div",{children:o.jsx("h4",{children:"Resources"})}),!b&&ve==="description"&&o.jsx("p",{children:"Select a lecture to view its description."})]})]}),o.jsxs("div",{style:{width:"400px",backgroundColor:se?"#121212":"#fff",color:se?"#e0e0e0":"inherit",display:"flex",flexDirection:"column",height:"100%",position:"relative"},children:[o.jsx("div",{style:{padding:"15px 20px",display:"flex",alignItems:"center",justifyContent:"space-between",borderBottom:"1px solid #eee"}}),o.jsx("div",{style:{padding:"15px 20px",backgroundColor:"rgba(0,0,0,0)",borderBottom:"1px solid rgba(0,0,0,0)",borderRadius:"10px",margin:"10px"},children:o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[o.jsx("div",{style:{marginRight:"15px"},children:o.jsx(rO,{percentage:m.length>0?Math.round(Object.values(ne).filter(we=>we.completed).length/m.length*100):0,size:60,strokeWidth:6,strokeColor:"#4285f4"})}),o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:"bold",fontSize:"15px"},children:"COURSE PROGRESS"}),o.jsxs("div",{style:{fontSize:"14px",color:"#777"},children:[Object.values(ne).filter(we=>we.completed).length,"/",m.length]})]})]}),o.jsx("button",{onClick:gn,style:{background:"none",border:"none",fontSize:"18px",fontWeight:"bold",cursor:"pointer",color:"#666"},children:"×"})]})}),o.jsx("div",{style:{padding:"12px 20px",backgroundColor:se?"#1e1e1e":"#f8f8f8",borderBottom:se?"1px solid #333":"1px solid #eee",color:se?"#e0e0e0":"#333",fontWeight:"bold"},children:h.title}),Oe&&at&&o.jsx(eO,{quizId:at,show:Oe,onClose:()=>xe(!1)}),o.jsx("ul",{style:{listStyle:"none",padding:"10px 0",margin:0,overflowY:"auto",flex:1},children:m.map(we=>{const Je=ne[we.id]||{completed:!1},qe=(b==null?void 0:b.id)===we.id;return o.jsxs("li",{style:{cursor:"pointer",padding:"12px 20px",backgroundColor:qe?"#4285f4":se?"#121212":"transparent",color:qe?"rgb(255, 255, 255)":se?"#e0e0e0":"#333",borderBottom:se?"1px solid #333":"1px solid #eee",display:"flex",alignItems:"center",borderRadius:qe?"5px":"0",margin:qe?"0 5px":"0",transition:"all 0.2s ease"},onClick:()=>Vn(we),children:[o.jsx("div",{style:{width:"14px",height:"14px",borderRadius:"50%",marginRight:"12px",backgroundColor:qe?"#fff":Je.completed?"#4285f4":se?"#555":"#ccc",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"}}),o.jsx("span",{style:{fontSize:"14px"},children:we.title})]},we.id)})})]})]})}),x&&C&&o.jsxs("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",maxWidth:"600px",backgroundColor:se?"#121212":"rgb(247, 247, 247)",zIndex:1e3,borderRadius:"10px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",overflow:"hidden"},children:[o.jsxs("div",{style:{backgroundColor:"#007bff",color:"#fff",padding:"15px",textAlign:"center",fontWeight:"bold",fontSize:"18px"},children:[C," Courses",o.jsx("button",{onClick:Co,style:{position:"absolute",top:"10px",right:"10px",background:"transparent",border:"none",fontSize:"20px",fontWeight:"bold",color:"#fff",cursor:"pointer"},children:"×"})]}),o.jsx("div",{style:{padding:"20px",maxHeight:"400px",overflowY:"auto"},children:o.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"15px"},children:pa()[C].map((we,Je)=>((be[we.course.id]||{percentage:0}).percentage>=100,o.jsxs(Lt,{className:`${se?"bg-dark text-white":""}`,style:{width:"220px",boxShadow:se?"0 0 10px rgba(0, 0, 0, 0.5)":"0 0 10px rgba(0, 0, 0, 0.1)",border:"none",overflow:"hidden"},children:[o.jsx("div",{style:{height:"140px",overflow:"hidden",position:"relative"},children:we.course.image?o.jsx("img",{src:we.course.image,alt:"course",style:{width:"100%",height:"100%",objectFit:"cover"}}):o.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#4286f4",color:"white",fontSize:"32px",fontWeight:"bold"},children:we.course.title&&typeof we.course.title=="string"?we.course.title.charAt(0).toUpperCase():"?"})}),o.jsxs(Lt.Body,{children:[o.jsx(Lt.Title,{className:"text-truncate",children:we.course.title}),o.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[o.jsx("span",{style:{backgroundColor:Jt(we.course.level),color:"white",padding:"2px 6px",borderRadius:"4px",fontSize:"11px"},children:we.course.level}),o.jsx("small",{children:Bt(we.date).format("MMM D, YYYY")})]}),o.jsx("div",{className:"mt-2 d-flex justify-content-between align-items-center",children:o.jsxs("span",{className:"fw-bold",style:{fontSize:"18px"},children:["R",parseFloat(we.price||0).toFixed(2)]})}),o.jsx("div",{className:"mt-auto pt-2",children:L!=null&&L.is_active&&(L.include_all_courses||L.courses&&L.courses.includes(we.id))?o.jsx("button",{className:"btn btn-success w-100",onClick:()=>$i(we.id),children:"Add to Library"}):o.jsx("button",{className:"btn btn-primary w-100",onClick:()=>bi(we),children:"Add to Cart"})})]})]},Je)))})})]}),A&&o.jsxs("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",maxWidth:"800px",backgroundColor:se?"#121212":"#fff",zIndex:1e3,borderRadius:"10px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",overflow:"hidden"},children:[o.jsxs("div",{style:{backgroundColor:"#007bff",color:"#fff",padding:"15px",textAlign:"center",fontWeight:"bold",fontSize:"18px",position:"relative"},children:["Add More Courses",o.jsx("button",{onClick:To,style:{position:"absolute",top:"10px",right:"10px",background:"transparent",border:"none",fontSize:"20px",fontWeight:"bold",color:"#fff",cursor:"pointer"},children:"×"}),o.jsxs("div",{style:{position:"absolute",top:"10px",left:"10px",display:"flex",alignItems:"center",cursor:"pointer"},onClick:rs,children:[o.jsx("i",{className:"fas fa-shopping-cart",style:{fontSize:"24px",marginRight:"5px",color:"white"}}),o.jsx("span",{style:{backgroundColor:"red",color:"white",borderRadius:"50%",padding:"2px 6px",fontSize:"12px"},children:S.length})]})]}),o.jsx("div",{style:{padding:"20px",maxHeight:"400px",overflowY:"auto"},children:["Beginner","Intermediate","Advanced"].map(we=>{const Je=P.filter(qe=>qe.level===we);return Je.length===0?null:o.jsxs("div",{style:{marginBottom:"30px"},children:[o.jsxs("h5",{className:"mb-3",children:[we," Courses"]}),o.jsx(Ss,{className:"g-3",children:Je.map(qe=>o.jsx(Tn,{sm:6,md:4,lg:3,children:o.jsxs(Lt,{className:`${se?"bg-dark text-white":""}`,style:{boxShadow:se?"0 0 10px rgba(0, 0, 0, 0.5)":"0 0 10px rgba(0, 0, 0, 0.1)",border:"none",overflow:"hidden"},children:[o.jsx("div",{style:{height:"150px",overflow:"hidden",position:"relative"},children:qe.image?o.jsx("img",{src:qe.image,alt:qe.title,style:{width:"100%",height:"100%",objectFit:"cover"}}):o.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#4286f4",color:"white",fontSize:"32px",fontWeight:"bold"},children:qe.title&&typeof qe.title=="string"?qe.title.charAt(0).toUpperCase():"?"})}),o.jsxs(Lt.Body,{children:[o.jsx(Lt.Title,{className:"text-truncate",children:qe.title}),o.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[o.jsx("span",{style:{backgroundColor:Jt(qe.level),color:"white",padding:"2px 6px",borderRadius:"4px",fontSize:"11px"},children:qe.level}),o.jsx("small",{children:Bt(qe.date).format("MMM D, YYYY")})]}),o.jsx("div",{className:"mt-2 d-flex justify-content-between align-items-center",children:o.jsxs("span",{className:"fw-bold",style:{fontSize:"18px"},children:["R",parseFloat(qe.price||0).toFixed(2)]})}),o.jsx("div",{className:"mt-auto pt-2",children:L!=null&&L.is_active&&(L.include_all_courses||L.courses&&L.courses.includes(qe.id))?o.jsx("button",{className:"btn btn-success w-100",onClick:()=>$i(qe.id),children:"Add to Library"}):o.jsx("button",{className:"btn btn-primary w-100",onClick:()=>bi(qe),children:"Add to Cart"})})]})]})},qe.id))})]},we)})}),Z&&o.jsx(lu,{})]}),O&&o.jsxs("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"400px",backgroundColor:se?"#333":"rgb(247, 247, 247)",border:se?"1px solid rgba(89, 89, 89, 0.8)":"1px solid rgba(164, 164, 164, 0.8)",zIndex:1e3,borderRadius:"10px",padding:"20px"},children:[o.jsx("h5",{children:"Your Cart"}),o.jsx("ul",{children:S.map((we,Je)=>o.jsxs("li",{style:{marginBottom:"10px"},children:[we.title," - R",parseFloat(we.price).toFixed(2)," ",o.jsx("button",{className:"btn btn-danger btn-sm",style:{marginLeft:"10px"},onClick:()=>yl(we.id),children:"Remove"})]},`cart-item-${we.id}-${Je}`))}),o.jsxs("p",{children:["Total: R",J.toFixed(2)]})," ",o.jsx("button",{className:"btn btn-primary",onClick:Xa,style:{marginRight:"10px"},disabled:S.length===0,children:"Checkout"}),o.jsx("button",{className:"btn btn-secondary",onClick:()=>U(!1),children:"Close"})]}),j&&o.jsxs("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"450px",backgroundColor:se?"#333":"rgb(247, 247, 247)",border:se?"1px solid rgba(89, 89, 89, 0.8)":"1px solid rgba(164, 164, 164, 0.8)",zIndex:1e3,borderRadius:"10px",padding:"20px"},children:[o.jsx("h5",{children:"Checkout"}),o.jsx("ul",{children:S.map((we,Je)=>o.jsxs("li",{style:{marginBottom:"10px"},children:[we.title," - R",parseFloat(we.price).toFixed(2),o.jsx("button",{className:"btn btn-danger btn-sm",style:{marginLeft:"10px"},onClick:()=>yl(we.id),children:"Remove"})]},`checkout-item-${we.id}-${Je}`))}),o.jsxs("p",{children:["Total: R",da().toFixed(2)]}),o.jsx("button",{className:"btn btn-success",onClick:ko,disabled:K,style:{marginRight:"10px"},children:K?"Processing...":"Pay with Yoco"}),o.jsx("button",{className:"btn btn-secondary",onClick:()=>V(!1),children:"Close"})]}),We&&o.jsx(I9,{show:We,handleClose:()=>yt(!1),studentId:(Zs=zt())==null?void 0:Zs.user_id,courseId:Ye}),Z&&o.jsx(lu,{}),Z&&o.jsx(lu,{})]})}const rO=({percentage:t,size:e=60,strokeWidth:n=6})=>{const r=(e-n)/2,s=r*2*Math.PI,i=s-t/100*s,a="#4285f4";return o.jsxs("div",{style:{position:"relative",width:e,height:e,display:"inline-block"},children:[o.jsxs("svg",{width:e,height:e,viewBox:`0 0 ${e} ${e}`,style:{transform:"rotate(-90deg)"},children:[o.jsx("circle",{cx:e/2,cy:e/2,r,fill:"transparent",stroke:"#eeeeee",strokeWidth:n}),o.jsx("circle",{cx:e/2,cy:e/2,r,fill:"transparent",stroke:a,strokeWidth:n,strokeDasharray:s,strokeDashoffset:i,strokeLinecap:"round"})]}),o.jsxs("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:`${e/3.5}px`,fontWeight:"bold",color:a},children:[t,"%"]})]})};var kS,sO;function G_e(){if(sO)return kS;sO=1,kS=function(s,i,a){var l=document.head||document.getElementsByTagName("head")[0],c=document.createElement("script");typeof i=="function"&&(a=i,i={}),i=i||{},a=a||function(){},c.type=i.type||"text/javascript",c.charset=i.charset||"utf8",c.async="async"in i?!!i.async:!0,c.src=s,i.attrs&&t(c,i.attrs),i.text&&(c.text=""+i.text);var u="onload"in c?e:n;u(c,a),c.onload||e(c,a),l.appendChild(c)};function t(r,s){for(var i in s)r.setAttribute(i,s[i])}function e(r,s){r.onload=function(){this.onerror=this.onload=null,s(null,r)},r.onerror=function(){this.onerror=this.onload=null,s(new Error("Failed to load "+this.src),r)}}function n(r,s){r.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,s(null,r))}}return kS}var ES,iO;function O9(){if(iO)return ES;iO=1;var t=function(C){return e(C)&&!n(C)};function e(w){return!!w&&typeof w=="object"}function n(w){var C=Object.prototype.toString.call(w);return C==="[object RegExp]"||C==="[object Date]"||i(w)}var r=typeof Symbol=="function"&&Symbol.for,s=r?Symbol.for("react.element"):60103;function i(w){return w.$$typeof===s}function a(w){return Array.isArray(w)?[]:{}}function l(w,C){return C.clone!==!1&&C.isMergeableObject(w)?y(a(w),w,C):w}function c(w,C,k){return w.concat(C).map(function(A){return l(A,k)})}function u(w,C){if(!C.customMerge)return y;var k=C.customMerge(w);return typeof k=="function"?k:y}function h(w){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(w).filter(function(C){return Object.propertyIsEnumerable.call(w,C)}):[]}function f(w){return Object.keys(w).concat(h(w))}function m(w,C){try{return C in w}catch{return!1}}function g(w,C){return m(w,C)&&!(Object.hasOwnProperty.call(w,C)&&Object.propertyIsEnumerable.call(w,C))}function b(w,C,k){var A={};return k.isMergeableObject(w)&&f(w).forEach(function(N){A[N]=l(w[N],k)}),f(C).forEach(function(N){g(w,N)||(m(w,N)&&k.isMergeableObject(C[N])?A[N]=u(N,k)(w[N],C[N],k):A[N]=l(C[N],k))}),A}function y(w,C,k){k=k||{},k.arrayMerge=k.arrayMerge||c,k.isMergeableObject=k.isMergeableObject||t,k.cloneUnlessOtherwiseSpecified=l;var A=Array.isArray(C),N=Array.isArray(w),P=A===N;return P?A?k.arrayMerge(w,C,k):b(w,C,k):l(C,k)}y.all=function(C,k){if(!Array.isArray(C))throw new Error("first argument should be an array");return C.reduce(function(A,N){return y(A,N,k)},{})};var x=y;return ES=x,ES}var jS,aO;function J1(){if(aO)return jS;aO=1;var t=Object.create,e=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,s=Object.getPrototypeOf,i=Object.prototype.hasOwnProperty,a=(X,Y)=>{for(var F in Y)e(X,F,{get:Y[F],enumerable:!0})},l=(X,Y,F,H)=>{if(Y&&typeof Y=="object"||typeof Y=="function")for(let de of r(Y))!i.call(X,de)&&de!==F&&e(X,de,{get:()=>Y[de],enumerable:!(H=n(Y,de))||H.enumerable});return X},c=(X,Y,F)=>(F=X!=null?t(s(X)):{},l(!X||!X.__esModule?e(F,"default",{value:X,enumerable:!0}):F,X)),u=X=>l(e({},"__esModule",{value:!0}),X),h={};a(h,{callPlayer:()=>j,getConfig:()=>O,getSDK:()=>z,isBlobUrl:()=>K,isMediaStream:()=>V,lazy:()=>b,omit:()=>U,parseEndTime:()=>P,parseStartTime:()=>N,queryString:()=>L,randomString:()=>M,supportsWebKitPresentationMode:()=>te}),jS=u(h);var f=c(Wa()),m=c(G_e()),g=c(O9());const b=X=>f.default.lazy(async()=>{const Y=await X();return typeof Y.default=="function"?Y:Y.default}),y=/[?&#](?:start|t)=([0-9hms]+)/,x=/[?&#]end=([0-9hms]+)/,w=/(\d+)(h|m|s)/g,C=/^\d+$/;function k(X,Y){if(X instanceof Array)return;const F=X.match(Y);if(F){const H=F[1];if(H.match(w))return A(H);if(C.test(H))return parseInt(H)}}function A(X){let Y=0,F=w.exec(X);for(;F!==null;){const[,H,de]=F;de==="h"&&(Y+=parseInt(H,10)*60*60),de==="m"&&(Y+=parseInt(H,10)*60),de==="s"&&(Y+=parseInt(H,10)),F=w.exec(X)}return Y}function N(X){return k(X,y)}function P(X){return k(X,x)}function M(){return Math.random().toString(36).substr(2,5)}function L(X){return Object.keys(X).map(Y=>`${Y}=${X[Y]}`).join("&")}function D(X){return window[X]?window[X]:window.exports&&window.exports[X]?window.exports[X]:window.module&&window.module.exports&&window.module.exports[X]?window.module.exports[X]:null}const S={},z=function(Y,F,H=null,de=()=>!0,ee=m.default){const fe=D(F);return fe&&de(fe)?Promise.resolve(fe):new Promise((ve,Ce)=>{if(S[Y]){S[Y].push({resolve:ve,reject:Ce});return}S[Y]=[{resolve:ve,reject:Ce}];const De=Ee=>{S[Y].forEach(Be=>Be.resolve(Ee))};if(H){const Ee=window[H];window[H]=function(){Ee&&Ee(),De(D(F))}}ee(Y,Ee=>{Ee?(S[Y].forEach(Be=>Be.reject(Ee)),S[Y]=null):H||De(D(F))})})};function O(X,Y){return(0,g.default)(Y.config,X.config)}function U(X,...Y){const F=[].concat(...Y),H={},de=Object.keys(X);for(const ee of de)F.indexOf(ee)===-1&&(H[ee]=X[ee]);return H}function j(X,...Y){if(!this.player||!this.player[X]){let F=`ReactPlayer: ${this.constructor.displayName} player could not call %c${X}%c – `;return this.player?this.player[X]||(F+="The method was not available"):F+="The player was not available",console.warn(F,"font-weight: bold",""),null}return this.player[X](...Y)}function V(X){return typeof window<"u"&&typeof window.MediaStream<"u"&&X instanceof window.MediaStream}function K(X){return/^blob:/.test(X)}function te(X=document.createElement("video")){const Y=/iPhone|iPod/.test(navigator.userAgent)===!1;return X.webkitSupportsPresentationMode&&typeof X.webkitSetPresentationMode=="function"&&Y}function J(X){return X}return jS}var NS,oO;function K_e(){if(oO)return NS;oO=1;var t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,r=Object.prototype.hasOwnProperty,s=(j,V)=>{for(var K in V)t(j,K,{get:V[K],enumerable:!0})},i=(j,V,K,te)=>{if(V&&typeof V=="object"||typeof V=="function")for(let J of n(V))!r.call(j,J)&&J!==K&&t(j,J,{get:()=>V[J],enumerable:!(te=e(V,J))||te.enumerable});return j},a=j=>i(t({},"__esModule",{value:!0}),j),l={};s(l,{AUDIO_EXTENSIONS:()=>M,DASH_EXTENSIONS:()=>S,FLV_EXTENSIONS:()=>z,HLS_EXTENSIONS:()=>D,MATCH_URL_DAILYMOTION:()=>k,MATCH_URL_FACEBOOK:()=>g,MATCH_URL_FACEBOOK_WATCH:()=>b,MATCH_URL_KALTURA:()=>P,MATCH_URL_MIXCLOUD:()=>A,MATCH_URL_MUX:()=>m,MATCH_URL_SOUNDCLOUD:()=>h,MATCH_URL_STREAMABLE:()=>y,MATCH_URL_TWITCH_CHANNEL:()=>C,MATCH_URL_TWITCH_VIDEO:()=>w,MATCH_URL_VIDYARD:()=>N,MATCH_URL_VIMEO:()=>f,MATCH_URL_WISTIA:()=>x,MATCH_URL_YOUTUBE:()=>u,VIDEO_EXTENSIONS:()=>L,canPlay:()=>U}),NS=a(l);var c=J1();const u=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,h=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/,f=/vimeo\.com\/(?!progressive_redirect).+/,m=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,g=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/,b=/^https?:\/\/fb\.watch\/.+$/,y=/streamable\.com\/([a-z0-9]+)$/,x=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,w=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/,C=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/,k=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/,A=/mixcloud\.com\/([^/]+\/[^/]+)/,N=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/,P=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/,M=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,L=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,D=/\.(m3u8)($|\?)/i,S=/\.(mpd)($|\?)/i,z=/\.(flv)($|\?)/i,O=j=>{if(j instanceof Array){for(const V of j)if(typeof V=="string"&&O(V)||O(V.src))return!0;return!1}return(0,c.isMediaStream)(j)||(0,c.isBlobUrl)(j)?!0:M.test(j)||L.test(j)||D.test(j)||S.test(j)||z.test(j)},U={youtube:j=>j instanceof Array?j.every(V=>u.test(V)):u.test(j),soundcloud:j=>h.test(j)&&!M.test(j),vimeo:j=>f.test(j)&&!L.test(j)&&!D.test(j),mux:j=>m.test(j),facebook:j=>g.test(j)||b.test(j),streamable:j=>y.test(j),wistia:j=>x.test(j),twitch:j=>w.test(j)||C.test(j),dailymotion:j=>k.test(j),mixcloud:j=>A.test(j),vidyard:j=>N.test(j),kaltura:j=>P.test(j),file:O};return NS}var AS,lO;function X_e(){if(lO)return AS;lO=1;var t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,r=Object.prototype.hasOwnProperty,s=(f,m)=>{for(var g in m)t(f,g,{get:m[g],enumerable:!0})},i=(f,m,g,b)=>{if(m&&typeof m=="object"||typeof m=="function")for(let y of n(m))!r.call(f,y)&&y!==g&&t(f,y,{get:()=>m[y],enumerable:!(b=e(m,y))||b.enumerable});return f},a=f=>i(t({},"__esModule",{value:!0}),f),l={};s(l,{default:()=>h}),AS=a(l);var c=J1(),u=K_e(),h=[{key:"youtube",name:"YouTube",canPlay:u.canPlay.youtube,lazyPlayer:(0,c.lazy)(()=>li(()=>import("./YouTube-D-MXa5Pg.js").then(f=>f.Y),[]))},{key:"soundcloud",name:"SoundCloud",canPlay:u.canPlay.soundcloud,lazyPlayer:(0,c.lazy)(()=>li(()=>import("./SoundCloud-BLFRx9uA.js").then(f=>f.S),[]))},{key:"vimeo",name:"Vimeo",canPlay:u.canPlay.vimeo,lazyPlayer:(0,c.lazy)(()=>li(()=>import("./Vimeo-Ce8gfXEE.js").then(f=>f.V),[]))},{key:"mux",name:"Mux",canPlay:u.canPlay.mux,lazyPlayer:(0,c.lazy)(()=>li(()=>import("./Mux-Bg0pQg_4.js").then(f=>f.M),[]))},{key:"facebook",name:"Facebook",canPlay:u.canPlay.facebook,lazyPlayer:(0,c.lazy)(()=>li(()=>import("./Facebook-DrtVQa6W.js").then(f=>f.F),[]))},{key:"streamable",name:"Streamable",canPlay:u.canPlay.streamable,lazyPlayer:(0,c.lazy)(()=>li(()=>import("./Streamable-uXxd_Km0.js").then(f=>f.S),[]))},{key:"wistia",name:"Wistia",canPlay:u.canPlay.wistia,lazyPlayer:(0,c.lazy)(()=>li(()=>import("./Wistia-C2OZljq6.js").then(f=>f.W),[]))},{key:"twitch",name:"Twitch",canPlay:u.canPlay.twitch,lazyPlayer:(0,c.lazy)(()=>li(()=>import("./Twitch-BdA5FuEd.js").then(f=>f.T),[]))},{key:"dailymotion",name:"DailyMotion",canPlay:u.canPlay.dailymotion,lazyPlayer:(0,c.lazy)(()=>li(()=>import("./DailyMotion-BeT8-MFM.js").then(f=>f.D),[]))},{key:"mixcloud",name:"Mixcloud",canPlay:u.canPlay.mixcloud,lazyPlayer:(0,c.lazy)(()=>li(()=>import("./Mixcloud-CX0LHv1Q.js").then(f=>f.M),[]))},{key:"vidyard",name:"Vidyard",canPlay:u.canPlay.vidyard,lazyPlayer:(0,c.lazy)(()=>li(()=>import("./Vidyard-CDvRJRpy.js").then(f=>f.V),[]))},{key:"kaltura",name:"Kaltura",canPlay:u.canPlay.kaltura,lazyPlayer:(0,c.lazy)(()=>li(()=>import("./Kaltura-CGkx6d8P.js").then(f=>f.K),[]))},{key:"file",name:"FilePlayer",canPlay:u.canPlay.file,canEnablePIP:f=>u.canPlay.file(f)&&(document.pictureInPictureEnabled||(0,c.supportsWebKitPresentationMode)())&&!u.AUDIO_EXTENSIONS.test(f),lazyPlayer:(0,c.lazy)(()=>li(()=>import("./FilePlayer-Cr4D2NFR.js").then(f=>f.F),[]))}];return AS}var cO=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Q_e(t,e){return!!(t===e||cO(t)&&cO(e))}function Z_e(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!Q_e(t[n],e[n]))return!1;return!0}function J_e(t,e){e===void 0&&(e=Z_e);var n,r=[],s,i=!1;function a(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return i&&n===this&&e(l,r)||(s=t.apply(this,l),i=!0,n=this,r=l),s}return a}const e2e=Object.freeze(Object.defineProperty({__proto__:null,default:J_e},Symbol.toStringTag,{value:"Module"})),t2e=oM(e2e);var DS,uO;function M9(){if(uO)return DS;uO=1;var t=typeof Element<"u",e=typeof Map=="function",n=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function s(i,a){if(i===a)return!0;if(i&&a&&typeof i=="object"&&typeof a=="object"){if(i.constructor!==a.constructor)return!1;var l,c,u;if(Array.isArray(i)){if(l=i.length,l!=a.length)return!1;for(c=l;c--!==0;)if(!s(i[c],a[c]))return!1;return!0}var h;if(e&&i instanceof Map&&a instanceof Map){if(i.size!==a.size)return!1;for(h=i.entries();!(c=h.next()).done;)if(!a.has(c.value[0]))return!1;for(h=i.entries();!(c=h.next()).done;)if(!s(c.value[1],a.get(c.value[0])))return!1;return!0}if(n&&i instanceof Set&&a instanceof Set){if(i.size!==a.size)return!1;for(h=i.entries();!(c=h.next()).done;)if(!a.has(c.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(i)&&ArrayBuffer.isView(a)){if(l=i.length,l!=a.length)return!1;for(c=l;c--!==0;)if(i[c]!==a[c])return!1;return!0}if(i.constructor===RegExp)return i.source===a.source&&i.flags===a.flags;if(i.valueOf!==Object.prototype.valueOf&&typeof i.valueOf=="function"&&typeof a.valueOf=="function")return i.valueOf()===a.valueOf();if(i.toString!==Object.prototype.toString&&typeof i.toString=="function"&&typeof a.toString=="function")return i.toString()===a.toString();if(u=Object.keys(i),l=u.length,l!==Object.keys(a).length)return!1;for(c=l;c--!==0;)if(!Object.prototype.hasOwnProperty.call(a,u[c]))return!1;if(t&&i instanceof Element)return!1;for(c=l;c--!==0;)if(!((u[c]==="_owner"||u[c]==="__v"||u[c]==="__o")&&i.$$typeof)&&!s(i[u[c]],a[u[c]]))return!1;return!0}return i!==i&&a!==a}return DS=function(a,l){try{return s(a,l)}catch(c){if((c.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw c}},DS}var PS,dO;function R9(){if(dO)return PS;dO=1;var t=Object.create,e=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,s=Object.getPrototypeOf,i=Object.prototype.hasOwnProperty,a=(L,D)=>{for(var S in D)e(L,S,{get:D[S],enumerable:!0})},l=(L,D,S,z)=>{if(D&&typeof D=="object"||typeof D=="function")for(let O of r(D))!i.call(L,O)&&O!==S&&e(L,O,{get:()=>D[O],enumerable:!(z=n(D,O))||z.enumerable});return L},c=(L,D,S)=>(S=L!=null?t(s(L)):{},l(!L||!L.__esModule?e(S,"default",{value:L,enumerable:!0}):S,L)),u=L=>l(e({},"__esModule",{value:!0}),L),h={};a(h,{defaultProps:()=>M,propTypes:()=>N}),PS=u(h);var f=c(Qv());const{string:m,bool:g,number:b,array:y,oneOfType:x,shape:w,object:C,func:k,node:A}=f.default,N={url:x([m,y,C]),playing:g,loop:g,controls:g,volume:b,muted:g,playbackRate:b,width:x([m,b]),height:x([m,b]),style:C,progressInterval:b,playsinline:g,pip:g,stopOnUnmount:g,light:x([g,m,C]),playIcon:A,previewTabIndex:b,previewAriaLabel:m,fallback:A,oEmbedUrl:m,wrapper:x([m,k,w({render:k.isRequired})]),config:w({soundcloud:w({options:C}),youtube:w({playerVars:C,embedOptions:C,onUnstarted:k}),facebook:w({appId:m,version:m,playerId:m,attributes:C}),dailymotion:w({params:C}),vimeo:w({playerOptions:C,title:m}),mux:w({attributes:C,version:m}),file:w({attributes:C,tracks:y,forceVideo:g,forceAudio:g,forceHLS:g,forceSafariHLS:g,forceDisableHls:g,forceDASH:g,forceFLV:g,hlsOptions:C,hlsVersion:m,dashVersion:m,flvVersion:m}),wistia:w({options:C,playerId:m,customControls:y}),mixcloud:w({options:C}),twitch:w({options:C,playerId:m}),vidyard:w({options:C})}),onReady:k,onStart:k,onPlay:k,onPause:k,onBuffer:k,onBufferEnd:k,onEnded:k,onError:k,onDuration:k,onSeek:k,onPlaybackRateChange:k,onPlaybackQualityChange:k,onProgress:k,onClickPreview:k,onEnablePIP:k,onDisablePIP:k},P=()=>{},M={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:P},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},mux:{attributes:{},version:"2"},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0",forceDisableHls:!1},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:P,onStart:P,onPlay:P,onPause:P,onBuffer:P,onBufferEnd:P,onEnded:P,onError:P,onDuration:P,onSeek:P,onPlaybackRateChange:P,onPlaybackQualityChange:P,onProgress:P,onClickPreview:P,onEnablePIP:P,onDisablePIP:P};return PS}var IS,hO;function n2e(){if(hO)return IS;hO=1;var t=Object.create,e=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,s=Object.getPrototypeOf,i=Object.prototype.hasOwnProperty,a=(k,A,N)=>A in k?e(k,A,{enumerable:!0,configurable:!0,writable:!0,value:N}):k[A]=N,l=(k,A)=>{for(var N in A)e(k,N,{get:A[N],enumerable:!0})},c=(k,A,N,P)=>{if(A&&typeof A=="object"||typeof A=="function")for(let M of r(A))!i.call(k,M)&&M!==N&&e(k,M,{get:()=>A[M],enumerable:!(P=n(A,M))||P.enumerable});return k},u=(k,A,N)=>(N=k!=null?t(s(k)):{},c(!k||!k.__esModule?e(N,"default",{value:k,enumerable:!0}):N,k)),h=k=>c(e({},"__esModule",{value:!0}),k),f=(k,A,N)=>(a(k,typeof A!="symbol"?A+"":A,N),N),m={};l(m,{default:()=>C}),IS=h(m);var g=u(Wa()),b=u(M9()),y=R9(),x=J1();const w=5e3;class C extends g.Component{constructor(){super(...arguments),f(this,"mounted",!1),f(this,"isReady",!1),f(this,"isPlaying",!1),f(this,"isLoading",!0),f(this,"loadOnReady",null),f(this,"startOnPlay",!0),f(this,"seekOnPlay",null),f(this,"onDurationCalled",!1),f(this,"handlePlayerMount",A=>{if(this.player){this.progress();return}this.player=A,this.player.load(this.props.url),this.progress()}),f(this,"getInternalPlayer",A=>this.player?this.player[A]:null),f(this,"progress",()=>{if(this.props.url&&this.player&&this.isReady){const A=this.getCurrentTime()||0,N=this.getSecondsLoaded(),P=this.getDuration();if(P){const M={playedSeconds:A,played:A/P};N!==null&&(M.loadedSeconds=N,M.loaded=N/P),(M.playedSeconds!==this.prevPlayed||M.loadedSeconds!==this.prevLoaded)&&this.props.onProgress(M),this.prevPlayed=M.playedSeconds,this.prevLoaded=M.loadedSeconds}}this.progressTimeout=setTimeout(this.progress,this.props.progressFrequency||this.props.progressInterval)}),f(this,"handleReady",()=>{if(!this.mounted)return;this.isReady=!0,this.isLoading=!1;const{onReady:A,playing:N,volume:P,muted:M}=this.props;A(),!M&&P!==null&&this.player.setVolume(P),this.loadOnReady?(this.player.load(this.loadOnReady,!0),this.loadOnReady=null):N&&this.player.play(),this.handleDurationCheck()}),f(this,"handlePlay",()=>{this.isPlaying=!0,this.isLoading=!1;const{onStart:A,onPlay:N,playbackRate:P}=this.props;this.startOnPlay&&(this.player.setPlaybackRate&&P!==1&&this.player.setPlaybackRate(P),A(),this.startOnPlay=!1),N(),this.seekOnPlay&&(this.seekTo(this.seekOnPlay),this.seekOnPlay=null),this.handleDurationCheck()}),f(this,"handlePause",A=>{this.isPlaying=!1,this.isLoading||this.props.onPause(A)}),f(this,"handleEnded",()=>{const{activePlayer:A,loop:N,onEnded:P}=this.props;A.loopOnEnded&&N&&this.seekTo(0),N||(this.isPlaying=!1,P())}),f(this,"handleError",(...A)=>{this.isLoading=!1,this.props.onError(...A)}),f(this,"handleDurationCheck",()=>{clearTimeout(this.durationCheckTimeout);const A=this.getDuration();A?this.onDurationCalled||(this.props.onDuration(A),this.onDurationCalled=!0):this.durationCheckTimeout=setTimeout(this.handleDurationCheck,100)}),f(this,"handleLoaded",()=>{this.isLoading=!1})}componentDidMount(){this.mounted=!0}componentWillUnmount(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}componentDidUpdate(A){if(!this.player)return;const{url:N,playing:P,volume:M,muted:L,playbackRate:D,pip:S,loop:z,activePlayer:O,disableDeferredLoading:U}=this.props;if(!(0,b.default)(A.url,N)){if(this.isLoading&&!O.forceLoad&&!U&&!(0,x.isMediaStream)(N)){console.warn(`ReactPlayer: the attempt to load ${N} is being deferred until the player has loaded`),this.loadOnReady=N;return}this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(N,this.isReady)}!A.playing&&P&&!this.isPlaying&&this.player.play(),A.playing&&!P&&this.isPlaying&&this.player.pause(),!A.pip&&S&&this.player.enablePIP&&this.player.enablePIP(),A.pip&&!S&&this.player.disablePIP&&this.player.disablePIP(),A.volume!==M&&M!==null&&this.player.setVolume(M),A.muted!==L&&(L?this.player.mute():(this.player.unmute(),M!==null&&setTimeout(()=>this.player.setVolume(M)))),A.playbackRate!==D&&this.player.setPlaybackRate&&this.player.setPlaybackRate(D),A.loop!==z&&this.player.setLoop&&this.player.setLoop(z)}getDuration(){return this.isReady?this.player.getDuration():null}getCurrentTime(){return this.isReady?this.player.getCurrentTime():null}getSecondsLoaded(){return this.isReady?this.player.getSecondsLoaded():null}seekTo(A,N,P){if(!this.isReady){A!==0&&(this.seekOnPlay=A,setTimeout(()=>{this.seekOnPlay=null},w));return}if(N?N==="fraction":A>0&&A<1){const L=this.player.getDuration();if(!L){console.warn("ReactPlayer: could not seek using fraction – duration not yet available");return}this.player.seekTo(L*A,P);return}this.player.seekTo(A,P)}render(){const A=this.props.activePlayer;return A?g.default.createElement(A,{...this.props,onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError}):null}}return f(C,"displayName","Player"),f(C,"propTypes",y.propTypes),f(C,"defaultProps",y.defaultProps),IS}var OS,fO;function r2e(){if(fO)return OS;fO=1;var t=Object.create,e=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,s=Object.getPrototypeOf,i=Object.prototype.hasOwnProperty,a=(z,O,U)=>O in z?e(z,O,{enumerable:!0,configurable:!0,writable:!0,value:U}):z[O]=U,l=(z,O)=>{for(var U in O)e(z,U,{get:O[U],enumerable:!0})},c=(z,O,U,j)=>{if(O&&typeof O=="object"||typeof O=="function")for(let V of r(O))!i.call(z,V)&&V!==U&&e(z,V,{get:()=>O[V],enumerable:!(j=n(O,V))||j.enumerable});return z},u=(z,O,U)=>(U=z!=null?t(s(z)):{},c(!z||!z.__esModule?e(U,"default",{value:z,enumerable:!0}):U,z)),h=z=>c(e({},"__esModule",{value:!0}),z),f=(z,O,U)=>(a(z,typeof O!="symbol"?O+"":O,U),U),m={};l(m,{createReactPlayer:()=>S}),OS=h(m);var g=u(Wa()),b=u(O9()),y=u(t2e),x=u(M9()),w=R9(),C=J1(),k=u(n2e());const A=(0,C.lazy)(()=>li(()=>import("./Preview-2tCU6D5j.js").then(z=>z.P),[])),N=typeof window<"u"&&window.document&&typeof document<"u",P=typeof ao<"u"&&ao.window&&ao.window.document,M=Object.keys(w.propTypes),L=N||P?g.Suspense:()=>null,D=[],S=(z,O)=>{var U;return U=class extends g.Component{constructor(){super(...arguments),f(this,"state",{showPreview:!!this.props.light}),f(this,"references",{wrapper:j=>{this.wrapper=j},player:j=>{this.player=j}}),f(this,"handleClickPreview",j=>{this.setState({showPreview:!1}),this.props.onClickPreview(j)}),f(this,"showPreview",()=>{this.setState({showPreview:!0})}),f(this,"getDuration",()=>this.player?this.player.getDuration():null),f(this,"getCurrentTime",()=>this.player?this.player.getCurrentTime():null),f(this,"getSecondsLoaded",()=>this.player?this.player.getSecondsLoaded():null),f(this,"getInternalPlayer",(j="player")=>this.player?this.player.getInternalPlayer(j):null),f(this,"seekTo",(j,V,K)=>{if(!this.player)return null;this.player.seekTo(j,V,K)}),f(this,"handleReady",()=>{this.props.onReady(this)}),f(this,"getActivePlayer",(0,y.default)(j=>{for(const V of[...D,...z])if(V.canPlay(j))return V;return O||null})),f(this,"getConfig",(0,y.default)((j,V)=>{const{config:K}=this.props;return b.default.all([w.defaultProps.config,w.defaultProps.config[V]||{},K,K[V]||{}])})),f(this,"getAttributes",(0,y.default)(j=>(0,C.omit)(this.props,M))),f(this,"renderActivePlayer",j=>{if(!j)return null;const V=this.getActivePlayer(j);if(!V)return null;const K=this.getConfig(j,V.key);return g.default.createElement(k.default,{...this.props,key:V.key,ref:this.references.player,config:K,activePlayer:V.lazyPlayer||V,onReady:this.handleReady})})}shouldComponentUpdate(j,V){return!(0,x.default)(this.props,j)||!(0,x.default)(this.state,V)}componentDidUpdate(j){const{light:V}=this.props;!j.light&&V&&this.setState({showPreview:!0}),j.light&&!V&&this.setState({showPreview:!1})}renderPreview(j){if(!j)return null;const{light:V,playIcon:K,previewTabIndex:te,oEmbedUrl:J,previewAriaLabel:X}=this.props;return g.default.createElement(A,{url:j,light:V,playIcon:K,previewTabIndex:te,previewAriaLabel:X,oEmbedUrl:J,onClick:this.handleClickPreview})}render(){const{url:j,style:V,width:K,height:te,fallback:J,wrapper:X}=this.props,{showPreview:Y}=this.state,F=this.getAttributes(j),H=typeof X=="string"?this.references.wrapper:void 0;return g.default.createElement(X,{ref:H,style:{...V,width:K,height:te},...F},g.default.createElement(L,{fallback:J},Y?this.renderPreview(j):this.renderActivePlayer(j)))}},f(U,"displayName","ReactPlayer"),f(U,"propTypes",w.propTypes),f(U,"defaultProps",w.defaultProps),f(U,"addCustomPlayer",j=>{D.push(j)}),f(U,"removeCustomPlayers",()=>{D.length=0}),f(U,"canPlay",j=>{for(const V of[...D,...z])if(V.canPlay(j))return!0;return!1}),f(U,"canEnablePIP",j=>{for(const V of[...D,...z])if(V.canEnablePIP&&V.canEnablePIP(j))return!0;return!1}),U};return OS}var MS,pO;function s2e(){if(pO)return MS;pO=1;var t=Object.create,e=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,s=Object.getPrototypeOf,i=Object.prototype.hasOwnProperty,a=(y,x)=>{for(var w in x)e(y,w,{get:x[w],enumerable:!0})},l=(y,x,w,C)=>{if(x&&typeof x=="object"||typeof x=="function")for(let k of r(x))!i.call(y,k)&&k!==w&&e(y,k,{get:()=>x[k],enumerable:!(C=n(x,k))||C.enumerable});return y},c=(y,x,w)=>(w=y!=null?t(s(y)):{},l(!y||!y.__esModule?e(w,"default",{value:y,enumerable:!0}):w,y)),u=y=>l(e({},"__esModule",{value:!0}),y),h={};a(h,{default:()=>b}),MS=u(h);var f=c(X_e()),m=r2e();const g=f.default[f.default.length-1];var b=(0,m.createReactPlayer)(f.default,g);return MS}var i2e=s2e();const a2e=Jr(i2e);function o2e(){var re,ne,ce,Te;const[t,e]=_.useState([]),[n,r]=_.useState(null),[s,i]=_.useState(0),[a,l]=_.useState({}),[c,u]=_.useState({title:"",note:""}),[h,f]=_.useState(null),[m,g]=_.useState({title:"",message:""}),[b,y]=_.useState([]),[x,w]=_.useState(null),[C,k]=_.useState({rating:1,review:""}),[A,N]=_.useState([]),P=Hd(),M=_.useRef(),[L,D]=_.useState(!1),S=()=>D(!1),z=he=>{D(!0),r(he)},[O,U]=_.useState(!1),j=()=>U(!1),V=he=>{U(!0),f(he)},[K,te]=_.useState(!1),J=()=>te(!1),X=he=>{te(!0),w(he)},[Y,F]=_.useState(!1),H=()=>F(!1),de=()=>F(!0),ee=async()=>{var he;mt().get(`student/course-detail/${(he=zt())==null?void 0:he.user_id}/${P.enrollment_id}/`).then(se=>{var Pe,Oe;e(se.data),y(se.data.question_answer),N(se.data.review);const ye=((Pe=se.data.completed_lesson)==null?void 0:Pe.length)/((Oe=se.data.lectures)==null?void 0:Oe.length)*100;i(ye==null?void 0:ye.toFixed(0))})};_.useEffect(()=>{ee()},[]);const fe=he=>{var Pe,Oe;const se=`lecture_${he}`;l({...a,[se]:"Updating"});const ye=new FormData;ye.append("user_id",((Pe=zt())==null?void 0:Pe.user_id)||0),ye.append("course_id",(Oe=t.course)==null?void 0:Oe.id),ye.append("variant_item_id",he),mt().post("student/course-completed/",ye).then(xe=>{ee(),l({...a,[se]:"Updated"})})},ve=he=>{u({...c,[he.target.name]:he.target.value})},Ce=async he=>{var ye,Pe;he.preventDefault();const se=new FormData;se.append("user_id",(ye=zt())==null?void 0:ye.user_id),se.append("enrollment_id",P.enrollment_id),se.append("title",c.title),se.append("note",c.note);try{await mt().post(`student/course-note/${(Pe=zt())==null?void 0:Pe.user_id}/${P.enrollment_id}/`,se).then(Oe=>{ee(),j(),nt().fire({icon:"success",title:"Note created"})})}catch{}},De=(he,se)=>{var Pe,Oe;he.preventDefault();const ye=new FormData;ye.append("user_id",(Pe=zt())==null?void 0:Pe.user_id),ye.append("enrollment_id",P.enrollment_id),ye.append("title",c.title||(h==null?void 0:h.title)),ye.append("note",c.note||(h==null?void 0:h.note)),mt().patch(`student/course-note-detail/${(Oe=zt())==null?void 0:Oe.user_id}/${P.enrollment_id}/${se}/`,ye).then(xe=>{ee(),nt().fire({icon:"success",title:"Note updated"})})},Ee=he=>{var se;mt().delete(`student/course-note-detail/${(se=zt())==null?void 0:se.user_id}/${P.enrollment_id}/${he}/`).then(ye=>{ee(),nt().fire({icon:"success",title:"Note deleted"})})},Be=he=>{g({...m,[he.target.name]:he.target.value})},Ve=async he=>{var ye,Pe,Oe;he.preventDefault();const se=new FormData;se.append("course_id",(ye=t.course)==null?void 0:ye.id),se.append("user_id",(Pe=zt())==null?void 0:Pe.user_id),se.append("title",m.title),se.append("message",m.message),await mt().post(`student/question-answer-list-create/${(Oe=t.course)==null?void 0:Oe.id}/`,se).then(xe=>{ee(),H(),nt().fire({icon:"success",title:"Question sent"})})},rt=async he=>{var ye,Pe;he.preventDefault();const se=new FormData;se.append("course_id",(ye=t.course)==null?void 0:ye.id),se.append("user_id",(Pe=zt())==null?void 0:Pe.user_id),se.append("message",m.message),se.append("qa_id",x==null?void 0:x.qa_id),mt().post("student/question-answer-message-create/",se).then(Oe=>{w(Oe.data.question)})};_.useEffect(()=>{M.current&&M.current.scrollIntoView({behavior:"smooth"})},[x]);const it=he=>{const se=he.target.value.toLowerCase();if(se==="")ee();else{const ye=b==null?void 0:b.filter(Pe=>Pe.title.toLowerCase().includes(se));y(ye)}},G=he=>{k({...C,[he.target.name]:he.target.value})},Ae=he=>{var ye,Pe;he.preventDefault();const se=new FormData;se.append("course_id",(ye=t.course)==null?void 0:ye.id),se.append("user_id",(Pe=zt())==null?void 0:Pe.user_id),se.append("rating",C.rating),se.append("review",C.review),mt().post("student/rate-course/",se).then(Oe=>{ee(),nt().fire({icon:"success",title:"Review created"})})},be=he=>{var ye,Pe,Oe;he.preventDefault();const se=new FormData;se.append("course",(ye=t.course)==null?void 0:ye.id),se.append("user",(Pe=zt())==null?void 0:Pe.user_id),se.append("rating",C.rating||(A==null?void 0:A.rating)),se.append("review",C.review||(A==null?void 0:A.review)),mt().patch(`student/review-detail/${(Oe=zt())==null?void 0:Oe.user_id}/${A==null?void 0:A.id}/`,se).then(xe=>{ee(),nt().fire({icon:"success",title:"Review updated"})})};return o.jsxs(o.Fragment,{children:[o.jsx(BaseHeader,{}),o.jsx("section",{className:"pt-5 pb-5",children:o.jsxs("div",{className:"container",children:[o.jsx(Fi,{}),o.jsxs("div",{className:"row mt-0 mt-md-4",children:[o.jsx(dc,{}),o.jsx("div",{className:"col-lg-9 col-md-8 col-12",children:o.jsx("section",{className:"mt-4",children:o.jsx("div",{className:"container",children:o.jsx("div",{className:"row",children:o.jsx("div",{className:"col-12",children:o.jsxs("div",{className:"card shadow rounded-2 p-0 mt-n5",children:[o.jsx("div",{className:"card-header border-bottom px-4 pt-3 pb-0",children:o.jsxs("ul",{className:"nav nav-bottom-line py-0",id:"course-pills-tab",role:"tablist",children:[o.jsx("li",{className:"nav-item me-2 me-sm-4",role:"presentation",children:o.jsx("button",{className:"nav-link mb-2 mb-md-0 active",id:"course-pills-tab-1","data-bs-toggle":"pill","data-bs-target":"#course-pills-1",type:"button",role:"tab","aria-controls":"course-pills-1","aria-selected":"true",children:"Course Lectures"})}),o.jsx("li",{className:"nav-item me-2 me-sm-4",role:"presentation",children:o.jsx("button",{className:"nav-link mb-2 mb-md-0",id:"course-pills-tab-2","data-bs-toggle":"pill","data-bs-target":"#course-pills-2",type:"button",role:"tab","aria-controls":"course-pills-2","aria-selected":"false",children:"Notes"})}),o.jsx("li",{className:"nav-item me-2 me-sm-4",role:"presentation",children:o.jsx("button",{className:"nav-link mb-2 mb-md-0",id:"course-pills-tab-3","data-bs-toggle":"pill","data-bs-target":"#course-pills-3",type:"button",role:"tab","aria-controls":"course-pills-3","aria-selected":"false",children:"Discussion"})}),o.jsx("li",{className:"nav-item me-2 me-sm-4",role:"presentation",children:o.jsx("button",{className:"nav-link mb-2 mb-md-0",id:"course-pills-tab-4","data-bs-toggle":"pill","data-bs-target":"#course-pills-4",type:"button",role:"tab","aria-controls":"course-pills-4","aria-selected":"false",children:"Leave a Review"})})]})}),o.jsx("div",{className:"card-body p-sm-4",children:o.jsxs("div",{className:"tab-content",id:"course-pills-tabContent",children:[o.jsx("div",{className:"tab-pane fade show active",id:"course-pills-1",role:"tabpanel","aria-labelledby":"course-pills-tab-1",children:o.jsxs("div",{className:"accordion accordion-icon accordion-border",id:"accordionExample2",children:[o.jsx("div",{className:"progress mb-3",children:o.jsxs("div",{className:"progress-bar",role:"progressbar",style:{width:`${s}%`},"aria-valuenow":s,"aria-valuemin":0,"aria-valuemax":100,children:[s,"%"]})}),(re=t==null?void 0:t.curriculum)==null?void 0:re.map((he,se)=>{var ye,Pe,Oe;return o.jsxs("div",{className:"accordion-item mb-3 p-3 bg-light",children:[o.jsx("h6",{className:"accordion-header font-base",id:"heading-1",children:o.jsxs("button",{className:"accordfion-button p-3 w-100 bg-light btn border fw-bold rounded d-sm-flex d-inline-block collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":`#collapse-${he.variant_id}`,"aria-expanded":"true","aria-controls":`collapse-${he.variant_id}`,children:[he.title,o.jsxs("span",{className:"small ms-0 ms-sm-2",children:["(",(ye=he.variant_items)==null?void 0:ye.length," Lecture",((Pe=he.variant_items)==null?void 0:Pe.length)>1&&"s",")"]})]})}),o.jsx("div",{id:`collapse-${he.variant_id}`,className:"accordion-collapse collapse show","aria-labelledby":"heading-1","data-bs-parent":"#accordionExample2",children:o.jsx("div",{className:"accordion-body mt-3",children:(Oe=he.variant_items)==null?void 0:Oe.map((xe,at)=>{var lt;return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[o.jsxs("div",{className:"position-relative d-flex align-items-center",children:[o.jsx("button",{onClick:()=>z(xe),className:"btn btn-danger-soft btn-round btn-sm mb-0 stretched-link position-static",children:o.jsx("i",{className:"fas fa-play me-0"})}),o.jsx("span",{className:"d-inline-block text-truncate ms-2 mb-0 h6 fw-light w-100px w-sm-200px w-md-400px",children:xe.title})]}),o.jsxs("div",{className:"d-flex",children:[o.jsx("p",{className:"mb-0",children:xe.content_duration||"0m 0s"}),o.jsx("input",{type:"checkbox",className:"form-check-input ms-2",name:"",id:"",onChange:()=>fe(xe.variant_item_id),checked:(lt=t.completed_lesson)==null?void 0:lt.some(ze=>ze.variant_item.id===xe.id)})]})]}),o.jsx("hr",{})]})})})})]})})]})}),o.jsx("div",{className:"tab-pane fade",id:"course-pills-2",role:"tabpanel","aria-labelledby":"course-pills-tab-2",children:o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"card-header border-bottom p-0 pb-3",children:o.jsxs("div",{className:"d-sm-flex justify-content-between align-items-center",children:[o.jsx("h4",{className:"mb-0 p-3",children:"All Notes"}),o.jsxs("button",{type:"button",className:"btn btn-primary me-3","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:["Add Note ",o.jsx("i",{className:"fas fa-pen"})]}),o.jsx("div",{className:"modal fade",id:"exampleModal",tabIndex:-1,"aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:o.jsx("div",{className:"modal-dialog modal-dialog-centered",children:o.jsxs("div",{className:"modal-content",children:[o.jsxs("div",{className:"modal-header",children:[o.jsxs("h5",{className:"modal-title",id:"exampleModalLabel",children:["Add New Note"," ",o.jsx("i",{className:"fas fa-pen"})]}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("form",{onSubmit:Ce,children:[o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:"Note Title"}),o.jsx("input",{type:"text",className:"form-control",name:"title",onChange:ve})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Note Content"}),o.jsx("textarea",{className:"form-control",id:"",cols:"30",rows:"10",name:"note",onChange:ve})]}),o.jsxs("button",{type:"button",className:"btn btn-secondary me-2","data-bs-dismiss":"modal",children:[o.jsx("i",{className:"fas fa-arrow-left"})," ","Close"]}),o.jsxs("button",{type:"submit",className:"btn btn-primary",children:["Save Note"," ",o.jsx("i",{className:"fas fa-check-circle"})]})]})})]})})})]})}),o.jsxs("div",{className:"card-body p-0 pt-3",children:[(ne=t==null?void 0:t.note)==null?void 0:ne.map((he,se)=>o.jsx("div",{className:"row g-4 p-3",children:o.jsxs("div",{className:"col-sm-11 col-xl-11 shadow p-3 m-3 rounded",children:[o.jsxs("h5",{children:[" ",he.title]}),o.jsx("p",{children:he.note}),o.jsxs("div",{className:"hstack gap-3 flex-wrap",children:[o.jsxs("a",{onClick:()=>V(he),className:"btn btn-success mb-0",children:[o.jsx("i",{className:"bi bi-pencil-square me-2"})," ","Edit"]}),o.jsxs("a",{onClick:()=>Ee(he.id),className:"btn btn-danger mb-0",children:[o.jsx("i",{className:"bi bi-trash me-2"})," ","Delete"]})]})]})})),((ce=t==null?void 0:t.note)==null?void 0:ce.length)<1&&o.jsx("p",{className:"mt-3 p-3",children:"No notes"}),o.jsx("hr",{})]})]})}),o.jsx("div",{className:"tab-pane fade",id:"course-pills-3",role:"tabpanel","aria-labelledby":"course-pills-tab-3",children:o.jsxs("div",{className:"card",children:[o.jsxs("div",{className:"card-header border-bottom p-0 pb-3",children:[o.jsx("h4",{className:"mb-3 p-3",children:"Discussion"}),o.jsxs("form",{className:"row g-4 p-3",children:[o.jsx("div",{className:"col-sm-6 col-lg-9",children:o.jsxs("div",{className:"position-relative",children:[o.jsx("input",{className:"form-control pe-5 bg-transparent",type:"search",placeholder:"Search","aria-label":"Search",onChange:it}),o.jsx("button",{className:"bg-transparent p-2 position-absolute top-50 end-0 translate-middle-y border-0 text-primary-hover text-reset",type:"submit",children:o.jsx("i",{className:"fas fa-search fs-6 "})})]})}),o.jsx("div",{className:"col-sm-6 col-lg-3",children:o.jsx("a",{onClick:de,className:"btn btn-primary mb-0 w-100","data-bs-toggle":"modal","data-bs-target":"#modalCreatePost",children:"Ask Question"})})]})]}),o.jsx("div",{className:"card-body p-0 pt-3",children:o.jsx("div",{className:"vstack gap-3 p-3",children:b==null?void 0:b.map((he,se)=>o.jsxs("div",{className:"shadow rounded-3 p-3",children:[o.jsx("div",{className:"d-sm-flex justify-content-sm-between mb-3",children:o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("div",{className:"avatar avatar-sm flex-shrink-0",children:o.jsx("img",{src:he.profile.image,className:"avatar-img rounded-circle",alt:"avatar",style:{width:"60px",height:"60px",borderRadius:"50%",objectFit:"cover"}})}),o.jsxs("div",{className:"ms-2",children:[o.jsx("h6",{className:"mb-0",children:o.jsx("a",{href:"#",className:"text-decoration-none text-dark",children:he.profile.full_name})}),o.jsx("small",{children:Bt(he.date).format("DD MMM, YYYY")})]})]})}),o.jsx("h5",{children:he.title}),o.jsxs("button",{className:"btn btn-primary btn-sm mb-3 mt-3",onClick:()=>X(he),children:["Join Conversation"," ",o.jsx("i",{className:"fas fa-arrow-right"})]})]},se))})})]})}),o.jsx("div",{className:"tab-pane fade",id:"course-pills-4",role:"tabpanel","aria-labelledby":"course-pills-tab-4",children:o.jsx("div",{className:"card",children:o.jsxs("div",{className:"card-header border-bottom p-0 pb-3",children:[o.jsxs("h4",{className:"mb-3 p-3",children:["Leave a Review ",A.rating]}),o.jsxs("div",{className:"mt-2",children:[!A&&o.jsxs("form",{className:"row g-3 p-3",onSubmit:Ae,children:[o.jsx("div",{className:"col-12 bg-light-input",children:o.jsxs("select",{id:"inputState2",className:"form-select js-choice",onChange:G,name:"rating",defaultValue:A.rating||0,children:[o.jsx("option",{value:1,children:"★☆☆☆☆ (1/5)"}),o.jsx("option",{value:2,children:"★★☆☆☆ (2/5)"}),o.jsx("option",{value:3,children:"★★★☆☆ (3/5)"}),o.jsx("option",{value:4,children:"★★★★☆ (4/5)"}),o.jsx("option",{value:5,children:"★★★★★ (5/5)"})]})}),o.jsx("div",{className:"col-12 bg-light-input",children:o.jsx("textarea",{className:"form-control",id:"exampleFormControlTextarea1",placeholder:"Your review",rows:3,onChange:G,name:"review",defaultValue:A.review||C.review})}),o.jsx("div",{className:"col-12",children:o.jsx("button",{type:"submit",className:"btn btn-primary mb-0",children:"Post Review"})})]}),A&&o.jsxs("form",{className:"row g-3 p-3",onSubmit:be,children:[o.jsx("div",{className:"col-12 bg-light-input",children:o.jsxs("select",{id:"inputState2",className:"form-select js-choice",onChange:G,name:"rating",value:t.review.rating,children:[o.jsx("option",{value:1,children:"★☆☆☆☆ (1/5)"}),o.jsx("option",{value:2,children:"★★☆☆☆ (2/5)"}),o.jsx("option",{value:3,children:"★★★☆☆ (3/5)"}),o.jsx("option",{value:4,children:"★★★★☆ (4/5)"}),o.jsx("option",{value:5,children:"★★★★★ (5/5)"})]})}),o.jsx("div",{className:"col-12 bg-light-input",children:o.jsx("textarea",{className:"form-control",id:"exampleFormControlTextarea1",placeholder:"Your review",rows:3,onChange:G,name:"review",defaultValue:A.review})}),o.jsx("div",{className:"col-12",children:o.jsx("button",{type:"submit",className:"btn btn-primary mb-0",children:"Update Review"})})]})]})]})})})]})})]})})})})})})]})]})}),o.jsxs(vt,{show:L,size:"lg",onHide:S,children:[o.jsx(vt.Header,{closeButton:!0,children:o.jsxs(vt.Title,{children:["Lesson: ",n==null?void 0:n.title]})}),o.jsx(vt.Body,{children:o.jsx(a2e,{url:n==null?void 0:n.file,controls:!0,width:"100%",height:"100%"})}),o.jsx(vt.Footer,{children:o.jsx(Dt,{variant:"secondary",onClick:S,children:"Close"})})]}),o.jsxs(vt,{show:O,size:"lg",onHide:j,children:[o.jsx(vt.Header,{closeButton:!0,children:o.jsxs(vt.Title,{children:["Note: ",h==null?void 0:h.title]})}),o.jsx(vt.Body,{children:o.jsxs("form",{onSubmit:he=>De(he,h==null?void 0:h.id),children:[o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:"Note Title"}),o.jsx("input",{defaultValue:h==null?void 0:h.title,name:"title",onChange:ve,type:"text",className:"form-control"})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Note Content"}),o.jsx("textarea",{defaultValue:h==null?void 0:h.note,name:"note",onChange:ve,className:"form-control",cols:"30",rows:"10"})]}),o.jsxs("button",{type:"button",className:"btn btn-secondary me-2",onClick:j,children:[o.jsx("i",{className:"fas fa-arrow-left"})," Close"]}),o.jsxs("button",{type:"submit",className:"btn btn-primary",children:["Save Note ",o.jsx("i",{className:"fas fa-check-circle"})]})]})})]}),o.jsxs(vt,{show:K,size:"lg",onHide:J,children:[o.jsx(vt.Header,{closeButton:!0,children:o.jsxs(vt.Title,{children:["Lesson: ",x==null?void 0:x.title]})}),o.jsx(vt.Body,{children:o.jsxs("div",{className:"border p-2 p-sm-4 rounded-3",children:[o.jsxs("ul",{className:"list-unstyled mb-0",style:{overflowY:"scroll",height:"500px"},children:[(Te=x==null?void 0:x.messages)==null?void 0:Te.map((he,se)=>{var ye;return o.jsx("li",{className:"comment-item mb-3",children:o.jsxs("div",{className:"d-flex",children:[o.jsx("div",{className:"avatar avatar-sm flex-shrink-0",children:o.jsx("a",{href:"#",children:o.jsx("img",{className:"avatar-img rounded-circle",src:(ye=he.profile.image)!=null&&ye.startsWith("https://127.0.0.1:8000")?he.profile.image:`https://127.0.0.1:8000${he.profile.image}`,style:{width:"40px",height:"40px",borderRadius:"50%",objectFit:"cover"},alt:"womans image"})})}),o.jsx("div",{className:"ms-2",children:o.jsx("div",{className:"bg-light p-3 rounded w-100",children:o.jsx("div",{className:"d-flex w-100 justify-content-center",children:o.jsxs("div",{className:"me-2 ",children:[o.jsxs("h6",{className:"mb-1 lead fw-bold",children:[o.jsxs("a",{href:"#!",className:"text-decoration-none text-dark",children:[" ",he.profile.full_name," "]}),o.jsx("br",{}),o.jsx("span",{style:{fontSize:"12px",color:"gray"},children:Bt(he.date).format("DD MMM, YYYY")})]}),o.jsx("p",{className:"mb-0 mt-3  ",children:he.message})]})})})})]})})}),o.jsx("div",{ref:M})]}),o.jsxs("form",{class:"w-100 d-flex",onSubmit:rt,children:[o.jsx("textarea",{name:"message",class:"one form-control pe-4 bg-light w-75",id:"autoheighttextarea",rows:"2",onChange:Be,placeholder:"What's your question?"}),o.jsxs("button",{class:"btn btn-primary ms-2 mb-0 w-25",type:"submit",children:["Post ",o.jsx("i",{className:"fas fa-paper-plane"})]})]})]})})]}),o.jsxs(vt,{show:Y,size:"lg",onHide:H,children:[o.jsx(vt.Header,{closeButton:!0,children:o.jsx(vt.Title,{children:"Ask Question"})}),o.jsx(vt.Body,{children:o.jsxs("form",{onSubmit:Ve,children:[o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:"Question Title"}),o.jsx("input",{value:m.title,name:"title",onChange:Be,type:"text",className:"form-control"})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Question Message"}),o.jsx("textarea",{value:m.message,name:"message",onChange:Be,className:"form-control",cols:"30",rows:"10"})]}),o.jsxs("button",{type:"button",className:"btn btn-secondary me-2",onClick:H,children:[o.jsx("i",{className:"fas fa-arrow-left"})," Close"]}),o.jsxs("button",{type:"submit",className:"btn btn-primary",children:["Send Message ",o.jsx("i",{className:"fas fa-check-circle"})]})]})})]}),o.jsx(BaseFooter,{})]})}function l2e(){var c;const[t,e]=_.useState([]),[n,r]=_.useContext(Ug),s=()=>{var u;mt().get(`student/wishlist/${(u=zt())==null?void 0:u.user_id}/`).then(h=>{console.log(h.data),e(h.data)})},i=(c=Rk())==null?void 0:c.country;_.useEffect(()=>{s()},[]);const a=async(u,h,f,m,g)=>{const b=new FormData;b.append("course_id",u),b.append("user_id",h),b.append("price",f),b.append("country_name",m),b.append("cart_id",g);try{await mt().post("course/cart/",b).then(y=>{console.log(y.data),nt().fire({title:"Added To Cart",icon:"success"}),mt().get(`course/cart-list/${lo()}/`).then(x=>{var w;r((w=x.data)==null?void 0:w.length)})})}catch(y){console.log(y)}},l=u=>{var f,m;const h=new FormData;h.append("user_id",(f=zt())==null?void 0:f.user_id),h.append("course_id",u),mt().post(`student/wishlist/${(m=zt())==null?void 0:m.user_id}/`,h).then(g=>{console.log(g.data),s(),nt().fire({icon:"success",title:g.data.message})})};return o.jsxs(o.Fragment,{children:[o.jsx(BaseHeader,{}),o.jsx("section",{className:"pt-5 pb-5",children:o.jsxs("div",{className:"container",children:[o.jsx(Fi,{}),o.jsxs("div",{className:"row mt-0 mt-md-4",children:[o.jsx(dc,{}),o.jsxs("div",{className:"col-lg-9 col-md-8 col-12",children:[o.jsxs("h4",{className:"mb-0 mb-4",children:[" ",o.jsx("i",{className:"fas fa-heart"})," Wishlist"," "]}),o.jsx("div",{className:"row",children:o.jsx("div",{className:"col-md-12",children:o.jsxs("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4",children:[t==null?void 0:t.map((u,h)=>{var f,m,g,b,y;return o.jsx("div",{className:"col-lg-4",children:o.jsxs("div",{className:"card card-hover",children:[o.jsx(Pn,{to:`/course-detail/${u.course.slug}/`,children:o.jsx("img",{src:u.course.image,alt:"course",className:"card-img-top",style:{width:"100%",height:"200px",objectFit:"cover"}})}),o.jsxs("div",{className:"card-body",children:[o.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[o.jsxs("div",{children:[o.jsx("span",{className:"badge bg-info",children:u.course.level}),o.jsx("span",{className:"badge bg-success ms-2",children:u.course.language})]}),o.jsx("a",{onClick:()=>{var x;return l((x=u.course)==null?void 0:x.id)},className:"fs-5",children:o.jsx("i",{className:"fas fa-heart text-danger align-middle"})})]}),o.jsx("h4",{className:"mb-2 text-truncate-line-2 ",children:o.jsx(Pn,{to:"/course-detail/slug/",className:"text-inherit text-decoration-none text-dark fs-5",children:u.course.title})}),o.jsxs("small",{children:["By: ",(m=(f=u.course)==null?void 0:f.teacher)==null?void 0:m.full_name]})," ",o.jsx("br",{}),o.jsxs("small",{children:[(g=u.course.students)==null?void 0:g.length," Student",((b=u.course.students)==null?void 0:b.length)>1&&"s"]})," ",o.jsx("br",{}),o.jsxs("div",{className:"lh-1 mt-3 d-flex",children:[o.jsx("span",{className:"align-text-top",children:o.jsx("span",{className:"fs-6",children:o.jsx(DL,{total:5,rating:u.course.average_rating||0})})}),o.jsx("span",{className:"text-warning",children:"4.5"}),o.jsxs("span",{className:"fs-6 ms-2",children:["(",(y=u.course.reviews)==null?void 0:y.length," Reviews)"]})]})]}),o.jsx("div",{className:"card-footer",children:o.jsxs("div",{className:"row align-items-center g-0",children:[o.jsx("div",{className:"col",children:o.jsxs("h5",{className:"mb-0",children:["$",u.course.price]})}),o.jsxs("div",{className:"col-auto",children:[o.jsx("button",{type:"button",onClick:()=>{var x;return a(u.course.id,(x=zt())==null?void 0:x.user_id,u.course.price,i,lo())},className:"text-inherit text-decoration-none btn btn-primary me-2",children:o.jsx("i",{className:"fas fa-shopping-cart text-primary text-white"})}),o.jsxs(Pn,{to:"",className:"text-inherit text-decoration-none btn btn-primary",children:["Enroll Now"," ",o.jsx("i",{className:"fas fa-arrow-right text-primary align-middle me-2 text-white"})]})]})]})})]})})}),t.length<1&&o.jsx("p",{className:"mt-4 p-3",children:"No item in wishlist"})]})})})]})]})]})}),o.jsx(BaseFooter,{})]})}function eN({sidebarCollapsed:t,toggleSidebar:e}){const[n]=_.useContext(Hg),[r,s]=_.useState(!1),[i,a]=_.useState([]),[l,c]=_.useState(window.innerWidth<700),u=_.useRef(null),h=_.useRef(null);fr(),_.useEffect(()=>{const g=()=>c(window.innerWidth<700);return window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[]),_.useEffect(()=>{(async()=>{var b;try{const y=(b=zt())==null?void 0:b.user_id;if(y){const x=await mt().get(`/notifications/user/${y}/`);a(x.data)}}catch{a([])}})()},[]);const f=async()=>{var g;try{const b=(g=zt())==null?void 0:g.user_id;b&&(await mt().post("/notifications/read-all/",{user_id:b}),a(y=>y.map(x=>({...x,seen:!0}))))}catch{}},m=()=>{s(g=>{const b=!g;return b&&f(),b})};return _.useEffect(()=>{const g=b=>{u.current&&!u.current.contains(b.target)&&h.current&&!h.current.contains(b.target)&&s(!1)};return document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[]),o.jsxs("header",{className:"dashboard-header",style:{position:"sticky",top:0,zIndex:1e3,display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",backgroundColor:"#fff",padding:"10px 20px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",borderRadius:"8px"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[!l&&o.jsx("button",{onClick:e,style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",marginRight:"15px"},children:"☰"}),o.jsxs("h2",{style:{fontSize:"24px",fontWeight:"bold",margin:0},children:["Welcome back, ",(n==null?void 0:n.full_name)||"User","!"]})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px"},children:[o.jsxs("div",{ref:h,style:{position:"relative"},children:[o.jsxs("button",{onClick:m,style:{background:"none",border:"none",cursor:"pointer",position:"relative"},children:[o.jsx("i",{className:"fas fa-bell",style:{fontSize:"20px"}}),i.some(g=>!g.seen)&&o.jsx("span",{style:{position:"absolute",top:"-5px",right:"-5px",backgroundColor:"red",color:"white",borderRadius:"50%",padding:"2px 6px",fontSize:"12px"},children:i.filter(g=>!g.seen).length})]}),r&&o.jsx("div",{style:{position:"absolute",top:"30px",right:0,backgroundColor:"#fff",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",borderRadius:"8px",width:"300px",zIndex:1e3,color:"black",maxHeight:"350px",overflowY:"auto"},children:o.jsx("ul",{style:{listStyle:"none",padding:"10px",margin:0},children:i.length>0?i.map((g,b)=>o.jsxs("li",{style:{padding:"10px 0",borderBottom:"1px solid #f0f0f0",background:g.seen?"#fff":"#f5f7fa"},children:[o.jsx("div",{style:{fontWeight:600},children:g.title||g.type||"Notification"}),g.content&&o.jsx("div",{style:{fontSize:"0.95em",color:"#555"},children:g.content}),g.date&&o.jsx("div",{style:{fontSize:"0.8em",color:"#aaa"},children:new Date(g.date).toLocaleString()})]},b)):o.jsx("li",{style:{textAlign:"center",padding:"10px 0"},children:"No notifications"})})})]}),o.jsx("img",{src:(n==null?void 0:n.image)||"https://imgs.search.brave.com/RDlr00DIZWKKhPu4ymE1K_IzmblJm8CbiuCSzm-xnQ4/rs:fit:860:0:0:0/g:ce/aHR0cHM6Ly90NC5m/dGNkbi5uZXQvanBn/LzAxLzA3LzQzLzQ1/LzM2MF9GXzEwNzQz/NDUxMV9pYXJGMno4/OGM2RHM2QWxndHdv/dEhTQWt0V0NkWU9u/Ny5qcGc",alt:"User",className:"rounded-circle",style:{width:"40px",height:"40px",borderRadius:"50%",objectFit:"cover",cursor:"pointer"}})]})]})}function c2e(){var Ae,be,re;const[t,e]=_.useState(!0),[n,r]=_.useState("profile"),[s,i]=_.useContext(Hg),[a,l]=_.useState({image:"",full_name:"",about:""}),[c,u]=_.useState(""),[h,f]=_.useState(""),m=fr(),[g,b]=_.useState(!1),[y,x]=_.useState(16),[w,C]=_.useState(!1),[k,A]=_.useState("default"),[N,P]=_.useState("comfortable"),[M,L]=_.useState(!1),[D,S]=_.useState(null),[z,O]=_.useState([]),[U,j]=_.useState(!1),[V,K]=_.useState(window.innerWidth<700),[te,J]=_.useState(!1),X=()=>{e(!t)},Y=()=>{var ne;mt().get(`user/profile/${(ne=zt())==null?void 0:ne.user_id}/`).then(ce=>{i(ce.data),l(ce.data),u(ce.data.image)}).catch(ce=>{ce.response&&ce.response.status===401&&(xn.remove("access_token"),xn.remove("refresh_token"),m("/"))})},F=async()=>{try{S(response.data)}catch{S({is_active:!1,package:null,include_all_courses:!1,courses:[]})}};_.useEffect(()=>{var ce;if(!((ce=zt())==null?void 0:ce.user_id)){m("/");return}Y(),F()},[]),_.useEffect(()=>{const ne=async()=>{try{const ce=await mt().get("/landingpage/subscription-packages/");O(ce.data)}catch{}};D!=null&&D.is_active||ne()},[D]),_.useEffect(()=>{const ne=document.body.classList.contains("dark-mode"),ce=localStorage.getItem("appearanceSettings");if(ce){const Te=JSON.parse(ce);b(ne||Te.darkMode||!1),x(Te.fontSize||16),C(Te.highContrast||!1),A(Te.colorTheme||"default"),P(Te.density||"comfortable")}else b(ne)},[]),_.useEffect(()=>{const ne=localStorage.getItem("appearanceSettings");if(ne)try{const ce=JSON.parse(ne);b(ce.darkMode||!1),x(ce.fontSize||16),C(ce.highContrast||!1),A(ce.colorTheme||"default"),P(ce.density||"comfortable")}catch{}},[]),_.useEffect(()=>{const ce=new URLSearchParams(window.location.search).get("subscription");ce==="success"?(f("Your subscription was successfully activated!"),F()):ce==="renewed"?(f("Your subscription was successfully renewed!"),F()):ce==="canceled"&&f("Subscription payment was canceled."),ce&&window.history.replaceState({},document.title,window.location.pathname)},[]);const H=()=>{document.body.classList.remove("dark-mode","high-contrast"),g&&document.body.classList.add("dark-mode"),w&&document.body.classList.add("high-contrast"),document.documentElement.style.fontSize=`${y}px`,document.body.setAttribute("data-theme",k),document.body.setAttribute("data-density",N),localStorage.setItem("appearanceSettings",JSON.stringify({darkMode:g,fontSize:y,highContrast:w,colorTheme:k,density:N}))},de=()=>{b(!g),L(!0)},ee=ne=>{x(parseInt(ne.target.value)),L(!0)},fe=()=>{C(!w),L(!0)},ve=ne=>{P(ne.target.value),L(!0)},Ce=async()=>{try{H();const ce=await mt().post("user/appearance-settings/",{dark_mode:g,font_size:y,high_contrast:w,color_theme:k,density:N});L(!1),f("Settings applied and saved to your account!"),setTimeout(()=>f(""),3e3)}catch{f("Settings applied locally")}},De=async ne=>{var ce,Te;try{if(j(!0),!((ce=zt())==null?void 0:ce.user_id)){toast.error("You must be logged in to purchase a subscription");return}const se=await mt().post("/payment/create-checkout/",{amount:parseFloat(ne.price)*100,item_name:`Subscription - ${ne.name}`,customer_email:(Te=zt())==null?void 0:Te.email,subscription_pkg_id:ne.id,is_subscription:!0,success_url:`${window.location.origin}/student/profile?subscription=success`,cancel_url:`${window.location.origin}/student/profile?subscription=canceled`});if(se.data&&se.data.redirectUrl)window.location=se.data.redirectUrl;else throw new Error("No redirect URL received from payment processor")}catch{toast.error("Payment processing error. Please try again.")}finally{j(!1)}},Ee=async()=>{var ne,ce,Te;try{if(j(!0),!((ne=zt())==null?void 0:ne.user_id)||!((ce=D==null?void 0:D.package)!=null&&ce.id)){nt().fire({icon:"error",title:"Unable to renew subscription"});return}const se=await mt().post("/payment/create-checkout/",{amount:parseFloat(D.package.price)*100,item_name:`Subscription Renewal - ${D.package.name}`,customer_email:(Te=zt())==null?void 0:Te.email,subscription_pkg_id:D.package.id,is_subscription:!0,success_url:`${window.location.origin}/student/profile?subscription=renewed`,cancel_url:`${window.location.origin}/student/profile?subscription=canceled`});if(se.data&&se.data.redirectUrl)nt().fire({icon:"info",title:"Redirecting to payment page..."}),window.location=se.data.redirectUrl;else throw new Error("No redirect URL received from payment processor")}catch(he){let se="Renewal processing error. Please try again.";he.response&&he.response.data&&he.response.data.error&&(se=he.response.data.error),nt().fire({icon:"error",title:se})}finally{j(!1)}},Be=ne=>{l({...a,[ne.target.name]:ne.target.value})},Ve=ne=>{const ce=ne.target.files[0];if(ce&&ce.size>3*1024*1024){f("File size exceeds 3MB limit. Please choose a smaller image.");const se=document.getElementById("profile-message");se&&(se.style.color="white",se.style.backgroundColor="#d9534f",se.style.padding="8px 12px",se.style.borderRadius="4px",se.style.marginLeft="10px"),setTimeout(()=>{f(""),se&&(se.style.color="green",se.style.backgroundColor="transparent",se.style.padding="0")},5e3),ne.target.value=null;return}l({...a,[ne.target.name]:ce});const Te=new FileReader;Te.onloadend=()=>{u(Te.result)},ce&&Te.readAsDataURL(ce)},rt=async ne=>{var Te;ne.preventDefault();const ce=new FormData;a.image&&typeof a.image!="string"&&ce.append("image",a.image),ce.append("id",a.id||""),ce.append("full_name",a.full_name||""),ce.append("country",a.country||""),ce.append("about",a.about||""),ce.append("date",a.date||""),ce.append("otp",a.otp||null),ce.append("user",a.user||"");try{const he=await mt().patch(`user/profile/${(Te=zt())==null?void 0:Te.user_id}/`,ce,{headers:{"Content-Type":"multipart/form-data"}});i(he.data),f("Profile was successfully updated!"),setTimeout(()=>f(""),5e3)}catch{f("Failed to update profile. Please try again."),setTimeout(()=>f(""),5e3)}},it=async()=>{try{if(!window.confirm(`Are you sure you want to cancel your subscription?
Your access will continue until the end of your current billing period, but your subscription will not renew.`))return;await mt().delete("/subscription/"),nt().fire({icon:"success",title:"Subscription cancelled. Your access will remain until the current period ends."}),D&&S({...D,auto_renew:!1})}catch{nt().fire({icon:"error",title:"Failed to cancel subscription. Please try again."})}};_.useEffect(()=>{const ne=()=>{const ce=window.innerWidth<700;K(ce),ce||J(!1)};return window.addEventListener("resize",ne),()=>window.removeEventListener("resize",ne)},[]);const G={container:{display:"flex",minHeight:"100vh"},mainContent:{flex:1,marginLeft:t?"80px":"270px",transition:"margin-left 0.3s ease"},profileContainer:{display:"flex",marginTop:"20px",height:"calc(100vh - 80px)"},content:{flex:1,padding:"20px",overflowY:"auto"},avatar:{width:"100px",height:"100px",borderRadius:"50%",objectFit:"cover"},successMessage:{color:"green",marginLeft:"10px",fontSize:"14px"},mobileSettingsNav:{width:"100%",height:"100%",minHeight:"calc(100vh - 60px)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",background:g?"#181818":"#f8f9fa",padding:"0 16px",gap:"16px"},mobileNavButton:{width:"100%",maxWidth:"350px",padding:"16px 0",borderRadius:"8px",border:"none",fontSize:"1.1rem",background:g?"#232323":"#222",color:"#fff",fontWeight:500,marginBottom:0,boxShadow:"0 1px 4px rgba(0,0,0,0.08)",transition:"background 0.2s, color 0.2s",outline:"none",textAlign:"left",paddingLeft:"24px",position:"relative"},mobileNavButtonActive:{background:"#3973f7",color:"#fff"}};return o.jsxs("div",{style:G.container,children:[!V&&o.jsx(dc,{sidebarCollapsed:t}),o.jsxs("div",{style:{...G.mainContent,marginLeft:V?0:t?"80px":"270px"},children:[!V&&o.jsx(eN,{sidebarCollapsed:t,toggleSidebar:X}),V&&o.jsx(lu,{}),o.jsx("div",{style:G.profileContainer,children:V&&!te?o.jsxs("div",{style:G.mobileSettingsNav,children:[o.jsx("button",{style:{...G.mobileNavButton,...n==="profile"?G.mobileNavButtonActive:{}},onClick:()=>{r("profile"),J(!0)},children:"Profile"}),o.jsx("button",{style:{...G.mobileNavButton,...n==="subscriptions"?G.mobileNavButtonActive:{}},onClick:()=>{r("subscriptions"),J(!0)},children:"Subscriptions"}),o.jsx("button",{style:{...G.mobileNavButton,...n==="Appearance"?G.mobileNavButtonActive:{}},onClick:()=>{r("Appearance"),J(!0)},children:"Appearance"})]}):o.jsxs(o.Fragment,{children:[!V&&o.jsxs("div",{className:"settings-nav",children:[o.jsx("button",{className:`settings-nav-btn${n==="profile"?" active":""}`,onClick:()=>r("profile"),children:"Profile"}),o.jsx("button",{className:`settings-nav-btn${n==="subscriptions"?" active":""}`,onClick:()=>r("subscriptions"),children:"Subscriptions"}),o.jsx("button",{className:`settings-nav-btn${n==="Appearance"?" active":""}`,onClick:()=>r("Appearance"),children:"Appearance"})]}),o.jsxs("div",{style:G.content,children:[V&&o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"18px",cursor:"pointer",position:"relative",minHeight:"40px",width:"100%",maxWidth:"350px"},onClick:()=>J(!1),children:[o.jsx("i",{className:"fas fa-chevron-left",style:{fontSize:"18px",color:g?"#fff":"#3973f7",zIndex:2,position:"relative",marginRight:"8px"}}),o.jsx("span",{style:{fontSize:"1.1rem",color:g?"#fff":"#3973f7",fontWeight:500,zIndex:2,position:"relative"},children:"Back"})]}),n==="profile"&&o.jsxs("div",{children:[o.jsx("h4",{className:"mb-4",children:"Profile Details"}),o.jsxs("form",{onSubmit:rt,children:[o.jsxs("div",{className:"d-flex align-items-center mb-4",children:[o.jsx("img",{src:c,alt:"avatar",style:G.avatar}),o.jsxs("div",{className:"ms-3",children:[o.jsx("h5",{children:"Change Profile Image"}),"                          ",o.jsx("label",{htmlFor:"upload-avatar",style:{display:"inline-block",padding:"10px 20px",fontSize:"14px",color:"red",border:"2px solid red",borderRadius:"4px",backgroundColor:"transparent",cursor:"pointer",transition:"background-color 0.3s ease, color 0.3s ease"},onMouseEnter:ne=>{ne.target.style.backgroundColor="red",ne.target.style.color="white"},onMouseLeave:ne=>{ne.target.style.backgroundColor="transparent",ne.target.style.color="red"},children:"Upload Profile Picture"}),o.jsx("div",{style:{fontSize:"12px",marginTop:"5px",color:"#666"},children:"Maximum file size: 3MB"}),o.jsx("input",{type:"file",id:"upload-avatar",className:"form-control mt-2",name:"image",onChange:Ve,style:{display:"none"},accept:"image/*"})]})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"form-label",children:"UserName"}),o.jsx("input",{type:"text",className:"form-control",name:"full_name",value:a.full_name,onChange:Be,required:!0})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"form-label",children:"About Me"}),o.jsx("textarea",{className:"form-control",name:"about",rows:"4",value:a.about,onChange:Be})]}),"                      ",o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Update Profile"}),h&&o.jsx("span",{id:"profile-message",style:G.successMessage,children:h})]})]}),n==="subscriptions"&&o.jsxs("div",{children:[o.jsx("h4",{className:"mb-4",children:"Manage Subscriptions"}),D!=null&&D.is_active?o.jsxs("div",{style:{position:"relative",margin:"20px",padding:"20px",width:"300px",borderRadius:"15px",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.2)",backgroundColor:"#f8f9fa",color:"#000",textAlign:"left",fontFamily:"Arial, sans-serif"},children:[o.jsx("h2",{style:{fontSize:"32px",fontWeight:"bold",marginBottom:"10px",background:"linear-gradient(135deg, #EF4135, #0055A4)",backgroundSize:"100% 150%",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:((Ae=D==null?void 0:D.package)==null?void 0:Ae.name)||"N/A"}),o.jsxs("p",{style:{fontSize:"16px",marginBottom:"10px",color:D!=null&&D.valid_until&&new Date(D.valid_until)-new Date<=10*24*60*60*1e3?"red":"#0bde00"},children:[o.jsx("strong",{children:"Active Until:"})," ",D!=null&&D.valid_until?new Date(D.valid_until).toLocaleDateString():"No expiration date"]}),o.jsxs("p",{style:{fontSize:"16px",marginBottom:"10px"},children:[o.jsx("strong",{children:"Included Courses:"})," ",((be=D==null?void 0:D.package)==null?void 0:be.include_all_courses)===!0||((re=D==null?void 0:D.package)==null?void 0:re.include_all_courses)===1?"All Courses":"Refer to package details"]}),o.jsx("button",{className:"btn btn-danger mb-3",onClick:it,disabled:U,style:{width:"100%"},children:"Cancel Subscription"}),(D==null?void 0:D.valid_until)&&new Date(D.valid_until)-new Date<=10*24*60*60*1e3&&o.jsxs("div",{className:"alert alert-warning mb-3",children:[o.jsx("strong",{children:"Your subscription is expiring soon!"}),o.jsx("br",{}),"Please renew to maintain access to your courses."]}),o.jsx("button",{className:"btn btn-success",onClick:Ee,disabled:U,style:{width:"100%"},children:U?"Processing...":"Renew Subscription"})]}):o.jsxs("div",{className:"subscription-packages-container",children:[o.jsx("div",{className:"mb-3",children:o.jsx("p",{children:"You do not have an active subscription. Choose a package below:"})}),o.jsx("div",{className:"row",children:z&&z.length>0?z.map(ne=>o.jsx("div",{className:"col-md-6 mb-4",children:o.jsx("div",{className:"card shadow border-0 h-100",style:{backgroundColor:g?"#212121":"#ffffff",color:g?"white":"#333",borderRadius:"6px",border:g?"none":"1px solid #e0e0e0"},children:o.jsxs("div",{className:"card-body text-center p-0 d-flex flex-column",children:[o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"mb-4",children:ne.name}),o.jsxs("h2",{className:"display-4 fw-bold mb-0",style:{fontSize:"42px"},children:["R",ne.price,o.jsx("span",{className:`text fs-6 fw-light ${g?"text":"text-secondary"}`,children:"/month"})]})]}),o.jsxs("div",{style:{backgroundColor:"#33b5e5",padding:"10px",color:"white",textAlign:"center"},children:["Duration: ",ne.duration||ne.duration," days"]}),o.jsx("div",{className:"p-4 text-start flex-grow-1",children:o.jsxs("ul",{className:"list-unstyled",children:[ne.include_all_courses&&o.jsx("li",{className:"mb-3",children:"✓ Access to premium content"}),o.jsx("li",{className:"mb-3",children:"✓ Expert teacher support"}),o.jsxs("li",{className:"mb-3",children:["✓ Course access for ",ne.duration_days||ne.duration," days"]}),ne.features&&ne.features.map((ce,Te)=>ce.included&&o.jsxs("li",{className:"mb-3",children:["✓ ",ce.name]},Te))]})}),o.jsx("div",{className:"p-4 mt-auto",children:o.jsx("button",{style:{backgroundColor:"#dc3545",border:"none",borderRadius:"4px",color:"white",padding:"10px 24px",fontSize:"16px",fontWeight:"500",width:"100%"},onClick:()=>De(ne),disabled:U,className:"btn-get-started",children:U?"Processing...":"Get Started"})})]})})},ne.id)):o.jsx("div",{className:"col-12 text-center py-5",children:o.jsx("p",{children:"No subscription packages found. Please check back later."})})})]})]}),n==="Appearance"&&o.jsxs("div",{children:[o.jsx("h4",{className:"mb-4",children:"Appearance Settings"}),o.jsxs("div",{className:"appearance-setting-container p-4 mb-4 bg-light rounded",children:[o.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-4",children:[o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("div",{className:"me-3",children:g?o.jsx(x$,{size:24}):o.jsx(w$,{size:24})}),o.jsx("span",{className:"fw-medium",children:"Dark Mode"})]}),o.jsx(Ue.Check,{type:"switch",id:"dark-mode-switch",checked:g,onChange:de})]}),o.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-4",children:[o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("div",{className:"me-3",children:o.jsx(b$,{size:24})}),o.jsx("span",{className:"fw-medium",children:"Font Size"})]}),o.jsx(Ue.Range,{min:12,max:24,step:1,value:y,onChange:ee,style:{width:"50%"}})]}),o.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-4",children:[o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("div",{className:"me-3",children:o.jsx(y$,{size:24})}),o.jsx("span",{className:"fw-medium",children:"High Contrast"})]}),o.jsx(Ue.Check,{type:"switch",id:"high-contrast-switch",checked:w,onChange:fe})]}),o.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-4",children:[o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("div",{className:"me-3",children:o.jsx(v$,{size:24})}),o.jsx("span",{className:"fw-medium",children:"Density"})]}),o.jsxs(Ue.Select,{value:N,onChange:ve,style:{width:"50%"},children:[o.jsx("option",{value:"comfortable",children:"Comfortable"}),o.jsx("option",{value:"compact",children:"Compact"})]})]})]}),o.jsxs("div",{className:`p-4 mb-4 rounded border ${g?"bg-dark text-light":"bg-white"}`,children:[o.jsx("h4",{children:"Settings Preview"}),o.jsxs("p",{style:{fontSize:`${y}px`},children:["This text shows how your current settings will appear.",g?" Dark mode is enabled.":" Light mode is enabled.",w?" High contrast is enabled.":"","Font size is set to ",y,"px and UI density is ",N,"."]}),o.jsxs("div",{className:"d-flex gap-2 mt-3",children:[o.jsx("button",{className:"btn btn-primary",children:"Primary Button"}),o.jsx("button",{className:"btn btn-secondary",children:"Secondary Button"})]})]}),o.jsx("button",{className:"btn btn-outline-danger mt-3",onClick:()=>{b(!1),x(16),C(!1),A("default"),P("comfortable"),setTimeout(()=>H(),0)},children:"Reset to Default Settings"}),o.jsx("button",{className:"btn btn-primary mt-3 ms-3",onClick:Ce,disabled:!M,children:"Apply Settings"})]})]})]})})]})]})}const u2e=({certificate:t})=>{const{studentName:e,courseName:n,completionDate:r,filePath:s}=t,i=()=>{window.open(s,"_blank")};return o.jsxs("div",{className:"certificate-card border rounded p-4 shadow-lg",children:[o.jsx("h2",{className:"text-xl font-bold",children:n}),o.jsxs("p",{className:"text-gray-700",children:["Awarded to: ",e]}),o.jsxs("p",{className:"text-gray-500",children:["Completion Date: ",new Date(r).toLocaleDateString()]}),o.jsx("button",{className:"mt-4 bg-blue-500 text-white py-2 px-4 rounded",onClick:i,children:"Download Certificate"})]})};function d2e(){const[t,e]=_.useState([]),[n,r]=_.useState(!0),[s,i]=_.useState(null),[a,l]=_.useState(null),[c,u]=_.useState(!1);_.useEffect(()=>{(async()=>{try{const g=await U_e();e(g)}catch{i("Failed to load certificates.")}finally{r(!1)}})()},[]);const h=m=>{l(m),u(!0)},f=()=>{u(!1),l(null)};return n?o.jsx("div",{children:"Loading..."}):s?o.jsx("div",{children:s}):o.jsxs("div",{className:"container mt-4",children:[o.jsx("h1",{className:"mb-4",children:"Your Certificates"}),o.jsx("p",{children:"Here you can view and download your certificates."}),o.jsx("div",{className:"row",children:t.map(m=>o.jsx("div",{className:"col-md-4 mb-4",children:o.jsx(u2e,{certificate:m,onClick:()=>h(m)})},m.id))}),c&&o.jsx(I9,{certificate:a,onClose:f})]})}function h2e(){var xe,at,lt,ze,Le,ct,tt,He,gt,ie,Ie,We,yt,Ye;const[t,e]=_.useState([]),[n,r]=_.useState(!0),[s,i]=_.useState(!0),[a,l]=_.useState(!1),[c,u]=_.useState(window.innerWidth<700),[h,f]=_.useState(!1),[m,g]=_.useState(null),[b,y]=_.useState(0),[x,w]=_.useState(null),[C,k]=_.useState([]),[A,N]=_.useState(!1),[P,M]=_.useState(!1),[L,D]=_.useState(!1),[S,z]=_.useState(5),[O,U]=_.useState([]),[j,V]=_.useState([]),[K,te]=_.useState(!1),[J,X]=_.useState(!1),[Y,F]=_.useState(!1),[H,de]=_.useState(!1),[ee,fe]=_.useState([]),[ve,Ce]=_.useState([]),[De,Ee]=_.useState("all"),[Be,Ve]=_.useState("newest"),rt=fr(),it="#0055A4",G="#FFFFFF",Ae="#EF4135",be=async Ze=>{N(!0);try{const ae=(await mt().get(`student/quiz/${Ze}/`)).data;g(ae),k(ae.questions||[]),y(0),w(null),f(!0),M(!1),z(5),U([]),V([]),te(!1),de(!1),X(!1),fe([]),Ce([])}catch{}finally{N(!1)}},re=()=>{F(!1),f(!1),y(0),w(null),k([]),g(null),U([]),V([]),z(5),M(!1),te(!1),de(!1),X(!1)},ne=async()=>{var Ze;if(((Ze=C[b])==null?void 0:Ze.type)==="sentence_building"){if(ee.length===0)return;const Z=ee.map(oe=>oe.originalIndex),ae=C[b].options.correct_order||Array.from({length:C[b].options.words.length},(oe,Ne)=>Ne),me=Z.length===ae.length&&Z.every((oe,Ne)=>oe===ae[Ne]);D(me),M(!0);try{await mt().post("student/quiz-answer-check/",{quiz_id:m.id,question_id:C[b].id,selected_answer:Z,question_type:"sentence_building"})}catch{}setTimeout(()=>{me?(V(oe=>[...oe,b]),J&&U(oe=>oe.filter(Ne=>Ne!==b)),ce()):(z(oe=>oe-1),J||O.includes(b)||U(oe=>[...oe,b]),S<=1?(z(0),de(!0),setTimeout(()=>{f(!1),de(!1)},3e3)):ye(C[b])),M(!1)},2e3)}else{if(x===null)return;const Z=C[b],ae=(Z==null?void 0:Z.options)||[];try{const me=await mt().post("student/quiz-answer-check/",{quiz_id:m.id,question_id:Z.id,selected_answer:x}),{is_correct:oe}=me.data;D(oe),M(!0),setTimeout(()=>{oe?(V(Ne=>[...Ne,b]),J&&U(Ne=>Ne.filter(xt=>xt!==b)),ce()):(z(Ne=>Ne-1),J||O.includes(b)||U(Ne=>[...Ne,b]),S<=1?(z(0),de(!0),setTimeout(()=>{f(!1),de(!1)},3e3)):w(null)),M(!1)},2e3)}catch{let oe=!1;if(Z.type==="true_false"||Z.type==="multiple_choice"){const Ne=ae.findIndex(xt=>xt.isCorrect===!0);oe=x===Ne}else if(Z.type==="checkbox"){const Ne=Array.isArray(x)?x:[x],xt=ae.reduce((At,$t,wt)=>($t.isCorrect&&At.push(wt),At),[]);oe=Ne.length===xt.length&&Ne.every(At=>xt.includes(At))}D(oe),M(!0),setTimeout(()=>{oe?(V(Ne=>[...Ne,b]),J&&U(Ne=>Ne.filter(xt=>xt!==b)),ce()):(z(Ne=>Ne-1),J||O.includes(b)||U(Ne=>[...Ne,b]),S<=1?(z(0),de(!0),setTimeout(()=>{f(!1),de(!1)},3e3)):w(null)),M(!1)},2e3)}}},ce=()=>{if(J)if(O.length<=1)te(!0),X(!1),setTimeout(()=>{f(!1)},3e3);else{const Z=(O.indexOf(b)+1)%O.length;y(O[Z]),w(null)}else b<C.length-1?(y(b+1),w(null)):O.length>0?(X(!0),y(O[0]),w(null)):(te(!0),setTimeout(()=>{f(!1)},3e3))},Te=()=>{i(!s)};_.useEffect(()=>{const Ze=()=>{const ae=document.body.classList.contains("dark-mode")||localStorage.getItem("appearanceSettings")&&JSON.parse(localStorage.getItem("appearanceSettings")).darkMode;l(ae)};Ze();const Z=()=>{Ze()};return window.addEventListener("storage",Z),()=>{window.removeEventListener("storage",Z)}},[]);const he=async()=>{var Ze;try{r(!0);const Z=await mt().get(`student/quiz-list/${(Ze=zt())==null?void 0:Ze.user_id}/`);e(Z.data),r(!1)}catch(Z){Z.response&&Z.response.status===401&&(xn.remove("access_token"),xn.remove("refresh_token"),rt("/"))}};_.useEffect(()=>{var Z;if(!((Z=zt())==null?void 0:Z.user_id)){xn.remove("access_token"),xn.remove("refresh_token"),rt("/");return}he()},[]);const se=Ze=>{const Z=Ze.target.value.toLowerCase();if(Z==="")he();else{const ae=t.filter(me=>me.title.toLowerCase().includes(Z));e(ae)}},ye=Ze=>{var Z;if(Ze.type==="sentence_building"&&Array.isArray((Z=Ze.options)==null?void 0:Z.words)){const me=[...Ze.options.words.map((oe,Ne)=>({word:oe,originalIndex:Ne}))];for(let oe=me.length-1;oe>0;oe--){const Ne=Math.floor(Math.random()*(oe+1));[me[oe],me[Ne]]=[me[Ne],me[oe]]}fe([]),Ce(me)}};_.useEffect(()=>{if(C.length>0&&b<C.length){const Ze=C[b];(Ze==null?void 0:Ze.type)==="sentence_building"&&ye(Ze),M(!1),w(null)}},[C,b]),_.useEffect(()=>{const Ze=()=>u(window.innerWidth<700);return window.addEventListener("resize",Ze),()=>window.removeEventListener("resize",Ze)},[]);const Pe=[...new Map(t.filter(Ze=>Ze.course_title).map(Ze=>[Ze.course,{id:Ze.course,title:Ze.course_title}])).values()],Oe=t.filter(Ze=>De==="all"||Ze.course&&String(Ze.course)===String(De)).sort((Ze,Z)=>Be==="newest"?new Date(Z.created_at)-new Date(Ze.created_at):Be==="oldest"?new Date(Ze.created_at)-new Date(Z.created_at):Be==="title_asc"?Ze.title.localeCompare(Z.title):Be==="title_desc"?Z.title.localeCompare(Ze.title):0);return o.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:a?"#121212":"white"},children:[!c&&o.jsx(dc,{sidebarCollapsed:s}),o.jsxs("div",{style:{flex:1,marginLeft:c?0:s?"80px":"270px",transition:"margin-left 0.3s ease",backgroundColor:a?"#121212":"white",color:a?"white":"black"},children:[o.jsx(eN,{sidebarCollapsed:s,toggleSidebar:Te}),o.jsxs("div",{style:{padding:"20px"},children:[o.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:o.jsx("h4",{style:{color:a?"white":"black"},children:"My Quizzes"})}),o.jsx("div",{className:"mb-4",children:o.jsxs("div",{style:{display:"flex",gap:16,flexWrap:"wrap"},children:[o.jsx("input",{type:"search",className:"form-control",placeholder:"Search your quizzes",onChange:se,style:{flex:1,minWidth:200,backgroundColor:a?"rgb(255, 255, 255)":"rgb(247, 247, 247)",border:a?"1px solid rgba(89, 89, 89, 0.8)":"1px solid rgba(164, 164, 164, 0.8)",color:"black"}}),o.jsxs("select",{value:De,onChange:Ze=>Ee(Ze.target.value),style:{backgroundColor:a?"rgb(255, 255, 255)":"rgb(247, 247, 247)",border:a?"1px solid rgba(89, 89, 89, 0.8)":"1px solid rgba(164, 164, 164, 0.8)",color:"black",borderRadius:6,padding:"6px 12px",minWidth:160},children:[o.jsx("option",{value:"all",children:"All Courses"}),Pe.map(Ze=>o.jsx("option",{value:Ze.id,children:Ze.title},Ze.id))]}),o.jsxs("select",{value:Be,onChange:Ze=>Ve(Ze.target.value),style:{backgroundColor:a?"rgb(255, 255, 255)":"rgb(247, 247, 247)",border:a?"1px solid rgba(89, 89, 89, 0.8)":"1px solid rgba(164, 164, 164, 0.8)",color:"black",borderRadius:6,padding:"6px 12px",minWidth:140},children:[o.jsx("option",{value:"newest",children:"Newest First"}),o.jsx("option",{value:"oldest",children:"Oldest First"}),o.jsx("option",{value:"title_asc",children:"Title (A-Z)"}),o.jsx("option",{value:"title_desc",children:"Title (Z-A)"})]})]})}),o.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:8,gap:12},children:[o.jsxs("span",{style:{color:a?"#bbb":"#444",fontSize:15},children:["Showing ",Oe.length," of ",t.length," quizzes"]}),(De!=="all"||Be!=="newest"||t.length!==Oe.length)&&o.jsx("button",{onClick:()=>{Ee("all"),Ve("newest"),he()},style:{background:"#eee",color:"#333",border:"none",borderRadius:6,padding:"4px 14px",fontWeight:500,cursor:"pointer",fontSize:14},children:"Clear"})]}),n&&o.jsx("p",{style:{color:a?"white":"black"},children:"Loading..."}),!n&&Oe.length>0&&o.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"24px",marginTop:"10px",alignItems:"flex-start"},children:Oe.map((Ze,Z)=>{var ae,me,oe;return o.jsxs("div",{onClick:()=>be(Ze.id),style:{cursor:"pointer",width:260,minHeight:180,maxWidth:280,background:a?"#23272f":"#fff",borderRadius:"14px",boxShadow:a?"0 2px 12px rgba(0,0,0,0.5)":"0 2px 12px rgba(0,0,0,0.08)",border:"1px solid "+(a?"#333":"#eee"),padding:"18px 18px 14px 18px",display:"flex",flexDirection:"column",transition:"transform 0.13s, box-shadow 0.13s",position:"relative",outline:"none"},tabIndex:0,onKeyDown:Ne=>{(Ne.key==="Enter"||Ne.key===" ")&&be(Ze.id)},onMouseEnter:Ne=>{Ne.currentTarget.style.transform="scale(1.03)",Ne.currentTarget.style.boxShadow="0 6px 24px rgba(0,0,0,0.13)"},onMouseLeave:Ne=>{Ne.currentTarget.style.transform="scale(1)",Ne.currentTarget.style.boxShadow=a?"0 2px 12px rgba(0,0,0,0.5)":"0 2px 12px rgba(0,0,0,0.08)"},children:[o.jsx("h6",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"8px",color:a?"white":"#222",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%",display:"block"},title:Ze.title,children:Ze.title}),Ze.description&&o.jsx("div",{style:{fontSize:13,color:a?"#bbb":"#888",marginBottom:8,minHeight:32,overflow:"hidden",textOverflow:"ellipsis"},children:Ze.description}),o.jsxs("div",{style:{display:"flex",gap:10,marginBottom:8,alignItems:"center"},children:[o.jsxs("span",{children:["📝 ",Ze.num_questions??((ae=Ze.questions)==null?void 0:ae.length)??"?"," questions  ⏱️ ",Ze.num_questions??((me=Ze.questions)==null?void 0:me.length)?`${Math.ceil((Ze.num_questions??((oe=Ze.questions)==null?void 0:oe.length))*.5)} min`:"Time: ?"]}),Ze.category&&o.jsx("span",{style:{background:"#0055A4",color:"#fff",borderRadius:8,fontSize:12,padding:"2px 8px",marginLeft:"auto"},children:Ze.category})]}),o.jsx("button",{className:"btn btn-sm",style:{backgroundColor:"#0055A4",color:"white",marginTop:"auto",borderRadius:6,fontWeight:500,letterSpacing:.5,fontSize:14,boxShadow:"none",border:"none",outline:"none",pointerEvents:"none"},tabIndex:-1,children:"Start Quiz"})]},Z)})}),!n&&Oe.length===0&&o.jsxs("div",{style:{textAlign:"center",marginTop:"40px",color:a?"#aaa":"#555"},children:[o.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/4076/4076549.png",alt:"No quizzes",style:{width:80,opacity:.5,marginBottom:16}}),o.jsx("div",{style:{fontSize:18,fontWeight:500},children:"No quizzes found!"}),o.jsx("div",{style:{fontSize:14},children:"Try a different filter or ask your teacher to assign one."})]})]})]}),o.jsx(vt,{show:h,onHide:()=>{P||F(!0)},centered:!0,size:"lg",backdrop:"static",className:"duolingo-quiz-modal",children:o.jsxs(vt.Body,{className:"p-0",children:[o.jsxs("div",{style:{backgroundColor:a?"#1c2c3a":"rgb(207, 207, 207)",minHeight:"500px",borderRadius:"8px",position:"relative",padding:"0"},children:[o.jsx("div",{style:{height:"6px",backgroundColor:a?"#2e3e4a":G,borderRadius:"8px 8px 0 0",overflow:"hidden"},children:o.jsx("div",{style:{height:"100%",width:`${j.length/C.length*100}%`,backgroundColor:Ae,transition:"width 0.3s ease"}})}),o.jsxs("div",{style:{position:"absolute",top:"20px",right:"20px",display:"flex",alignItems:"center",backgroundColor:"rgba(255,255,255,0.2)",borderRadius:"20px",padding:"5px 10px"},children:[o.jsx("span",{style:{color:"red",marginRight:"5px",fontSize:"16px"},children:"❤️"}),o.jsx("span",{style:{color:a?"white":"black",fontWeight:"bold",fontSize:"16px"},children:S})]}),J&&o.jsx("div",{style:{position:"absolute",top:"20px",left:"20px",backgroundColor:"rgba(255,255,255,0.2)",borderRadius:"20px",padding:"5px 10px",color:"white"},children:"Review Mode"}),H?o.jsxs("div",{style:{padding:"30px 20px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%",minHeight:"400px"},children:[o.jsx("div",{style:{width:"150px",height:"150px",borderRadius:"50%",backgroundColor:Ae,display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"30px"},children:o.jsx($f,{style:{fontSize:"80px",color:"white"}})}),o.jsx("h2",{style:{color:a?"white":"black",marginBottom:"20px",textAlign:"center"},children:"Quiz Failed!"}),o.jsx("p",{style:{color:a?"white":"black",fontSize:"20px",textAlign:"center",marginBottom:"30px"},children:"You ran out of hearts! Try again."}),o.jsxs("p",{style:{color:a?"white":"black",fontSize:"16px",textAlign:"center"},children:["You completed ",j.length," out of ",C.length," questions correctly."]})]}):K?o.jsxs("div",{style:{padding:"30px 20px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%",minHeight:"400px"},children:[o.jsx("div",{style:{width:"150px",height:"150px",borderRadius:"50%",backgroundColor:"#4CAF50",display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"30px"},children:o.jsx(hv,{style:{fontSize:"80px",color:"white"}})}),o.jsx("h2",{style:{color:a?"white":"black",marginBottom:"20px",textAlign:"center"},children:"Quiz Completed!"}),o.jsxs("p",{style:{color:a?"white":"black",fontSize:"20px",textAlign:"center"},children:["You got ",j.length," out of ",C.length," questions correct!"]})]}):C.length>0&&b<C.length&&o.jsxs("div",{style:{padding:"30px 20px",display:"flex",flexDirection:"column",minHeight:"500px"},children:[o.jsxs("div",{style:{flex:1},children:[o.jsxs("div",{style:{textAlign:"center",marginBottom:"30px"},children:[o.jsxs("h3",{style:{color:a?"white":"black",marginBottom:"10px"},children:["Question ",J?"(Review)":b+1]}),o.jsx("h2",{style:{color:a?"white":"black",fontSize:"24px"},children:((xe=C[b])==null?void 0:xe.title)||"Select the correct answer"})]}),o.jsx("div",{style:{textAlign:"center",backgroundColor:G,color:"#333",padding:"10px 15px",borderRadius:"20px",width:"fit-content",margin:"0 auto 30px",boxShadow:"0 2px 5px rgba(0,0,0,0.2)"},children:((at=C[b])==null?void 0:at.description)||"Choose the right answer!"}),P&&o.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:L?"rgba(0,100,0,0.9)":"rgba(200,0,0,0.9)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:10},children:L?o.jsxs(o.Fragment,{children:[o.jsx(hv,{style:{fontSize:"100px",color:"white"}}),o.jsx("h2",{style:{color:"white",marginTop:"20px"},children:"Correct!"})]}):o.jsxs(o.Fragment,{children:[o.jsx($f,{style:{fontSize:"100px",color:"white"}}),o.jsx("h2",{style:{color:"white",marginTop:"20px"},children:"Incorrect!"})]})}),o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px",maxWidth:"600px",margin:"0 auto"},children:Array.isArray((lt=C[b])==null?void 0:lt.options)?(ze=C[b])==null?void 0:ze.options.map((Ze,Z)=>{var ae;return o.jsxs("div",{onClick:()=>{var me;if(!P)if(((me=C[b])==null?void 0:me.type)==="checkbox"){const oe=Array.isArray(x)?[...x]:[],Ne=oe.indexOf(Z);Ne===-1?oe.push(Z):oe.splice(Ne,1),w(oe)}else w(Z)},style:{padding:"14px",backgroundColor:Array.isArray(x)?x.includes(Z)?G:"rgba(255,255,255,0.9)":x===Z?G:"rgba(255,255,255,0.9)",border:Array.isArray(x)?x.includes(Z)?`2px solid ${Ae}`:"2px solid transparent":x===Z?`2px solid ${Ae}`:"2px solid transparent",borderRadius:"12px",cursor:P?"default":"pointer",display:"flex",alignItems:"center",color:"#333"},children:[o.jsx("div",{style:{width:"30px",height:"30px",borderRadius:"50%",backgroundColor:it,color:"white",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"10px",fontWeight:"bold"},children:Z+1}),o.jsx("div",{style:{flex:1},children:Ze.text}),((ae=C[b])==null?void 0:ae.type)==="checkbox"&&o.jsx("div",{style:{width:"20px",height:"20px",border:"2px solid #ccc",marginLeft:"10px",backgroundColor:Array.isArray(x)&&x.includes(Z)?Ae:"transparent"}})]},Z)}):Object.entries(((Le=C[b])==null?void 0:Le.options)||{}).map(([Ze,Z],ae)=>["words","correct_order","translation"].includes(Ze)?null:o.jsxs("div",{onClick:()=>{P||w(ae)},style:{padding:"14px",backgroundColor:x===ae?G:"rgba(255,255,255,0.9)",border:x===ae?`2px solid ${Ae}`:"2px solid transparent",borderRadius:"12px",cursor:P?"default":"pointer",display:"flex",alignItems:"center",color:"#333"},children:[o.jsx("div",{style:{width:"30px",height:"30px",borderRadius:"50%",backgroundColor:it,color:"white",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"10px",fontWeight:"bold"},children:ae+1}),o.jsx("div",{style:{flex:1},children:Z.text||Z})]},ae)).filter(Boolean)}),((ct=C[b])==null?void 0:ct.type)==="sentence_building"&&o.jsxs("div",{style:{padding:"20px 0"},children:[((He=(tt=C[b])==null?void 0:tt.options)==null?void 0:He.translation)&&o.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.2)",padding:"10px 15px",marginBottom:"20px",borderRadius:"10px",color:a?"white":"black",textAlign:"center",fontStyle:"italic"},children:(ie=(gt=C[b])==null?void 0:gt.options)==null?void 0:ie.translation}),o.jsxs(Vf,{onDragEnd:Ze=>{if(!Ze.destination)return;const Z=Ze.source,ae=Ze.destination;if(Z.droppableId==="word-bank"&&ae.droppableId==="sentence-area"){const me=ve[Z.index];Ce(oe=>oe.filter((Ne,xt)=>xt!==Z.index)),fe(oe=>{const Ne=[...oe];return Ne.splice(ae.index,0,me),Ne})}else if(Z.droppableId==="sentence-area"&&ae.droppableId==="word-bank"){const me=ee[Z.index];fe(oe=>oe.filter((Ne,xt)=>xt!==Z.index)),Ce(oe=>{const Ne=[...oe];return Ne.splice(ae.index,0,me),Ne})}else Z.droppableId==="sentence-area"&&ae.droppableId==="sentence-area"?fe(me=>{const oe=[...me],[Ne]=oe.splice(Z.index,1);return oe.splice(ae.index,0,Ne),oe}):Z.droppableId==="word-bank"&&ae.droppableId==="word-bank"&&Ce(me=>{const oe=[...me],[Ne]=oe.splice(Z.index,1);return oe.splice(ae.index,0,Ne),oe})},children:[o.jsx(Jl,{droppableId:"sentence-area",direction:"horizontal",children:(Ze,Z)=>o.jsxs("div",{ref:Ze.innerRef,...Ze.droppableProps,style:{minHeight:"80px",backgroundColor:a?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.15)",borderRadius:"10px",padding:"15px",marginBottom:"20px",display:"flex",flexWrap:"wrap",alignItems:"center",border:Z.isDraggingOver?"2px dashed white":"2px solid transparent"},children:[ee.length===0?o.jsx("div",{style:{color:a?"rgba(255,255,255,0.5)":"black",textAlign:"center",width:"100%"},children:"Drag words here to form a sentence"}):ee.map((ae,me)=>o.jsx(Zl,{draggableId:`selected-${me}`,index:me,children:(oe,Ne)=>o.jsx("div",{ref:oe.innerRef,...oe.draggableProps,...oe.dragHandleProps,style:{...oe.draggableProps.style,backgroundColor:G,color:"#333",padding:"8px 15px",margin:"5px",borderRadius:"5px",fontWeight:"500",boxShadow:Ne.isDragging?"0 5px 10px rgba(0,0,0,0.3)":"0 2px 4px rgba(0,0,0,0.1)",transform:Ne.isDragging?`${oe.draggableProps.style.transform} scale(1.05)`:oe.draggableProps.style.transform},children:ae.word})},`selected-${me}`)),Ze.placeholder]})}),o.jsx(Jl,{droppableId:"word-bank",direction:"horizontal",children:(Ze,Z)=>o.jsxs("div",{ref:Ze.innerRef,...Ze.droppableProps,style:{backgroundColor:"rgba(0,0,0,0.2)",padding:"15px",borderRadius:"10px",display:"flex",flexWrap:"wrap",gap:"10px",justifyContent:"center",minHeight:"70px",border:Z.isDraggingOver?"2px dashed white":"2px solid transparent"},children:[ve.length===0?o.jsx("div",{style:{color:"rgba(255,255,255,0.5)",textAlign:"center",width:"100%"},children:"All words have been used"}):ve.map((ae,me)=>o.jsx(Zl,{draggableId:`remaining-${me}`,index:me,children:(oe,Ne)=>o.jsx("div",{ref:oe.innerRef,...oe.draggableProps,...oe.dragHandleProps,style:{...oe.draggableProps.style,backgroundColor:it,color:"white",padding:"8px 15px",margin:"5px",borderRadius:"5px",fontWeight:"500",boxShadow:Ne.isDragging?"0 5px 10px rgba(0,0,0,0.3)":"0 2px 4px rgba(0,0,0,0.2)",transform:Ne.isDragging?`${oe.draggableProps.style.transform} scale(1.05)`:oe.draggableProps.style.transform},children:ae.word})},`remaining-${me}`)),Ze.placeholder]})})]})]})]}),o.jsx("div",{style:{marginTop:"40px",display:"flex",justifyContent:"center",padding:"20px"},children:o.jsx("button",{onClick:ne,disabled:(((Ie=C[b])==null?void 0:Ie.type)==="sentence_building"?ee.length===0:x===null)||P,style:{padding:"12px 40px",backgroundColor:(((We=C[b])==null?void 0:We.type)==="sentence_building"?ee.length>0:x!==null)&&!P?Ae:"#e5e5e5",border:"none",borderRadius:"8px",color:(((yt=C[b])==null?void 0:yt.type)==="sentence_building"?ee.length>0:x!==null)&&!P?"white":"#999",fontWeight:"bold",cursor:(((Ye=C[b])==null?void 0:Ye.type)==="sentence_building"?ee.length>0:x!==null)&&!P?"pointer":"not-allowed"},children:"CHECK"})})]})]}),o.jsx("div",{style:{position:"absolute",top:"15px",left:"15px",zIndex:5},children:o.jsx("button",{onClick:()=>F(!0),style:{backgroundColor:"rgba(255,255,255,0.2)",color:a?"white":"black",border:"none",borderRadius:"4px",padding:"4px 10px",cursor:"pointer",fontSize:"14px"},children:"Quit"})})]})}),Y&&o.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.8)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2e3},children:o.jsxs("div",{style:{backgroundColor:"#fff",padding:"20px",borderRadius:"8px",width:"80%",maxWidth:"400px",textAlign:"center"},children:[o.jsx("h3",{style:{color:"#333",marginBottom:"20px"},children:"Are you sure you want to quit?"}),o.jsx("p",{style:{color:"#666",marginBottom:"25px"},children:"If you quit now, you'll lose your progress and have to restart the quiz."}),o.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"15px"},children:[o.jsx("button",{onClick:()=>F(!1),style:{backgroundColor:"#ccc",color:"#333",border:"none",borderRadius:"4px",padding:"8px 20px",cursor:"pointer",fontWeight:"bold"},children:"Cancel"}),o.jsx("button",{onClick:re,style:{backgroundColor:Ae,color:"white",border:"none",borderRadius:"4px",padding:"8px 20px",cursor:"pointer",fontWeight:"bold"},children:"Quit Quiz"})]})]})}),c&&o.jsx(lu,{})]})}const L9=6048e5,f2e=864e5,F9=6e4,B9=36e5,mO=Symbol.for("constructDateFrom");function ac(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&mO in t?t[mO](e):t instanceof Date?new t.constructor(e):new Date(e)}function Li(t,e){return ac(e||t,t)}let p2e={};function ew(){return p2e}function Rg(t,e){var l,c,u,h;const n=ew(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(u=n.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??0,s=Li(t,e==null?void 0:e.in),i=s.getDay(),a=(i<r?7:0)+i-r;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function _v(t,e){return Rg(t,{...e,weekStartsOn:1})}function $9(t,e){const n=Li(t,e==null?void 0:e.in),r=n.getFullYear(),s=ac(n,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const i=_v(s),a=ac(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const l=_v(a);return n.getTime()>=i.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function gO(t){const e=Li(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function m2e(t,...e){const n=ac.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function yO(t,e){const n=Li(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function g2e(t,e,n){const[r,s]=m2e(n==null?void 0:n.in,t,e),i=yO(r),a=yO(s),l=+i-gO(i),c=+a-gO(a);return Math.round((l-c)/f2e)}function y2e(t,e){const n=$9(t,e),r=ac(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),_v(r)}function b2e(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function x2e(t){return!(!b2e(t)&&typeof t!="number"||isNaN(+Li(t)))}function v2e(t,e){const n=Li(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const w2e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},_2e=(t,e,n)=>{let r;const s=w2e[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function RS(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const S2e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},C2e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},T2e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},k2e={date:RS({formats:S2e,defaultWidth:"full"}),time:RS({formats:C2e,defaultWidth:"full"}),dateTime:RS({formats:T2e,defaultWidth:"full"})},E2e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},j2e=(t,e,n,r)=>E2e[t];function bm(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):a;s=t.formattingValues[l]||t.formattingValues[a]}else{const a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[l]||t.values[a]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const N2e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},A2e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},D2e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},P2e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},I2e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},O2e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},M2e=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},R2e={ordinalNumber:M2e,era:bm({values:N2e,defaultWidth:"wide"}),quarter:bm({values:A2e,defaultWidth:"wide",argumentCallback:t=>t-1}),month:bm({values:D2e,defaultWidth:"wide"}),day:bm({values:P2e,defaultWidth:"wide"}),dayPeriod:bm({values:I2e,defaultWidth:"wide",formattingValues:O2e,defaultFormattingWidth:"wide"})};function xm(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const a=i[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?F2e(l,f=>f.test(a)):L2e(l,f=>f.test(a));let u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const h=e.slice(a.length);return{value:u,rest:h}}}function L2e(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function F2e(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function B2e(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let a=t.valueCallback?t.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const l=e.slice(s.length);return{value:a,rest:l}}}const $2e=/^(\d+)(th|st|nd|rd)?/i,z2e=/\d+/i,U2e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},H2e={any:[/^b/i,/^(a|c)/i]},W2e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},V2e={any:[/1/i,/2/i,/3/i,/4/i]},q2e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Y2e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},G2e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},K2e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},X2e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Q2e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Z2e={ordinalNumber:B2e({matchPattern:$2e,parsePattern:z2e,valueCallback:t=>parseInt(t,10)}),era:xm({matchPatterns:U2e,defaultMatchWidth:"wide",parsePatterns:H2e,defaultParseWidth:"any"}),quarter:xm({matchPatterns:W2e,defaultMatchWidth:"wide",parsePatterns:V2e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:xm({matchPatterns:q2e,defaultMatchWidth:"wide",parsePatterns:Y2e,defaultParseWidth:"any"}),day:xm({matchPatterns:G2e,defaultMatchWidth:"wide",parsePatterns:K2e,defaultParseWidth:"any"}),dayPeriod:xm({matchPatterns:X2e,defaultMatchWidth:"any",parsePatterns:Q2e,defaultParseWidth:"any"})},J2e={code:"en-US",formatDistance:_2e,formatLong:k2e,formatRelative:j2e,localize:R2e,match:Z2e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function eSe(t,e){const n=Li(t,e==null?void 0:e.in);return g2e(n,v2e(n))+1}function tSe(t,e){const n=Li(t,e==null?void 0:e.in),r=+_v(n)-+y2e(n);return Math.round(r/L9)+1}function z9(t,e){var h,f,m,g;const n=Li(t,e==null?void 0:e.in),r=n.getFullYear(),s=ew(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(m=s.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,a=ac((e==null?void 0:e.in)||t,0);a.setFullYear(r+1,0,i),a.setHours(0,0,0,0);const l=Rg(a,e),c=ac((e==null?void 0:e.in)||t,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const u=Rg(c,e);return+n>=+l?r+1:+n>=+u?r:r-1}function nSe(t,e){var l,c,u,h;const n=ew(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(u=n.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??1,s=z9(t,e),i=ac((e==null?void 0:e.in)||t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Rg(i,e)}function rSe(t,e){const n=Li(t,e==null?void 0:e.in),r=+Rg(n,e)-+nSe(n,e);return Math.round(r/L9)+1}function rr(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Vc={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return rr(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):rr(n+1,2)},d(t,e){return rr(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return rr(t.getHours()%12||12,e.length)},H(t,e){return rr(t.getHours(),e.length)},m(t,e){return rr(t.getMinutes(),e.length)},s(t,e){return rr(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return rr(s,e.length)}},Hh={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},bO={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Vc.y(t,e)},Y:function(t,e,n,r){const s=z9(t,r),i=s>0?s:1-s;if(e==="YY"){const a=i%100;return rr(a,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):rr(i,e.length)},R:function(t,e){const n=$9(t);return rr(n,e.length)},u:function(t,e){const n=t.getFullYear();return rr(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return rr(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return rr(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Vc.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return rr(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=rSe(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):rr(s,e.length)},I:function(t,e,n){const r=tSe(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):rr(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Vc.d(t,e)},D:function(t,e,n){const r=eSe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):rr(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return rr(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return rr(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return rr(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=Hh.noon:r===0?s=Hh.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=Hh.evening:r>=12?s=Hh.afternoon:r>=4?s=Hh.morning:s=Hh.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Vc.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Vc.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):rr(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):rr(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Vc.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Vc.s(t,e)},S:function(t,e){return Vc.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return vO(r);case"XXXX":case"XX":return ld(r);case"XXXXX":case"XXX":default:return ld(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return vO(r);case"xxxx":case"xx":return ld(r);case"xxxxx":case"xxx":default:return ld(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+xO(r,":");case"OOOO":default:return"GMT"+ld(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+xO(r,":");case"zzzz":default:return"GMT"+ld(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return rr(r,e.length)},T:function(t,e,n){return rr(+t,e.length)}};function xO(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+rr(i,2)}function vO(t,e){return t%60===0?(t>0?"-":"+")+rr(Math.abs(t)/60,2):ld(t,e)}function ld(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=rr(Math.trunc(r/60),2),i=rr(r%60,2);return n+s+e+i}const wO=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},U9=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},sSe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return wO(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",wO(r,e)).replace("{{time}}",U9(s,e))},iSe={p:U9,P:sSe},aSe=/^D+$/,oSe=/^Y+$/,lSe=["D","DD","YY","YYYY"];function cSe(t){return aSe.test(t)}function uSe(t){return oSe.test(t)}function dSe(t,e,n){const r=hSe(t,e,n);if(console.warn(r),lSe.includes(t))throw new RangeError(r)}function hSe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const fSe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,pSe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,mSe=/^'([^]*?)'?$/,gSe=/''/g,ySe=/[a-zA-Z]/;function Sv(t,e,n){var h,f,m,g;const r=ew(),s=r.locale??J2e,i=r.firstWeekContainsDate??((f=(h=r.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,a=r.weekStartsOn??((g=(m=r.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??0,l=Li(t,n==null?void 0:n.in);if(!x2e(l))throw new RangeError("Invalid time value");let c=e.match(pSe).map(b=>{const y=b[0];if(y==="p"||y==="P"){const x=iSe[y];return x(b,s.formatLong)}return b}).join("").match(fSe).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const y=b[0];if(y==="'")return{isToken:!1,value:bSe(b)};if(bO[y])return{isToken:!0,value:b};if(y.match(ySe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:b}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return c.map(b=>{if(!b.isToken)return b.value;const y=b.value;(uSe(y)||cSe(y))&&dSe(y,e,String(t));const x=bO[y[0]];return x(l,y,s.localize,u)}).join("")}function bSe(t){const e=t.match(mSe);return e?e[1].replace(gSe,"'"):t}function xSe(t){return+Li(t)<Date.now()}function Qm(t,e){const n=()=>ac(e==null?void 0:e.in,NaN),s=SSe(t);let i;if(s.date){const u=CSe(s.date,2);i=TSe(u.restDateString,u.year)}if(!i||isNaN(+i))return n();const a=+i;let l=0,c;if(s.time&&(l=kSe(s.time),isNaN(l)))return n();if(s.timezone){if(c=ESe(s.timezone),isNaN(c))return n()}else{const u=new Date(a+l),h=Li(0,e==null?void 0:e.in);return h.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),h.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),h}return Li(a+l+c,e==null?void 0:e.in)}const Tb={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},vSe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,wSe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,_Se=/^([+-])(\d{2})(?::?(\d{2}))?$/;function SSe(t){const e={},n=t.split(Tb.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Tb.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Tb.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const s=Tb.timezone.exec(r);s?(e.time=r.replace(s[1],""),e.timezone=s[1]):e.time=r}return e}function CSe(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?s:i*100,restDateString:t.slice((r[1]||r[2]).length)}}function TSe(t,e){if(e===null)return new Date(NaN);const n=t.match(vSe);if(!n)return new Date(NaN);const r=!!n[4],s=vm(n[1]),i=vm(n[2])-1,a=vm(n[3]),l=vm(n[4]),c=vm(n[5])-1;if(r)return PSe(e,l,c)?jSe(e,l,c):new Date(NaN);{const u=new Date(0);return!ASe(e,i,a)||!DSe(e,s)?new Date(NaN):(u.setUTCFullYear(e,i,Math.max(s,a)),u)}}function vm(t){return t?parseInt(t):1}function kSe(t){const e=t.match(wSe);if(!e)return NaN;const n=LS(e[1]),r=LS(e[2]),s=LS(e[3]);return ISe(n,r,s)?n*B9+r*F9+s*1e3:NaN}function LS(t){return t&&parseFloat(t.replace(",","."))||0}function ESe(t){if(t==="Z")return 0;const e=t.match(_Se);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return OSe(r,s)?n*(r*B9+s*F9):NaN}function jSe(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const s=r.getUTCDay()||7,i=(e-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}const NSe=[31,null,31,30,31,30,31,31,30,31,30,31];function H9(t){return t%400===0||t%4===0&&t%100!==0}function ASe(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(NSe[e]||(H9(t)?29:28))}function DSe(t,e){return e>=1&&e<=(H9(t)?366:365)}function PSe(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function ISe(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function OSe(t,e){return e>=0&&e<=59}const ai="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTYgMjU2Ij48Y2lyY2xlIGN4PSIxMjgiIGN5PSIxMjgiIHI9IjEyMCIgZmlsbD0iI2U5ZWNlZiIvPjxjaXJjbGUgY3g9IjEyOCIgY3k9IjExMCIgcj0iNDAiIGZpbGw9IiM2Yzc1N2QiLz48cGF0aCBkPSJNMjE0LDIxMEE5MCw5MCwwLDAsMSwxMjgsMTcwYTkwLDkwLDAsMCwxLTg2LDQwYTkwLDkwLDAsMCwwLDg2LDQwQTkwLDkwLDAsMCwwLDIxNCwyMTBaIiBmaWxsPSIjNmM3NTdkIi8+PC9zdmc+",MSe=()=>{var ct,tt,He,gt;const[t,e]=_.useState([]),[n,r]=_.useState(null),[s,i]=_.useState([]),[a,l]=_.useState(""),[c,u]=_.useState(!1),[h,f]=_.useState(!1),[m,g]=_.useState([]),[b,y]=_.useState(""),x=_.useRef(null),w=mt(),C=fr(),[k,A]=_.useState(!1),N=_.useRef(null),[P,M]=_.useState(null),[L,D]=_.useState(!0),[S,z]=_.useState(!1),[O,U]=_.useState(!1),[j,V]=_.useState(Zt.createRef()),[K,te]=_.useState(Zt.createRef()),[J,X]=_.useState(Zt.createRef()),[Y,F]=_.useState(null),[H,de]=_.useState(null),ee=20*1024*1024,[fe,ve]=_.useState(window.innerWidth<700),[Ce,De]=_.useState(!1),Ee=()=>{D(!L)},Be=async()=>{try{u(!0);const Ie=(await w.get("/conversations/")).data.map(We=>(We.other_participant||(We.other_participant={}),We));e(Ie)}catch{nt().fire({icon:"error",title:"Failed to load conversations"})}finally{u(!1)}},Ve=async()=>{try{const ie=await w.get("/users/profiles/");g(ie.data)}catch{nt().fire({icon:"error",title:"Failed to load users"})}},rt=async()=>{var ie;try{const Ie=(ie=zt())==null?void 0:ie.user_id;if(!Ie)return;const We=await w.get(`/user/profile/${Ie}/`);M(We.data)}catch(Ie){Ie.response&&Ie.response.status===401&&C("/")}},it=ie=>{r(ie),Ae(ie.id),fe&&De(!0)},G=()=>{fe&&De(!1)},Ae=async ie=>{if(ie)try{u(!0);const Ie=await w.get(`/conversations/${ie}/`);i(Ie.data.messages||[]),e(We=>We.map(yt=>yt.id===ie?{...yt,unread_count:0}:yt))}catch{nt().fire({icon:"error",title:"Failed to load messages"})}finally{u(!1)}},be=async ie=>{if(n)try{await w.post("/typing-status/",{conversation_id:n.id,is_typing:ie})}catch{}},re=()=>{k||(A(!0),be(!0)),N.current&&clearTimeout(N.current),N.current=setTimeout(()=>{A(!1),be(!1)},2e3)},ne=ie=>{const Ie=ie.target.files[0];if(Ie){if(!Ie.type.startsWith("image/")){nt().fire({icon:"error",title:"Please select an image file"});return}if(Ie.size>ee){nt().fire({icon:"error",title:"File size exceeds 20MB limit"});return}F(Ie)}},ce=ie=>{const Ie=ie.target.files[0];if(!Ie)return;if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain","application/rtf"].includes(Ie.type)){nt().fire({icon:"error",title:"Please select a valid document file (PDF, DOC, DOCX, TXT, RTF)"});return}if(Ie.size>ee){nt().fire({icon:"error",title:"File size exceeds 20MB limit"});return}F(Ie)},Te=ie=>{const Ie=ie.target.files[0];if(Ie){if(Ie.size>ee){nt().fire({icon:"error",title:"File size exceeds 20MB limit"});return}F(Ie)}},he=async ie=>{if(ie.preventDefault(),!(!a.trim()&&!Y||!n))try{A(!1),N.current&&clearTimeout(N.current),be(!1);const Ie=new FormData;Ie.append("conversation_id",n.id),a.trim()&&Ie.append("content",a),Y&&Ie.append("file",Y);const We=`temp-${Date.now()}`,yt={id:We,content:a||"",is_sender:!0,sender_name:"You",created_at:new Date().toISOString()};Y&&(Y.type.startsWith("image/")?yt.attachment=URL.createObjectURL(Y):(yt.tempAttachment=!0,yt.tempFileName=Y.name)),i(ae=>[...ae,yt]),se(n.id,a||`[File: ${(Y==null?void 0:Y.name)||"attachment"}]`);const Ye=a,Ze=Y;l(""),F(null);const Z=await w.post("/messages/",Ie,{headers:{"Content-Type":"multipart/form-data"}});i(ae=>ae.map(me=>me.id===We?Z.data:me)),Be()}catch{nt().fire({icon:"error",title:"Failed to send message"}),i(We=>We.filter(yt=>!yt.id.toString().startsWith("temp-")))}},se=(ie,Ie)=>{e(We=>We.map(yt=>yt.id===ie?{...yt,last_message:{content:Ie,timestamp:new Date().toISOString(),sender_name:"You"},updated_at:new Date().toISOString()}:yt))},ye=async ie=>{try{u(!0);const Ie=await w.post("/conversations/",{participants:[ie.user_id],message:""});e(We=>[Ie.data,...We]),r(Ie.data),Ae(Ie.data.id),f(!1),setTimeout(()=>{const We=document.getElementById("message-input");We&&We.focus()},100)}catch{nt().fire({icon:"error",title:"Failed to start conversation"})}finally{u(!1)}};_.useEffect(()=>{x.current&&(x.current.scrollTop=x.current.scrollHeight)},[s]),_.useEffect(()=>{Be(),rt()},[]),_.useEffect(()=>{const ie=setInterval(()=>{n&&Ae(n.id),Be()},5e3);return()=>clearInterval(ie)},[n]);const Pe=ie=>ie?ie.image&&!ie.image.includes("null")?ie.image.startsWith("/media/")?`${ui}${ie.image}`:ie.image.startsWith("/")?`${ui}/media${ie.image}`:ie.image:ie.profile_picture&&!ie.profile_picture.includes("null")?ie.profile_picture.startsWith("/media/")?`${ui}${ie.profile_picture}`:ie.profile_picture.startsWith("/")?`${ui}/media${ie.profile_picture}`:ie.profile_picture:ie.profile_image&&!ie.profile_image.includes("null")?ie.profile_image.startsWith("/media/")?`${ui}${ie.profile_image}`:ie.profile_image.startsWith("/")?`${ui}/media${ie.profile_image}`:ie.profile_image:ai:ai,Oe=ie=>ie?ie.name&&ie.name.trim()?ie.name:ie.full_name&&ie.full_name.trim()?ie.full_name:ie.username||"Unknown User":"Unknown User",xe=b?m.filter(ie=>{const Ie=ie.full_name||"",We=ie.username||"",yt=b.toLowerCase();return Ie.toLowerCase().includes(yt)||We.toLowerCase().includes(yt)}):m,at=()=>o.jsxs("div",{className:"d-flex align-items-center text-muted mb-2 ps-5",children:[o.jsxs("div",{className:"typing-indicator",children:[o.jsx("span",{className:"dot"}),o.jsx("span",{className:"dot"}),o.jsx("span",{className:"dot"})]}),o.jsx("span",{className:"ms-2 small",children:"typing..."})]});_.useEffect(()=>{document.querySelectorAll(".conversation-avatar").forEach(Ie=>{const We=Ie.getAttribute("data-real-src");if(We&&We!==ai){const yt=new Image;yt.onload=()=>{Ie.src=We},yt.onerror=()=>{Ie.src=ai},yt.src=We}})},[t]),_.useEffect(()=>{const ie=()=>{const We=document.body.classList.contains("dark-mode")||localStorage.getItem("appearanceSettings")&&JSON.parse(localStorage.getItem("appearanceSettings")).darkMode;z(We)};ie();const Ie=()=>{ie()};return window.addEventListener("storage",Ie),()=>{window.removeEventListener("storage",Ie)}},[]),_.useEffect(()=>{const ie=Ie=>{O&&!Ie.target.closest(".position-relative")&&U(!1)};return document.addEventListener("click",ie),()=>{document.removeEventListener("click",ie)}},[O]),_.useEffect(()=>{const ie=()=>{const Ie=window.innerWidth<700;ve(Ie),!Ie&&Ce&&De(!1)};return window.addEventListener("resize",ie),()=>window.removeEventListener("resize",ie)},[Ce]);const lt=(ie,Ie)=>{const We=ie.startsWith("http")?ie:`${Zi}${ie}`;window.open(We,"_blank")},ze=ie=>ie?ie.startsWith("http")?ie:`${Zi}${ie.startsWith("/")?"":"/"}${ie}`:"",Le=(ie,Ie)=>{const We=ie.startsWith("http")?ie:`${Zi}${ie.startsWith("/")?"":"/"}${ie}`,yt=document.createElement("a");yt.href=We,yt.download=Ie||"download",document.body.appendChild(yt),yt.click(),setTimeout(()=>{document.body.removeChild(yt)},100)};return o.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:S?"#121212":"white"},children:[!fe&&o.jsx(dc,{sidebarCollapsed:L}),o.jsxs("div",{style:{flex:1,marginLeft:fe?0:L?"80px":"270px",transition:"margin-left 0.3s ease",backgroundColor:S?"#121212":"white",color:S?"white":"black"},children:[!fe&&o.jsx(eN,{sidebarCollapsed:L,toggleSidebar:Ee}),o.jsxs(Ld,{fluid:!0,className:fe?"p-0":"py-4",children:[o.jsx("style",{jsx:"true",children:`
            .typing-indicator {
              display: inline-flex;
              align-items: center;
            }
            .typing-indicator .dot {
              display: inline-block;
              width: 7px;
              height: 7px;
              border-radius: 50%;
              background-color: #6c757d;
              margin-right: 3px;
              animation: typing 1s infinite ease-in-out;
            }
            .typing-indicator .dot:nth-child(1) {
              animation-delay: 0s;
            }
            .typing-indicator .dot:nth-child(2) {
              animation-delay: 0.2s;
            }
            .typing-indicator .dot:nth-child(3) {
              animation-delay: 0.4s;
            }
            @keyframes typing {
              0%,
              60%,
              100% {
                transform: translateY(0);
              }
              30% {
                transform: translateY(-5px);
              }
            }

            /* iMessage styled bubbles */
            .message-bubble {
              position: relative;
              border-radius: 18px;
              padding: 8px 12px;
              width: auto; /* Auto width instead of max-width */
              margin-bottom: 0;
              white-space: pre-wrap; /* Changed from normal to pre-wrap */
              word-break: normal; /* Keep normal to prevent breaking in middle of words */
              overflow-wrap: normal; /* Changed from break-word to normal */
              display: inline-block;
              text-align: left;
              line-height: 1.4;
            }

            .sender-bubble {
              background-color: #0b84ff; /* iMessage blue */
              color: white;
              border-top-right-radius: 4px;
            }

            .receiver-bubble {
              background-color: ${S?"#2c2c2e":"#e5e5ea"};
              color: ${S?"#ffffff":"#212529"};
              border-top-left-radius: 4px;
              letter-spacing: normal;
              white-space: pre-wrap; /* Explicitly set for receiver bubbles */
              word-break: normal; /* Explicitly set for receiver bubbles */
            }

            /* Message container */
            .message-container {
              display: flex;
              flex-direction: column;
              margin-bottom: 10px;
              max-width: 75%;
              word-wrap: normal;
            }

            /* Message info row below bubble */
            .message-info {
              display: flex;
              align-items: center;
              margin-top: 2px;
              font-size: 0.7rem;
              color: ${S?"#aaaaaa":"#8e8e93"};
              padding: 0 4px;
            }

            .sender-info {
              justify-content: flex-end;
            }

            .message-time {
              margin-right: 4px;
            }
            .dark-mode .list-group-item {
              background-color: #2c2c2e !important;
              color: white !important;
            }

            .dark-mode .list-group-item.active {
              background-color: #0d6efd !important;
              border-color: #0d6efd !important;
              color: #fff !important;
            }

            .dark-mode .list-group-item:hover:not(.active) {
              background-color: #3c3c3e !important;
              color: #fff !important;
            }
            .message-status {
              display: flex;
              align-items: center;
              margin-left: 4px;
            }

            .status-pending {
              color: #8e8e93;
            }

            .status-delivered {
              color: #8e8e93;
            }

            .status-read {
              color: #0b84ff;
            }

            /* Background color for messages area */
            .messages-wrapper {
              background-color: ${S?"#1c1c1e":"#f5f5f7"};
            }

            .attachment-menu-item {
              position: absolute;
              width: 40px;
              height: 40px;
              border-radius: 50%;
              display: flex;
              align-items: center;
              justify-content: center;
              color: white;
              box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
              transform: translateY(0);
              opacity: 0;
              pointer-events: none;
              transition: all 0.3s cubic-bezier(0.18, 0.89, 0.32, 1.28);
            }

            .attachment-menu-item.show {
              opacity: 1;
              pointer-events: all;
            }

            .attachment-menu-item:nth-child(1).show {
              transform: translateY(-60px);
            }

            .attachment-menu-item:nth-child(2).show {
              transform: translateY(-110px);
            }

            .attachment-menu-item:nth-child(3).show {
              transform: translateY(-160px);
            }

            .attachment-item-label {
              position: absolute;
              background-color: rgba(0, 0, 0, 0.7);
              color: white;
              padding: 2px 8px;
              border-radius: 4px;
              font-size: 12px;
              left: 50px;
              white-space: nowrap;
              opacity: 0;
              transition: opacity 0.2s;
            }

            .attachment-menu-item:hover .attachment-item-label {
              opacity: 1;
            }

            .file-attachment-preview {
              margin-bottom: 10px;
            }

            .file-card {
              background-color: ${S?"#1c1c1e":"#eaeaea"};
              border-radius: 8px;
              padding: 10px;
              display: flex;
              align-items: center;
              margin-bottom: 8px;
              box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            }

            .file-icon {
              width: 40px;
              height: 40px;
              border-radius: 5px;
              background-color: #094d90;
              color: white;
              display: flex;
              flex-direction: column;
              justify-content: center;
              align-items: center;
              margin-right: 12px;
              position: relative;
            }

            .file-type-icon {
              font-size: 16px;
              margin-bottom: 2px;
            }

            .file-extension {
              font-size: 7px;
              text-transform: uppercase;
              font-weight: bold;
            }

            .file-details {
              flex: 1;
              overflow: hidden;
            }

            .file-name {
              font-size: 14px;
              font-weight: 500;
              white-space: nowrap;
              overflow: hidden;
              text-overflow: ellipsis;
              color: ${S?"#fff":"#000"};
            }

            .file-size {
              font-size: 12px;
              color: ${S?"#aaa":"#666"};
            }

            .image-preview {
              width: 40px;
              height: 40px;
              margin-right: 12px;
              border-radius: 5px;
              overflow: hidden;
            }

            .preview-image {
              width: 100%;
              height: 100%;
              object-fit: cover;
            }

            .remove-file-btn {
              width: 24px;
              height: 24px;
              border-radius: 50%;
              background-color: transparent;
              border: none;
              color: ${S?"#999":"#666"};
              display: flex;
              align-items: center;
              justify-content: center;
              cursor: pointer;
              padding: 0;
              margin-left: 8px;
            }

            .remove-file-btn:hover {
              background-color: ${S?"#333":"#ddd"};
            }

            .timestamp {
              font-size: 11px;
              color: ${S?"#aaa":"#999"};
              text-align: right;
              margin-top: 2px;
            }

            .message-attachment-preview {
              margin-bottom: 5px;
              max-width: 100%;
            }

            .attachment-image-container {
              width: 100%;
              overflow: hidden;
            }

            .attachment-image {
              max-width: 200px;
              height: auto;
              border-radius: 8px;
              display: block;
            }

            .file-message-card {
              display: flex;
              align-items: center;
              background-color: ${S?"#333333":"#f0f0f0"};
              border-radius: 8px;
              padding: 8px;
              margin-bottom: 5px;
            }

            .file-message-icon {
              width: 36px;
              height: 36px;
              display: flex;
              flex-direction: column;
              align-items: center;
              justify-content: center;
              background-color: #094d90;
              border-radius: 4px;
              margin-right: 8px;
              color: white;
            }

            .file-message-icon i {
              font-size: 14px;
              margin-bottom: 2px;
            }

            .file-message-ext {
              font-size: 6px;
              text-transform: uppercase;
              font-weight: bold;
            }

            .file-message-name {
              font-size: 12px;
              font-weight: 500;
              white-space: nowrap;
              overflow: hidden;
              text-overflow: ellipsis;
              max-width: 120px;
            }

            .attachment-image-container {
              position: relative;
              width: 100%;
              overflow: hidden;
              cursor: pointer;
            }

            .attachment-image-container:hover .image-overlay {
              opacity: 1;
            }

            .image-overlay {
              position: absolute;
              top: 0;
              left: 0;
              width: 100%;
              height: 100%;
              background-color: rgba(0, 0, 0, 0.5);
              display: flex;
              align-items: center;
              justify-content: center;
              opacity: 0;
              transition: opacity 0.2s;
              border-radius: 8px;
            }

            .image-overlay i {
              color: white;
              font-size: 24px;
            }

            .file-action-btn {
              width: 32px;
              height: 32px;
              border-radius: 50%;
              background-color: ${S?"#444":"#e6e6e6"};
              border: none;
              color: ${S?"#fff":"#333"};
              display: flex;
              align-items: center;
              justify-content: center;
              cursor: pointer;
              margin-left: 8px;
              transition: background-color 0.2s;
            }

            .file-action-btn:hover {
              background-color: ${S?"#666":"#ccc"};
            }

            .file-message-name {
              font-size: 12px;
              font-weight: 500;
              white-space: nowrap;
              overflow: hidden;
              text-overflow: ellipsis;
              max-width: 120px;
              margin-right: 8px;
            }
            .file-action-buttons {
              display: flex;
              margin-left: 8px;
            }
            .file-action-buttons {
              display: flex;
              margin-left: 8px;
              opacity: 0;
              transition: opacity 0.2s ease;
            }

            .file-message-card:hover .file-action-buttons {
              opacity: 1;
            }

            .file-action-btn {
              width: 32px;
              height: 32px;
              border-radius: 50%;
              background-color: ${S?"#444":"#e6e6e6"};
              border: none;
              color: ${S?"#fff":"#333"};
              display: flex;
              align-items: center;
              justify-content: center;
              cursor: pointer;
              margin-left: 4px;
              transition:
                background-color 0.2s,
                transform 0.1s;
            }

            .file-action-btn:hover {
              background-color: ${S?"#666":"#ccc"};
              transform: scale(1.1);
            }
            .message-input-container {
              width: 100%;
              margin-top: 0;
            }

            .file-attachment-preview {
              width: 100%;
              margin-bottom: 12px;
            }

            /* Make the Form use flex column layout */
            .d-flex.flex-column {
              display: flex;
              flex-direction: column;
            }
          `}),fe?o.jsx("div",{className:"h-100",children:!Ce||!n?o.jsxs(Lt,{className:"h-100 shadow-sm mb-0",style:{backgroundColor:S?"#2c2c2e":"white",borderColor:S?"#444":"#ddd",borderRadius:0},children:[o.jsxs(Lt.Header,{className:"d-flex justify-content-between align-items-center text-white py-3",style:{backgroundColor:S?"#1c1c1e":"#0d6efd"},children:[o.jsx("h5",{className:"mb-0",children:"Conversations"}),o.jsx(Dt,{variant:S?"dark":"light",size:"sm",className:"rounded-circle d-flex align-items-center justify-content-center",style:{width:"32px",height:"32px",padding:0,boxShadow:"0px 2px 4px rgba(0,0,0,0.1)"},onClick:()=>{f(!0),Ve()},children:o.jsx("i",{className:"fas fa-plus"})})]}),o.jsx(Lt.Body,{className:"p-0",style:{height:"calc(100vh - 200px)",overflowY:"auto",backgroundColor:S?"#2c2c2e":"white"},children:c&&!t.length?o.jsxs("div",{className:"text-center p-4",children:[o.jsx(Hr,{animation:"border",variant:"primary"}),o.jsx("p",{className:"mt-2 text-muted",children:"Loading conversations..."})]}):t.length===0?o.jsxs("div",{className:"text-center p-4",children:[o.jsx("i",{className:"fas fa-comments fa-2x mb-3"}),o.jsx("p",{style:{color:S?"white":"black"},children:"No conversations yet. Start a new one!"})]}):o.jsx("ul",{className:"list-group list-group-flush",children:t.map(ie=>{const Ie=ie.other_participant||{},We=(Ie==null?void 0:Ie.name)||"Unknown User",yt=ie.last_message||{};return o.jsxs("li",{className:`list-group-item list-group-item-action d-flex align-items-center p-3 ${(n==null?void 0:n.id)===ie.id?"active":""}`,onClick:()=>it(ie),style:{cursor:"pointer"},children:[o.jsxs("div",{className:"position-relative",children:[o.jsx("img",{src:Pe(Ie),alt:We,className:"rounded-circle me-3",width:"48",height:"48",style:{objectFit:"cover"},onError:Ye=>{Ye.target.onerror=null,Ye.target.src=ai}}),ie.unread_count>0&&o.jsx(Zn,{bg:"danger",pill:!0,className:"position-absolute top-0 end-0",children:ie.unread_count})]}),o.jsxs("div",{className:"flex-grow-1 overflow-hidden",children:[o.jsx("h6",{className:"mb-1 text-truncate",children:We}),yt.content?o.jsx("p",{className:"mb-0 small text-truncate text",children:yt.content}):o.jsx("p",{className:"mb-0 small text",children:"No messages yet"})]}),yt.timestamp&&o.jsx("small",{className:"text-muted ms-2",children:new Date(yt.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},ie.id)})})})]}):o.jsxs(Lt,{className:"h-100 shadow-sm",style:{backgroundColor:S?"#2c2c2e":"white",borderColor:S?"#444":"#ddd",marginBottom:"50px"},children:[o.jsxs(Lt.Header,{className:"d-flex align-items-center py-2 position-relative",style:{backgroundColor:S?"#1c1c1e":"#f8f9fa",color:S?"white":"black"},children:[o.jsx("div",{onClick:G,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:1,cursor:"pointer"}}),o.jsx("i",{className:"fas fa-chevron-left me-3",style:{fontSize:"16px",color:S?"white":"#0d6efd",zIndex:2,position:"relative"}}),o.jsxs("div",{className:"d-flex align-items-center mx-auto",style:{zIndex:2},children:[o.jsx("img",{src:Pe(n.other_participant),alt:((He=n.other_participant)==null?void 0:He.username)||"Unknown User",className:"rounded-circle me-2",width:"40",height:"40",style:{objectFit:"cover"},onError:ie=>{ie.target.onerror=null,ie.target.src=ai}}),o.jsxs("div",{children:[o.jsx("h5",{className:"mb-0",children:Oe(n.other_participant)}),((gt=n.other_participant)==null?void 0:gt.username)&&o.jsxs("small",{className:"text-muted",children:["@",n.other_participant.username]})]})]})]}),o.jsx(Lt.Body,{className:"p-3 messages-wrapper",style:{height:"calc(100vh - 220px)",overflowY:"auto"},ref:x,children:c&&!s.length?o.jsxs("div",{className:"text-center p-4",children:[o.jsx(Hr,{animation:"border",variant:"primary"}),o.jsx("p",{className:"mt-2 text-muted",children:"Loading messages..."})]}):s.length===0?o.jsxs("div",{className:"text-center p-5 text",children:[o.jsx("i",{className:"fas fa-paper-plane fa-3x mb-3"}),o.jsx("p",{children:"No messages yet. Send one to start the conversation!"})]}):o.jsxs(o.Fragment,{children:[s.map(ie=>{var Ie;return o.jsxs("div",{className:`d-flex ${ie.is_sender?"justify-content-end":"justify-content-start"} mb-2`,children:[!ie.is_sender&&o.jsx("img",{src:Pe(n.other_participant),alt:((Ie=n.other_participant)==null?void 0:Ie.username)||"Unknown User",className:"rounded-circle me-2 align-self-start",width:"32",height:"32",style:{objectFit:"cover"},onError:We=>{We.target.onerror=null,We.target.src=ai}}),o.jsxs("div",{className:`message-container ${ie.is_sender?"sender-container":"receiver-container"}`,children:[o.jsxs("div",{className:`message-bubble ${ie.is_sender?"sender-bubble":"receiver-bubble"}`,children:[ie.attachment&&o.jsx("div",{className:"message-attachment-preview mb-2",children:ie.attachment.toLowerCase().match(/\.(jpeg|jpg|png|gif|webp|bmp)$/)?o.jsxs("div",{className:"attachment-image-container",onClick:()=>de(ze(ie.attachment)),children:[o.jsx("img",{src:ze(ie.attachment),alt:"Attachment",className:"attachment-image",style:{maxWidth:"200px",borderRadius:"8px",cursor:"pointer"}}),o.jsx("div",{className:"image-overlay",children:o.jsx("i",{className:"fas fa-search-plus"})})]}):o.jsxs("div",{className:"file-message-card",children:[o.jsxs("div",{className:"file-message-icon",children:[o.jsx("i",{className:ie.attachment.toLowerCase().endsWith(".pdf")?"fas fa-file-pdf":ie.attachment.toLowerCase().match(/\.(doc|docx)$/)?"fas fa-file-word":ie.attachment.toLowerCase().match(/\.(txt|rtf)$/)?"fas fa-file-alt":"fas fa-file"}),o.jsx("span",{className:"file-message-ext",children:ie.attachment.split(".").pop().toUpperCase()})]}),o.jsx("div",{className:"file-message-name",children:ie.attachment.split("/").pop()}),o.jsxs("div",{className:"file-action-buttons",children:[o.jsx("button",{className:"file-action-btn",onClick:We=>{We.stopPropagation(),lt(ie.attachment,ie.attachment.split("/").pop())},"aria-label":"Open file",title:"Open file",children:o.jsx("i",{className:"fas fa-external-link-alt"})}),o.jsx("button",{className:"file-action-btn",onClick:We=>{We.stopPropagation(),Le(ie.attachment,ie.attachment.split("/").pop())},"aria-label":"Download file",title:"Download file",children:o.jsx("i",{className:"fas fa-download"})})]})]})}),ie.content]}),o.jsx("div",{className:`message-info ${ie.is_sender?"sender-info":""}`,children:o.jsx("span",{className:"message-time",children:ie.created_at?new Date(ie.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})})]}),ie.is_sender&&o.jsx("img",{src:Pe(P)||ai,alt:(P==null?void 0:P.username)||"You",className:"rounded-circle ms-2 align-self-start",width:"32",height:"32",style:{objectFit:"cover"},onError:We=>{We.target.onerror=null,We.target.src=ai}})]},ie.id)}),n.typing_status&&o.jsx(at,{})]})}),o.jsx(Lt.Footer,{className:"p-3",style:{backgroundColor:S?"#2c2c2e":"white",borderTop:S?"1px solid #444":"1px solid #ddd"},children:o.jsxs(Ue,{onSubmit:he,className:"d-flex flex-column",children:[Y&&o.jsx("div",{className:"file-attachment-preview",children:o.jsxs("div",{className:"file-card",children:[Y.type.startsWith("image/")?o.jsx("div",{className:"image-preview",children:o.jsx("img",{src:URL.createObjectURL(Y),alt:Y.name,className:"preview-image"})}):o.jsxs("div",{className:"file-icon",children:[o.jsx("div",{className:"file-type-icon",children:o.jsx("i",{className:Y.type.startsWith("application/pdf")?"fas fa-file-pdf":Y.name.match(/\.(doc|docx)$/i)?"fas fa-file-word":Y.name.match(/\.(txt)$/i)?"fas fa-file-alt":"fas fa-file"})}),o.jsx("div",{className:"file-extension",children:Y.name.split(".").pop().toUpperCase()})]}),o.jsxs("div",{className:"file-details",children:[o.jsx("div",{className:"file-name",children:Y.name}),o.jsx("div",{className:"file-size",children:Y.size<1024?`${Y.size} B`:Y.size<1024*1024?`${(Y.size/1024).toFixed(1)} KB`:`${(Y.size/(1024*1024)).toFixed(1)} MB`})]}),o.jsx("button",{type:"button",onClick:()=>F(null),className:"remove-file-btn",children:o.jsx("i",{className:"fas fa-times"})})]})}),o.jsxs("div",{className:"message-input-container position-relative",children:[o.jsx(Dt,{type:"button",variant:S?"dark":"primary",style:{position:"absolute",left:"5px",top:"5px",borderRadius:"50%",backgroundColor:"rgba(0,0,0,0)",borderColor:"rgba(0,0,0,0)",color:"rgb(2, 0, 125)",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",padding:0,boxShadow:"none",zIndex:2},onClick:()=>U(!O),children:o.jsx("i",{className:"fas fa-paperclip",style:{fontSize:"14px"}})}),o.jsx(Ue.Control,{id:"message-input",type:"text",value:a,onChange:ie=>{l(ie.target.value),re()},placeholder:"Type your message...","aria-label":"Type your message",style:{backgroundColor:"white",color:"black",borderColor:S?"#555":"#ced4da",borderRadius:"24px",paddingRight:"50px",paddingLeft:"50px",height:"46px"}}),o.jsx(Dt,{type:"submit",variant:S?"dark":"primary",disabled:!a.trim()&&!Y,style:{position:"absolute",right:"5px",top:"5px",zIndex:10,borderRadius:"50%",backgroundColor:"rgba(0,0,0,0)",borderColor:"rgba(0,0,0,0)",color:"rgb(2, 0, 125)",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",padding:0,boxShadow:"none"},children:o.jsx("i",{className:"fas fa-paper-plane",style:{fontSize:"14px"}})}),o.jsxs("div",{className:"attachment-menu",children:[o.jsxs("div",{className:`attachment-menu-item ${O?"show":""}`,style:{backgroundColor:"#0b84ff",bottom:"20px"},onClick:()=>{K.current&&K.current.click(),U(!1)},children:[o.jsx("i",{className:"fas fa-image"}),o.jsx("span",{className:"attachment-item-label",children:"Image"}),o.jsx("input",{type:"file",ref:K,style:{display:"none"},accept:"image/*",onChange:ne})]}),o.jsxs("div",{className:`attachment-menu-item ${O?"show":""}`,style:{backgroundColor:"#28a745",bottom:"20px"},onClick:()=>{J.current&&J.current.click(),U(!1)},children:[o.jsx("i",{className:"fas fa-file-alt"}),o.jsx("span",{className:"attachment-item-label",children:"Document"}),o.jsx("input",{type:"file",ref:J,style:{display:"none"},accept:".pdf,.doc,.docx,.txt,.rtf",onChange:ce})]}),o.jsxs("div",{className:`attachment-menu-item ${O?"show":""}`,style:{backgroundColor:"#ffc107",bottom:"20px"},onClick:()=>{j.current&&j.current.click(),U(!1)},children:[o.jsx("i",{className:"fas fa-file"}),o.jsx("span",{className:"attachment-item-label",children:"Any File"}),o.jsx("input",{type:"file",ref:j,style:{display:"none"},onChange:Te})]})]})]})]})})]})}):o.jsxs(Ss,{className:"h-100",children:[o.jsx(Tn,{md:4,lg:3,className:"mb-4",children:o.jsxs(Lt,{className:"h-100 shadow-sm",style:{backgroundColor:S?"#2c2c2e":"white",borderColor:S?"#444":"#ddd"},children:[o.jsxs(Lt.Header,{className:"d-flex justify-content-between align-items-center text-white py-3",style:{backgroundColor:S?"#1c1c1e":"#0d6efd"},children:[o.jsx("h5",{className:"mb-0",children:"Conversations"}),o.jsx(Dt,{variant:S?"dark":"light",size:"sm",className:"rounded-circle d-flex align-items-center justify-content-center",style:{width:"32px",height:"32px",padding:0,boxShadow:"0px 2px 4px rgba(0,0,0,0.1)"},onClick:()=>{f(!0),Ve()},children:o.jsx("i",{className:"fas fa-plus"})})]}),o.jsx(Lt.Body,{className:"p-0",style:{maxHeight:"70vh",overflowY:"auto",backgroundColor:S?"#2c2c2e":"white"},children:c&&!t.length?o.jsxs("div",{className:"text-center p-4",children:[o.jsx(Hr,{animation:"border",variant:"primary"}),o.jsx("p",{className:"mt-2 text-muted",children:"Loading conversations..."})]}):t.length===0?o.jsxs("div",{className:"text-center p-4",children:[o.jsx("i",{className:"fas fa-comments fa-2x mb-3"}),o.jsx("p",{style:{color:S?"white":"black"},children:"No conversations yet. Start a new one!"})]}):o.jsx("ul",{className:"list-group list-group-flush",children:t.map(ie=>{const Ie=ie.other_participant||{},We=(Ie==null?void 0:Ie.name)||"Unknown User",yt=ie.last_message||{};return o.jsxs("li",{className:`list-group-item list-group-item-action d-flex align-items-center p-3 ${(n==null?void 0:n.id)===ie.id?"active":""}`,onClick:()=>it(ie),style:{cursor:"pointer"},children:[o.jsxs("div",{className:"position-relative",children:[o.jsx("img",{src:Pe(Ie),alt:We,className:"rounded-circle me-3",width:"48",height:"48",style:{objectFit:"cover"},onError:Ye=>{Ye.target.onerror=null,Ye.target.src=ai}}),ie.unread_count>0&&o.jsx(Zn,{bg:"danger",pill:!0,className:"position-absolute top-0 end-0",children:ie.unread_count})]}),o.jsxs("div",{className:"flex-grow-1 overflow-hidden",children:[o.jsx("h6",{className:"mb-1 text-truncate",children:We}),yt.content?o.jsx("p",{className:"mb-0 small text-truncate text",children:yt.content}):o.jsx("p",{className:"mb-0 small text",children:"No messages yet"})]}),yt.timestamp&&o.jsx("small",{className:"text-muted ms-2",children:new Date(yt.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},ie.id)})})})]})}),o.jsx(Tn,{md:8,lg:9,children:o.jsx(Lt,{className:"h-100 shadow-sm",style:{backgroundColor:S?"#2c2c2e":"white",borderColor:S?"#444":"#ddd"},children:n?o.jsxs(o.Fragment,{children:[o.jsx(Lt.Header,{className:"d-flex justify-content-between align-items-center py-2",style:{backgroundColor:S?"#1c1c1e":"#f8f9fa",color:S?"white":"black"},children:o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("img",{src:Pe(n.other_participant),alt:((ct=n.other_participant)==null?void 0:ct.username)||"Unknown User",className:"rounded-circle me-2",width:"40",height:"40",style:{objectFit:"cover"},onError:ie=>{ie.target.onerror=null,ie.target.src=ai}}),o.jsxs("div",{children:[o.jsx("h5",{className:"mb-0",children:Oe(n.other_participant)}),((tt=n.other_participant)==null?void 0:tt.username)&&o.jsxs("small",{className:"text-muted",children:["@",n.other_participant.username]})]})]})}),o.jsx(Lt.Body,{className:"p-3 messages-wrapper",style:{height:"60vh",overflowY:"auto"},ref:x,children:c&&!s.length?o.jsxs("div",{className:"text-center p-4",children:[o.jsx(Hr,{animation:"border",variant:"primary"}),o.jsx("p",{className:"mt-2 text-muted",children:"Loading messages..."})]}):s.length===0?o.jsxs("div",{className:"text-center p-5 text",children:[o.jsx("i",{className:"fas fa-paper-plane fa-3x mb-3"}),o.jsx("p",{children:"No messages yet. Send one to start the conversation!"})]}):o.jsxs(o.Fragment,{children:[s.map(ie=>{var Ie;return o.jsxs("div",{className:`d-flex ${ie.is_sender?"justify-content-end":"justify-content-start"} mb-2`,children:[!ie.is_sender&&o.jsx("img",{src:Pe(n.other_participant),alt:((Ie=n.other_participant)==null?void 0:Ie.username)||"Unknown User",className:"rounded-circle me-2 align-self-start",width:"32",height:"32",style:{objectFit:"cover"},onError:We=>{We.target.onerror=null,We.target.src=ai}}),o.jsxs("div",{className:`message-container ${ie.is_sender?"sender-container":"receiver-container"}`,children:[o.jsxs("div",{className:`message-bubble ${ie.is_sender?"sender-bubble":"receiver-bubble"}`,children:[ie.attachment&&o.jsx("div",{className:"message-attachment-preview mb-2",children:ie.attachment.toLowerCase().match(/\.(jpeg|jpg|png|gif|webp|bmp)$/)?o.jsxs("div",{className:"attachment-image-container",onClick:()=>de(ze(ie.attachment)),children:[o.jsx("img",{src:ze(ie.attachment),alt:"Attachment",className:"attachment-image",style:{maxWidth:"200px",borderRadius:"8px",cursor:"pointer"}}),o.jsx("div",{className:"image-overlay",children:o.jsx("i",{className:"fas fa-search-plus"})})]}):o.jsxs("div",{className:"file-message-card",children:[o.jsxs("div",{className:"file-message-icon",children:[o.jsx("i",{className:ie.attachment.toLowerCase().endsWith(".pdf")?"fas fa-file-pdf":ie.attachment.toLowerCase().match(/\.(doc|docx)$/)?"fas fa-file-word":ie.attachment.toLowerCase().match(/\.(txt|rtf)$/)?"fas fa-file-alt":"fas fa-file"}),o.jsx("span",{className:"file-message-ext",children:ie.attachment.split(".").pop().toUpperCase()})]}),o.jsx("div",{className:"file-message-name",children:ie.attachment.split("/").pop()}),o.jsxs("div",{className:"file-action-buttons",children:[o.jsx("button",{className:"file-action-btn",onClick:We=>{We.stopPropagation(),lt(ie.attachment,ie.attachment.split("/").pop())},"aria-label":"Open file",title:"Open file",children:o.jsx("i",{className:"fas fa-external-link-alt"})}),o.jsx("button",{className:"file-action-btn",onClick:We=>{We.stopPropagation(),Le(ie.attachment,ie.attachment.split("/").pop())},"aria-label":"Download file",title:"Download file",children:o.jsx("i",{className:"fas fa-download"})})]})]})}),ie.content]}),o.jsx("div",{className:`message-info ${ie.is_sender?"sender-info":""}`,children:o.jsx("span",{className:"message-time",children:ie.created_at?new Date(ie.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})})]}),ie.is_sender&&o.jsx("img",{src:Pe(P)||ai,alt:(P==null?void 0:P.username)||"You",className:"rounded-circle ms-2 align-self-start",width:"32",height:"32",style:{objectFit:"cover"},onError:We=>{We.target.onerror=null,We.target.src=ai}})]},ie.id)}),n.typing_status&&o.jsx(at,{})]})}),o.jsx(Lt.Footer,{className:"p-3",style:{backgroundColor:S?"#2c2c2e":"white",borderTop:S?"1px solid #444":"1px solid #ddd"},children:o.jsxs(Ue,{onSubmit:he,className:"d-flex flex-column",children:[Y&&o.jsx("div",{className:"file-attachment-preview",children:o.jsxs("div",{className:"file-card",children:[Y.type.startsWith("image/")?o.jsx("div",{className:"image-preview",children:o.jsx("img",{src:URL.createObjectURL(Y),alt:Y.name,className:"preview-image"})}):o.jsxs("div",{className:"file-icon",children:[o.jsx("div",{className:"file-type-icon",children:o.jsx("i",{className:Y.type.startsWith("application/pdf")?"fas fa-file-pdf":Y.name.match(/\.(doc|docx)$/i)?"fas fa-file-word":Y.name.match(/\.(txt)$/i)?"fas fa-file-alt":"fas fa-file"})}),o.jsx("div",{className:"file-extension",children:Y.name.split(".").pop().toUpperCase()})]}),o.jsxs("div",{className:"file-details",children:[o.jsx("div",{className:"file-name",children:Y.name}),o.jsx("div",{className:"file-size",children:Y.size<1024?`${Y.size} B`:Y.size<1024*1024?`${(Y.size/1024).toFixed(1)} KB`:`${(Y.size/(1024*1024)).toFixed(1)} MB`})]}),o.jsx("button",{type:"button",onClick:()=>F(null),className:"remove-file-btn",children:o.jsx("i",{className:"fas fa-times"})})]})}),o.jsxs("div",{className:"message-input-container position-relative",children:[o.jsx(Dt,{type:"button",variant:S?"dark":"primary",style:{position:"absolute",left:"5px",top:"5px",borderRadius:"50%",backgroundColor:"rgba(0,0,0,0)",borderColor:"rgba(0,0,0,0)",color:"rgb(2, 0, 125)",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",padding:0,boxShadow:"none",zIndex:2},onClick:()=>U(!O),children:o.jsx("i",{className:"fas fa-paperclip",style:{fontSize:"14px"}})}),o.jsx(Ue.Control,{id:"message-input",type:"text",value:a,onChange:ie=>{l(ie.target.value),re()},placeholder:"Type your message...","aria-label":"Type your message",style:{backgroundColor:"white",color:"black",borderColor:S?"#555":"#ced4da",borderRadius:"24px",paddingRight:"50px",paddingLeft:"50px",height:"46px"}}),o.jsx(Dt,{type:"submit",variant:S?"dark":"primary",disabled:!a.trim()&&!Y,style:{position:"absolute",right:"5px",top:"5px",zIndex:10,borderRadius:"50%",backgroundColor:"rgba(0,0,0,0)",borderColor:"rgba(0,0,0,0)",color:"rgb(2, 0, 125)",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",padding:0,boxShadow:"none"},children:o.jsx("i",{className:"fas fa-paper-plane",style:{fontSize:"14px"}})}),o.jsxs("div",{className:"attachment-menu",children:[o.jsxs("div",{className:`attachment-menu-item ${O?"show":""}`,style:{backgroundColor:"#0b84ff",bottom:"20px"},onClick:()=>{K.current&&K.current.click(),U(!1)},children:[o.jsx("i",{className:"fas fa-image"}),o.jsx("span",{className:"attachment-item-label",children:"Image"}),o.jsx("input",{type:"file",ref:K,style:{display:"none"},accept:"image/*",onChange:ne})]}),o.jsxs("div",{className:`attachment-menu-item ${O?"show":""}`,style:{backgroundColor:"#28a745",bottom:"20px"},onClick:()=>{J.current&&J.current.click(),U(!1)},children:[o.jsx("i",{className:"fas fa-file-alt"}),o.jsx("span",{className:"attachment-item-label",children:"Document"}),o.jsx("input",{type:"file",ref:J,style:{display:"none"},accept:".pdf,.doc,.docx,.txt,.rtf",onChange:ce})]}),o.jsxs("div",{className:`attachment-menu-item ${O?"show":""}`,style:{backgroundColor:"#ffc107",bottom:"20px"},onClick:()=>{j.current&&j.current.click(),U(!1)},children:[o.jsx("i",{className:"fas fa-file"}),o.jsx("span",{className:"attachment-item-label",children:"Any File"}),o.jsx("input",{type:"file",ref:j,style:{display:"none"},onChange:Te})]})]})]})]})})]}):o.jsxs(Lt.Body,{className:"text-center p-5",style:{backgroundColor:S?"#2c2c2e":"white",color:S?"white":"black"},children:[o.jsx("i",{className:"fas fa-comments fa-4x text mb-3"}),o.jsx("p",{className:"text mb-4",children:"Select a conversation or start a new one to begin chatting."}),o.jsxs(Dt,{variant:S?"dark":"primary",onClick:()=>{f(!0),Ve()},children:[o.jsx("i",{className:"fas fa-plus me-2"}),"Start a New Conversation"]})]})})})]}),o.jsxs(vt,{show:h,onHide:()=>f(!1),size:"lg",contentClassName:S?"bg-dark text-light":"",children:[o.jsxs(vt.Header,{style:{backgroundColor:S?"#2c2c2e":"white",borderBottom:S?"1px solid #444":"1px solid #dee2e6",color:S?"white":"black",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx(vt.Title,{children:"Start New Conversation"}),o.jsx("button",{onClick:()=>f(!1),style:{background:"transparent",border:"none",fontSize:"1.2rem",padding:"0.25rem 0.5rem",cursor:"pointer",color:S?"#fff":"#212529",transition:"color 0.15s ease-in-out"},"aria-label":"Close",className:"custom-close-button",onMouseOver:ie=>ie.currentTarget.style.color=S?"#999":"#666",onMouseOut:ie=>ie.currentTarget.style.color=S?"#fff":"#212529",children:"✕"})]}),o.jsxs(vt.Body,{style:{backgroundColor:S?"#2c2c2e":"white"},children:[o.jsx(Ue.Group,{className:"mb-3",children:o.jsx(Ue.Control,{type:"text",placeholder:"Search users...",value:b,onChange:ie=>y(ie.target.value),style:{backgroundColor:S?"#3c3c3e":"white",color:S?"white":"black",borderColor:S?"#555":"#ced4da"}})}),o.jsx("div",{style:{maxHeight:"400px",overflowY:"auto"},children:xe.length>0?o.jsx("ul",{className:"list-group",children:xe.map(ie=>o.jsxs("li",{className:"list-group-item list-group-item-action d-flex align-items-center",style:{cursor:"pointer"},onClick:()=>ye(ie),children:[o.jsx("img",{src:Pe(ie),alt:ie.username||"User",className:"rounded-circle me-3",width:"48",height:"48",style:{objectFit:"cover"},onError:Ie=>{Ie.target.onerror=null,Ie.target.src=ai}}),o.jsxs("div",{children:[o.jsx("h6",{className:"mb-0",children:ie.full_name||ie.username}),o.jsxs("small",{className:"text",children:["@",ie.username]})]})]},ie.user_id))}):b?o.jsxs("p",{className:"text-center text-muted",children:['No users found matching "',b,'"']}):c?o.jsxs("div",{className:"text-center p-4",children:[o.jsx(Hr,{animation:"border",variant:"primary",size:"sm"}),o.jsx("p",{className:"mt-2 text-muted",children:"Loading users..."})]}):o.jsx("p",{className:"text-center text-muted",children:"No users available"})})]})]}),o.jsxs(vt,{show:H!==null,onHide:()=>de(null),size:"xl",centered:!0,contentClassName:S?"bg-dark":"",children:[o.jsx(vt.Header,{style:{backgroundColor:S?"#1c1c1e":"white",borderBottom:S?"1px solid #444":"1px solid #dee2e6",color:S?"white":"black"},closeButton:!0,children:o.jsx(vt.Title,{children:"Image Preview"})}),o.jsx(vt.Body,{style:{backgroundColor:S?"#2c2e":"white",padding:0,textAlign:"center"},children:H&&o.jsx("img",{src:H,alt:"Full size preview",style:{maxWidth:"100%",maxHeight:"80vh",margin:"0 auto",display:"block"}})}),o.jsxs(vt.Footer,{style:{backgroundColor:S?"#1c1c1e":"white",borderTop:S?"1px solid #444":"1px solid #dee2e6"},children:[o.jsx(Dt,{variant:"secondary",onClick:()=>de(null),children:"Close"}),o.jsx(Dt,{variant:"primary",onClick:()=>Le(H,H.split("/").pop()),children:"Download"})]})]})]})]}),fe&&o.jsx(lu,{})]})};/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function RSe(t,e,n){return(e=FSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function jt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_O(Object(n),!0).forEach(function(r){RSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_O(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FSe(t){var e=LSe(t,"string");return typeof e=="symbol"?e:e+""}const SO=()=>{};let tN={},W9={},V9=null,q9={mark:SO,measure:SO};try{typeof window<"u"&&(tN=window),typeof document<"u"&&(W9=document),typeof MutationObserver<"u"&&(V9=MutationObserver),typeof performance<"u"&&(q9=performance)}catch{}const{userAgent:CO=""}=tN.navigator||{},yu=tN,wr=W9,TO=V9,kb=q9;yu.document;const hc=!!wr.documentElement&&!!wr.head&&typeof wr.addEventListener=="function"&&typeof wr.createElement=="function",Y9=~CO.indexOf("MSIE")||~CO.indexOf("Trident/");var BSe=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,$Se=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,G9={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},zSe={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},K9=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],Xs="classic",tw="duotone",USe="sharp",HSe="sharp-duotone",X9=[Xs,tw,USe,HSe],WSe={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},VSe={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},qSe=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),YSe={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},GSe=["fak","fa-kit","fakd","fa-kit-duotone"],kO={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},KSe=["kit"],XSe={kit:{"fa-kit":"fak"}},QSe=["fak","fakd"],ZSe={kit:{fak:"fa-kit"}},EO={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},Eb={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},JSe=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],eCe=["fak","fa-kit","fakd","fa-kit-duotone"],tCe={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},nCe={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},rCe={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},TT={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},sCe=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],kT=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...JSe,...sCe],iCe=["solid","regular","light","thin","duotone","brands"],Q9=[1,2,3,4,5,6,7,8,9,10],aCe=Q9.concat([11,12,13,14,15,16,17,18,19,20]),oCe=[...Object.keys(rCe),...iCe,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Eb.GROUP,Eb.SWAP_OPACITY,Eb.PRIMARY,Eb.SECONDARY].concat(Q9.map(t=>"".concat(t,"x"))).concat(aCe.map(t=>"w-".concat(t))),lCe={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const oc="___FONT_AWESOME___",ET=16,Z9="fa",J9="svg-inline--fa",$d="data-fa-i2svg",jT="data-fa-pseudo-element",cCe="data-fa-pseudo-element-pending",nN="data-prefix",rN="data-icon",jO="fontawesome-i2svg",uCe="async",dCe=["HTML","HEAD","STYLE","SCRIPT"],ez=(()=>{try{return!0}catch{return!1}})();function C0(t){return new Proxy(t,{get(e,n){return n in e?e[n]:e[Xs]}})}const tz=jt({},G9);tz[Xs]=jt(jt(jt(jt({},{"fa-duotone":"duotone"}),G9[Xs]),kO.kit),kO["kit-duotone"]);const hCe=C0(tz),NT=jt({},YSe);NT[Xs]=jt(jt(jt(jt({},{duotone:"fad"}),NT[Xs]),EO.kit),EO["kit-duotone"]);const NO=C0(NT),AT=jt({},TT);AT[Xs]=jt(jt({},AT[Xs]),ZSe.kit);const sN=C0(AT),DT=jt({},nCe);DT[Xs]=jt(jt({},DT[Xs]),XSe.kit);C0(DT);const fCe=BSe,nz="fa-layers-text",pCe=$Se,mCe=jt({},WSe);C0(mCe);const gCe=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],FS=zSe,yCe=[...KSe,...oCe],Zm=yu.FontAwesomeConfig||{};function bCe(t){var e=wr.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function xCe(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}wr&&typeof wr.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[n,r]=e;const s=xCe(bCe(n));s!=null&&(Zm[r]=s)});const rz={styleDefault:"solid",familyDefault:Xs,cssPrefix:Z9,replacementClass:J9,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Zm.familyPrefix&&(Zm.cssPrefix=Zm.familyPrefix);const qf=jt(jt({},rz),Zm);qf.autoReplaceSvg||(qf.observeMutations=!1);const nn={};Object.keys(rz).forEach(t=>{Object.defineProperty(nn,t,{enumerable:!0,set:function(e){qf[t]=e,Jm.forEach(n=>n(nn))},get:function(){return qf[t]}})});Object.defineProperty(nn,"familyPrefix",{enumerable:!0,set:function(t){qf.cssPrefix=t,Jm.forEach(e=>e(nn))},get:function(){return qf.cssPrefix}});yu.FontAwesomeConfig=nn;const Jm=[];function vCe(t){return Jm.push(t),()=>{Jm.splice(Jm.indexOf(t),1)}}const qc=ET,rl={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function wCe(t){if(!t||!hc)return;const e=wr.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;const n=wr.head.childNodes;let r=null;for(let s=n.length-1;s>-1;s--){const i=n[s],a=(i.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=i)}return wr.head.insertBefore(e,r),t}const _Ce="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Lg(){let t=12,e="";for(;t-- >0;)e+=_Ce[Math.random()*62|0];return e}function xp(t){const e=[];for(let n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function iN(t){return t.classList?xp(t.classList):(t.getAttribute("class")||"").split(" ").filter(e=>e)}function sz(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function SCe(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,'="').concat(sz(t[n]),'" '),"").trim()}function nw(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,": ").concat(t[n].trim(),";"),"")}function aN(t){return t.size!==rl.size||t.x!==rl.x||t.y!==rl.y||t.rotate!==rl.rotate||t.flipX||t.flipY}function CCe(t){let{transform:e,containerWidth:n,iconWidth:r}=t;const s={transform:"translate(".concat(n/2," 256)")},i="translate(".concat(e.x*32,", ").concat(e.y*32,") "),a="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),l="rotate(".concat(e.rotate," 0 0)"),c={transform:"".concat(i," ").concat(a," ").concat(l)},u={transform:"translate(".concat(r/2*-1," -256)")};return{outer:s,inner:c,path:u}}function TCe(t){let{transform:e,width:n=ET,height:r=ET,startCentered:s=!1}=t,i="";return s&&Y9?i+="translate(".concat(e.x/qc-n/2,"em, ").concat(e.y/qc-r/2,"em) "):s?i+="translate(calc(-50% + ".concat(e.x/qc,"em), calc(-50% + ").concat(e.y/qc,"em)) "):i+="translate(".concat(e.x/qc,"em, ").concat(e.y/qc,"em) "),i+="scale(".concat(e.size/qc*(e.flipX?-1:1),", ").concat(e.size/qc*(e.flipY?-1:1),") "),i+="rotate(".concat(e.rotate,"deg) "),i}var kCe=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function iz(){const t=Z9,e=J9,n=nn.cssPrefix,r=nn.replacementClass;let s=kCe;if(n!==t||r!==e){const i=new RegExp("\\.".concat(t,"\\-"),"g"),a=new RegExp("\\--".concat(t,"\\-"),"g"),l=new RegExp("\\.".concat(e),"g");s=s.replace(i,".".concat(n,"-")).replace(a,"--".concat(n,"-")).replace(l,".".concat(r))}return s}let AO=!1;function BS(){nn.autoAddCss&&!AO&&(wCe(iz()),AO=!0)}var ECe={mixout(){return{dom:{css:iz,insertCss:BS}}},hooks(){return{beforeDOMElementCreation(){BS()},beforeI2svg(){BS()}}}};const lc=yu||{};lc[oc]||(lc[oc]={});lc[oc].styles||(lc[oc].styles={});lc[oc].hooks||(lc[oc].hooks={});lc[oc].shims||(lc[oc].shims=[]);var sl=lc[oc];const az=[],oz=function(){wr.removeEventListener("DOMContentLoaded",oz),Cv=1,az.map(t=>t())};let Cv=!1;hc&&(Cv=(wr.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(wr.readyState),Cv||wr.addEventListener("DOMContentLoaded",oz));function jCe(t){hc&&(Cv?setTimeout(t,0):az.push(t))}function T0(t){const{tag:e,attributes:n={},children:r=[]}=t;return typeof t=="string"?sz(t):"<".concat(e," ").concat(SCe(n),">").concat(r.map(T0).join(""),"</").concat(e,">")}function DO(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var $S=function(e,n,r,s){var i=Object.keys(e),a=i.length,l=n,c,u,h;for(r===void 0?(c=1,h=e[i[0]]):(c=0,h=r);c<a;c++)u=i[c],h=l(h,e[u],u,e);return h};function NCe(t){const e=[];let n=0;const r=t.length;for(;n<r;){const s=t.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){const i=t.charCodeAt(n++);(i&64512)==56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),n--)}else e.push(s)}return e}function PT(t){const e=NCe(t);return e.length===1?e[0].toString(16):null}function ACe(t,e){const n=t.length;let r=t.charCodeAt(e),s;return r>=55296&&r<=56319&&n>e+1&&(s=t.charCodeAt(e+1),s>=56320&&s<=57343)?(r-55296)*1024+s-56320+65536:r}function PO(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return!!r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function IT(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:r=!1}=n,s=PO(e);typeof sl.hooks.addPack=="function"&&!r?sl.hooks.addPack(t,PO(e)):sl.styles[t]=jt(jt({},sl.styles[t]||{}),s),t==="fas"&&IT("fa",e)}const{styles:Fg,shims:DCe}=sl,lz=Object.keys(sN),PCe=lz.reduce((t,e)=>(t[e]=Object.keys(sN[e]),t),{});let oN=null,cz={},uz={},dz={},hz={},fz={};function ICe(t){return~yCe.indexOf(t)}function OCe(t,e){const n=e.split("-"),r=n[0],s=n.slice(1).join("-");return r===t&&s!==""&&!ICe(s)?s:null}const pz=()=>{const t=r=>$S(Fg,(s,i,a)=>(s[a]=$S(i,r,{}),s),{});cz=t((r,s,i)=>(s[3]&&(r[s[3]]=i),s[2]&&s[2].filter(l=>typeof l=="number").forEach(l=>{r[l.toString(16)]=i}),r)),uz=t((r,s,i)=>(r[i]=i,s[2]&&s[2].filter(l=>typeof l=="string").forEach(l=>{r[l]=i}),r)),fz=t((r,s,i)=>{const a=s[2];return r[i]=i,a.forEach(l=>{r[l]=i}),r});const e="far"in Fg||nn.autoFetchSvg,n=$S(DCe,(r,s)=>{const i=s[0];let a=s[1];const l=s[2];return a==="far"&&!e&&(a="fas"),typeof i=="string"&&(r.names[i]={prefix:a,iconName:l}),typeof i=="number"&&(r.unicodes[i.toString(16)]={prefix:a,iconName:l}),r},{names:{},unicodes:{}});dz=n.names,hz=n.unicodes,oN=rw(nn.styleDefault,{family:nn.familyDefault})};vCe(t=>{oN=rw(t.styleDefault,{family:nn.familyDefault})});pz();function lN(t,e){return(cz[t]||{})[e]}function MCe(t,e){return(uz[t]||{})[e]}function bd(t,e){return(fz[t]||{})[e]}function mz(t){return dz[t]||{prefix:null,iconName:null}}function RCe(t){const e=hz[t],n=lN("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function bu(){return oN}const gz=()=>({prefix:null,iconName:null,rest:[]});function LCe(t){let e=Xs;const n=lz.reduce((r,s)=>(r[s]="".concat(nn.cssPrefix,"-").concat(s),r),{});return X9.forEach(r=>{(t.includes(n[r])||t.some(s=>PCe[r].includes(s)))&&(e=r)}),e}function rw(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:n=Xs}=e,r=hCe[n][t];if(n===tw&&!t)return"fad";const s=NO[n][t]||NO[n][r],i=t in sl.styles?t:null;return s||i||null}function FCe(t){let e=[],n=null;return t.forEach(r=>{const s=OCe(nn.cssPrefix,r);s?n=s:r&&e.push(r)}),{iconName:n,rest:e}}function IO(t){return t.sort().filter((e,n,r)=>r.indexOf(e)===n)}function sw(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:n=!1}=e;let r=null;const s=kT.concat(eCe),i=IO(t.filter(f=>s.includes(f))),a=IO(t.filter(f=>!kT.includes(f))),l=i.filter(f=>(r=f,!K9.includes(f))),[c=null]=l,u=LCe(i),h=jt(jt({},FCe(a)),{},{prefix:rw(c,{family:u})});return jt(jt(jt({},h),UCe({values:t,family:u,styles:Fg,config:nn,canonical:h,givenPrefix:r})),BCe(n,r,h))}function BCe(t,e,n){let{prefix:r,iconName:s}=n;if(t||!r||!s)return{prefix:r,iconName:s};const i=e==="fa"?mz(s):{},a=bd(r,s);return s=i.iconName||a||s,r=i.prefix||r,r==="far"&&!Fg.far&&Fg.fas&&!nn.autoFetchSvg&&(r="fas"),{prefix:r,iconName:s}}const $Ce=X9.filter(t=>t!==Xs||t!==tw),zCe=Object.keys(TT).filter(t=>t!==Xs).map(t=>Object.keys(TT[t])).flat();function UCe(t){const{values:e,family:n,canonical:r,givenPrefix:s="",styles:i={},config:a={}}=t,l=n===tw,c=e.includes("fa-duotone")||e.includes("fad"),u=a.familyDefault==="duotone",h=r.prefix==="fad"||r.prefix==="fa-duotone";if(!l&&(c||u||h)&&(r.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(r.prefix="fab"),!r.prefix&&$Ce.includes(n)&&(Object.keys(i).find(m=>zCe.includes(m))||a.autoFetchSvg)){const m=qSe.get(n).defaultShortPrefixId;r.prefix=m,r.iconName=bd(r.prefix,r.iconName)||r.iconName}return(r.prefix==="fa"||s==="fa")&&(r.prefix=bu()||"fas"),r}class HCe{constructor(){this.definitions={}}add(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const s=n.reduce(this._pullDefinitions,{});Object.keys(s).forEach(i=>{this.definitions[i]=jt(jt({},this.definitions[i]||{}),s[i]),IT(i,s[i]);const a=sN[Xs][i];a&&IT(a,s[i]),pz()})}reset(){this.definitions={}}_pullDefinitions(e,n){const r=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(r).map(s=>{const{prefix:i,iconName:a,icon:l}=r[s],c=l[2];e[i]||(e[i]={}),c.length>0&&c.forEach(u=>{typeof u=="string"&&(e[i][u]=l)}),e[i][a]=l}),e}}let OO=[],Zh={};const wf={},WCe=Object.keys(wf);function VCe(t,e){let{mixoutsTo:n}=e;return OO=t,Zh={},Object.keys(wf).forEach(r=>{WCe.indexOf(r)===-1&&delete wf[r]}),OO.forEach(r=>{const s=r.mixout?r.mixout():{};if(Object.keys(s).forEach(i=>{typeof s[i]=="function"&&(n[i]=s[i]),typeof s[i]=="object"&&Object.keys(s[i]).forEach(a=>{n[i]||(n[i]={}),n[i][a]=s[i][a]})}),r.hooks){const i=r.hooks();Object.keys(i).forEach(a=>{Zh[a]||(Zh[a]=[]),Zh[a].push(i[a])})}r.provides&&r.provides(wf)}),n}function OT(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];return(Zh[t]||[]).forEach(a=>{e=a.apply(null,[e,...r])}),e}function zd(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(Zh[t]||[]).forEach(i=>{i.apply(null,n)})}function xu(){const t=arguments[0],e=Array.prototype.slice.call(arguments,1);return wf[t]?wf[t].apply(null,e):void 0}function MT(t){t.prefix==="fa"&&(t.prefix="fas");let{iconName:e}=t;const n=t.prefix||bu();if(e)return e=bd(n,e)||e,DO(yz.definitions,n,e)||DO(sl.styles,n,e)}const yz=new HCe,qCe=()=>{nn.autoReplaceSvg=!1,nn.observeMutations=!1,zd("noAuto")},YCe={i2svg:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return hc?(zd("beforeI2svg",t),xu("pseudoElements2svg",t),xu("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e}=t;nn.autoReplaceSvg===!1&&(nn.autoReplaceSvg=!0),nn.observeMutations=!0,jCe(()=>{KCe({autoReplaceSvgRoot:e}),zd("watch",t)})}},GCe={icon:t=>{if(t===null)return null;if(typeof t=="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:bd(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){const e=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],n=rw(t[0]);return{prefix:n,iconName:bd(n,e)||e}}if(typeof t=="string"&&(t.indexOf("".concat(nn.cssPrefix,"-"))>-1||t.match(fCe))){const e=sw(t.split(" "),{skipLookups:!0});return{prefix:e.prefix||bu(),iconName:bd(e.prefix,e.iconName)||e.iconName}}if(typeof t=="string"){const e=bu();return{prefix:e,iconName:bd(e,t)||t}}}},ua={noAuto:qCe,config:nn,dom:YCe,parse:GCe,library:yz,findIconDefinition:MT,toHtml:T0},KCe=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e=wr}=t;(Object.keys(sl.styles).length>0||nn.autoFetchSvg)&&hc&&nn.autoReplaceSvg&&ua.dom.i2svg({node:e})};function iw(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(n=>T0(n))}}),Object.defineProperty(t,"node",{get:function(){if(!hc)return;const n=wr.createElement("div");return n.innerHTML=t.html,n.children}}),t}function XCe(t){let{children:e,main:n,mask:r,attributes:s,styles:i,transform:a}=t;if(aN(a)&&n.found&&!r.found){const{width:l,height:c}=n,u={x:l/c/2,y:.5};s.style=nw(jt(jt({},i),{},{"transform-origin":"".concat(u.x+a.x/16,"em ").concat(u.y+a.y/16,"em")}))}return[{tag:"svg",attributes:s,children:e}]}function QCe(t){let{prefix:e,iconName:n,children:r,attributes:s,symbol:i}=t;const a=i===!0?"".concat(e,"-").concat(nn.cssPrefix,"-").concat(n):i;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:jt(jt({},s),{},{id:a}),children:r}]}]}function cN(t){const{icons:{main:e,mask:n},prefix:r,iconName:s,transform:i,symbol:a,title:l,maskId:c,titleId:u,extra:h,watchable:f=!1}=t,{width:m,height:g}=n.found?n:e,b=QSe.includes(r),y=[nn.replacementClass,s?"".concat(nn.cssPrefix,"-").concat(s):""].filter(N=>h.classes.indexOf(N)===-1).filter(N=>N!==""||!!N).concat(h.classes).join(" ");let x={children:[],attributes:jt(jt({},h.attributes),{},{"data-prefix":r,"data-icon":s,class:y,role:h.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(m," ").concat(g)})};const w=b&&!~h.classes.indexOf("fa-fw")?{width:"".concat(m/g*16*.0625,"em")}:{};f&&(x.attributes[$d]=""),l&&(x.children.push({tag:"title",attributes:{id:x.attributes["aria-labelledby"]||"title-".concat(u||Lg())},children:[l]}),delete x.attributes.title);const C=jt(jt({},x),{},{prefix:r,iconName:s,main:e,mask:n,maskId:c,transform:i,symbol:a,styles:jt(jt({},w),h.styles)}),{children:k,attributes:A}=n.found&&e.found?xu("generateAbstractMask",C)||{children:[],attributes:{}}:xu("generateAbstractIcon",C)||{children:[],attributes:{}};return C.children=k,C.attributes=A,a?QCe(C):XCe(C)}function MO(t){const{content:e,width:n,height:r,transform:s,title:i,extra:a,watchable:l=!1}=t,c=jt(jt(jt({},a.attributes),i?{title:i}:{}),{},{class:a.classes.join(" ")});l&&(c[$d]="");const u=jt({},a.styles);aN(s)&&(u.transform=TCe({transform:s,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);const h=nw(u);h.length>0&&(c.style=h);const f=[];return f.push({tag:"span",attributes:c,children:[e]}),i&&f.push({tag:"span",attributes:{class:"sr-only"},children:[i]}),f}function ZCe(t){const{content:e,title:n,extra:r}=t,s=jt(jt(jt({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),i=nw(r.styles);i.length>0&&(s.style=i);const a=[];return a.push({tag:"span",attributes:s,children:[e]}),n&&a.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),a}const{styles:zS}=sl;function RT(t){const e=t[0],n=t[1],[r]=t.slice(4);let s=null;return Array.isArray(r)?s={tag:"g",attributes:{class:"".concat(nn.cssPrefix,"-").concat(FS.GROUP)},children:[{tag:"path",attributes:{class:"".concat(nn.cssPrefix,"-").concat(FS.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(nn.cssPrefix,"-").concat(FS.PRIMARY),fill:"currentColor",d:r[1]}}]}:s={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:e,height:n,icon:s}}const JCe={found:!1,width:512,height:512};function eTe(t,e){!ez&&!nn.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function LT(t,e){let n=e;return e==="fa"&&nn.styleDefault!==null&&(e=bu()),new Promise((r,s)=>{if(n==="fa"){const i=mz(t)||{};t=i.iconName||t,e=i.prefix||e}if(t&&e&&zS[e]&&zS[e][t]){const i=zS[e][t];return r(RT(i))}eTe(t,e),r(jt(jt({},JCe),{},{icon:nn.showMissingIcons&&t?xu("missingIconAbstract")||{}:{}}))})}const RO=()=>{},FT=nn.measurePerformance&&kb&&kb.mark&&kb.measure?kb:{mark:RO,measure:RO},Im='FA "6.7.2"',tTe=t=>(FT.mark("".concat(Im," ").concat(t," begins")),()=>bz(t)),bz=t=>{FT.mark("".concat(Im," ").concat(t," ends")),FT.measure("".concat(Im," ").concat(t),"".concat(Im," ").concat(t," begins"),"".concat(Im," ").concat(t," ends"))};var uN={begin:tTe,end:bz};const Jb=()=>{};function LO(t){return typeof(t.getAttribute?t.getAttribute($d):null)=="string"}function nTe(t){const e=t.getAttribute?t.getAttribute(nN):null,n=t.getAttribute?t.getAttribute(rN):null;return e&&n}function rTe(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(nn.replacementClass)}function sTe(){return nn.autoReplaceSvg===!0?ex.replace:ex[nn.autoReplaceSvg]||ex.replace}function iTe(t){return wr.createElementNS("http://www.w3.org/2000/svg",t)}function aTe(t){return wr.createElement(t)}function xz(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:n=t.tag==="svg"?iTe:aTe}=e;if(typeof t=="string")return wr.createTextNode(t);const r=n(t.tag);return Object.keys(t.attributes||[]).forEach(function(i){r.setAttribute(i,t.attributes[i])}),(t.children||[]).forEach(function(i){r.appendChild(xz(i,{ceFn:n}))}),r}function oTe(t){let e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}const ex={replace:function(t){const e=t[0];if(e.parentNode)if(t[1].forEach(n=>{e.parentNode.insertBefore(xz(n),e)}),e.getAttribute($d)===null&&nn.keepOriginalSource){let n=wr.createComment(oTe(e));e.parentNode.replaceChild(n,e)}else e.remove()},nest:function(t){const e=t[0],n=t[1];if(~iN(e).indexOf(nn.replacementClass))return ex.replace(t);const r=new RegExp("".concat(nn.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const i=n[0].attributes.class.split(" ").reduce((a,l)=>(l===nn.replacementClass||l.match(r)?a.toSvg.push(l):a.toNode.push(l),a),{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),i.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",i.toNode.join(" "))}const s=n.map(i=>T0(i)).join(`
`);e.setAttribute($d,""),e.innerHTML=s}};function FO(t){t()}function vz(t,e){const n=typeof e=="function"?e:Jb;if(t.length===0)n();else{let r=FO;nn.mutateApproach===uCe&&(r=yu.requestAnimationFrame||FO),r(()=>{const s=sTe(),i=uN.begin("mutate");t.map(s),i(),n()})}}let dN=!1;function wz(){dN=!0}function BT(){dN=!1}let Tv=null;function BO(t){if(!TO||!nn.observeMutations)return;const{treeCallback:e=Jb,nodeCallback:n=Jb,pseudoElementsCallback:r=Jb,observeMutationsRoot:s=wr}=t;Tv=new TO(i=>{if(dN)return;const a=bu();xp(i).forEach(l=>{if(l.type==="childList"&&l.addedNodes.length>0&&!LO(l.addedNodes[0])&&(nn.searchPseudoElements&&r(l.target),e(l.target)),l.type==="attributes"&&l.target.parentNode&&nn.searchPseudoElements&&r(l.target.parentNode),l.type==="attributes"&&LO(l.target)&&~gCe.indexOf(l.attributeName))if(l.attributeName==="class"&&nTe(l.target)){const{prefix:c,iconName:u}=sw(iN(l.target));l.target.setAttribute(nN,c||a),u&&l.target.setAttribute(rN,u)}else rTe(l.target)&&n(l.target)})}),hc&&Tv.observe(s,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function lTe(){Tv&&Tv.disconnect()}function cTe(t){const e=t.getAttribute("style");let n=[];return e&&(n=e.split(";").reduce((r,s)=>{const i=s.split(":"),a=i[0],l=i.slice(1);return a&&l.length>0&&(r[a]=l.join(":").trim()),r},{})),n}function uTe(t){const e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"";let s=sw(iN(t));return s.prefix||(s.prefix=bu()),e&&n&&(s.prefix=e,s.iconName=n),s.iconName&&s.prefix||(s.prefix&&r.length>0&&(s.iconName=MCe(s.prefix,t.innerText)||lN(s.prefix,PT(t.innerText))),!s.iconName&&nn.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=t.firstChild.data)),s}function dTe(t){const e=xp(t.attributes).reduce((s,i)=>(s.name!=="class"&&s.name!=="style"&&(s[i.name]=i.value),s),{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return nn.autoA11y&&(n?e["aria-labelledby"]="".concat(nn.replacementClass,"-title-").concat(r||Lg()):(e["aria-hidden"]="true",e.focusable="false")),e}function hTe(){return{iconName:null,title:null,titleId:null,prefix:null,transform:rl,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function $O(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:n,prefix:r,rest:s}=uTe(t),i=dTe(t),a=OT("parseNodeAttributes",{},t);let l=e.styleParser?cTe(t):[];return jt({iconName:n,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:r,transform:rl,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:l,attributes:i}},a)}const{styles:fTe}=sl;function _z(t){const e=nn.autoReplaceSvg==="nest"?$O(t,{styleParser:!1}):$O(t);return~e.extra.classes.indexOf(nz)?xu("generateLayersText",t,e):xu("generateSvgReplacementMutation",t,e)}function pTe(){return[...GSe,...kT]}function zO(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!hc)return Promise.resolve();const n=wr.documentElement.classList,r=h=>n.add("".concat(jO,"-").concat(h)),s=h=>n.remove("".concat(jO,"-").concat(h)),i=nn.autoFetchSvg?pTe():K9.concat(Object.keys(fTe));i.includes("fa")||i.push("fa");const a=[".".concat(nz,":not([").concat($d,"])")].concat(i.map(h=>".".concat(h,":not([").concat($d,"])"))).join(", ");if(a.length===0)return Promise.resolve();let l=[];try{l=xp(t.querySelectorAll(a))}catch{}if(l.length>0)r("pending"),s("complete");else return Promise.resolve();const c=uN.begin("onTree"),u=l.reduce((h,f)=>{try{const m=_z(f);m&&h.push(m)}catch(m){ez||m.name==="MissingIcon"&&console.error(m)}return h},[]);return new Promise((h,f)=>{Promise.all(u).then(m=>{vz(m,()=>{r("active"),r("complete"),s("pending"),typeof e=="function"&&e(),c(),h()})}).catch(m=>{c(),f(m)})})}function mTe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;_z(t).then(n=>{n&&vz([n],e)})}function gTe(t){return function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=(e||{}).icon?e:MT(e||{});let{mask:s}=n;return s&&(s=(s||{}).icon?s:MT(s||{})),t(r,jt(jt({},n),{},{mask:s}))}}const yTe=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=rl,symbol:r=!1,mask:s=null,maskId:i=null,title:a=null,titleId:l=null,classes:c=[],attributes:u={},styles:h={}}=e;if(!t)return;const{prefix:f,iconName:m,icon:g}=t;return iw(jt({type:"icon"},t),()=>(zd("beforeDOMElementCreation",{iconDefinition:t,params:e}),nn.autoA11y&&(a?u["aria-labelledby"]="".concat(nn.replacementClass,"-title-").concat(l||Lg()):(u["aria-hidden"]="true",u.focusable="false")),cN({icons:{main:RT(g),mask:s?RT(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:f,iconName:m,transform:jt(jt({},rl),n),symbol:r,title:a,maskId:i,titleId:l,extra:{attributes:u,styles:h,classes:c}})))};var bTe={mixout(){return{icon:gTe(yTe)}},hooks(){return{mutationObserverCallbacks(t){return t.treeCallback=zO,t.nodeCallback=mTe,t}}},provides(t){t.i2svg=function(e){const{node:n=wr,callback:r=()=>{}}=e;return zO(n,r)},t.generateSvgReplacementMutation=function(e,n){const{iconName:r,title:s,titleId:i,prefix:a,transform:l,symbol:c,mask:u,maskId:h,extra:f}=n;return new Promise((m,g)=>{Promise.all([LT(r,a),u.iconName?LT(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(b=>{let[y,x]=b;m([e,cN({icons:{main:y,mask:x},prefix:a,iconName:r,transform:l,symbol:c,maskId:h,title:s,titleId:i,extra:f,watchable:!0})])}).catch(g)})},t.generateAbstractIcon=function(e){let{children:n,attributes:r,main:s,transform:i,styles:a}=e;const l=nw(a);l.length>0&&(r.style=l);let c;return aN(i)&&(c=xu("generateAbstractTransformGrouping",{main:s,transform:i,containerWidth:s.width,iconWidth:s.width})),n.push(c||s.icon),{children:n,attributes:r}}}},xTe={mixout(){return{layer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:n=[]}=e;return iw({type:"layer"},()=>{zd("beforeDOMElementCreation",{assembler:t,params:e});let r=[];return t(s=>{Array.isArray(s)?s.map(i=>{r=r.concat(i.abstract)}):r=r.concat(s.abstract)}),[{tag:"span",attributes:{class:["".concat(nn.cssPrefix,"-layers"),...n].join(" ")},children:r}]})}}}},vTe={mixout(){return{counter(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:n=null,classes:r=[],attributes:s={},styles:i={}}=e;return iw({type:"counter",content:t},()=>(zd("beforeDOMElementCreation",{content:t,params:e}),ZCe({content:t.toString(),title:n,extra:{attributes:s,styles:i,classes:["".concat(nn.cssPrefix,"-layers-counter"),...r]}})))}}}},wTe={mixout(){return{text(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=rl,title:r=null,classes:s=[],attributes:i={},styles:a={}}=e;return iw({type:"text",content:t},()=>(zd("beforeDOMElementCreation",{content:t,params:e}),MO({content:t,transform:jt(jt({},rl),n),title:r,extra:{attributes:i,styles:a,classes:["".concat(nn.cssPrefix,"-layers-text"),...s]}})))}}},provides(t){t.generateLayersText=function(e,n){const{title:r,transform:s,extra:i}=n;let a=null,l=null;if(Y9){const c=parseInt(getComputedStyle(e).fontSize,10),u=e.getBoundingClientRect();a=u.width/c,l=u.height/c}return nn.autoA11y&&!r&&(i.attributes["aria-hidden"]="true"),Promise.resolve([e,MO({content:e.innerHTML,width:a,height:l,transform:s,title:r,extra:i,watchable:!0})])}}};const _Te=new RegExp('"',"ug"),UO=[1105920,1112319],HO=jt(jt(jt(jt({},{FontAwesome:{normal:"fas",400:"fas"}}),VSe),lCe),tCe),$T=Object.keys(HO).reduce((t,e)=>(t[e.toLowerCase()]=HO[e],t),{}),STe=Object.keys($T).reduce((t,e)=>{const n=$T[e];return t[e]=n[900]||[...Object.entries(n)][0][1],t},{});function CTe(t){const e=t.replace(_Te,""),n=ACe(e,0),r=n>=UO[0]&&n<=UO[1],s=e.length===2?e[0]===e[1]:!1;return{value:PT(s?e[0]:e),isSecondary:r||s}}function TTe(t,e){const n=t.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(e),s=isNaN(r)?"normal":r;return($T[n]||{})[s]||STe[n]}function WO(t,e){const n="".concat(cCe).concat(e.replace(":","-"));return new Promise((r,s)=>{if(t.getAttribute(n)!==null)return r();const a=xp(t.children).filter(m=>m.getAttribute(jT)===e)[0],l=yu.getComputedStyle(t,e),c=l.getPropertyValue("font-family"),u=c.match(pCe),h=l.getPropertyValue("font-weight"),f=l.getPropertyValue("content");if(a&&!u)return t.removeChild(a),r();if(u&&f!=="none"&&f!==""){const m=l.getPropertyValue("content");let g=TTe(c,h);const{value:b,isSecondary:y}=CTe(m),x=u[0].startsWith("FontAwesome");let w=lN(g,b),C=w;if(x){const k=RCe(b);k.iconName&&k.prefix&&(w=k.iconName,g=k.prefix)}if(w&&!y&&(!a||a.getAttribute(nN)!==g||a.getAttribute(rN)!==C)){t.setAttribute(n,C),a&&t.removeChild(a);const k=hTe(),{extra:A}=k;A.attributes[jT]=e,LT(w,g).then(N=>{const P=cN(jt(jt({},k),{},{icons:{main:N,mask:gz()},prefix:g,iconName:C,extra:A,watchable:!0})),M=wr.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(M,t.firstChild):t.appendChild(M),M.outerHTML=P.map(L=>T0(L)).join(`
`),t.removeAttribute(n),r()}).catch(s)}else r()}else r()})}function kTe(t){return Promise.all([WO(t,"::before"),WO(t,"::after")])}function ETe(t){return t.parentNode!==document.head&&!~dCe.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(jT)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function VO(t){if(hc)return new Promise((e,n)=>{const r=xp(t.querySelectorAll("*")).filter(ETe).map(kTe),s=uN.begin("searchPseudoElements");wz(),Promise.all(r).then(()=>{s(),BT(),e()}).catch(()=>{s(),BT(),n()})})}var jTe={hooks(){return{mutationObserverCallbacks(t){return t.pseudoElementsCallback=VO,t}}},provides(t){t.pseudoElements2svg=function(e){const{node:n=wr}=e;nn.searchPseudoElements&&VO(n)}}};let qO=!1;var NTe={mixout(){return{dom:{unwatch(){wz(),qO=!0}}}},hooks(){return{bootstrap(){BO(OT("mutationObserverCallbacks",{}))},noAuto(){lTe()},watch(t){const{observeMutationsRoot:e}=t;qO?BT():BO(OT("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}};const YO=t=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce((n,r)=>{const s=r.toLowerCase().split("-"),i=s[0];let a=s.slice(1).join("-");if(i&&a==="h")return n.flipX=!0,n;if(i&&a==="v")return n.flipY=!0,n;if(a=parseFloat(a),isNaN(a))return n;switch(i){case"grow":n.size=n.size+a;break;case"shrink":n.size=n.size-a;break;case"left":n.x=n.x-a;break;case"right":n.x=n.x+a;break;case"up":n.y=n.y-a;break;case"down":n.y=n.y+a;break;case"rotate":n.rotate=n.rotate+a;break}return n},e)};var ATe={mixout(){return{parse:{transform:t=>YO(t)}}},hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-transform");return n&&(t.transform=YO(n)),t}}},provides(t){t.generateAbstractTransformGrouping=function(e){let{main:n,transform:r,containerWidth:s,iconWidth:i}=e;const a={transform:"translate(".concat(s/2," 256)")},l="translate(".concat(r.x*32,", ").concat(r.y*32,") "),c="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),u="rotate(".concat(r.rotate," 0 0)"),h={transform:"".concat(l," ").concat(c," ").concat(u)},f={transform:"translate(".concat(i/2*-1," -256)")},m={outer:a,inner:h,path:f};return{tag:"g",attributes:jt({},m.outer),children:[{tag:"g",attributes:jt({},m.inner),children:[{tag:n.icon.tag,children:n.icon.children,attributes:jt(jt({},n.icon.attributes),m.path)}]}]}}}};const US={x:0,y:0,width:"100%",height:"100%"};function GO(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function DTe(t){return t.tag==="g"?t.children:[t]}var PTe={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-mask"),r=n?sw(n.split(" ").map(s=>s.trim())):gz();return r.prefix||(r.prefix=bu()),t.mask=r,t.maskId=e.getAttribute("data-fa-mask-id"),t}}},provides(t){t.generateAbstractMask=function(e){let{children:n,attributes:r,main:s,mask:i,maskId:a,transform:l}=e;const{width:c,icon:u}=s,{width:h,icon:f}=i,m=CCe({transform:l,containerWidth:h,iconWidth:c}),g={tag:"rect",attributes:jt(jt({},US),{},{fill:"white"})},b=u.children?{children:u.children.map(GO)}:{},y={tag:"g",attributes:jt({},m.inner),children:[GO(jt({tag:u.tag,attributes:jt(jt({},u.attributes),m.path)},b))]},x={tag:"g",attributes:jt({},m.outer),children:[y]},w="mask-".concat(a||Lg()),C="clip-".concat(a||Lg()),k={tag:"mask",attributes:jt(jt({},US),{},{id:w,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[g,x]},A={tag:"defs",children:[{tag:"clipPath",attributes:{id:C},children:DTe(f)},k]};return n.push(A,{tag:"rect",attributes:jt({fill:"currentColor","clip-path":"url(#".concat(C,")"),mask:"url(#".concat(w,")")},US)}),{children:n,attributes:r}}}},ITe={provides(t){let e=!1;yu.matchMedia&&(e=yu.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){const n=[],r={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:jt(jt({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const i=jt(jt({},s),{},{attributeName:"opacity"}),a={tag:"circle",attributes:jt(jt({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||a.children.push({tag:"animate",attributes:jt(jt({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:jt(jt({},i),{},{values:"1;0;1;1;0;1;"})}),n.push(a),n.push({tag:"path",attributes:jt(jt({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:jt(jt({},i),{},{values:"1;0;0;0;0;1;"})}]}),e||n.push({tag:"path",attributes:jt(jt({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:jt(jt({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},OTe={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-symbol"),r=n===null?!1:n===""?!0:n;return t.symbol=r,t}}}},MTe=[ECe,bTe,xTe,vTe,wTe,jTe,NTe,ATe,PTe,ITe,OTe];VCe(MTe,{mixoutsTo:ua});ua.noAuto;ua.config;ua.library;ua.dom;const zT=ua.parse;ua.findIconDefinition;ua.toHtml;const RTe=ua.icon;ua.layer;ua.text;ua.counter;function KO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Xo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KO(Object(n),!0).forEach(function(r){Jh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kv(t){"@babel/helpers - typeof";return kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kv(t)}function Jh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LTe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function FTe(t,e){if(t==null)return{};var n=LTe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function UT(t){return BTe(t)||$Te(t)||zTe(t)||UTe()}function BTe(t){if(Array.isArray(t))return HT(t)}function $Te(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zTe(t,e){if(t){if(typeof t=="string")return HT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HT(t,e)}}function HT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function UTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HTe(t){var e,n=t.beat,r=t.fade,s=t.beatFade,i=t.bounce,a=t.shake,l=t.flash,c=t.spin,u=t.spinPulse,h=t.spinReverse,f=t.pulse,m=t.fixedWidth,g=t.inverse,b=t.border,y=t.listItem,x=t.flip,w=t.size,C=t.rotation,k=t.pull,A=(e={"fa-beat":n,"fa-fade":r,"fa-beat-fade":s,"fa-bounce":i,"fa-shake":a,"fa-flash":l,"fa-spin":c,"fa-spin-reverse":h,"fa-spin-pulse":u,"fa-pulse":f,"fa-fw":m,"fa-inverse":g,"fa-border":b,"fa-li":y,"fa-flip":x===!0,"fa-flip-horizontal":x==="horizontal"||x==="both","fa-flip-vertical":x==="vertical"||x==="both"},Jh(e,"fa-".concat(w),typeof w<"u"&&w!==null),Jh(e,"fa-rotate-".concat(C),typeof C<"u"&&C!==null&&C!==0),Jh(e,"fa-pull-".concat(k),typeof k<"u"&&k!==null),Jh(e,"fa-swap-opacity",t.swapOpacity),e);return Object.keys(A).map(function(N){return A[N]?N:null}).filter(function(N){return N})}function WTe(t){return t=t-0,t===t}function Sz(t){return WTe(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(e,n){return n?n.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))}var VTe=["style"];function qTe(t){return t.charAt(0).toUpperCase()+t.slice(1)}function YTe(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var r=n.indexOf(":"),s=Sz(n.slice(0,r)),i=n.slice(r+1).trim();return s.startsWith("webkit")?e[qTe(s)]=i:e[s]=i,e},{})}function Cz(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var r=(e.children||[]).map(function(c){return Cz(t,c)}),s=Object.keys(e.attributes||{}).reduce(function(c,u){var h=e.attributes[u];switch(u){case"class":c.attrs.className=h,delete e.attributes.class;break;case"style":c.attrs.style=YTe(h);break;default:u.indexOf("aria-")===0||u.indexOf("data-")===0?c.attrs[u.toLowerCase()]=h:c.attrs[Sz(u)]=h}return c},{attrs:{}}),i=n.style,a=i===void 0?{}:i,l=FTe(n,VTe);return s.attrs.style=Xo(Xo({},s.attrs.style),a),t.apply(void 0,[e.tag,Xo(Xo({},s.attrs),l)].concat(UT(r)))}var Tz=!1;try{Tz=!0}catch{}function GTe(){if(!Tz&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function XO(t){if(t&&kv(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(zT.icon)return zT.icon(t);if(t===null)return null;if(t&&kv(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}function HS(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?Jh({},t,e):{}}var QO={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},ds=Zt.forwardRef(function(t,e){var n=Xo(Xo({},QO),t),r=n.icon,s=n.mask,i=n.symbol,a=n.className,l=n.title,c=n.titleId,u=n.maskId,h=XO(r),f=HS("classes",[].concat(UT(HTe(n)),UT((a||"").split(" ")))),m=HS("transform",typeof n.transform=="string"?zT.transform(n.transform):n.transform),g=HS("mask",XO(s)),b=RTe(h,Xo(Xo(Xo(Xo({},f),m),g),{},{symbol:i,title:l,titleId:c,maskId:u}));if(!b)return GTe("Could not find icon",h),null;var y=b.abstract,x={ref:e};return Object.keys(n).forEach(function(w){QO.hasOwnProperty(w)||(x[w]=n[w])}),KTe(y[0],x)});ds.displayName="FontAwesomeIcon";ds.propTypes={beat:on.bool,border:on.bool,beatFade:on.bool,bounce:on.bool,className:on.string,fade:on.bool,flash:on.bool,mask:on.oneOfType([on.object,on.array,on.string]),maskId:on.string,fixedWidth:on.bool,inverse:on.bool,flip:on.oneOf([!0,!1,"horizontal","vertical","both"]),icon:on.oneOfType([on.object,on.array,on.string]),listItem:on.bool,pull:on.oneOf(["right","left"]),pulse:on.bool,rotation:on.oneOf([0,90,180,270]),shake:on.bool,size:on.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:on.bool,spinPulse:on.bool,spinReverse:on.bool,symbol:on.oneOfType([on.bool,on.string]),title:on.string,titleId:on.string,transform:on.oneOfType([on.string,on.object]),swapOpacity:on.bool};var KTe=Cz.bind(null,Zt.createElement);/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const XTe={prefix:"fas",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160L0 416c0 53 43 96 96 96l256 0c53 0 96-43 96-96l0-96c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 96c0 17.7-14.3 32-32 32L96 448c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l96 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 64z"]},kz=XTe,QTe={prefix:"fas",iconName:"question",icon:[320,512,[10067,10068,61736],"3f","M80 160c0-35.3 28.7-64 64-64l32 0c35.3 0 64 28.7 64 64l0 3.6c0 21.8-11.1 42.1-29.4 53.8l-42.2 27.1c-25.2 16.2-40.4 44.1-40.4 74l0 1.4c0 17.7 14.3 32 32 32s32-14.3 32-32l0-1.4c0-8.2 4.2-15.8 11-20.2l42.2-27.1c36.6-23.6 58.8-64.1 58.8-107.7l0-3.6c0-70.7-57.3-128-128-128l-32 0C73.3 32 16 89.3 16 160c0 17.7 14.3 32 32 32s32-14.3 32-32zm80 320a40 40 0 1 0 0-80 40 40 0 1 0 0 80z"]},ZTe={prefix:"fas",iconName:"clipboard-check",icon:[384,512,[],"f46c","M192 0c-41.8 0-77.4 26.7-90.5 64L64 64C28.7 64 0 92.7 0 128L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64l-37.5 0C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM305 273L177 401c-9.4 9.4-24.6 9.4-33.9 0L79 337c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L271 239c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"]},WT={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"]},Ez={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M135.2 17.7L128 32 32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 0-7.2-14.3C307.4 6.8 296.3 0 284.2 0L163.8 0c-12.1 0-23.2 6.8-28.6 17.7zM416 128L32 128 53.2 467c1.6 25.3 22.6 45 47.9 45l245.8 0c25.3 0 46.3-19.7 47.9-45L416 128z"]},JTe={prefix:"fas",iconName:"circle-info",icon:[512,512,["info-circle"],"f05a","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336l24 0 0-64-24 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l48 0c13.3 0 24 10.7 24 24l0 88 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-80 0c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]},eke=JTe,tke={prefix:"fas",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M256 0a256 256 0 1 1 0 512A256 256 0 1 1 256 0zM232 120l0 136c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2 280 120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]},ZO={prefix:"fas",iconName:"download",icon:[512,512,[],"f019","M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 242.7-73.4-73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l128-128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L288 274.7 288 32zM64 352c-35.3 0-64 28.7-64 64l0 32c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-32c0-35.3-28.7-64-64-64l-101.5 0-45.3 45.3c-25 25-65.5 25-90.5 0L165.5 352 64 352zm368 56a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"]},jz={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"]},Nz={prefix:"fas",iconName:"file-export",icon:[576,512,["arrow-right-from-file"],"f56e","M0 64C0 28.7 28.7 0 64 0L224 0l0 128c0 17.7 14.3 32 32 32l128 0 0 128-168 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l168 0 0 112c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 64zM384 336l0-48 110.1 0-39-39c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l80 80c9.4 9.4 9.4 24.6 0 33.9l-80 80c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l39-39L384 336zm0-208l-128 0L256 0 384 128z"]};function nke(){var yt;const[t,e]=_.useState(!0),[n,r]=_.useState([]),[s,i]=_.useState(!0),[a,l]=_.useState(null),[c,u]=_.useState(!1),[h,f]=_.useState(!1),[m,g]=_.useState([]),[b,y]=_.useState(""),[x,w]=_.useState("text"),[C,k]=_.useState(!1),[A,N]=_.useState(!1),[P,M]=_.useState(0),[L,D]=_.useState(0),[S,z]=_.useState(0),[O,U]=_.useState(null),[j,V]=_.useState(!1),K=3,te=_.useRef(null),J=_.useRef(null),X=fr(),Y=go(),[F,H]=_.useState({}),[de,ee]=_.useState({}),[fe,ve]=_.useState(!1),[Ce,De]=_.useState(""),[Ee,Be]=_.useState(!1),[Ve,rt]=_.useState(window.innerWidth<700);_.useEffect(()=>{const Ye=()=>rt(window.innerWidth<700);return window.addEventListener("resize",Ye),()=>window.removeEventListener("resize",Ye)},[]);const it=()=>{e(!t)};_.useEffect(()=>{G()},[]);const G=async()=>{var Ye;try{i(!0);const Ze=(Ye=zt())==null?void 0:Ye.user_id;if(!Ze){X("/");return}const Z=await mt().get(`/student/assignments/${Ze}/`);r(Z.data),i(!1)}catch{nt().fire({icon:"error",title:"Failed to load assignments"}),i(!1)}},Ae=Ye=>{l(Ye),Ye.has_test_mode?(u(!0),N(!1),M(0),D(0),Ye.time_limit_minutes&&z(Ye.time_limit_minutes*60)):Ye.status!=="submitted"&&Ye.status!=="graded"?f(!0):u(!0)};_.useEffect(()=>{if(A){const Ye=()=>{document.visibilityState==="hidden"&&he()},Ze=()=>{he()},Z=()=>{document.fullscreenElement||Te()},ae=Ne=>{Ne.preventDefault(),nt().fire({icon:"error",title:"Copying is not allowed during a test"})},me=Ne=>{Ne.preventDefault(),nt().fire({icon:"error",title:"Pasting is not allowed during a test"})},oe=Ne=>{(Ne.ctrlKey||Ne.metaKey)&&(Ne.key==="c"||Ne.key==="v"||Ne.key==="a"||Ne.key==="p"||Ne.key==="u"||Ne.key==="s"||Ne.key==="f"||Ne.key==="g"||Ne.key==="tab")&&(Ne.preventDefault(),nt().fire({icon:"error",title:"Keyboard shortcuts are disabled during tests"})),Ne.altKey&&Ne.key==="Tab"&&(Ne.preventDefault(),nt().fire({icon:"error",title:"Alt+Tab is not allowed during tests"}))};return document.addEventListener("visibilitychange",Ye),window.addEventListener("blur",Ze),document.addEventListener("fullscreenchange",Z),document.addEventListener("copy",ae),document.addEventListener("paste",me),document.addEventListener("keydown",oe),()=>{document.removeEventListener("visibilitychange",Ye),window.removeEventListener("blur",Ze),document.removeEventListener("fullscreenchange",Z),document.removeEventListener("copy",ae),document.removeEventListener("paste",me),document.removeEventListener("keydown",oe)}}},[A]),_.useEffect(()=>{if(A&&S>0){const Ye=setInterval(()=>{z(Ze=>Ze<=1?(clearInterval(Ye),ne(),0):Ze-1)},1e3);return U(Ye),()=>clearInterval(Ye)}return()=>{}},[A,S]),_.useEffect(()=>()=>{if(O&&clearInterval(O),A)try{se()}catch{}},[O]),_.useEffect(()=>{const Ye=Ze=>{if(A)return Ze.preventDefault(),Ze.returnValue="Leaving this page will terminate your test. Are you sure?",Ze.returnValue};return window.addEventListener("beforeunload",Ye),()=>{window.removeEventListener("beforeunload",Ye)}},[A]),_.useEffect(()=>{var Ye;(Ye=Y.state)!=null&&Ye.testCompleted&&(nt().fire({icon:"success",title:"Your test has been submitted successfully"}),X(Y.pathname,{replace:!0,state:{}}),G())},[Y]),_.useEffect(()=>{async function Ye(){try{const Ze=await mt().get("/user/appearance-settings/");Ze.data&&Ze.data.dark_mode!==void 0&&Be(Ze.data.dark_mode)}catch{}}Ye()},[]);const be=async()=>{if(Ve&&(a!=null&&a.has_test_mode)){nt().fire({icon:"error",title:"Secure tests must be taken on a PC or laptop. Please use a desktop device to complete this assignment."});return}try{await mt().post("/student/assignment-test-log/",{assignment_id:a.id,action:"start_test_prep",details:`Student clicked Start Secure Test button. Device type: ${Ve?"Mobile":"Desktop"}`}),u(!1),setTimeout(()=>{X(`/student/secure-test/${a.id}`)},100)}catch(Ye){nt().fire({icon:"error",title:`Failed to start test mode: ${Ye.message||"An error occurred"}`})}},re=async()=>{try{await mt().post("/student/assignment-test-log/",{assignment_id:a.id,action:"end_test",details:`Test completed. Fullscreen warnings: ${P}, Tab switch warnings: ${L}`}),ce(),nt().fire({icon:"success",title:"Test completed successfully"}),f(!0)}catch{nt().fire({icon:"error",title:"Error ending test"})}},ne=async()=>{try{await mt().post("/student/assignment-test-log/",{assignment_id:a.id,action:"time_up",details:"Test time expired"}),nt().fire({icon:"warning",title:"Time's up! Your test is being submitted automatically."}),ce(),f(!0)}catch{}},ce=()=>{N(!1),O&&clearInterval(O),se(),Pe()},Te=async()=>{const Ye=P+1;M(Ye);try{await mt().post("/student/assignment-test-log/",{assignment_id:a.id,action:"fullscreen_exit",details:`Fullscreen exit detected (Warning ${Ye}/${K})`}),Ye>=K?(nt().fire({icon:"error",title:"Maximum fullscreen exit warnings reached. Test is being submitted."}),re()):(nt().fire({icon:"warning",title:`Warning: Please return to fullscreen mode! (${Ye}/${K})`}),setTimeout(()=>{A&&!document.fullscreenElement&&ye().catch(Ze=>{})},1e3))}catch{}},he=async()=>{const Ye=L+1;D(Ye);try{await mt().post("/student/assignment-test-log/",{assignment_id:a.id,action:"tab_switch",details:`Tab switch detected (Warning ${Ye}/${K})`}),Ye>=K?(nt().fire({icon:"error",title:"Maximum tab switch warnings reached. Test is being submitted."}),re()):nt().fire({icon:"warning",title:`Warning: Tab switching detected! (${Ye}/${K})`})}catch{}},se=()=>{te.current&&te.current.srcObject&&(te.current.srcObject.getTracks().forEach(Ze=>Ze.stop()),te.current.srcObject=null),J.current&&J.current.srcObject&&(J.current.srcObject.getTracks().forEach(Ze=>Ze.stop()),J.current.srcObject=null)},ye=async()=>new Promise((Ye,Ze)=>{try{const Z=document.documentElement,ae=()=>{document.fullscreenElement&&(V(!0),document.removeEventListener("fullscreenchange",ae),Ye())};document.addEventListener("fullscreenchange",ae),Z.requestFullscreen?Z.requestFullscreen().catch(me=>{document.removeEventListener("fullscreenchange",ae),Ze(me)}):Z.mozRequestFullScreen?Z.mozRequestFullScreen().catch(me=>{document.removeEventListener("fullscreenchange",ae),Ze(me)}):Z.webkitRequestFullscreen?Z.webkitRequestFullscreen().catch(me=>{document.removeEventListener("fullscreenchange",ae),Ze(me)}):Z.msRequestFullscreen?Z.msRequestFullscreen().catch(me=>{document.removeEventListener("fullscreenchange",ae),Ze(me)}):(document.removeEventListener("fullscreenchange",ae),Ze(new Error("Fullscreen API not supported")))}catch(Z){Ze(Z)}}),Pe=()=>{try{document.fullscreenElement&&document.visibilityState==="visible"&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()),V(!1)}catch{}},Oe=Ye=>{const Ze=Math.floor(Ye/60),Z=Ye%60;return`${Ze}:${Z<10?"0":""}${Z}`},xe=Ye=>{g(Array.from(Ye.target.files))},at=(Ye,Ze,Z)=>{},lt=async()=>{try{k(!0);const Ye=new FormData;if(Ye.append("assignment_id",a.id),b&&Ye.append("submission_text",b),m.forEach(Z=>{Ye.append("submission_files",Z)}),a.has_test_mode&&(Ye.append("fullscreen_warnings",P),Ye.append("tab_switch_warnings",L),Ye.append("secure_mode_used",A)),!a.has_test_mode&&a.questions){const Z={...F,...de};Ye.append("answers",JSON.stringify(Z));let ae=0,me=0,oe=0;a.questions.forEach(Ne=>{if(Ne.type==="multiple_choice"){oe+=Ne.points||1;const xt=F[Ne.id];if(xt!==void 0&&Ne.options&&Ne.options.length>0){const At=Ne.options.findIndex($t=>$t.is_correct===!0);xt===At&&At!==-1&&(ae++,me+=Ne.points||1)}}}),Ye.append("auto_grade",me),Ye.append("auto_grade_possible",oe),Ye.append("auto_grade_details",JSON.stringify({correct_answers:ae,total_questions:a.questions.filter(Ne=>Ne.type==="multiple_choice").length}))}const Ze=await mt().post("/student/assignment-submission/",Ye,{headers:{"Content-Type":"multipart/form-data"}});nt().fire({icon:"success",title:"Assignment submitted successfully"}),f(!1),u(!1),G(),H({}),ee({})}catch{nt().fire({icon:"error",title:"Failed to submit assignment"})}finally{k(!1)}},ze=()=>{if(A){ve(!0);return}},Le=async()=>{if(!Ce||Ce.trim().length<10){nt().fire({icon:"error",title:"Please provide a detailed reason for leaving the test"});return}try{await mt().post("/student/assignment-test-log/",{assignment_id:a.id,action:"manual_exit",details:`Test aborted by student. Reason: ${Ce}`}),ce(),ve(!1),nt().fire({icon:"warning",title:"Test has been aborted. Your instructor will be notified."}),f(!0)}catch{nt().fire({icon:"error",title:"Failed to exit test properly"})}},[ct,tt]=_.useState(null),[He,gt]=_.useState(!1),ie=async Ye=>{try{const Ze=await mt().get(`student/assignment-submission/${Ye}/`);if(Ze.data&&(tt(Ze.data),Ze.data.answers)){const Z=Ze.data.answers;Z.multiple_choice&&H(Z.multiple_choice),Z.text&&ee(Z.text)}gt(!0)}catch{gt(!0)}};_.useEffect(()=>{a&&a.id&&ie(a.id)},[a]);const Ie=(Ye,Ze)=>{const Z={...F,[Ye]:Ze};H(Z)},We=(Ye,Ze)=>{const Z={...de,[Ye]:Ze};ee(Z),at("text",Ye,Ze.length>50?Ze.substring(0,50)+"...":Ze)};return o.jsxs("div",{style:{display:"flex",minHeight:"100vh"},children:[!Ve&&o.jsx(dc,{sidebarCollapsed:t}),o.jsxs("div",{style:{flex:1,marginLeft:Ve?0:t?"80px":"270px",transition:"margin-left 0.3s ease",color:Ee?"white":"inherit"},children:[o.jsx(Fi,{sidebarCollapsed:t,toggleSidebar:it}),o.jsxs("div",{style:{padding:Ve?"10px":"20px"},children:[o.jsx(Ss,{className:"mb-4",children:o.jsxs(Tn,{children:[o.jsx("h3",{style:{color:Ee?"white":"inherit"},children:"Assignments"}),o.jsx("p",{className:"text",style:{color:"rgb(255, 255, 255) !important"},children:"View and submit your course assignments"})]})}),s?o.jsx("div",{className:"text-center py-5",children:o.jsx(Hr,{animation:"border",role:"status",children:o.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):o.jsx(o.Fragment,{children:n.length>0?o.jsx(Ss,{children:n.map(Ye=>o.jsx(Tn,{md:6,lg:4,className:"mb-4",children:o.jsx(Lt,{className:"shadow-sm h-100",style:{backgroundColor:Ee?"#333":"rgba(224, 224, 224, 0.8)",color:Ee?"#fff":"#00000"},children:o.jsxs(Lt.Body,{className:"d-flex flex-column",children:[o.jsxs("div",{children:[o.jsx(Lt.Title,{style:{color:Ee?"#fff":"#00000"},children:Ye.title}),o.jsxs(Lt.Text,{className:"mb-2",style:{color:Ee?"#fff":"#00000"},children:["Course: ",Ye.course_name]}),Ye.due_date&&o.jsxs(Lt.Text,{className:"mb-3",style:{color:Ee?"#fff":"#00000"},children:["Due: ",new Date(Ye.due_date).toLocaleDateString()]})]}),o.jsxs("div",{className:"mb-3",children:[Ye.has_test_mode&&o.jsx(Zn,{bg:"warning",className:"me-2",children:"Secure Test"}),Ye.status==="pending"?o.jsx(Zn,{bg:"info",children:"Not Submitted"}):Ye.status==="submitted"?o.jsx(Zn,{bg:"success",children:"Submitted"}):Ye.status==="graded"?o.jsxs(Zn,{bg:"success",children:["Graded: ",Ye.grade]}):Ye.due_date&&new Date(Ye.due_date)<new Date?o.jsx(Zn,{bg:"danger",children:"Late"}):null]}),o.jsx("div",{className:"flex-grow-1"}),o.jsx("div",{children:o.jsx(Dt,{variant:Ee?"primary":"light",style:{borderColor:Ee?"#4285f4":"rgb(21, 0, 255)",backgroundColor:Ee?"#4285f4":"rgb(21, 0, 255)",color:Ee?"":"#fff"},onClick:()=>Ae(Ye),children:"View Assignment"})})]})})},Ye.id))}):o.jsx("div",{className:"text-center py-5",children:o.jsx("p",{children:"No assignments available."})})})]}),o.jsxs(vt,{show:c,onHide:()=>{if(A){ze();return}u(!1)},backdrop:A?"static":!0,keyboard:!A,size:"lg",centered:!0,fullscreen:A,className:Ee?"dark-mode-modal":"",children:[o.jsxs(vt.Header,{className:"border-0",closeButton:!1,children:[o.jsx(vt.Title,{children:a==null?void 0:a.title}),o.jsx("button",{type:"button",className:"btn-close-custom",onClick:()=>{if(A){ze();return}u(!1)},"aria-label":"Close",style:{background:"transparent",border:"none",fontSize:"1.2rem",fontWeight:"bold",color:Ee?"#fff":"#000",opacity:"0.5",cursor:A?"not-allowed":"pointer",padding:"0.25rem 0.5rem",marginLeft:"auto"},onMouseOver:Ye=>Ye.currentTarget.style.opacity="1",onMouseOut:Ye=>Ye.currentTarget.style.opacity="0.5",disabled:A,children:"✕"}),A&&o.jsx("div",{className:"ms-auto me-3 d-flex align-items-center",children:o.jsxs("div",{className:"fw-bold text-danger",children:["Time Remaining: ",Oe(S)]})})]}),o.jsx(vt.Body,{children:A?o.jsxs("div",{children:[o.jsx("div",{className:"mb-4",children:o.jsxs("div",{className:"alert alert-warning",children:[o.jsx("strong",{children:"Secure Test Mode Active"}),o.jsx("p",{children:"Do not exit fullscreen or switch tabs. Violations will be recorded."}),o.jsxs("p",{children:["Warnings: Fullscreen (",P,"/",K,") | Tab Switches (",L,"/",K,")"]})]})}),o.jsxs("div",{className:"mb-4",children:[o.jsx("h5",{children:"Test Instructions"}),o.jsx("div",{dangerouslySetInnerHTML:{__html:a==null?void 0:a.description}})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("h5",{children:"Test Questions"}),o.jsx("div",{dangerouslySetInnerHTML:{__html:a==null?void 0:a.test_content}})]}),o.jsx(Ue,{children:o.jsxs(Ue.Group,{className:"mb-3",children:[o.jsx(Ue.Label,{children:"Your Answer"}),o.jsx(Ue.Control,{as:"textarea",rows:6,value:b,onChange:Ye=>y(Ye.target.value),placeholder:"Type your answers here..."})]})})]}):o.jsxs("div",{children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("h5",{children:"Course"}),o.jsx("p",{children:a==null?void 0:a.course_name})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("h5",{children:"Due Date"}),o.jsx("p",{children:(a==null?void 0:a.due_date)&&new Date(a.due_date).toLocaleDateString()})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("h5",{children:"Description"}),o.jsx("div",{dangerouslySetInnerHTML:{__html:a==null?void 0:a.description}})]}),(a==null?void 0:a.files)&&a.files.length>0&&o.jsxs("div",{className:"mb-4",children:[o.jsx("h5",{children:"Resources"}),o.jsxs(Sg,{striped:!0,bordered:!0,hover:!0,children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"File Name"}),o.jsx("th",{children:"Action"})]})}),o.jsx("tbody",{children:a.files.map((Ye,Ze)=>o.jsxs("tr",{children:[o.jsx("td",{children:Ye.name}),o.jsx("td",{children:o.jsx(Dt,{variant:"outline-primary",size:"sm",onClick:()=>window.open(Ye.url,"_blank"),children:"Download"})})]},Ze))})]})]}),(a==null?void 0:a.has_test_mode)&&o.jsxs("div",{className:"alert alert-warning",children:[o.jsx("h5",{children:"Secure Test Mode"}),o.jsx("p",{children:"This assignment requires secure test mode:"}),o.jsxs("ul",{children:[o.jsx("li",{children:"Full-screen mode required"}),a.time_limit_minutes&&o.jsxs("li",{children:["Time limit: ",a.time_limit_minutes," ","minutes"]})]}),o.jsx("p",{children:"You cannot exit secure mode once started until submission."})]})]})}),o.jsx(vt.Footer,{children:A?o.jsx(Dt,{variant:"danger",onClick:re,children:"End Test & Submit"}):o.jsxs(o.Fragment,{children:[o.jsx(Dt,{variant:"secondary",onClick:()=>u(!1),children:"Close"}),(a==null?void 0:a.status)!=="submitted"&&(a==null?void 0:a.status)!=="graded"&&(a!=null&&a.has_test_mode?o.jsxs(Dt,{variant:"warning",onClick:be,children:[o.jsx("i",{className:"fas fa-lock me-2"}),"Start Secure Test"]}):o.jsx(Dt,{variant:"primary",onClick:()=>f(!0),children:"Submit Assignment"}))]})})]}),o.jsxs(vt,{show:h,onHide:()=>!C&&f(!1),backdrop:"static",keyboard:!C,centered:!0,size:"lg",className:Ee?"dark-mode-modal":"",children:[o.jsxs(vt.Header,{className:"border-0",closeButton:!1,children:[o.jsx(vt.Title,{children:"Submit Assignment"}),o.jsx("button",{type:"button",className:"btn-close-custom",onClick:()=>!C&&f(!1),disabled:C,"aria-label":"Close",style:{background:"transparent",border:"none",fontSize:"1.2rem",fontWeight:"bold",color:Ee?"#fff":"#000",opacity:"0.5",cursor:C?"not-allowed":"pointer",padding:"0.25rem 0.5rem",marginLeft:"auto"},onMouseOver:Ye=>Ye.currentTarget.style.opacity="1",onMouseOut:Ye=>Ye.currentTarget.style.opacity="0.5",children:"✕"})]}),o.jsxs(vt.Body,{children:[a&&o.jsxs("div",{className:"mb-4",children:[o.jsx("h5",{children:"Assignment Details"}),o.jsx("div",{className:"card",children:o.jsxs("div",{className:"card-body",children:[o.jsxs("h6",{className:"card-subtitle mb-2 text-muted",children:["Course: ",a.course_name]}),o.jsx("p",{className:"card-text",children:a.due_date?`Due Date: ${new Date(a.due_date).toLocaleDateString()}`:"No Due Date"}),(a.status==="submitted"||a.status==="graded")&&o.jsx("div",{className:"alert alert-success mb-3",children:o.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[o.jsxs("div",{children:[o.jsx("strong",{children:a.status==="submitted"?"Submitted":"Graded"}),a.submitted_at&&o.jsxs("div",{className:"small",children:["on ",new Date(a.submitted_at).toLocaleString()]})]}),a.grade&&o.jsxs("div",{className:"badge bg-success fs-6",children:["Score: ",a.grade,"/",a.points||100]})]})}),o.jsxs("div",{className:"mb-3",children:[o.jsx("h6",{children:"Instructions:"}),o.jsx("div",{dangerouslySetInnerHTML:{__html:a.description}})]}),a.files&&a.files.length>0&&o.jsxs("div",{children:[o.jsx("h6",{children:"Resources:"}),o.jsx("ul",{className:"list-group",children:a.files.map((Ye,Ze)=>o.jsxs("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[Ye.name,o.jsx(Dt,{variant:"outline-primary",size:"sm",onClick:()=>window.open(Ye.url,"_blank"),children:"Download"})]},Ze))})]})]})})]}),a&&!a.has_test_mode&&o.jsxs("div",{className:"mb-4",children:[o.jsx("h5",{children:"Questions"}),a.questions&&a.questions.length>0?a.questions.map((Ye,Ze)=>o.jsxs("div",{className:"mb-4",children:[o.jsxs("h5",{className:"mb-2",children:["Question ",Ze+1]}),o.jsx("p",{className:"mb-3",children:Ye.text}),Ye.type==="multiple_choice"&&o.jsxs("div",{className:"ms-3 mt-3",children:[Ye.options.map((Z,ae)=>o.jsx(Ue.Check,{type:"radio",id:`question-${Ye.id}-option-${ae}`,name:`question-${Ye.id}`,label:Z.text,checked:F[Ye.id]===ae,onChange:()=>Ie(Ye.id,ae),disabled:ct!==null,className:ct!==null&&F[Ye.id]===ae?"text-primary fw-bold":""},ae)),ct!==null&&o.jsx("div",{className:"mt-2 text-muted",children:o.jsx("small",{children:o.jsx("i",{children:"This answer was previously submitted and cannot be changed."})})})]}),Ye.type==="text"&&o.jsxs("div",{className:"ms-3 mt-3",children:[o.jsx(Ue.Control,{as:"textarea",rows:4,placeholder:"Enter your answer...",value:de[Ye.id]||"",onChange:Z=>We(Ye.id,Z.target.value),disabled:ct!==null}),ct!==null&&o.jsx("div",{className:"mt-2 text-muted",children:o.jsx("small",{children:o.jsx("i",{children:"This answer was previously submitted and cannot be changed."})})})]})]},Ye.id)):o.jsx("p",{children:"No questions available."})]}),x==="text"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mt-4",children:[o.jsx("h6",{children:"Additional Comments for Teacher (Optional)"}),o.jsx(Ue.Group,{className:"text",children:o.jsx(Ue.Control,{as:"textarea",rows:3,placeholder:"Add any questions or comments for your instructor here...",value:b,onChange:Ye=>y(Ye.target.value),disabled:C,style:{backgroundColor:"#ffffff",color:"#000000",borderColor:Ee?"#555":"inherit"}})})]}),o.jsxs("div",{className:"mt-4",children:[o.jsx("h6",{children:"Additional Files (Optional)"}),o.jsx(Ue.Group,{className:"mb-3",children:o.jsx(Ue.Control,{type:"file",multiple:!0,onChange:xe,disabled:C})})]})]})]}),o.jsxs(vt.Footer,{className:"d-flex flex-column align-items-stretch",children:[o.jsx(Dt,{variant:"secondary",onClick:()=>f(!1),disabled:C,className:"mb-2 w-100",children:(a==null?void 0:a.status)==="submitted"||(a==null?void 0:a.status)==="graded"?"Close":"Cancel"}),!((a==null?void 0:a.status)==="submitted"||(a==null?void 0:a.status)==="graded")&&o.jsx(Dt,{variant:"primary",onClick:lt,disabled:C||ct!==null||((yt=a==null?void 0:a.questions)==null?void 0:yt.some(Ye=>Ye.required&&(Ye.type==="multiple_choice"&&F[Ye.id]===void 0||Ye.type==="text"&&(!de[Ye.id]||de[Ye.id].trim()==="")))),className:"w-100",children:C?"Submitting...":"Submit Assignment"}),ct!==null&&o.jsxs(Ma,{variant:"info",className:"mt-3 mb-0 w-100",children:[o.jsx(ds,{icon:eke,className:"me-2"}),"You've already submitted this assignment on "," ",new Date(ct.submitted_at).toLocaleString(),". Your submission is final and cannot be changed."]})]})]}),o.jsxs(vt,{show:fe,backdrop:"static",keyboard:!1,centered:!0,children:[o.jsx(vt.Header,{children:o.jsx(vt.Title,{children:"Exit Test Mode?"})}),o.jsxs(vt.Body,{children:[o.jsxs("div",{className:"alert alert-danger",children:[o.jsx("strong",{children:"Warning!"})," Leaving the test before completion may be considered an academic violation. Your instructor will be notified."]}),o.jsxs(Ue.Group,{className:"mb-3",children:[o.jsx(Ue.Label,{children:"Please explain in detail why you need to exit the test:"}),o.jsx(Ue.Control,{as:"textarea",rows:3,value:Ce,onChange:Ye=>De(Ye.target.value),placeholder:"Technical issues, emergency, etc. (minimum 10 characters)"})]})]}),o.jsxs(vt.Footer,{children:[o.jsx(Dt,{variant:"secondary",onClick:()=>{ve(!1),document.fullscreenElement||ye().catch(console.error)},children:"Return to Test"}),o.jsx(Dt,{variant:"danger",onClick:Le,disabled:!Ce||Ce.trim().length<10,children:"Exit Test"})]})]}),Ve&&o.jsx(lu,{}),o.jsx("style",{children:`
            .dark-mode-modal .modal-content {
              background-color: #333 !important;
              color: #fff !important;
            }
            
            .dark-mode-modal .modal-header,
            .dark-mode-modal .modal-footer {
              border-color: #444 !important;
            }
            
            .dark-mode-modal .card {
              background-color: ${Ee?"#2a2a2a":"#fff"};
              border-color: ${Ee?"#444":"rgba(0,0,0,.125)"};
              color: ${Ee?"#fff":"inherit"};
            }
            
            .dark-mode-modal .text-muted {
              color: ${Ee?"#aaa !important":"#6c757d !important"};
            }
            
            .dark-mode-modal .list-group-item {
              background-color: ${Ee?"#2a2a2a":"#fff"};
              border-color: ${Ee?"#444":"rgba(0,0,0,.125)"};
              color: ${Ee?"#fff":"inherit"};
            }
            
            .dark-mode .btn-close {
              filter: invert(1) grayscale(100%) brightness(200%);
            }
            
            .dark-mode .form-control,
            .dark-mode .form-select {
              background-color: #444;
              color: #fff;
              border-color: #555;
            }
            
            .dark-mode-modal .form-control:focus,
            .dark-mode-modal .form-select:focus {
              background-color: #444;
              color: #fff;
            }
            
            .dark-mode-modal .form-control.white-bg {
              background-color: #fff !important;
              color: #000 !important;
            }

            /* Add mobile-specific styles */
            @media (max-width: 700px) {
              .card {
                margin-bottom: 15px;
              }
              
              .modal-dialog {
                margin: 0.5rem;
              }
              
              .modal-title {
                font-size: 1.1rem;
              }
            }
            
            /* Controls hiding/showing */
            .video-js.vjs-controls-hidden .vjs-control-bar {
              opacity: 0 !important;
              pointer-events: none;
              transition: opacity 0.3s ease;
            }
            
            .video-js:not(.vjs-controls-hidden) .vjs-control-bar {
              opacity: 1 !important;
              pointer-events: auto;
              transition: opacity 0.3s ease;
            }
          `})]})]})}function rke(){const[t,e]=_.useState(!0),[n,r]=_.useState(null),[s,i]=_.useState(""),[a,l]=_.useState(!1),[c,u]=_.useState(!1),[h,f]=_.useState(0),[m,g]=_.useState(0),[b,y]=_.useState(0),[x,w]=_.useState(null),[C,k]=_.useState(""),[A,N]=_.useState(!1),[P,M]=_.useState(!1),[L,D]=_.useState(!0),[S,z]=_.useState({}),O=3,{assignmentId:U}=Hd(),j=fr();_.useEffect(()=>{V();const F=H=>{if(a)return H.preventDefault(),H.returnValue="Leaving this page will terminate your test. Are you sure?",H.returnValue};return window.addEventListener("beforeunload",F),()=>{if(window.removeEventListener("beforeunload",F),x&&clearInterval(x),document.fullscreenElement)try{document.exitFullscreen()}catch{}}},[a,x]);const V=async()=>{try{e(!0);const de=(await mt().get(`/student/assignment/${U}/`)).data;if(!de)throw new Error("No assignment data returned");r(de),de.time_limit_minutes&&y(de.time_limit_minutes*60),e(!1)}catch(F){nt().fire({icon:"error",title:`Failed to load test: ${F.message||"Unknown error"}`}),j("/student/assignments")}};_.useEffect(()=>{if(a&&n&&b>0){const F=setInterval(()=>{y(H=>H<=1?(clearInterval(F),Y(),0):H-1)},1e3);return w(F),()=>clearInterval(F)}},[a,n,b]),_.useEffect(()=>{if(!a)return;const F=()=>{document.fullscreenElement||K()},H=()=>{const Ee=document.visibilityState==="hidden";M(Ee),Ee&&te()},de=()=>{D(!1),te()},ee=()=>{D(!0)},fe=Ee=>{Ee.preventDefault(),nt().fire({icon:"error",title:"Right-click is disabled during the test"})},ve=Ee=>{Ee.altKey&&(Ee.key==="Tab"||Ee.key==="F4")&&(Ee.preventDefault(),nt().fire({icon:"warning",title:"Switching windows is not allowed during the test"})),Ee.ctrlKey&&(Ee.key==="n"||Ee.key==="t")&&(Ee.preventDefault(),nt().fire({icon:"warning",title:"Opening new tabs/windows is not allowed during the test"})),Ee.key==="F11"&&Ee.preventDefault(),Ee.key==="PrintScreen"&&(Ee.preventDefault(),nt().fire({icon:"warning",title:"Screenshots are not allowed during the test"}))},Ce=Ee=>{Ee.preventDefault(),nt().fire({icon:"warning",title:"Copy, cut, and paste are not allowed during the test"})};document.addEventListener("fullscreenchange",F),document.addEventListener("visibilitychange",H),window.addEventListener("blur",de),window.addEventListener("focus",ee),document.addEventListener("contextmenu",fe),document.addEventListener("keydown",ve),document.addEventListener("copy",Ce),document.addEventListener("paste",Ce),document.addEventListener("cut",Ce);const De=setInterval(()=>{!document.hasFocus()&&!P&&te()},2e3);return()=>{document.removeEventListener("fullscreenchange",F),document.removeEventListener("visibilitychange",H),window.removeEventListener("blur",de),window.removeEventListener("focus",ee),document.removeEventListener("contextmenu",fe),document.removeEventListener("keydown",ve),document.removeEventListener("copy",Ce),document.removeEventListener("paste",Ce),document.removeEventListener("cut",Ce),clearInterval(De),document.exitPointerLock&&document.exitPointerLock()}},[a,P]);const K=async()=>{const F=h+1;f(F);try{await mt().post("/student/assignment-test-log/",{assignment_id:U,action:"fullscreen_exit",details:`Fullscreen exit detected (Warning ${F}/${O})`}),F>=O&&(k("Too many fullscreen exits"),N(!0))}catch{}},te=async()=>{const F=m+1;g(F);try{await mt().post("/student/assignment-test-log/",{assignment_id:U,action:"tab_switch",details:`Tab switch detected (Warning ${F}/${O})`}),F>=O&&(k("Too many tab switches"),N(!0))}catch{}},J=()=>{const F=document.documentElement;F.requestFullscreen?F.requestFullscreen():F.mozRequestFullScreen?F.mozRequestFullScreen():F.webkitRequestFullscreen?F.webkitRequestFullscreen():F.msRequestFullscreen&&F.msRequestFullscreen(),l(!0)},X=()=>{try{document.fullscreenElement&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()),l(!1)}catch{}},Y=async()=>{try{u(!0),await mt().post("/student/assignment-test-log/",{assignment_id:U,action:"end_test",details:`Test completed. Fullscreen warnings: ${h}, Tab switch warnings: ${m}`});const F=new FormData;F.append("assignment_id",U),F.append("submission_text",s),F.append("fullscreen_warnings",h),F.append("tab_switch_warnings",m),F.append("secure_mode_used",!0),F.append("answers",JSON.stringify(S)),await mt().post("/student/assignment-submission/",F,{headers:{"Content-Type":"multipart/form-data"}}),nt().fire({icon:"success",title:"Test submitted successfully"});try{document.fullscreenElement&&(X(),await new Promise(H=>setTimeout(H,300)))}catch{}j("/student/assignments",{state:{testCompleted:!0}})}catch{nt().fire({icon:"error",title:"Failed to submit test"}),u(!1)}};return o.jsxs("div",{className:"secure-test-page",children:[t?o.jsxs("div",{className:"text-center p-5",children:[o.jsx(Hr,{animation:"border",variant:"primary"}),o.jsx("p",{className:"mt-3",children:"Loading secure test environment..."})]}):a?o.jsxs(Ld,{fluid:!0,className:"p-4",children:[o.jsxs(Ma,{variant:"warning",className:"mb-4",children:[o.jsx("strong",{children:"SECURE TEST MODE ACTIVE"}),o.jsx("p",{children:"Do not exit fullscreen. Violations will be recorded."}),o.jsxs("p",{children:["Warnings: Fullscreen: ",h,"/",O," | Tab Switches: ",m,"/",O]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("h1",{children:n==null?void 0:n.title}),o.jsxs("div",{className:"my-4",children:[o.jsx("h3",{children:"Instructions"}),o.jsx("div",{dangerouslySetInnerHTML:{__html:n==null?void 0:n.description}})]}),(n==null?void 0:n.test_content)&&o.jsxs("div",{className:"my-4",children:[o.jsx("h3",{children:"Test Content"}),o.jsx("div",{dangerouslySetInnerHTML:{__html:n==null?void 0:n.test_content}})]}),n!=null&&n.questions&&n.questions.length>0?o.jsxs("div",{className:"my-4",children:[o.jsx("h3",{children:"Questions"}),n.questions.map((F,H)=>o.jsxs("div",{className:"card mb-3 p-3",children:[o.jsxs("h5",{children:[H+1,". ",F.title]}),F.description&&o.jsx("p",{children:F.description}),F.type==="multiple_choice"&&F.options&&o.jsx("div",{className:"mt-2",children:F.options.map((de,ee)=>o.jsxs("div",{className:"form-check",children:[o.jsx("input",{type:"radio",name:`question-${F.id}`,id:`option-${F.id||H}-${ee}`,className:"form-check-input",checked:S[F.id]===ee,onChange:()=>z(fe=>({...fe,[F.id]:ee}))}),o.jsx("label",{className:"form-check-label",htmlFor:`option-${F.id||H}-${ee}`,children:de.text})]},ee))}),F.type==="text"&&o.jsx(Ue.Control,{as:"textarea",rows:3,placeholder:"Your answer...",className:"mt-2",value:S[F.id]||"",onChange:de=>z(ee=>({...ee,[F.id]:de.target.value}))}),F.type==="file_upload"&&o.jsx(Ue.Control,{type:"file",className:"mt-2"}),o.jsx("div",{className:"mt-1 text-end text-muted",children:o.jsxs("small",{children:[F.points," point",F.points!==1?"s":""]})})]},F.id||H))]}):o.jsx("div",{className:"alert alert-info",children:"No questions found for this assignment."})]}),o.jsx("div",{className:"text-end",children:o.jsx(Dt,{variant:"primary",size:"lg",onClick:Y,disabled:c,children:c?"Submitting...":"Submit Test"})})]}):o.jsx(Ld,{className:"py-5",children:o.jsx(Ss,{className:"justify-content-center",children:o.jsxs(Tn,{md:8,lg:6,children:[o.jsxs(Ma,{variant:"info",children:[o.jsx(Ma.Heading,{children:"Start Secure Test"}),o.jsx("p",{children:"This test must be taken in full-screen mode. No tab switching, copying/pasting, or printing is allowed during the test."}),o.jsx("hr",{}),o.jsx("p",{className:"mb-0",children:"When you're ready to begin, click the button below."})]}),o.jsx("div",{className:"text-center",children:o.jsx(Dt,{variant:"primary",size:"lg",onClick:J,children:"Start Secure Test"})})]})})}),o.jsx("style",{children:`
      body.dark-mode .form-control, body.dark-mode .form-select
      {
        background-color: #ffffff;
        color: #000000;
      }
      
      `})]})}function Su({sidebarCollapsed:t}){const e=fr(),n=go(),r=()=>{xn.remove("access_token"),xn.remove("refresh_token"),e("/")},s=i=>n.pathname===i;return o.jsxs("div",{className:`sidebar ${t?"collapsed":""}`,style:{position:"fixed",top:"10px",left:"10px",height:"calc(100vh - 20px)",width:t?"60px":"250px",backgroundColor:"rgba(0, 0, 0, 0)",borderRadius:"15px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",transition:"width 0.3s ease",zIndex:1e3,overflow:"hidden",display:"flex",flexDirection:"column"},children:[o.jsxs("ul",{className:"list-unstyled",style:{padding:0,margin:0},children:[o.jsx("li",{className:"nav-item",children:o.jsxs(Pn,{className:`nav-link ${s("/teacher/dashboard")?"active":""}`,to:"/teacher/dashboard",style:{display:"flex",alignItems:"center",justifyContent:t?"center":"flex-start"},children:[o.jsx("i",{className:"bi bi-house",style:{fontSize:"20px",marginRight:t?"0":"10px"}}),!t&&o.jsx("span",{children:"Home"})]})}),o.jsx("li",{className:"nav-item",children:o.jsxs(Pn,{className:`nav-link ${s("/teacher/courses")?"active":""}`,to:"/teacher/courses",style:{display:"flex",alignItems:"center",justifyContent:t?"center":"flex-start"},children:[o.jsx("i",{className:"bi bi-book",style:{fontSize:"20px",marginRight:t?"0":"10px"}}),!t&&o.jsx("span",{children:"Courses"})]})}),o.jsx("li",{className:"nav-item",children:o.jsxs(Pn,{className:`nav-link ${s("/teacher/assignments")?"active":""}`,to:"/teacher/assignments",style:{display:"flex",alignItems:"center",justifyContent:t?"center":"flex-start"},children:[o.jsx("i",{className:"bi bi-pencil",style:{fontSize:"20px",marginRight:t?"0":"10px"}}),!t&&o.jsx("span",{children:"Assignments"})]})}),o.jsx("li",{className:"nav-item",children:o.jsxs(Pn,{className:`nav-link ${s("/teacher/quiz")?"active":""}`,to:"/teacher/quiz",style:{display:"flex",alignItems:"center",justifyContent:t?"center":"flex-start"},children:[o.jsx("i",{className:"bi bi-question-circle",style:{fontSize:"20px",marginRight:t?"0":"10px"}}),!t&&o.jsx("span",{children:"Quiz"})]})}),o.jsx("li",{className:"nav-item",children:o.jsxs(Pn,{className:`nav-link ${s("/teacher/messages")?"active":""}`,to:"/teacher/messages",style:{display:"flex",alignItems:"center",justifyContent:t?"center":"flex-start"},children:[o.jsx("i",{className:"bi bi-chat-dots",style:{fontSize:"20px",marginRight:t?"0":"10px"}}),!t&&o.jsx("span",{children:"Messages"})]})})]}),o.jsx("div",{style:{flex:1}}),o.jsxs("ul",{className:"list-unstyled",style:{padding:0,margin:0,marginBottom:"10px"},children:[o.jsx("li",{className:"nav-item",children:o.jsxs(Pn,{className:`nav-link ${s("/teacher/settings")?"active":""}`,to:"/teacher/settings",style:{display:"flex",alignItems:"center",justifyContent:t?"center":"flex-start"},children:[o.jsx("i",{className:"bi bi-gear",style:{fontSize:"20px",marginRight:t?"0":"10px"}}),!t&&o.jsx("span",{children:"Settings"})]})}),o.jsx("li",{className:"nav-item",children:o.jsxs("button",{className:"nav-link btn btn-link text-start",onClick:r,style:{display:"flex",alignItems:"center",justifyContent:t?"center":"flex-start"},children:[o.jsx("i",{className:"bi bi-box-arrow-right",style:{fontSize:"20px",marginRight:t?"0":"10px"}}),!t&&o.jsx("span",{children:"Log Out"})]})})]}),o.jsx("style",{children:`
        .nav-link {
          padding: 10px;
          border-radius: 8px;
          color: black;
          text-decoration: none;
          transition: background-color 0.3s ease, color 0.3s ease;
          width: 100%;
        }

        .nav-link:hover {
          background-color: rgb(3, 3, 153);
          color: white;
        }

        .nav-link:hover i,
        .nav-link:hover span {
          color: white;
        }

        .nav-link.active {
          background-color: rgb(140, 0, 0);
          font-weight: bold;
          color: white;
        }

        .nav-link.active i,
        .nav-link.active span {
          color: white;
        }

        .nav-item {
          width: 100%;
        }

        .sidebar.collapsed .nav-link {
          justify-content: center;
        }

        .sidebar.collapsed .nav-link i {
          margin-right: 0;
        }

        .sidebar.collapsed .nav-link span {
          display: none;
        }
      `})]})}function ske(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}ske(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var hN=t=>typeof t=="number"&&!isNaN(t),Bg=t=>typeof t=="string",Az=t=>typeof t=="function",ike=t=>Bg(t)||hN(t),ake=t=>_.isValidElement(t)||Bg(t)||Az(t)||hN(t),oke=1,Dz=()=>`${oke++}`,al=new Map,VT=[],JO=new Set,Pz=()=>al.size>0,lke=(t,{containerId:e})=>{var n;return(n=al.get(e||1))==null?void 0:n.toasts.get(t)};function cke(t,e){var n;if(e)return!!((n=al.get(e))!=null&&n.isToastActive(t));let r=!1;return al.forEach(s=>{s.isToastActive(t)&&(r=!0)}),r}function uke(t){if(!Pz()){VT=VT.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||ike(t))al.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=al.get(t.containerId);e?e.removeToast(t.id):al.forEach(n=>{n.removeToast(t.id)})}}var dke=(t={})=>{al.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function hke(t,e){ake(t)&&(Pz()||VT.push({content:t,options:e}),al.forEach(n=>{n.buildToast(t,e)}))}function Iz(t,e){al.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function fke(t){return JO.add(t),()=>{JO.delete(t)}}function pke(t){return t&&(Bg(t.toastId)||hN(t.toastId))?t.toastId:Dz()}function k0(t,e){return hke(t,e),e.toastId}function aw(t,e){return{...e,type:e&&e.type||t,toastId:pke(e)}}function ow(t){return(e,n)=>k0(e,aw(t,n))}function er(t,e){return k0(t,aw("default",e))}er.loading=(t,e)=>k0(t,aw("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function mke(t,{pending:e,error:n,success:r},s){let i;e&&(i=Bg(e)?er.loading(e,s):er.loading(e.render,{...s,...e}));let a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,h,f)=>{if(h==null){er.dismiss(i);return}let m={type:u,...a,...s,data:f},g=Bg(h)?{render:h}:h;return i?er.update(i,{...m,...g}):er(g.render,{...m,...g}),f},c=Az(t)?t():t;return c.then(u=>l("success",r,u)).catch(u=>l("error",n,u)),c}er.promise=mke;er.success=ow("success");er.info=ow("info");er.error=ow("error");er.warning=ow("warning");er.warn=er.warning;er.dark=(t,e)=>k0(t,aw("default",{theme:"dark",...e}));function gke(t){uke(t)}er.dismiss=gke;er.clearWaitingQueue=dke;er.isActive=cke;er.update=(t,e={})=>{let n=lke(t,e);if(n){let{props:r,content:s}=n,i={delay:100,...r,...e,toastId:e.toastId||t,updateId:Dz()};i.toastId!==t&&(i.staleId=t);let a=i.render||s;delete i.render,k0(a,i)}};er.done=t=>{er.update(t,{progress:1})};er.onChange=fke;er.play=t=>Iz(!0,t);er.pause=t=>Iz(!1,t);function yke(t){var y;const[e,n]=_.useState(null),[r,s]=_.useState(!1),[i,a]=_.useState([]),[l,c]=_.useState(!1),u=mt();_.useEffect(()=>(h(),window.addEventListener("calendar-refresh",h),()=>{window.removeEventListener("calendar-refresh",h)}),[]);const h=async()=>{try{const x=await u.get(`${Zi}events/`);a(x.data)}catch(x){console.error("Error fetching events: ",x)}},f=x=>{const w=cl(x).format("YYYY-MM-DD"),C=i.filter(k=>k.event_date===w);n({date:w,events:C}),s(!0)},m=()=>{s(!1)},g=x=>{var w;s(!1),(w=e==null?void 0:e.events)==null||w.find(C=>C.id===x),t.handleEditEvent&&x&&t.handleEditEvent(x)},b=async x=>{if(window.confirm("Are you sure you want to delete this event?")){c(!0);try{const w=xn.get("access_token"),C=await u.delete(`events/${x}/`,{headers:{Authorization:`Bearer ${w}`}});(C.status===204||C.status===200)&&(er.success("Event deleted successfully"),s(!1),h(),t.fetchDashboardData&&t.fetchDashboardData())}catch(w){console.error("Error deleting event:",w),er.error("Failed to delete event. Please try again.")}finally{c(!1)}}};return o.jsxs(T6,{dateAdapter:S6,children:[o.jsx(R8,{displayStaticWrapperAs:"desktop",value:(e==null?void 0:e.date)||null,onChange:x=>f(x),renderInput:x=>o.jsx("div",{...x}),renderDay:(x,w,C)=>{const k=x.format("YYYY-MM-DD"),A=x.isSame(cl(),"day"),N=i.some(K=>K.event_date===k),P=C.outsideCurrentMonth,{isAnimating:M,allowSameDateSelection:L,outsideCurrentMonth:D,disableHighlightToday:S,showDaysOutsideCurrentMonth:z,onDayFocus:O,onDaySelect:U,today:j,...V}=C;return _.createElement("div",{...V,key:k,style:{...C.style,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:N?"#940303":void 0,color:N?"white":P?"#d3d3d3":void 0,border:A?"2px solid #032794":void 0,borderRadius:"50%",width:"36px",height:"36px",margin:"auto",cursor:"pointer"},onClick:()=>f(x)},x.date())}}),o.jsx(x8,{open:r,onClose:m,children:o.jsxs(y8,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,p:4,borderRadius:"8px"},children:[o.jsxs("h3",{style:{textAlign:"center"},children:["Schedule for ",(e==null?void 0:e.date)||""]}),((y=e==null?void 0:e.events)==null?void 0:y.length)>0?o.jsx("ul",{style:{listStyleType:"none",padding:0},children:e.events.map((x,w)=>o.jsx("li",{style:{marginBottom:"10px",padding:"10px",backgroundColor:"#f8f9fa",borderRadius:"4px"},children:o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:[o.jsxs("div",{children:[o.jsx("strong",{children:x.name})," ",o.jsx("br",{}),o.jsx("small",{children:new Date(x.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})," ",o.jsx("br",{}),x.platform&&x.platform!=="other"&&o.jsxs("small",{children:["Platform: ",x.platform]}),x.invite_link&&o.jsx("div",{children:o.jsx("a",{href:x.invite_link,target:"_blank",rel:"noopener noreferrer",style:{color:"#0066cc",fontSize:"14px"},children:"Join Event"})})]}),o.jsxs("div",{children:[o.jsx(e4,{onClick:()=>g(x.id),style:{minWidth:"32px",padding:"4px 8px",color:"#0066cc",marginRight:"5px"},title:"Edit event",disabled:l,children:o.jsx(fv,{style:{fontSize:"14px"}})}),o.jsx(e4,{onClick:()=>b(x.id),style:{minWidth:"32px",padding:"4px 8px",color:"#dc3545"},title:"Delete event",disabled:l,children:o.jsx(zf,{style:{fontSize:"14px"}})})]})]})},x.id||w))}):o.jsx("p",{style:{textAlign:"center"},children:"No events for this day."})]})})]})}s0.register(jx,Nx,$m,Gh,p6,g6,h6,Yh);function bke(){const[t,e]=_.useState(!1),[n,r]=_.useState(!0),[s,i]=_.useState({}),[a,l]=_.useState([]),[c,u]=_.useState(null),[h,f]=_.useState(!1),[m,g]=_.useState(!1),[b,y]=_.useState([]),[x,w]=_.useState(!0),[C,k]=_.useState(!1),[A,N]=_.useState([]),[P,M]=_.useState([]),[L,D]=_.useState(!1),[S,z]=_.useState([]),[O,U]=_.useState(!1),[j,V]=_.useState(!1),[K,te]=_.useState(null),[J,X]=_.useState(!1),[Y,F]=_.useState({name:"",date:"",time:"",description:"",platform:"Other",invite_link:"",groups:[],users:[],send_to_all:!1}),[H,de]=_.useState([]),[ee,fe]=_.useState([]),[ve,Ce]=_.useState(!1),De=mt(),Ee=async()=>{try{const oe=await De.get("/user/appearance-settings/");oe.data&&Be(oe.data)}catch{const Ne=localStorage.getItem("darkMode")==="true";e(Ne)}},Be=oe=>{oe.dark_mode?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode"),e(oe.dark_mode),oe.font_size&&(document.documentElement.style.fontSize=`${oe.font_size}px`),oe.high_contrast?document.body.classList.add("high-contrast"):document.body.classList.remove("high-contrast")};_.useEffect(()=>{Ee();const oe=new MutationObserver(Ne=>{Ne.forEach(xt=>{if(xt.attributeName==="class"){const At=document.body.classList.contains("dark-Mode");e(At)}})});return oe.observe(document.body,{attributes:!0}),()=>oe.disconnect()},[]);const Ve=_.useRef(null),rt=_.useRef(null),it=fr(),G=()=>{r(!n)},Ae=()=>{const oe=["January","February","March","April","May","June","July","August","September","October","November","December"],xt=new Date().getMonth();return[oe[(xt+10)%12],oe[(xt+11)%12],oe[xt]]},[be,re]=_.useState(null),[ne,ce]=_.useState([]),[Te,he]=_.useState(!1),se=oe=>{const Ne=oe.format("YYYY-MM-DD"),xt=a.filter(At=>At.event_date===Ne);xt.length>0?(re(Ne),ce(xt),he(!0)):(V(!1),te(null),F({...Y,date:Ne}),U(!0))},ye=()=>{V(!1),te(null),F({name:"",date:"",time:"",description:"",platform:"Other",invite_link:"",groups:[],users:[],send_to_all:!1}),X(!1),U(!0),Oe()},Pe=async oe=>{var Ne,xt;try{V(!0),te(oe),w(!0);const $t=(await De.get(`events/${oe}/`)).data,wt=$t.platform&&$t.platform!=="other";X(wt);const Jt=new Date($t.date||$t.event_datetime),ir=Jt.toISOString().split("T")[0],Ir=Jt.getHours().toString().padStart(2,"0"),Wn=Jt.getMinutes().toString().padStart(2,"0"),Qt=`${Ir}:${Wn}`;F({name:$t.name||"",date:ir,time:Qt,description:$t.description||"",platform:$t.platform||"other",invite_link:$t.invite_link||"",groups:((Ne=$t.groups)==null?void 0:Ne.map(gn=>gn.id||gn))||[],users:((xt=$t.users)==null?void 0:xt.map(gn=>gn.id||gn))||[],send_to_all:$t.send_to_all||!1}),await Oe(),U(!0)}catch{er.error("Failed to load event data. Please try again.")}finally{w(!1)}},Oe=async()=>{try{const oe=await De.get("groups/");oe.data&&oe.data.groups?de(oe.data.groups):de([]),oe.data&&oe.data.users?fe(oe.data.users):fe([])}catch{de([]),fe([])}},xe=oe=>{const{name:Ne,value:xt,type:At,checked:$t}=oe.target;F(At==="checkbox"?{...Y,[Ne]:$t}:{...Y,[Ne]:xt})},at=(oe,Ne)=>{const xt=Array.from(oe.target.selectedOptions).map(At=>At.value);F({...Y,[Ne]:xt})},lt=oe=>{X(oe.target.checked),oe.target.checked||F({...Y,platform:"Other",invite_link:""})},ze=async oe=>{var Ne,xt;if(oe.preventDefault(),Ce(!0),!Y.date||!Y.time){er.error("Date and time are required"),Ce(!1);return}try{const At=new Date(`${Y.date}T${Y.time}`),$t={name:Y.name,date:At.toISOString(),description:Y.description||"",platform:J?Y.platform:"other",invite_link:J?Y.invite_link:"",send_to_all:Y.send_to_all||!1,users:Array.isArray(Y.users)?Y.users:[],groups:Array.isArray(Y.groups)?Y.groups:[]},wt=xn.get("access_token");let Jt;j&&K?(Jt=await De.put(`events/${K}/`,$t,{headers:{Authorization:`Bearer ${wt}`,"Content-Type":"application/json"}}),er.success("Event updated successfully!")):(Jt=await De.post("teacher/submit-event/",$t,{headers:{Authorization:`Bearer ${wt}`,"Content-Type":"application/json"}}),er.success("Event created successfully!")),(Jt.status===201||Jt.status===200)&&(U(!1),We(),setTimeout(()=>{window.dispatchEvent(new CustomEvent("calendar-refresh"))},100))}catch(At){(xt=(Ne=At.response)==null?void 0:Ne.data)!=null&&xt.errors,er.error(`Failed to ${j?"update":"create"} event. Please try again.`)}finally{Ce(!1)}},Le=()=>{const Ne=new Date().toISOString().split("T")[0];F({...Y,date:Ne})},ct=()=>{const oe=new Date,Ne=oe.getHours().toString().padStart(2,"0"),xt=oe.getMinutes().toString().padStart(2,"0"),At=`${Ne}:${xt}`;F({...Y,time:At})},tt=()=>it("/instructor/students"),He=()=>it("/instructor/assignments/to-grade"),gt=()=>it("/instructor/quizzes"),ie=()=>it("/instructor/certificates"),Ie=async()=>{var oe;try{const Ne=await De.get(`user/profile/${(oe=zt())==null?void 0:oe.user_id}/`);u(Ne.data)}catch(Ne){Ne.response&&Ne.response.status===401&&it("/")}},We=async()=>{var Ne,xt,At,$t,wt;const oe=(Ne=zt())==null?void 0:Ne.teacher_id;if(!oe){it("/404");return}try{const Jt=await De.get(`teacher/dashboard/${oe}/`);i({total_students:((xt=Jt.data.stats)==null?void 0:xt.total_students)||0,assignments_to_grade:((At=Jt.data.stats)==null?void 0:At.assignments_to_grade)||0,quizzes_created:(($t=Jt.data.stats)==null?void 0:$t.quizzes_created)||0,certificates_issued:((wt=Jt.data.stats)==null?void 0:wt.certificates_issued)||0,monthly_submissions:Jt.data.monthly_submissions||[],monthly_logins:Jt.data.monthly_logins||[],monthly_quizzes:Jt.data.monthly_quizzes||[],activity_breakdown:Jt.data.activity_breakdown||[]}),N(Jt.data.recent_certificates||[]),M(Jt.data.recent_activity||[]),z(Jt.data.upcoming_events||[]),l(Jt.data.all_events||[]);const ir=await De.get("notifications/");y(ir.data)}catch{}},yt=async()=>{k(!0),await Ie(),k(!1)},Ye=async()=>{try{const oe=await De.get("events/allowed-platforms/")}catch{}};if(_.useEffect(()=>{We(),Ye()},[]),_.useEffect(()=>{(async()=>{if(sessionStorage.getItem("refreshed_instructor_dashboard"))sessionStorage.removeItem("refreshed_instructor_dashboard"),D(!0),setTimeout(()=>{D(!1)},3e3);else{const wt=`visited_${"/teacher/dashboard".replace(/\//g,"_")}`;sessionStorage.getItem(wt)==="true"&&sessionStorage.setItem("refreshed_instructor_dashboard","true")}await Ie(),await We();const At=setTimeout(()=>{w(!1)},1500);return()=>clearTimeout(At)})();const Ne=xt=>{Ve.current&&!Ve.current.contains(xt.target)&&rt.current&&!rt.current.contains(xt.target)&&(f(!1),g(!1))};return document.addEventListener("mousedown",Ne),()=>{document.removeEventListener("mousedown",Ne)}},[]),_.useEffect(()=>{c||yt()},[c]),x)return o.jsx(L8,{});if(C)return o.jsx("p",{children:"Refreshing user data..."});const Ze={labels:Ae(),datasets:[{label:"Submissions",data:s.monthly_submissions?s.monthly_submissions.slice(-3):[0,0,0],borderColor:"#032794",backgroundColor:"rgba(3, 39, 148, 0.2)",tension:.4},{label:"Logins",data:s.monthly_logins?s.monthly_logins.slice(-3):[0,0,0],borderColor:"#15A362",backgroundColor:"rgba(21, 163, 98, 0.2)",tension:.4},{label:"Quiz Attempts",data:s.monthly_quizzes?s.monthly_quizzes.slice(-3):[0,0,0],borderColor:"#8c0101",backgroundColor:"rgba(140, 1, 1, 0.2)",tension:.4}]},Z={responsive:!0,plugins:{legend:{display:!0,labels:{color:t?"#f0f0f0":"#666"}},tooltip:{callbacks:{label:oe=>`${oe.raw} Activities`}}},scales:{x:{grid:{display:!1},ticks:{color:t?"#f0f0f0":"#666"}},y:{beginAtZero:!0,grid:{color:t?"#444":"#f0f0f0"},ticks:{color:t?"#f0f0f0":"#666"}}}},ae={labels:["Assignments","Quizzes","Discussions","Content"],datasets:[{data:s.activity_breakdown||[],backgroundColor:["#032794","#8c0101","#15A362","#FFC107"],hoverBackgroundColor:["#021c68","#5c0000","#0f8049","#e0aa00"]}]},me={responsive:!0,plugins:{legend:{display:!0,position:"bottom",labels:{boxWidth:12,font:{size:11},color:t?"#f0f0f0":"#666"}}},cutout:"70%"};return o.jsxs("div",{style:{display:"flex",minHeight:"100vh"},children:[o.jsx(Su,{sidebarCollapsed:n}),o.jsxs("div",{style:{flex:1,marginTop:"40px",marginLeft:n?"80px":"270px",transition:"margin-left 0.3s ease",display:"flex",flexDirection:"column"},children:[o.jsxs("div",{style:{position:"fixed",top:0,right:0,left:n?"80px":"270px",zIndex:1e3,backgroundColor:"rgba(0,0,0,0)",boxShadow:"0 2px 4px rgba(0, 0, 0, 0)",transition:"left 0.3s ease"},children:["          ",o.jsx(Fi,{sidebarCollapsed:n,toggleSidebar:G}),L&&o.jsx("div",{style:{position:"fixed",top:"70px",right:"20px",backgroundColor:"#4CAF50",color:"white",padding:"10px 15px",borderRadius:"4px",boxShadow:"0 2px 5px rgba(0,0,0,0.2)",zIndex:1e3,animation:"fadeIn 0.5s, fadeOut 0.5s 2.5s forwards"},children:"Dashboard refreshed with the latest data"})]}),o.jsx("div",{style:{padding:"20px",marginTop:"60px"},children:o.jsxs("div",{className:"row mb-2",children:[o.jsxs("div",{className:"col-md-8",children:[o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-md-3",children:o.jsx("div",{className:"card shadow-sm text-center",style:{backgroundColor:t?"#333":"#e9ecef",color:t?"white":"black",border:"none",transition:"all 0.3s ease",cursor:"pointer"},onMouseEnter:oe=>{const Ne=Math.random()>.5?"#8c0101":"#034287";oe.currentTarget.style.backgroundColor=Ne,oe.currentTarget.style.color="white",oe.currentTarget.style.setProperty("background-color",Ne,"important")},onMouseLeave:oe=>{oe.currentTarget.style.backgroundColor=t?"#333":"#e9ecef",oe.currentTarget.style.color=t?"white":"black"},onClick:tt,children:o.jsxs("div",{className:"card-body",style:{padding:"10px"},children:[o.jsx("h6",{style:{color:t?"white":"inherit"},children:"Total Students"}),o.jsx("p",{className:"display-6",style:{color:t?"white":"inherit"},children:s.total_students||0})]})})}),o.jsx("div",{className:"col-md-3",children:o.jsx("div",{className:"card shadow-sm text-center",style:{backgroundColor:t?"#333":"#e9ecef",color:t?"white":"black",border:"none",transition:"all 0.3s ease",cursor:"pointer"},onMouseEnter:oe=>{const Ne=Math.random()>.5?"#8c0101":"#034287";oe.currentTarget.style.backgroundColor=Ne,oe.currentTarget.style.color="white",oe.currentTarget.style.setProperty("background-color",Ne,"important")},onMouseLeave:oe=>{oe.currentTarget.style.backgroundColor=t?"#333":"#e9ecef",oe.currentTarget.style.color=t?"white":"black"},onClick:He,children:o.jsxs("div",{className:"card-body",style:{padding:"10px"},children:[o.jsx("h6",{style:{color:t?"white":"inherit"},children:"Assignments to Grade"}),o.jsx("p",{className:"display-6",style:{color:t?"white":"inherit"},children:s.assignments_to_grade||0})]})})}),o.jsx("div",{className:"col-md-3",children:o.jsx("div",{className:"card shadow-sm text-center",style:{backgroundColor:t?"#333":"#e9ecef",color:t?"white":"black",border:"none",transition:"all 0.3s ease",cursor:"pointer"},onMouseEnter:oe=>{const Ne=Math.random()>.5?"#8c0101":"#034287";oe.currentTarget.style.backgroundColor=Ne,oe.currentTarget.style.color="white",oe.currentTarget.style.setProperty("background-color",Ne,"important")},onMouseLeave:oe=>{oe.currentTarget.style.backgroundColor=t?"#333":"#e9ecef",oe.currentTarget.style.color=t?"white":"black"},onClick:gt,children:o.jsxs("div",{className:"card-body",style:{padding:"10px"},children:[o.jsx("h6",{style:{color:t?"white":"inherit"},children:"Quizzes Created"}),o.jsx("p",{className:"display-6",style:{color:t?"white":"inherit"},children:s.quizzes_created||0})]})})}),o.jsx("div",{className:"col-md-3",children:o.jsx("div",{className:"card shadow-sm text-center",style:{backgroundColor:t?"#333":"#e9ecef",color:t?"white":"black",border:"none",transition:"all 0.3s ease",cursor:"pointer"},onMouseEnter:oe=>{const Ne=Math.random()>.5?"#8c0101":"#034287";oe.currentTarget.style.backgroundColor=Ne,oe.currentTarget.style.color="white",oe.currentTarget.style.setProperty("background-color",Ne,"important")},onMouseLeave:oe=>{oe.currentTarget.style.backgroundColor=t?"#333":"#e9ecef",oe.currentTarget.style.color=t?"white":"black"},onClick:ie,children:o.jsxs("div",{className:"card-body",style:{padding:"10px"},children:[o.jsx("h6",{style:{color:t?"white":"inherit"},children:"Certificates Issued"}),o.jsx("p",{className:"display-6",style:{color:t?"white":"inherit"},children:s.certificates_issued||0})]})})})]}),o.jsxs("div",{className:"row mt-2",children:[o.jsx("div",{className:"col-md-8",children:o.jsx("div",{className:"card shadow-sm",style:{backgroundColor:t?"#333":"white"},children:o.jsxs("div",{className:"card-body",style:{padding:"10px"},children:[o.jsx("h5",{style:{color:t?"white":"inherit"},children:"Class Activity Trends"}),o.jsx(w6,{data:Ze,options:Z})]})})}),o.jsx("div",{className:"col-md-4",children:o.jsx("div",{className:"card shadow-sm",style:{backgroundColor:t?"#333":"white"},children:o.jsxs("div",{className:"card-body",style:{padding:"10px"},children:[o.jsx("h5",{style:{color:t?"white":"inherit"},children:"Activity Breakdown"}),o.jsx(_6,{data:ae,options:me})]})})})]})]}),o.jsx("div",{className:"col-md-4",children:o.jsx("div",{className:"card shadow-sm",style:{backgroundColor:t?"#333":"white"},children:o.jsxs("div",{className:"card-body",style:{padding:"10px",display:"flex",justifyContent:"center",alignItems:"flex-start",height:"100%",flexDirection:"column"},children:[o.jsxs("div",{className:"d-flex justify-content-between align-items-center w-100 mb-2",children:[o.jsx("h5",{style:{margin:"0",color:t?"white":"inherit"},children:"Event Calendar"}),o.jsxs("button",{className:"btn btn-sm btn-primary",onClick:ye,style:{fontSize:"0.8rem",padding:"0.2rem 0.5rem"},children:[o.jsx(Nd,{size:12,className:"me-1"})," Add Event"]})]}),o.jsx(yke,{renderDay:(oe,Ne,xt)=>{const At=oe.format("YYYY-MM-DD"),$t=oe.isSame(cl(),"day"),wt=a.some(Wn=>Wn.event_date===At),Jt=xt.outsideCurrentMonth,{today:ir,...Ir}=xt;return _.createElement("div",{...Ir,key:At,style:{...xt.style,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:wt?t?"#551c1c":"#ffcccc":void 0,color:Jt?t?"#777":"#d3d3d3":t?"white":void 0,border:$t?"2px solid #032794":void 0,borderRadius:"50%",width:"36px",height:"36px",margin:"auto",cursor:"pointer"},onClick:()=>se(oe)},oe.date())},handleEditEvent:Pe,fetchDashboardData:We})]})})})]})})]}),o.jsxs(vt,{show:O,onHide:()=>U(!1),size:"lg",backdrop:"static",centered:!0,contentClassName:t?"bg-dark":"",children:[o.jsxs(vt.Header,{style:{color:t?"white":"black",backgroundColor:t?"#333":"white"},className:t?"border-dark":"",children:[o.jsxs(vt.Title,{children:[o.jsx(Qb,{className:"me-2"}),j?"Edit Event":"Add New Event"]}),o.jsx("div",{onClick:()=>U(!1),style:{cursor:"pointer",fontSize:"20px",fontWeight:"bold",marginLeft:"auto",padding:"0 10px"},children:o.jsx($f,{color:t?"white":"#333"})})]}),o.jsx(vt.Body,{className:t?"bg-dark text-light":"",children:o.jsxs(Ue,{onSubmit:ze,children:[o.jsxs(Ue.Group,{className:"mb-3",children:[o.jsxs(Ue.Label,{children:["Name ",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsx(Ue.Control,{type:"text",name:"name",value:Y.name,onChange:xe,required:!0,style:{backgroundColor:t?"white":"#f8f9fa",color:"black"}})]}),o.jsxs(Ue.Group,{className:"mb-3",children:[o.jsxs(Ue.Label,{children:["Date ",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx(Ue.Control,{type:"date",name:"date",value:Y.date,onChange:xe,required:!0,className:"me-2",style:{backgroundColor:t?"white":"#f8f9fa",color:"black"}}),o.jsxs(Dt,{variant:t?"outline-light":"outline-danger",size:"sm",onClick:Le,className:"d-flex align-items-center",children:["Today ",o.jsx(Qb,{className:"ms-1"})]})]})]}),o.jsxs(Ue.Group,{className:"mb-3",children:[o.jsxs(Ue.Label,{children:["Time ",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx(Ue.Control,{type:"time",name:"time",value:Y.time,onChange:xe,required:!0,className:"me-2",style:{backgroundColor:t?"white":"#f8f9fa",color:"black"}}),o.jsxs(Dt,{variant:t?"outline-light":"outline-danger",size:"sm",onClick:ct,className:"d-flex align-items-center",children:["Now ",o.jsx(Qb,{className:"ms-1"})]})]}),o.jsx(Ue.Text,{className:t?"text-light":"text-muted",children:"Note: you are 2 hours ahead of server time."})]}),o.jsxs(Ue.Group,{className:"mb-3",children:[o.jsx(Ue.Check,{type:"checkbox",label:"This is a live video session",checked:J,onChange:lt,className:"mb-2",style:{color:t?"#e0e0e0":"inherit"}}),J&&o.jsxs(o.Fragment,{children:[o.jsxs(Ue.Group,{className:"mb-3",children:[o.jsxs(Ue.Label,{children:["Platform ",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsxs(Ue.Select,{name:"platform",value:Y.platform,onChange:xe,required:!0,style:{backgroundColor:t?"white":"#f8f9fa",color:"black"},children:[o.jsx("option",{value:"other",children:"Other"}),o.jsx("option",{value:"zoom",children:"Zoom"}),o.jsx("option",{value:"google_meet",children:"Google Meet"}),o.jsx("option",{value:"ms_teams",children:"Microsoft Teams"}),o.jsx("option",{value:"webex",children:"WebEx"})]})]}),o.jsxs(Ue.Group,{className:"mb-3",children:[o.jsx(Ue.Label,{children:"Invite link"}),o.jsx(Ue.Control,{type:"url",name:"invite_link",value:Y.invite_link,onChange:xe,placeholder:"https://",style:{backgroundColor:t?"white":"#f8f9fa",color:"black"}})]})]})]}),o.jsxs(Ue.Group,{className:"mb-3",children:[o.jsx(Ue.Label,{children:"Description"}),o.jsx(Ue.Control,{as:"textarea",rows:3,name:"description",value:Y.description,onChange:xe,style:{backgroundColor:t?"white":"#f8f9fa",color:"black"}})]}),o.jsxs(Ue.Group,{className:"mb-3",children:[o.jsxs(Ue.Label,{className:"d-flex align-items-center",children:[o.jsx(kbe,{className:"me-1"})," Groups"]}),o.jsx(Ue.Select,{multiple:!0,name:"groups",value:Y.groups,onChange:oe=>at(oe,"groups"),style:{backgroundColor:t?"white":"#f8f9fa",color:"black"},children:Array.isArray(H)?H.map(oe=>o.jsx("option",{value:oe.id,children:oe.name},oe.id)):o.jsx("option",{value:"",children:"No groups available"})}),o.jsx(Ue.Text,{className:t?"text-light":"text-muted",children:'Hold down "Control", or "Command" on a Mac, to select more than one.'})]}),o.jsxs(Ue.Group,{className:"mb-3",children:[o.jsxs(Ue.Label,{className:"d-flex align-items-center",children:[o.jsx(Ebe,{className:"me-1"})," Users"]}),o.jsx(Ue.Select,{multiple:!0,name:"users",value:Y.users,onChange:oe=>at(oe,"users"),style:{backgroundColor:t?"white":"#f8f9fa",color:"black"},children:ee.map(oe=>o.jsx("option",{value:oe.id,children:oe.name||oe.email},oe.id))}),o.jsx(Ue.Text,{className:t?"text-light":"text-muted",children:'Hold down "Control", or "Command" on a Mac, to select more than one.'})]}),o.jsx(Ue.Group,{className:"mb-3",children:o.jsx(Ue.Check,{type:"checkbox",id:"send-to-all",label:"Send to all",name:"send_to_all",checked:Y.send_to_all,onChange:xe,style:{color:t?"#e0e0e0":"inherit"}})}),o.jsxs("div",{className:"d-flex justify-content-end",children:[o.jsx(Dt,{variant:t?"outline-light":"secondary",className:"me-2",onClick:()=>U(!1),children:"Cancel"}),o.jsx(Dt,{variant:"primary",type:"submit",disabled:ve,children:ve?"Saving...":"Save"})]})]})})]}),o.jsxs(vt,{show:Te,onHide:()=>he(!1),size:"md",centered:!0,contentClassName:t?"bg-dark":"",children:[o.jsx(vt.Header,{style:{color:t?"white":"black",backgroundColor:t?"#333":"white"},className:t?"border-dark":""}),o.jsx(vt.Body,{className:t?"bg-dark text-light":"",children:ne.length>0?o.jsx("div",{children:ne.map(oe=>o.jsxs("div",{className:"d-flex justify-content-between align-items-center p-2 mb-2",style:{backgroundColor:t?"#444":"#f8f9fa",borderRadius:"4px"},children:[o.jsxs("div",{className:"flex-grow-1",children:[o.jsx("h6",{className:"mb-1",children:oe.name}),o.jsxs("small",{children:[new Date(oe.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),oe.platform&&oe.platform!=="other"&&` - ${oe.platform}`]})]}),o.jsxs("div",{children:[o.jsxs(Dt,{variant:"outline-primary",size:"sm",onClick:()=>{he(!1),Pe(oe.id)},className:"me-2",title:"Edit event",children:[o.jsx(fv,{})," Edit"]}),o.jsxs(Dt,{variant:"outline-danger",size:"sm",onClick:()=>handleDeleteEvent(oe.id),title:"Delete event",children:[o.jsx(zf,{})," Delete"]})]})]},oe.id))}):o.jsx("p",{className:"text-center",children:"No events scheduled for this day."})})]}),o.jsx("style",{children:`
          /* Dark mode text color overrides */
          .dark-mode h1, .dark-mode h2, .dark-mode h4, .dark-mode h5, .dark-mode h6,
          .dark-mode p, .dark-mode span, {
            color: white !important;
          }
          .dark-mode .card {
            background-color: #333 !important;
          }
          
          .dark-mode .card-body h5 {
            color: white !important;
          }
          
          .dark-mode .card-body h6 {
            color: white !important;
            
          }
          
          .dark-mode .card-body p {
            color: white !important;
          }
          
          .dark-mode .display-6 {
            color: white !important;
          }
          
          /* Calendar day styling override for dark mode */
          .dark-mode .MuiPickersDay-root:not(.Mui-selected) {
            color: white !important;
          }
          .dark-mode .css-1u9f8qc-MuiTypography-root {
          color: white !important;
          }
          .dark-mode .css-3vnhty  {
            color: black !important;
          }
          .dark-mode .css-yg5mi2 {
            color: white !important;
          }
            dark-mode .css-1bm6bgu {
            color: white !important;
        }
          .dark-mode .from-check-label {
          color: black !important;
          }
            .dark-mode .mb-3 {
            color: black !important;
          }
            .dark-mode .text-danger {
            color: #dc3545 !important;
          }
        `})]})}function xke(){return _.useEffect(()=>{const t=n=>{n.preventDefault(),alert("Right-click is disabled on this page.")},e=n=>{n.key==="F12"&&(n.preventDefault(),alert("F12 is disabled on this page.")),n.ctrlKey&&n.shiftKey&&n.key==="I"&&(n.preventDefault(),alert("Ctrl+Shift+I is disabled on this page."))};return document.addEventListener("contextmenu",t),document.addEventListener("keydown",e),()=>{document.removeEventListener("contextmenu",t),document.removeEventListener("keydown",e)}},[]),o.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:9999,pointerEvents:"none",backgroundColor:"rgba(0, 0, 0, 0)"}})}const vke=({disabled:t=!0,preserveError:e=!0})=>(_.useEffect(()=>{if(t)return()=>{}},[t,e]),null);function wke(){const[t,e]=_.useState(!0),[n,r]=_.useState("profile"),[s,i]=_.useContext(Hg),[a,l]=_.useState({image:"",full_name:"",about:""}),[c,u]=_.useState(""),[h,f]=_.useState(""),m=fr(),[g,b]=_.useState(!1),[y,x]=_.useState(16),[w,C]=_.useState(!1),[k,A]=_.useState("default"),[N,P]=_.useState("comfortable"),[M,L]=_.useState(!1),D=()=>{e(!t)},S=()=>{var F;mt().get(`user/profile/${(F=zt())==null?void 0:F.user_id}/`).then(H=>{i(H.data),l(H.data),u(H.data.image)}).catch(H=>{H.response&&H.response.status===401&&(xn.remove("access_token"),xn.remove("refresh_token"),m("/"))})};_.useEffect(()=>{var H;if(!((H=zt())==null?void 0:H.user_id)){m("/");return}S()},[]),_.useEffect(()=>{const F=document.body.classList.contains("dark-mode"),H=localStorage.getItem("appearanceSettings");if(H){const de=JSON.parse(H);b(F||de.darkMode||!1),x(de.fontSize||16),C(de.highContrast||!1),A(de.colorTheme||"default"),P(de.density||"comfortable")}else b(F);setTimeout(()=>z(),100)},[]),_.useEffect(()=>{const F=localStorage.getItem("appearanceSettings");if(F)try{const H=JSON.parse(F);b(H.darkMode||!1),x(H.fontSize||16),C(H.highContrast||!1),A(H.colorTheme||"default"),P(H.density||"comfortable"),setTimeout(()=>{H.darkMode&&document.body.classList.add("dark-mode"),H.highContrast&&document.body.classList.add("high-contrast"),document.documentElement.style.fontSize=`${H.fontSize}px`,document.body.setAttribute("data-theme",H.colorTheme||"default"),document.body.setAttribute("data-density",H.density||"comfortable")},100)}catch{}},[]);const z=()=>{document.body.classList.remove("dark-mode","high-contrast"),g&&document.body.classList.add("dark-mode"),w&&document.body.classList.add("high-contrast"),document.documentElement.style.fontSize=`${y}px`,document.body.setAttribute("data-theme",k),document.body.setAttribute("data-density",N),localStorage.setItem("appearanceSettings",JSON.stringify({darkMode:g,fontSize:y,highContrast:w,colorTheme:k,density:N}))},O=()=>{b(!g),L(!0)},U=F=>{x(parseInt(F.target.value)),L(!0)},j=()=>{C(!w),L(!0)},V=F=>{P(F.target.value),L(!0)},K=async()=>{try{z();const H=await mt().post("user/appearance-settings/",{dark_mode:g,font_size:y,high_contrast:w,color_theme:k,density:N});L(!1),f("Settings applied and saved to your account!"),setTimeout(()=>f(""),3e3)}catch{f("Settings applied locally")}},te=F=>{l({...a,[F.target.name]:F.target.value})},J=F=>{const H=F.target.files[0];l({...a,[F.target.name]:H});const de=new FileReader;de.onloadend=()=>{u(de.result)},H&&de.readAsDataURL(H)},X=async F=>{var de;F.preventDefault();const H=new FormData;a.image&&typeof a.image!="string"&&H.append("image",a.image),H.append("id",a.id||""),H.append("full_name",a.full_name||""),H.append("country",a.country||""),H.append("about",a.about||""),H.append("date",a.date||""),H.append("otp",a.otp||null),H.append("user",a.user||"");try{const ee=await mt().patch(`user/profile/${(de=zt())==null?void 0:de.user_id}/`,H,{headers:{"Content-Type":"multipart/form-data"}});i(ee.data),f("Profile was successfully updated!"),setTimeout(()=>f(""),5e3)}catch{f("Failed to update profile. Please try again."),setTimeout(()=>f(""),5e3)}},Y={container:{display:"flex",minHeight:"100vh"},mainContent:{flex:1,marginLeft:t?"80px":"270px",transition:"margin-left 0.3s ease"},profileContainer:{display:"flex",marginTop:"20px",height:"calc(100vh - 80px)"},content:{flex:1,padding:"20px",overflowY:"auto"},avatar:{width:"100px",height:"100px",borderRadius:"50%",objectFit:"cover"},successMessage:{color:"green",marginLeft:"10px",fontSize:"14px"}};return o.jsxs("div",{style:Y.container,children:[o.jsx(Su,{sidebarCollapsed:t}),o.jsxs("div",{style:Y.mainContent,children:[o.jsx(Fi,{sidebarCollapsed:t,toggleSidebar:D}),o.jsxs("div",{style:Y.profileContainer,children:[o.jsxs("div",{className:"settings-nav",children:[o.jsx("button",{className:`settings-nav-btn${n==="profile"?" active":""}`,onClick:()=>r("profile"),children:"Profile"}),o.jsx("button",{className:`settings-nav-btn${n==="Appearance"?" active":""}`,onClick:()=>r("Appearance"),children:"Appearance"})]}),o.jsxs("div",{style:Y.content,children:[n==="profile"&&o.jsxs("div",{children:[o.jsx("h4",{className:"mb-4",children:"Profile Details"}),o.jsxs("form",{onSubmit:X,children:[o.jsxs("div",{className:"d-flex align-items-center mb-4",children:[o.jsx("img",{src:c,alt:"avatar",style:Y.avatar}),o.jsxs("div",{className:"ms-3",children:[o.jsx("h5",{children:"Change Profile Image"}),o.jsx("label",{htmlFor:"upload-avatar",style:{display:"inline-block",padding:"10px 20px",fontSize:"14px",color:"red",border:"2px solid red",borderRadius:"4px",backgroundColor:"transparent",cursor:"pointer",transition:"background-color 0.3s ease, color 0.3s ease"},onMouseEnter:F=>{F.target.style.backgroundColor="red",F.target.style.color="white"},onMouseLeave:F=>{F.target.style.backgroundColor="transparent",F.target.style.color="red"},children:"Upload Profile Picture"}),o.jsx("input",{type:"file",id:"upload-avatar",className:"form-control mt-2",name:"image",onChange:J,style:{display:"none"}})]})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"form-label",children:"UserName"}),o.jsx("input",{type:"text",className:"form-control",name:"full_name",value:a.full_name,onChange:te,required:!0})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"form-label",children:"About Me"}),o.jsx("textarea",{className:"form-control",name:"about",rows:"4",value:a.about,onChange:te})]}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Update Profile"}),h&&o.jsx("span",{style:Y.successMessage,children:h})]})]}),n==="Appearance"&&o.jsxs("div",{children:[o.jsx("h4",{className:"mb-4",children:"Appearance Settings"}),o.jsxs("div",{className:"appearance-setting-container p-4 mb-4 bg-light rounded",children:[o.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-4",children:[o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("div",{className:"me-3",children:g?o.jsx(x$,{size:24}):o.jsx(w$,{size:24})}),o.jsx("span",{className:"fw-medium",children:"Dark Mode"})]}),o.jsx(Ue.Check,{type:"switch",id:"dark-mode-switch",checked:g,onChange:O})]}),o.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-4",children:[o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("div",{className:"me-3",children:o.jsx(b$,{size:24})}),o.jsx("span",{className:"fw-medium",children:"Font Size"})]}),o.jsx(Ue.Range,{min:12,max:24,step:1,value:y,onChange:U,style:{width:"50%"}})]}),o.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-4",children:[o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("div",{className:"me-3",children:o.jsx(y$,{size:24})}),o.jsx("span",{className:"fw-medium",children:"High Contrast"})]}),o.jsx(Ue.Check,{type:"switch",id:"high-contrast-switch",checked:w,onChange:j})]}),o.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-4",children:[o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("div",{className:"me-3",children:o.jsx(v$,{size:24})}),o.jsx("span",{className:"fw-medium",children:"Density"})]}),o.jsxs(Ue.Select,{value:N,onChange:V,style:{width:"50%"},children:[o.jsx("option",{value:"comfortable",children:"Comfortable"}),o.jsx("option",{value:"compact",children:"Compact"})]})]})]}),o.jsxs("div",{className:`p-4 mb-4 rounded border ${g?"bg-dark text-light":"bg-white"}`,children:[o.jsx("h4",{children:"Settings Preview"}),o.jsxs("p",{style:{fontSize:`${y}px`},children:["This text shows how your current settings will appear.",g?" Dark mode is enabled.":" Light mode is enabled.",w?" High contrast is enabled.":"","Font size is set to ",y,"px and UI density is ",N,"."]}),o.jsxs("div",{className:"d-flex gap-2 mt-3",children:[o.jsx("button",{className:"btn btn-primary",children:"Primary Button"}),o.jsx("button",{className:"btn btn-secondary",children:"Secondary Button"})]})]}),o.jsx("button",{className:"btn btn-outline-danger mt-3",onClick:()=>{b(!1),x(16),C(!1),A("default"),P("comfortable"),setTimeout(()=>z(),0)},children:"Reset to Default Settings"}),o.jsx("button",{className:"btn btn-primary mt-3 ms-3",onClick:K,disabled:!M,children:"Apply Settings"})]})]})]})]})]})}function fN(t){return gi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M9 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M9 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M15 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M15 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M15 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]}]})(t)}const io=(t="")=>`${t}${Math.random().toString(36).substring(2,10)}`,eM=()=>{const[t,e]=_.useState(!0),[n,r]=_.useState(null),[s,i]=_.useState([]),[a,l]=_.useState(""),[c,u]=_.useState("Untitled Assignment"),[h,f]=_.useState(""),[m,g]=_.useState(!1),[b,y]=_.useState(new Date),[x,w]=_.useState("23:59"),[C,k]=_.useState("draft"),[A,N]=_.useState(0),[P,M]=_.useState(!0),[L,D]=_.useState(null),[S,z]=_.useState(!1),[O,U]=_.useState(!1),[j,V]=_.useState(!1),[K,te]=_.useState(!1),[J,X]=_.useState(30),[Y,F]=_.useState(""),[H,de]=_.useState(!1),[ee,fe]=_.useState([{id:io("q"),type:"multiple_choice",title:"Question 1",description:"",required:!0,points:1,options:[{id:io("opt"),text:"Option 1",isCorrect:!1},{id:io("opt"),text:"Option 2",isCorrect:!1}],correctFeedback:"Correct!",incorrectFeedback:"Try again!"}]),ve=mt(),{assignmentId:Ce}=Hd(),De=fr(),Ee=!!Ce,Be=_.useRef(!1),Ve=zt(),rt=Ve==null?void 0:Ve.teacher_id;_.useEffect(()=>{rt||(nt().fire({icon:"error",title:"Teacher access required"}),De("/404"))},[rt,De]);const it=_.useRef({}),G=()=>{e(!t)},Ae="#0d6efd",be="#0a58ca",re=(ze,Le)=>{fe(ee.map(ct=>{if(ct.id!==ze)return ct;const tt={...ct,type:Le};return Le==="multiple_choice"?((!tt.options||tt.options.length<2)&&(tt.options=[{id:io("opt"),text:"Option 1",isCorrect:!0},{id:io("opt"),text:"Option 2",isCorrect:!1}]),tt.correctFeedback=tt.correctFeedback||"Correct!",tt.incorrectFeedback=tt.incorrectFeedback||"Try again!"):Le==="text"&&(tt.sampleAnswer=tt.sampleAnswer||""),tt})),r(null)},ne=(ze,Le,ct)=>{fe(ee.map(tt=>tt.id===ze?{...tt,[Le]:ct}:tt))},ce=ze=>{ze.target.value?y(new Date(ze.target.value)):y(null)},Te=()=>{y(new Date)},he=()=>{const ze=new Date,Le=ze.getHours().toString().padStart(2,"0"),ct=ze.getMinutes().toString().padStart(2,"0");w(`${Le}:${ct}`)},se=ze=>{if(!ze.destination)return;const Le=Array.from(ee),[ct]=Le.splice(ze.source.index,1);Le.splice(ze.destination.index,0,ct),fe(Le)},ye=async()=>{if(Ce)try{const Le=(await ve.get(`/teacher/assignment/${Ce}/get/`)).data;u(Le.title||""),f(Le.description||"");let ct=null;if(Le.course_id!==void 0&&Le.course_id!==null?ct=Le.course_id:Le.course&&Le.course.id?ct=Le.course.id:Le.course&&(ct=Le.course),ct!==null&&l(ct.toString()),Le.due_date){g(!0);const tt=new Date(Le.due_date);y(tt);const He=tt.getHours().toString().padStart(2,"0"),gt=tt.getMinutes().toString().padStart(2,"0");w(`${He}:${gt}`)}if(k(Le.status||"draft"),U(Le.has_test_mode||!1),Le.questions&&Le.questions.length>0){const tt=Le.questions.map(gt=>({id:io("q"),type:gt.type||"multiple_choice",title:gt.title||"Question",description:gt.description||"",required:gt.required!==void 0?gt.required:!0,points:gt.points||1,options:(gt.options||[]).map(ie=>({id:io("opt"),text:ie.text||"Option",isCorrect:ie.is_correct||!1})),correctFeedback:gt.correct_feedback||"Correct!",incorrectFeedback:gt.incorrect_feedback||"Try again!",sampleAnswer:gt.sample_answer||""}));fe(tt);const He=tt.reduce((gt,ie)=>gt+ie.points,0);N(He)}}catch{nt().fire({icon:"error",title:"Failed to load assignment details"})}};if(_.useEffect(()=>{const ze=async()=>{try{if(!rt){nt().fire({icon:"error",title:"Teacher profile not found. Please ensure you're logged in with a teacher account."});return}const He=await ve.get(`teacher/course-lists/${rt}/`);i(He.data)}catch{nt().fire({icon:"error",title:"Failed to load courses"})}},Le=()=>{const He=document.body.classList.contains("dark-mode")||localStorage.getItem("appearanceSettings")&&JSON.parse(localStorage.getItem("appearanceSettings")).darkMode;z(He)},ct=async()=>{M(!0);try{await ze(),Ee&&await ye(),Le()}finally{M(!1),Be.current=!0}},tt=He=>{if(n){let gt=!1;Object.keys(it.current).forEach(ie=>{it.current[ie]&&it.current[ie].contains(He.target)&&(gt=!0)}),gt||r(null)}};return document.addEventListener("mousedown",tt),Be.current||ct(),()=>{document.removeEventListener("mousedown",tt)}},[Ce,ve,rt]),P)return o.jsx("div",{className:"p-5 text-center",children:"Loading assignment data..."});const Pe=async()=>{var tt,He,gt,ie;if(!a){nt().fire({icon:"error",title:"Please select a course"});return}if(!c.trim()){nt().fire({icon:"error",title:"Please enter an assignment title"});return}let ze=null;if(m&&b){const[Ie,We]=x.split(":").map(Number),yt=new Date(b);yt.setHours(Ie,We,0,0),ze=yt.toISOString()}const Le=ee.map((Ie,We)=>{const yt={title:Ie.title||`Question ${We+1}`,type:Ie.type,required:Ie.required,points:Ie.points,order:We};return Ie.type==="multiple_choice"?(yt.options=Ie.options.map(Ye=>({text:Ye.text,is_correct:Ye.isCorrect})),yt.correct_feedback=Ie.correctFeedback,yt.incorrect_feedback=Ie.incorrectFeedback):Ie.type==="text"&&(yt.sample_answer=Ie.sampleAnswer||""),yt}),ct={title:c,description:h,course_id:a,due_date:m&&b?ze:null,status:C,has_test_mode:O,time_limit_minutes:O&&K?J:null,test_content:O?Y:null,questions:Le};Ee&&(ct.assignment_id=Ce),de(!0);try{let Ie;Ee?(Ie=await ve.post(`/teacher/assignment/${Ce}/`,ct),nt().fire({icon:"success",title:"Assignment updated successfully"})):(Ie=await ve.post("/teacher/assignment/",ct),nt().fire({icon:"success",title:"Assignment created successfully"}),De("/teacher/assignments"))}catch(Ie){const We=((He=(tt=Ie.response)==null?void 0:tt.data)==null?void 0:He.error)||((ie=(gt=Ie.response)==null?void 0:gt.data)==null?void 0:ie.message)||"Failed to save assignment";nt().fire({icon:"error",title:We})}finally{de(!1)}},Oe=ze=>{const Le=io("q");let tt={id:Le,type:ze,title:`Question ${ee.length+1}`,description:"",required:!0,points:1};tt.options=[{id:io("opt"),text:"Option 1",isCorrect:!0},{id:io("opt"),text:"Option 2",isCorrect:!1}],tt.correctFeedback="Correct!",tt.incorrectFeedback="Try again!",fe([...ee,tt]),D(Le)},xe=(ze,Le)=>{const ct=ee.find(He=>He.id===ze);if(!ct||ct.type!=="multiple_choice")return;if(ct.options.length<=2){nt().fire({icon:"error",title:"Multiple choice questions must have at least two options"});return}const tt=ct.options.filter(He=>He.id!==Le);ne(ze,"options",tt)},at=ze=>{const Le=ee.find(tt=>tt.id===ze);if(!Le||Le.type!=="multiple_choice")return;const ct={id:io("opt"),text:`Option ${Le.options.length+1}`,isCorrect:!1};ne(ze,"options",[...Le.options,ct])},lt=ze=>{fe(ee.filter(Le=>Le.id!==ze)),L===ze&&D(null)};return o.jsxs("div",{style:{display:"flex",minHeight:"100vh"},children:[o.jsx(Su,{sidebarCollapsed:t}),o.jsxs("div",{style:{flex:1,marginTop:"40px",marginLeft:t?"80px":"270px",transition:"margin-left 0.3s ease",display:"flex",flexDirection:"column"},children:[o.jsx("div",{style:{position:"fixed",top:0,right:0,left:t?"80px":"270px",zIndex:1e3,backgroundColor:"rgba(0,0,0,0)",boxShadow:"0 2px 4px rgba(0, 0, 0, 0)",transition:"left 0.3s ease"},children:o.jsx(Fi,{sidebarCollapsed:t,toggleSidebar:G})}),o.jsx("div",{style:{padding:"20px",marginTop:"60px"},children:o.jsxs("div",{className:`assignment-editor ${S?"dark-mode":"light-mode"}`,children:[o.jsx("style",{jsx:"true",children:`
              .assignment-editor {
                font-family: 'Roboto', Arial, sans-serif;
                padding: 0; /* Adjusted padding since we have outer padding */
              }
              
              .dark-mode {
                background-color: #121212;
                color: white;
                min-height: 100vh;
              }
              
              .light-mode {
                background-color:rgb(255, 254, 254);
                color: black;
                min-height: 100vh;
              }
              
              .header-card {
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                margin-bottom: 16px;
                padding: 24px;
              }
              
              .dark-mode .header-card {
                background-color: #333;
                border-left-color: #444;
              }
              
              .light-mode .header-card {
                background-color: white;
              }
              
              .question-card {
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                margin-bottom: 16px;
                border-left: 1px solid #dadce0;
                transition: all 0.2s;
              }

              .DropdownIndicator {
               color: rgba(0,0,0,0);
              }
              
              .dark-mode .question-card {
                background-color: #333;
                border-left-color: #444;
              }
              
              .light-mode .question-card {
                background-color: white;
              }
              
              .question-card.active {
                border-left: 6px solid ${Ae};
              }
              
              .question-card:hover {
                box-shadow: 0 3px 12px rgba(0,0,0,0.15);
              }
              
              .question-header {
                display: flex;
                align-items: center;
                padding: 16px 24px;
                border-bottom: 1px solid #e0e0e0;
              }
              
              .dark-mode .question-header {
                border-bottom-color: #444;
              }
              
              .question-drag-handle {
                cursor: grab;
                margin-right: 12px;
              }
              
              .dark-mode .question-drag-handle {
                color: #ddd;
              }
              
              .light-mode .question-drag-handle {
                color: #5f6368;
              }
              
              .question-body {
                padding: 16px 24px;
              }
              
              .question-footer {
                display: flex;
                justify-content: space-between;
                padding: 8px 24px;
                border-top: 1px solid #e0e0e0;
              }
              
              .dark-mode .question-footer {
                background-color: #2a2a2a;
                border-top-color: #444;
              }
              
              .light-mode .question-footer {
                background-color: #f8f9fa;
              }
              
              .btn-custom {
                background-color:rgba(54, 6, 151, 0);
                color : Blue;
                box-shadow: 0 1px 3px rgba(0,0,0,0.2);
                border : 1px solid rgb(0, 22, 145);
                padding: 8px 24px;
                border-radius: 4px;
                font-weight: 500;
              }
              
              .btn-custom.outline {
                background-color: transparent;
                color:rgb(60, 0, 165);
                border: 1px solidrgb(66, 0, 181);
              }
              
              .dark-mode .btn-custom.outline {
                background-color: #444;
                color: white;
                border: 1px solid #777;
              }
              
              .btn-custom:hover {
                background-color:rgb(0, 13, 193);
                color: #fff;

              }
              
              .btn-custom.outline:hover {
                background-color: #f0f0f0;
              }
              
              .dark-mode .btn-custom.outline:hover {
                background-color: #555;
              }
              
              .option-row {
                display: flex;
                align-items: center;
                margin-bottom: 12px;
              }
              
              .option-circle {
                width: 20px;
                height: 20px;
                border-radius: 50%;
                border: 2px solid #5f6368;
                margin-right: 12px;
              }
              
              .dark-mode .option-circle {
                border-color: #aaa;
              }
              
              /* Input styling */
              .form-control, .form-select {
                border-radius: 4px;
                padding: 8px;
                margin-bottom: 12px;
              }
              
              /* Fix the toggle slider indicator */
              .toggle-slider:before {
                position: absolute;
                content: "";
                height: 16px;
                width: 16px;
                left: 4px;
                bottom: 4px;
                background-color: white;
                transition: .4s;
                border-radius: 50%;
              }
              
              /* Remove dropdown indicators from all select elements */
              .form-select {
                appearance: none !important;
                -webkit-appearance: none !important;
                -moz-appearance: none !important;
                background-image: none !important;
                padding-right: 8px !important;
              }
              
              .dark-mode .form-control,
              .dark-mode .form-select {
                background-color: white !important;
                color: black !important;
                border: 1px solid #444;
              }
              
              .light-mode .form-control,
              .light-mode .form-select {
                background-color: #f8f9fa !important;
                color: black !important;
                border: 1px solid #ddd;
              }
              
              /* Toggle switch styling */
              .toggle-switch {
                position: relative;
                display: inline-block;
                width: 48px;
                height: 24px;
                margin-right: 10px;
              }
              
              .toggle-switch input {
                opacity: 0;
                width: 0;
                height: 0;
              }
              
              .toggle-slider {
                position: absolute;
                cursor: pointer;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background-color: #ccc;
                transition: .4s;
                border-radius: 24px;
              }
              
              .toggle-slider:before {
                position: absolute;
                content: "";
                height: 16px;
                width: 16px;
                left: 4px;
                bottom: 4px;
                background-color: white;
                transition: .4s;
                border-radius: 50%;
              }
              
              input:checked + .toggle-slider {
                background-color:rgb(0, 13, 160);
              }
              
              input:checked + .toggle-slider:before {
                transform: translateX(24px);
              }
              
              .toggle-label {
                vertical-align: middle;
                margin-left: 5px;
              }
              
              /* Date/time styling */
              .date-time-container {
                display: flex;
                gap: 10px;
                align-items: center;
                margin-bottom: 10px;
              }

              /* Floating Action Button */
              .add-question-wrapper {
                margin: 30px 0;
                display: flex;
                flex-direction: column;
                align-items: center;
                position: relative;
              }
              
              .add-question-button {
                width: 56px;
                height: 56px;
                border-radius: 50%;
                background-color: ${Ae};
                color: white;
                font-size: 24px;
                display: flex;
                align-items: center;
                justify-content: center;
                box-shadow: 0 3px 10px rgba(13, 110, 253, 0.3);
                cursor: pointer;
                border: none;
                transition: all 0.2s ease;
                overflow: hidden;
              }

              .add-question-button:hover {
                transform: scale(1.05);
                background-color: ${be};
                box-shadow: 0 5px 15px rgba(13, 110, 253, 0.4);
              }
              
              .add-question-button:active {
                transform: scale(0.95);
              }
              
              .add-question-button::before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: radial-gradient(circle, rgba(255,255,255,0.3) 0%, rgba(255,255,255,0) 70%);
                opacity: 0;
                transition: opacity 0.3s;
              }
              
              .add-question-button:hover::before {
                opacity: 1;
              }
              
              /* Question Type Menu Styling */
              .question-type-menu {
                position: absolute;
                right: 30px;
                bottom: 100px;
                background-color: white;
                box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
                border-radius: 4px;
                width: 200px;
                z-index: 999;
                overflow: hidden;
                transition: transform 0.3s, opacity 0.3s;
                transform-origin: bottom right;
              }

              .dark-mode .question-type-menu {
                background-color: #333;
              }

              .question-type-menu.hidden {
                transform: scale(0.8);
                opacity: 0;
                pointer-events: none;
              }

              .question-type-option {
                padding: 12px 16px;
                cursor: pointer;
                display: flex;
                align-items: center;
                transition: background-color 0.2s;
              }

              .light-mode .question-type-option:hover {
                background-color: #f0f0f0;
              }

              .dark-mode .question-type-option {
                color: #fff;
              }

              .dark-mode .question-type-option:hover {
                background-color: #444;
              }

              .question-type-option i {
                margin-right: 12px;
                width: 20px;
                text-align: center;
              }

              .question-type-button {
                display: flex;
                align-items: center;
                justify-content: space-between;
                padding: 0.4rem 0.8rem;
                background-color: ${S?"#3a3a3a":"#ffffff"};
                color: ${S?"#ffffff":"#333333"};
                border: 1px solid ${S?"#555555":"#e0e0e0"};
                border-radius: 4px;
                font-size: 0.85rem;
                font-weight: 500;
                min-width: 140px;
                cursor: pointer;
                transition: all 0.2s ease;
                margin-right: 12px;
                box-shadow: 0 1px 2px rgba(0,0,0,0.08);
              }

              .question-type-button:hover {
                border-color: ${S?"#777777":"#ccc"};
                background-color: ${S?"#444444":"#f9f9f9"};
              }

              .question-type-dropdown {
                position: absolute;
                top: calc(100% + 5px);
                left: 0;
                z-index: 1050;
                min-width: 180px;
                background-color: ${S?"#2d2d2d":"#ffffff"};
                border-radius: 6px;
                box-shadow: 0 6px 16px rgba(0,0,0,${S?"0.3":"0.15"});
                overflow: hidden;
                opacity: 0;
                transform: translateY(-10px);
                animation: dropdownFadeIn 0.2s ease forwards;
                border: 1px solid ${S?"#444444":"rgba(0,0,0,0.08)"};
              }

              @keyframes dropdownFadeIn {
                to {
                  opacity: 1;
                  transform: translateY(0);
                }
              }

              .question-type-item {
                display: flex;
                width: 100%;
                padding: 10px 16px;
                border: none;
                background: none;
                text-align: left;
                font-size: 0.9rem;
                color: ${S?"#e0e0e0":"#333333"};
                cursor: pointer;
                transition: all 0.15s ease;
                border-left: 2px solid transparent;
              }

              .question-type-item:hover {
                background-color: ${S?"#3a3a3a":"#f5f9ff"};
                border-left-color: ${Ae};
                color: ${S?"#ffffff":Ae};
              }

              .question-type-item:not(:last-child) {
                border-bottom: 1px solid ${S?"#3a3a3a":"#f0f0f0"};
              }

              .question-type-item-icon {
                margin-right: 8px;
                width: 16px;
                opacity: 0.7;
              }
            `}),o.jsxs("div",{className:"header-card mb-4",children:[o.jsx("input",{type:"text",className:"form-control form-control-lg mb-3",style:{fontSize:"24px",border:"none",borderBottom:"1px solid #ccc"},value:c,onChange:ze=>u(ze.target.value),placeholder:"Assignment Title"}),o.jsx("textarea",{className:"form-control",style:{border:"none",borderBottom:"1px solid #ccc"},value:h,onChange:ze=>f(ze.target.value),placeholder:"Description (optional)",rows:"2"}),o.jsxs("div",{className:"d-flex justify-content-between align-items-center mt-4",children:[o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsxs("label",{className:"toggle-switch",children:[o.jsx("input",{type:"checkbox",checked:O,onChange:()=>U(!O)}),o.jsx("span",{className:"toggle-slider"})]}),o.jsx("span",{className:"toggle-label",children:"Secure Test Mode"})]}),o.jsxs("select",{className:"form-select ms-2",style:{width:"auto"},value:C,onChange:ze=>k(ze.target.value),children:[o.jsx("option",{value:"draft",children:"Draft"}),o.jsx("option",{value:"published",children:"Published"}),o.jsx("option",{value:"archived",children:"Archived"})]})]}),O&&o.jsxs("div",{className:`alert mt-3 ${S?"alert-info bg-dark text-light":"alert-info"}`,children:[o.jsx("strong",{children:"Secure Test Mode:"})," Students will be unable to navigate away from the test or open other applications while taking it.",o.jsxs("div",{className:"mt-3",children:[o.jsxs("div",{className:"d-flex align-items-center mb-2",children:[o.jsxs("label",{className:"toggle-switch",children:[o.jsx("input",{type:"checkbox",checked:K,onChange:()=>te(!K)}),o.jsx("span",{className:"toggle-slider"})]}),o.jsx("span",{className:"toggle-label",children:"Time Limited Test"})]}),K&&o.jsxs("div",{className:"d-flex align-items-center mt-2",children:[o.jsx("input",{type:"number",className:"form-control form-control-sm",style:{width:"80px"},value:J,onChange:ze=>X(parseInt(ze.target.value)||0),min:"1"}),o.jsx("span",{className:"ms-2",children:"minutes"})]}),o.jsxs("div",{className:"mt-3",children:[o.jsx("label",{className:"form-label",children:"Test Instructions/Content"}),o.jsx("textarea",{className:"form-control",value:Y,onChange:ze=>F(ze.target.value),placeholder:"Enter test instructions or additional content...",rows:"3"})]})]})]})]}),o.jsx("div",{className:"question-card mb-4",children:o.jsxs("div",{className:"question-body",children:[o.jsx("h5",{className:"mb-3",children:"Assignment Details"}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"form-label",children:"Course"}),o.jsxs("select",{className:"form-select",value:a,onChange:ze=>l(ze.target.value),required:!0,disabled:Ee,children:[o.jsx("option",{value:"",children:"Select a course"}),s.map(ze=>o.jsx("option",{value:ze.id,children:ze.title},ze.id))]}),Ee&&o.jsx("div",{className:"form-text text-info",children:"Course cannot be changed after assignment creation"})]}),o.jsxs("div",{className:"mb-3",children:[o.jsxs("div",{className:"d-flex align-items-center mb-2",children:[o.jsxs("label",{className:"toggle-switch",children:[o.jsx("input",{type:"checkbox",checked:m,onChange:()=>g(!m)}),o.jsx("span",{className:"toggle-slider"})]}),o.jsx("span",{className:"toggle-label",children:"Set Due Date"})]}),m&&o.jsxs("div",{children:[o.jsxs("div",{className:"date-time-container",children:[o.jsx("input",{type:"date",className:"form-control",value:b?b.toISOString().split("T")[0]:"",onChange:ce}),o.jsxs(Dt,{variant:S?"outline-light":"outline-secondary",size:"sm",onClick:Te,className:"btn-today",children:["Today ",o.jsx(Qb,{className:"ms-1"})]})]}),o.jsxs("div",{className:"date-time-container",children:[o.jsx("input",{type:"time",className:"form-control",value:x,onChange:ze=>w(ze.target.value)}),o.jsxs(Dt,{variant:S?"outline-light":"outline-secondary",size:"sm",onClick:he,className:"btn-now",children:["Now ",o.jsx(Tbe,{className:"ms-1"})]})]}),o.jsx("div",{className:"text small",children:"Note: you are 2 hours ahead of server time."})]})]})]})}),o.jsx("div",{className:"d-flex justify-content-between align-items-center mb-3",children:o.jsxs("h5",{children:["Total Points: ",A]})}),o.jsx(Vf,{onDragEnd:se,children:o.jsx(Jl,{droppableId:"questions",type:"QUESTIONS",children:ze=>o.jsxs("div",{ref:ze.innerRef,...ze.droppableProps,className:"questions-container",style:{minHeight:"50px"},children:[ee.map((Le,ct)=>o.jsx(Zl,{draggableId:Le.id,index:ct,children:tt=>o.jsxs("div",{ref:tt.innerRef,...tt.draggableProps,className:`question-card mb-3 ${L===Le.id?"active":""}`,onClick:()=>D(Le.id),children:[o.jsxs("div",{className:"question-header",children:[o.jsx("div",{...tt.dragHandleProps,className:"question-drag-handle",children:o.jsx(fN,{size:18})}),o.jsxs("span",{className:"me-2",children:["Question ",ct+1]}),o.jsxs("div",{className:"ms-auto d-flex align-items-center",children:[o.jsx("div",{className:"position-relative",children:o.jsxs("select",{className:"form-select",value:Le.type,onChange:He=>re(Le.id,He.target.value),style:{minWidth:"140px",marginRight:"20px"},children:[o.jsx("option",{value:"multiple_choice",children:"Multiple Choice"}),o.jsx("option",{value:"text",children:"Text Answer"}),o.jsx("option",{value:"file_upload",children:"File Upload"})]})}),o.jsxs("span",{className:"badge bg-secondary ms-2",children:[Le.points," ",Le.points===1?"point":"points"]})]})]}),o.jsxs("div",{className:"question-body",children:[o.jsx("input",{type:"text",className:"form-control mb-3",value:Le.title,onChange:He=>ne(Le.id,"title",He.target.value),placeholder:"Question"}),Le.type==="multiple_choice"&&o.jsxs("div",{className:"mt-3",children:[Le.options.map((He,gt)=>o.jsxs("div",{className:"option-row",children:[o.jsx("div",{className:"form-check",children:o.jsx("input",{type:"radio",className:"form-check-input",name:`correct-${Le.id}`,checked:He.isCorrect,onChange:()=>{const ie=Le.options.map((Ie,We)=>({...Ie,isCorrect:We===gt}));ne(Le.id,"options",ie)}})}),o.jsx("input",{type:"text",className:"form-control",value:He.text,onChange:ie=>{const Ie=[...Le.options];Ie[gt]={...Ie[gt],text:ie.target.value},ne(Le.id,"options",Ie)},placeholder:`Option ${gt+1}`}),Le.options.length>2&&o.jsx("button",{className:"btn btn-sm btn-outline-danger ms-2",onClick:()=>xe(Le.id,He.id),children:"✕"})]},He.id)),o.jsxs("button",{className:"btn btn-sm btn-outline-primary mt-2",onClick:()=>at(Le.id),children:[o.jsx("i",{className:"fas fa-plus me-1"})," Add option"]})]}),Le.type==="text"&&o.jsx("div",{className:"mt-3",children:o.jsxs("div",{className:"border rounded p-3",style:{background:S?"#444":"#f8f9fa",color:S?"#ccc":"#666"},children:[o.jsx("p",{className:"mb-2",children:"Text answer field will appear for students"}),o.jsx("textarea",{className:"form-control",value:Le.sampleAnswer||"",onChange:He=>ne(Le.id,"sampleAnswer",He.target.value),placeholder:"Enter a sample or expected answer (optional)",rows:"2"})]})}),Le.type==="file_upload"&&o.jsx("div",{className:"mt-3",children:o.jsxs("div",{className:"border rounded p-3 text-center",style:{background:"#f8f9fa",color:S?"#ccc":"#666"},children:[o.jsx("i",{className:"fas fa-cloud-upload-alt me-2"}),"File Upload Area",o.jsx("div",{className:"mt-2",children:o.jsx("small",{children:"Students will be able to upload files here"})})]})})]}),o.jsxs("div",{className:"question-footer",children:[o.jsx("div",{children:o.jsxs("div",{className:"form-check",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:`required-${Le.id}`,checked:Le.required,onChange:He=>ne(Le.id,"required",He.target.checked)}),o.jsx("label",{className:"form-check-label",htmlFor:`required-${Le.id}`,children:"Required"})]})}),o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("input",{type:"number",className:"form-control form-control-sm",style:{width:"60px"},value:Le.points,onChange:He=>ne(Le.id,"points",parseInt(He.target.value)||0),min:"0"}),o.jsx("span",{className:"ms-2 me-3",children:"points"}),o.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>lt(Le.id),children:"Delete"})]})]})]})},Le.id)),ze.placeholder]})})}),o.jsx("div",{className:"add-question-wrapper",children:o.jsx("button",{className:"add-question-button",onClick:()=>Oe("multiple_choice"),"aria-label":"Add question",children:o.jsx(Nd,{})})}),o.jsxs("div",{className:"d-flex justify-content-between mt-5",children:[o.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>De("/teacher/assignments"),children:"Cancel"}),o.jsx("button",{className:"btn btn-custom",onClick:Pe,disabled:H,children:H?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),Ee?"Updating...":"Saving..."]}):Ee?"Update Assignment":"Save Assignment"})]})]})})]})]})};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ke=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ske=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),tM=t=>{const e=Ske(t);return e.charAt(0).toUpperCase()+e.slice(1)},Oz=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Cke=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Tke={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kke=_.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...l},c)=>_.createElement("svg",{ref:c,...Tke,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Oz("lucide",s),...!i&&!Cke(l)&&{"aria-hidden":"true"},...l},[...a.map(([u,h])=>_.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=(t,e)=>{const n=_.forwardRef(({className:r,...s},i)=>_.createElement(kke,{ref:i,iconNode:e,className:Oz(`lucide-${_ke(tM(t))}`,`lucide-${t}`,r),...s}));return n.displayName=tM(t),n};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eke=[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h.01",key:"1bh4kh"}],["path",{d:"M12 4h.01",key:"1ujb9j"}],["path",{d:"M17 4h.01",key:"1upcoc"}]],jke=pN("cake",Eke);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nke=[["path",{d:"m4.6 13.11 5.79-3.21c1.89-1.05 4.79 1.78 3.71 3.71l-3.22 5.81C8.8 23.16.79 15.23 4.6 13.11Z",key:"1ozxlb"}],["path",{d:"m10.5 9.5-1-2.29C9.2 6.48 8.8 6 8 6H4.5C2.79 6 2 6.5 2 8.5a7.71 7.71 0 0 0 2 4.83",key:"ffuyb5"}],["path",{d:"M8 6c0-1.55.24-4-2-4-2 0-2.5 2.17-2.5 4",key:"osnpzi"}],["path",{d:"m14.5 13.5 2.29 1c.73.3 1.21.7 1.21 1.5v3.5c0 1.71-.5 2.5-2.5 2.5a7.71 7.71 0 0 1-4.83-2",key:"1vubaw"}],["path",{d:"M18 16c1.55 0 4-.24 4 2 0 2-2.17 2.5-4 2.5",key:"wxr772"}]],nM=pN("croissant",Nke);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ake=[["path",{d:"M8 22h8",key:"rmew8v"}],["path",{d:"M7 10h10",key:"1101jm"}],["path",{d:"M12 15v7",key:"t2xh3l"}],["path",{d:"M12 15a5 5 0 0 0 5-5c0-2-.5-4-2-8H9c-1.5 4-2 6-2 8a5 5 0 0 0 5 5Z",key:"10ffi3"}]],Dke=pN("wine",Ake),Pke=()=>o.jsx("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 1000 1000",style:{enableBackground:"new 0 0 1000 1000"},xmlSpace:"preserve",children:o.jsx("g",{id:"Layer_3",children:o.jsxs("g",{children:[o.jsx("path",{style:{fill:"#58595B"},d:`M470.117,149.896c-0.011,0.009-16.071,12.518-16.464,13.949c-0.581,2.109-0.086,4.915-0.059,7.133\r
            c-0.033,0.19-0.024,0.389,0.059,0.589c2.323,5.647,4.646,11.294,6.969,16.941c-0.012,13.005-1.706,44.212-4.601,83.829\r
            l-0.092,0.218l0.074,0.031c-7.64,104.476-23.608,267.174-39.1,308.923l-18.516,8.55v6.896l-0.163,0.075l9.646,14.761\r
            l-5.451,17.744l-4.152,11.952l-40.169,108.329l-32.209,8.655l1.038,3.863l2.567-0.689l-0.746,17.033l-4.105,0.933l3.923,19.093\r
            l-93.705,146.295h12.964h2.2l37.739-54.015c39.22-46.766,73.303-70.036,91.169-62.249c11.102,4.837,15.181,21.778,11.798,48.992\r
            l-15.52,69.271h32.143l-9.201-24.8l0.619-0.732h12.49v-3h-9.953l16.262-19.231l-1.146-0.969l1.344-0.666l-9.812-19.814\r
            l13.994-1.519l-0.323-2.982l-11.089,1.203l16.812-19.073l-1.125-0.992l-0.2-1.486l-13.269,1.785l3.947-18.083l0.082-0.099\r
            l0.242-0.04l8.548,15.511l2.627-1.447l-8.039-14.587l10.804-1.8l-0.493-2.959l-10.758,1.793l16.126-19.417l-1.253-1.041\r
            l0.613-0.102l-0.491-2.959l-26.32,4.369l1.781-7.802l27.811-5.591l-0.591-2.941l-2.499,0.503l3.386-4.277l0.403-0.046\r
            l-0.046-0.404l0.674-0.851l-0.848-0.672l-0.442-3.86l0.013-0.031l2.564-2.896l-0.969-0.858l0.379-0.893l-1.841-0.781l-0.608,1.431\r
            l-0.234-2.046l4.686-5.131l-1.42-1.298l2.008-0.457v-20.975l0.04,0.068l2.576-1.537l-8.388-14.059l5.015-7.002l3.944-1.06\r
            l-0.869-3.233l6.486-9.055l-0.636-0.455l1.988-0.563l-0.816-2.887l-12.556,3.551l2.058-13.897l8.217,10.964l2.4-1.799\r
            l-8.996-12.002l12.916-18.645l-1.233-0.855l-0.367-1.454l-9.782,2.468l2.013-13.598l0.282-0.383l7.036,10.261l2.475-1.697\r
            l-7.625-11.119l11.91-16.144l-1.207-0.891l-0.4-1.445l-9.697,2.683l1.077-7.275l-2.968-0.439l-1.271,8.59l-8.029,2.222\r
            l0.746-4.806l2.233-1.497l-1.625-2.425l2.671-17.207l21.675-8.59l0.326-17.487l-0.825,0.37l-2.491-5.18l4.292-9.015l0.31-0.138\r
            l1.723-22.093l-1.571,0.724l0.518-7.197l-4.691,2.166l-1.417-2.144l7.475-16.497l-0.598-0.27l1.732-0.864l-1.182-2.367\r
            l1.257-0.873l-6.49-9.343l8.35-18.036l-1.361-0.63l-0.705-1.324l-11.644,6.197l5.383-13.145l5.228,7.388l2.449-1.732\r
            l-6.33-8.944l6.381-15.582l1.459-0.768l-1.378-2.62l1.312-0.886l-6.339-9.379l6.971-16.576l0.873-0.546l-0.795-1.272\r
            l1.177-0.93l-7.11-8.996l6.027-13.918l2.095-1.422l-0.294-0.433l0.704-0.4l-1.484-2.607l-0.91,0.518l-5.547-8.169\r
            l6.108-14.508l2.337-1.567l-1.03-1.536l0.095-0.225l1.387-1.002l-1.758-2.432l-1.467,1.06l-4.499-6.708l6.733-16.184\r
            l1.328-0.957l-6.478-8.994l5.821-14.814l1.367-0.931l-1.689-2.479l-0.745,0.508l-4.261-5.893l4.94-13.953l2.091-1.642\r
            l-0.58-0.739l0.272-0.194l-1.742-2.442l-0.384,0.274l-3.831-4.879l4.787-12.813l1.766-1.466l-5.472-6.589l5.404-13.994\r
            l-0.191-0.074l0.794-0.616l-1.84-2.37l-0.223,0.173l-3.22-3.683l4.677-11.942l-0.248-0.097l0.132-0.106l-0.248-0.308\r
            l1.16-1.033l-5.005-5.623l3.619-10.511l1.38-1.148l-0.854-1.025l0.546-0.552l-4.155-4.106l3.675-9.466l-0.313-0.122\r
            l1.021-0.954l-0.211-0.226l0.28-0.258l-4.17-4.532l2.821-8.993l1.369-1.161l-1.615-1.906l0.828-0.798l-2.623-2.722\r
            l2.155-6.169l-0.606-0.211l2.673-2.288l-1.951-2.279l-4.634,3.966l1.476-4.125l1.425,1.285l2.01-2.227l-2.342-2.112\r
            l2.42-6.762l-0.568-0.204l1.365-1.182l-1.965-2.268l-5.474,4.742c0.021-0.677,0.038-1.274,0.053-1.763\r
            c2.443-1.889,4.888-3.777,7.331-5.667c0.108-0.07,0.204-0.154,0.288-0.249c0.451-0.452,0.447-0.999,0.185-1.451\r
            c-0.787-2.348-1.573-4.695-2.359-7.044l0.108-0.074l-0.259-0.376c-0.922-2.75,1.109-16.803,1.109-16.803\r
            S470.387,149.64,470.117,149.896z`}),o.jsx("path",{style:{fill:"#58595B"},d:`M757.338,943.768c-46.643-59.521-83.619-108.982-113.318-155.521l2.066-15.569l0.092,0.008\r
            l0.342-3.984l-3.197-0.275v-17.091l0.125,0.013l0.412-3.978l-25.951-2.691c-1.943-3.486-3.854-6.97-5.723-10.452l0.121-0.15\r
            l-0.357-0.29c-6.674-12.455-12.865-24.904-18.631-37.493l0.135-0.161l-0.336-0.28c-5.322-11.643-10.281-23.408-14.908-35.413\r
            l0.127-0.148l-0.275-0.237c-3.144-8.176-6.137-16.465-8.99-24.9l-5.711-17.667c-1.73-5.611-3.398-11.305-5.02-17.071l7.209-14.832\r
            l0.139-1.169v-6.002l-13.877-2.74c-1.691-6.858-3.32-13.846-4.892-20.972l0.064-0.056l-0.105-0.124\r
            c-2.19-9.924-4.27-20.125-6.256-30.636l0.027-0.021l-0.041-0.052c-16.176-85.661-26.021-192.134-36.752-341.124\r
            c2.252-5.29,4.504-10.581,6.754-15.871c0.131-0.211,0.215-0.467,0.215-0.779v-7.125c0.004-0.138-0.012-0.279-0.053-0.421\r
            c-3.047-10.626-11.144-18.861-21.375-21.875v-10.889c0-2.812-1.98-5.23-4.795-6.259v-61.2c0-1.694-1.357-3.073-3.026-3.073\r
            c-1.669,0-3.027,1.378-3.027,3.073v61.2c-2.814,1.029-4.794,3.447-4.794,6.259v10.81c-11.848,3.489-17.589,14.419-20.101,27.313\r
            l-0.059,7.133l18.231-13.313l5.667,18.167l-2.15,4.072c0,186.295-5.369,314.583-14.371,421.426l-0.099-0.016l-1.608,18.146\r
            l0.116,0.017c-3.589,39.383-7.729,74.805-12.349,107.478l-5.553-0.576l-0.216,2.086h-0.053v0.509l-0.144,1.384l0.144,0.015v21.383\r
            l-0.282,3.28l0.171,0.015v10.852c-10.774,65.934-23.648,121.443-37.94,178.612l-0.677,2.485h60.969l0.287-1.664l10.46-61.298\r
            c8.729-31.849,27.746-53.775,53.97-61.367c21.103-6.11,45.896-2.617,71.693,10.106c26.904,13.268,53.881,35.724,80.271,66.797\r
            l34.018,46.604l0.545,0.821h45.479L757.338,943.768z`})]})})}),Ike=()=>{const[t,e]=_.useState(!1),[n,r]=_.useState(!1),s={position:"relative",width:"100%",height:"100vh",backgroundColor:"#ffffff",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",fontFamily:"Arial, sans-serif"},i={display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"20px"},a={width:"50px",height:"5px",margin:"0 5px"},l={...a,backgroundColor:"blue"},c={...a,backgroundColor:"white",border:"1px solid #ccc"},u={...a,backgroundColor:"red"},h={fontSize:"8rem",fontWeight:"bold",background:"linear-gradient(to right, #4a90e2, #8e44ad,rgb(146, 0, 0))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textAlign:"center",margin:"0"},f={fontSize:"1.2rem",color:"#6b4226",textAlign:"center"},m={position:"absolute",opacity:.5,animation:"tilt 3s infinite ease-in-out"},g={...m,top:"20px",left:"20px",color:"#d4a373"},b={...m,top:"20px",right:"20px",color:"#d4a373"},y={...m,bottom:"20px",left:"20px",color:"#d4a373"},x={...m,bottom:"20px",right:"20px",color:"#d4a373"};return o.jsxs("div",{style:s,children:[o.jsx("div",{style:g,children:o.jsx(nM,{size:32})}),o.jsx("div",{style:b,children:o.jsx(Dke,{size:32})}),o.jsx("div",{style:y,children:o.jsx(jke,{size:32})}),o.jsx("div",{style:x,children:o.jsx(nM,{size:32})}),o.jsxs("div",{style:i,children:[o.jsx("div",{style:l}),o.jsx("div",{style:c}),o.jsx("div",{style:u})]}),o.jsx("div",{children:o.jsx("h1",{style:h,children:"404"})}),o.jsxs("div",{className:"flex justify-center items-center -mt-6 mb-6",style:{flexDirection:"column",width:"20%"},children:[o.jsx(Pke,{}),o.jsx("h2",{style:{fontSize:"2rem",fontWeight:"bold",textAlign:"center",marginTop:"10px"},children:"Oops! Page Not Found"}),o.jsx("p",{style:f,children:"Looks like you've wandered into a Parisian side street that doesn't exist. Shall we help you find your way back?"})]}),o.jsx("div",{children:o.jsxs("div",{className:"flex justify-center items-center",style:{marginTop:"20px"},children:[o.jsx("button",{style:{backgroundColor:t?"#003d99":"blue",color:"white",border:"none",padding:"10px 20px",borderRadius:"5px",fontSize:"1rem",marginRight:"10px",cursor:"pointer",transition:"background-color 0.3s ease"},onMouseEnter:()=>e(!0),onMouseLeave:()=>e(!1),onClick:()=>window.location.href="/",children:"Back to Home"}),o.jsx("button",{style:{backgroundColor:n?"rgba(0, 0, 255, 0.1)":"transparent",color:n?"#003d99":"blue",border:"2px solid blue",padding:"10px 20px",borderRadius:"5px",fontSize:"1rem",cursor:"pointer",transition:"background-color 0.3s ease, color 0.3s ease"},onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),onClick:()=>window.location.href="https://www.google.com/maps/place/Paris,+France",children:"Find your way in Paris"})]})}),o.jsxs("div",{style:{display:"flex",position:"absolute",bottom:"0",width:"100%"},children:[o.jsx("div",{style:{height:"5px",backgroundColor:"blue",flexGrow:1}}),o.jsx("div",{style:{height:"5px",backgroundColor:"white",flexGrow:1}}),o.jsx("div",{style:{height:"5px",backgroundColor:"red",flexGrow:1}})]}),o.jsx("style",{children:`
          @keyframes tilt {
            0%, 100% {
              transform: rotate(0deg);
            }
            25% {
              transform: rotate(-5deg);
            }
            50% {
              transform: rotate(5deg);
            }
            75% {
              transform: rotate(-3deg);
            }
          }
        `}),o.jsx("style",{children:`
    .hover-darken-blue:hover {
      background-color: #003d99; /* Darker blue */
    }
    .hover-darken-outline:hover {
      background-color: rgba(0, 0, 255, 0.1); /* Light blue background */
      color: #003d99; /* Darker blue text */
    }
  `})]})},Oke=()=>{var Oe;const[t,e]=_.useState(!0),[n,r]=_.useState(!0),[s,i]=_.useState([]),[a,l]=_.useState([]),[c,u]=_.useState("all"),[h,f]=_.useState("all"),[m,g]=_.useState(""),[b,y]=_.useState(!1),[x,w]=_.useState(null),[C,k]=_.useState(!1),[A,N]=_.useState(!1),[P,M]=_.useState(null),[L,D]=_.useState(""),[S,z]=_.useState(""),[O,U]=_.useState(!1),[j,V]=_.useState(!1),[K,te]=_.useState(null),[J,X]=_.useState([]),[Y,F]=_.useState(!1),[H,de]=_.useState({total:0,submitted:0,graded:0,pending:0,averageGrade:0}),ee=fr(),fe=mt(),ve=zt(),Ce=ve==null?void 0:ve.teacher_id;_.useEffect(()=>{const xe=()=>{const lt=document.body.classList.contains("dark-mode")||localStorage.getItem("appearanceSettings")&&JSON.parse(localStorage.getItem("appearanceSettings")).darkMode;V(lt)};xe();const at=()=>{xe()};return window.addEventListener("appearanceChanged",at),()=>{window.removeEventListener("appearanceChanged",at)}},[]),_.useEffect(()=>{Ce||(nt().fire({icon:"error",title:"Teacher access required"}),ee("/404"))},[Ce,ee]);const De=()=>{e(!t)},Ee=async()=>{try{const xe=await fe.get(`teacher/course-lists/${Ce}/`);l(xe.data)}catch{nt().fire({icon:"error",title:"Failed to load courses"})}},Be=async()=>{r(!0);try{const xe=await fe.get(`teacher/assignments/all/${Ce}/`);Array.isArray(xe.data)?i(xe.data):i([])}catch{nt().fire({icon:"error",title:"Failed to load assignments"}),i([])}finally{r(!1)}},Ve=async xe=>{r(!0);try{const at=xe==="all"?`teacher/assignments/all/${Ce}/`:`teacher/assignments/${xe}/`,lt=await fe.get(at);Array.isArray(lt.data)?i(lt.data):i([])}catch{nt().fire({icon:"error",title:"Failed to load assignments"}),i([])}finally{r(!1)}},rt=xe=>{u(xe),Ve(xe)},it=xe=>{f(xe)},G=()=>{ee("/teacher/assignment/editor")},Ae=xe=>{ee(`/teacher/assignment/editor/${xe}`)},be=xe=>{w(xe),y(!0)},re=async()=>{try{await fe.delete(`teacher/assignment/${x.id}/`),y(!1),w(null),nt().fire({icon:"success",title:"Assignment deleted successfully"}),c==="all"?Be():Ve(c)}catch{nt().fire({icon:"error",title:"Failed to delete assignment"})}},ne=async xe=>{te(xe),F(!0),k(!0);try{const at=await fe.get(`teacher/assignment-submissions/${xe.id}/`),lt=Array.isArray(at.data)?at.data:[];X(lt);const ze=xe.enrolled_students||0,Le=lt.length,ct=lt.filter(ie=>ie.status==="graded"),tt=ct.length;let He=0;if(tt>0){const ie=ct.reduce((Ie,We)=>Ie+(parseFloat(We.grade)||0),0);He=Math.round(ie/tt*10)/10}const gt=s.map(ie=>ie.id===xe.id?{...ie,submissions_count:Le}:ie);i(gt),de({total:ze,submitted:Le,graded:tt,pending:Le-tt,averageGrade:He})}catch{nt().fire({icon:"error",title:"Failed to load submissions"}),X([])}finally{F(!1)}},ce=async xe=>{if(!(K!=null&&K.questions)||K.questions.length===0){const at=await fe.get(`teacher/assignment/${xe.assignment}/get/`);te(at.data)}M(xe),D(xe.grade||""),z(xe.feedback||""),N(!0)},Te=async()=>{U(!0);try{await fe.put(`teacher/grade-submission/${P.id}/`,{grade:parseInt(L),feedback:S}),N(!1),M(null),D(""),z(""),nt().fire({icon:"success",title:"Submission graded successfully"}),K&&ne(K)}catch{nt().fire({icon:"error",title:"Failed to submit grade"})}finally{U(!1)}},he=()=>{if(!J.length)return;let xe="data:text/csv;charset=utf-8,";xe+=`Student,Email,Submission Date,Status,Grade,Feedback\r
`,J.forEach(ze=>{const Le=[ze.student_name,ze.student_email||"N/A",ze.submitted_at?Sv(Qm(ze.submitted_at),"MMM d, yyyy"):"N/A",ze.status,ze.grade||"Not graded",`"${(ze.feedback||"").replace(/"/g,'""')}"`];xe+=Le.join(",")+`\r
`});const at=encodeURI(xe),lt=document.createElement("a");lt.setAttribute("href",at),lt.setAttribute("download",`${K.title}-submissions.csv`),document.body.appendChild(lt),lt.click(),document.body.removeChild(lt)},se=xe=>{nt().fire({icon:"info",title:"Test logs feature coming soon"})};_.useEffect(()=>{Ce&&(Ee(),Be())},[Ce]);const ye=Array.isArray(s)?s.filter(xe=>{var at,lt;if(h!=="all"&&xe.status!==h)return!1;if(m){const ze=m.toLowerCase();return((at=xe.title)==null?void 0:at.toLowerCase().includes(ze))||((lt=xe.course_name)==null?void 0:lt.toLowerCase().includes(ze))}return!0}):[],Pe=xe=>{if(!xe)return o.jsx(Zn,{bg:"info",children:"No deadline"});try{const at=Qm(xe);return xSe(at)?o.jsx(Zn,{bg:"danger",children:"Past Due"}):o.jsx(Zn,{bg:"success",children:"Upcoming"})}catch{return o.jsx(Zn,{bg:"info",children:"No deadline"})}};return o.jsxs("div",{children:[o.jsx(Su,{sidebarCollapsed:t}),o.jsxs("div",{style:{flex:1,marginLeft:t?"80px":"270px",transition:"margin-left 0.3s ease"},className:j?"dark-mode":"light-mode",children:[o.jsx(Fi,{sidebarCollapsed:t,toggleSidebar:De}),o.jsxs(Ld,{fluid:!0,className:"py-4",children:[o.jsxs(Ss,{className:"mb-4",children:[o.jsx(Tn,{children:o.jsx("h3",{children:"Assignment Management"})}),o.jsx(Tn,{className:"text-end",children:o.jsxs(Dt,{variant:"primary",onClick:G,children:[o.jsx(ds,{icon:jz,className:"me-2"}),"Create Assignment"]})})]}),o.jsx(Lt,{className:"mb-4",children:o.jsx(Lt.Body,{children:o.jsxs(Ss,{children:[o.jsx(Tn,{md:4,children:o.jsxs(Ue.Group,{className:"mb-3 mb-md-0",children:[o.jsx(Ue.Label,{children:"Filter by Course"}),o.jsxs(Ue.Select,{value:c,onChange:xe=>rt(xe.target.value),children:[o.jsx("option",{value:"all",children:"All Courses"}),a.map(xe=>o.jsx("option",{value:xe.id,children:xe.title},xe.id))]})]})}),o.jsx(Tn,{md:4,children:o.jsxs(Ue.Group,{className:"mb-3 mb-md-0",children:[o.jsx(Ue.Label,{children:"Filter by Status"}),o.jsxs(Ue.Select,{value:h,onChange:xe=>it(xe.target.value),children:[o.jsx("option",{value:"all",children:"All Statuses"}),o.jsx("option",{value:"draft",children:"Draft"}),o.jsx("option",{value:"published",children:"Published"}),o.jsx("option",{value:"archived",children:"Archived"})]})]})}),o.jsx(Tn,{md:4,children:o.jsxs(Ue.Group,{children:[o.jsx(Ue.Label,{children:"Search"}),o.jsx(Ue.Control,{type:"text",placeholder:"Search assignments...",value:m,onChange:xe=>g(xe.target.value),className:"search-bar",style:{backgroundColor:"#fff",color:j?"#fff":"#000"}})]})})]})})}),n?o.jsx("div",{className:"text-center my-5",style:{color:j?"black":"white",padding:"20px"},children:o.jsx(Hr,{animation:"border",role:"status",children:o.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):ye.length===0?o.jsxs(Ma,{variant:"info",style:{backgroundColor:j?"#2a3f4a":"#cff4fc",borderColor:j?"#205e7c":"#b6effb",color:j?"#a9d5de":"#055160"},children:["No assignments found based on your filters. Try changing your filter options or "," ",o.jsx(Ma.Link,{onClick:G,style:{cursor:"pointer",color:j?"#8ed6fb":"#055160",fontWeight:"bold",textDecoration:"underline"},children:"create a new assignment"}),"."]}):o.jsx(Lt,{style:{backgroundColor:"transparent",color:j?"#ffffff":"inherit",borderColor:j?"#333":"rgba(0, 0, 0, 0)"},children:o.jsxs(Lt.Body,{style:{backgroundColor:"transparent",padding:"1.25rem"},children:[o.jsx("style",{children:`
                    .custom-transparent-table {
                      --bs-table-color: ${j?"#ffffff":"inherit"};
                      --bs-table-bg: transparent !important;
                      --bs-table-border-color: ${j?"#444":"inherit"};
                      --bs-table-accent-bg: transparent !important;
                      --bs-table-striped-color: ${j?"#ffffff":"inherit"};
                      --bs-table-striped-bg: transparent !important;
                      --bs-table-active-color: ${j?"#ffffff":"inherit"};
                      --bs-table-active-bg: transparent !important;
                      --bs-table-hover-color: ${j?"#ffffff":"inherit"};
                      --bs-table-hover-bg: ${j?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.075)"} !important;
                      width: 100%;
                      margin-bottom: 1rem;
                      vertical-align: top;
                      }
                    
                    .custom-transparent-table th,
                    .custom-transparent-table td {
                      background-color: transparent !important;
                      color: ${j?"#ffffff":"inherit"} !important;
                    }
                    
                    .custom-transparent-table tbody tr:hover td,
                    .custom-transparent-table tbody tr:hover th {
                      background-color: ${j?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.075)"} !important;
                    }
                  `}),o.jsxs(Sg,{responsive:!0,hover:!0,className:`${j?"table-dark":""} custom-transparent-table`,style:{backgroundColor:"transparent"},children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Title"}),o.jsx("th",{children:"Course"}),o.jsx("th",{children:"Due Date"}),o.jsx("th",{children:"Status"}),o.jsx("th",{children:"Type"}),o.jsx("th",{children:"Submissions"}),o.jsx("th",{children:"Actions"})]})}),o.jsx("tbody",{children:ye.map(xe=>o.jsxs("tr",{children:[o.jsx("td",{children:xe.title}),o.jsx("td",{children:xe.course_name}),o.jsx("td",{children:o.jsx("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap",gap:"5px"},children:Pe(xe.due_date)})}),o.jsx("td",{children:o.jsxs("div",{className:"d-flex align-items-center",children:[xe.status==="draft"&&o.jsx(Zn,{bg:"secondary",children:"Draft"}),xe.status==="published"&&o.jsx(Zn,{bg:"success",children:"Published"}),xe.status==="archived"&&o.jsx(Zn,{bg:"dark",children:"Archived"})]})}),o.jsx("td",{children:o.jsx("div",{className:"d-flex align-items-center",children:xe.has_test_mode?o.jsxs(Zn,{bg:"warning",className:"text-dark",children:[o.jsx(ds,{icon:tke,className:"me-1"}),"Secure Test"]}):o.jsx(Zn,{bg:"info",children:"Regular"})})}),o.jsxs("td",{children:[xe.submissions_count||0,"/",xe.enrolled_students||0]}),o.jsx("td",{children:o.jsxs("div",{className:"d-flex",children:[o.jsx(Dt,{variant:j?"outline-light":"outline-primary",size:"sm",className:"me-1",onClick:()=>ne(xe),title:"View submissions",style:{color:j?"#ffffff":void 0,borderColor:j?"#0d6efd":void 0},children:o.jsx(ds,{icon:WT})}),o.jsx(Dt,{variant:j?"outline-light":"outline-secondary",size:"sm",className:"me-1",onClick:()=>Ae(xe.id),title:"Edit assignment",style:{color:j?"#ffffff":void 0,borderColor:j?"#6c757d":void 0},children:o.jsx(ds,{icon:kz})}),o.jsx(Dt,{variant:"outline-danger",size:"sm",onClick:()=>be(xe),title:"Delete assignment",style:{color:j?"#f8d7da":void 0,borderColor:j?"#dc3545":void 0},children:o.jsx(ds,{icon:Ez})})]})})]},xe.id))})]})]})})]}),o.jsxs(vt,{show:b,onHide:()=>y(!1),children:[o.jsxs(vt.Header,{children:[o.jsx(vt.Title,{children:"Confirm Delete"}),o.jsx("button",{type:"button","aria-label":"Close",onClick:()=>y(!1),style:{position:"absolute",top:16,right:16,background:"none",border:"none",fontSize:"1.5rem",color:j?"#fff":"#000",cursor:"pointer",zIndex:10},children:"✕"})]}),o.jsxs(vt.Body,{children:['Are you sure you want to delete the assignment "',x==null?void 0:x.title,'"? This action cannot be undone and will remove all student submissions.']}),o.jsxs(vt.Footer,{children:[o.jsx(Dt,{variant:j?"outline-light":"secondary",onClick:()=>y(!1),children:"Cancel"}),o.jsx(Dt,{variant:"danger",onClick:re,children:"Delete Assignment"})]})]}),o.jsxs(vt,{show:C,onHide:()=>k(!1),size:"xl",children:[o.jsxs(vt.Header,{children:[o.jsxs(vt.Title,{children:["Submissions - ",K==null?void 0:K.title]}),o.jsx("button",{type:"button","aria-label":"Close",onClick:()=>k(!1),style:{position:"absolute",top:16,right:16,background:"none",border:"none",fontSize:"1.5rem",color:j?"#fff":"#000",cursor:"pointer",zIndex:10},children:"✕"})]}),o.jsx(vt.Body,{children:Y?o.jsx("div",{className:"text-center my-5",children:o.jsx(Hr,{animation:"border",role:"status",children:o.jsx("span",{className:"visually-hidden",children:"Loading submissions..."})})}):o.jsx(o.Fragment,{children:o.jsxs(YE,{defaultActiveKey:"submissions",className:"mb-3",children:[o.jsxs(Hx,{eventKey:"submissions",title:"Submissions",children:[J.length===0?o.jsx(Ma,{variant:j?"info bg-dark text-light border-info":"info",children:"No submissions received yet for this assignment."}):o.jsxs(Sg,{responsive:!0,hover:!0,className:`align-middle custom-transparent-table ${j?"table-dark":""}`,style:{backgroundColor:"transparent"},children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Student"}),o.jsx("th",{children:"Submitted"}),o.jsx("th",{children:"Type"}),o.jsx("th",{children:"Secure Mode"}),o.jsx("th",{children:"Status"}),o.jsx("th",{children:"Grade"}),o.jsx("th",{children:"Actions"})]})}),o.jsx("tbody",{children:J.map(xe=>o.jsxs("tr",{children:[o.jsx("td",{children:xe.student_name}),o.jsx("td",{children:xe.submitted_at?Sv(Qm(xe.submitted_at),"MMM d, yyyy h:mm a"):"N/A"}),o.jsx("td",{children:xe.submission_text?"Text":"Files"}),o.jsx("td",{children:o.jsxs("div",{className:"d-flex align-items-center",children:[xe.secure_mode_used?o.jsx(Zn,{bg:"success",children:"Yes"}):o.jsx(Zn,{bg:"secondary",children:"No"}),xe.fullscreen_warnings>0||xe.tab_switch_warnings>0?o.jsx("div",{className:"d-flex align-items-center",children:o.jsxs(Zn,{bg:"warning",text:"dark",children:["Warnings: ",xe.fullscreen_warnings+xe.tab_switch_warnings]})}):null]})}),o.jsx("td",{children:o.jsx("div",{className:"d-flex align-items-center",children:xe.status==="pending"?o.jsx(Zn,{bg:"warning",text:"dark",children:"Pending"}):o.jsx(Zn,{bg:"success",children:"Graded"})})}),o.jsx("td",{children:xe.grade?`${xe.grade}/${(K==null?void 0:K.points)||100}`:"-"}),o.jsx("td",{children:o.jsxs("div",{className:"d-flex",children:[o.jsx(Dt,{variant:j?"outline-light":"outline-primary",size:"sm",className:"me-1",onClick:()=>ce(xe),title:"Grade submission",children:o.jsx(ds,{icon:ZTe})}),o.jsx(Dt,{variant:j?"outline-light":"outline-secondary",size:"sm",title:"Download submission",children:o.jsx(ds,{icon:ZO})})]})})]},xe.id))})]}),o.jsxs("div",{className:"text-end mt-3",children:[o.jsxs(Dt,{variant:j?"outline-light":"outline-primary",onClick:he,disabled:J.length===0,children:[o.jsx(ds,{icon:Nz,className:"me-2"}),"Export as CSV"]}),(K==null?void 0:K.has_test_mode)&&o.jsxs(Dt,{variant:"outline-info",className:"ms-2",onClick:()=>se(),children:[o.jsx(ds,{icon:WT,className:"me-2"}),"View Test Logs"]})]})]}),o.jsxs(Hx,{eventKey:"stats",title:"Statistics",children:[o.jsxs(Ss,{children:[o.jsx(Tn,{md:3,children:o.jsx(Lt,{bg:j?"dark":"light",text:j?"light":"dark",className:"mb-3",children:o.jsxs(Lt.Body,{className:"text-center",children:[o.jsx("h3",{children:H.total}),o.jsx("p",{className:"mb-0",children:"Total Students"})]})})}),o.jsx(Tn,{md:3,children:o.jsx(Lt,{bg:"primary",text:"white",className:"mb-3",children:o.jsxs(Lt.Body,{className:"text-center",children:[o.jsx("h3",{children:H.submitted}),o.jsx("p",{className:"mb-0",children:"Submissions"})]})})}),o.jsx(Tn,{md:3,children:o.jsx(Lt,{bg:"success",text:"white",className:"mb-3",children:o.jsxs(Lt.Body,{className:"text-center",children:[o.jsx("h3",{children:H.graded}),o.jsx("p",{className:"mb-0",children:"Graded"})]})})}),o.jsx(Tn,{md:3,children:o.jsx(Lt,{bg:"info",text:"white",className:"mb-3",children:o.jsxs(Lt.Body,{className:"text-center",children:[o.jsx("h3",{children:H.averageGrade}),o.jsx("p",{className:"mb-0",children:"Avg. Grade"})]})})})]}),o.jsx(Lt,{children:o.jsxs(Lt.Body,{children:[o.jsx("h5",{children:"Submission Rate"}),o.jsx("div",{className:"progress mb-3",style:{height:"25px"},children:o.jsxs("div",{className:"progress-bar",role:"progressbar",style:{width:`${H.total>0?H.submitted/H.total*100:0}%`},"aria-valuenow":H.submitted,"aria-valuemin":"0","aria-valuemax":H.total,children:[H.total>0?Math.round(H.submitted/H.total*100):0,"%"]})}),o.jsx("h5",{children:"Grading Progress"}),o.jsx("div",{className:"progress",style:{height:"25px"},children:o.jsxs("div",{className:"progress-bar bg-success",role:"progressbar",style:{width:`${H.submitted>0?H.graded/H.submitted*100:0}%`},"aria-valuenow":H.graded,"aria-valuemin":"0","aria-valuemax":H.submitted,children:[H.submitted>0?Math.round(H.graded/H.submitted*100):0,"%"]})})]})})]})]})})}),o.jsx(vt.Footer,{children:o.jsx(Dt,{variant:j?"outline-light":"secondary",onClick:()=>k(!1),children:"Close"})})]}),o.jsxs(vt,{show:A,onHide:()=>N(!1),size:"lg",children:[o.jsxs(vt.Header,{children:[o.jsx(vt.Title,{children:"Grade Submission"}),o.jsx("button",{type:"button","aria-label":"Close",onClick:()=>N(!1),style:{position:"absolute",top:16,right:16,background:"none",border:"none",fontSize:"1.5rem",color:j?"#fff":"#333",cursor:"pointer",zIndex:10},children:"✕"})]}),o.jsxs(vt.Body,{children:[o.jsxs(Ue,{children:[o.jsxs(Ue.Group,{className:"mb-3",children:[o.jsx(Ue.Label,{children:"Student"}),o.jsx(Ue.Control,{type:"text",value:(P==null?void 0:P.student_name)||"",readOnly:!0})]}),(K==null?void 0:K.questions)&&K.questions.length>0&&o.jsx(Mke,{questions:K.questions,submission:P,darkMode:j}),o.jsxs(Ue.Group,{className:"mb-3",children:[o.jsx(Ue.Label,{children:"Submission Content"}),P!=null&&P.submission_text?o.jsx(Ue.Control,{as:"textarea",rows:5,value:P.submission_text,readOnly:!0}):((Oe=P==null?void 0:P.files)==null?void 0:Oe.length)>0?o.jsx("ul",{className:"list-group",children:P.files.map((xe,at)=>o.jsxs("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[xe.name,o.jsx(Dt,{variant:j?"outline-light":"outline-primary",size:"sm",href:xe.url,target:"_blank",children:o.jsx(ds,{icon:ZO})})]},at))}):o.jsx("p",{className:"text-muted",children:"No text or files submitted."})]}),o.jsxs(Ue.Group,{className:"mb-3",children:[o.jsxs(Ue.Label,{children:["Grade (out of ",(K==null?void 0:K.points)||100,")"]}),o.jsx(Ue.Control,{type:"number",min:"0",max:(K==null?void 0:K.points)||100,value:L,onChange:xe=>D(xe.target.value)})]}),o.jsxs(Ue.Group,{className:"mb-3",children:[o.jsx(Ue.Label,{children:"Feedback"}),o.jsx(Ue.Control,{as:"textarea",rows:4,value:S,onChange:xe=>z(xe.target.value),placeholder:"Provide feedback to the student..."})]})]}),(P==null?void 0:P.secure_mode_used)&&o.jsxs(Ma,{variant:j?"info bg-dark text-light border-info":"info",className:"mb-0 mt-3",children:[o.jsx("strong",{children:"Test Mode Info:"}),o.jsx("br",{}),"This submission was completed in secure test mode.",P.fullscreen_warnings>0&&o.jsxs("div",{children:["Fullscreen exit warnings: ",P.fullscreen_warnings]}),P.tab_switch_warnings>0&&o.jsxs("div",{children:["Tab switch warnings: ",P.tab_switch_warnings]})]})]}),o.jsxs(vt.Footer,{children:[o.jsx(Dt,{variant:j?"outline-light":"secondary",onClick:()=>N(!1),children:"Cancel"}),o.jsx(Dt,{variant:j?"custom":"primary",onClick:Te,disabled:O,className:j?"btn-custom":"",children:O?o.jsxs(o.Fragment,{children:[o.jsx(Hr,{size:"sm",animation:"border",className:"me-2"}),"Submitting..."]}):"Submit Grade"})]})]}),o.jsx("style",{children:`
            .dark-mode .modal-content {
              background-color: #333 !important;
              color: #fff !important;
            }
              .form-control, body.dark-mode .form-select {
              background-color: #fff!important;
              color: #121212!important;
          }
          `})]})]})};function Mke({questions:t,submission:e,darkMode:n}){const[r,s]=Zt.useState({}),i=Object.values(r).filter(Boolean).length,a=(c,u)=>{s(h=>({...h,[c]:u}))},l=c=>{if(!e)return null;if(c.type==="file_upload"&&e.files&&e.files.length>0)return e.files.filter(u=>u.question_id===c.id).map((u,h)=>o.jsx("div",{children:o.jsx("a",{href:u.url,target:"_blank",rel:"noopener noreferrer",children:u.name})},h));if(e.answers&&typeof e.answers=="object"){if(c.type==="multiple_choice"&&Array.isArray(c.options)){const u=e.answers[c.id];return o.jsx("div",{children:c.options.map((h,f)=>o.jsxs("div",{style:{padding:"2px 8px",borderRadius:"4px",marginBottom:2,background:u===f?n?"#198754":"#d1e7dd":"transparent",color:u===f?n?"#fff":"#155724":n?"#fff":"#212529",fontWeight:u===f?"bold":"normal",border:u===f?"1px solid #198754":"1px solid transparent"},children:[h.text,u===f&&o.jsx("span",{style:{marginLeft:8,fontSize:"1.1em"},children:"(Selected)"}),h.is_correct&&o.jsx("span",{style:{marginLeft:8,color:"#0d6efd",fontSize:"1em"},children:"(Correct)"})]},f))})}return e.answers[c.id]!==void 0&&e.answers[c.id]!==null&&e.answers[c.id]!==""?o.jsx("span",{children:e.answers[c.id]}):o.jsx("span",{className:"text-muted",children:"No answer"})}return e.submission_text&&t.length===1?e.submission_text:o.jsx("span",{className:"text-muted",children:"No answer"})};return o.jsxs("div",{className:"mb-4",children:[o.jsx("h5",{children:"Questions"}),t.map((c,u)=>{const h=r[c.id]===!0,f=r[c.id]===!1;return o.jsxs("div",{className:"mb-3 p-3 border rounded position-relative",style:{background:n?"#232323":"#f8f9fa"},children:[o.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[o.jsxs("div",{children:[o.jsxs("strong",{children:[u+1,". ",c.title]}),c.points!==void 0&&o.jsxs("span",{className:"ms-2 badge bg-secondary",children:[c.points," pt",c.points===1?"":"s"]}),c.description&&o.jsx("div",{className:"text-muted small mt-1",children:c.description})]}),o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx(Dt,{variant:h?"success":"outline-success",size:"sm",className:"me-2",onClick:()=>a(c.id,!0),children:"✓ "}),o.jsx(Dt,{variant:f?"danger":"outline-danger",size:"sm",onClick:()=>a(c.id,!1),children:"✕ "}),c.points!==void 0&&o.jsxs("span",{className:"ms-2",style:{fontWeight:"bold"},children:[c.points," pt",c.points===1?"":"s"]})]})]}),o.jsxs("div",{className:"mt-2",children:[o.jsx("span",{className:"fw-bold",children:"Student Answer:"}),o.jsx("div",{className:"mt-1",children:l(c)})]})]},c.id)}),o.jsx("div",{className:"mt-3 text-end",children:o.jsxs("strong",{children:["Total Correct: ",i," / ",t.length]})})]})}const xs=(t="")=>`${t}${Math.random().toString(36).substring(2,10)}`,rM=()=>{const[t,e]=_.useState(!0),[n,r]=_.useState(null),[s,i]=_.useState([]),[a,l]=_.useState([]),[c,u]=_.useState(""),[h,f]=_.useState(""),[m,g]=_.useState("Untitled Quiz"),[b,y]=_.useState(""),[x,w]=_.useState("draft"),[C,k]=_.useState(0),[A,N]=_.useState(!0),[P,M]=_.useState(!1),[L,D]=_.useState(null),[S,z]=_.useState(!1),[O,U]=_.useState([{id:xs("q"),type:"multiple_choice",title:"Question 1",description:"",required:!0,points:1,options:[{id:xs("opt"),text:"Option 1",isCorrect:!0},{id:xs("opt"),text:"Option 2",isCorrect:!1}]}]),j=mt(),{quizId:V}=Hd(),K=fr(),te=!!V;_.useRef(!1);const J=_.useRef({}),X=zt(),Y=X==null?void 0:X.teacher_id,F="#0d6efd",H="#0a58ca";_.useEffect(()=>{Y||(nt().fire({icon:"error",title:"Teacher access required"}),K("/404"))},[Y,K]);const de=()=>{e(!t)},ee=be=>{switch(be){case"multiple_choice":return"Multiple Choice";case"true_false":return"True/False";case"checkbox":return"Checkbox";default:return be}},fe=(be,re)=>{U(O.map(ne=>{if(ne.id!==be)return ne;const ce={...ne,type:re};return re==="multiple_choice"?ce.options=[{id:xs("opt"),text:"Option 1",isCorrect:!0},{id:xs("opt"),text:"Option 2",isCorrect:!1}]:re==="true_false"?ce.options=[{id:xs("opt"),text:"True",isCorrect:!0},{id:xs("opt"),text:"False",isCorrect:!1}]:re==="checkbox"?ce.options=[{id:xs("opt"),text:"Option 1",isCorrect:!0},{id:xs("opt"),text:"Option 2",isCorrect:!1},{id:xs("opt"),text:"Option 3",isCorrect:!1}]:re==="sentence_building"&&(ce.options={words:[],correct_order:[],translation:""}),ce})),r(null)},ve=(be,re,ne)=>{if(U(O.map(ce=>ce.id!==be?ce:re==="options"&&ce.type==="sentence_building"?{...ce,options:ne}:{...ce,[re]:ne})),re==="options"){const ce=O.find(Te=>Te.id===be);ce==null||ce.type}},Ce=(be,re)=>{U(O.map(ne=>{if(ne.id!==be)return ne;if(ne.type==="multiple_choice"||ne.type==="true_false"){const ce=ne.options.map(Te=>({...Te,isCorrect:Te.id===re}));return{...ne,options:ce}}if(ne.type==="checkbox"){const ce=ne.options.map(Te=>Te.id===re?{...Te,isCorrect:!Te.isCorrect}:Te);return{...ne,options:ce}}return ne}))},De=be=>{if(!be.destination)return;const re=Array.from(O),[ne]=re.splice(be.source.index,1);re.splice(be.destination.index,0,ne),U(re)},Ee=async()=>{if(V)try{const re=(await j.get(`/quizzes/${V}/`)).data;if(g(re.title||""),y(re.description||""),re.course&&u(re.course.toString()),re.lecture&&f(re.lecture.toString()),w(re.status||"draft"),re.questions&&re.questions.length>0){const ne=re.questions.map(Te=>{var se,ye,Pe;const he={id:xs("q"),type:Te.type||"multiple_choice",title:Te.title||"Question",description:Te.description||"",required:Te.required!==void 0?Te.required:!0,points:Te.points||1};return Te.type==="sentence_building"?he.options={words:Array.isArray((se=Te.options)==null?void 0:se.words)?Te.options.words:[],correct_order:Array.isArray((ye=Te.options)==null?void 0:ye.correct_order)?Te.options.correct_order:[],translation:((Pe=Te.options)==null?void 0:Pe.translation)||""}:he.options=Array.isArray(Te.options)?Te.options.map(Oe=>({id:xs("opt"),text:Oe.text||"Option",isCorrect:Oe.is_correct||!1})):[{id:xs("opt"),text:"Option 1",isCorrect:!0},{id:xs("opt"),text:"Option 2",isCorrect:!1}],he});U(ne);const ce=ne.reduce((Te,he)=>Te+(parseInt(he.points)||0),0);k(ce)}}catch{nt().fire({icon:"error",title:"Failed to load quiz details"})}};_.useEffect(()=>{(async()=>{if(!c){l([]);return}try{const re=await j.get(`/course/${c}/lectures/`);l(re.data)}catch{nt().fire({icon:"error",title:"Failed to load lectures"})}})()},[c]),_.useEffect(()=>{const be=async()=>{try{if(!Y)return;const Te=await j.get(`teacher/course-lists/${Y}/`);i(Te.data)}catch{nt().fire({icon:"error",title:"Failed to load courses"})}},re=()=>{const Te=document.body.classList.contains("dark-mode")||localStorage.getItem("appearanceSettings")&&JSON.parse(localStorage.getItem("appearanceSettings")).darkMode;z(Te)},ne=async()=>{N(!0);try{await be(),te&&V&&await Ee(),re()}finally{N(!1)}},ce=Te=>{if(n){let he=!1;Object.keys(J.current).forEach(se=>{J.current[se]&&J.current[se].contains(Te.target)&&(he=!0)}),he||r(null)}};return document.addEventListener("mousedown",ce),ne(),()=>{document.removeEventListener("mousedown",ce)}},[]),_.useEffect(()=>{const be=O.reduce((re,ne)=>re+(parseInt(ne.points)||0),0);k(be)},[O]);const Be=async()=>{var ne,ce,Te,he;if(!c&&!h){nt().fire({icon:"error",title:"Please select either a course or a lecture"});return}if(!m.trim()){nt().fire({icon:"error",title:"Please enter a quiz title"});return}const be=O.map((se,ye)=>{var Oe,xe,at,lt;const Pe={title:se.title||`Question ${ye+1}`,type:se.type,required:se.required,points:se.points,order:ye};return["multiple_choice","true_false","checkbox"].includes(se.type)?Pe.options=se.options.map(ze=>({text:ze.text,is_correct:ze.isCorrect})):se.type==="sentence_building"&&(Pe.options={words:Array.isArray((Oe=se.options)==null?void 0:Oe.words)?se.options.words:[],correct_order:Array.isArray((xe=se.options)==null?void 0:xe.correct_order)?se.options.correct_order:Array.from({length:(((at=se.options)==null?void 0:at.words)||[]).length},(ze,Le)=>Le),translation:((lt=se.options)==null?void 0:lt.translation)||""}),Pe}),re={title:m,description:b,course_id:c||null,lecture_id:h||null,status:x,points:C,questions:be};te&&(re.quiz_id=V),M(!0);try{let se;te?(se=await j.put(`/quizzes/${V}/update/`,re),nt().fire({icon:"success",title:"Quiz updated successfully"})):(se=await j.post("/quizzes/create/",re),nt().fire({icon:"success",title:"Quiz created successfully"}),K("/teacher/quizzes"))}catch(se){const ye=((ce=(ne=se.response)==null?void 0:ne.data)==null?void 0:ce.error)||((he=(Te=se.response)==null?void 0:Te.data)==null?void 0:he.message)||"Failed to save quiz";nt().fire({icon:"error",title:ye})}finally{M(!1)}},Ve=()=>{const be=xs("q"),re={id:be,type:"multiple_choice",title:`Question ${O.length+1}`,description:"",required:!0,points:1,options:[{id:xs("opt"),text:"Option 1",isCorrect:!0},{id:xs("opt"),text:"Option 2",isCorrect:!1}]};U([...O,re]),D(be)},rt=(be,re)=>{const ne=O.find(he=>he.id===be);if(!ne||!["multiple_choice","checkbox"].includes(ne.type))return;const ce=ne.type==="multiple_choice"?2:3;if(ne.options.length<=ce){nt().fire({icon:"error",title:`${ee(ne.type)} questions must have at least ${ce} options`});return}const Te=ne.options.filter(he=>he.id!==re);ve(be,"options",Te)},it=be=>{const re=O.find(ce=>ce.id===be);if(!re||!["multiple_choice","checkbox"].includes(re.type))return;const ne={id:xs("opt"),text:`Option ${re.options.length+1}`,isCorrect:!1};ve(be,"options",[...re.options,ne])},G=be=>{U(O.filter(re=>re.id!==be)),L===be&&D(null)},Ae=(be,re)=>{const ne=O.map(ce=>{if(ce.id!==be)return ce;const Te={...ce};Te.options||(Te.options={words:[],correct_order:[]});const he=Array.isArray(Te.options.words)?[...Te.options.words]:[];return he.push(re),Te.options={...Te.options,words:he},Te.newWord="",Te});U(ne)};return A?o.jsx("div",{className:"p-5 text-center",children:"Loading quiz data..."}):o.jsxs("div",{style:{display:"flex",minHeight:"100vh"},children:[o.jsx(Su,{sidebarCollapsed:t}),o.jsxs("div",{style:{flex:1,marginTop:"40px",marginLeft:t?"80px":"270px",transition:"margin-left 0.3s ease",display:"flex",flexDirection:"column"},children:[o.jsx("div",{style:{position:"fixed",top:0,right:0,left:t?"80px":"270px",zIndex:1e3,transition:"left 0.3s ease"},children:o.jsx(Fi,{sidebarCollapsed:t,toggleSidebar:de})}),o.jsx("div",{style:{padding:"20px",marginTop:"60px"},children:o.jsxs("div",{className:`quiz-editor ${S?"dark-mode":"light-mode"}`,children:[o.jsx("style",{jsx:"true",children:`
              .quiz-editor {
                font-family: 'Roboto', Arial, sans-serif;
                padding: 0;
              }
              
              .dark-mode {
                background-color: #121212;
                color: white;
                min-height: 100vh;
              }
              
              .light-mode {
                background-color: rgb(255, 254, 254);
                color: black;
                min-height: 100vh;
              }
              
              .header-card {
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                margin-bottom: 16px;
                padding: 24px;
              }
              
              .dark-mode .header-card {
                background-color: #333;
                border-left-color: #444;
              }
              
              .light-mode .header-card {
                background-color: white;
              }
              
              .question-card {
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                margin-bottom: 16px;
                border-left: 1px solid #dadce0;
                transition: all 0.2s;
              }
              
              .dark-mode .question-card {
                background-color: #333;
                border-left-color: #444;
              }
              
              .light-mode .question-card {
                background-color: white;
              }
              
              .question-card.active {
                border-left: 6px solid ${F};
              }
              
              .question-card:hover {
                box-shadow: 0 3px 12px rgba(0,0,0,0.15);
              }
              
              .question-header {
                display: flex;
                align-items: center;
                padding: 16px 24px;
                border-bottom: 1px solid #e0e0e0;
              }
              
              .dark-mode .question-header {
                border-bottom-color: #444;
              }
              
              .question-drag-handle {
                cursor: grab;
                margin-right: 12px;
              }
              
              .dark-mode .question-drag-handle {
                color: #ddd;
              }
              
              .light-mode .question-drag-handle {
                color: #5f6368;
              }
              
              .question-body {
                padding: 16px 24px;
              }
              
              .question-footer {
                display: flex;
                justify-content: space-between;
                padding: 8px 24px;
                border-top: 1px solid #e0e0e0;
              }
              
              .dark-mode .question-footer {
                background-color: #2a2a2a;
                border-top-color: #444;
              }
              
              .light-mode .question-footer {
                background-color: #f8f9fa;
              }
              
              .btn-custom {
                background-color: rgba(54, 6, 151, 0);
                color: Blue;
                box-shadow: 0 1px 3px rgba(0,0,0,0.2);
                border: 1px solid rgb(0, 22, 145);
                padding: 8px 24px;
                border-radius: 4px;
                font-weight: 500;
              }
              
              .btn-custom.outline {
                background-color: transparent;
                color: rgb(60, 0, 165);
                border: 1px solid rgb(66, 0, 181);
              }
              
              .dark-mode .btn-custom.outline {
                background-color: #444;
                color: white;
                border: 1px solid #777;
              }
              
              .btn-custom:hover {
                background-color: rgb(0, 13, 193);
                color: #fff;
              }
              
              .option-row {
                display: flex;
                align-items: center;
                margin-bottom: 12px;
              }
              
              .option-circle {
                width: 20px;
                height: 20px;
                border-radius: 50%;
                border: 2px solid #5f6368;
                margin-right: 12px;
              }
              
              .dark-mode .option-circle {
                border-color: #aaa;
              }
              
              .form-control, .form-select {
                border-radius: 4px;
                padding: 8px;
                margin-bottom: 12px;
              }
              
              .toggle-slider:before {
                position: absolute;
                content: "";
                height: 16px;
                width: 16px;
                left: 4px;
                bottom: 4px;
                background-color: white;
                transition: .4s;
                border-radius: 50%;
              }
              
              .form-select {
                appearance: none !important;
                -webkit-appearance: none !important;
                -moz-appearance: none !important;
                background-image: none !important;
                padding-right: 8px !important;
              }
              
              .dark-mode .form-control,
              .dark-mode .form-select {
                background-color: white !important;
                color: black !important;
                border: 1px solid #444;
              }
              
              .light-mode .form-control,
              .light-mode .form-select {
                background-color: #f8f9fa !important;
                color: black !important;
                border: 1px solid #ddd;
              }
              
              .toggle-switch {
                position: relative;
                display: inline-block;
                width: 48px;
                height: 24px;
                margin-right: 10px;
              }
              
              .toggle-switch input {
                opacity: 0;
                width: 0;
                height: 0;
              }
              
              .toggle-slider {
                position: absolute;
                cursor: pointer;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background-color: #ccc;
                transition: .4s;
                border-radius: 24px;
              }
              
              .toggle-slider:before {
                position: absolute;
                content: "";
                height: 16px;
                width: 16px;
                left: 4px;
                bottom: 4px;
                background-color: white;
                transition: .4s;
                border-radius: 50%;
              }
              
              input:checked + .toggle-slider {
                background-color: rgb(0, 13, 160);
              }
              
              input:checked + .toggle-slider:before {
                transform: translateX(24px);
              }
              
              .toggle-label {
                vertical-align: middle;
                margin-left: 5px;
              }
              
              .add-question-wrapper {
                margin: 30px 0;
                display: flex;
                flex-direction: column;
                align-items: center;
                position: relative;
              }
              
              .add-question-button {
                width: 56px;
                height: 56px;
                border-radius: 50%;
                background-color: ${F};
                color: white;
                font-size: 24px;
                display: flex;
                align-items: center;
                justify-content: center;
                box-shadow: 0 3px 10px rgba(13, 110, 253, 0.3);
                cursor: pointer;
                border: none;
                transition: all 0.2s ease;
                overflow: hidden;
              }

              .add-question-button:hover {
                transform: scale(1.05);
                background-color: ${H};
                box-shadow: 0 5px 15px rgba(13, 110, 253, 0.4);
              }
              
              .add-question-button:active {
                transform: scale(0.95);
              }
              
              .action-buttons {
                display: flex;
                justify-content: flex-end;
                margin-top: 20px;
              }
              
              .action-buttons button {
                margin-left: 10px;
              }
              
              .save-button {
                min-width: 100px;
              }
              
              .points-badge {
                background-color: ${F};
                color: white;
                font-size: 12px;
                padding: 2px 8px;
                border-radius: 4px;
                margin-left: 10px;
              }
            `}),o.jsxs("div",{className:"header-card",children:[o.jsx("h2",{children:te?"Edit Quiz":"Create Quiz"}),o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-md-6 mb-3",children:o.jsxs(Ue.Group,{children:[o.jsx(Ue.Label,{children:"Title"}),o.jsx(Ue.Control,{type:"text",value:m,onChange:be=>g(be.target.value),placeholder:"Quiz Title"})]})}),o.jsx("div",{className:"col-md-6 mb-3",children:o.jsxs(Ue.Group,{children:[o.jsx(Ue.Label,{children:"Status"}),o.jsxs(Ue.Select,{value:x,onChange:be=>w(be.target.value),children:[o.jsx("option",{value:"draft",children:"Draft"}),o.jsx("option",{value:"published",children:"Published"})]})]})}),o.jsx("div",{className:"col-md-6 mb-3",children:o.jsxs(Ue.Group,{children:[o.jsx(Ue.Label,{children:"Select Course"}),o.jsxs(Ue.Select,{value:c,onChange:be=>{u(be.target.value),f("")},children:[o.jsx("option",{value:"",children:"Select a Course"}),s.map(be=>o.jsx("option",{value:be.id,children:be.title},be.id))]})]})}),o.jsx("div",{className:"col-md-6 mb-3",children:o.jsxs(Ue.Group,{children:[o.jsx(Ue.Label,{children:"Select Lecture (Optional)"}),o.jsxs(Ue.Select,{value:h,onChange:be=>f(be.target.value),disabled:!c,children:[o.jsx("option",{value:"",children:"Select a Lecture"}),a.map(be=>o.jsx("option",{value:be.id,children:be.title},be.id))]})]})}),o.jsx("div",{className:"col-12 mb-3",children:o.jsxs(Ue.Group,{children:[o.jsx(Ue.Label,{children:"Description (Optional)"}),o.jsx(Ue.Control,{as:"textarea",value:b,onChange:be=>y(be.target.value),placeholder:"Quiz description",rows:"3"})]})})]})]}),o.jsx("div",{className:"mb-3",children:o.jsxs("span",{style:{fontWeight:"500"},children:["Total Points: ",C]})}),o.jsxs("div",{className:"questions-section",children:[o.jsx(Vf,{onDragEnd:De,children:o.jsx(Jl,{droppableId:"questions",children:be=>o.jsxs("div",{...be.droppableProps,ref:be.innerRef,children:[O.map((re,ne)=>o.jsx(Zl,{draggableId:re.id,index:ne,children:ce=>{var Te;return o.jsxs("div",{ref:ce.innerRef,...ce.draggableProps,className:`question-card mb-4 ${L===re.id?"active":""}`,onClick:()=>D(re.id),children:[o.jsxs("div",{className:"question-header",children:[o.jsx("div",{...ce.dragHandleProps,className:"question-drag-handle",children:o.jsx(fN,{size:18})}),o.jsx("div",{style:{flex:1},children:o.jsxs("strong",{children:["Question ",ne+1]})}),o.jsxs("div",{className:"ms-auto d-flex align-items-center",children:[o.jsx("div",{className:"position-relative",children:o.jsxs("select",{className:"form-select",value:re.type,onChange:he=>fe(re.id,he.target.value),style:{minWidth:"160px",marginRight:"20px"},children:[o.jsx("option",{value:"multiple_choice",children:"Multiple Choice"}),o.jsx("option",{value:"true_false",children:"True/False"}),o.jsx("option",{value:"checkbox",children:"Checkbox"}),o.jsx("option",{value:"sentence_building",children:"Sentence Building"})]})}),o.jsxs("span",{className:"badge bg-secondary ms-2",children:[re.points," ",re.points!==1?"pts":"pt"]})]})]}),o.jsxs("div",{className:"question-body",children:[o.jsx(Ue.Control,{type:"text",value:re.title,onChange:he=>ve(re.id,"title",he.target.value),placeholder:"Question text",className:"mb-3"}),["multiple_choice","true_false","checkbox"].includes(re.type)&&o.jsxs("div",{className:"mt-3",children:[re.options.map((he,se)=>o.jsxs("div",{className:"option-row",children:[re.type==="multiple_choice"||re.type==="true_false"?o.jsx("div",{className:"form-check",children:o.jsx("input",{type:"radio",className:"form-check-input",name:`correct-${re.id}`,checked:he.isCorrect,onChange:()=>{const ye=re.options.map((Pe,Oe)=>({...Pe,isCorrect:Oe===se}));ve(re.id,"options",ye)}})}):o.jsx(Ue.Check,{type:"checkbox",checked:he.isCorrect,onChange:()=>Ce(re.id,he.id)}),o.jsx("input",{type:"text",className:"form-control",value:he.text,onChange:ye=>{const Pe=[...re.options];Pe[se]={...Pe[se],text:ye.target.value},ve(re.id,"options",Pe)},placeholder:`Option ${se+1}`}),re.type!=="true_false"&&re.options.length>2&&o.jsx("button",{className:"btn btn-sm btn-outline-danger ms-2",onClick:()=>rt(re.id,he.id),style:{width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center",padding:"0"},children:o.jsx($f,{})})]},he.id)),re.type!=="true_false"&&o.jsxs("button",{className:"btn btn-sm btn-outline-primary mt-2",onClick:()=>it(re.id),children:[o.jsx(Nd,{className:"me-1"})," Add option"]})]}),re.type==="sentence_building"&&o.jsxs("div",{className:"mt-3",children:[o.jsxs(Ue.Group,{className:"mb-3",children:[o.jsx(Ue.Label,{children:"Pre-Translated Sentence:"}),o.jsx(Ue.Control,{type:"text",value:((Te=re.options)==null?void 0:Te.translation)||"",onChange:he=>{var ye,Pe;const se={...re.options,words:((ye=re.options)==null?void 0:ye.words)||[],correct_order:((Pe=re.options)==null?void 0:Pe.correct_order)||[],translation:he.target.value};ve(re.id,"options",se)},placeholder:"English Version of the sentence of the sentence (e.g., 'I am a student')"})]}),o.jsxs(Vf,{onDragEnd:he=>{var Pe,Oe,xe,at;if(!he.destination)return;const se=he.source.droppableId,ye=he.destination.droppableId;if(se===`reservoir-${re.id}`&&ye===`reservoir-${re.id}`){const lt=Array.from(((Pe=re.options)==null?void 0:Pe.words)||[]),[ze]=lt.splice(he.source.index,1);lt.splice(he.destination.index,0,ze);const Le={...re.options,words:lt};ve(re.id,"options",Le)}else if(se===`sentence-${re.id}`&&ye===`sentence-${re.id}`){const lt=Array.isArray((Oe=re.options)==null?void 0:Oe.correct_order)?[...re.options.correct_order]:[],[ze]=lt.splice(he.source.index,1);lt.splice(he.destination.index,0,ze);const Le={...re.options,correct_order:lt};ve(re.id,"options",Le)}else if(se===`reservoir-${re.id}`&&ye===`sentence-${re.id}`){const lt=he.source.index,ze=Array.isArray((xe=re.options)==null?void 0:xe.correct_order)?[...re.options.correct_order]:[];ze.splice(he.destination.index,0,lt);const Le={...re.options,correct_order:ze};ve(re.id,"options",Le)}else if(se===`sentence-${re.id}`&&ye===`reservoir-${re.id}`){const lt=Array.isArray((at=re.options)==null?void 0:at.correct_order)?[...re.options.correct_order]:[];lt.splice(he.source.index,1);const ze={...re.options,correct_order:lt};ve(re.id,"options",ze)}},children:[o.jsxs(Ue.Group,{className:"mb-4",children:[o.jsxs(Ue.Label,{children:[o.jsx("strong",{children:"Word Reservoir"})," - Add words here first, then drag them to the sentence builder below"]}),o.jsxs("div",{className:"border rounded p-3 mb-3",style:{backgroundColor:"#f8f9fa"},children:[o.jsx(Jl,{droppableId:`reservoir-${re.id}`,direction:"horizontal",children:(he,se)=>{var ye;return o.jsxs("div",{ref:he.innerRef,...he.droppableProps,className:"d-flex flex-wrap gap-2 mb-3",style:{minHeight:"60px",border:se.isDraggingOver?"2px solid #007bff":"2px dashed #ccc",padding:"10px",backgroundColor:se.isDraggingOver?"#e8f4ff":"#f0f0f0",borderRadius:"4px",transition:"all 0.2s ease"},children:[Array.isArray((ye=re.options)==null?void 0:ye.words)&&re.options.words.length>0?re.options.words.map((Pe,Oe)=>o.jsx(Zl,{draggableId:`word-${re.id}-${Oe}`,index:Oe,children:(xe,at)=>o.jsxs("div",{ref:xe.innerRef,...xe.draggableProps,...xe.dragHandleProps,className:"d-flex align-items-center",style:{...xe.draggableProps.style,boxShadow:at.isDragging?"0 5px 10px rgba(0,0,0,0.3)":"0 2px 4px rgba(0,0,0,0.3)",cursor:"grab",backgroundColor:at.isDragging?"#007bff":"#fff",color:at.isDragging?"white":"black",padding:"8px 12px",margin:"5px",borderRadius:"4px",fontWeight:"bold",fontSize:"16px",transform:at.isDragging?`${xe.draggableProps.style.transform} scale(1.05)`:xe.draggableProps.style.transform,userSelect:"none",transition:"background-color 0.2s ease"},children:[o.jsx("span",{className:"me-2",children:Pe}),o.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm ms-2 p-1","aria-label":"Remove word",onClick:lt=>{lt.stopPropagation();const ze=[...re.options.words];ze.splice(Oe,1);const ct=(Array.isArray(re.options.correct_order)?re.options.correct_order.filter(He=>He!==Oe):[]).map(He=>He>Oe?He-1:He),tt={...re.options,words:ze,correct_order:ct};ve(re.id,"options",tt)},style:{display:"flex",alignItems:"center",justifyContent:"center",width:"26px",height:"26px",color:"#dc3545",borderColor:"transparent"},children:o.jsx(zf,{size:14})})]})},`word-${Oe}`)):o.jsx("div",{className:"text-center w-100 p-3",style:{fontWeight:"bold",color:"#6c757d"},children:"No words added yet. Use the input below to add words."}),he.placeholder]})}}),o.jsxs("div",{className:"input-group",children:[o.jsx("input",{type:"text",className:"form-control",placeholder:"Type a new word or phrase",value:re.newWord||"",onChange:he=>{ve(re.id,"newWord",he.target.value)},onKeyPress:he=>{if(he.key==="Enter"&&he.target.value.trim()){he.preventDefault();const se=he.target.value.trim();Ae(re.id,se)}}}),o.jsx("button",{className:"btn btn-primary",type:"button",onClick:()=>{var he;if((he=re.newWord)!=null&&he.trim()){const se=re.newWord.trim();Ae(re.id,se)}},children:"Add Word"})]})]})]}),o.jsxs(Ue.Group,{className:"mb-4",children:[o.jsxs(Ue.Label,{children:[o.jsx("strong",{children:"Sentence Builder"})," - Drag words from above to arrange them in the correct order"]}),o.jsxs("div",{className:"border rounded p-3",style:{backgroundColor:"#f8f9fa"},children:[o.jsx(Jl,{droppableId:`sentence-${re.id}`,direction:"horizontal",children:(he,se)=>{var ye;return o.jsxs("div",{ref:he.innerRef,...he.droppableProps,className:"d-flex flex-wrap gap-2 mb-3",style:{minHeight:"60px",border:se.isDraggingOver?"2px solid #28a745":"2px dashed #28a745",padding:"10px",backgroundColor:se.isDraggingOver?"#e8fff0":"#f0f0f0",borderRadius:"4px",transition:"all 0.2s ease"},children:[Array.isArray((ye=re.options)==null?void 0:ye.correct_order)&&re.options.correct_order.length>0?re.options.correct_order.map((Pe,Oe)=>{var at,lt;const xe=((lt=(at=re.options)==null?void 0:at.words)==null?void 0:lt[Pe])||"Unknown";return o.jsx(Zl,{draggableId:`sentence-${re.id}-${Oe}`,index:Oe,children:(ze,Le)=>o.jsxs("div",{ref:ze.innerRef,...ze.draggableProps,...ze.dragHandleProps,className:"d-flex align-items-center",style:{...ze.draggableProps.style,boxShadow:Le.isDragging?"0 5px 10px rgba(0,0,0,0.3)":"0 2px 4px rgba(0,0,0,0.3)",cursor:"grab",backgroundColor:Le.isDragging?"#28a745":"#e8fff0",color:Le.isDragging?"white":"black",padding:"8px 12px",margin:"5px",borderRadius:"4px",fontWeight:"bold",fontSize:"16px",transform:Le.isDragging?`${ze.draggableProps.style.transform} scale(1.05)`:ze.draggableProps.style.transform,userSelect:"none",transition:"background-color 0.2s ease"},children:[o.jsx("span",{className:"me-2",children:xe}),o.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm ms-2 p-1","aria-label":"Remove word",onClick:ct=>{ct.stopPropagation();const tt=[...re.options.correct_order];tt.splice(Oe,1);const He={...re.options,correct_order:tt};ve(re.id,"options",He)},style:{display:"flex",alignItems:"center",justifyContent:"center",width:"26px",height:"26px",color:"#dc3545",borderColor:"transparent"},children:o.jsx(zf,{size:14})})]})},`sentence-word-${Oe}`)}):o.jsx("div",{className:"text-center w-100 p-3",style:{fontWeight:"bold",color:"#28a745"},children:"Drag words here to build the correct sentence order."}),he.placeholder]})}}),o.jsxs("div",{className:"d-flex justify-content-between align-items-center mt-3",children:[o.jsx("div",{children:o.jsx("button",{className:"btn btn-outline-secondary btn-sm me-2",onClick:()=>{const he={...re.options,correct_order:[]};ve(re.id,"options",he)},children:"Clear Sentence"})}),o.jsx("div",{className:"text-end",children:o.jsx("small",{className:"text-muted",children:"Drag words from above to arrange them in the correct order. This will be the solution against which student answers will be checked."})})]})]})]})]})]})]}),o.jsxs("div",{className:"question-footer",children:[o.jsx("div",{className:"d-flex align-items-center",children:o.jsx(Ue.Check,{type:"checkbox",label:"Required",checked:re.required,onChange:he=>ve(re.id,"required",he.target.checked)})}),o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx(Ue.Control,{type:"number",value:re.points,onChange:he=>ve(re.id,"points",he.target.value),min:"0",max:"100",style:{width:"70px"}}),o.jsx("span",{className:"ms-2",children:"points"}),o.jsx(Dt,{variant:"outline-danger",size:"sm",className:"ms-3",onClick:he=>{he.stopPropagation(),G(re.id)},children:"Delete"})]})]})]})}},re.id)),be.placeholder]})})}),o.jsx("div",{className:"add-question-wrapper",children:o.jsx("button",{className:"add-question-button",onClick:()=>Ve(),"aria-label":"Add question",children:o.jsx(Nd,{})})})]}),o.jsxs("div",{className:"d-flex justify-content-between mt-5",children:[o.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>K("/teacher/quiz"),children:"Cancel"}),o.jsx("button",{className:"btn btn-custom",onClick:Be,disabled:P,children:P?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),te?"Updating...":"Saving..."]}):te?"Update Quiz":"Create Quiz"})]})]})})]})]})},Rke=()=>{const[t,e]=_.useState(!0),[n,r]=_.useState(!0),[s,i]=_.useState([]),[a,l]=_.useState([]),[c,u]=_.useState("all"),[h,f]=_.useState("all"),[m,g]=_.useState(""),[b,y]=_.useState(!1),[x,w]=_.useState(null),[C,k]=_.useState(!1),[A,N]=_.useState(!1),[P,M]=_.useState(null),[L,D]=_.useState(""),[S,z]=_.useState(""),[O,U]=_.useState(!1),[j,V]=_.useState(!1),[K,te]=_.useState(null),[J,X]=_.useState([]),[Y,F]=_.useState(!1),[H,de]=_.useState({total:0,submitted:0,graded:0,pending:0,averageGrade:0}),ee=fr(),fe=mt(),ve=zt(),Ce=ve==null?void 0:ve.teacher_id;_.useEffect(()=>{const ye=()=>{const Oe=document.body.classList.contains("dark-mode")||localStorage.getItem("appearanceSettings")&&JSON.parse(localStorage.getItem("appearanceSettings")).darkMode;V(Oe)};ye();const Pe=()=>{ye()};return window.addEventListener("appearanceChanged",Pe),()=>{window.removeEventListener("appearanceChanged",Pe)}},[]),_.useEffect(()=>{Ce||(nt().fire({icon:"error",title:"Teacher access required"}),ee("/404"))},[Ce,ee]);const De=()=>{e(!t)},Ee=async()=>{try{const ye=await fe.get(`teacher/course-lists/${Ce}/`);l(ye.data)}catch{nt().fire({icon:"error",title:"Failed to load courses"})}},Be=async()=>{r(!0);try{const ye=await fe.get(`teacher/quizzes/all/${Ce}/`);if(Array.isArray(ye.data)){const Pe=ye.data.map(Oe=>{let xe=null,at=null;return Oe.course&&(typeof Oe.course=="object"?(xe=Oe.course.title,at=Oe.course.id):at=Oe.course),!xe&&Oe.course_name&&(xe=Oe.course_name),!xe&&Oe.course_title&&(xe=Oe.course_title),{...Oe,course_name:xe,course_id:at}});i(Pe)}else i([])}catch{nt().fire({icon:"error",title:"Failed to load quizzes"}),i([])}finally{r(!1)}},Ve=async ye=>{r(!0);try{const Pe=ye==="all"?`teacher/quizzes/all/${Ce}/`:`teacher/quizzes/${ye}/`,Oe=await fe.get(Pe);if(Array.isArray(Oe.data)){const xe=Oe.data.map(at=>{let lt=null,ze=null;if(at.course&&(typeof at.course=="object"?(lt=at.course.title,ze=at.course.id):ze=at.course),!lt&&at.course_name&&(lt=at.course_name),!lt&&at.course_title&&(lt=at.course_title),!lt&&ze&&ze!=="all"){const Le=a.find(ct=>ct.id===ze||ct.id===parseInt(ze));Le&&(lt=Le.title)}return{...at,course_name:lt,course_id:ze}});i(xe)}else i([])}catch{nt().fire({icon:"error",title:"Failed to load quizzes"}),i([])}finally{r(!1)}},rt=ye=>{u(ye),Ve(ye)},it=ye=>{f(ye)},G=()=>{ee("/teacher/quiz/editor")},Ae=ye=>{ee(`/teacher/quiz/editor/${ye}`)},be=ye=>{w(ye),y(!0)},re=async()=>{try{await fe.delete(`quizzes/${x.id}/`),y(!1),w(null),nt().fire({icon:"success",title:"Quiz deleted successfully"}),c==="all"?Be():Ve(c)}catch{nt().fire({icon:"error",title:"Failed to delete quiz"})}},ne=async ye=>{te(ye),F(!0),k(!0);try{const Pe=await fe.get(`quizzes/submissions/${ye.id}/`),Oe=Array.isArray(Pe.data)?Pe.data:[];X(Oe);const xe=ye.enrolled_students||0,at=Oe.length,lt=Oe.filter(tt=>tt.status==="graded"),ze=lt.length;let Le=0;if(ze>0){const tt=lt.reduce((He,gt)=>He+(parseFloat(gt.score)||0),0);Le=Math.round(tt/ze*10)/10}const ct=s.map(tt=>tt.id===ye.id?{...tt,submissions_count:at}:tt);i(ct),de({total:xe,submitted:at,graded:ze,pending:at-ze,averageGrade:Le})}catch{nt().fire({icon:"error",title:"Failed to load submissions"}),X([])}finally{F(!1)}},ce=ye=>{M(ye),D(ye.score||""),z(ye.feedback||""),N(!0)},Te=async()=>{U(!0);try{await fe.put(`quizzes/grade-submission/${P.id}/`,{score:parseInt(L),feedback:S}),N(!1),M(null),D(""),z(""),nt().fire({icon:"success",title:"Submission graded successfully"}),K&&ne(K)}catch{nt().fire({icon:"error",title:"Failed to submit grade"})}finally{U(!1)}},he=()=>{if(!J.length)return;let ye="data:text/csv;charset=utf-8,";ye+=`Student,Email,Submission Date,Status,Score,Feedback\r
`,J.forEach(xe=>{const at=[xe.student_name,xe.student_email||"N/A",xe.submitted_at?Sv(Qm(xe.submitted_at),"MMM d, yyyy"):"N/A",xe.status,xe.score||"Not graded",`"${(xe.feedback||"").replace(/"/g,'""')}"`];ye+=at.join(",")+`\r
`});const Pe=encodeURI(ye),Oe=document.createElement("a");Oe.setAttribute("href",Pe),Oe.setAttribute("download",`${K.title}-submissions.csv`),document.body.appendChild(Oe),Oe.click(),document.body.removeChild(Oe)};_.useEffect(()=>{Ce&&(Ee(),Be())},[Ce]);const se=Array.isArray(s)?s.filter(ye=>{var Pe,Oe;if(h!=="all"&&ye.status!==h)return!1;if(m){const xe=m.toLowerCase();return((Pe=ye.title)==null?void 0:Pe.toLowerCase().includes(xe))||((Oe=ye.course_name)==null?void 0:Oe.toLowerCase().includes(xe))}return!0}):[];return o.jsxs("div",{children:[o.jsx(Su,{sidebarCollapsed:t}),o.jsxs("div",{style:{flex:1,marginLeft:t?"80px":"270px",transition:"margin-left 0.3s ease"},className:j?"dark-mode":"light-mode",children:[o.jsx(Fi,{sidebarCollapsed:t,toggleSidebar:De}),o.jsxs(Ld,{fluid:!0,className:"py-4",children:[o.jsxs(Ss,{className:"mb-4",children:[o.jsx(Tn,{children:o.jsx("h3",{children:"Quiz Management"})}),o.jsx(Tn,{className:"text-end",children:o.jsxs(Dt,{variant:"primary",onClick:G,children:[o.jsx(ds,{icon:jz,className:"me-2"}),"Create Quiz"]})})]}),o.jsx(Lt,{className:"mb-4",children:o.jsx(Lt.Body,{children:o.jsxs(Ss,{children:[o.jsx(Tn,{md:4,children:o.jsxs(Ue.Group,{className:"mb-3 mb-md-0",children:[o.jsx(Ue.Label,{children:"Filter by Course"}),o.jsxs(Ue.Select,{value:c,onChange:ye=>rt(ye.target.value),children:[o.jsx("option",{value:"all",children:"All Courses"}),a.map(ye=>o.jsx("option",{value:ye.id,children:ye.title},ye.id))]})]})}),o.jsx(Tn,{md:4,children:o.jsxs(Ue.Group,{className:"mb-3 mb-md-0",children:[o.jsx(Ue.Label,{children:"Filter by Status"}),o.jsxs(Ue.Select,{value:h,onChange:ye=>it(ye.target.value),children:[o.jsx("option",{value:"all",children:"All Statuses"}),o.jsx("option",{value:"draft",children:"Draft"}),o.jsx("option",{value:"published",children:"Published"})]})]})}),o.jsx(Tn,{md:4,children:o.jsxs(Ue.Group,{children:[o.jsx(Ue.Label,{children:"Search"}),o.jsx(Ue.Control,{type:"text",placeholder:"Search quizzes...",value:m,onChange:ye=>g(ye.target.value),className:"search-bar",style:{backgroundColor:"#fff",color:"#000"}})]})})]})})}),n?o.jsx("div",{className:"text-center my-5",style:{color:j?"black":"white",padding:"20px"},children:o.jsx(Hr,{animation:"border",role:"status",children:o.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):se.length===0?o.jsxs(Ma,{variant:"info",style:{backgroundColor:j?"#2a3f4a":"#cff4fc",borderColor:j?"#205e7c":"#b6effb",color:j?"#a9d5de":"#055160"},children:["No quizzes found based on your filters. Try changing your filter options or "," ",o.jsx(Ma.Link,{onClick:G,style:{cursor:"pointer",color:j?"#8ed6fb":"#055160",fontWeight:"bold",textDecoration:"underline"},children:"create a new quiz"}),"."]}):o.jsx(Lt,{style:{backgroundColor:"transparent",color:j?"#ffffff":"inherit",borderColor:j?"#333":"rgba(0, 0, 0, 0)"},children:o.jsxs(Lt.Body,{style:{backgroundColor:"transparent",padding:"1.25rem"},children:[o.jsx("style",{children:`
                    .custom-transparent-table {
                      --bs-table-color: ${j?"#ffffff":"inherit"};
                      --bs-table-bg: transparent !important;
                      --bs-table-border-color: ${j?"#444":"inherit"};
                      --bs-table-accent-bg: transparent !important;
                      --bs-table-striped-color: ${j?"#ffffff":"inherit"};
                      --bs-table-striped-bg: transparent !important;
                      --bs-table-active-color: ${j?"#ffffff":"inherit"};
                      --bs-table-active-bg: transparent !important;
                      --bs-table-hover-color: ${j?"#ffffff":"inherit"};
                      --bs-table-hover-bg: ${j?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.075)"} !important;
                      width: 100%;
                      margin-bottom: 1rem;
                      vertical-align: top;
                      }
                    
                    .custom-transparent-table th,
                    .custom-transparent-table td {
                      background-color: transparent !important;
                      color: ${j?"#ffffff":"inherit"} !important;
                    }
                    
                    .custom-transparent-table tbody tr:hover td,
                    .custom-transparent-table tbody tr:hover th {
                      background-color: ${j?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.075)"} !important;
                    }
                  `}),o.jsxs(Sg,{responsive:!0,hover:!0,className:`${j?"table-dark":""} custom-transparent-table`,style:{backgroundColor:"transparent"},children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Title"}),o.jsx("th",{children:"Course"}),o.jsx("th",{children:"Lecture"}),o.jsx("th",{children:"Status"}),o.jsx("th",{children:"Points"}),o.jsx("th",{children:"Actions"})]})}),o.jsx("tbody",{children:se.map(ye=>{var Pe,Oe,xe,at;return o.jsxs("tr",{"data-quiz-id":ye.id,children:[o.jsx("td",{children:ye.title||"Untitled Quiz"}),o.jsxs("td",{children:[ye.course_name||((Pe=ye.course)==null?void 0:Pe.title)||"No Course",!ye.course_name&&!((Oe=ye.course)!=null&&Oe.title)&&o.jsx("span",{className:"text-muted fst-italic",children:"(Unassigned)"})]}),o.jsxs("td",{children:[ye.lecture_title||((xe=ye.lecture)==null?void 0:xe.title)||"No Lecture",!ye.lecture_title&&!((at=ye.lecture)!=null&&at.title)&&o.jsx("span",{className:"text-muted fst-italic",children:"(Unassigned)"})]}),o.jsx("td",{children:o.jsxs("div",{className:"d-flex align-items-center",children:[ye.status==="draft"&&o.jsx(Zn,{bg:"secondary",children:"Draft"}),ye.status==="published"&&o.jsx(Zn,{bg:"success",children:"Published"})]})}),o.jsx("td",{children:ye.points||0}),o.jsx("td",{children:o.jsxs("div",{className:"d-flex",children:[o.jsx(Dt,{variant:j?"outline-light":"outline-secondary",size:"sm",className:"me-1",onClick:()=>Ae(ye.id),title:"Edit quiz",style:{color:j?"#ffffff":void 0,borderColor:j?"#6c757d":void 0},children:o.jsx(ds,{icon:kz})}),o.jsx(Dt,{variant:"outline-danger",size:"sm",onClick:()=>be(ye),title:"Delete quiz",style:{color:j?"#f8d7da":void 0,borderColor:j?"#dc3545":void 0},children:o.jsx(ds,{icon:Ez})})]})})]},ye.id)})})]})]})})]}),o.jsxs(vt,{show:b,onHide:()=>y(!1),children:[o.jsxs(vt.Header,{children:[o.jsx(vt.Title,{children:"Confirm Delete"}),o.jsx("button",{type:"button","aria-label":"Close",onClick:()=>y(!1),style:{position:"absolute",top:16,right:16,background:"none",border:"none",fontSize:"1.5rem",color:j?"#fff":"#000",cursor:"pointer",zIndex:10},children:"✕"})]}),o.jsxs(vt.Body,{children:['Are you sure you want to delete the quiz "',x==null?void 0:x.title,'"? This action cannot be undone and will remove all student submissions.']}),o.jsxs(vt.Footer,{children:[o.jsx(Dt,{variant:j?"outline-light":"secondary",onClick:()=>y(!1),children:"Cancel"}),o.jsx(Dt,{variant:"danger",onClick:re,children:"Delete Quiz"})]})]}),o.jsxs(vt,{show:C,onHide:()=>k(!1),size:"xl",children:[o.jsxs(vt.Header,{children:[o.jsxs(vt.Title,{children:["Submissions - ",K==null?void 0:K.title]}),o.jsx("button",{type:"button","aria-label":"Close",onClick:()=>k(!1),style:{position:"absolute",top:16,right:16,background:"none",border:"none",fontSize:"1.5rem",color:j?"#fff":"#000",cursor:"pointer",zIndex:10},children:"✕"})]}),o.jsx(vt.Body,{children:Y?o.jsx("div",{className:"text-center my-5",children:o.jsx(Hr,{animation:"border",role:"status",children:o.jsx("span",{className:"visually-hidden",children:"Loading submissions..."})})}):o.jsx(o.Fragment,{children:o.jsxs(YE,{defaultActiveKey:"submissions",className:"mb-3",children:[o.jsxs(Hx,{eventKey:"submissions",title:"Submissions",children:[J.length===0?o.jsx(Ma,{variant:j?"info bg-dark text-light border-info":"info",children:"No submissions received yet for this quiz."}):o.jsxs(Sg,{responsive:!0,hover:!0,className:"align-middle",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Student"}),o.jsx("th",{children:"Submitted"}),o.jsx("th",{children:"Status"}),o.jsx("th",{children:"Score"}),o.jsx("th",{children:"Correct Answers"}),o.jsx("th",{children:"Actions"})]})}),o.jsx("tbody",{children:J.map(ye=>o.jsxs("tr",{children:[o.jsx("td",{children:ye.student_name}),o.jsx("td",{children:ye.submitted_at?Sv(Qm(ye.submitted_at),"MMM d, yyyy h:mm a"):"N/A"}),o.jsx("td",{children:o.jsx("div",{className:"d-flex align-items-center",children:ye.status==="pending"?o.jsx(Zn,{bg:"warning",text:"dark",children:"Pending"}):o.jsx(Zn,{bg:"success",children:"Graded"})})}),o.jsx("td",{children:ye.score?`${ye.score}/${(K==null?void 0:K.points)||100}`:"-"}),o.jsxs("td",{children:[ye.correct_answers||0,"/",ye.total_questions||0]}),o.jsx("td",{children:o.jsxs("div",{className:"d-flex",children:[o.jsx(Dt,{variant:j?"outline-light":"outline-primary",size:"sm",className:"me-1",onClick:()=>ce(ye),title:"Review submission",children:o.jsx(ds,{icon:WT})}),o.jsx(Dt,{variant:j?"outline-light":"outline-secondary",size:"sm",title:"View details",children:o.jsx(ds,{icon:QTe})})]})})]},ye.id))})]}),o.jsx("div",{className:"text-end mt-3",children:o.jsxs(Dt,{variant:j?"outline-light":"outline-primary",onClick:he,disabled:J.length===0,children:[o.jsx(ds,{icon:Nz,className:"me-2"}),"Export as CSV"]})})]}),o.jsxs(Hx,{eventKey:"stats",title:"Statistics",children:[o.jsxs(Ss,{children:[o.jsx(Tn,{md:3,children:o.jsx(Lt,{bg:j?"dark":"light",text:j?"light":"dark",className:"mb-3",children:o.jsxs(Lt.Body,{className:"text-center",children:[o.jsx("h3",{children:H.total}),o.jsx("p",{className:"mb-0",children:"Total Students"})]})})}),o.jsx(Tn,{md:3,children:o.jsx(Lt,{bg:"primary",text:"white",className:"mb-3",children:o.jsxs(Lt.Body,{className:"text-center",children:[o.jsx("h3",{children:H.submitted}),o.jsx("p",{className:"mb-0",children:"Submissions"})]})})}),o.jsx(Tn,{md:3,children:o.jsx(Lt,{bg:"success",text:"white",className:"mb-3",children:o.jsxs(Lt.Body,{className:"text-center",children:[o.jsx("h3",{children:H.graded}),o.jsx("p",{className:"mb-0",children:"Graded"})]})})}),o.jsx(Tn,{md:3,children:o.jsx(Lt,{bg:"info",text:"white",className:"mb-3",children:o.jsxs(Lt.Body,{className:"text-center",children:[o.jsx("h3",{children:H.averageGrade}),o.jsx("p",{className:"mb-0",children:"Avg. Score"})]})})})]}),o.jsx(Lt,{children:o.jsxs(Lt.Body,{children:[o.jsx("h5",{children:"Submission Rate"}),o.jsx("div",{className:"progress mb-3",style:{height:"25px"},children:o.jsxs("div",{className:"progress-bar",role:"progressbar",style:{width:`${H.total>0?H.submitted/H.total*100:0}%`},"aria-valuenow":H.submitted,"aria-valuemin":"0","aria-valuemax":H.total,children:[H.total>0?Math.round(H.submitted/H.total*100):0,"%"]})}),o.jsx("h5",{children:"Performance Distribution"}),o.jsxs("div",{className:"progress",style:{height:"25px"},children:[o.jsx("div",{className:"progress-bar bg-danger",style:{width:"10%"}}),o.jsx("div",{className:"progress-bar bg-warning",style:{width:"30%"}}),o.jsx("div",{className:"progress-bar bg-info",style:{width:"40%"}}),o.jsx("div",{className:"progress-bar bg-success",style:{width:"20%"}})]}),o.jsxs("div",{className:"d-flex justify-content-between mt-1",children:[o.jsx("small",{children:"0-25%"}),o.jsx("small",{children:"26-50%"}),o.jsx("small",{children:"51-75%"}),o.jsx("small",{children:"76-100%"})]})]})})]})]})})}),o.jsx(vt.Footer,{children:o.jsx(Dt,{variant:j?"outline-light":"secondary",onClick:()=>k(!1),children:"Close"})})]}),o.jsxs(vt,{show:A,onHide:()=>N(!1),children:[o.jsxs(vt.Header,{children:[o.jsx(vt.Title,{children:"Review Quiz Submission"}),o.jsx("button",{type:"button","aria-label":"Close",onClick:()=>N(!1),style:{position:"absolute",top:16,right:16,background:"none",border:"none",fontSize:"1.5rem",color:j?"#fff":"#000",cursor:"pointer",zIndex:10},children:"✕"})]}),o.jsxs(vt.Body,{children:[o.jsxs(Ue,{children:[o.jsxs(Ue.Group,{className:"mb-3",children:[o.jsx(Ue.Label,{children:"Student"}),o.jsx(Ue.Control,{type:"text",value:(P==null?void 0:P.student_name)||"",readOnly:!0})]}),o.jsxs(Ss,{className:"mb-3",children:[o.jsx(Tn,{md:6,children:o.jsx(Lt,{children:o.jsxs(Lt.Body,{children:[o.jsx("h6",{children:"Score"}),o.jsxs("h3",{children:[(P==null?void 0:P.score)||0,"/",(K==null?void 0:K.points)||0]})]})})}),o.jsx(Tn,{md:6,children:o.jsx(Lt,{children:o.jsxs(Lt.Body,{children:[o.jsx("h6",{children:"Correct Answers"}),o.jsxs("h3",{children:[(P==null?void 0:P.correct_answers)||0,"/",(P==null?void 0:P.total_questions)||0]})]})})})]}),o.jsxs(Ue.Group,{className:"mb-3",children:[o.jsx(Ue.Label,{children:"Additional Feedback"}),o.jsx(Ue.Control,{as:"textarea",rows:4,value:S,onChange:ye=>z(ye.target.value),placeholder:"Provide feedback to the student..."})]})]}),o.jsxs(Ma,{variant:"info",className:"mb-0 mt-3",children:[o.jsx("strong",{children:"Note:"})," This quiz was auto-graded based on correct answers. You can provide additional feedback to the student."]})]}),o.jsxs(vt.Footer,{children:[o.jsx(Dt,{variant:j?"outline-light":"secondary",onClick:()=>N(!1),children:"Cancel"}),o.jsx(Dt,{variant:j?"custom":"primary",onClick:Te,disabled:O,className:j?"btn-custom":"",children:O?o.jsxs(o.Fragment,{children:[o.jsx(Hr,{size:"sm",animation:"border",className:"me-2"}),"Submitting..."]}):"Save Feedback"})]})]}),o.jsx("style",{children:`
            .dark-mode .modal-content {
              background-color: #333 !important;
              color: #fff !important;
            }
            .form-control, body.dark-mode .form-select {
              background-color: #fff!important;
              color: #121212!important;
            }
          `})]})]})};let sM=!1;const Lke=t=>{if(!t||t.isDisposed())return;t.addClass("vjs-youtube-style");const n=(()=>{const r=["#8c0101","#034287"];return r[Math.floor(Math.random()*r.length)]})();if(!sM){const r="vjs-youtube-global-styles";if(!document.getElementById(r)){const s=document.createElement("style");s.id=r,s.textContent=`
        .video-js.vjs-youtube-style {
          font-family: 'Roboto', Arial, sans-serif;
        }
        body.dark-mode button:not(.btn-primary):not(.btn-success):not(.btn-danger) {
        background-color: rgba(255, 255, 255, 0) !important;
        border-color: rgba(255, 255, 255, 0) !important;
    }
        .video-js.vjs-youtube-style .vjs-control-bar {
          background: transparent; /* Changed from gradient to transparent */
          height: 40px;
          padding: 0;
          margin: 0;
          opacity: 0;
          transition: opacity 0.2s ease;
          display: flex;
          justify-content: space-between;
          width: 100%;
        }
        
        .video-js.vjs-youtube-style:hover .vjs-control-bar {
          opacity: 1;
          background: rgba(0, 0, 0, 0);
        }
        
        .video-js.vjs-youtube-style .vjs-progress-control {
          position: absolute !important;
          top: -10px !important;
          left: 0 !important;
          right: 0 !important;
          width: 100% !important;
          height: 3px;
          transition: height 0.1s;
          padding: 0 !important;
          margin: 0 !important;
          box-sizing: border-box;
          backgroundcolor: rgba(0, 0, 0, 0)!important;
        }
        
        .video-js.vjs-youtube-style:hover .vjs-progress-control {
          height: 5px;
        }
        
        .video-js.vjs-youtube-style .vjs-play-progress {
          background-color: ${n};
        }
        
        .video-js.vjs-youtube-style .vjs-progress-holder {
          height: 3px;
          margin: 0;
          width: 100%;
          max-width: 100%;
        }
        
        .video-js.vjs-youtube-style .vjs-load-progress,
        .video-js.vjs-youtube-style .vjs-load-progress div {
          backgroundcolor: rgba(0, 0, 0, 0);
        }
        
        .video-js.vjs-youtube-style .vjs-progress-control .vjs-progress-holder {
          margin: 0;
          padding: 0;
          width: 100%;
        }
        
        .video-js.vjs-youtube-style .vjs-progress-control,
        .video-js.vjs-youtube-style .vjs-progress-holder,
        .video-js.vjs-youtube-style .vjs-slider,
        .video-js.vjs-youtube-style .vjs-slider-horizontal {
          margin: 0;
          padding: 0;
          backgroundcolor: rgba(0, 0, 0, 0);
        }
        
        .video-js.vjs-youtube-style .vjs-button > .vjs-icon-placeholder:before {
          font-size: 20px;
          line-height: 40px;
        }
        
        .vjs-youtube-left-controls,
        .vjs-youtube-right-controls {
          display: flex;
          align-items: center;
          padding: 0 5px;
          backgroundcolor: rgba(0, 0, 0, 0)!important;
        }
        
        .video-js.vjs-youtube-style .vjs-control {
          width: 30px;
          backgroundcolor: rgba(0, 0, 0, 0)!important;
        }
        
        /* Compact Time Display in YouTube style */
        .video-js.vjs-youtube-style .vjs-current-time,
        .video-js.vjs-youtube-style .vjs-time-divider,
        .video-js.vjs-youtube-style .vjs-duration {
          padding: 0;
          margin: 0;
          font-size: 12px;
          display: block !important;
          line-height: 40px;
          width: auto;
          backgroundcolor: rgba(0, 0, 0, 0)!important;
        }
        
        /* Make current time and duration display tight together */
        .video-js.vjs-youtube-style .vjs-current-time-display,
        .video-js.vjs-youtube-style .vjs-duration-display {
          padding: 0 1px;
        }
        
        /* Adjust time divider */
        .video-js.vjs-youtube-style .vjs-time-divider {
          padding: 0;
          min-width: 8px;
          text-align: center;
        }
        
        /* Hide the time remaining display */
        .video-js.vjs-youtube-style .vjs-remaining-time {
          display: none !important;
        }
        
        .video-js.vjs-youtube-style .vjs-volume-panel {
          display: flex;
          margin-right: 0;
          backgroundcolor: rgba(0, 0, 0, 0)!important;
        }
        
        .video-js.vjs-youtube-style .vjs-volume-control {
          width: 0;
          transition: width 0.2s;
          height: 100%;
          backgroundcolor: rgba(0, 0, 0, 0)!important;
        }
        
        .video-js.vjs-youtube-style .vjs-volume-panel:hover .vjs-volume-control,
        .video-js.vjs-youtube-style .vjs-volume-panel:focus .vjs-volume-control,
        .video-js.vjs-youtube-style .vjs-volume-panel.vjs-hover .vjs-volume-control {
          visibility: visible;
          opacity: 1;
          width: 50px;
          height: 100%;
          backgroundcolor: rgba(0, 0, 0, 0)!important;
        }
        
        /* Settings button (Speedometer icon) */
        .vjs-youtube-settings-button .vjs-icon-placeholder:before {
          content: "⚙";
          font-size: 18px;
        }
        
        /* Group right-aligned controls tighter */
        .vjs-youtube-right-controls {
          display: flex;
          align-items: center;
          gap: 0;
        }
        
        .vjs-speed-menu {
          position: absolute;
          bottom: 50px;
          right: 10px;
          background-color: rgba(28, 28, 28, 0.9);
          border-radius: 2px;
          padding: 8px 0;
          width: 200px;
          display: none;
          z-index: 100;
        }
        
        .vjs-speed-menu.active {
          display: block;
        }
        
        .vjs-speed-menu-item {
          padding: 8px 20px;
          color: white;
          cursor: pointer;
          display: flex;
          justify-content: space-between;
        }
        
        .vjs-speed-menu-item:hover {
          background-color: rgba(255, 255, 255, 0.1);
        }
        
        .vjs-speed-menu-item.selected {
          font-weight: bold;
        }
        
        .vjs-speed-menu-item.selected:after {
          content: "✓";
        }
        
        .video-js.vjs-youtube-style .vjs-volume-level {
          background-color: white;
        }

        /* Volume panel - with centered control */
        .video-js.vjs-youtube-style .vjs-volume-panel {
          display: flex;
          align-items: center;
          margin-right: 0;
        }

        /* Volume control - centered position */
        .video-js.vjs-youtube-style .vjs-volume-control {
          width: 0;
          transition: width 0.2s;
          height: 100%;
          display: flex;
          align-items: center;
        }

        /* Volume bar container */
        .video-js.vjs-youtube-style .vjs-volume-bar {
          margin: 0 auto;
          height: 3px;
        }

        /* When hovering the volume panel */
        .video-js.vjs-youtube-style .vjs-volume-panel:hover .vjs-volume-control,
        .video-js.vjs-youtube-style .vjs-volume-panel:focus .vjs-volume-control,
        .video-js.vjs-youtube-style .vjs-volume-panel.vjs-hover .vjs-volume-control {
          visibility: visible;
          opacity: 1;
          width: 50px;
          height: 100%;
        }

        /* Volume level indicator */
        .video-js.vjs-youtube-style .vjs-volume-level {
          background-color: white;
          height: 100%;
        }

        /* Volume panel - with centered control */
        .video-js.vjs-youtube-style .vjs-volume-panel {
          display: flex;
          align-items: center;
          margin-right: 0;
        }

        /* Volume control - adjust vertical position */
        .video-js.vjs-youtube-style .vjs-volume-control {
          width: 0;
          transition: width 0.2s;
          height: 100%;
          display: flex;
          align-items: center;
          margin-top:0.7px; 
        }

        /* Volume bar container - adjust position */
        .video-js.vjs-youtube-style .vjs-volume-bar {
          margin: 0 auto;
          height: 3px;
          position: relative;
          top: 0.5px; /* Move the bar down for better alignment */
        }

        /* When hovering the volume panel */
        .video-js.vjs-youtube-style .vjs-volume-panel:hover .vjs-volume-control,
        .video-js.vjs-youtube-style .vjs-volume-panel:focus .vjs-volume-control,
        .video-js.vjs-youtube-style .vjs-volume-panel.vjs-hover .vjs-volume-control {
          visibility: visible;
          opacity: 1;
          width: 50px;
          height: 100%;
        }
      `,document.head.appendChild(s),sM=!0}}t.ready(()=>{setTimeout(()=>{const k=t.el().querySelector(".vjs-progress-control");if(k){k.style.width="100%";const A=t.el().querySelector(".vjs-progress-holder");A&&(A.style.width="100%")}},100);const r=document.createElement("button");r.className="vjs-control vjs-button vjs-youtube-settings-button",r.type="button",r.title="Settings";const s=document.createElement("span");s.className="vjs-icon-placeholder",r.appendChild(s);const i=document.createElement("div");i.className="vjs-speed-menu",[.25,.5,.75,1,1.25,1.5,1.75,2].forEach(k=>{const A=document.createElement("div");A.className="vjs-speed-menu-item",A.textContent=k===1?"Normal":`${k}×`,A.dataset.speed=k,t.playbackRate()===k&&A.classList.add("selected"),A.addEventListener("click",()=>{t.playbackRate(k),document.querySelectorAll(".vjs-speed-menu-item").forEach(N=>{N.classList.remove("selected")}),A.classList.add("selected"),i.classList.remove("active")}),i.appendChild(A)}),r.addEventListener("click",k=>{k.stopPropagation(),i.classList.toggle("active")});const l=k=>{!i.contains(k.target)&&!r.contains(k.target)&&i.classList.remove("active")};document.addEventListener("click",l),t.closeMenuHandler_=l;const c=t.getChild("controlBar").el(),u=document.createElement("div");u.className="vjs-youtube-left-controls";const h=document.createElement("div");h.className="vjs-youtube-right-controls";const f=c.querySelector(".vjs-play-control"),m=c.querySelector(".vjs-volume-panel"),g=c.querySelector(".vjs-current-time"),b=c.querySelector(".vjs-time-divider"),y=c.querySelector(".vjs-duration"),x=c.querySelector(".vjs-progress-control"),w=c.querySelector(".vjs-fullscreen-control"),C=c.querySelector(".vjs-picture-in-picture-control");Array.from(c.children).forEach(k=>{k!==x&&!u.contains(k)&&!h.contains(k)&&c.removeChild(k)}),f&&u.appendChild(f),m&&u.appendChild(m),g&&u.appendChild(g),b&&u.appendChild(b),y&&u.appendChild(y),h.appendChild(r),C&&h.appendChild(C),w&&h.appendChild(w),c.appendChild(u),c.appendChild(h),t.el().appendChild(i)})};function iM(){var pt;const[t,e]=_.useState([]),[n,r]=_.useState(!0),[s,i]=_.useState(!0),[a,l]=_.useState(!0),[c,u]=_.useState(!1),[h,f]=_.useState(null),[m,g]=_.useState([]),[b,y]=_.useState(null),[x,w]=_.useState("all"),[C,k]=_.useState(!1),[A,N]=_.useState(null),[P,M]=_.useState(!1),[L,D]=_.useState([]),[S,z]=_.useState(null),[O,U]=_.useState([]),[j,V]=_.useState(!1),[K,te]=_.useState(!1),[J,X]=_.useState(!1),[Y,F]=_.useState(0),[H,de]=_.useState([]),[ee,fe]=_.useState([]),[ve,Ce]=_.useState(localStorage.getItem("cart_id")||null),[De,Ee]=_.useState("description"),[Be,Ve]=_.useState([]),[rt,it]=_.useState(!1),[G,Ae]=_.useState(0),[be,re]=_.useState(0),[ne,ce]=_.useState({}),[Te,he]=_.useState({}),[se,ye]=_.useState(!1),[Pe,Oe]=_.useState(!1),xe=fr(),[at,lt]=_.useState(!1),[ze,Le]=_.useState(!1),[ct,tt]=_.useState(!1),[He,gt]=_.useState(null),[ie,Ie]=_.useState(!1),[We,yt]=_.useState(null),[Ye,Ze]=_.useState(!1),[Z,ae]=_.useState(!1),[me,oe]=_.useState(""),[Ne,xt]=_.useState(!1),[At,$t]=_.useState({title:"",price:"",level:"",category:""}),[wt,Jt]=_.useState(null),[ir,Ir]=_.useState(!1),Wn=_.useRef(null),Qt=_.useRef(null),gn=_.useRef(null),qr=_.useRef(null),Qs=()=>{l(!a)},Vn=async()=>{try{r(!0);const ue=await mt().get("teacher/courses/");e(ue.data),r(!1)}catch(ue){ue.response&&ue.response.status===401&&(xn.remove("access_token"),xn.remove("refresh_token"),xe("/"))}},ns=async ue=>{try{const Ge=[...(await mt().get(`/teacher/course/${ue}/lectures/`)).data].sort((bt,Ct)=>(bt.order??0)-(Ct.order??0));g(Ge)}catch{g([])}},Ns=async ue=>{f(ue),await ns(ue.id),u(!0),y(null)},bn=()=>{gt(null),Le(!0)},fc=async ue=>{if(!ue.destination)return;const Fe=Array.from(m),[Ge]=Fe.splice(ue.source.index,1);Fe.splice(ue.destination.index,0,Ge),g(Fe);try{await mt().post(`/teacher/course/${h.id}/lecture-order/`,{lecture_order:Fe.map(bt=>bt.id)})}catch{nt().fire({icon:"error",title:"Failed to save lecture order."})}},Bi=async()=>{if(h&&m.length>0)try{await mt().post(`/teacher/course/${h.id}/lecture-order/`,{lecture_order:m.map(ue=>ue.id)})}catch{nt().fire({icon:"error",title:"Failed to save lecture order."})}u(!1),f(null),y(null),Qt.current&&(Qt.current.dispose(),Qt.current=null)},_o=()=>{lt(!0)},So=async(ue,Fe)=>{try{it(!0);const bt=(await mt().get(`/course/${ue}/lecture/${Fe}/resources/`)).data.map(Ct=>(Ct.file_size&&!isNaN(parseFloat(Ct.file_size))&&(Ct.file_size=parseFloat(Ct.file_size)),Ct));Ve(bt)}catch{Ve([])}finally{it(!1)}},yi=async ue=>{if(!(!ue||!h)&&!((b==null?void 0:b.id)===ue.id&&Qt.current)){ye(!0),y(ue);try{let Fe;try{if(Fe=mt(),!Fe)throw new Error("Axios instance is not available.")}catch{ye(!1);return}const[Ge,bt,Ct]=await Promise.all([Fe.get(`/lecture/${ue.id}/progress/`).catch(Mt=>({data:null})),Fe.get(`/lecture/${ue.id}/video-metadata/`).catch(Mt=>({data:null})),So(h.id,ue.id)]);Ge!=null&&Ge.data&&(Ae(Ge.data.current_time||0),re(Ge.data.duration||0),he(Mt=>({...Mt,[ue.id]:{percentage:Ge.data.percentage_complete||0,completed:Ge.data.completed||!1,current_time:Ge.data.current_time||0}}))),await new Promise(Mt=>{if(Qt.current)try{Qt.current.dispose()}catch{}finally{Qt.current=null,Wn.current=null}Mt()}),setTimeout(()=>{var Vt;const Mt=qr.current;if(!Mt){ye(!1);return}Mt.firstChild;const an=document.createElement("video");if(an.className="video-js vjs-default-skin",an.setAttribute("controls","true"),an.setAttribute("preload","auto"),an.style.width="100%",an.style.height="100%",Mt.appendChild(an),Wn.current=an,!((Vt=bt==null?void 0:bt.data)!=null&&Vt.url)){Wn.current&&Wn.current.parentNode===Mt&&Mt.removeChild(Wn.current),Wn.current=null,ye(!1);return}const pn={};try{Qt.current=Qe(Wn.current,pn),Qt.current.ready(()=>{var Nn;if(!Qt.current||Qt.current.isDisposed())return;let Gt=bt.data.url;const wn=bt.data.mime_type||"video/mp4";if(Gt&&Gt.startsWith("/")){const Kn=Fe.defaults.baseURL||"https://127.0.0.1:8000",Yr=Kn.endsWith("/")?Kn.slice(0,-1):Kn,Gr=Gt.startsWith("/")?Gt.slice(1):Gt;Gt=`${Yr}/${Gr}`}else if(Gt&&!Gt.startsWith("http")){const Kn=Fe.defaults.baseURL||"https://127.0.0.1:8000";Gt=`${Kn.endsWith("/")?Kn.slice(0,-1):Kn}/${Gt}`}Gt=Gt.replace(/\\/g,"/"),Qt.current.src({src:Gt,type:wn}),Qt.current.on("timeupdate",Co),Qt.current.on("loadedmetadata",ml),Qt.current.on("error",()=>{ye(!1)}),Qt.current.on("loadeddata",()=>{ye(!1)}),Qt.current.on("canplay",()=>{}),Lke(Qt.current);const kn=(Nn=Ge==null?void 0:Ge.data)==null?void 0:Nn.current_time;kn&&kn>0&&Qt.current.currentTime(kn),se&&ye(!1)})}catch{Wn.current&&Wn.current.parentNode===Mt&&Mt.removeChild(Wn.current),Wn.current=null,ye(!1)}},100)}catch{ye(!1)}}},qn=ue=>{gt(ue),Le(!0)},ml=()=>{try{if(!Qt.current||!b)return;const ue=Qt.current.duration();if(isNaN(ue)||ue<=0)return;re(ue),G>0&&G<ue&&Qt.current.currentTime(G),b.chapters&&b.chapters.length&&To(Qt.current,b),ur(Qt.current)}catch{}},Co=()=>{if(!(!Qt.current||!b))try{const ue=Qt.current.currentTime(),Fe=Qt.current.duration();if(isNaN(ue)||isNaN(Fe)||Fe<=0)return;const Ge=gl(ue),bt=gl(Fe);Ae(ue);const Ct=Math.round(ue/Fe*100);he(Mt=>({...Mt,[b.id]:{...Mt[b.id],percentage:Ct,current_time:ue}}));const Tt=Qt.current.lastProgressSave||0;ue-Tt>=10&&(Ka(),Qt.current.lastProgressSave=ue)}catch{}},Ka=async()=>{if(!(!Qt.current||!b))try{const ue=Qt.current.currentTime(),Fe=Qt.current.duration();if(isNaN(ue)||isNaN(Fe)||Fe<=0)return;gn.current&&clearTimeout(gn.current),gn.current=setTimeout(async()=>{var Ge;try{const bt=await mt().post(`/lecture/${b.id}/progress/`,{current_time:ue,duration:Fe});if(bt.data){const Ct=((Ge=Te[b.id])==null?void 0:Ge.completed)||!1,Tt=bt.data.completed||!1;he(Mt=>({...Mt,[b.id]:{percentage:bt.data.percentage_complete||0,completed:bt.data.completed||!1,current_time:bt.data.current_time||0}})),!Ct&&Tt&&we()}}catch{}},1e3)}catch{}};_.useEffect(()=>()=>{gn.current&&(clearTimeout(gn.current),gn.current=null),Qt.current&&b&&Ka()},[b]),_.useEffect(()=>()=>{if(Qt.current)try{Qt.current.closeMenuHandler_&&document.removeEventListener("click",Qt.current.closeMenuHandler_),Qt.current.dispose()}catch{}finally{Qt.current=null}},[]);const ur=ue=>{ue&&ue.ready(()=>{const Fe=ue.tech().el_;Fe.preload="auto";const Ge=Vt=>{if(!Vt||isNaN(Vt)||Vt<=0)return null;const Gt=2,wn=[],kn=[];for(let Nn=0;Nn<=Vt;Nn+=Gt){const Kn=Nn/Vt;wn.push({time:Nn,position:Kn}),kn.push({index:wn.length-1,time:Nn.toFixed(2)+"s",position:(Kn*100).toFixed(2)+"%",formatTime:gl(Nn)})}return wn.length>0&&(wn.length>=3&&Math.floor(wn.length/2),wn.length-1),wn},bt=(Vt,Gt)=>{if(!Vt||Vt.length===0)return null;let wn=Vt[0],kn=Math.abs(Gt-wn.time);for(let Nn=1;Nn<Vt.length;Nn++){const Kn=Math.abs(Gt-Vt[Nn].time);Kn<kn&&(kn=Kn,wn=Vt[Nn])}return wn};let Ct=null;ue.on("loadedmetadata",()=>{const Vt=ue.duration();Vt&&Vt>0&&(Ct=Ge(Vt))}),ue.on("seeking",()=>{ue.addClass("vjs-seeking")}),ue.on("seeked",()=>{ue.removeClass("vjs-seeking"),Ae(ue.currentTime())});const Tt=ue.el().querySelector(".vjs-progress-holder");if(!Tt)return;const Mt=function(Vt){Vt.preventDefault(),Vt.stopPropagation();const Gt=Tt.getBoundingClientRect(),wn=Vt.clientX-Gt.left,kn=Math.max(0,Math.min(1,wn/Gt.width)),Nn=ue.duration();if(isNaN(Nn)||Nn<=0)return!1;let Kn=kn*Nn;if(Ct){const Yr=bt(Ct,Kn);Yr&&Math.abs(Kn-Yr.time)<.5&&(Kn=Yr.time)}try{ue.addClass("vjs-seeking"),Ae(Kn);const Yr=!ue.paused();Yr&&ue.pause(),Fe.currentTime=Kn,ue.currentTime(Kn);const Gr=function(){Yr&&ue.play(),ue.off("seeked",Gr)};ue.on("seeked",Gr),setTimeout(()=>{Ka()},500)}catch{ue.removeClass("vjs-seeking")}return!1};Tt.onclick=null,Tt._clickHandler&&Tt.removeEventListener("click",Tt._clickHandler),Tt._clickHandler=Mt,Tt.addEventListener("click",Mt);const an=()=>{const Vt=()=>{try{const Gt=ue.buffered(),wn=ue.duration();if(!Gt||!wn)return;const kn=ue.el().querySelector(".vjs-load-progress");if(!kn)return;kn.innerHTML="";for(let Nn=0;Nn<Gt.length;Nn++){const Kn=Gt.start(Nn)/wn*100,Yr=(Gt.end(Nn)-Gt.start(Nn))/wn*100,Gr=document.createElement("div");Gr.className="vjs-load-progress-segment",Gr.style.left=Kn+"%",Gr.style.width=Yr+"%",kn.appendChild(Gr)}}catch{}};ue.on("progress",Vt)},pn=document.createElement("style");pn.textContent=`
      .video-js.vjs-seeking .vjs-loading-spinner {
        display: block;
        opacity: 0.8;
        visibility: visible;
      }
      
      .video-js .vjs-progress-holder:hover {
        cursor: pointer;
        height: 6px;
      }
      
      .video-js .vjs-play-progress {
        background-color: generate-color;
      }
      
      .video-js .vjs-time-tooltip {
        padding: 2px 5px;
        background-color: #000;
        border-radius: 3px;
      }
      
     
      .video-js .vjs-load-progress-segment {
        background-color: rgba(255, 255, 255, 0);
      }
    `,ue.el().appendChild(pn),an()})},gl=ue=>{if(ue==null||isNaN(ue)||ue<0)return"0:00";if(ue>=3600){const bt=Math.floor(ue/3600),Ct=Math.floor(ue%3600/60),Tt=Math.floor(ue%60);return`${bt}:${Ct.toString().padStart(2,"0")}:${Tt.toString().padStart(2,"0")}`}const Fe=Math.floor(ue/60),Ge=Math.floor(ue%60);return`${Fe}:${Ge.toString().padStart(2,0)}`},To=(ue,Fe)=>{!ue||!Fe.chapters||!Fe.chapters.length||ue.ready(()=>{const Ge=ue.duration();if(!Ge)return;let bt=ue.el().querySelector(".vjs-chapter-markers");if(!bt){bt=document.createElement("div"),bt.className="vjs-chapter-markers",bt.style.position="absolute",bt.style.bottom="34px",bt.style.width="100%",bt.style.height="3px",bt.style.pointerEvents="none";const Ct=ue.el().querySelector(".vjs-progress-control");Ct&&Ct.appendChild(bt)}bt.innerHTML="",Fe.chapters.forEach(Ct=>{const Tt=document.createElement("div");Tt.className="vjs-chapter-marker",Tt.style.position="absolute",Tt.style.height="100%",Tt.style.width="2px",Tt.style.backgroundColor="rgba(255, 255, 255, 0.5)",Tt.style.left=`${Ct.time/Ge*100}%`,bt.appendChild(Tt)})})},[$i,bi]=_.useState([]),yl=async()=>{try{const ue=await mt().get("/course/category/");ue.data&&bi(ue.data)}catch{}};_.useEffect(()=>{var Ge;const ue=setTimeout(()=>{i(!1)},3e3);if(!((Ge=zt())==null?void 0:Ge.user_id)){xn.remove("access_token"),xn.remove("refresh_token"),xe("/");return}return Vn(),we(),yl(),()=>clearTimeout(ue)},[]),_.useEffect(()=>{const ue=localStorage.getItem("user_cart");if(ue)try{const Ge=JSON.parse(ue);U(Ge);const bt=Ge.reduce((Ct,Tt)=>{const Mt=typeof Tt.price=="string"?parseFloat(Tt.price):Tt.price;return Ct+(isNaN(Mt)?0:Mt)},0);F(bt)}catch{}const Fe=localStorage.getItem("cart_id");Fe&&Ce(Fe)},[]),_.useEffect(()=>{(async()=>{var Fe;try{if(!((Fe=zt())==null?void 0:Fe.user_id))return;const bt=localStorage.getItem("user_cart");if(bt)try{const Ct=JSON.parse(bt);U(Ct);const Tt=Ct.reduce((Mt,an)=>{const pn=typeof an.price=="string"?parseFloat(an.price):an.price;return Mt+(isNaN(pn)?0:pn)},0);F(Tt)}catch{}else{const Ct=localStorage.getItem("cart_id");if(Ct){const Tt=await mt().get(`/course/cart-list/${Ct}/`);if(Tt.data&&Array.isArray(Tt.data)){const Mt=Tt.data.map(pn=>({id:pn.course.id,title:pn.course.title,price:parseFloat(pn.price).toFixed(2),image:pn.course.image,level:pn.course.level,cartId:Ct}));U(Mt),localStorage.setItem("user_cart",JSON.stringify(Mt));const an=Mt.reduce((pn,Vt)=>{const Gt=typeof Vt.price=="string"?parseFloat(Vt.price):Vt.price;return pn+(isNaN(Gt)?0:parseFloat(Gt))},0);F(an)}}}}catch{}})()},[]),_.useEffect(()=>{(async()=>{var Ct;const Fe=(Ct=zt())==null?void 0:Ct.user_id;if(!Fe)return;let Ge=localStorage.getItem("cart_id");const bt=`user_${Fe}`;(!Ge||!Ge.includes(Fe))&&(Ge=bt,localStorage.setItem("cart_id",Ge),Ce(Ge));try{const Tt=await mt().get(`/course/cart-list/${Ge}/`);if(Tt.data&&Array.isArray(Tt.data)){const Mt=Tt.data.map(pn=>({id:pn.course.id,title:pn.course.title,price:parseFloat(pn.price).toFixed(2),image:pn.course.image,level:pn.course.level}));U(Mt);const an=Mt.reduce((pn,Vt)=>{const Gt=typeof Vt.price=="string"?parseFloat(Vt.price):Vt.price;return pn+(isNaN(Gt)?0:parseFloat(Gt))},0);F(an)}}catch{}})()},[(pt=zt())==null?void 0:pt.user_id]),_.useEffect(()=>{var Ge;const ue=new URLSearchParams(window.location.search);if(ue.get("payment")==="success"){nt().fire({icon:"success",title:"Payment Successful!",text:"Your course enrollment is complete. You can now access your courses."});const bt=window.location.pathname;window.history.replaceState({},document.title,bt),ue.get("order")&&(Vn(),U([]),(Ge=zt())!=null&&Ge.user_id&&(localStorage.removeItem("user_cart"),jo()))}},[]);const[da,ko]=_.useState("all"),[Or,ha]=_.useState("newest"),[rs,fa]=_.useState(""),[Xa,pa]=_.useState("all"),As=()=>{if(!Array.isArray(t))return[];let ue=[...t];if(rs){const Fe=rs.toLowerCase();ue=ue.filter(Ge=>{var bt,Ct;return((bt=Ge.title)==null?void 0:bt.toLowerCase().includes(Fe))||((Ct=Ge.description)==null?void 0:Ct.toLowerCase().includes(Fe))})}return da!=="all"&&(ue=ue.filter(Fe=>da==="published"&&Fe.platform_status==="Published"||da==="draft"&&Fe.platform_status!=="Published")),x!=="all"&&(ue=ue.filter(Fe=>Fe.category_id===x)),Or==="newest"?ue.sort((Fe,Ge)=>new Date(Ge.date||Ge.created_at||0)-new Date(Fe.date||Fe.created_at||0)):Or==="oldest"?ue.sort((Fe,Ge)=>new Date(Fe.date||Fe.created_at||0)-new Date(Ge.date||Ge.created_at||0)):Or==="title_asc"?ue.sort((Fe,Ge)=>(Fe.title||"").localeCompare(Ge.title||"")):Or==="title_desc"&&ue.sort((Fe,Ge)=>(Ge.title||"").localeCompare(Fe.title||"")),ue},Eo=async ue=>{if(window.confirm("Are you sure you want to delete this course?"))try{await mt().delete(`/teacher/course/${ue}/`),nt().fire({icon:"success",title:"Course deleted"}),Vn()}catch{nt().fire({icon:"error",title:"Failed to delete course"})}},ma=ue=>{$t({id:ue.id,title:ue.title||"",price:ue.price||"",level:ue.level||"",category:ue.category_id||""}),ae(!0)},jo=async()=>{try{const ue=localStorage.getItem("cart_id");if(!ue)return;for(const Fe of O)await mt().delete(`/course/cart-item-delete/${ue}/${Fe.id}/`);await pc(),nt().fire({icon:"success",title:"Cart cleared"})}catch{nt().fire({icon:"error",title:"Failed to clear cart"})}},pc=async(ue=!1)=>{var Fe;try{const Ge=(Fe=zt())==null?void 0:Fe.user_id;if(!Ge)return;let bt=localStorage.getItem("cart_id");if(!bt||ue){const Tt=new Date().getTime(),Mt=Math.random().toString(36).substring(2,8);bt=`cart_${Tt}_${Mt}_${Ge}`,localStorage.setItem("cart_id",bt),Ce(bt)}const Ct=await mt().get(`/course/cart-list/${bt}/`);if(Ct.data&&Array.isArray(Ct.data)){const Tt=Ct.data.map(an=>({id:an.course.id,title:an.course.title,price:parseFloat(an.price).toFixed(2),image:an.course.image,level:an.course.level,cartItemId:an.id}));U(Tt);const Mt=Tt.reduce((an,pn)=>{const Vt=typeof pn.price=="string"?parseFloat(pn.price):pn.price;return an+(isNaN(Vt)?0:parseFloat(Vt))},0);F(Mt)}else U([]),F(0)}catch{}},Zs=()=>{V(!1),te(!0)};t.filter(ue=>ue.course&&ue.course.level==="Beginner"),t.filter(ue=>ue.course&&ue.course.level==="Intermediate"),t.filter(ue=>ue.course&&ue.course.level==="Advanced");const we=async()=>{var ue;try{const Fe=(ue=zt())==null?void 0:ue.user_id;if(!Fe)return;const Ge=await mt().get(`/student/${Fe}/progress/`);if(Ge.data&&Array.isArray(Ge.data)){const bt={};Ge.data.forEach(Ct=>{bt[Ct.course_id]={percentage:Ct.progress||0,completed_lectures:Ct.completed_lectures||0,total_lectures:Ct.total_lectures||0}}),ce(bt)}}catch{}};_.useEffect(()=>()=>{gn.current&&clearTimeout(gn.current),Qt.current&&b&&Ka()},[b]);const Je=ue=>ue?(ue=ue.toLowerCase(),ue==="pdf"?"file-pdf":["doc","docx"].includes(ue)?"file-word":["xls","xlsx"].includes(ue)?"file-excel":["ppt","pptx"].includes(ue)?"file-powerpoint":["jpg","jpeg","png","gif"].includes(ue)?"file-image":["mp3","wav","ogg"].includes(ue)?"file-audio":["mp4","mov","avi"].includes(ue)?"file-video":["zip","rar","7z"].includes(ue)?"file-archive":"file"):"file",qe=ue=>{if(ue==null||isNaN(ue))return"Unknown size";if(ue===0)return"0 KB";const Fe=["KB","MB","GB","TB"];if(ue<1024)return"1 KB";const Ge=ue/1024,bt=Math.floor(Math.log(Ge)/Math.log(1024));let Ct=0;return bt===1?Ct=1:bt>=2&&(Ct=2),`${(Ge/Math.pow(1024,bt)).toFixed(Ct)} ${Fe[bt]}`};return _.useEffect(()=>{async function ue(){try{const Fe=await mt().get("/user/appearance-settings/");Fe.data&&Fe.data.dark_mode!==void 0&&Oe(Fe.data.dark_mode)}catch{}}ue()},[]),o.jsxs("div",{style:{display:"flex",minHeight:"100vh"},children:[o.jsx(Su,{sidebarCollapsed:a}),o.jsxs("div",{style:{flex:1,marginLeft:a?"80px":"270px",transition:"margin-left 0.3s ease",paddingTop:"60px"},children:[o.jsx("div",{style:{position:"fixed",top:0,left:a?"80px":"270px",width:`calc(100% - ${a?"80px":"270px"})`,zIndex:2e3,transition:"left 0.3s, width 0.3s"},children:o.jsx(Fi,{sidebarCollapsed:a,toggleSidebar:Qs,children:o.jsxs("button",{className:"btn btn-secondary",onClick:Zs,style:{marginLeft:"auto"},children:["Cart (",O.length,")"]})})}),o.jsxs("div",{style:{padding:"20px"},children:[o.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[o.jsx("h3",{children:"My Courses"}),o.jsxs(Dt,{variant:"primary",onClick:()=>ae(!0),children:[o.jsx("i",{className:"fas fa-plus me-2"})," Create Course"]})]}),o.jsx("div",{className:"mb-4",children:o.jsxs(Ss,{children:[o.jsx(Tn,{md:3,className:"mb-3 mb-md-0",children:o.jsxs(Ue.Group,{children:[o.jsx(Ue.Label,{children:"Filter by Category"}),o.jsxs(Ue.Select,{value:x,onChange:ue=>w(ue.target.value),className:Pe?"bg-dark text-white border-secondary":"",children:[o.jsx("option",{value:"all",children:"All Categories"}),$i.map(ue=>o.jsx("option",{value:ue.id.toString(),children:ue.title},ue.id))]})]})}),o.jsx(Tn,{md:3,className:"mb-3 mb-md-0",children:o.jsxs(Ue.Group,{children:[o.jsx(Ue.Label,{children:"Filter by Status"}),o.jsxs(Ue.Select,{value:da,onChange:ue=>ko(ue.target.value),className:Pe?"bg-dark text-white border-secondary":"",children:[o.jsx("option",{value:"all",children:"All Statuses"}),o.jsx("option",{value:"published",children:"Published"}),o.jsx("option",{value:"draft",children:"Draft"})]})]})}),o.jsx(Tn,{md:3,className:"mb-3 mb-md-0",children:o.jsxs(Ue.Group,{children:[o.jsx(Ue.Label,{children:"Sort By"}),o.jsxs(Ue.Select,{value:Or,onChange:ue=>ha(ue.target.value),className:Pe?"bg-dark text-white border-secondary":"",children:[o.jsx("option",{value:"newest",children:"Newest First"}),o.jsx("option",{value:"oldest",children:"Oldest First"}),o.jsx("option",{value:"title_asc",children:"Title (A-Z)"}),o.jsx("option",{value:"title_desc",children:"Title (Z-A)"})]})]})}),o.jsx(Tn,{md:3,children:o.jsxs(Ue.Group,{children:[o.jsx(Ue.Label,{children:"Search"}),o.jsx(Ue.Control,{type:"text",placeholder:"Search courses...",value:rs,onChange:ue=>fa(ue.target.value),className:Pe?"bg-dark text-white border-secondary":""})]})})]})}),o.jsxs(vt,{show:Z,onHide:()=>{ae(!1),$t({title:"",price:"",level:"",category:""})},centered:!0,backdrop:"static",children:[o.jsx(vt.Header,{closeButton:!0,children:o.jsx(vt.Title,{children:At.id?"Edit Course":"Create Course"})}),o.jsx(vt.Body,{children:o.jsxs(Ue,{onSubmit:async ue=>{ue.preventDefault();try{const Fe=new FormData;Fe.append("title",At.title),Fe.append("price",At.price),Fe.append("level",At.level),At.category&&Fe.append("category",At.category),ue.target.image.files[0]&&Fe.append("image",ue.target.image.files[0]),At.id?(await mt().put(`teacher/course-update/${zt().teacher_id}/${At.id}/`,Fe,{headers:{"Content-Type":"multipart/form-data"}}),nt().fire({icon:"success",title:"Course updated successfully"})):(await mt().post("teacher/course-create/",Fe,{headers:{"Content-Type":"multipart/form-data"}}),nt().fire({icon:"success",title:"Course created successfully"})),ae(!1),$t({title:"",price:"",level:"",category:""}),Vn()}catch{nt().fire({icon:"error",title:At.id?"Failed to update course.":"Failed to create course."})}},children:[o.jsxs(Ue.Group,{className:"mb-3",children:[o.jsxs(Ue.Label,{children:["Course Title ",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsx(Ue.Control,{type:"text",value:At.title,onChange:ue=>$t({...At,title:ue.target.value}),required:!0})]}),o.jsxs(Ue.Group,{className:"mb-3",children:[o.jsxs(Ue.Label,{children:["Price ",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsx(Ue.Control,{type:"number",min:"0",step:"0.01",value:At.price,onChange:ue=>$t({...At,price:ue.target.value}),required:!0})]}),o.jsxs(Ue.Group,{className:"mb-3",children:[o.jsxs(Ue.Label,{children:["Level ",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsxs(Ue.Select,{value:At.level,onChange:ue=>$t({...At,level:ue.target.value}),required:!0,children:[o.jsx("option",{value:"",children:"Select Level"}),o.jsx("option",{value:"Beginner",children:"Beginner"}),o.jsx("option",{value:"Intermediate",children:"Intermediate"}),o.jsx("option",{value:"Advanced",children:"Advanced"})]})]}),o.jsxs(Ue.Group,{className:"mb-3",children:[o.jsx(Ue.Label,{children:"Category (optional)"}),o.jsxs("div",{className:"d-flex",children:[o.jsxs(Ue.Select,{value:At.category,onChange:ue=>$t({...At,category:ue.target.value}),style:{flex:1},children:[o.jsx("option",{value:"",children:"None"}),$i.map(ue=>o.jsx("option",{value:ue.id,children:ue.title},ue.id))]}),o.jsx(Dt,{variant:"outline-primary",className:"ms-2",onClick:()=>xt(!0),children:"Add Category"})]})]}),Ne&&o.jsxs(Ue.Group,{className:"mb-3",children:[o.jsx(Ue.Label,{children:"New Category"}),o.jsxs("div",{className:"d-flex",children:[o.jsx(Ue.Control,{type:"text",value:me,onChange:ue=>oe(ue.target.value),placeholder:"Category name"}),o.jsx(Dt,{variant:"success",className:"ms-2",onClick:async()=>{if(me.trim())try{const ue=await mt().post("course/category/",{title:me});bi([...$i,ue.data]),$t({...At,category:ue.data.id}),oe(""),xt(!1)}catch{nt().fire({icon:"error",title:"Failed to add category."})}},children:"Save"}),o.jsx(Dt,{variant:"outline-secondary",className:"ms-2",onClick:()=>xt(!1),children:"Cancel"})]})]}),o.jsxs(Ue.Group,{className:"mb-3",children:[o.jsx(Ue.Label,{children:"Course Image"}),o.jsx(Ue.Control,{type:"file",name:"image",accept:"image/*"})]}),o.jsxs("div",{className:"d-flex justify-content-end",children:[o.jsx(Dt,{variant:"secondary",className:"me-2",onClick:()=>{ae(!1),$t({title:"",price:"",level:"",category:""})},children:"Cancel"}),o.jsx(Dt,{variant:"primary",type:"submit",children:At.id?"Update":"Create"})]})]})})]}),n?o.jsx("div",{className:"text-center py-5",children:o.jsx(Hr,{animation:"border",role:"status",children:o.jsx("span",{className:"visually-hidden",children:"Loading... "})})}):As().length===0?o.jsxs("div",{className:"text-center py-5",children:[o.jsx("p",{children:"No courses found."}),o.jsxs(Dt,{variant:"primary",onClick:_o,children:[o.jsx("i",{className:"fas fa-plus me-2"})," Create Your First Course"]})]}):o.jsx(Ss,{children:As().map(ue=>o.jsx(Tn,{md:6,lg:4,xl:3,className:"mb-4",children:o.jsxs(Lt,{className:`h-100 ${Pe?"bg-dark text-white":""}`,onClick:()=>xe(`/teacher/courses/${ue.id}`),style:{cursor:"pointer"},children:[o.jsx("div",{className:"position-relative",children:o.jsxs("div",{className:"course-image",style:{height:"180px",backgroundColor:"#fffff",display:"flex",justifyContent:"center",alignItems:"center"},children:[ue.image?o.jsx("img",{src:ue.image,alt:"course",style:{width:"100%",height:"100%",objectFit:"cover"}}):o.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#4286f4",color:"white",fontSize:"32px",fontWeight:"bold"},children:ue.title&&typeof ue.title=="string"?ue.title.charAt(0).toUpperCase():"?"}),o.jsx("div",{style:{position:"absolute",top:"10px",right:"10px"},children:o.jsx(Zn,{bg:ue.platform_status==="Published"?"success":"secondary",children:ue.platform_status||"Draft"})})]})}),o.jsxs(Lt.Body,{className:"d-flex flex-column",children:[o.jsx(Lt.Title,{className:"text-truncate",children:ue.title}),o.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[o.jsx(Zn,{bg:"info",children:ue.level}),o.jsx("small",{children:Bt(ue.date).format("MMM D, YYYY")})]}),o.jsxs("div",{className:"d-flex justify-content-between align-items-center mt-auto",children:[o.jsxs("span",{className:"fw-bold",children:["R",parseFloat(ue.price||0).toFixed(2)]}),o.jsxs("div",{className:"d-flex gap-2",children:[o.jsx(Dt,{variant:"outline-primary",size:"sm",style:{width:38,height:38,display:"flex",alignItems:"center",justifyContent:"center"},onClick:Fe=>{Fe.stopPropagation(),ma(ue)},children:o.jsx("i",{className:"fas fa-edit"})}),o.jsx(Dt,{size:"sm",variant:Pe?"dark":"light",style:{width:38,height:38,display:"flex",alignItems:"center",justifyContent:"center"},onClick:async Fe=>{Fe.stopPropagation(),await Ns(ue)},children:o.jsx("i",{className:"fas fa-external-link-alt"})}),o.jsx(Dt,{variant:"outline-danger",size:"sm",style:{width:38,height:38,display:"flex",alignItems:"center",justifyContent:"center"},onClick:Fe=>{Fe.stopPropagation(),Eo(ue.id)},children:o.jsx("i",{className:"fas fa-trash"})})]})]})]})]})},ue.id))})]})]}),c&&h&&o.jsxs("div",{className:`lecture-popup ${Pe?"dark":""}`,style:{position:"fixed",top:"60px",left:a?"80px":"270px",width:`calc(100% - ${a?"80px":"270px"})`,height:"calc(100vh - 60px)",backgroundColor:"#fff",color:Pe?"#e0e0e0":"inherit",zIndex:1e3,display:"flex",overflow:"hidden",transition:"left 0.3s ease, width 0.3s ease"},children:[o.jsxs("div",{style:{flex:2,display:"flex",flexDirection:"column",height:"100%",overflow:"hidden",borderRight:Pe?"1px solid #333":"1px solid #ddd"},children:[o.jsx("div",{ref:qr,style:{width:"100%",height:"60%",backgroundColor:"#000",position:"relative",overflow:"hidden"},children:se&&o.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.7)",zIndex:10},children:o.jsx("div",{className:"spinner-border text-light",role:"status",children:o.jsx("span",{className:"visually-hidden",children:"Loading..."})})})}),o.jsxs("div",{style:{display:"flex",borderBottom:Pe?"1px solid #333":"1px solid #ddd",backgroundColor:Pe?"#1e1e1e":"#f8f8f8",flexShrink:0},children:[o.jsx("div",{onClick:()=>Ee("description"),style:{padding:"10px 20px",cursor:"pointer",fontWeight:De==="description"?"bold":"normal",color:Pe?"#e0e0e0":"inherit"},children:"Description"}),o.jsx("div",{onClick:()=>Ee("resources"),style:{padding:"10px 20px",cursor:"pointer",fontWeight:De==="resources"?"bold":"normal",color:Pe?"#e0e0e0":"inherit"},children:"Resources"})]}),o.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"20px",backgroundColor:Pe?"#121212":"#fff",color:Pe?"#e0e0e0":"inherit"},children:[De==="description"&&b&&o.jsxs("div",{children:[o.jsx("h4",{children:b.title||"Lecture Title"}),o.jsx("p",{children:b.description||"Lecture description goes here..."})]}),De==="resources"&&o.jsxs("div",{children:[o.jsxs("div",{className:"d-flex justify-content-between align-items-center",style:{marginBottom:16},children:[o.jsx("h4",{style:{margin:0},children:"Resources"}),o.jsxs(Dt,{size:"sm",variant:"primary",onClick:()=>Ze(!0),children:[o.jsx(Nd,{})," Add Resource"]})]}),rt?o.jsx("div",{className:"d-flex justify-content-center my-4",children:o.jsx("div",{className:"spinner-border text-primary",role:"status",children:o.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):Be.length>0?o.jsx("div",{className:"list-group mt-3",children:Be.map(ue=>{var Fe;return o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 16px",marginBottom:"8px",borderRadius:"4px",cursor:"pointer",backgroundColor:Pe?"#2a2a2a":"#fff",border:Pe?"1px solid #333":"1px solid #ddd",color:Pe?"#e0e0e0":"inherit",transition:"background-color 0.2s ease"},className:"list-group-item-action",children:[o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("i",{className:`fas fa-${Je(ue.file_type)} me-3 text-primary`}),o.jsxs("div",{children:[o.jsx("h6",{className:"mb-0",style:{color:Pe?"#fff":"inherit"},children:ue.title}),o.jsxs("small",{style:{color:Pe?"#aaa":"#6c757d"},children:[((Fe=ue.file_type)==null?void 0:Fe.toUpperCase())||"Unknown"," • ",qe(ue.file_size)]})]})]}),o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx(Dt,{size:"sm",variant:"light",style:{marginLeft:8,color:"#fff",background:"#4285f4",border:"1px solid #fff"},onClick:Ge=>{Ge.stopPropagation(),yt(ue),Ie(!0)},children:o.jsx(fv,{})}),o.jsx(Dt,{size:"sm",variant:"danger",style:{marginLeft:8,color:"#fff",background:"#dc3545",border:"1px solid #fff"},onClick:async Ge=>{if(Ge.stopPropagation(),window.confirm("Are you sure you want to delete this resource?"))try{await mt().delete(`resources/${ue.id}/`),nt().fire({icon:"success",title:"Resource deleted"}),So(h.id,b.id)}catch{nt().fire({icon:"error",title:"Failed to delete resource."})}},children:o.jsx(zf,{})})]})]},ue.id)})}):b?o.jsxs("div",{className:"alert mt-3",style:{backgroundColor:Pe?"#2a3f54":"#cff4fc",color:Pe?"#8fcaff":"#055160",borderColor:Pe?"#1f3146":"#b6effb"},children:[o.jsx("i",{className:"fas fa-info-circle me-2"}),"No resources available for this lecture."]}):o.jsx("p",{style:{color:Pe?"#aaa":"#6c757d"},className:"mt-3",children:"Select a lecture to view its resources."})]}),!b&&De==="description"&&o.jsx("p",{children:"Select a lecture to view its description."})]})]}),o.jsxs("div",{style:{width:"400px",backgroundColor:Pe?"#121212":"#fff",color:Pe?"#e0e0e0":"inherit",display:"flex",flexDirection:"column",height:"100%",position:"relative"},children:[o.jsxs("div",{style:{padding:"15px 20px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("div",{style:{fontWeight:"bold",fontSize:"18px"},children:h.title}),o.jsxs(Dt,{size:"sm",variant:"primary",onClick:bn,children:[o.jsx(Nd,{})," Add Lecture"]}),o.jsx("button",{onClick:Bi,style:{background:"none",border:"none",fontSize:"18px",fontWeight:"bold",cursor:"pointer",color:"#666",marginLeft:8},children:"×"})]}),o.jsx(Vf,{onDragEnd:fc,children:o.jsx(Jl,{droppableId:"lectures-droppable",children:ue=>o.jsxs("ul",{ref:ue.innerRef,...ue.droppableProps,style:{listStyle:"none",padding:"10px 0",margin:0,minHeight:60},children:[m.map((Fe,Ge)=>{const bt=(b==null?void 0:b.id)===Fe.id;return o.jsx(Zl,{draggableId:Fe.id.toString(),index:Ge,children:Ct=>o.jsxs("li",{ref:Ct.innerRef,...Ct.draggableProps,style:{...Ct.draggableProps.style,cursor:"pointer",padding:"12px 20px",backgroundColor:bt?"#4285f4":Pe?"#121212":"transparent",color:bt?"rgb(255, 255, 255)":Pe?"#e0e0e0":"#333",borderBottom:Pe?"1px solid #333":"1px solid #ddd",display:"flex",alignItems:"center",borderRadius:bt?"5px":"0",margin:bt?"0 5px":"0",transition:"all 0.2s ease"},onClick:()=>yi(Fe),children:[o.jsx("span",{...Ct.dragHandleProps,style:{marginRight:10,cursor:"grab"},children:o.jsx(fN,{size:18})}),o.jsx("span",{style:{fontSize:"14px",flex:1},children:Fe.title}),bt&&o.jsxs(o.Fragment,{children:[o.jsx(Dt,{size:"sm",variant:"light",style:{marginLeft:8,color:"#fff",background:"#4285f4",border:"1px solid #fff"},onClick:Tt=>{Tt.stopPropagation(),qn(Fe)},children:o.jsx(fv,{})}),o.jsx(Dt,{size:"sm",variant:"danger",style:{marginLeft:8,color:"#fff",background:"#dc3545",border:"1px solid #fff"},onClick:async Tt=>{if(Tt.stopPropagation(),window.confirm("Are you sure you want to delete this lecture?"))try{await mt().delete(`/teacher/lecture/${Fe.id}/`),nt().fire({icon:"success",title:"Lecture deleted"}),ns(h.id),y(null)}catch{nt().fire({icon:"error",title:"Failed to delete lecture."})}},children:o.jsx(zf,{})})]})]})},Fe.id)}),ue.placeholder]})})}),m.length===0&&o.jsxs("div",{style:{padding:24,textAlign:"center"},children:[o.jsx("p",{children:"No lectures yet for this course."}),o.jsxs(Dt,{variant:"primary",onClick:bn,children:[o.jsx(Nd,{})," Add Lecture"]})]})]})]}),o.jsxs(vt,{show:ze,onHide:()=>Le(!1),centered:!0,backdrop:"static",children:[o.jsx(vt.Header,{closeButton:!0,children:o.jsx(vt.Title,{children:He?"Edit Lecture":"Add Lecture"})}),o.jsx(vt.Body,{children:o.jsxs(Ue,{onSubmit:async ue=>{ue.preventDefault();const Fe=new FormData;Fe.append("title",ue.target.title.value),Fe.append("description",ue.target.description.value),ue.target.video.files[0]&&Fe.append("video",ue.target.video.files[0]);try{He?await mt().put(`/teacher/lecture/${He.id}/`,Fe,{headers:{"Content-Type":"multipart/form-data"}}):await mt().post(`/teacher/course/${h.id}/lecture-create/`,Fe,{headers:{"Content-Type":"multipart/form-data"}}),Le(!1),ns(h.id)}catch{nt().fire({icon:"error",title:He?"Failed to save lecture.":"Failed to add lecture."})}},children:[o.jsxs(Ue.Group,{className:"mb-3",children:[o.jsx(Ue.Label,{children:"Lecture Title"}),o.jsx(Ue.Control,{type:"text",defaultValue:(He==null?void 0:He.title)||"",name:"title",required:!0})]}),o.jsxs(Ue.Group,{className:"mb-3",children:[o.jsx(Ue.Label,{children:"Description"}),o.jsx(Ue.Control,{as:"textarea",rows:3,defaultValue:(He==null?void 0:He.description)||"",name:"description"})]}),o.jsxs(Ue.Group,{className:"mb-3",children:[o.jsx(Ue.Label,{children:"Video File"}),o.jsx(Ue.Control,{type:"file",accept:"video/*",name:"video"}),(He==null?void 0:He.video)&&o.jsxs("div",{className:"mt-2",style:{fontSize:"0.95em"},children:[o.jsx("strong",{children:"Current Video:"})," ",He.video.split("/").pop()]})]}),o.jsxs("div",{className:"d-flex justify-content-end",children:[o.jsx(Dt,{variant:"secondary",className:"me-2",onClick:()=>Le(!1),children:"Cancel"}),o.jsx(Dt,{variant:"primary",type:"submit",children:He?"Save":"Add"})]})]})})]}),o.jsxs(vt,{show:Ye||ie,onHide:()=>{Ze(!1),Ie(!1),yt(null)},centered:!0,backdrop:"static",children:[o.jsx(vt.Header,{closeButton:!0,children:o.jsx(vt.Title,{children:We?"Edit Resource":"Add Resource"})}),o.jsx(vt.Body,{children:o.jsxs(Ue,{onSubmit:async ue=>{ue.preventDefault();const Fe=new FormData;Fe.append("title",ue.target.title.value),ue.target.resource_file.files[0]&&Fe.append("file",ue.target.resource_file.files[0]);try{We?await mt().put(`teacher/course/${h.id}/${b.id}/resources/${We.id}/`,Fe,{headers:{"Content-Type":"multipart/form-data"}}):await mt().post(`teacher/course/${h.id}/${b.id}/resources/${We.id}/`,Fe,{headers:{"Content-Type":"multipart/form-data"}}),Ze(!1),Ie(!1),yt(null),So(h.id,b.id)}catch{nt().fire({icon:"error",title:We?"Failed to update resource.":"Failed to add resource."})}},children:[o.jsxs(Ue.Group,{className:"mb-3",children:[o.jsx(Ue.Label,{children:"Resource Name"}),o.jsx(Ue.Control,{type:"text",name:"title",defaultValue:(We==null?void 0:We.title)||"",required:!0})]}),o.jsxs(Ue.Group,{className:"mb-3",children:[o.jsx(Ue.Label,{children:"Resource File"}),o.jsx(Ue.Control,{type:"file",name:"resource_file"}),(We==null?void 0:We.file_url)&&o.jsxs("div",{className:"mt-2",style:{fontSize:"0.95em"},children:[o.jsx("strong",{children:"Current File:"})," ",o.jsx("a",{href:We.file_url,target:"_blank",rel:"noopener noreferrer",children:We.file_url.split("/").pop()})]})]}),o.jsxs("div",{className:"d-flex justify-content-end",children:[o.jsx(Dt,{variant:"secondary",className:"me-2",onClick:()=>{Ze(!1),Ie(!1),yt(null)},children:"Cancel"}),o.jsx(Dt,{variant:"primary",type:"submit",children:We?"Save":"Add"})]})]})})]}),o.jsx("style",{children:`
.video-js.vjs-youtube-style .vjs-volume-panel {
  display: flex;
  align-items: center;
  margin-right: 0;
}

.video-js.vjs-youtube-style .vjs-volume-control {
  width: 0;
  transition: width 0.2s;
  height: 100%;
  backgroundcolor: rgba(0, 0, 0, 0)!important;
}

.video-js.vjs-youtube-style .vjs-volume-panel:hover .vjs-volume-control,
.video-js.vjs-youtube-style .vjs-volume-panel:focus .vjs-volume-control,
.video-js.vjs-youtube-style .vjs-volume-panel.vjs-hover .vjs-volume-control {
  visibility: visible;
  opacity: 1;
  width: 50px;
  height: 100%;
  backgroundcolor: rgba(0, 0, 0, 0)!important;
}

.video-js.vjs-youtube-style .vjs-volume-level {
  background-color: white;
  height: 100%;
}

.video-js.vjs-youtube-style .vjs-volume-panel {
  display: flex;
  align-items: center;
  margin-right: 0;
}

.video-js.vjs-youtube-style .vjs-volume-control {
  width: 0;
  transition: width 0.2s;
  height: 100%;
  display: flex;
  align-items: center;
  margin-top:0.7px; 
}

.video-js.vjs-youtube-style .vjs-volume-bar {
  margin: 0 auto;
  height: 3px;
}

.video-js.vjs-youtube-style .vjs-volume-panel:hover .vjs-volume-control,
.video-js.vjs-youtube-style .vjs-volume-panel:focus .vjs-volume-control,
.video-js.vjs-youtube-style .vjs-volume-panel.vjs-hover .vjs-volume-control {
  visibility: visible;
  opacity: 1;
  width: 50px;
  height: 100%;
}  .dark-mode .modal-content {
    background-color: #222 !important;
    color: #fff !important;
  }
  .dark-mode .modal-content .form-control,
  .dark-mode .modal-content .form-select,
  .dark-mode .modal-content input,
  .dark-mode .modal-content textarea,
  .dark-mode .modal-content select {
    background-color: #fff !important;
    color: #222 !important;
    border-color: #bbb !important;
  }

.swal2-container, /* For SweetAlert2 */
.toast-container, /* For react-toastify */
#toast-container, /* For some other libraries */
.custom-toast-container { /* For your own Toast */
  z-index: 3000 !important;
}
`})]})}const Fke=[{label:"Courses",icon:o.jsx("i",{className:"bi bi-book"}),path:"/teacher/courses"},{label:"Quizzes",icon:o.jsx("i",{className:"bi bi-question-circle"}),path:"/teacher/quiz"},{label:"Home",icon:o.jsx("i",{className:"bi bi-house"}),path:"/teacher/dashboard"},{label:"Messages",icon:o.jsx("i",{className:"bi bi-chat-dots"}),path:"/teacher/messages"}],Bke=t=>{xn.remove("access_token"),xn.remove("refresh_token"),t("/")},$ke=[{label:"Assignments",icon:o.jsx("i",{className:"bi bi-pencil"}),path:"/teacher/assignments"},{label:"Settings",icon:o.jsx("i",{className:"bi bi-gear"}),path:"/teacher/settings"},{label:"Logout",icon:o.jsx("i",{className:"bi bi-box-arrow-right"}),action:"logout"}];function zke(){const t=go(),e=fr(),[n,r]=_.useState(!1),s=_.useRef();_.useEffect(()=>{function a(l){n&&s.current&&!s.current.contains(l.target)&&r(!1)}return n&&document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[n]);const i=(a,l="mobile-nav-btn",c=!0)=>a.map(u=>{const h=t.pathname.startsWith(u.path);return o.jsxs("button",{onClick:()=>{u.action==="logout"?Bke(e):u.path&&(c&&r(!1),e(u.path))},className:`${l}${h?" active":""}`,"aria-label":u.label,type:"button",children:[o.jsx("span",{className:"mobile-nav-icon",children:u.icon}),o.jsx("span",{className:"mobile-nav-label",children:u.label})]},u.path||u.label)});return o.jsxs(o.Fragment,{children:[o.jsx("nav",{className:"mobile-nav-bar",children:o.jsxs("div",{className:"mobile-nav-scroll",children:[i(Fke),o.jsxs("button",{className:`mobile-nav-btn${n?" active":""}`,"aria-label":"More",type:"button",onClick:()=>r(!0),children:[o.jsx("span",{className:"mobile-nav-icon",children:o.jsx("i",{className:"bi bi-three-dots"})}),o.jsx("span",{className:"mobile-nav-label",children:"More"})]})]})}),o.jsx("div",{ref:s,className:`mobile-nav-slide-menu${n?" open":""}`,children:o.jsxs("div",{className:"mobile-nav-slide-content",children:[i($ke,"mobile-nav-btn",!0),o.jsxs("button",{className:"mobile-nav-btn","aria-label":"Back",type:"button",onClick:()=>r(!1),children:[o.jsx("span",{className:"mobile-nav-icon",children:o.jsx("i",{className:"bi bi-chevron-left"})}),o.jsx("span",{className:"mobile-nav-label",children:"Back"})]})]})}),o.jsx("style",{children:`
        .mobile-nav-bar {
          position: fixed;
          left: 0;
          bottom: 0;
          width: 100vw;
          height: 64px;
          background: #232323;
          border-top: 1.5px solid #23272f;
          display: flex;
          justify-content: center;
          align-items: center;
          z-index: 2000;
          box-shadow: 0 -2px 16px rgba(0,0,0,0.10);
          border-radius: 18px 18px 0 0;
          padding: 0;
          overflow: hidden;
        }
        .mobile-nav-scroll {
          display: flex;
          flex-direction: row;
          width: 100vw;
          height: 100%;
          justify-content: space-evenly;
        }
        .mobile-nav-btn {
          background: none!important;
          border: none;
          outline: none;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          color: #bdbdbd;
          font-size: 13px;
          font-weight: 500;
          min-width: 64px;
          height: 100%;
          transition: color 0.18s;
          position: relative;
          cursor: pointer;
          padding: 0 12px;
          border-radius: 10px;
        }
        .mobile-nav-btn.active {
          color: #4F8CFF;
          font-weight: 700;
        }
        .mobile-nav-btn.active .mobile-nav-icon {
          color: #4F8CFF;
        }
        .mobile-nav-btn:active {
          background: #232323;
        }
        .mobile-nav-icon {
          font-size: 20px;
          margin-bottom: 2px;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: color 0.18s;
        }
        .mobile-nav-label {
          font-size: 11px;
          margin-top: 1px;
          letter-spacing: 0.1em;
        }
        /* Slide-in More Menu */
        .mobile-nav-slide-menu {
          position: fixed;
          right: 0;
          bottom: 0;
          width: 100vw;
          height: 64px;
          background: #232323;
          border-top: 1.5px solid #23272f;
          border-radius: 18px 18px 0 0;
          z-index: 2101;
          display: flex;
          align-items: center;
          pointer-events: none;
          transform: translateX(100%);
          transition: transform 0.35s cubic-bezier(.77,0,.18,1);
          overflow: hidden;
        }
        .mobile-nav-slide-menu.open {
          transform: translateX(0%);
          pointer-events: auto;
        }
        .mobile-nav-slide-content {
          display: flex;
          flex-direction: row;
          width: 100vw;
          height: 100%;
          justify-content: space-evenly;
          align-items: center;
        }
        /* Overlay removed */
        @media (min-width: 700px) {
          .mobile-nav-bar, .mobile-nav-slide-menu {
            display: none !important;
          }
        }
      `})]})}const oi="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTYgMjU2Ij48Y2lyY2xlIGN4PSIxMjgiIGN5PSIxMjgiIHI9IjEyMCIgZmlsbD0iI2U5ZWNlZiIvPjxjaXJjbGUgY3g9IjEyOCIgY3k9IjExMCIgcj0iNDAiIGZpbGw9IiM2Yzc1N2QiLz48cGF0aCBkPSJNMjE0LDIxMEE5MCw5MCwwLDAsMSwxMjgsMTcwYTkwLDkwLDAsMCwxLTg2LDQwYTkwLDkwLDAsMCwwLDg2LDQwQTkwLDkwLDAsMCwwLDIxNCwyMTBaIiBmaWxsPSIjNmM3NTdkIi8+PC9zdmc+",Uke=()=>{var ct,tt,He,gt;const[t,e]=_.useState([]),[n,r]=_.useState(null),[s,i]=_.useState([]),[a,l]=_.useState(""),[c,u]=_.useState(!1),[h,f]=_.useState(!1),[m,g]=_.useState([]),[b,y]=_.useState(""),x=_.useRef(null),w=mt(),C=fr(),[k,A]=_.useState(!1),N=_.useRef(null),[P,M]=_.useState(null),[L,D]=_.useState(!0),[S,z]=_.useState(!1),[O,U]=_.useState(!1),[j,V]=_.useState(Zt.createRef()),[K,te]=_.useState(Zt.createRef()),[J,X]=_.useState(Zt.createRef()),[Y,F]=_.useState(null),[H,de]=_.useState(null),ee=20*1024*1024,[fe,ve]=_.useState(window.innerWidth<700),[Ce,De]=_.useState(!1),Ee=()=>{D(!L)},Be=async()=>{try{u(!0);const Ie=(await w.get("/conversations/")).data.map(We=>(We.other_participant||(We.other_participant={}),We));e(Ie)}catch{nt().fire({icon:"error",title:"Failed to load conversations"})}finally{u(!1)}},Ve=async()=>{try{const ie=await w.get("/users/profiles/");g(ie.data)}catch{nt().fire({icon:"error",title:"Failed to load users"})}},rt=async()=>{var ie;try{const Ie=(ie=zt())==null?void 0:ie.user_id;if(!Ie)return;const We=await w.get(`/user/profile/${Ie}/`);M(We.data)}catch(Ie){Ie.response&&Ie.response.status===401&&C("/")}},it=ie=>{r(ie),Ae(ie.id),fe&&De(!0)},G=()=>{fe&&De(!1)},Ae=async ie=>{if(ie)try{u(!0);const Ie=await w.get(`/conversations/${ie}/`);i(Ie.data.messages||[]),e(We=>We.map(yt=>yt.id===ie?{...yt,unread_count:0}:yt))}catch{nt().fire({icon:"error",title:"Failed to load messages"})}finally{u(!1)}},be=async ie=>{if(n)try{await w.post("/typing-status/",{conversation_id:n.id,is_typing:ie})}catch{}},re=()=>{k||(A(!0),be(!0)),N.current&&clearTimeout(N.current),N.current=setTimeout(()=>{A(!1),be(!1)},2e3)},ne=ie=>{const Ie=ie.target.files[0];if(Ie){if(!Ie.type.startsWith("image/")){nt().fire({icon:"error",title:"Please select an image file"});return}if(Ie.size>ee){nt().fire({icon:"error",title:"File size exceeds 20MB limit"});return}F(Ie)}},ce=ie=>{const Ie=ie.target.files[0];if(!Ie)return;if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain","application/rtf"].includes(Ie.type)){nt().fire({icon:"error",title:"Please select a valid document file (PDF, DOC, DOCX, TXT, RTF)"});return}if(Ie.size>ee){nt().fire({icon:"error",title:"File size exceeds 20MB limit"});return}F(Ie)},Te=ie=>{const Ie=ie.target.files[0];if(Ie){if(Ie.size>ee){nt().fire({icon:"error",title:"File size exceeds 20MB limit"});return}F(Ie)}},he=async ie=>{if(ie.preventDefault(),!(!a.trim()&&!Y||!n))try{A(!1),N.current&&clearTimeout(N.current),be(!1);const Ie=new FormData;Ie.append("conversation_id",n.id),a.trim()&&Ie.append("content",a),Y&&Ie.append("file",Y);const We=`temp-${Date.now()}`,yt={id:We,content:a||"",is_sender:!0,sender_name:"You",created_at:new Date().toISOString()};Y&&(Y.type.startsWith("image/")?yt.attachment=URL.createObjectURL(Y):(yt.tempAttachment=!0,yt.tempFileName=Y.name)),i(ae=>[...ae,yt]),se(n.id,a||`[File: ${(Y==null?void 0:Y.name)||"attachment"}]`);const Ye=a,Ze=Y;l(""),F(null);const Z=await w.post("/messages/",Ie,{headers:{"Content-Type":"multipart/form-data"}});i(ae=>ae.map(me=>me.id===We?Z.data:me)),Be()}catch{nt().fire({icon:"error",title:"Failed to send message"}),i(We=>We.filter(yt=>!yt.id.toString().startsWith("temp-")))}},se=(ie,Ie)=>{e(We=>We.map(yt=>yt.id===ie?{...yt,last_message:{content:Ie,timestamp:new Date().toISOString(),sender_name:"You"},updated_at:new Date().toISOString()}:yt))},ye=async ie=>{try{u(!0);const Ie=await w.post("/conversations/",{participants:[ie.user_id],message:""});e(We=>[Ie.data,...We]),r(Ie.data),Ae(Ie.data.id),f(!1),setTimeout(()=>{const We=document.getElementById("message-input");We&&We.focus()},100)}catch{nt().fire({icon:"error",title:"Failed to start conversation"})}finally{u(!1)}};_.useEffect(()=>{x.current&&(x.current.scrollTop=x.current.scrollHeight)},[s]),_.useEffect(()=>{Be(),rt()},[]),_.useEffect(()=>{const ie=setInterval(()=>{n&&Ae(n.id),Be()},5e3);return()=>clearInterval(ie)},[n]);const Pe=ie=>ie?ie.image&&!ie.image.includes("null")?ie.image.startsWith("/media/")?`${ui}${ie.image}`:ie.image.startsWith("/")?`${ui}/media${ie.image}`:ie.image:ie.profile_picture&&!ie.profile_picture.includes("null")?ie.profile_picture.startsWith("/media/")?`${ui}${ie.profile_picture}`:ie.profile_picture.startsWith("/")?`${ui}/media${ie.profile_picture}`:ie.profile_picture:ie.profile_image&&!ie.profile_image.includes("null")?ie.profile_image.startsWith("/media/")?`${ui}${ie.profile_image}`:ie.profile_image.startsWith("/")?`${ui}/media${ie.profile_image}`:ie.profile_image:oi:oi,Oe=ie=>ie?ie.name&&ie.name.trim()?ie.name:ie.full_name&&ie.full_name.trim()?ie.full_name:ie.username||"Unknown User":"Unknown User",xe=b?m.filter(ie=>{const Ie=ie.full_name||"",We=ie.username||"",yt=b.toLowerCase();return Ie.toLowerCase().includes(yt)||We.toLowerCase().includes(yt)}):m,at=()=>o.jsxs("div",{className:"d-flex align-items-center text-muted mb-2 ps-5",children:[o.jsxs("div",{className:"typing-indicator",children:[o.jsx("span",{className:"dot"}),o.jsx("span",{className:"dot"}),o.jsx("span",{className:"dot"})]}),o.jsx("span",{className:"ms-2 small",children:"typing..."})]});_.useEffect(()=>{document.querySelectorAll(".conversation-avatar").forEach(Ie=>{const We=Ie.getAttribute("data-real-src");if(We&&We!==oi){const yt=new Image;yt.onload=()=>{Ie.src=We},yt.onerror=()=>{Ie.src=oi},yt.src=We}})},[t]),_.useEffect(()=>{const ie=()=>{const We=document.body.classList.contains("dark-mode")||localStorage.getItem("appearanceSettings")&&JSON.parse(localStorage.getItem("appearanceSettings")).darkMode;z(We)};ie();const Ie=()=>{ie()};return window.addEventListener("storage",Ie),()=>{window.removeEventListener("storage",Ie)}},[]),_.useEffect(()=>{const ie=Ie=>{O&&!Ie.target.closest(".position-relative")&&U(!1)};return document.addEventListener("click",ie),()=>{document.removeEventListener("click",ie)}},[O]),_.useEffect(()=>{const ie=()=>{const Ie=window.innerWidth<700;ve(Ie),!Ie&&Ce&&De(!1)};return window.addEventListener("resize",ie),()=>window.removeEventListener("resize",ie)},[Ce]);const lt=(ie,Ie)=>{const We=ie.startsWith("http")?ie:`${Zi}${ie}`;window.open(We,"_blank")},ze=ie=>ie?ie.startsWith("http")?ie:`${Zi}${ie.startsWith("/")?"":"/"}${ie}`:"",Le=(ie,Ie)=>{const We=ie.startsWith("http")?ie:`${Zi}${ie.startsWith("/")?"":"/"}${ie}`,yt=document.createElement("a");yt.href=We,yt.download=Ie||"download",document.body.appendChild(yt),yt.click(),setTimeout(()=>{document.body.removeChild(yt)},100)};return o.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:S?"#121212":"white"},children:[!fe&&o.jsx(Su,{sidebarCollapsed:L}),o.jsxs("div",{style:{flex:1,marginLeft:fe?0:L?"80px":"270px",transition:"margin-left 0.3s ease",backgroundColor:S?"#121212":"white",color:S?"white":"black"},children:[!fe&&o.jsx(Fi,{sidebarCollapsed:L,toggleSidebar:Ee}),o.jsxs(Ld,{fluid:!0,className:fe?"p-0":"py-4",children:[o.jsx("style",{jsx:"true",children:`
            .typing-indicator {
              display: inline-flex;
              align-items: center;
            }
            .typing-indicator .dot {
              display: inline-block;
              width: 7px;
              height: 7px;
              border-radius: 50%;
              background-color: #6c757d;
              margin-right: 3px;
              animation: typing 1s infinite ease-in-out;
            }
            .typing-indicator .dot:nth-child(1) {
              animation-delay: 0s;
            }
            .typing-indicator .dot:nth-child(2) {
              animation-delay: 0.2s;
            }
            .typing-indicator .dot:nth-child(3) {
              animation-delay: 0.4s;
            }
            @keyframes typing {
              0%,
              60%,
              100% {
                transform: translateY(0);
              }
              30% {
                transform: translateY(-5px);
              }
            }

            /* iMessage styled bubbles */
            .message-bubble {
              position: relative;
              border-radius: 18px;
              padding: 8px 12px;
              width: auto; /* Auto width instead of max-width */
              margin-bottom: 0;
              white-space: pre-wrap; /* Changed from normal to pre-wrap */
              word-break: normal; /* Keep normal to prevent breaking in middle of words */
              overflow-wrap: normal; /* Changed from break-word to normal */
              display: inline-block;
              text-align: left;
              line-height: 1.4;
            }

            .sender-bubble {
              background-color: #0b84ff; /* iMessage blue */
              color: white;
              border-top-right-radius: 4px;
            }

            .receiver-bubble {
              background-color: ${S?"#2c2c2e":"#e5e5ea"};
              color: ${S?"#ffffff":"#212529"};
              border-top-left-radius: 4px;
              letter-spacing: normal;
              white-space: pre-wrap; /* Explicitly set for receiver bubbles */
              word-break: normal; /* Explicitly set for receiver bubbles */
            }

            /* Message container */
            .message-container {
              display: flex;
              flex-direction: column;
              margin-bottom: 10px;
              max-width: 75%;
              word-wrap: normal;
            }

            /* Message info row below bubble */
            .message-info {
              display: flex;
              align-items: center;
              margin-top: 2px;
              font-size: 0.7rem;
              color: ${S?"#aaaaaa":"#8e8e93"};
              padding: 0 4px;
            }

            .sender-info {
              justify-content: flex-end;
            }

            .message-time {
              margin-right: 4px;
            }
            .dark-mode .list-group-item {
              background-color: #2c2c2e !important;
              color: white !important;
            }

            .dark-mode .list-group-item.active {
              background-color: #0d6efd !important;
              border-color: #0d6efd !important;
              color: #fff !important;
            }

            .dark-mode .list-group-item:hover:not(.active) {
              background-color: #3c3c3e !important;
              color: #fff !important;
            }
            .message-status {
              display: flex;
              align-items: center;
              margin-left: 4px;
            }

            .status-pending {
              color: #8e8e93;
            }

            .status-delivered {
              color: #8e8e93;
            }

            .status-read {
              color: #0b84ff;
            }

            /* Background color for messages area */
            .messages-wrapper {
              background-color: ${S?"#1c1c1e":"#f5f5f7"};
            }

            .attachment-menu-item {
              position: absolute;
              width: 40px;
              height: 40px;
              border-radius: 50%;
              display: flex;
              align-items: center;
              justify-content: center;
              color: white;
              box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
              transform: translateY(0);
              opacity: 0;
              pointer-events: none;
              transition: all 0.3s cubic-bezier(0.18, 0.89, 0.32, 1.28);
            }

            .attachment-menu-item.show {
              opacity: 1;
              pointer-events: all;
            }

            .attachment-menu-item:nth-child(1).show {
              transform: translateY(-60px);
            }

            .attachment-menu-item:nth-child(2).show {
              transform: translateY(-110px);
            }

            .attachment-menu-item:nth-child(3).show {
              transform: translateY(-160px);
            }

            .attachment-item-label {
              position: absolute;
              background-color: rgba(0, 0, 0, 0.7);
              color: white;
              padding: 2px 8px;
              border-radius: 4px;
              font-size: 12px;
              left: 50px;
              white-space: nowrap;
              opacity: 0;
              transition: opacity 0.2s;
            }

            .attachment-menu-item:hover .attachment-item-label {
              opacity: 1;
            }

            .file-attachment-preview {
              margin-bottom: 10px;
            }

            .file-card {
              background-color: ${S?"#1c1c1e":"#eaeaea"};
              border-radius: 8px;
              padding: 10px;
              display: flex;
              align-items: center;
              margin-bottom: 8px;
              box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            }

            .file-icon {
              width: 40px;
              height: 40px;
              border-radius: 5px;
              background-color: #094d90;
              color: white;
              display: flex;
              flex-direction: column;
              justify-content: center;
              align-items: center;
              margin-right: 12px;
              position: relative;
            }

            .file-type-icon {
              font-size: 16px;
              margin-bottom: 2px;
            }

            .file-extension {
              font-size: 7px;
              text-transform: uppercase;
              font-weight: bold;
            }

            .file-details {
              flex: 1;
              overflow: hidden;
            }

            .file-name {
              font-size: 14px;
              font-weight: 500;
              white-space: nowrap;
              overflow: hidden;
              text-overflow: ellipsis;
              color: ${S?"#fff":"#000"};
            }

            .file-size {
              font-size: 12px;
              color: ${S?"#aaa":"#666"};
            }

            .image-preview {
              width: 40px;
              height: 40px;
              margin-right: 12px;
              border-radius: 5px;
              overflow: hidden;
            }

            .preview-image {
              width: 100%;
              height: 100%;
              object-fit: cover;
            }

            .remove-file-btn {
              width: 24px;
              height: 24px;
              border-radius: 50%;
              background-color: transparent;
              border: none;
              color: ${S?"#999":"#666"};
              display: flex;
              align-items: center;
              justify-content: center;
              cursor: pointer;
              padding: 0;
              margin-left: 8px;
            }

            .remove-file-btn:hover {
              background-color: ${S?"#333":"#ddd"};
            }

            .timestamp {
              font-size: 11px;
              color: ${S?"#aaa":"#999"};
              text-align: right;
              margin-top: 2px;
            }

            .message-attachment-preview {
              margin-bottom: 5px;
              max-width: 100%;
            }

            .attachment-image-container {
              width: 100%;
              overflow: hidden;
            }

            .attachment-image {
              max-width: 200px;
              height: auto;
              border-radius: 8px;
              display: block;
            }

            .file-message-card {
              display: flex;
              align-items: center;
              background-color: ${S?"#333333":"#f0f0f0"};
              border-radius: 8px;
              padding: 8px;
              margin-bottom: 5px;
            }

            .file-message-icon {
              width: 36px;
              height: 36px;
              display: flex;
              flex-direction: column;
              align-items: center;
              justify-content: center;
              background-color: #094d90;
              border-radius: 4px;
              margin-right: 8px;
              color: white;
            }

            .file-message-icon i {
              font-size: 14px;
              margin-bottom: 2px;
            }

            .file-message-ext {
              font-size: 6px;
              text-transform: uppercase;
              font-weight: bold;
            }

            .file-message-name {
              font-size: 12px;
              font-weight: 500;
              white-space: nowrap;
              overflow: hidden;
              text-overflow: ellipsis;
              max-width: 120px;
            }

            .attachment-image-container {
              position: relative;
              width: 100%;
              overflow: hidden;
              cursor: pointer;
            }

            .attachment-image-container:hover .image-overlay {
              opacity: 1;
            }

            .image-overlay {
              position: absolute;
              top: 0;
              left: 0;
              width: 100%;
              height: 100%;
              background-color: rgba(0, 0, 0, 0.5);
              display: flex;
              align-items: center;
              justify-content: center;
              opacity: 0;
              transition: opacity 0.2s;
              border-radius: 8px;
            }

            .image-overlay i {
              color: white;
              font-size: 24px;
            }

            .file-action-btn {
              width: 32px;
              height: 32px;
              border-radius: 50%;
              background-color: ${S?"#444":"#e6e6e6"};
              border: none;
              color: ${S?"#fff":"#333"};
              display: flex;
              align-items: center;
              justify-content: center;
              cursor: pointer;
              margin-left: 8px;
              transition: background-color 0.2s;
            }

            .file-action-btn:hover {
              background-color: ${S?"#666":"#ccc"};
            }

            .file-message-name {
              font-size: 12px;
              font-weight: 500;
              white-space: nowrap;
              overflow: hidden;
              text-overflow: ellipsis;
              max-width: 120px;
              margin-right: 8px;
            }
            .file-action-buttons {
              display: flex;
              margin-left: 8px;
            }
            .file-action-buttons {
              display: flex;
              margin-left: 8px;
              opacity: 0;
              transition: opacity 0.2s ease;
            }

            .file-message-card:hover .file-action-buttons {
              opacity: 1;
            }

            .file-action-btn {
              width: 32px;
              height: 32px;
              border-radius: 50%;
              background-color: ${S?"#444":"#e6e6e6"};
              border: none;
              color: ${S?"#fff":"#333"};
              display: flex;
              align-items: center;
              justify-content: center;
              cursor: pointer;
              margin-left: 4px;
              transition:
                background-color 0.2s,
                transform 0.1s;
            }

            .file-action-btn:hover {
              background-color: ${S?"#666":"#ccc"};
              transform: scale(1.1);
            }
            .message-input-container {
              width: 100%;
              margin-top: 0;
            }

            .file-attachment-preview {
              width: 100%;
              margin-bottom: 12px;
            }

            /* Make the Form use flex column layout */
            .d-flex.flex-column {
              display: flex;
              flex-direction: column;
            }
          `}),fe?o.jsx("div",{className:"h-100",children:!Ce||!n?o.jsxs(Lt,{className:"h-100 shadow-sm mb-0",style:{backgroundColor:S?"#2c2c2e":"white",borderColor:S?"#444":"#ddd",borderRadius:0},children:[o.jsxs(Lt.Header,{className:"d-flex justify-content-between align-items-center text-white py-3",style:{backgroundColor:S?"#1c1c1e":"#0d6efd"},children:[o.jsx("h5",{className:"mb-0",children:"Conversations"}),o.jsx(Dt,{variant:S?"dark":"light",size:"sm",className:"rounded-circle d-flex align-items-center justify-content-center",style:{width:"32px",height:"32px",padding:0,boxShadow:"0px 2px 4px rgba(0,0,0,0.1)"},onClick:()=>{f(!0),Ve()},children:o.jsx("i",{className:"fas fa-plus"})})]}),o.jsx(Lt.Body,{className:"p-0",style:{height:"calc(100vh - 200px)",overflowY:"auto",backgroundColor:S?"#2c2c2e":"white"},children:c&&!t.length?o.jsxs("div",{className:"text-center p-4",children:[o.jsx(Hr,{animation:"border",variant:"primary"}),o.jsx("p",{className:"mt-2 text-muted",children:"Loading conversations..."})]}):t.length===0?o.jsxs("div",{className:"text-center p-4",children:[o.jsx("i",{className:"fas fa-comments fa-2x mb-3"}),o.jsx("p",{style:{color:S?"white":"black"},children:"No conversations yet. Start a new one!"})]}):o.jsx("ul",{className:"list-group list-group-flush",children:t.map(ie=>{const Ie=ie.other_participant||{},We=(Ie==null?void 0:Ie.name)||"Unknown User",yt=ie.last_message||{};return o.jsxs("li",{className:`list-group-item list-group-item-action d-flex align-items-center p-3 ${(n==null?void 0:n.id)===ie.id?"active":""}`,onClick:()=>it(ie),style:{cursor:"pointer"},children:[o.jsxs("div",{className:"position-relative",children:[o.jsx("img",{src:Pe(Ie),alt:We,className:"rounded-circle me-3",width:"48",height:"48",style:{objectFit:"cover"},onError:Ye=>{Ye.target.onerror=null,Ye.target.src=oi}}),ie.unread_count>0&&o.jsx(Zn,{bg:"danger",pill:!0,className:"position-absolute top-0 end-0",children:ie.unread_count})]}),o.jsxs("div",{className:"flex-grow-1 overflow-hidden",children:[o.jsx("h6",{className:"mb-1 text-truncate",children:We}),yt.content?o.jsx("p",{className:"mb-0 small text-truncate text",children:yt.content}):o.jsx("p",{className:"mb-0 small text",children:"No messages yet"})]}),yt.timestamp&&o.jsx("small",{className:"text-muted ms-2",children:new Date(yt.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},ie.id)})})})]}):o.jsxs(Lt,{className:"h-100 shadow-sm",style:{backgroundColor:S?"#2c2c2e":"white",borderColor:S?"#444":"#ddd",marginBottom:"50px"},children:[o.jsxs(Lt.Header,{className:"d-flex align-items-center py-2 position-relative",style:{backgroundColor:S?"#1c1c1e":"#f8f9fa",color:S?"white":"black"},children:[o.jsx("div",{onClick:G,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:1,cursor:"pointer"}}),o.jsx("i",{className:"fas fa-chevron-left me-3",style:{fontSize:"16px",color:S?"white":"#0d6efd",zIndex:2,position:"relative"}}),o.jsxs("div",{className:"d-flex align-items-center mx-auto",style:{zIndex:2},children:[o.jsx("img",{src:Pe(n.other_participant),alt:((He=n.other_participant)==null?void 0:He.username)||"Unknown User",className:"rounded-circle me-2",width:"40",height:"40",style:{objectFit:"cover"},onError:ie=>{ie.target.onerror=null,ie.target.src=oi}}),o.jsxs("div",{children:[o.jsx("h5",{className:"mb-0",children:Oe(n.other_participant)}),((gt=n.other_participant)==null?void 0:gt.username)&&o.jsxs("small",{className:"text-muted",children:["@",n.other_participant.username]})]})]})]}),o.jsx(Lt.Body,{className:"p-3 messages-wrapper",style:{height:"calc(100vh - 220px)",overflowY:"auto"},ref:x,children:c&&!s.length?o.jsxs("div",{className:"text-center p-4",children:[o.jsx(Hr,{animation:"border",variant:"primary"}),o.jsx("p",{className:"mt-2 text-muted",children:"Loading messages..."})]}):s.length===0?o.jsxs("div",{className:"text-center p-5 text",children:[o.jsx("i",{className:"fas fa-paper-plane fa-3x mb-3"}),o.jsx("p",{children:"No messages yet. Send one to start the conversation!"})]}):o.jsxs(o.Fragment,{children:[s.map(ie=>{var Ie;return o.jsxs("div",{className:`d-flex ${ie.is_sender?"justify-content-end":"justify-content-start"} mb-2`,children:[!ie.is_sender&&o.jsx("img",{src:Pe(n.other_participant),alt:((Ie=n.other_participant)==null?void 0:Ie.username)||"Unknown User",className:"rounded-circle me-2 align-self-start",width:"32",height:"32",style:{objectFit:"cover"},onError:We=>{We.target.onerror=null,We.target.src=oi}}),o.jsxs("div",{className:`message-container ${ie.is_sender?"sender-container":"receiver-container"}`,children:[o.jsxs("div",{className:`message-bubble ${ie.is_sender?"sender-bubble":"receiver-bubble"}`,children:[ie.attachment&&o.jsx("div",{className:"message-attachment-preview mb-2",children:ie.attachment.toLowerCase().match(/\.(jpeg|jpg|png|gif|webp|bmp)$/)?o.jsxs("div",{className:"attachment-image-container",onClick:()=>de(ze(ie.attachment)),children:[o.jsx("img",{src:ze(ie.attachment),alt:"Attachment",className:"attachment-image",style:{maxWidth:"200px",borderRadius:"8px",cursor:"pointer"}}),o.jsx("div",{className:"image-overlay",children:o.jsx("i",{className:"fas fa-search-plus"})})]}):o.jsxs("div",{className:"file-message-card",children:[o.jsxs("div",{className:"file-message-icon",children:[o.jsx("i",{className:ie.attachment.toLowerCase().endsWith(".pdf")?"fas fa-file-pdf":ie.attachment.toLowerCase().match(/\.(doc|docx)$/)?"fas fa-file-word":ie.attachment.toLowerCase().match(/\.(txt|rtf)$/)?"fas fa-file-alt":"fas fa-file"}),o.jsx("span",{className:"file-message-ext",children:ie.attachment.split(".").pop().toUpperCase()})]}),o.jsx("div",{className:"file-message-name",children:ie.attachment.split("/").pop()}),o.jsxs("div",{className:"file-action-buttons",children:[o.jsx("button",{className:"file-action-btn",onClick:We=>{We.stopPropagation(),lt(ie.attachment,ie.attachment.split("/").pop())},"aria-label":"Open file",title:"Open file",children:o.jsx("i",{className:"fas fa-external-link-alt"})}),o.jsx("button",{className:"file-action-btn",onClick:We=>{We.stopPropagation(),Le(ie.attachment,ie.attachment.split("/").pop())},"aria-label":"Download file",title:"Download file",children:o.jsx("i",{className:"fas fa-download"})})]})]})}),ie.content]}),o.jsx("div",{className:`message-info ${ie.is_sender?"sender-info":""}`,children:o.jsx("span",{className:"message-time",children:ie.created_at?new Date(ie.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})})]}),ie.is_sender&&o.jsx("img",{src:Pe(P)||oi,alt:(P==null?void 0:P.username)||"You",className:"rounded-circle ms-2 align-self-start",width:"32",height:"32",style:{objectFit:"cover"},onError:We=>{We.target.onerror=null,We.target.src=oi}})]},ie.id)}),n.typing_status&&o.jsx(at,{})]})}),o.jsx(Lt.Footer,{className:"p-3",style:{backgroundColor:S?"#2c2c2e":"white",borderTop:S?"1px solid #444":"1px solid #ddd"},children:o.jsxs(Ue,{onSubmit:he,className:"d-flex flex-column",children:[Y&&o.jsx("div",{className:"file-attachment-preview",children:o.jsxs("div",{className:"file-card",children:[Y.type.startsWith("image/")?o.jsx("div",{className:"image-preview",children:o.jsx("img",{src:URL.createObjectURL(Y),alt:Y.name,className:"preview-image"})}):o.jsxs("div",{className:"file-icon",children:[o.jsx("div",{className:"file-type-icon",children:o.jsx("i",{className:Y.type.startsWith("application/pdf")?"fas fa-file-pdf":Y.name.match(/\.(doc|docx)$/i)?"fas fa-file-word":Y.name.match(/\.(txt)$/i)?"fas fa-file-alt":"fas fa-file"})}),o.jsx("div",{className:"file-extension",children:Y.name.split(".").pop().toUpperCase()})]}),o.jsxs("div",{className:"file-details",children:[o.jsx("div",{className:"file-name",children:Y.name}),o.jsx("div",{className:"file-size",children:Y.size<1024?`${Y.size} B`:Y.size<1024*1024?`${(Y.size/1024).toFixed(1)} KB`:`${(Y.size/(1024*1024)).toFixed(1)} MB`})]}),o.jsx("button",{type:"button",onClick:()=>F(null),className:"remove-file-btn",children:o.jsx("i",{className:"fas fa-times"})})]})}),o.jsxs("div",{className:"message-input-container position-relative",children:[o.jsx(Dt,{type:"button",variant:S?"dark":"primary",style:{position:"absolute",left:"5px",top:"5px",borderRadius:"50%",backgroundColor:"rgba(0,0,0,0)",borderColor:"rgba(0,0,0,0)",color:"rgb(2, 0, 125)",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",padding:0,boxShadow:"none",zIndex:2},onClick:()=>U(!O),children:o.jsx("i",{className:"fas fa-paperclip",style:{fontSize:"14px"}})}),o.jsx(Ue.Control,{id:"message-input",type:"text",value:a,onChange:ie=>{l(ie.target.value),re()},placeholder:"Type your message...","aria-label":"Type your message",style:{backgroundColor:"white",color:"black",borderColor:S?"#555":"#ced4da",borderRadius:"24px",paddingRight:"50px",paddingLeft:"50px",height:"46px"}}),o.jsx(Dt,{type:"submit",variant:S?"dark":"primary",disabled:!a.trim()&&!Y,style:{position:"absolute",right:"5px",top:"5px",zIndex:10,borderRadius:"50%",backgroundColor:"rgba(0,0,0,0)",borderColor:"rgba(0,0,0,0)",color:"rgb(2, 0, 125)",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",padding:0,boxShadow:"none"},children:o.jsx("i",{className:"fas fa-paper-plane",style:{fontSize:"14px"}})}),o.jsxs("div",{className:"attachment-menu",children:[o.jsxs("div",{className:`attachment-menu-item ${O?"show":""}`,style:{backgroundColor:"#0b84ff",bottom:"20px"},onClick:()=>{K.current&&K.current.click(),U(!1)},children:[o.jsx("i",{className:"fas fa-image"}),o.jsx("span",{className:"attachment-item-label",children:"Image"}),o.jsx("input",{type:"file",ref:K,style:{display:"none"},accept:"image/*",onChange:ne})]}),o.jsxs("div",{className:`attachment-menu-item ${O?"show":""}`,style:{backgroundColor:"#28a745",bottom:"20px"},onClick:()=>{J.current&&J.current.click(),U(!1)},children:[o.jsx("i",{className:"fas fa-file-alt"}),o.jsx("span",{className:"attachment-item-label",children:"Document"}),o.jsx("input",{type:"file",ref:J,style:{display:"none"},accept:".pdf,.doc,.docx,.txt,.rtf",onChange:ce})]}),o.jsxs("div",{className:`attachment-menu-item ${O?"show":""}`,style:{backgroundColor:"#ffc107",bottom:"20px"},onClick:()=>{j.current&&j.current.click(),U(!1)},children:[o.jsx("i",{className:"fas fa-file"}),o.jsx("span",{className:"attachment-item-label",children:"Any File"}),o.jsx("input",{type:"file",ref:j,style:{display:"none"},onChange:Te})]})]})]})]})})]})}):o.jsxs(Ss,{className:"h-100",children:[o.jsx(Tn,{md:4,lg:3,className:"mb-4",children:o.jsxs(Lt,{className:"h-100 shadow-sm",style:{backgroundColor:S?"#2c2c2e":"white",borderColor:S?"#444":"#ddd"},children:[o.jsxs(Lt.Header,{className:"d-flex justify-content-between align-items-center text-white py-3",style:{backgroundColor:S?"#1c1c1e":"#0d6efd"},children:[o.jsx("h5",{className:"mb-0",children:"Conversations"}),o.jsx(Dt,{variant:S?"dark":"light",size:"sm",className:"rounded-circle d-flex align-items-center justify-content-center",style:{width:"32px",height:"32px",padding:0,boxShadow:"0px 2px 4px rgba(0,0,0,0.1)"},onClick:()=>{f(!0),Ve()},children:o.jsx("i",{className:"fas fa-plus"})})]}),o.jsx(Lt.Body,{className:"p-0",style:{maxHeight:"70vh",overflowY:"auto",backgroundColor:S?"#2c2c2e":"white"},children:c&&!t.length?o.jsxs("div",{className:"text-center p-4",children:[o.jsx(Hr,{animation:"border",variant:"primary"}),o.jsx("p",{className:"mt-2 text-muted",children:"Loading conversations..."})]}):t.length===0?o.jsxs("div",{className:"text-center p-4",children:[o.jsx("i",{className:"fas fa-comments fa-2x mb-3"}),o.jsx("p",{style:{color:S?"white":"black"},children:"No conversations yet. Start a new one!"})]}):o.jsx("ul",{className:"list-group list-group-flush",children:t.map(ie=>{const Ie=ie.other_participant||{},We=(Ie==null?void 0:Ie.name)||"Unknown User",yt=ie.last_message||{};return o.jsxs("li",{className:`list-group-item list-group-item-action d-flex align-items-center p-3 ${(n==null?void 0:n.id)===ie.id?"active":""}`,onClick:()=>it(ie),style:{cursor:"pointer"},children:[o.jsxs("div",{className:"position-relative",children:[o.jsx("img",{src:Pe(Ie),alt:We,className:"rounded-circle me-3",width:"48",height:"48",style:{objectFit:"cover"},onError:Ye=>{Ye.target.onerror=null,Ye.target.src=oi}}),ie.unread_count>0&&o.jsx(Zn,{bg:"danger",pill:!0,className:"position-absolute top-0 end-0",children:ie.unread_count})]}),o.jsxs("div",{className:"flex-grow-1 overflow-hidden",children:[o.jsx("h6",{className:"mb-1 text-truncate",children:We}),yt.content?o.jsx("p",{className:"mb-0 small text-truncate text",children:yt.content}):o.jsx("p",{className:"mb-0 small text",children:"No messages yet"})]}),yt.timestamp&&o.jsx("small",{className:"text-muted ms-2",children:new Date(yt.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},ie.id)})})})]})}),o.jsx(Tn,{md:8,lg:9,children:o.jsx(Lt,{className:"h-100 shadow-sm",style:{backgroundColor:S?"#2c2c2e":"white",borderColor:S?"#444":"#ddd"},children:n?o.jsxs(o.Fragment,{children:[o.jsx(Lt.Header,{className:"d-flex justify-content-between align-items-center py-2",style:{backgroundColor:S?"#1c1c1e":"#f8f9fa",color:S?"white":"black"},children:o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("img",{src:Pe(n.other_participant),alt:((ct=n.other_participant)==null?void 0:ct.username)||"Unknown User",className:"rounded-circle me-2",width:"40",height:"40",style:{objectFit:"cover"},onError:ie=>{ie.target.onerror=null,ie.target.src=oi}}),o.jsxs("div",{children:[o.jsx("h5",{className:"mb-0",children:Oe(n.other_participant)}),((tt=n.other_participant)==null?void 0:tt.username)&&o.jsxs("small",{className:"text-muted",children:["@",n.other_participant.username]})]})]})}),o.jsx(Lt.Body,{className:"p-3 messages-wrapper",style:{height:"60vh",overflowY:"auto"},ref:x,children:c&&!s.length?o.jsxs("div",{className:"text-center p-4",children:[o.jsx(Hr,{animation:"border",variant:"primary"}),o.jsx("p",{className:"mt-2 text-muted",children:"Loading messages..."})]}):s.length===0?o.jsxs("div",{className:"text-center p-5 text",children:[o.jsx("i",{className:"fas fa-paper-plane fa-3x mb-3"}),o.jsx("p",{children:"No messages yet. Send one to start the conversation!"})]}):o.jsxs(o.Fragment,{children:[s.map(ie=>{var Ie;return o.jsxs("div",{className:`d-flex ${ie.is_sender?"justify-content-end":"justify-content-start"} mb-2`,children:[!ie.is_sender&&o.jsx("img",{src:Pe(n.other_participant),alt:((Ie=n.other_participant)==null?void 0:Ie.username)||"Unknown User",className:"rounded-circle me-2 align-self-start",width:"32",height:"32",style:{objectFit:"cover"},onError:We=>{We.target.onerror=null,We.target.src=oi}}),o.jsxs("div",{className:`message-container ${ie.is_sender?"sender-container":"receiver-container"}`,children:[o.jsxs("div",{className:`message-bubble ${ie.is_sender?"sender-bubble":"receiver-bubble"}`,children:[ie.attachment&&o.jsx("div",{className:"message-attachment-preview mb-2",children:ie.attachment.toLowerCase().match(/\.(jpeg|jpg|png|gif|webp|bmp)$/)?o.jsxs("div",{className:"attachment-image-container",onClick:()=>de(ze(ie.attachment)),children:[o.jsx("img",{src:ze(ie.attachment),alt:"Attachment",className:"attachment-image",style:{maxWidth:"200px",borderRadius:"8px",cursor:"pointer"}}),o.jsx("div",{className:"image-overlay",children:o.jsx("i",{className:"fas fa-search-plus"})})]}):o.jsxs("div",{className:"file-message-card",children:[o.jsxs("div",{className:"file-message-icon",children:[o.jsx("i",{className:ie.attachment.toLowerCase().endsWith(".pdf")?"fas fa-file-pdf":ie.attachment.toLowerCase().match(/\.(doc|docx)$/)?"fas fa-file-word":ie.attachment.toLowerCase().match(/\.(txt|rtf)$/)?"fas fa-file-alt":"fas fa-file"}),o.jsx("span",{className:"file-message-ext",children:ie.attachment.split(".").pop().toUpperCase()})]}),o.jsx("div",{className:"file-message-name",children:ie.attachment.split("/").pop()}),o.jsxs("div",{className:"file-action-buttons",children:[o.jsx("button",{className:"file-action-btn",onClick:We=>{We.stopPropagation(),lt(ie.attachment,ie.attachment.split("/").pop())},"aria-label":"Open file",title:"Open file",children:o.jsx("i",{className:"fas fa-external-link-alt"})}),o.jsx("button",{className:"file-action-btn",onClick:We=>{We.stopPropagation(),Le(ie.attachment,ie.attachment.split("/").pop())},"aria-label":"Download file",title:"Download file",children:o.jsx("i",{className:"fas fa-download"})})]})]})}),ie.content]}),o.jsx("div",{className:`message-info ${ie.is_sender?"sender-info":""}`,children:o.jsx("span",{className:"message-time",children:ie.created_at?new Date(ie.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})})]}),ie.is_sender&&o.jsx("img",{src:Pe(P)||oi,alt:(P==null?void 0:P.username)||"You",className:"rounded-circle ms-2 align-self-start",width:"32",height:"32",style:{objectFit:"cover"},onError:We=>{We.target.onerror=null,We.target.src=oi}})]},ie.id)}),n.typing_status&&o.jsx(at,{})]})}),o.jsx(Lt.Footer,{className:"p-3",style:{backgroundColor:S?"#2c2c2e":"white",borderTop:S?"1px solid #444":"1px solid #ddd"},children:o.jsxs(Ue,{onSubmit:he,className:"d-flex flex-column",children:[Y&&o.jsx("div",{className:"file-attachment-preview",children:o.jsxs("div",{className:"file-card",children:[Y.type.startsWith("image/")?o.jsx("div",{className:"image-preview",children:o.jsx("img",{src:URL.createObjectURL(Y),alt:Y.name,className:"preview-image"})}):o.jsxs("div",{className:"file-icon",children:[o.jsx("div",{className:"file-type-icon",children:o.jsx("i",{className:Y.type.startsWith("application/pdf")?"fas fa-file-pdf":Y.name.match(/\.(doc|docx)$/i)?"fas fa-file-word":Y.name.match(/\.(txt)$/i)?"fas fa-file-alt":"fas fa-file"})}),o.jsx("div",{className:"file-extension",children:Y.name.split(".").pop().toUpperCase()})]}),o.jsxs("div",{className:"file-details",children:[o.jsx("div",{className:"file-name",children:Y.name}),o.jsx("div",{className:"file-size",children:Y.size<1024?`${Y.size} B`:Y.size<1024*1024?`${(Y.size/1024).toFixed(1)} KB`:`${(Y.size/(1024*1024)).toFixed(1)} MB`})]}),o.jsx("button",{type:"button",onClick:()=>F(null),className:"remove-file-btn",children:o.jsx("i",{className:"fas fa-times"})})]})}),o.jsxs("div",{className:"message-input-container position-relative",children:[o.jsx(Dt,{type:"button",variant:S?"dark":"primary",style:{position:"absolute",left:"5px",top:"5px",borderRadius:"50%",backgroundColor:"rgba(0,0,0,0)",borderColor:"rgba(0,0,0,0)",color:"rgb(2, 0, 125)",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",padding:0,boxShadow:"none",zIndex:2},onClick:()=>U(!O),children:o.jsx("i",{className:"fas fa-paperclip",style:{fontSize:"14px"}})}),o.jsx(Ue.Control,{id:"message-input",type:"text",value:a,onChange:ie=>{l(ie.target.value),re()},placeholder:"Type your message...","aria-label":"Type your message",style:{backgroundColor:"white",color:"black",borderColor:S?"#555":"#ced4da",borderRadius:"24px",paddingRight:"50px",paddingLeft:"50px",height:"46px"}}),o.jsx(Dt,{type:"submit",variant:S?"dark":"primary",disabled:!a.trim()&&!Y,style:{position:"absolute",right:"5px",top:"5px",zIndex:10,borderRadius:"50%",backgroundColor:"rgba(0,0,0,0)",borderColor:"rgba(0,0,0,0)",color:"rgb(2, 0, 125)",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",padding:0,boxShadow:"none"},children:o.jsx("i",{className:"fas fa-paper-plane",style:{fontSize:"14px"}})}),o.jsxs("div",{className:"attachment-menu",children:[o.jsxs("div",{className:`attachment-menu-item ${O?"show":""}`,style:{backgroundColor:"#0b84ff",bottom:"20px"},onClick:()=>{K.current&&K.current.click(),U(!1)},children:[o.jsx("i",{className:"fas fa-image"}),o.jsx("span",{className:"attachment-item-label",children:"Image"}),o.jsx("input",{type:"file",ref:K,style:{display:"none"},accept:"image/*",onChange:ne})]}),o.jsxs("div",{className:`attachment-menu-item ${O?"show":""}`,style:{backgroundColor:"#28a745",bottom:"20px"},onClick:()=>{J.current&&J.current.click(),U(!1)},children:[o.jsx("i",{className:"fas fa-file-alt"}),o.jsx("span",{className:"attachment-item-label",children:"Document"}),o.jsx("input",{type:"file",ref:J,style:{display:"none"},accept:".pdf,.doc,.docx,.txt,.rtf",onChange:ce})]}),o.jsxs("div",{className:`attachment-menu-item ${O?"show":""}`,style:{backgroundColor:"#ffc107",bottom:"20px"},onClick:()=>{j.current&&j.current.click(),U(!1)},children:[o.jsx("i",{className:"fas fa-file"}),o.jsx("span",{className:"attachment-item-label",children:"Any File"}),o.jsx("input",{type:"file",ref:j,style:{display:"none"},onChange:Te})]})]})]})]})})]}):o.jsxs(Lt.Body,{className:"text-center p-5",style:{backgroundColor:S?"#2c2c2e":"white",color:S?"white":"black"},children:[o.jsx("i",{className:"fas fa-comments fa-4x text mb-3"}),o.jsx("p",{className:"text mb-4",children:"Select a conversation or start a new one to begin chatting."}),o.jsxs(Dt,{variant:S?"dark":"primary",onClick:()=>{f(!0),Ve()},children:[o.jsx("i",{className:"fas fa-plus me-2"}),"Start a New Conversation"]})]})})})]}),o.jsxs(vt,{show:h,onHide:()=>f(!1),size:"lg",contentClassName:S?"bg-dark text-light":"",children:[o.jsxs(vt.Header,{style:{backgroundColor:S?"#2c2c2e":"white",borderBottom:S?"1px solid #444":"1px solid #dee2e6",color:S?"white":"black",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx(vt.Title,{children:"Start New Conversation"}),o.jsx("button",{onClick:()=>f(!1),style:{background:"transparent",border:"none",fontSize:"1.2rem",padding:"0.25rem 0.5rem",cursor:"pointer",color:S?"#fff":"#212529",transition:"color 0.15s ease-in-out"},"aria-label":"Close",className:"custom-close-button",onMouseOver:ie=>ie.currentTarget.style.color=S?"#999":"#666",onMouseOut:ie=>ie.currentTarget.style.color=S?"#fff":"#212529",children:"✕"})]}),o.jsxs(vt.Body,{style:{backgroundColor:S?"#2c2c2e":"white"},children:[o.jsx(Ue.Group,{className:"mb-3",children:o.jsx(Ue.Control,{type:"text",placeholder:"Search users...",value:b,onChange:ie=>y(ie.target.value),style:{backgroundColor:S?"#3c3c3e":"white",color:S?"white":"black",borderColor:S?"#555":"#ced4da"}})}),o.jsx("div",{style:{maxHeight:"400px",overflowY:"auto"},children:xe.length>0?o.jsx("ul",{className:"list-group",children:xe.map(ie=>o.jsxs("li",{className:"list-group-item list-group-item-action d-flex align-items-center",style:{cursor:"pointer"},onClick:()=>ye(ie),children:[o.jsx("img",{src:Pe(ie),alt:ie.username||"User",className:"rounded-circle me-3",width:"48",height:"48",style:{objectFit:"cover"},onError:Ie=>{Ie.target.onerror=null,Ie.target.src=oi}}),o.jsxs("div",{children:[o.jsx("h6",{className:"mb-0",children:ie.full_name||ie.username}),o.jsxs("small",{className:"text",children:["@",ie.username]})]})]},ie.user_id))}):b?o.jsxs("p",{className:"text-center text-muted",children:['No users found matching "',b,'"']}):c?o.jsxs("div",{className:"text-center p-4",children:[o.jsx(Hr,{animation:"border",variant:"primary",size:"sm"}),o.jsx("p",{className:"mt-2 text-muted",children:"Loading users..."})]}):o.jsx("p",{className:"text-center text-muted",children:"No users available"})})]})]}),o.jsxs(vt,{show:H!==null,onHide:()=>de(null),size:"xl",centered:!0,contentClassName:S?"bg-dark":"",children:[o.jsx(vt.Header,{style:{backgroundColor:S?"#1c1c1e":"white",borderBottom:S?"1px solid #444":"1px solid #dee2e6",color:S?"white":"black"},closeButton:!0,children:o.jsx(vt.Title,{children:"Image Preview"})}),o.jsx(vt.Body,{style:{backgroundColor:S?"#2c2e":"white",padding:0,textAlign:"center"},children:H&&o.jsx("img",{src:H,alt:"Full size preview",style:{maxWidth:"100%",maxHeight:"80vh",margin:"0 auto",display:"block"}})}),o.jsxs(vt.Footer,{style:{backgroundColor:S?"#1c1c1e":"white",borderTop:S?"1px solid #444":"1px solid #dee2e6"},children:[o.jsx(Dt,{variant:"secondary",onClick:()=>de(null),children:"Close"}),o.jsx(Dt,{variant:"primary",onClick:()=>Le(H,H.split("/").pop()),children:"Download"})]})]})]})]}),fe&&o.jsx(zke,{})]})};function Hke(){const t=go();return _.useEffect(()=>{const e=t.pathname==="/",n=t.pathname==="/404"||!t.pathname.match(/^\/(student|teacher|course-detail|cart|checkout|search)/);if(e||n)document.body.classList.remove("dark-mode");else try{const r=localStorage.getItem("appearanceSettings");r&&(JSON.parse(r).darkMode?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode"))}catch{}},[t.pathname]),null}function Wke(){const t=go();return _.useEffect(()=>{li(()=>import("./dashboardRefresh-DFLwCXyI.js"),[]).then(e=>{e.checkAndRefreshDashboard(t.pathname)}).catch(e=>{console.error("Error loading dashboard refresh utility:",e)})},[t.pathname]),null}function Vke(){const[t,e]=_.useState(0),[n,r]=_.useState([]),[s,i]=_.useState(!1),a=u=>{const h=window.location.pathname==="/",f=window.location.pathname==="/404"||document.title.includes("404")||document.body.classList.contains("not-found-page");document.body.classList.remove("dark-mode","high-contrast"),u.dark_mode&&!h&&!f&&document.body.classList.add("dark-mode"),u.high_contrast&&!h&&!f&&document.body.classList.add("high-contrast"),document.documentElement.style.fontSize=`${u.font_size||16}px`,document.body.setAttribute("data-theme",u.color_theme||"default"),document.body.setAttribute("data-density",u.density||"comfortable"),localStorage.setItem("appearanceSettings",JSON.stringify({darkMode:u.dark_mode,fontSize:u.font_size||16,highContrast:u.high_contrast,colorTheme:u.color_theme||"default",density:u.density||"comfortable"}))},l=async()=>{try{const u=zt();if(u&&u.user_id){const f=await mt().get("user/appearance-settings/");if(f.data){a(f.data),i(!0);return}}}catch{}try{const u=localStorage.getItem("appearanceSettings");if(u){const h=JSON.parse(u);a({dark_mode:h.darkMode,font_size:h.fontSize,high_contrast:h.highContrast,color_theme:h.colorTheme,density:h.density})}}catch{}i(!0)};_.useEffect(()=>{l(),Gi.get(`course/cart-list/${lo()}/`).then(h=>{var f;e((f=h.data)==null?void 0:f.length)}).catch(h=>{});const u=zt();u&&u.user_id&&mt().get(`user/profile/${u.user_id}/`).then(h=>{r(h.data)}).catch(h=>{})},[]);const c=()=>{const u=xn.get("access_token");u&&Bv(u)&&wG()};return BH({timeout:1e3*60*15,onIdle:c,debounce:500}),o.jsx(Ug.Provider,{value:[t,e],children:o.jsx(Hg.Provider,{value:[n,r],children:o.jsx(yH,{children:o.jsxs(_G,{children:[o.jsx(CG,{}),o.jsx(SG,{}),o.jsx(TG,{}),o.jsx(xke,{}),o.jsx(vke,{}),o.jsx(Hke,{}),o.jsx(Wke,{}),o.jsx("div",{style:{position:"relative",userSelect:"none",overflow:"hidden"},children:o.jsxs(hH,{children:[o.jsx(nr,{path:"/",element:o.jsx(MG,{})}),o.jsx(nr,{path:"/course-detail/:slug/",element:o.jsx(RZ,{})}),o.jsx(nr,{path:"/cart/",element:o.jsx(LZ,{})}),o.jsx(nr,{path:"/checkout/:order_oid/",element:o.jsx(FZ,{})}),o.jsx(nr,{path:"/payment-success/:order_oid/",element:o.jsx(BZ,{})}),o.jsx(nr,{path:"/search/",element:o.jsx(VZ,{})}),o.jsx(nr,{path:"/student/dashboard/",element:o.jsx(ode,{})}),o.jsx(nr,{path:"/student/secure-test/:assignmentId/",element:o.jsx(rke,{})}),o.jsx(nr,{path:"/student/courses/",element:o.jsx(Y_e,{})}),o.jsx(nr,{path:"/student/assignments/",element:o.jsx(nke,{})}),o.jsx(nr,{path:"/student/courses/:enrollment_id/",element:o.jsx(o2e,{})}),o.jsx(nr,{path:"/student/wishlist/",element:o.jsx(l2e,{})}),o.jsx(nr,{path:"/student/Settings/",element:o.jsx(c2e,{})}),o.jsx(nr,{path:"/student/certificates/",element:o.jsx(d2e,{})}),o.jsx(nr,{path:"/student/quiz/",element:o.jsx(h2e,{})}),o.jsx(nr,{path:"/student/messages/",element:o.jsx(MSe,{})}),o.jsx(nr,{path:"/teacher/dashboard",element:o.jsx(bke,{})}),o.jsx(nr,{path:"/teacher/Settings/",element:o.jsx(wke,{})}),o.jsx(nr,{path:"/teacher/assignment/editor/:assignmentId/",element:o.jsx(eM,{})}),o.jsx(nr,{path:"/teacher/assignment/editor/",element:o.jsx(eM,{})}),o.jsx(nr,{path:"/teacher/assignments/",element:o.jsx(Oke,{})}),o.jsx(nr,{path:"/teacher/quiz/editor/:quizId/",element:o.jsx(rM,{})}),o.jsx(nr,{path:"/teacher/quiz/editor/",element:o.jsx(rM,{})}),o.jsx(nr,{path:"/teacher/quiz/",element:o.jsx(Rke,{})}),o.jsx(nr,{path:"/teacher/courses",element:o.jsx(iM,{})}),o.jsx(nr,{path:"/teacher/courses/:teacherId/",element:o.jsx(iM,{})}),o.jsx(nr,{path:"/teacher/messages",element:o.jsx(Uke,{})}),o.jsx(nr,{path:"*",element:o.jsx(Ike,{})})]})})]})})})})}EU.createRoot(document.getElementById("root")).render(o.jsx(Zt.StrictMode,{children:o.jsx(Vke,{})}));export{li as _,J1 as a,K_e as b,Jr as g,Wa as r};
