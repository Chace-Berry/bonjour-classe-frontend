var e9=Object.defineProperty;var t9=(t,e,n)=>e in t?e9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ht=(t,e,n)=>(t9(t,typeof e!="symbol"?e+"":e,n),n);function n9(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var So=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function qP(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var y_={exports:{}},cm={},b_={exports:{}},Mn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eN;function r9(){if(eN)return Mn;eN=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;function m(F){return F===null||typeof F!="object"?null:(F=f&&F[f]||F["@@iterator"],typeof F=="function"?F:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,y={};function x(F,W,me){this.props=F,this.context=W,this.refs=y,this.updater=me||g}x.prototype.isReactComponent={},x.prototype.setState=function(F,W){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,W,"setState")},x.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function _(){}_.prototype=x.prototype;function S(F,W,me){this.props=F,this.context=W,this.refs=y,this.updater=me||g}var T=S.prototype=new _;T.constructor=S,b(T,x.prototype),T.isPureReactComponent=!0;var D=Array.isArray,j=Object.prototype.hasOwnProperty,A={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function L(F,W,me){var ne,ge={},we=null,je=null;if(W!=null)for(ne in W.ref!==void 0&&(je=W.ref),W.key!==void 0&&(we=""+W.key),W)j.call(W,ne)&&!O.hasOwnProperty(ne)&&(ge[ne]=W[ne]);var Re=arguments.length-2;if(Re===1)ge.children=me;else if(1<Re){for(var ke=Array(Re),We=0;We<Re;We++)ke[We]=arguments[We+2];ge.children=ke}if(F&&F.defaultProps)for(ne in Re=F.defaultProps,Re)ge[ne]===void 0&&(ge[ne]=Re[ne]);return{$$typeof:t,type:F,key:we,ref:je,props:ge,_owner:A.current}}function P(F,W){return{$$typeof:t,type:F.type,key:W,ref:F.ref,props:F.props,_owner:F._owner}}function N(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function U(F){var W={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(me){return W[me]})}var M=/\/+/g;function q(F,W){return typeof F=="object"&&F!==null&&F.key!=null?U(""+F.key):W.toString(36)}function E(F,W,me,ne,ge){var we=typeof F;(we==="undefined"||we==="boolean")&&(F=null);var je=!1;if(F===null)je=!0;else switch(we){case"string":case"number":je=!0;break;case"object":switch(F.$$typeof){case t:case e:je=!0}}if(je)return je=F,ge=ge(je),F=ne===""?"."+q(je,0):ne,D(ge)?(me="",F!=null&&(me=F.replace(M,"$&/")+"/"),E(ge,W,me,"",function(We){return We})):ge!=null&&(N(ge)&&(ge=P(ge,me+(!ge.key||je&&je.key===ge.key?"":(""+ge.key).replace(M,"$&/")+"/")+F)),W.push(ge)),1;if(je=0,ne=ne===""?".":ne+":",D(F))for(var Re=0;Re<F.length;Re++){we=F[Re];var ke=ne+q(we,Re);je+=E(we,W,me,ke,ge)}else if(ke=m(F),typeof ke=="function")for(F=ke.call(F),Re=0;!(we=F.next()).done;)we=we.value,ke=ne+q(we,Re++),je+=E(we,W,me,ke,ge);else if(we==="object")throw W=String(F),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return je}function G(F,W,me){if(F==null)return F;var ne=[],ge=0;return E(F,ne,"","",function(we){return W.call(me,we,ge++)}),ne}function Q(F){if(F._status===-1){var W=F._result;W=W(),W.then(function(me){(F._status===0||F._status===-1)&&(F._status=1,F._result=me)},function(me){(F._status===0||F._status===-1)&&(F._status=2,F._result=me)}),F._status===-1&&(F._status=0,F._result=W)}if(F._status===1)return F._result.default;throw F._result}var re={current:null},ee={transition:null},Z={ReactCurrentDispatcher:re,ReactCurrentBatchConfig:ee,ReactCurrentOwner:A};function K(){throw Error("act(...) is not supported in production builds of React.")}return Mn.Children={map:G,forEach:function(F,W,me){G(F,function(){W.apply(this,arguments)},me)},count:function(F){var W=0;return G(F,function(){W++}),W},toArray:function(F){return G(F,function(W){return W})||[]},only:function(F){if(!N(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Mn.Component=x,Mn.Fragment=n,Mn.Profiler=s,Mn.PureComponent=S,Mn.StrictMode=r,Mn.Suspense=c,Mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,Mn.act=K,Mn.cloneElement=function(F,W,me){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var ne=b({},F.props),ge=F.key,we=F.ref,je=F._owner;if(W!=null){if(W.ref!==void 0&&(we=W.ref,je=A.current),W.key!==void 0&&(ge=""+W.key),F.type&&F.type.defaultProps)var Re=F.type.defaultProps;for(ke in W)j.call(W,ke)&&!O.hasOwnProperty(ke)&&(ne[ke]=W[ke]===void 0&&Re!==void 0?Re[ke]:W[ke])}var ke=arguments.length-2;if(ke===1)ne.children=me;else if(1<ke){Re=Array(ke);for(var We=0;We<ke;We++)Re[We]=arguments[We+2];ne.children=Re}return{$$typeof:t,type:F.type,key:ge,ref:we,props:ne,_owner:je}},Mn.createContext=function(F){return F={$$typeof:a,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:i,_context:F},F.Consumer=F},Mn.createElement=L,Mn.createFactory=function(F){var W=L.bind(null,F);return W.type=F,W},Mn.createRef=function(){return{current:null}},Mn.forwardRef=function(F){return{$$typeof:l,render:F}},Mn.isValidElement=N,Mn.lazy=function(F){return{$$typeof:h,_payload:{_status:-1,_result:F},_init:Q}},Mn.memo=function(F,W){return{$$typeof:u,type:F,compare:W===void 0?null:W}},Mn.startTransition=function(F){var W=ee.transition;ee.transition={};try{F()}finally{ee.transition=W}},Mn.unstable_act=K,Mn.useCallback=function(F,W){return re.current.useCallback(F,W)},Mn.useContext=function(F){return re.current.useContext(F)},Mn.useDebugValue=function(){},Mn.useDeferredValue=function(F){return re.current.useDeferredValue(F)},Mn.useEffect=function(F,W){return re.current.useEffect(F,W)},Mn.useId=function(){return re.current.useId()},Mn.useImperativeHandle=function(F,W,me){return re.current.useImperativeHandle(F,W,me)},Mn.useInsertionEffect=function(F,W){return re.current.useInsertionEffect(F,W)},Mn.useLayoutEffect=function(F,W){return re.current.useLayoutEffect(F,W)},Mn.useMemo=function(F,W){return re.current.useMemo(F,W)},Mn.useReducer=function(F,W,me){return re.current.useReducer(F,W,me)},Mn.useRef=function(F){return re.current.useRef(F)},Mn.useState=function(F){return re.current.useState(F)},Mn.useSyncExternalStore=function(F,W,me){return re.current.useSyncExternalStore(F,W,me)},Mn.useTransition=function(){return re.current.useTransition()},Mn.version="18.3.1",Mn}var tN;function Ja(){return tN||(tN=1,b_.exports=r9()),b_.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nN;function s9(){if(nN)return cm;nN=1;var t=Ja(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function a(l,c,u){var h,f={},m=null,g=null;u!==void 0&&(m=""+u),c.key!==void 0&&(m=""+c.key),c.ref!==void 0&&(g=c.ref);for(h in c)r.call(c,h)&&!i.hasOwnProperty(h)&&(f[h]=c[h]);if(l&&l.defaultProps)for(h in c=l.defaultProps,c)f[h]===void 0&&(f[h]=c[h]);return{$$typeof:e,type:l,key:m,ref:g,props:f,_owner:s.current}}return cm.Fragment=n,cm.jsx=a,cm.jsxs=a,cm}var rN;function i9(){return rN||(rN=1,y_.exports=s9()),y_.exports}var o=i9(),w=Ja();const nn=Jr(w),v2=n9({__proto__:null,default:nn},[w]);var dy={},x_={exports:{}},Ri={},v_={exports:{}},__={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sN;function a9(){return sN||(sN=1,function(t){function e(ee,Z){var K=ee.length;ee.push(Z);e:for(;0<K;){var F=K-1>>>1,W=ee[F];if(0<s(W,Z))ee[F]=Z,ee[K]=W,K=F;else break e}}function n(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var Z=ee[0],K=ee.pop();if(K!==Z){ee[0]=K;e:for(var F=0,W=ee.length,me=W>>>1;F<me;){var ne=2*(F+1)-1,ge=ee[ne],we=ne+1,je=ee[we];if(0>s(ge,K))we<W&&0>s(je,ge)?(ee[F]=je,ee[we]=K,F=we):(ee[F]=ge,ee[ne]=K,F=ne);else if(we<W&&0>s(je,K))ee[F]=je,ee[we]=K,F=we;else break e}}return Z}function s(ee,Z){var K=ee.sortIndex-Z.sortIndex;return K!==0?K:ee.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,f=null,m=3,g=!1,b=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(ee){for(var Z=n(u);Z!==null;){if(Z.callback===null)r(u);else if(Z.startTime<=ee)r(u),Z.sortIndex=Z.expirationTime,e(c,Z);else break;Z=n(u)}}function D(ee){if(y=!1,T(ee),!b)if(n(c)!==null)b=!0,Q(j);else{var Z=n(u);Z!==null&&re(D,Z.startTime-ee)}}function j(ee,Z){b=!1,y&&(y=!1,_(L),L=-1),g=!0;var K=m;try{for(T(Z),f=n(c);f!==null&&(!(f.expirationTime>Z)||ee&&!U());){var F=f.callback;if(typeof F=="function"){f.callback=null,m=f.priorityLevel;var W=F(f.expirationTime<=Z);Z=t.unstable_now(),typeof W=="function"?f.callback=W:f===n(c)&&r(c),T(Z)}else r(c);f=n(c)}if(f!==null)var me=!0;else{var ne=n(u);ne!==null&&re(D,ne.startTime-Z),me=!1}return me}finally{f=null,m=K,g=!1}}var A=!1,O=null,L=-1,P=5,N=-1;function U(){return!(t.unstable_now()-N<P)}function M(){if(O!==null){var ee=t.unstable_now();N=ee;var Z=!0;try{Z=O(!0,ee)}finally{Z?q():(A=!1,O=null)}}else A=!1}var q;if(typeof S=="function")q=function(){S(M)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,G=E.port2;E.port1.onmessage=M,q=function(){G.postMessage(null)}}else q=function(){x(M,0)};function Q(ee){O=ee,A||(A=!0,q())}function re(ee,Z){L=x(function(){ee(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_continueExecution=function(){b||g||(b=!0,Q(j))},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(ee){switch(m){case 1:case 2:case 3:var Z=3;break;default:Z=m}var K=m;m=Z;try{return ee()}finally{m=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ee,Z){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var K=m;m=ee;try{return Z()}finally{m=K}},t.unstable_scheduleCallback=function(ee,Z,K){var F=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?F+K:F):K=F,ee){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=K+W,ee={id:h++,callback:Z,priorityLevel:ee,startTime:K,expirationTime:W,sortIndex:-1},K>F?(ee.sortIndex=K,e(u,ee),n(c)===null&&ee===n(u)&&(y?(_(L),L=-1):y=!0,re(D,K-F))):(ee.sortIndex=W,e(c,ee),b||g||(b=!0,Q(j))),ee},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(ee){var Z=m;return function(){var K=m;m=Z;try{return ee.apply(this,arguments)}finally{m=K}}}}(__)),__}var iN;function o9(){return iN||(iN=1,v_.exports=a9()),v_.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aN;function l9(){if(aN)return Ri;aN=1;var t=Ja(),e=o9();function n(d){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+d,v=1;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(d,p){a(d,p),a(d+"Capture",p)}function a(d,p){for(s[d]=p,d=0;d<p.length;d++)r.add(p[d])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},f={};function m(d){return c.call(f,d)?!0:c.call(h,d)?!1:u.test(d)?f[d]=!0:(h[d]=!0,!1)}function g(d,p,v,k){if(v!==null&&v.type===0)return!1;switch(typeof p){case"function":case"symbol":return!0;case"boolean":return k?!1:v!==null?!v.acceptsBooleans:(d=d.toLowerCase().slice(0,5),d!=="data-"&&d!=="aria-");default:return!1}}function b(d,p,v,k){if(p===null||typeof p>"u"||g(d,p,v,k))return!0;if(k)return!1;if(v!==null)switch(v.type){case 3:return!p;case 4:return p===!1;case 5:return isNaN(p);case 6:return isNaN(p)||1>p}return!1}function y(d,p,v,k,$,Y,de){this.acceptsBooleans=p===2||p===3||p===4,this.attributeName=k,this.attributeNamespace=$,this.mustUseProperty=v,this.propertyName=d,this.type=p,this.sanitizeURL=Y,this.removeEmptyString=de}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(d){x[d]=new y(d,0,!1,d,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(d){var p=d[0];x[p]=new y(p,1,!1,d[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(d){x[d]=new y(d,2,!1,d.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(d){x[d]=new y(d,2,!1,d,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(d){x[d]=new y(d,3,!1,d.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(d){x[d]=new y(d,3,!0,d,null,!1,!1)}),["capture","download"].forEach(function(d){x[d]=new y(d,4,!1,d,null,!1,!1)}),["cols","rows","size","span"].forEach(function(d){x[d]=new y(d,6,!1,d,null,!1,!1)}),["rowSpan","start"].forEach(function(d){x[d]=new y(d,5,!1,d.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function S(d){return d[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(d){var p=d.replace(_,S);x[p]=new y(p,1,!1,d,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(d){var p=d.replace(_,S);x[p]=new y(p,1,!1,d,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(d){var p=d.replace(_,S);x[p]=new y(p,1,!1,d,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(d){x[d]=new y(d,1,!1,d.toLowerCase(),null,!1,!1)}),x.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(d){x[d]=new y(d,1,!1,d.toLowerCase(),null,!0,!0)});function T(d,p,v,k){var $=x.hasOwnProperty(p)?x[p]:null;($!==null?$.type!==0:k||!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(b(p,v,$,k)&&(v=null),k||$===null?m(p)&&(v===null?d.removeAttribute(p):d.setAttribute(p,""+v)):$.mustUseProperty?d[$.propertyName]=v===null?$.type===3?!1:"":v:(p=$.attributeName,k=$.attributeNamespace,v===null?d.removeAttribute(p):($=$.type,v=$===3||$===4&&v===!0?"":""+v,k?d.setAttributeNS(k,p,v):d.setAttribute(p,v))))}var D=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),A=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),U=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),re=Symbol.for("react.offscreen"),ee=Symbol.iterator;function Z(d){return d===null||typeof d!="object"?null:(d=ee&&d[ee]||d["@@iterator"],typeof d=="function"?d:null)}var K=Object.assign,F;function W(d){if(F===void 0)try{throw Error()}catch(v){var p=v.stack.trim().match(/\n( *(at )?)/);F=p&&p[1]||""}return`
`+F+d}var me=!1;function ne(d,p){if(!d||me)return"";me=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(ht){var k=ht}Reflect.construct(d,[],p)}else{try{p.call()}catch(ht){k=ht}d.call(p.prototype)}else{try{throw Error()}catch(ht){k=ht}d()}}catch(ht){if(ht&&k&&typeof ht.stack=="string"){for(var $=ht.stack.split(`
`),Y=k.stack.split(`
`),de=$.length-1,Pe=Y.length-1;1<=de&&0<=Pe&&$[de]!==Y[Pe];)Pe--;for(;1<=de&&0<=Pe;de--,Pe--)if($[de]!==Y[Pe]){if(de!==1||Pe!==1)do if(de--,Pe--,0>Pe||$[de]!==Y[Pe]){var ze=`
`+$[de].replace(" at new "," at ");return d.displayName&&ze.includes("<anonymous>")&&(ze=ze.replace("<anonymous>",d.displayName)),ze}while(1<=de&&0<=Pe);break}}}finally{me=!1,Error.prepareStackTrace=v}return(d=d?d.displayName||d.name:"")?W(d):""}function ge(d){switch(d.tag){case 5:return W(d.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return d=ne(d.type,!1),d;case 11:return d=ne(d.type.render,!1),d;case 1:return d=ne(d.type,!0),d;default:return""}}function we(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case O:return"Fragment";case A:return"Portal";case P:return"Profiler";case L:return"StrictMode";case q:return"Suspense";case E:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case U:return(d.displayName||"Context")+".Consumer";case N:return(d._context.displayName||"Context")+".Provider";case M:var p=d.render;return d=d.displayName,d||(d=p.displayName||p.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case G:return p=d.displayName||null,p!==null?p:we(d.type)||"Memo";case Q:p=d._payload,d=d._init;try{return we(d(p))}catch{}}return null}function je(d){var p=d.type;switch(d.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=p.render,d=d.displayName||d.name||"",p.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return we(p);case 8:return p===L?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function Re(d){switch(typeof d){case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function ke(d){var p=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function We(d){var p=ke(d)?"checked":"value",v=Object.getOwnPropertyDescriptor(d.constructor.prototype,p),k=""+d[p];if(!d.hasOwnProperty(p)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var $=v.get,Y=v.set;return Object.defineProperty(d,p,{configurable:!0,get:function(){return $.call(this)},set:function(de){k=""+de,Y.call(this,de)}}),Object.defineProperty(d,p,{enumerable:v.enumerable}),{getValue:function(){return k},setValue:function(de){k=""+de},stopTracking:function(){d._valueTracker=null,delete d[p]}}}}function Je(d){d._valueTracker||(d._valueTracker=We(d))}function nt(d){if(!d)return!1;var p=d._valueTracker;if(!p)return!0;var v=p.getValue(),k="";return d&&(k=ke(d)?d.checked?"true":"false":d.value),d=k,d!==v?(p.setValue(d),!0):!1}function ct(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}function X(d,p){var v=p.checked;return K({},p,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:v??d._wrapperState.initialChecked})}function Me(d,p){var v=p.defaultValue==null?"":p.defaultValue,k=p.checked!=null?p.checked:p.defaultChecked;v=Re(p.value!=null?p.value:v),d._wrapperState={initialChecked:k,initialValue:v,controlled:p.type==="checkbox"||p.type==="radio"?p.checked!=null:p.value!=null}}function ye(d,p){p=p.checked,p!=null&&T(d,"checked",p,!1)}function se(d,p){ye(d,p);var v=Re(p.value),k=p.type;if(v!=null)k==="number"?(v===0&&d.value===""||d.value!=v)&&(d.value=""+v):d.value!==""+v&&(d.value=""+v);else if(k==="submit"||k==="reset"){d.removeAttribute("value");return}p.hasOwnProperty("value")?fe(d,p.type,v):p.hasOwnProperty("defaultValue")&&fe(d,p.type,Re(p.defaultValue)),p.checked==null&&p.defaultChecked!=null&&(d.defaultChecked=!!p.defaultChecked)}function ie(d,p,v){if(p.hasOwnProperty("value")||p.hasOwnProperty("defaultValue")){var k=p.type;if(!(k!=="submit"&&k!=="reset"||p.value!==void 0&&p.value!==null))return;p=""+d._wrapperState.initialValue,v||p===d.value||(d.value=p),d.defaultValue=p}v=d.name,v!==""&&(d.name=""),d.defaultChecked=!!d._wrapperState.initialChecked,v!==""&&(d.name=v)}function fe(d,p,v){(p!=="number"||ct(d.ownerDocument)!==d)&&(v==null?d.defaultValue=""+d._wrapperState.initialValue:d.defaultValue!==""+v&&(d.defaultValue=""+v))}var Te=Array.isArray;function he(d,p,v,k){if(d=d.options,p){p={};for(var $=0;$<v.length;$++)p["$"+v[$]]=!0;for(v=0;v<d.length;v++)$=p.hasOwnProperty("$"+d[v].value),d[v].selected!==$&&(d[v].selected=$),$&&k&&(d[v].defaultSelected=!0)}else{for(v=""+Re(v),p=null,$=0;$<d.length;$++){if(d[$].value===v){d[$].selected=!0,k&&(d[$].defaultSelected=!0);return}p!==null||d[$].disabled||(p=d[$])}p!==null&&(p.selected=!0)}}function ce(d,p){if(p.dangerouslySetInnerHTML!=null)throw Error(n(91));return K({},p,{value:void 0,defaultValue:void 0,children:""+d._wrapperState.initialValue})}function ve(d,p){var v=p.value;if(v==null){if(v=p.children,p=p.defaultValue,v!=null){if(p!=null)throw Error(n(92));if(Te(v)){if(1<v.length)throw Error(n(93));v=v[0]}p=v}p==null&&(p=""),v=p}d._wrapperState={initialValue:Re(v)}}function Ie(d,p){var v=Re(p.value),k=Re(p.defaultValue);v!=null&&(v=""+v,v!==d.value&&(d.value=v),p.defaultValue==null&&d.defaultValue!==v&&(d.defaultValue=v)),k!=null&&(d.defaultValue=""+k)}function Fe(d){var p=d.textContent;p===d._wrapperState.initialValue&&p!==""&&p!==null&&(d.value=p)}function Se(d){switch(d){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ut(d,p){return d==null||d==="http://www.w3.org/1999/xhtml"?Se(p):d==="http://www.w3.org/2000/svg"&&p==="foreignObject"?"http://www.w3.org/1999/xhtml":d}var pt,Le=function(d){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(p,v,k,$){MSApp.execUnsafeLocalFunction(function(){return d(p,v,k,$)})}:d}(function(d,p){if(d.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in d)d.innerHTML=p;else{for(pt=pt||document.createElement("div"),pt.innerHTML="<svg>"+p.valueOf().toString()+"</svg>",p=pt.firstChild;d.firstChild;)d.removeChild(d.firstChild);for(;p.firstChild;)d.appendChild(p.firstChild)}});function Ue(d,p){if(p){var v=d.firstChild;if(v&&v===d.lastChild&&v.nodeType===3){v.nodeValue=p;return}}d.textContent=p}var Qe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ot=["Webkit","ms","Moz","O"];Object.keys(Qe).forEach(function(d){ot.forEach(function(p){p=p+d.charAt(0).toUpperCase()+d.substring(1),Qe[p]=Qe[d]})});function Ke(d,p,v){return p==null||typeof p=="boolean"||p===""?"":v||typeof p!="number"||p===0||Qe.hasOwnProperty(d)&&Qe[d]?(""+p).trim():p+"px"}function xt(d,p){d=d.style;for(var v in p)if(p.hasOwnProperty(v)){var k=v.indexOf("--")===0,$=Ke(v,p[v],k);v==="float"&&(v="cssFloat"),k?d.setProperty(v,$):d[v]=$}}var ae=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Be(d,p){if(p){if(ae[d]&&(p.children!=null||p.dangerouslySetInnerHTML!=null))throw Error(n(137,d));if(p.dangerouslySetInnerHTML!=null){if(p.children!=null)throw Error(n(60));if(typeof p.dangerouslySetInnerHTML!="object"||!("__html"in p.dangerouslySetInnerHTML))throw Error(n(61))}if(p.style!=null&&typeof p.style!="object")throw Error(n(62))}}function Ye(d,p){if(d.indexOf("-")===-1)return typeof p.is=="string";switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _t=null;function Ze(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var it=null,te=null,le=null;function be(d){if(d=V(d)){if(typeof it!="function")throw Error(n(280));var p=d.stateNode;p&&(p=xe(p),it(d.stateNode,d.type,p))}}function ue(d){te?le?le.push(d):le=[d]:te=d}function Oe(){if(te){var d=te,p=le;if(le=te=null,be(d),p)for(d=0;d<p.length;d++)be(p[d])}}function wt(d,p){return d(p)}function At(){}var Ut=!1;function Ct(d,p,v){if(Ut)return d(p,v);Ut=!0;try{return wt(d,p,v)}finally{Ut=!1,(te!==null||le!==null)&&(At(),Oe())}}function en(d,p){var v=d.stateNode;if(v===null)return null;var k=xe(v);if(k===null)return null;v=k[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(k=!k.disabled)||(d=d.type,k=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!k;break e;default:d=!1}if(d)return null;if(v&&typeof v!="function")throw Error(n(231,p,typeof v));return v}var qn=!1;if(l)try{var vr={};Object.defineProperty(vr,"passive",{get:function(){qn=!0}}),window.addEventListener("test",vr,vr),window.removeEventListener("test",vr,vr)}catch{qn=!1}function Un(d,p,v,k,$,Y,de,Pe,ze){var ht=Array.prototype.slice.call(arguments,3);try{p.apply(v,ht)}catch(Et){this.onError(Et)}}var Jt=!1,yn=null,Ir=!1,js=null,Hn={onError:function(d){Jt=!0,yn=d}};function zr(d,p,v,k,$,Y,de,Pe,ze){Jt=!1,yn=null,Un.apply(Hn,arguments)}function as(d,p,v,k,$,Y,de,Pe,ze){if(zr.apply(this,arguments),Jt){if(Jt){var ht=yn;Jt=!1,yn=null}else throw Error(n(198));Ir||(Ir=!0,js=ht)}}function vn(d){var p=d,v=d;if(d.alternate)for(;p.return;)p=p.return;else{d=p;do p=d,p.flags&4098&&(v=p.return),d=p.return;while(d)}return p.tag===3?v:null}function Fo(d){if(d.tag===13){var p=d.memoizedState;if(p===null&&(d=d.alternate,d!==null&&(p=d.memoizedState)),p!==null)return p.dehydrated}return null}function Ns(d){if(vn(d)!==d)throw Error(n(188))}function zs(d){var p=d.alternate;if(!p){if(p=vn(d),p===null)throw Error(n(188));return p!==d?null:d}for(var v=d,k=p;;){var $=v.return;if($===null)break;var Y=$.alternate;if(Y===null){if(k=$.return,k!==null){v=k;continue}break}if($.child===Y.child){for(Y=$.child;Y;){if(Y===v)return Ns($),d;if(Y===k)return Ns($),p;Y=Y.sibling}throw Error(n(188))}if(v.return!==k.return)v=$,k=Y;else{for(var de=!1,Pe=$.child;Pe;){if(Pe===v){de=!0,v=$,k=Y;break}if(Pe===k){de=!0,k=$,v=Y;break}Pe=Pe.sibling}if(!de){for(Pe=Y.child;Pe;){if(Pe===v){de=!0,v=Y,k=$;break}if(Pe===k){de=!0,k=Y,v=$;break}Pe=Pe.sibling}if(!de)throw Error(n(189))}}if(v.alternate!==k)throw Error(n(190))}if(v.tag!==3)throw Error(n(188));return v.stateNode.current===v?d:p}function Gi(d){return d=zs(d),d!==null?os(d):null}function os(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var p=os(d);if(p!==null)return p;d=d.sibling}return null}var wn=e.unstable_scheduleCallback,so=e.unstable_cancelCallback,ba=e.unstable_shouldYield,Ki=e.unstable_requestPaint,er=e.unstable_now,io=e.unstable_getCurrentPriorityLevel,xa=e.unstable_ImmediatePriority,ri=e.unstable_UserBlockingPriority,Ds=e.unstable_NormalPriority,ao=e.unstable_LowPriority,si=e.unstable_IdlePriority,va=null,_r=null;function Si(d){if(_r&&typeof _r.onCommitFiberRoot=="function")try{_r.onCommitFiberRoot(va,d,void 0,(d.current.flags&128)===128)}catch{}}var Ur=Math.clz32?Math.clz32:Ti,Ci=Math.log,Xi=Math.LN2;function Ti(d){return d>>>=0,d===0?32:31-(Ci(d)/Xi|0)|0}var ts=64,Qi=4194304;function ki(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function _a(d,p){var v=d.pendingLanes;if(v===0)return 0;var k=0,$=d.suspendedLanes,Y=d.pingedLanes,de=v&268435455;if(de!==0){var Pe=de&~$;Pe!==0?k=ki(Pe):(Y&=de,Y!==0&&(k=ki(Y)))}else de=v&~$,de!==0?k=ki(de):Y!==0&&(k=ki(Y));if(k===0)return 0;if(p!==0&&p!==k&&!(p&$)&&($=k&-k,Y=p&-p,$>=Y||$===16&&(Y&4194240)!==0))return p;if(k&4&&(k|=v&16),p=d.entangledLanes,p!==0)for(d=d.entanglements,p&=k;0<p;)v=31-Ur(p),$=1<<v,k|=d[v],p&=~$;return k}function Bo(d,p){switch(d){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gs(d,p){for(var v=d.suspendedLanes,k=d.pingedLanes,$=d.expirationTimes,Y=d.pendingLanes;0<Y;){var de=31-Ur(Y),Pe=1<<de,ze=$[de];ze===-1?(!(Pe&v)||Pe&k)&&($[de]=Bo(Pe,p)):ze<=p&&(d.expiredLanes|=Pe),Y&=~Pe}}function Ce(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function at(){var d=ts;return ts<<=1,!(ts&4194240)&&(ts=64),d}function Xe(d){for(var p=[],v=0;31>v;v++)p.push(d);return p}function bt(d,p,v){d.pendingLanes|=p,p!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,p=31-Ur(p),d[p]=v}function pe(d,p){var v=d.pendingLanes&~p;d.pendingLanes=p,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=p,d.mutableReadLanes&=p,d.entangledLanes&=p,p=d.entanglements;var k=d.eventTimes;for(d=d.expirationTimes;0<v;){var $=31-Ur(v),Y=1<<$;p[$]=0,k[$]=-1,d[$]=-1,v&=~Y}}function He(d,p){var v=d.entangledLanes|=p;for(d=d.entanglements;v;){var k=31-Ur(v),$=1<<k;$&p|d[k]&p&&(d[k]|=p),v&=~$}}var et=0;function St(d){return d&=-d,1<d?4<d?d&268435455?16:536870912:4:1}var jt,Nt,Ft,cn,mn,Wt=!1,Xt=[],Sn=null,Nn=null,On=null,Yn=new Map,Or=new Map,Mr=[],ah="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function oh(d,p){switch(d){case"focusin":case"focusout":Sn=null;break;case"dragenter":case"dragleave":Nn=null;break;case"mouseover":case"mouseout":On=null;break;case"pointerover":case"pointerout":Yn.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":Or.delete(p.pointerId)}}function wa(d,p,v,k,$,Y){return d===null||d.nativeEvent!==Y?(d={blockedOn:p,domEventName:v,eventSystemFlags:k,nativeEvent:Y,targetContainers:[$]},p!==null&&(p=V(p),p!==null&&Nt(p)),d):(d.eventSystemFlags|=k,p=d.targetContainers,$!==null&&p.indexOf($)===-1&&p.push($),d)}function Tc(d,p,v,k,$){switch(p){case"focusin":return Sn=wa(Sn,d,p,v,k,$),!0;case"dragenter":return Nn=wa(Nn,d,p,v,k,$),!0;case"mouseover":return On=wa(On,d,p,v,k,$),!0;case"pointerover":var Y=$.pointerId;return Yn.set(Y,wa(Yn.get(Y)||null,d,p,v,k,$)),!0;case"gotpointercapture":return Y=$.pointerId,Or.set(Y,wa(Or.get(Y)||null,d,p,v,k,$)),!0}return!1}function kc(d){var p=R(d.target);if(p!==null){var v=vn(p);if(v!==null){if(p=v.tag,p===13){if(p=Fo(v),p!==null){d.blockedOn=p,mn(d.priority,function(){Ft(v)});return}}else if(p===3&&v.stateNode.current.memoizedState.isDehydrated){d.blockedOn=v.tag===3?v.stateNode.containerInfo:null;return}}}d.blockedOn=null}function Ec(d){if(d.blockedOn!==null)return!1;for(var p=d.targetContainers;0<p.length;){var v=Dc(d.domEventName,d.eventSystemFlags,p[0],d.nativeEvent);if(v===null){v=d.nativeEvent;var k=new v.constructor(v.type,v);_t=k,v.target.dispatchEvent(k),_t=null}else return p=V(v),p!==null&&Nt(p),d.blockedOn=v,!1;p.shift()}return!0}function Dl(d,p,v){Ec(d)&&v.delete(p)}function lh(){Wt=!1,Sn!==null&&Ec(Sn)&&(Sn=null),Nn!==null&&Ec(Nn)&&(Nn=null),On!==null&&Ec(On)&&(On=null),Yn.forEach(Dl),Or.forEach(Dl)}function $o(d,p){d.blockedOn===p&&(d.blockedOn=null,Wt||(Wt=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,lh)))}function Al(d){function p($){return $o($,d)}if(0<Xt.length){$o(Xt[0],d);for(var v=1;v<Xt.length;v++){var k=Xt[v];k.blockedOn===d&&(k.blockedOn=null)}}for(Sn!==null&&$o(Sn,d),Nn!==null&&$o(Nn,d),On!==null&&$o(On,d),Yn.forEach(p),Or.forEach(p),v=0;v<Mr.length;v++)k=Mr[v],k.blockedOn===d&&(k.blockedOn=null);for(;0<Mr.length&&(v=Mr[0],v.blockedOn===null);)kc(v),v.blockedOn===null&&Mr.shift()}var ii=D.ReactCurrentBatchConfig,jc=!0;function Dp(d,p,v,k){var $=et,Y=ii.transition;ii.transition=null;try{et=1,Nc(d,p,v,k)}finally{et=$,ii.transition=Y}}function Ap(d,p,v,k){var $=et,Y=ii.transition;ii.transition=null;try{et=4,Nc(d,p,v,k)}finally{et=$,ii.transition=Y}}function Nc(d,p,v,k){if(jc){var $=Dc(d,p,v,k);if($===null)Bc(d,p,k,Pl,v),oh(d,k);else if(Tc($,d,p,v,k))k.stopPropagation();else if(oh(d,k),p&4&&-1<ah.indexOf(d)){for(;$!==null;){var Y=V($);if(Y!==null&&jt(Y),Y=Dc(d,p,v,k),Y===null&&Bc(d,p,k,Pl,v),Y===$)break;$=Y}$!==null&&k.stopPropagation()}else Bc(d,p,k,null,v)}}var Pl=null;function Dc(d,p,v,k){if(Pl=null,d=Ze(k),d=R(d),d!==null)if(p=vn(d),p===null)d=null;else if(v=p.tag,v===13){if(d=Fo(p),d!==null)return d;d=null}else if(v===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;d=null}else p!==d&&(d=null);return Pl=d,null}function Ac(d){switch(d){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(io()){case xa:return 1;case ri:return 4;case Ds:case ao:return 16;case si:return 536870912;default:return 16}default:return 16}}var Sa=null,Pc=null,oo=null;function ch(){if(oo)return oo;var d,p=Pc,v=p.length,k,$="value"in Sa?Sa.value:Sa.textContent,Y=$.length;for(d=0;d<v&&p[d]===$[d];d++);var de=v-d;for(k=1;k<=de&&p[v-k]===$[Y-k];k++);return oo=$.slice(d,1<k?1-k:void 0)}function Ic(d){var p=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&p===13&&(d=13)):d=p,d===10&&(d=13),32<=d||d===13?d:0}function Zi(){return!0}function uh(){return!1}function As(d){function p(v,k,$,Y,de){this._reactName=v,this._targetInst=$,this.type=k,this.nativeEvent=Y,this.target=de,this.currentTarget=null;for(var Pe in d)d.hasOwnProperty(Pe)&&(v=d[Pe],this[Pe]=v?v(Y):Y[Pe]);return this.isDefaultPrevented=(Y.defaultPrevented!=null?Y.defaultPrevented:Y.returnValue===!1)?Zi:uh,this.isPropagationStopped=uh,this}return K(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var v=this.nativeEvent;v&&(v.preventDefault?v.preventDefault():typeof v.returnValue!="unknown"&&(v.returnValue=!1),this.isDefaultPrevented=Zi)},stopPropagation:function(){var v=this.nativeEvent;v&&(v.stopPropagation?v.stopPropagation():typeof v.cancelBubble!="unknown"&&(v.cancelBubble=!0),this.isPropagationStopped=Zi)},persist:function(){},isPersistent:Zi}),p}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ca=As(Ji),Ei=K({},Ji,{view:0,detail:0}),zo=As(Ei),Ps,ai,Ta,Il=K({},Ei,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bu,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==Ta&&(Ta&&d.type==="mousemove"?(Ps=d.screenX-Ta.screenX,ai=d.screenY-Ta.screenY):ai=Ps=0,Ta=d),Ps)},movementY:function(d){return"movementY"in d?d.movementY:ai}}),dh=As(Il),Pp=K({},Il,{dataTransfer:0}),Ip=As(Pp),Op=K({},Ei,{relatedTarget:0}),Ol=As(Op),Oc=K({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),Ml=As(Oc),ji=K({},Ji,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),Mc=As(ji),lo=K({},Ji,{data:0}),hh=As(lo),fh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ph={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mp(d){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(d):(d=mh[d])?!!p[d]:!1}function Bu(){return Mp}var Rp=K({},Ei,{key:function(d){if(d.key){var p=fh[d.key]||d.key;if(p!=="Unidentified")return p}return d.type==="keypress"?(d=Ic(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?ph[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bu,charCode:function(d){return d.type==="keypress"?Ic(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?Ic(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),Uo=As(Rp),gh=K({},Il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$u=As(gh),Lp=K({},Ei,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bu}),Fp=As(Lp),zu=K({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uu=As(zu),Hu=K({},Il,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),yh=As(Hu),bh=[9,13,27,32],co=l&&"CompositionEvent"in window,Rl=null;l&&"documentMode"in document&&(Rl=document.documentMode);var xh=l&&"TextEvent"in window&&!Rl,vh=l&&(!co||Rl&&8<Rl&&11>=Rl),Ll=" ",Wu=!1;function _h(d,p){switch(d){case"keyup":return bh.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vu(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var uo=!1;function qu(d,p){switch(d){case"compositionend":return Vu(p);case"keypress":return p.which!==32?null:(Wu=!0,Ll);case"textInput":return d=p.data,d===Ll&&Wu?null:d;default:return null}}function Bp(d,p){if(uo)return d==="compositionend"||!co&&_h(d,p)?(d=ch(),oo=Pc=Sa=null,uo=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return vh&&p.locale!=="ko"?null:p.data;default:return null}}var $p={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fl(d){var p=d&&d.nodeName&&d.nodeName.toLowerCase();return p==="input"?!!$p[d.type]:p==="textarea"}function wh(d,p,v,k){ue(k),p=Ah(p,"onChange"),0<p.length&&(v=new Ca("onChange","change",null,v,k),d.push({event:v,listeners:p}))}var Ho=null,Wo=null;function zp(d){li(d,0)}function Bl(d){var p=J(d);if(nt(p))return d}function Up(d,p){if(d==="change")return p}var ho=!1;if(l){var Vo;if(l){var qo="oninput"in document;if(!qo){var Yo=document.createElement("div");Yo.setAttribute("oninput","return;"),qo=typeof Yo.oninput=="function"}Vo=qo}else Vo=!1;ho=Vo&&(!document.documentMode||9<document.documentMode)}function gr(){Ho&&(Ho.detachEvent("onpropertychange",fo),Wo=Ho=null)}function fo(d){if(d.propertyName==="value"&&Bl(Wo)){var p=[];wh(p,Wo,d,Ze(d)),Ct(zp,p)}}function Rc(d,p,v){d==="focusin"?(gr(),Ho=p,Wo=v,Ho.attachEvent("onpropertychange",fo)):d==="focusout"&&gr()}function Hp(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return Bl(Wo)}function Wp(d,p){if(d==="click")return Bl(p)}function Vp(d,p){if(d==="input"||d==="change")return Bl(p)}function qp(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var Us=typeof Object.is=="function"?Object.is:qp;function Go(d,p){if(Us(d,p))return!0;if(typeof d!="object"||d===null||typeof p!="object"||p===null)return!1;var v=Object.keys(d),k=Object.keys(p);if(v.length!==k.length)return!1;for(k=0;k<v.length;k++){var $=v[k];if(!c.call(p,$)||!Us(d[$],p[$]))return!1}return!0}function Yu(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function Gu(d,p){var v=Yu(d);d=0;for(var k;v;){if(v.nodeType===3){if(k=d+v.textContent.length,d<=p&&k>=p)return{node:v,offset:p-d};d=k}e:{for(;v;){if(v.nextSibling){v=v.nextSibling;break e}v=v.parentNode}v=void 0}v=Yu(v)}}function Ku(d,p){return d&&p?d===p?!0:d&&d.nodeType===3?!1:p&&p.nodeType===3?Ku(d,p.parentNode):"contains"in d?d.contains(p):d.compareDocumentPosition?!!(d.compareDocumentPosition(p)&16):!1:!1}function Ni(){for(var d=window,p=ct();p instanceof d.HTMLIFrameElement;){try{var v=typeof p.contentWindow.location.href=="string"}catch{v=!1}if(v)d=p.contentWindow;else break;p=ct(d.document)}return p}function $l(d){var p=d&&d.nodeName&&d.nodeName.toLowerCase();return p&&(p==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||p==="textarea"||d.contentEditable==="true")}function Xu(d){var p=Ni(),v=d.focusedElem,k=d.selectionRange;if(p!==v&&v&&v.ownerDocument&&Ku(v.ownerDocument.documentElement,v)){if(k!==null&&$l(v)){if(p=k.start,d=k.end,d===void 0&&(d=p),"selectionStart"in v)v.selectionStart=p,v.selectionEnd=Math.min(d,v.value.length);else if(d=(p=v.ownerDocument||document)&&p.defaultView||window,d.getSelection){d=d.getSelection();var $=v.textContent.length,Y=Math.min(k.start,$);k=k.end===void 0?Y:Math.min(k.end,$),!d.extend&&Y>k&&($=k,k=Y,Y=$),$=Gu(v,Y);var de=Gu(v,k);$&&de&&(d.rangeCount!==1||d.anchorNode!==$.node||d.anchorOffset!==$.offset||d.focusNode!==de.node||d.focusOffset!==de.offset)&&(p=p.createRange(),p.setStart($.node,$.offset),d.removeAllRanges(),Y>k?(d.addRange(p),d.extend(de.node,de.offset)):(p.setEnd(de.node,de.offset),d.addRange(p)))}}for(p=[],d=v;d=d.parentNode;)d.nodeType===1&&p.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<p.length;v++)d=p[v],d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}var Sh=l&&"documentMode"in document&&11>=document.documentMode,Di=null,Qu=null,Ko=null,zl=!1;function Ch(d,p,v){var k=v.window===v?v.document:v.nodeType===9?v:v.ownerDocument;zl||Di==null||Di!==ct(k)||(k=Di,"selectionStart"in k&&$l(k)?k={start:k.selectionStart,end:k.selectionEnd}:(k=(k.ownerDocument&&k.ownerDocument.defaultView||window).getSelection(),k={anchorNode:k.anchorNode,anchorOffset:k.anchorOffset,focusNode:k.focusNode,focusOffset:k.focusOffset}),Ko&&Go(Ko,k)||(Ko=k,k=Ah(Qu,"onSelect"),0<k.length&&(p=new Ca("onSelect","select",null,p,v),d.push({event:p,listeners:k}),p.target=Di)))}function Lc(d,p){var v={};return v[d.toLowerCase()]=p.toLowerCase(),v["Webkit"+d]="webkit"+p,v["Moz"+d]="moz"+p,v}var po={animationend:Lc("Animation","AnimationEnd"),animationiteration:Lc("Animation","AnimationIteration"),animationstart:Lc("Animation","AnimationStart"),transitionend:Lc("Transition","TransitionEnd")},Hs={},mo={};l&&(mo=document.createElement("div").style,"AnimationEvent"in window||(delete po.animationend.animation,delete po.animationiteration.animation,delete po.animationstart.animation),"TransitionEvent"in window||delete po.transitionend.transition);function Xo(d){if(Hs[d])return Hs[d];if(!po[d])return d;var p=po[d],v;for(v in p)if(p.hasOwnProperty(v)&&v in mo)return Hs[d]=p[v];return d}var Th=Xo("animationend"),kh=Xo("animationiteration"),Eh=Xo("animationstart"),jh=Xo("transitionend"),Nh=new Map,Dh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oi(d,p){Nh.set(d,p),i(p,[d])}for(var z=0;z<Dh.length;z++){var H=Dh[z],oe=H.toLowerCase(),Ae=H[0].toUpperCase()+H.slice(1);oi(oe,"on"+Ae)}oi(Th,"onAnimationEnd"),oi(kh,"onAnimationIteration"),oi(Eh,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(jh,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ft="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gt=new Set("cancel close invalid load scroll toggle".split(" ").concat(ft));function yr(d,p,v){var k=d.type||"unknown-event";d.currentTarget=v,as(k,p,void 0,d),d.currentTarget=null}function li(d,p){p=(p&4)!==0;for(var v=0;v<d.length;v++){var k=d[v],$=k.event;k=k.listeners;e:{var Y=void 0;if(p)for(var de=k.length-1;0<=de;de--){var Pe=k[de],ze=Pe.instance,ht=Pe.currentTarget;if(Pe=Pe.listener,ze!==Y&&$.isPropagationStopped())break e;yr($,Pe,ht),Y=ze}else for(de=0;de<k.length;de++){if(Pe=k[de],ze=Pe.instance,ht=Pe.currentTarget,Pe=Pe.listener,ze!==Y&&$.isPropagationStopped())break e;yr($,Pe,ht),Y=ze}}}if(Ir)throw d=js,Ir=!1,js=null,d}function En(d,p){var v=p[C];v===void 0&&(v=p[C]=new Set);var k=d+"__bubble";v.has(k)||(Zu(p,d,2,!1),v.add(k))}function ea(d,p,v){var k=0;p&&(k|=4),Zu(v,d,k,p)}var ka="_reactListening"+Math.random().toString(36).slice(2);function Fc(d){if(!d[ka]){d[ka]=!0,r.forEach(function(v){v!=="selectionchange"&&(Gt.has(v)||ea(v,!1,d),ea(v,!0,d))});var p=d.nodeType===9?d:d.ownerDocument;p===null||p[ka]||(p[ka]=!0,ea("selectionchange",!1,p))}}function Zu(d,p,v,k){switch(Ac(p)){case 1:var $=Dp;break;case 4:$=Ap;break;default:$=Nc}v=$.bind(null,p,v,d),$=void 0,!qn||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||($=!0),k?$!==void 0?d.addEventListener(p,v,{capture:!0,passive:$}):d.addEventListener(p,v,!0):$!==void 0?d.addEventListener(p,v,{passive:$}):d.addEventListener(p,v,!1)}function Bc(d,p,v,k,$){var Y=k;if(!(p&1)&&!(p&2)&&k!==null)e:for(;;){if(k===null)return;var de=k.tag;if(de===3||de===4){var Pe=k.stateNode.containerInfo;if(Pe===$||Pe.nodeType===8&&Pe.parentNode===$)break;if(de===4)for(de=k.return;de!==null;){var ze=de.tag;if((ze===3||ze===4)&&(ze=de.stateNode.containerInfo,ze===$||ze.nodeType===8&&ze.parentNode===$))return;de=de.return}for(;Pe!==null;){if(de=R(Pe),de===null)return;if(ze=de.tag,ze===5||ze===6){k=Y=de;continue e}Pe=Pe.parentNode}}k=k.return}Ct(function(){var ht=Y,Et=Ze(v),Dt=[];e:{var kt=Nh.get(d);if(kt!==void 0){var Yt=Ca,tn=d;switch(d){case"keypress":if(Ic(v)===0)break e;case"keydown":case"keyup":Yt=Uo;break;case"focusin":tn="focus",Yt=Ol;break;case"focusout":tn="blur",Yt=Ol;break;case"beforeblur":case"afterblur":Yt=Ol;break;case"click":if(v.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Yt=dh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Yt=Ip;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Yt=Fp;break;case Th:case kh:case Eh:Yt=Ml;break;case jh:Yt=Uu;break;case"scroll":Yt=zo;break;case"wheel":Yt=yh;break;case"copy":case"cut":case"paste":Yt=Mc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Yt=$u}var rn=(p&4)!==0,Xr=!rn&&d==="scroll",st=rn?kt!==null?kt+"Capture":null:kt;rn=[];for(var Ve=ht,lt;Ve!==null;){lt=Ve;var Lt=lt.stateNode;if(lt.tag===5&&Lt!==null&&(lt=Lt,st!==null&&(Lt=en(Ve,st),Lt!=null&&rn.push(Ju(Ve,Lt,lt)))),Xr)break;Ve=Ve.return}0<rn.length&&(kt=new Yt(kt,tn,null,v,Et),Dt.push({event:kt,listeners:rn}))}}if(!(p&7)){e:{if(kt=d==="mouseover"||d==="pointerover",Yt=d==="mouseout"||d==="pointerout",kt&&v!==_t&&(tn=v.relatedTarget||v.fromElement)&&(R(tn)||tn[Na]))break e;if((Yt||kt)&&(kt=Et.window===Et?Et:(kt=Et.ownerDocument)?kt.defaultView||kt.parentWindow:window,Yt?(tn=v.relatedTarget||v.toElement,Yt=ht,tn=tn?R(tn):null,tn!==null&&(Xr=vn(tn),tn!==Xr||tn.tag!==5&&tn.tag!==6)&&(tn=null)):(Yt=null,tn=ht),Yt!==tn)){if(rn=dh,Lt="onMouseLeave",st="onMouseEnter",Ve="mouse",(d==="pointerout"||d==="pointerover")&&(rn=$u,Lt="onPointerLeave",st="onPointerEnter",Ve="pointer"),Xr=Yt==null?kt:J(Yt),lt=tn==null?kt:J(tn),kt=new rn(Lt,Ve+"leave",Yt,v,Et),kt.target=Xr,kt.relatedTarget=lt,Lt=null,R(Et)===ht&&(rn=new rn(st,Ve+"enter",tn,v,Et),rn.target=lt,rn.relatedTarget=Xr,Lt=rn),Xr=Lt,Yt&&tn)t:{for(rn=Yt,st=tn,Ve=0,lt=rn;lt;lt=$c(lt))Ve++;for(lt=0,Lt=st;Lt;Lt=$c(Lt))lt++;for(;0<Ve-lt;)rn=$c(rn),Ve--;for(;0<lt-Ve;)st=$c(st),lt--;for(;Ve--;){if(rn===st||st!==null&&rn===st.alternate)break t;rn=$c(rn),st=$c(st)}rn=null}else rn=null;Yt!==null&&T0(Dt,kt,Yt,rn,!1),tn!==null&&Xr!==null&&T0(Dt,Xr,tn,rn,!0)}}e:{if(kt=ht?J(ht):window,Yt=kt.nodeName&&kt.nodeName.toLowerCase(),Yt==="select"||Yt==="input"&&kt.type==="file")var sn=Up;else if(Fl(kt))if(ho)sn=Vp;else{sn=Hp;var fn=Rc}else(Yt=kt.nodeName)&&Yt.toLowerCase()==="input"&&(kt.type==="checkbox"||kt.type==="radio")&&(sn=Wp);if(sn&&(sn=sn(d,ht))){wh(Dt,sn,v,Et);break e}fn&&fn(d,kt,ht),d==="focusout"&&(fn=kt._wrapperState)&&fn.controlled&&kt.type==="number"&&fe(kt,"number",kt.value)}switch(fn=ht?J(ht):window,d){case"focusin":(Fl(fn)||fn.contentEditable==="true")&&(Di=fn,Qu=ht,Ko=null);break;case"focusout":Ko=Qu=Di=null;break;case"mousedown":zl=!0;break;case"contextmenu":case"mouseup":case"dragend":zl=!1,Ch(Dt,v,Et);break;case"selectionchange":if(Sh)break;case"keydown":case"keyup":Ch(Dt,v,Et)}var pn;if(co)e:{switch(d){case"compositionstart":var _n="onCompositionStart";break e;case"compositionend":_n="onCompositionEnd";break e;case"compositionupdate":_n="onCompositionUpdate";break e}_n=void 0}else uo?_h(d,v)&&(_n="onCompositionEnd"):d==="keydown"&&v.keyCode===229&&(_n="onCompositionStart");_n&&(vh&&v.locale!=="ko"&&(uo||_n!=="onCompositionStart"?_n==="onCompositionEnd"&&uo&&(pn=ch()):(Sa=Et,Pc="value"in Sa?Sa.value:Sa.textContent,uo=!0)),fn=Ah(ht,_n),0<fn.length&&(_n=new hh(_n,d,null,v,Et),Dt.push({event:_n,listeners:fn}),pn?_n.data=pn:(pn=Vu(v),pn!==null&&(_n.data=pn)))),(pn=xh?qu(d,v):Bp(d,v))&&(ht=Ah(ht,"onBeforeInput"),0<ht.length&&(Et=new hh("onBeforeInput","beforeinput",null,v,Et),Dt.push({event:Et,listeners:ht}),Et.data=pn))}li(Dt,p)})}function Ju(d,p,v){return{instance:d,listener:p,currentTarget:v}}function Ah(d,p){for(var v=p+"Capture",k=[];d!==null;){var $=d,Y=$.stateNode;$.tag===5&&Y!==null&&($=Y,Y=en(d,v),Y!=null&&k.unshift(Ju(d,Y,$)),Y=en(d,p),Y!=null&&k.push(Ju(d,Y,$))),d=d.return}return k}function $c(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5);return d||null}function T0(d,p,v,k,$){for(var Y=p._reactName,de=[];v!==null&&v!==k;){var Pe=v,ze=Pe.alternate,ht=Pe.stateNode;if(ze!==null&&ze===k)break;Pe.tag===5&&ht!==null&&(Pe=ht,$?(ze=en(v,Y),ze!=null&&de.unshift(Ju(v,ze,Pe))):$||(ze=en(v,Y),ze!=null&&de.push(Ju(v,ze,Pe)))),v=v.return}de.length!==0&&d.push({event:p,listeners:de})}var p1=/\r\n?/g,Yp=/\u0000|\uFFFD/g;function k0(d){return(typeof d=="string"?d:""+d).replace(p1,`
`).replace(Yp,"")}function Ph(d,p,v){if(p=k0(p),k0(d)!==p&&v)throw Error(n(425))}function ed(){}var Qo=null,Wn=null;function go(d,p){return d==="textarea"||d==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var ls=typeof setTimeout=="function"?setTimeout:void 0,Ea=typeof clearTimeout=="function"?clearTimeout:void 0,E0=typeof Promise=="function"?Promise:void 0,j0=typeof queueMicrotask=="function"?queueMicrotask:typeof E0<"u"?function(d){return E0.resolve(null).then(d).catch(m1)}:ls;function m1(d){setTimeout(function(){throw d})}function Gp(d,p){var v=p,k=0;do{var $=v.nextSibling;if(d.removeChild(v),$&&$.nodeType===8)if(v=$.data,v==="/$"){if(k===0){d.removeChild($),Al(p);return}k--}else v!=="$"&&v!=="$?"&&v!=="$!"||k++;v=$}while(v);Al(p)}function Zo(d){for(;d!=null;d=d.nextSibling){var p=d.nodeType;if(p===1||p===3)break;if(p===8){if(p=d.data,p==="$"||p==="$!"||p==="$?")break;if(p==="/$")return null}}return d}function N0(d){d=d.previousSibling;for(var p=0;d;){if(d.nodeType===8){var v=d.data;if(v==="$"||v==="$!"||v==="$?"){if(p===0)return d;p--}else v==="/$"&&p++}d=d.previousSibling}return null}var zc=Math.random().toString(36).slice(2),ja="__reactFiber$"+zc,td="__reactProps$"+zc,Na="__reactContainer$"+zc,C="__reactEvents$"+zc,I="__reactListeners$"+zc,B="__reactHandles$"+zc;function R(d){var p=d[ja];if(p)return p;for(var v=d.parentNode;v;){if(p=v[Na]||v[ja]){if(v=p.alternate,p.child!==null||v!==null&&v.child!==null)for(d=N0(d);d!==null;){if(v=d[ja])return v;d=N0(d)}return p}d=v,v=d.parentNode}return null}function V(d){return d=d[ja]||d[Na],!d||d.tag!==5&&d.tag!==6&&d.tag!==13&&d.tag!==3?null:d}function J(d){if(d.tag===5||d.tag===6)return d.stateNode;throw Error(n(33))}function xe(d){return d[td]||null}var _e=[],Ee=-1;function Ne(d){return{current:d}}function $e(d){0>Ee||(d.current=_e[Ee],_e[Ee]=null,Ee--)}function rt(d,p){Ee++,_e[Ee]=d.current,d.current=p}var Rt={},mt=Ne(Rt),Kt=Ne(!1),xn=Rt;function wr(d,p){var v=d.type.contextTypes;if(!v)return Rt;var k=d.stateNode;if(k&&k.__reactInternalMemoizedUnmaskedChildContext===p)return k.__reactInternalMemoizedMaskedChildContext;var $={},Y;for(Y in v)$[Y]=p[Y];return k&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=p,d.__reactInternalMemoizedMaskedChildContext=$),$}function dr(d){return d=d.childContextTypes,d!=null}function ta(){$e(Kt),$e(mt)}function Uc(d,p,v){if(mt.current!==Rt)throw Error(n(168));rt(mt,p),rt(Kt,v)}function Hc(d,p,v){var k=d.stateNode;if(p=p.childContextTypes,typeof k.getChildContext!="function")return v;k=k.getChildContext();for(var $ in k)if(!($ in p))throw Error(n(108,je(d)||"Unknown",$));return K({},v,k)}function Jo(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||Rt,xn=mt.current,rt(mt,d),rt(Kt,Kt.current),!0}function Wc(d,p,v){var k=d.stateNode;if(!k)throw Error(n(169));v?(d=Hc(d,p,xn),k.__reactInternalMemoizedMergedChildContext=d,$e(Kt),$e(mt),rt(mt,d)):$e(Kt),rt(Kt,v)}var Ai=null,tr=!1,Ul=!1;function Pi(d){Ai===null?Ai=[d]:Ai.push(d)}function x7(d){tr=!0,Pi(d)}function Vc(){if(!Ul&&Ai!==null){Ul=!0;var d=0,p=et;try{var v=Ai;for(et=1;d<v.length;d++){var k=v[d];do k=k(!0);while(k!==null)}Ai=null,tr=!1}catch($){throw Ai!==null&&(Ai=Ai.slice(d+1)),wn(xa,Vc),$}finally{et=p,Ul=!1}}return null}var Ih=[],Oh=0,D0=null,A0=0,Da=[],Aa=0,nd=null,Hl=1,Wl="";function rd(d,p){Ih[Oh++]=A0,Ih[Oh++]=D0,D0=d,A0=p}function kE(d,p,v){Da[Aa++]=Hl,Da[Aa++]=Wl,Da[Aa++]=nd,nd=d;var k=Hl;d=Wl;var $=32-Ur(k)-1;k&=~(1<<$),v+=1;var Y=32-Ur(p)+$;if(30<Y){var de=$-$%5;Y=(k&(1<<de)-1).toString(32),k>>=de,$-=de,Hl=1<<32-Ur(p)+$|v<<$|k,Wl=Y+d}else Hl=1<<Y|v<<$|k,Wl=d}function g1(d){d.return!==null&&(rd(d,1),kE(d,1,0))}function y1(d){for(;d===D0;)D0=Ih[--Oh],Ih[Oh]=null,A0=Ih[--Oh],Ih[Oh]=null;for(;d===nd;)nd=Da[--Aa],Da[Aa]=null,Wl=Da[--Aa],Da[Aa]=null,Hl=Da[--Aa],Da[Aa]=null}var na=null,ra=null,jr=!1,yo=null;function EE(d,p){var v=Ma(5,null,null,0);v.elementType="DELETED",v.stateNode=p,v.return=d,p=d.deletions,p===null?(d.deletions=[v],d.flags|=16):p.push(v)}function jE(d,p){switch(d.tag){case 5:var v=d.type;return p=p.nodeType!==1||v.toLowerCase()!==p.nodeName.toLowerCase()?null:p,p!==null?(d.stateNode=p,na=d,ra=Zo(p.firstChild),!0):!1;case 6:return p=d.pendingProps===""||p.nodeType!==3?null:p,p!==null?(d.stateNode=p,na=d,ra=null,!0):!1;case 13:return p=p.nodeType!==8?null:p,p!==null?(v=nd!==null?{id:Hl,overflow:Wl}:null,d.memoizedState={dehydrated:p,treeContext:v,retryLane:1073741824},v=Ma(18,null,null,0),v.stateNode=p,v.return=d,d.child=v,na=d,ra=null,!0):!1;default:return!1}}function b1(d){return(d.mode&1)!==0&&(d.flags&128)===0}function x1(d){if(jr){var p=ra;if(p){var v=p;if(!jE(d,p)){if(b1(d))throw Error(n(418));p=Zo(v.nextSibling);var k=na;p&&jE(d,p)?EE(k,v):(d.flags=d.flags&-4097|2,jr=!1,na=d)}}else{if(b1(d))throw Error(n(418));d.flags=d.flags&-4097|2,jr=!1,na=d}}}function NE(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;na=d}function P0(d){if(d!==na)return!1;if(!jr)return NE(d),jr=!0,!1;var p;if((p=d.tag!==3)&&!(p=d.tag!==5)&&(p=d.type,p=p!=="head"&&p!=="body"&&!go(d.type,d.memoizedProps)),p&&(p=ra)){if(b1(d))throw DE(),Error(n(418));for(;p;)EE(d,p),p=Zo(p.nextSibling)}if(NE(d),d.tag===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(317));e:{for(d=d.nextSibling,p=0;d;){if(d.nodeType===8){var v=d.data;if(v==="/$"){if(p===0){ra=Zo(d.nextSibling);break e}p--}else v!=="$"&&v!=="$!"&&v!=="$?"||p++}d=d.nextSibling}ra=null}}else ra=na?Zo(d.stateNode.nextSibling):null;return!0}function DE(){for(var d=ra;d;)d=Zo(d.nextSibling)}function Mh(){ra=na=null,jr=!1}function v1(d){yo===null?yo=[d]:yo.push(d)}var v7=D.ReactCurrentBatchConfig;function Kp(d,p,v){if(d=v.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(v._owner){if(v=v._owner,v){if(v.tag!==1)throw Error(n(309));var k=v.stateNode}if(!k)throw Error(n(147,d));var $=k,Y=""+d;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===Y?p.ref:(p=function(de){var Pe=$.refs;de===null?delete Pe[Y]:Pe[Y]=de},p._stringRef=Y,p)}if(typeof d!="string")throw Error(n(284));if(!v._owner)throw Error(n(290,d))}return d}function I0(d,p){throw d=Object.prototype.toString.call(p),Error(n(31,d==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":d))}function AE(d){var p=d._init;return p(d._payload)}function PE(d){function p(st,Ve){if(d){var lt=st.deletions;lt===null?(st.deletions=[Ve],st.flags|=16):lt.push(Ve)}}function v(st,Ve){if(!d)return null;for(;Ve!==null;)p(st,Ve),Ve=Ve.sibling;return null}function k(st,Ve){for(st=new Map;Ve!==null;)Ve.key!==null?st.set(Ve.key,Ve):st.set(Ve.index,Ve),Ve=Ve.sibling;return st}function $(st,Ve){return st=Jc(st,Ve),st.index=0,st.sibling=null,st}function Y(st,Ve,lt){return st.index=lt,d?(lt=st.alternate,lt!==null?(lt=lt.index,lt<Ve?(st.flags|=2,Ve):lt):(st.flags|=2,Ve)):(st.flags|=1048576,Ve)}function de(st){return d&&st.alternate===null&&(st.flags|=2),st}function Pe(st,Ve,lt,Lt){return Ve===null||Ve.tag!==6?(Ve=d_(lt,st.mode,Lt),Ve.return=st,Ve):(Ve=$(Ve,lt),Ve.return=st,Ve)}function ze(st,Ve,lt,Lt){var sn=lt.type;return sn===O?Et(st,Ve,lt.props.children,Lt,lt.key):Ve!==null&&(Ve.elementType===sn||typeof sn=="object"&&sn!==null&&sn.$$typeof===Q&&AE(sn)===Ve.type)?(Lt=$(Ve,lt.props),Lt.ref=Kp(st,Ve,lt),Lt.return=st,Lt):(Lt=ry(lt.type,lt.key,lt.props,null,st.mode,Lt),Lt.ref=Kp(st,Ve,lt),Lt.return=st,Lt)}function ht(st,Ve,lt,Lt){return Ve===null||Ve.tag!==4||Ve.stateNode.containerInfo!==lt.containerInfo||Ve.stateNode.implementation!==lt.implementation?(Ve=h_(lt,st.mode,Lt),Ve.return=st,Ve):(Ve=$(Ve,lt.children||[]),Ve.return=st,Ve)}function Et(st,Ve,lt,Lt,sn){return Ve===null||Ve.tag!==7?(Ve=dd(lt,st.mode,Lt,sn),Ve.return=st,Ve):(Ve=$(Ve,lt),Ve.return=st,Ve)}function Dt(st,Ve,lt){if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number")return Ve=d_(""+Ve,st.mode,lt),Ve.return=st,Ve;if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case j:return lt=ry(Ve.type,Ve.key,Ve.props,null,st.mode,lt),lt.ref=Kp(st,null,Ve),lt.return=st,lt;case A:return Ve=h_(Ve,st.mode,lt),Ve.return=st,Ve;case Q:var Lt=Ve._init;return Dt(st,Lt(Ve._payload),lt)}if(Te(Ve)||Z(Ve))return Ve=dd(Ve,st.mode,lt,null),Ve.return=st,Ve;I0(st,Ve)}return null}function kt(st,Ve,lt,Lt){var sn=Ve!==null?Ve.key:null;if(typeof lt=="string"&&lt!==""||typeof lt=="number")return sn!==null?null:Pe(st,Ve,""+lt,Lt);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case j:return lt.key===sn?ze(st,Ve,lt,Lt):null;case A:return lt.key===sn?ht(st,Ve,lt,Lt):null;case Q:return sn=lt._init,kt(st,Ve,sn(lt._payload),Lt)}if(Te(lt)||Z(lt))return sn!==null?null:Et(st,Ve,lt,Lt,null);I0(st,lt)}return null}function Yt(st,Ve,lt,Lt,sn){if(typeof Lt=="string"&&Lt!==""||typeof Lt=="number")return st=st.get(lt)||null,Pe(Ve,st,""+Lt,sn);if(typeof Lt=="object"&&Lt!==null){switch(Lt.$$typeof){case j:return st=st.get(Lt.key===null?lt:Lt.key)||null,ze(Ve,st,Lt,sn);case A:return st=st.get(Lt.key===null?lt:Lt.key)||null,ht(Ve,st,Lt,sn);case Q:var fn=Lt._init;return Yt(st,Ve,lt,fn(Lt._payload),sn)}if(Te(Lt)||Z(Lt))return st=st.get(lt)||null,Et(Ve,st,Lt,sn,null);I0(Ve,Lt)}return null}function tn(st,Ve,lt,Lt){for(var sn=null,fn=null,pn=Ve,_n=Ve=0,xs=null;pn!==null&&_n<lt.length;_n++){pn.index>_n?(xs=pn,pn=null):xs=pn.sibling;var Gn=kt(st,pn,lt[_n],Lt);if(Gn===null){pn===null&&(pn=xs);break}d&&pn&&Gn.alternate===null&&p(st,pn),Ve=Y(Gn,Ve,_n),fn===null?sn=Gn:fn.sibling=Gn,fn=Gn,pn=xs}if(_n===lt.length)return v(st,pn),jr&&rd(st,_n),sn;if(pn===null){for(;_n<lt.length;_n++)pn=Dt(st,lt[_n],Lt),pn!==null&&(Ve=Y(pn,Ve,_n),fn===null?sn=pn:fn.sibling=pn,fn=pn);return jr&&rd(st,_n),sn}for(pn=k(st,pn);_n<lt.length;_n++)xs=Yt(pn,st,_n,lt[_n],Lt),xs!==null&&(d&&xs.alternate!==null&&pn.delete(xs.key===null?_n:xs.key),Ve=Y(xs,Ve,_n),fn===null?sn=xs:fn.sibling=xs,fn=xs);return d&&pn.forEach(function(eu){return p(st,eu)}),jr&&rd(st,_n),sn}function rn(st,Ve,lt,Lt){var sn=Z(lt);if(typeof sn!="function")throw Error(n(150));if(lt=sn.call(lt),lt==null)throw Error(n(151));for(var fn=sn=null,pn=Ve,_n=Ve=0,xs=null,Gn=lt.next();pn!==null&&!Gn.done;_n++,Gn=lt.next()){pn.index>_n?(xs=pn,pn=null):xs=pn.sibling;var eu=kt(st,pn,Gn.value,Lt);if(eu===null){pn===null&&(pn=xs);break}d&&pn&&eu.alternate===null&&p(st,pn),Ve=Y(eu,Ve,_n),fn===null?sn=eu:fn.sibling=eu,fn=eu,pn=xs}if(Gn.done)return v(st,pn),jr&&rd(st,_n),sn;if(pn===null){for(;!Gn.done;_n++,Gn=lt.next())Gn=Dt(st,Gn.value,Lt),Gn!==null&&(Ve=Y(Gn,Ve,_n),fn===null?sn=Gn:fn.sibling=Gn,fn=Gn);return jr&&rd(st,_n),sn}for(pn=k(st,pn);!Gn.done;_n++,Gn=lt.next())Gn=Yt(pn,st,_n,Gn.value,Lt),Gn!==null&&(d&&Gn.alternate!==null&&pn.delete(Gn.key===null?_n:Gn.key),Ve=Y(Gn,Ve,_n),fn===null?sn=Gn:fn.sibling=Gn,fn=Gn);return d&&pn.forEach(function(J7){return p(st,J7)}),jr&&rd(st,_n),sn}function Xr(st,Ve,lt,Lt){if(typeof lt=="object"&&lt!==null&&lt.type===O&&lt.key===null&&(lt=lt.props.children),typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case j:e:{for(var sn=lt.key,fn=Ve;fn!==null;){if(fn.key===sn){if(sn=lt.type,sn===O){if(fn.tag===7){v(st,fn.sibling),Ve=$(fn,lt.props.children),Ve.return=st,st=Ve;break e}}else if(fn.elementType===sn||typeof sn=="object"&&sn!==null&&sn.$$typeof===Q&&AE(sn)===fn.type){v(st,fn.sibling),Ve=$(fn,lt.props),Ve.ref=Kp(st,fn,lt),Ve.return=st,st=Ve;break e}v(st,fn);break}else p(st,fn);fn=fn.sibling}lt.type===O?(Ve=dd(lt.props.children,st.mode,Lt,lt.key),Ve.return=st,st=Ve):(Lt=ry(lt.type,lt.key,lt.props,null,st.mode,Lt),Lt.ref=Kp(st,Ve,lt),Lt.return=st,st=Lt)}return de(st);case A:e:{for(fn=lt.key;Ve!==null;){if(Ve.key===fn)if(Ve.tag===4&&Ve.stateNode.containerInfo===lt.containerInfo&&Ve.stateNode.implementation===lt.implementation){v(st,Ve.sibling),Ve=$(Ve,lt.children||[]),Ve.return=st,st=Ve;break e}else{v(st,Ve);break}else p(st,Ve);Ve=Ve.sibling}Ve=h_(lt,st.mode,Lt),Ve.return=st,st=Ve}return de(st);case Q:return fn=lt._init,Xr(st,Ve,fn(lt._payload),Lt)}if(Te(lt))return tn(st,Ve,lt,Lt);if(Z(lt))return rn(st,Ve,lt,Lt);I0(st,lt)}return typeof lt=="string"&&lt!==""||typeof lt=="number"?(lt=""+lt,Ve!==null&&Ve.tag===6?(v(st,Ve.sibling),Ve=$(Ve,lt),Ve.return=st,st=Ve):(v(st,Ve),Ve=d_(lt,st.mode,Lt),Ve.return=st,st=Ve),de(st)):v(st,Ve)}return Xr}var Rh=PE(!0),IE=PE(!1),O0=Ne(null),M0=null,Lh=null,_1=null;function w1(){_1=Lh=M0=null}function S1(d){var p=O0.current;$e(O0),d._currentValue=p}function C1(d,p,v){for(;d!==null;){var k=d.alternate;if((d.childLanes&p)!==p?(d.childLanes|=p,k!==null&&(k.childLanes|=p)):k!==null&&(k.childLanes&p)!==p&&(k.childLanes|=p),d===v)break;d=d.return}}function Fh(d,p){M0=d,_1=Lh=null,d=d.dependencies,d!==null&&d.firstContext!==null&&(d.lanes&p&&(Ii=!0),d.firstContext=null)}function Pa(d){var p=d._currentValue;if(_1!==d)if(d={context:d,memoizedValue:p,next:null},Lh===null){if(M0===null)throw Error(n(308));Lh=d,M0.dependencies={lanes:0,firstContext:d}}else Lh=Lh.next=d;return p}var sd=null;function T1(d){sd===null?sd=[d]:sd.push(d)}function OE(d,p,v,k){var $=p.interleaved;return $===null?(v.next=v,T1(p)):(v.next=$.next,$.next=v),p.interleaved=v,Vl(d,k)}function Vl(d,p){d.lanes|=p;var v=d.alternate;for(v!==null&&(v.lanes|=p),v=d,d=d.return;d!==null;)d.childLanes|=p,v=d.alternate,v!==null&&(v.childLanes|=p),v=d,d=d.return;return v.tag===3?v.stateNode:null}var qc=!1;function k1(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ME(d,p){d=d.updateQueue,p.updateQueue===d&&(p.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function ql(d,p){return{eventTime:d,lane:p,tag:0,payload:null,callback:null,next:null}}function Yc(d,p,v){var k=d.updateQueue;if(k===null)return null;if(k=k.shared,Vn&2){var $=k.pending;return $===null?p.next=p:(p.next=$.next,$.next=p),k.pending=p,Vl(d,v)}return $=k.interleaved,$===null?(p.next=p,T1(k)):(p.next=$.next,$.next=p),k.interleaved=p,Vl(d,v)}function R0(d,p,v){if(p=p.updateQueue,p!==null&&(p=p.shared,(v&4194240)!==0)){var k=p.lanes;k&=d.pendingLanes,v|=k,p.lanes=v,He(d,v)}}function RE(d,p){var v=d.updateQueue,k=d.alternate;if(k!==null&&(k=k.updateQueue,v===k)){var $=null,Y=null;if(v=v.firstBaseUpdate,v!==null){do{var de={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};Y===null?$=Y=de:Y=Y.next=de,v=v.next}while(v!==null);Y===null?$=Y=p:Y=Y.next=p}else $=Y=p;v={baseState:k.baseState,firstBaseUpdate:$,lastBaseUpdate:Y,shared:k.shared,effects:k.effects},d.updateQueue=v;return}d=v.lastBaseUpdate,d===null?v.firstBaseUpdate=p:d.next=p,v.lastBaseUpdate=p}function L0(d,p,v,k){var $=d.updateQueue;qc=!1;var Y=$.firstBaseUpdate,de=$.lastBaseUpdate,Pe=$.shared.pending;if(Pe!==null){$.shared.pending=null;var ze=Pe,ht=ze.next;ze.next=null,de===null?Y=ht:de.next=ht,de=ze;var Et=d.alternate;Et!==null&&(Et=Et.updateQueue,Pe=Et.lastBaseUpdate,Pe!==de&&(Pe===null?Et.firstBaseUpdate=ht:Pe.next=ht,Et.lastBaseUpdate=ze))}if(Y!==null){var Dt=$.baseState;de=0,Et=ht=ze=null,Pe=Y;do{var kt=Pe.lane,Yt=Pe.eventTime;if((k&kt)===kt){Et!==null&&(Et=Et.next={eventTime:Yt,lane:0,tag:Pe.tag,payload:Pe.payload,callback:Pe.callback,next:null});e:{var tn=d,rn=Pe;switch(kt=p,Yt=v,rn.tag){case 1:if(tn=rn.payload,typeof tn=="function"){Dt=tn.call(Yt,Dt,kt);break e}Dt=tn;break e;case 3:tn.flags=tn.flags&-65537|128;case 0:if(tn=rn.payload,kt=typeof tn=="function"?tn.call(Yt,Dt,kt):tn,kt==null)break e;Dt=K({},Dt,kt);break e;case 2:qc=!0}}Pe.callback!==null&&Pe.lane!==0&&(d.flags|=64,kt=$.effects,kt===null?$.effects=[Pe]:kt.push(Pe))}else Yt={eventTime:Yt,lane:kt,tag:Pe.tag,payload:Pe.payload,callback:Pe.callback,next:null},Et===null?(ht=Et=Yt,ze=Dt):Et=Et.next=Yt,de|=kt;if(Pe=Pe.next,Pe===null){if(Pe=$.shared.pending,Pe===null)break;kt=Pe,Pe=kt.next,kt.next=null,$.lastBaseUpdate=kt,$.shared.pending=null}}while(!0);if(Et===null&&(ze=Dt),$.baseState=ze,$.firstBaseUpdate=ht,$.lastBaseUpdate=Et,p=$.shared.interleaved,p!==null){$=p;do de|=$.lane,$=$.next;while($!==p)}else Y===null&&($.shared.lanes=0);od|=de,d.lanes=de,d.memoizedState=Dt}}function LE(d,p,v){if(d=p.effects,p.effects=null,d!==null)for(p=0;p<d.length;p++){var k=d[p],$=k.callback;if($!==null){if(k.callback=null,k=v,typeof $!="function")throw Error(n(191,$));$.call(k)}}}var Xp={},el=Ne(Xp),Qp=Ne(Xp),Zp=Ne(Xp);function id(d){if(d===Xp)throw Error(n(174));return d}function E1(d,p){switch(rt(Zp,p),rt(Qp,d),rt(el,Xp),d=p.nodeType,d){case 9:case 11:p=(p=p.documentElement)?p.namespaceURI:ut(null,"");break;default:d=d===8?p.parentNode:p,p=d.namespaceURI||null,d=d.tagName,p=ut(p,d)}$e(el),rt(el,p)}function Bh(){$e(el),$e(Qp),$e(Zp)}function FE(d){id(Zp.current);var p=id(el.current),v=ut(p,d.type);p!==v&&(rt(Qp,d),rt(el,v))}function j1(d){Qp.current===d&&($e(el),$e(Qp))}var Rr=Ne(0);function F0(d){for(var p=d;p!==null;){if(p.tag===13){var v=p.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||v.data==="$?"||v.data==="$!"))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if(p.flags&128)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var N1=[];function D1(){for(var d=0;d<N1.length;d++)N1[d]._workInProgressVersionPrimary=null;N1.length=0}var B0=D.ReactCurrentDispatcher,A1=D.ReactCurrentBatchConfig,ad=0,Lr=null,cs=null,ys=null,$0=!1,Jp=!1,em=0,_7=0;function Ws(){throw Error(n(321))}function P1(d,p){if(p===null)return!1;for(var v=0;v<p.length&&v<d.length;v++)if(!Us(d[v],p[v]))return!1;return!0}function I1(d,p,v,k,$,Y){if(ad=Y,Lr=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,B0.current=d===null||d.memoizedState===null?T7:k7,d=v(k,$),Jp){Y=0;do{if(Jp=!1,em=0,25<=Y)throw Error(n(301));Y+=1,ys=cs=null,p.updateQueue=null,B0.current=E7,d=v(k,$)}while(Jp)}if(B0.current=H0,p=cs!==null&&cs.next!==null,ad=0,ys=cs=Lr=null,$0=!1,p)throw Error(n(300));return d}function O1(){var d=em!==0;return em=0,d}function tl(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ys===null?Lr.memoizedState=ys=d:ys=ys.next=d,ys}function Ia(){if(cs===null){var d=Lr.alternate;d=d!==null?d.memoizedState:null}else d=cs.next;var p=ys===null?Lr.memoizedState:ys.next;if(p!==null)ys=p,cs=d;else{if(d===null)throw Error(n(310));cs=d,d={memoizedState:cs.memoizedState,baseState:cs.baseState,baseQueue:cs.baseQueue,queue:cs.queue,next:null},ys===null?Lr.memoizedState=ys=d:ys=ys.next=d}return ys}function tm(d,p){return typeof p=="function"?p(d):p}function M1(d){var p=Ia(),v=p.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=d;var k=cs,$=k.baseQueue,Y=v.pending;if(Y!==null){if($!==null){var de=$.next;$.next=Y.next,Y.next=de}k.baseQueue=$=Y,v.pending=null}if($!==null){Y=$.next,k=k.baseState;var Pe=de=null,ze=null,ht=Y;do{var Et=ht.lane;if((ad&Et)===Et)ze!==null&&(ze=ze.next={lane:0,action:ht.action,hasEagerState:ht.hasEagerState,eagerState:ht.eagerState,next:null}),k=ht.hasEagerState?ht.eagerState:d(k,ht.action);else{var Dt={lane:Et,action:ht.action,hasEagerState:ht.hasEagerState,eagerState:ht.eagerState,next:null};ze===null?(Pe=ze=Dt,de=k):ze=ze.next=Dt,Lr.lanes|=Et,od|=Et}ht=ht.next}while(ht!==null&&ht!==Y);ze===null?de=k:ze.next=Pe,Us(k,p.memoizedState)||(Ii=!0),p.memoizedState=k,p.baseState=de,p.baseQueue=ze,v.lastRenderedState=k}if(d=v.interleaved,d!==null){$=d;do Y=$.lane,Lr.lanes|=Y,od|=Y,$=$.next;while($!==d)}else $===null&&(v.lanes=0);return[p.memoizedState,v.dispatch]}function R1(d){var p=Ia(),v=p.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=d;var k=v.dispatch,$=v.pending,Y=p.memoizedState;if($!==null){v.pending=null;var de=$=$.next;do Y=d(Y,de.action),de=de.next;while(de!==$);Us(Y,p.memoizedState)||(Ii=!0),p.memoizedState=Y,p.baseQueue===null&&(p.baseState=Y),v.lastRenderedState=Y}return[Y,k]}function BE(){}function $E(d,p){var v=Lr,k=Ia(),$=p(),Y=!Us(k.memoizedState,$);if(Y&&(k.memoizedState=$,Ii=!0),k=k.queue,L1(HE.bind(null,v,k,d),[d]),k.getSnapshot!==p||Y||ys!==null&&ys.memoizedState.tag&1){if(v.flags|=2048,nm(9,UE.bind(null,v,k,$,p),void 0,null),bs===null)throw Error(n(349));ad&30||zE(v,p,$)}return $}function zE(d,p,v){d.flags|=16384,d={getSnapshot:p,value:v},p=Lr.updateQueue,p===null?(p={lastEffect:null,stores:null},Lr.updateQueue=p,p.stores=[d]):(v=p.stores,v===null?p.stores=[d]:v.push(d))}function UE(d,p,v,k){p.value=v,p.getSnapshot=k,WE(p)&&VE(d)}function HE(d,p,v){return v(function(){WE(p)&&VE(d)})}function WE(d){var p=d.getSnapshot;d=d.value;try{var v=p();return!Us(d,v)}catch{return!0}}function VE(d){var p=Vl(d,1);p!==null&&_o(p,d,1,-1)}function qE(d){var p=tl();return typeof d=="function"&&(d=d()),p.memoizedState=p.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tm,lastRenderedState:d},p.queue=d,d=d.dispatch=C7.bind(null,Lr,d),[p.memoizedState,d]}function nm(d,p,v,k){return d={tag:d,create:p,destroy:v,deps:k,next:null},p=Lr.updateQueue,p===null?(p={lastEffect:null,stores:null},Lr.updateQueue=p,p.lastEffect=d.next=d):(v=p.lastEffect,v===null?p.lastEffect=d.next=d:(k=v.next,v.next=d,d.next=k,p.lastEffect=d)),d}function YE(){return Ia().memoizedState}function z0(d,p,v,k){var $=tl();Lr.flags|=d,$.memoizedState=nm(1|p,v,void 0,k===void 0?null:k)}function U0(d,p,v,k){var $=Ia();k=k===void 0?null:k;var Y=void 0;if(cs!==null){var de=cs.memoizedState;if(Y=de.destroy,k!==null&&P1(k,de.deps)){$.memoizedState=nm(p,v,Y,k);return}}Lr.flags|=d,$.memoizedState=nm(1|p,v,Y,k)}function GE(d,p){return z0(8390656,8,d,p)}function L1(d,p){return U0(2048,8,d,p)}function KE(d,p){return U0(4,2,d,p)}function XE(d,p){return U0(4,4,d,p)}function QE(d,p){if(typeof p=="function")return d=d(),p(d),function(){p(null)};if(p!=null)return d=d(),p.current=d,function(){p.current=null}}function ZE(d,p,v){return v=v!=null?v.concat([d]):null,U0(4,4,QE.bind(null,p,d),v)}function F1(){}function JE(d,p){var v=Ia();p=p===void 0?null:p;var k=v.memoizedState;return k!==null&&p!==null&&P1(p,k[1])?k[0]:(v.memoizedState=[d,p],d)}function ej(d,p){var v=Ia();p=p===void 0?null:p;var k=v.memoizedState;return k!==null&&p!==null&&P1(p,k[1])?k[0]:(d=d(),v.memoizedState=[d,p],d)}function tj(d,p,v){return ad&21?(Us(v,p)||(v=at(),Lr.lanes|=v,od|=v,d.baseState=!0),p):(d.baseState&&(d.baseState=!1,Ii=!0),d.memoizedState=v)}function w7(d,p){var v=et;et=v!==0&&4>v?v:4,d(!0);var k=A1.transition;A1.transition={};try{d(!1),p()}finally{et=v,A1.transition=k}}function nj(){return Ia().memoizedState}function S7(d,p,v){var k=Qc(d);if(v={lane:k,action:v,hasEagerState:!1,eagerState:null,next:null},rj(d))sj(p,v);else if(v=OE(d,p,v,k),v!==null){var $=ui();_o(v,d,k,$),ij(v,p,k)}}function C7(d,p,v){var k=Qc(d),$={lane:k,action:v,hasEagerState:!1,eagerState:null,next:null};if(rj(d))sj(p,$);else{var Y=d.alternate;if(d.lanes===0&&(Y===null||Y.lanes===0)&&(Y=p.lastRenderedReducer,Y!==null))try{var de=p.lastRenderedState,Pe=Y(de,v);if($.hasEagerState=!0,$.eagerState=Pe,Us(Pe,de)){var ze=p.interleaved;ze===null?($.next=$,T1(p)):($.next=ze.next,ze.next=$),p.interleaved=$;return}}catch{}finally{}v=OE(d,p,$,k),v!==null&&($=ui(),_o(v,d,k,$),ij(v,p,k))}}function rj(d){var p=d.alternate;return d===Lr||p!==null&&p===Lr}function sj(d,p){Jp=$0=!0;var v=d.pending;v===null?p.next=p:(p.next=v.next,v.next=p),d.pending=p}function ij(d,p,v){if(v&4194240){var k=p.lanes;k&=d.pendingLanes,v|=k,p.lanes=v,He(d,v)}}var H0={readContext:Pa,useCallback:Ws,useContext:Ws,useEffect:Ws,useImperativeHandle:Ws,useInsertionEffect:Ws,useLayoutEffect:Ws,useMemo:Ws,useReducer:Ws,useRef:Ws,useState:Ws,useDebugValue:Ws,useDeferredValue:Ws,useTransition:Ws,useMutableSource:Ws,useSyncExternalStore:Ws,useId:Ws,unstable_isNewReconciler:!1},T7={readContext:Pa,useCallback:function(d,p){return tl().memoizedState=[d,p===void 0?null:p],d},useContext:Pa,useEffect:GE,useImperativeHandle:function(d,p,v){return v=v!=null?v.concat([d]):null,z0(4194308,4,QE.bind(null,p,d),v)},useLayoutEffect:function(d,p){return z0(4194308,4,d,p)},useInsertionEffect:function(d,p){return z0(4,2,d,p)},useMemo:function(d,p){var v=tl();return p=p===void 0?null:p,d=d(),v.memoizedState=[d,p],d},useReducer:function(d,p,v){var k=tl();return p=v!==void 0?v(p):p,k.memoizedState=k.baseState=p,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:p},k.queue=d,d=d.dispatch=S7.bind(null,Lr,d),[k.memoizedState,d]},useRef:function(d){var p=tl();return d={current:d},p.memoizedState=d},useState:qE,useDebugValue:F1,useDeferredValue:function(d){return tl().memoizedState=d},useTransition:function(){var d=qE(!1),p=d[0];return d=w7.bind(null,d[1]),tl().memoizedState=d,[p,d]},useMutableSource:function(){},useSyncExternalStore:function(d,p,v){var k=Lr,$=tl();if(jr){if(v===void 0)throw Error(n(407));v=v()}else{if(v=p(),bs===null)throw Error(n(349));ad&30||zE(k,p,v)}$.memoizedState=v;var Y={value:v,getSnapshot:p};return $.queue=Y,GE(HE.bind(null,k,Y,d),[d]),k.flags|=2048,nm(9,UE.bind(null,k,Y,v,p),void 0,null),v},useId:function(){var d=tl(),p=bs.identifierPrefix;if(jr){var v=Wl,k=Hl;v=(k&~(1<<32-Ur(k)-1)).toString(32)+v,p=":"+p+"R"+v,v=em++,0<v&&(p+="H"+v.toString(32)),p+=":"}else v=_7++,p=":"+p+"r"+v.toString(32)+":";return d.memoizedState=p},unstable_isNewReconciler:!1},k7={readContext:Pa,useCallback:JE,useContext:Pa,useEffect:L1,useImperativeHandle:ZE,useInsertionEffect:KE,useLayoutEffect:XE,useMemo:ej,useReducer:M1,useRef:YE,useState:function(){return M1(tm)},useDebugValue:F1,useDeferredValue:function(d){var p=Ia();return tj(p,cs.memoizedState,d)},useTransition:function(){var d=M1(tm)[0],p=Ia().memoizedState;return[d,p]},useMutableSource:BE,useSyncExternalStore:$E,useId:nj,unstable_isNewReconciler:!1},E7={readContext:Pa,useCallback:JE,useContext:Pa,useEffect:L1,useImperativeHandle:ZE,useInsertionEffect:KE,useLayoutEffect:XE,useMemo:ej,useReducer:R1,useRef:YE,useState:function(){return R1(tm)},useDebugValue:F1,useDeferredValue:function(d){var p=Ia();return cs===null?p.memoizedState=d:tj(p,cs.memoizedState,d)},useTransition:function(){var d=R1(tm)[0],p=Ia().memoizedState;return[d,p]},useMutableSource:BE,useSyncExternalStore:$E,useId:nj,unstable_isNewReconciler:!1};function bo(d,p){if(d&&d.defaultProps){p=K({},p),d=d.defaultProps;for(var v in d)p[v]===void 0&&(p[v]=d[v]);return p}return p}function B1(d,p,v,k){p=d.memoizedState,v=v(k,p),v=v==null?p:K({},p,v),d.memoizedState=v,d.lanes===0&&(d.updateQueue.baseState=v)}var W0={isMounted:function(d){return(d=d._reactInternals)?vn(d)===d:!1},enqueueSetState:function(d,p,v){d=d._reactInternals;var k=ui(),$=Qc(d),Y=ql(k,$);Y.payload=p,v!=null&&(Y.callback=v),p=Yc(d,Y,$),p!==null&&(_o(p,d,$,k),R0(p,d,$))},enqueueReplaceState:function(d,p,v){d=d._reactInternals;var k=ui(),$=Qc(d),Y=ql(k,$);Y.tag=1,Y.payload=p,v!=null&&(Y.callback=v),p=Yc(d,Y,$),p!==null&&(_o(p,d,$,k),R0(p,d,$))},enqueueForceUpdate:function(d,p){d=d._reactInternals;var v=ui(),k=Qc(d),$=ql(v,k);$.tag=2,p!=null&&($.callback=p),p=Yc(d,$,k),p!==null&&(_o(p,d,k,v),R0(p,d,k))}};function aj(d,p,v,k,$,Y,de){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(k,Y,de):p.prototype&&p.prototype.isPureReactComponent?!Go(v,k)||!Go($,Y):!0}function oj(d,p,v){var k=!1,$=Rt,Y=p.contextType;return typeof Y=="object"&&Y!==null?Y=Pa(Y):($=dr(p)?xn:mt.current,k=p.contextTypes,Y=(k=k!=null)?wr(d,$):Rt),p=new p(v,Y),d.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=W0,d.stateNode=p,p._reactInternals=d,k&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=$,d.__reactInternalMemoizedMaskedChildContext=Y),p}function lj(d,p,v,k){d=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(v,k),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(v,k),p.state!==d&&W0.enqueueReplaceState(p,p.state,null)}function $1(d,p,v,k){var $=d.stateNode;$.props=v,$.state=d.memoizedState,$.refs={},k1(d);var Y=p.contextType;typeof Y=="object"&&Y!==null?$.context=Pa(Y):(Y=dr(p)?xn:mt.current,$.context=wr(d,Y)),$.state=d.memoizedState,Y=p.getDerivedStateFromProps,typeof Y=="function"&&(B1(d,p,Y,v),$.state=d.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof $.getSnapshotBeforeUpdate=="function"||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(p=$.state,typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount(),p!==$.state&&W0.enqueueReplaceState($,$.state,null),L0(d,v,$,k),$.state=d.memoizedState),typeof $.componentDidMount=="function"&&(d.flags|=4194308)}function $h(d,p){try{var v="",k=p;do v+=ge(k),k=k.return;while(k);var $=v}catch(Y){$=`
Error generating stack: `+Y.message+`
`+Y.stack}return{value:d,source:p,stack:$,digest:null}}function z1(d,p,v){return{value:d,source:null,stack:v??null,digest:p??null}}function U1(d,p){try{console.error(p.value)}catch(v){setTimeout(function(){throw v})}}var j7=typeof WeakMap=="function"?WeakMap:Map;function cj(d,p,v){v=ql(-1,v),v.tag=3,v.payload={element:null};var k=p.value;return v.callback=function(){Q0||(Q0=!0,r_=k),U1(d,p)},v}function uj(d,p,v){v=ql(-1,v),v.tag=3;var k=d.type.getDerivedStateFromError;if(typeof k=="function"){var $=p.value;v.payload=function(){return k($)},v.callback=function(){U1(d,p)}}var Y=d.stateNode;return Y!==null&&typeof Y.componentDidCatch=="function"&&(v.callback=function(){U1(d,p),typeof k!="function"&&(Kc===null?Kc=new Set([this]):Kc.add(this));var de=p.stack;this.componentDidCatch(p.value,{componentStack:de!==null?de:""})}),v}function dj(d,p,v){var k=d.pingCache;if(k===null){k=d.pingCache=new j7;var $=new Set;k.set(p,$)}else $=k.get(p),$===void 0&&($=new Set,k.set(p,$));$.has(v)||($.add(v),d=U7.bind(null,d,p,v),p.then(d,d))}function hj(d){do{var p;if((p=d.tag===13)&&(p=d.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return d;d=d.return}while(d!==null);return null}function fj(d,p,v,k,$){return d.mode&1?(d.flags|=65536,d.lanes=$,d):(d===p?d.flags|=65536:(d.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:(p=ql(-1,1),p.tag=2,Yc(v,p,1))),v.lanes|=1),d)}var N7=D.ReactCurrentOwner,Ii=!1;function ci(d,p,v,k){p.child=d===null?IE(p,null,v,k):Rh(p,d.child,v,k)}function pj(d,p,v,k,$){v=v.render;var Y=p.ref;return Fh(p,$),k=I1(d,p,v,k,Y,$),v=O1(),d!==null&&!Ii?(p.updateQueue=d.updateQueue,p.flags&=-2053,d.lanes&=~$,Yl(d,p,$)):(jr&&v&&g1(p),p.flags|=1,ci(d,p,k,$),p.child)}function mj(d,p,v,k,$){if(d===null){var Y=v.type;return typeof Y=="function"&&!u_(Y)&&Y.defaultProps===void 0&&v.compare===null&&v.defaultProps===void 0?(p.tag=15,p.type=Y,gj(d,p,Y,k,$)):(d=ry(v.type,null,k,p,p.mode,$),d.ref=p.ref,d.return=p,p.child=d)}if(Y=d.child,!(d.lanes&$)){var de=Y.memoizedProps;if(v=v.compare,v=v!==null?v:Go,v(de,k)&&d.ref===p.ref)return Yl(d,p,$)}return p.flags|=1,d=Jc(Y,k),d.ref=p.ref,d.return=p,p.child=d}function gj(d,p,v,k,$){if(d!==null){var Y=d.memoizedProps;if(Go(Y,k)&&d.ref===p.ref)if(Ii=!1,p.pendingProps=k=Y,(d.lanes&$)!==0)d.flags&131072&&(Ii=!0);else return p.lanes=d.lanes,Yl(d,p,$)}return H1(d,p,v,k,$)}function yj(d,p,v){var k=p.pendingProps,$=k.children,Y=d!==null?d.memoizedState:null;if(k.mode==="hidden")if(!(p.mode&1))p.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(Uh,sa),sa|=v;else{if(!(v&1073741824))return d=Y!==null?Y.baseLanes|v:v,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:d,cachePool:null,transitions:null},p.updateQueue=null,rt(Uh,sa),sa|=d,null;p.memoizedState={baseLanes:0,cachePool:null,transitions:null},k=Y!==null?Y.baseLanes:v,rt(Uh,sa),sa|=k}else Y!==null?(k=Y.baseLanes|v,p.memoizedState=null):k=v,rt(Uh,sa),sa|=k;return ci(d,p,$,v),p.child}function bj(d,p){var v=p.ref;(d===null&&v!==null||d!==null&&d.ref!==v)&&(p.flags|=512,p.flags|=2097152)}function H1(d,p,v,k,$){var Y=dr(v)?xn:mt.current;return Y=wr(p,Y),Fh(p,$),v=I1(d,p,v,k,Y,$),k=O1(),d!==null&&!Ii?(p.updateQueue=d.updateQueue,p.flags&=-2053,d.lanes&=~$,Yl(d,p,$)):(jr&&k&&g1(p),p.flags|=1,ci(d,p,v,$),p.child)}function xj(d,p,v,k,$){if(dr(v)){var Y=!0;Jo(p)}else Y=!1;if(Fh(p,$),p.stateNode===null)q0(d,p),oj(p,v,k),$1(p,v,k,$),k=!0;else if(d===null){var de=p.stateNode,Pe=p.memoizedProps;de.props=Pe;var ze=de.context,ht=v.contextType;typeof ht=="object"&&ht!==null?ht=Pa(ht):(ht=dr(v)?xn:mt.current,ht=wr(p,ht));var Et=v.getDerivedStateFromProps,Dt=typeof Et=="function"||typeof de.getSnapshotBeforeUpdate=="function";Dt||typeof de.UNSAFE_componentWillReceiveProps!="function"&&typeof de.componentWillReceiveProps!="function"||(Pe!==k||ze!==ht)&&lj(p,de,k,ht),qc=!1;var kt=p.memoizedState;de.state=kt,L0(p,k,de,$),ze=p.memoizedState,Pe!==k||kt!==ze||Kt.current||qc?(typeof Et=="function"&&(B1(p,v,Et,k),ze=p.memoizedState),(Pe=qc||aj(p,v,Pe,k,kt,ze,ht))?(Dt||typeof de.UNSAFE_componentWillMount!="function"&&typeof de.componentWillMount!="function"||(typeof de.componentWillMount=="function"&&de.componentWillMount(),typeof de.UNSAFE_componentWillMount=="function"&&de.UNSAFE_componentWillMount()),typeof de.componentDidMount=="function"&&(p.flags|=4194308)):(typeof de.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=k,p.memoizedState=ze),de.props=k,de.state=ze,de.context=ht,k=Pe):(typeof de.componentDidMount=="function"&&(p.flags|=4194308),k=!1)}else{de=p.stateNode,ME(d,p),Pe=p.memoizedProps,ht=p.type===p.elementType?Pe:bo(p.type,Pe),de.props=ht,Dt=p.pendingProps,kt=de.context,ze=v.contextType,typeof ze=="object"&&ze!==null?ze=Pa(ze):(ze=dr(v)?xn:mt.current,ze=wr(p,ze));var Yt=v.getDerivedStateFromProps;(Et=typeof Yt=="function"||typeof de.getSnapshotBeforeUpdate=="function")||typeof de.UNSAFE_componentWillReceiveProps!="function"&&typeof de.componentWillReceiveProps!="function"||(Pe!==Dt||kt!==ze)&&lj(p,de,k,ze),qc=!1,kt=p.memoizedState,de.state=kt,L0(p,k,de,$);var tn=p.memoizedState;Pe!==Dt||kt!==tn||Kt.current||qc?(typeof Yt=="function"&&(B1(p,v,Yt,k),tn=p.memoizedState),(ht=qc||aj(p,v,ht,k,kt,tn,ze)||!1)?(Et||typeof de.UNSAFE_componentWillUpdate!="function"&&typeof de.componentWillUpdate!="function"||(typeof de.componentWillUpdate=="function"&&de.componentWillUpdate(k,tn,ze),typeof de.UNSAFE_componentWillUpdate=="function"&&de.UNSAFE_componentWillUpdate(k,tn,ze)),typeof de.componentDidUpdate=="function"&&(p.flags|=4),typeof de.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof de.componentDidUpdate!="function"||Pe===d.memoizedProps&&kt===d.memoizedState||(p.flags|=4),typeof de.getSnapshotBeforeUpdate!="function"||Pe===d.memoizedProps&&kt===d.memoizedState||(p.flags|=1024),p.memoizedProps=k,p.memoizedState=tn),de.props=k,de.state=tn,de.context=ze,k=ht):(typeof de.componentDidUpdate!="function"||Pe===d.memoizedProps&&kt===d.memoizedState||(p.flags|=4),typeof de.getSnapshotBeforeUpdate!="function"||Pe===d.memoizedProps&&kt===d.memoizedState||(p.flags|=1024),k=!1)}return W1(d,p,v,k,Y,$)}function W1(d,p,v,k,$,Y){bj(d,p);var de=(p.flags&128)!==0;if(!k&&!de)return $&&Wc(p,v,!1),Yl(d,p,Y);k=p.stateNode,N7.current=p;var Pe=de&&typeof v.getDerivedStateFromError!="function"?null:k.render();return p.flags|=1,d!==null&&de?(p.child=Rh(p,d.child,null,Y),p.child=Rh(p,null,Pe,Y)):ci(d,p,Pe,Y),p.memoizedState=k.state,$&&Wc(p,v,!0),p.child}function vj(d){var p=d.stateNode;p.pendingContext?Uc(d,p.pendingContext,p.pendingContext!==p.context):p.context&&Uc(d,p.context,!1),E1(d,p.containerInfo)}function _j(d,p,v,k,$){return Mh(),v1($),p.flags|=256,ci(d,p,v,k),p.child}var V1={dehydrated:null,treeContext:null,retryLane:0};function q1(d){return{baseLanes:d,cachePool:null,transitions:null}}function wj(d,p,v){var k=p.pendingProps,$=Rr.current,Y=!1,de=(p.flags&128)!==0,Pe;if((Pe=de)||(Pe=d!==null&&d.memoizedState===null?!1:($&2)!==0),Pe?(Y=!0,p.flags&=-129):(d===null||d.memoizedState!==null)&&($|=1),rt(Rr,$&1),d===null)return x1(p),d=p.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?(p.mode&1?d.data==="$!"?p.lanes=8:p.lanes=1073741824:p.lanes=1,null):(de=k.children,d=k.fallback,Y?(k=p.mode,Y=p.child,de={mode:"hidden",children:de},!(k&1)&&Y!==null?(Y.childLanes=0,Y.pendingProps=de):Y=sy(de,k,0,null),d=dd(d,k,v,null),Y.return=p,d.return=p,Y.sibling=d,p.child=Y,p.child.memoizedState=q1(v),p.memoizedState=V1,d):Y1(p,de));if($=d.memoizedState,$!==null&&(Pe=$.dehydrated,Pe!==null))return D7(d,p,de,k,Pe,$,v);if(Y){Y=k.fallback,de=p.mode,$=d.child,Pe=$.sibling;var ze={mode:"hidden",children:k.children};return!(de&1)&&p.child!==$?(k=p.child,k.childLanes=0,k.pendingProps=ze,p.deletions=null):(k=Jc($,ze),k.subtreeFlags=$.subtreeFlags&14680064),Pe!==null?Y=Jc(Pe,Y):(Y=dd(Y,de,v,null),Y.flags|=2),Y.return=p,k.return=p,k.sibling=Y,p.child=k,k=Y,Y=p.child,de=d.child.memoizedState,de=de===null?q1(v):{baseLanes:de.baseLanes|v,cachePool:null,transitions:de.transitions},Y.memoizedState=de,Y.childLanes=d.childLanes&~v,p.memoizedState=V1,k}return Y=d.child,d=Y.sibling,k=Jc(Y,{mode:"visible",children:k.children}),!(p.mode&1)&&(k.lanes=v),k.return=p,k.sibling=null,d!==null&&(v=p.deletions,v===null?(p.deletions=[d],p.flags|=16):v.push(d)),p.child=k,p.memoizedState=null,k}function Y1(d,p){return p=sy({mode:"visible",children:p},d.mode,0,null),p.return=d,d.child=p}function V0(d,p,v,k){return k!==null&&v1(k),Rh(p,d.child,null,v),d=Y1(p,p.pendingProps.children),d.flags|=2,p.memoizedState=null,d}function D7(d,p,v,k,$,Y,de){if(v)return p.flags&256?(p.flags&=-257,k=z1(Error(n(422))),V0(d,p,de,k)):p.memoizedState!==null?(p.child=d.child,p.flags|=128,null):(Y=k.fallback,$=p.mode,k=sy({mode:"visible",children:k.children},$,0,null),Y=dd(Y,$,de,null),Y.flags|=2,k.return=p,Y.return=p,k.sibling=Y,p.child=k,p.mode&1&&Rh(p,d.child,null,de),p.child.memoizedState=q1(de),p.memoizedState=V1,Y);if(!(p.mode&1))return V0(d,p,de,null);if($.data==="$!"){if(k=$.nextSibling&&$.nextSibling.dataset,k)var Pe=k.dgst;return k=Pe,Y=Error(n(419)),k=z1(Y,k,void 0),V0(d,p,de,k)}if(Pe=(de&d.childLanes)!==0,Ii||Pe){if(k=bs,k!==null){switch(de&-de){case 4:$=2;break;case 16:$=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:$=32;break;case 536870912:$=268435456;break;default:$=0}$=$&(k.suspendedLanes|de)?0:$,$!==0&&$!==Y.retryLane&&(Y.retryLane=$,Vl(d,$),_o(k,d,$,-1))}return c_(),k=z1(Error(n(421))),V0(d,p,de,k)}return $.data==="$?"?(p.flags|=128,p.child=d.child,p=H7.bind(null,d),$._reactRetry=p,null):(d=Y.treeContext,ra=Zo($.nextSibling),na=p,jr=!0,yo=null,d!==null&&(Da[Aa++]=Hl,Da[Aa++]=Wl,Da[Aa++]=nd,Hl=d.id,Wl=d.overflow,nd=p),p=Y1(p,k.children),p.flags|=4096,p)}function Sj(d,p,v){d.lanes|=p;var k=d.alternate;k!==null&&(k.lanes|=p),C1(d.return,p,v)}function G1(d,p,v,k,$){var Y=d.memoizedState;Y===null?d.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:k,tail:v,tailMode:$}:(Y.isBackwards=p,Y.rendering=null,Y.renderingStartTime=0,Y.last=k,Y.tail=v,Y.tailMode=$)}function Cj(d,p,v){var k=p.pendingProps,$=k.revealOrder,Y=k.tail;if(ci(d,p,k.children,v),k=Rr.current,k&2)k=k&1|2,p.flags|=128;else{if(d!==null&&d.flags&128)e:for(d=p.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&Sj(d,v,p);else if(d.tag===19)Sj(d,v,p);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===p)break e;for(;d.sibling===null;){if(d.return===null||d.return===p)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}k&=1}if(rt(Rr,k),!(p.mode&1))p.memoizedState=null;else switch($){case"forwards":for(v=p.child,$=null;v!==null;)d=v.alternate,d!==null&&F0(d)===null&&($=v),v=v.sibling;v=$,v===null?($=p.child,p.child=null):($=v.sibling,v.sibling=null),G1(p,!1,$,v,Y);break;case"backwards":for(v=null,$=p.child,p.child=null;$!==null;){if(d=$.alternate,d!==null&&F0(d)===null){p.child=$;break}d=$.sibling,$.sibling=v,v=$,$=d}G1(p,!0,v,null,Y);break;case"together":G1(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function q0(d,p){!(p.mode&1)&&d!==null&&(d.alternate=null,p.alternate=null,p.flags|=2)}function Yl(d,p,v){if(d!==null&&(p.dependencies=d.dependencies),od|=p.lanes,!(v&p.childLanes))return null;if(d!==null&&p.child!==d.child)throw Error(n(153));if(p.child!==null){for(d=p.child,v=Jc(d,d.pendingProps),p.child=v,v.return=p;d.sibling!==null;)d=d.sibling,v=v.sibling=Jc(d,d.pendingProps),v.return=p;v.sibling=null}return p.child}function A7(d,p,v){switch(p.tag){case 3:vj(p),Mh();break;case 5:FE(p);break;case 1:dr(p.type)&&Jo(p);break;case 4:E1(p,p.stateNode.containerInfo);break;case 10:var k=p.type._context,$=p.memoizedProps.value;rt(O0,k._currentValue),k._currentValue=$;break;case 13:if(k=p.memoizedState,k!==null)return k.dehydrated!==null?(rt(Rr,Rr.current&1),p.flags|=128,null):v&p.child.childLanes?wj(d,p,v):(rt(Rr,Rr.current&1),d=Yl(d,p,v),d!==null?d.sibling:null);rt(Rr,Rr.current&1);break;case 19:if(k=(v&p.childLanes)!==0,d.flags&128){if(k)return Cj(d,p,v);p.flags|=128}if($=p.memoizedState,$!==null&&($.rendering=null,$.tail=null,$.lastEffect=null),rt(Rr,Rr.current),k)break;return null;case 22:case 23:return p.lanes=0,yj(d,p,v)}return Yl(d,p,v)}var Tj,K1,kj,Ej;Tj=function(d,p){for(var v=p.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===p)break;for(;v.sibling===null;){if(v.return===null||v.return===p)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},K1=function(){},kj=function(d,p,v,k){var $=d.memoizedProps;if($!==k){d=p.stateNode,id(el.current);var Y=null;switch(v){case"input":$=X(d,$),k=X(d,k),Y=[];break;case"select":$=K({},$,{value:void 0}),k=K({},k,{value:void 0}),Y=[];break;case"textarea":$=ce(d,$),k=ce(d,k),Y=[];break;default:typeof $.onClick!="function"&&typeof k.onClick=="function"&&(d.onclick=ed)}Be(v,k);var de;v=null;for(ht in $)if(!k.hasOwnProperty(ht)&&$.hasOwnProperty(ht)&&$[ht]!=null)if(ht==="style"){var Pe=$[ht];for(de in Pe)Pe.hasOwnProperty(de)&&(v||(v={}),v[de]="")}else ht!=="dangerouslySetInnerHTML"&&ht!=="children"&&ht!=="suppressContentEditableWarning"&&ht!=="suppressHydrationWarning"&&ht!=="autoFocus"&&(s.hasOwnProperty(ht)?Y||(Y=[]):(Y=Y||[]).push(ht,null));for(ht in k){var ze=k[ht];if(Pe=$!=null?$[ht]:void 0,k.hasOwnProperty(ht)&&ze!==Pe&&(ze!=null||Pe!=null))if(ht==="style")if(Pe){for(de in Pe)!Pe.hasOwnProperty(de)||ze&&ze.hasOwnProperty(de)||(v||(v={}),v[de]="");for(de in ze)ze.hasOwnProperty(de)&&Pe[de]!==ze[de]&&(v||(v={}),v[de]=ze[de])}else v||(Y||(Y=[]),Y.push(ht,v)),v=ze;else ht==="dangerouslySetInnerHTML"?(ze=ze?ze.__html:void 0,Pe=Pe?Pe.__html:void 0,ze!=null&&Pe!==ze&&(Y=Y||[]).push(ht,ze)):ht==="children"?typeof ze!="string"&&typeof ze!="number"||(Y=Y||[]).push(ht,""+ze):ht!=="suppressContentEditableWarning"&&ht!=="suppressHydrationWarning"&&(s.hasOwnProperty(ht)?(ze!=null&&ht==="onScroll"&&En("scroll",d),Y||Pe===ze||(Y=[])):(Y=Y||[]).push(ht,ze))}v&&(Y=Y||[]).push("style",v);var ht=Y;(p.updateQueue=ht)&&(p.flags|=4)}},Ej=function(d,p,v,k){v!==k&&(p.flags|=4)};function rm(d,p){if(!jr)switch(d.tailMode){case"hidden":p=d.tail;for(var v=null;p!==null;)p.alternate!==null&&(v=p),p=p.sibling;v===null?d.tail=null:v.sibling=null;break;case"collapsed":v=d.tail;for(var k=null;v!==null;)v.alternate!==null&&(k=v),v=v.sibling;k===null?p||d.tail===null?d.tail=null:d.tail.sibling=null:k.sibling=null}}function Vs(d){var p=d.alternate!==null&&d.alternate.child===d.child,v=0,k=0;if(p)for(var $=d.child;$!==null;)v|=$.lanes|$.childLanes,k|=$.subtreeFlags&14680064,k|=$.flags&14680064,$.return=d,$=$.sibling;else for($=d.child;$!==null;)v|=$.lanes|$.childLanes,k|=$.subtreeFlags,k|=$.flags,$.return=d,$=$.sibling;return d.subtreeFlags|=k,d.childLanes=v,p}function P7(d,p,v){var k=p.pendingProps;switch(y1(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vs(p),null;case 1:return dr(p.type)&&ta(),Vs(p),null;case 3:return k=p.stateNode,Bh(),$e(Kt),$e(mt),D1(),k.pendingContext&&(k.context=k.pendingContext,k.pendingContext=null),(d===null||d.child===null)&&(P0(p)?p.flags|=4:d===null||d.memoizedState.isDehydrated&&!(p.flags&256)||(p.flags|=1024,yo!==null&&(a_(yo),yo=null))),K1(d,p),Vs(p),null;case 5:j1(p);var $=id(Zp.current);if(v=p.type,d!==null&&p.stateNode!=null)kj(d,p,v,k,$),d.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!k){if(p.stateNode===null)throw Error(n(166));return Vs(p),null}if(d=id(el.current),P0(p)){k=p.stateNode,v=p.type;var Y=p.memoizedProps;switch(k[ja]=p,k[td]=Y,d=(p.mode&1)!==0,v){case"dialog":En("cancel",k),En("close",k);break;case"iframe":case"object":case"embed":En("load",k);break;case"video":case"audio":for($=0;$<ft.length;$++)En(ft[$],k);break;case"source":En("error",k);break;case"img":case"image":case"link":En("error",k),En("load",k);break;case"details":En("toggle",k);break;case"input":Me(k,Y),En("invalid",k);break;case"select":k._wrapperState={wasMultiple:!!Y.multiple},En("invalid",k);break;case"textarea":ve(k,Y),En("invalid",k)}Be(v,Y),$=null;for(var de in Y)if(Y.hasOwnProperty(de)){var Pe=Y[de];de==="children"?typeof Pe=="string"?k.textContent!==Pe&&(Y.suppressHydrationWarning!==!0&&Ph(k.textContent,Pe,d),$=["children",Pe]):typeof Pe=="number"&&k.textContent!==""+Pe&&(Y.suppressHydrationWarning!==!0&&Ph(k.textContent,Pe,d),$=["children",""+Pe]):s.hasOwnProperty(de)&&Pe!=null&&de==="onScroll"&&En("scroll",k)}switch(v){case"input":Je(k),ie(k,Y,!0);break;case"textarea":Je(k),Fe(k);break;case"select":case"option":break;default:typeof Y.onClick=="function"&&(k.onclick=ed)}k=$,p.updateQueue=k,k!==null&&(p.flags|=4)}else{de=$.nodeType===9?$:$.ownerDocument,d==="http://www.w3.org/1999/xhtml"&&(d=Se(v)),d==="http://www.w3.org/1999/xhtml"?v==="script"?(d=de.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild)):typeof k.is=="string"?d=de.createElement(v,{is:k.is}):(d=de.createElement(v),v==="select"&&(de=d,k.multiple?de.multiple=!0:k.size&&(de.size=k.size))):d=de.createElementNS(d,v),d[ja]=p,d[td]=k,Tj(d,p,!1,!1),p.stateNode=d;e:{switch(de=Ye(v,k),v){case"dialog":En("cancel",d),En("close",d),$=k;break;case"iframe":case"object":case"embed":En("load",d),$=k;break;case"video":case"audio":for($=0;$<ft.length;$++)En(ft[$],d);$=k;break;case"source":En("error",d),$=k;break;case"img":case"image":case"link":En("error",d),En("load",d),$=k;break;case"details":En("toggle",d),$=k;break;case"input":Me(d,k),$=X(d,k),En("invalid",d);break;case"option":$=k;break;case"select":d._wrapperState={wasMultiple:!!k.multiple},$=K({},k,{value:void 0}),En("invalid",d);break;case"textarea":ve(d,k),$=ce(d,k),En("invalid",d);break;default:$=k}Be(v,$),Pe=$;for(Y in Pe)if(Pe.hasOwnProperty(Y)){var ze=Pe[Y];Y==="style"?xt(d,ze):Y==="dangerouslySetInnerHTML"?(ze=ze?ze.__html:void 0,ze!=null&&Le(d,ze)):Y==="children"?typeof ze=="string"?(v!=="textarea"||ze!=="")&&Ue(d,ze):typeof ze=="number"&&Ue(d,""+ze):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(s.hasOwnProperty(Y)?ze!=null&&Y==="onScroll"&&En("scroll",d):ze!=null&&T(d,Y,ze,de))}switch(v){case"input":Je(d),ie(d,k,!1);break;case"textarea":Je(d),Fe(d);break;case"option":k.value!=null&&d.setAttribute("value",""+Re(k.value));break;case"select":d.multiple=!!k.multiple,Y=k.value,Y!=null?he(d,!!k.multiple,Y,!1):k.defaultValue!=null&&he(d,!!k.multiple,k.defaultValue,!0);break;default:typeof $.onClick=="function"&&(d.onclick=ed)}switch(v){case"button":case"input":case"select":case"textarea":k=!!k.autoFocus;break e;case"img":k=!0;break e;default:k=!1}}k&&(p.flags|=4)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return Vs(p),null;case 6:if(d&&p.stateNode!=null)Ej(d,p,d.memoizedProps,k);else{if(typeof k!="string"&&p.stateNode===null)throw Error(n(166));if(v=id(Zp.current),id(el.current),P0(p)){if(k=p.stateNode,v=p.memoizedProps,k[ja]=p,(Y=k.nodeValue!==v)&&(d=na,d!==null))switch(d.tag){case 3:Ph(k.nodeValue,v,(d.mode&1)!==0);break;case 5:d.memoizedProps.suppressHydrationWarning!==!0&&Ph(k.nodeValue,v,(d.mode&1)!==0)}Y&&(p.flags|=4)}else k=(v.nodeType===9?v:v.ownerDocument).createTextNode(k),k[ja]=p,p.stateNode=k}return Vs(p),null;case 13:if($e(Rr),k=p.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(jr&&ra!==null&&p.mode&1&&!(p.flags&128))DE(),Mh(),p.flags|=98560,Y=!1;else if(Y=P0(p),k!==null&&k.dehydrated!==null){if(d===null){if(!Y)throw Error(n(318));if(Y=p.memoizedState,Y=Y!==null?Y.dehydrated:null,!Y)throw Error(n(317));Y[ja]=p}else Mh(),!(p.flags&128)&&(p.memoizedState=null),p.flags|=4;Vs(p),Y=!1}else yo!==null&&(a_(yo),yo=null),Y=!0;if(!Y)return p.flags&65536?p:null}return p.flags&128?(p.lanes=v,p):(k=k!==null,k!==(d!==null&&d.memoizedState!==null)&&k&&(p.child.flags|=8192,p.mode&1&&(d===null||Rr.current&1?us===0&&(us=3):c_())),p.updateQueue!==null&&(p.flags|=4),Vs(p),null);case 4:return Bh(),K1(d,p),d===null&&Fc(p.stateNode.containerInfo),Vs(p),null;case 10:return S1(p.type._context),Vs(p),null;case 17:return dr(p.type)&&ta(),Vs(p),null;case 19:if($e(Rr),Y=p.memoizedState,Y===null)return Vs(p),null;if(k=(p.flags&128)!==0,de=Y.rendering,de===null)if(k)rm(Y,!1);else{if(us!==0||d!==null&&d.flags&128)for(d=p.child;d!==null;){if(de=F0(d),de!==null){for(p.flags|=128,rm(Y,!1),k=de.updateQueue,k!==null&&(p.updateQueue=k,p.flags|=4),p.subtreeFlags=0,k=v,v=p.child;v!==null;)Y=v,d=k,Y.flags&=14680066,de=Y.alternate,de===null?(Y.childLanes=0,Y.lanes=d,Y.child=null,Y.subtreeFlags=0,Y.memoizedProps=null,Y.memoizedState=null,Y.updateQueue=null,Y.dependencies=null,Y.stateNode=null):(Y.childLanes=de.childLanes,Y.lanes=de.lanes,Y.child=de.child,Y.subtreeFlags=0,Y.deletions=null,Y.memoizedProps=de.memoizedProps,Y.memoizedState=de.memoizedState,Y.updateQueue=de.updateQueue,Y.type=de.type,d=de.dependencies,Y.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),v=v.sibling;return rt(Rr,Rr.current&1|2),p.child}d=d.sibling}Y.tail!==null&&er()>Hh&&(p.flags|=128,k=!0,rm(Y,!1),p.lanes=4194304)}else{if(!k)if(d=F0(de),d!==null){if(p.flags|=128,k=!0,v=d.updateQueue,v!==null&&(p.updateQueue=v,p.flags|=4),rm(Y,!0),Y.tail===null&&Y.tailMode==="hidden"&&!de.alternate&&!jr)return Vs(p),null}else 2*er()-Y.renderingStartTime>Hh&&v!==1073741824&&(p.flags|=128,k=!0,rm(Y,!1),p.lanes=4194304);Y.isBackwards?(de.sibling=p.child,p.child=de):(v=Y.last,v!==null?v.sibling=de:p.child=de,Y.last=de)}return Y.tail!==null?(p=Y.tail,Y.rendering=p,Y.tail=p.sibling,Y.renderingStartTime=er(),p.sibling=null,v=Rr.current,rt(Rr,k?v&1|2:v&1),p):(Vs(p),null);case 22:case 23:return l_(),k=p.memoizedState!==null,d!==null&&d.memoizedState!==null!==k&&(p.flags|=8192),k&&p.mode&1?sa&1073741824&&(Vs(p),p.subtreeFlags&6&&(p.flags|=8192)):Vs(p),null;case 24:return null;case 25:return null}throw Error(n(156,p.tag))}function I7(d,p){switch(y1(p),p.tag){case 1:return dr(p.type)&&ta(),d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 3:return Bh(),$e(Kt),$e(mt),D1(),d=p.flags,d&65536&&!(d&128)?(p.flags=d&-65537|128,p):null;case 5:return j1(p),null;case 13:if($e(Rr),d=p.memoizedState,d!==null&&d.dehydrated!==null){if(p.alternate===null)throw Error(n(340));Mh()}return d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 19:return $e(Rr),null;case 4:return Bh(),null;case 10:return S1(p.type._context),null;case 22:case 23:return l_(),null;case 24:return null;default:return null}}var Y0=!1,qs=!1,O7=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function zh(d,p){var v=d.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(k){Hr(d,p,k)}else v.current=null}function X1(d,p,v){try{v()}catch(k){Hr(d,p,k)}}var jj=!1;function M7(d,p){if(Qo=jc,d=Ni(),$l(d)){if("selectionStart"in d)var v={start:d.selectionStart,end:d.selectionEnd};else e:{v=(v=d.ownerDocument)&&v.defaultView||window;var k=v.getSelection&&v.getSelection();if(k&&k.rangeCount!==0){v=k.anchorNode;var $=k.anchorOffset,Y=k.focusNode;k=k.focusOffset;try{v.nodeType,Y.nodeType}catch{v=null;break e}var de=0,Pe=-1,ze=-1,ht=0,Et=0,Dt=d,kt=null;t:for(;;){for(var Yt;Dt!==v||$!==0&&Dt.nodeType!==3||(Pe=de+$),Dt!==Y||k!==0&&Dt.nodeType!==3||(ze=de+k),Dt.nodeType===3&&(de+=Dt.nodeValue.length),(Yt=Dt.firstChild)!==null;)kt=Dt,Dt=Yt;for(;;){if(Dt===d)break t;if(kt===v&&++ht===$&&(Pe=de),kt===Y&&++Et===k&&(ze=de),(Yt=Dt.nextSibling)!==null)break;Dt=kt,kt=Dt.parentNode}Dt=Yt}v=Pe===-1||ze===-1?null:{start:Pe,end:ze}}else v=null}v=v||{start:0,end:0}}else v=null;for(Wn={focusedElem:d,selectionRange:v},jc=!1,Zt=p;Zt!==null;)if(p=Zt,d=p.child,(p.subtreeFlags&1028)!==0&&d!==null)d.return=p,Zt=d;else for(;Zt!==null;){p=Zt;try{var tn=p.alternate;if(p.flags&1024)switch(p.tag){case 0:case 11:case 15:break;case 1:if(tn!==null){var rn=tn.memoizedProps,Xr=tn.memoizedState,st=p.stateNode,Ve=st.getSnapshotBeforeUpdate(p.elementType===p.type?rn:bo(p.type,rn),Xr);st.__reactInternalSnapshotBeforeUpdate=Ve}break;case 3:var lt=p.stateNode.containerInfo;lt.nodeType===1?lt.textContent="":lt.nodeType===9&&lt.documentElement&&lt.removeChild(lt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Lt){Hr(p,p.return,Lt)}if(d=p.sibling,d!==null){d.return=p.return,Zt=d;break}Zt=p.return}return tn=jj,jj=!1,tn}function sm(d,p,v){var k=p.updateQueue;if(k=k!==null?k.lastEffect:null,k!==null){var $=k=k.next;do{if(($.tag&d)===d){var Y=$.destroy;$.destroy=void 0,Y!==void 0&&X1(p,v,Y)}$=$.next}while($!==k)}}function G0(d,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var v=p=p.next;do{if((v.tag&d)===d){var k=v.create;v.destroy=k()}v=v.next}while(v!==p)}}function Q1(d){var p=d.ref;if(p!==null){var v=d.stateNode;switch(d.tag){case 5:d=v;break;default:d=v}typeof p=="function"?p(d):p.current=d}}function Nj(d){var p=d.alternate;p!==null&&(d.alternate=null,Nj(p)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(p=d.stateNode,p!==null&&(delete p[ja],delete p[td],delete p[C],delete p[I],delete p[B])),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function Dj(d){return d.tag===5||d.tag===3||d.tag===4}function Aj(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||Dj(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function Z1(d,p,v){var k=d.tag;if(k===5||k===6)d=d.stateNode,p?v.nodeType===8?v.parentNode.insertBefore(d,p):v.insertBefore(d,p):(v.nodeType===8?(p=v.parentNode,p.insertBefore(d,v)):(p=v,p.appendChild(d)),v=v._reactRootContainer,v!=null||p.onclick!==null||(p.onclick=ed));else if(k!==4&&(d=d.child,d!==null))for(Z1(d,p,v),d=d.sibling;d!==null;)Z1(d,p,v),d=d.sibling}function J1(d,p,v){var k=d.tag;if(k===5||k===6)d=d.stateNode,p?v.insertBefore(d,p):v.appendChild(d);else if(k!==4&&(d=d.child,d!==null))for(J1(d,p,v),d=d.sibling;d!==null;)J1(d,p,v),d=d.sibling}var Is=null,xo=!1;function Gc(d,p,v){for(v=v.child;v!==null;)Pj(d,p,v),v=v.sibling}function Pj(d,p,v){if(_r&&typeof _r.onCommitFiberUnmount=="function")try{_r.onCommitFiberUnmount(va,v)}catch{}switch(v.tag){case 5:qs||zh(v,p);case 6:var k=Is,$=xo;Is=null,Gc(d,p,v),Is=k,xo=$,Is!==null&&(xo?(d=Is,v=v.stateNode,d.nodeType===8?d.parentNode.removeChild(v):d.removeChild(v)):Is.removeChild(v.stateNode));break;case 18:Is!==null&&(xo?(d=Is,v=v.stateNode,d.nodeType===8?Gp(d.parentNode,v):d.nodeType===1&&Gp(d,v),Al(d)):Gp(Is,v.stateNode));break;case 4:k=Is,$=xo,Is=v.stateNode.containerInfo,xo=!0,Gc(d,p,v),Is=k,xo=$;break;case 0:case 11:case 14:case 15:if(!qs&&(k=v.updateQueue,k!==null&&(k=k.lastEffect,k!==null))){$=k=k.next;do{var Y=$,de=Y.destroy;Y=Y.tag,de!==void 0&&(Y&2||Y&4)&&X1(v,p,de),$=$.next}while($!==k)}Gc(d,p,v);break;case 1:if(!qs&&(zh(v,p),k=v.stateNode,typeof k.componentWillUnmount=="function"))try{k.props=v.memoizedProps,k.state=v.memoizedState,k.componentWillUnmount()}catch(Pe){Hr(v,p,Pe)}Gc(d,p,v);break;case 21:Gc(d,p,v);break;case 22:v.mode&1?(qs=(k=qs)||v.memoizedState!==null,Gc(d,p,v),qs=k):Gc(d,p,v);break;default:Gc(d,p,v)}}function Ij(d){var p=d.updateQueue;if(p!==null){d.updateQueue=null;var v=d.stateNode;v===null&&(v=d.stateNode=new O7),p.forEach(function(k){var $=W7.bind(null,d,k);v.has(k)||(v.add(k),k.then($,$))})}}function vo(d,p){var v=p.deletions;if(v!==null)for(var k=0;k<v.length;k++){var $=v[k];try{var Y=d,de=p,Pe=de;e:for(;Pe!==null;){switch(Pe.tag){case 5:Is=Pe.stateNode,xo=!1;break e;case 3:Is=Pe.stateNode.containerInfo,xo=!0;break e;case 4:Is=Pe.stateNode.containerInfo,xo=!0;break e}Pe=Pe.return}if(Is===null)throw Error(n(160));Pj(Y,de,$),Is=null,xo=!1;var ze=$.alternate;ze!==null&&(ze.return=null),$.return=null}catch(ht){Hr($,p,ht)}}if(p.subtreeFlags&12854)for(p=p.child;p!==null;)Oj(p,d),p=p.sibling}function Oj(d,p){var v=d.alternate,k=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:if(vo(p,d),nl(d),k&4){try{sm(3,d,d.return),G0(3,d)}catch(rn){Hr(d,d.return,rn)}try{sm(5,d,d.return)}catch(rn){Hr(d,d.return,rn)}}break;case 1:vo(p,d),nl(d),k&512&&v!==null&&zh(v,v.return);break;case 5:if(vo(p,d),nl(d),k&512&&v!==null&&zh(v,v.return),d.flags&32){var $=d.stateNode;try{Ue($,"")}catch(rn){Hr(d,d.return,rn)}}if(k&4&&($=d.stateNode,$!=null)){var Y=d.memoizedProps,de=v!==null?v.memoizedProps:Y,Pe=d.type,ze=d.updateQueue;if(d.updateQueue=null,ze!==null)try{Pe==="input"&&Y.type==="radio"&&Y.name!=null&&ye($,Y),Ye(Pe,de);var ht=Ye(Pe,Y);for(de=0;de<ze.length;de+=2){var Et=ze[de],Dt=ze[de+1];Et==="style"?xt($,Dt):Et==="dangerouslySetInnerHTML"?Le($,Dt):Et==="children"?Ue($,Dt):T($,Et,Dt,ht)}switch(Pe){case"input":se($,Y);break;case"textarea":Ie($,Y);break;case"select":var kt=$._wrapperState.wasMultiple;$._wrapperState.wasMultiple=!!Y.multiple;var Yt=Y.value;Yt!=null?he($,!!Y.multiple,Yt,!1):kt!==!!Y.multiple&&(Y.defaultValue!=null?he($,!!Y.multiple,Y.defaultValue,!0):he($,!!Y.multiple,Y.multiple?[]:"",!1))}$[td]=Y}catch(rn){Hr(d,d.return,rn)}}break;case 6:if(vo(p,d),nl(d),k&4){if(d.stateNode===null)throw Error(n(162));$=d.stateNode,Y=d.memoizedProps;try{$.nodeValue=Y}catch(rn){Hr(d,d.return,rn)}}break;case 3:if(vo(p,d),nl(d),k&4&&v!==null&&v.memoizedState.isDehydrated)try{Al(p.containerInfo)}catch(rn){Hr(d,d.return,rn)}break;case 4:vo(p,d),nl(d);break;case 13:vo(p,d),nl(d),$=d.child,$.flags&8192&&(Y=$.memoizedState!==null,$.stateNode.isHidden=Y,!Y||$.alternate!==null&&$.alternate.memoizedState!==null||(n_=er())),k&4&&Ij(d);break;case 22:if(Et=v!==null&&v.memoizedState!==null,d.mode&1?(qs=(ht=qs)||Et,vo(p,d),qs=ht):vo(p,d),nl(d),k&8192){if(ht=d.memoizedState!==null,(d.stateNode.isHidden=ht)&&!Et&&d.mode&1)for(Zt=d,Et=d.child;Et!==null;){for(Dt=Zt=Et;Zt!==null;){switch(kt=Zt,Yt=kt.child,kt.tag){case 0:case 11:case 14:case 15:sm(4,kt,kt.return);break;case 1:zh(kt,kt.return);var tn=kt.stateNode;if(typeof tn.componentWillUnmount=="function"){k=kt,v=kt.return;try{p=k,tn.props=p.memoizedProps,tn.state=p.memoizedState,tn.componentWillUnmount()}catch(rn){Hr(k,v,rn)}}break;case 5:zh(kt,kt.return);break;case 22:if(kt.memoizedState!==null){Lj(Dt);continue}}Yt!==null?(Yt.return=kt,Zt=Yt):Lj(Dt)}Et=Et.sibling}e:for(Et=null,Dt=d;;){if(Dt.tag===5){if(Et===null){Et=Dt;try{$=Dt.stateNode,ht?(Y=$.style,typeof Y.setProperty=="function"?Y.setProperty("display","none","important"):Y.display="none"):(Pe=Dt.stateNode,ze=Dt.memoizedProps.style,de=ze!=null&&ze.hasOwnProperty("display")?ze.display:null,Pe.style.display=Ke("display",de))}catch(rn){Hr(d,d.return,rn)}}}else if(Dt.tag===6){if(Et===null)try{Dt.stateNode.nodeValue=ht?"":Dt.memoizedProps}catch(rn){Hr(d,d.return,rn)}}else if((Dt.tag!==22&&Dt.tag!==23||Dt.memoizedState===null||Dt===d)&&Dt.child!==null){Dt.child.return=Dt,Dt=Dt.child;continue}if(Dt===d)break e;for(;Dt.sibling===null;){if(Dt.return===null||Dt.return===d)break e;Et===Dt&&(Et=null),Dt=Dt.return}Et===Dt&&(Et=null),Dt.sibling.return=Dt.return,Dt=Dt.sibling}}break;case 19:vo(p,d),nl(d),k&4&&Ij(d);break;case 21:break;default:vo(p,d),nl(d)}}function nl(d){var p=d.flags;if(p&2){try{e:{for(var v=d.return;v!==null;){if(Dj(v)){var k=v;break e}v=v.return}throw Error(n(160))}switch(k.tag){case 5:var $=k.stateNode;k.flags&32&&(Ue($,""),k.flags&=-33);var Y=Aj(d);J1(d,Y,$);break;case 3:case 4:var de=k.stateNode.containerInfo,Pe=Aj(d);Z1(d,Pe,de);break;default:throw Error(n(161))}}catch(ze){Hr(d,d.return,ze)}d.flags&=-3}p&4096&&(d.flags&=-4097)}function R7(d,p,v){Zt=d,Mj(d)}function Mj(d,p,v){for(var k=(d.mode&1)!==0;Zt!==null;){var $=Zt,Y=$.child;if($.tag===22&&k){var de=$.memoizedState!==null||Y0;if(!de){var Pe=$.alternate,ze=Pe!==null&&Pe.memoizedState!==null||qs;Pe=Y0;var ht=qs;if(Y0=de,(qs=ze)&&!ht)for(Zt=$;Zt!==null;)de=Zt,ze=de.child,de.tag===22&&de.memoizedState!==null?Fj($):ze!==null?(ze.return=de,Zt=ze):Fj($);for(;Y!==null;)Zt=Y,Mj(Y),Y=Y.sibling;Zt=$,Y0=Pe,qs=ht}Rj(d)}else $.subtreeFlags&8772&&Y!==null?(Y.return=$,Zt=Y):Rj(d)}}function Rj(d){for(;Zt!==null;){var p=Zt;if(p.flags&8772){var v=p.alternate;try{if(p.flags&8772)switch(p.tag){case 0:case 11:case 15:qs||G0(5,p);break;case 1:var k=p.stateNode;if(p.flags&4&&!qs)if(v===null)k.componentDidMount();else{var $=p.elementType===p.type?v.memoizedProps:bo(p.type,v.memoizedProps);k.componentDidUpdate($,v.memoizedState,k.__reactInternalSnapshotBeforeUpdate)}var Y=p.updateQueue;Y!==null&&LE(p,Y,k);break;case 3:var de=p.updateQueue;if(de!==null){if(v=null,p.child!==null)switch(p.child.tag){case 5:v=p.child.stateNode;break;case 1:v=p.child.stateNode}LE(p,de,v)}break;case 5:var Pe=p.stateNode;if(v===null&&p.flags&4){v=Pe;var ze=p.memoizedProps;switch(p.type){case"button":case"input":case"select":case"textarea":ze.autoFocus&&v.focus();break;case"img":ze.src&&(v.src=ze.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(p.memoizedState===null){var ht=p.alternate;if(ht!==null){var Et=ht.memoizedState;if(Et!==null){var Dt=Et.dehydrated;Dt!==null&&Al(Dt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}qs||p.flags&512&&Q1(p)}catch(kt){Hr(p,p.return,kt)}}if(p===d){Zt=null;break}if(v=p.sibling,v!==null){v.return=p.return,Zt=v;break}Zt=p.return}}function Lj(d){for(;Zt!==null;){var p=Zt;if(p===d){Zt=null;break}var v=p.sibling;if(v!==null){v.return=p.return,Zt=v;break}Zt=p.return}}function Fj(d){for(;Zt!==null;){var p=Zt;try{switch(p.tag){case 0:case 11:case 15:var v=p.return;try{G0(4,p)}catch(ze){Hr(p,v,ze)}break;case 1:var k=p.stateNode;if(typeof k.componentDidMount=="function"){var $=p.return;try{k.componentDidMount()}catch(ze){Hr(p,$,ze)}}var Y=p.return;try{Q1(p)}catch(ze){Hr(p,Y,ze)}break;case 5:var de=p.return;try{Q1(p)}catch(ze){Hr(p,de,ze)}}}catch(ze){Hr(p,p.return,ze)}if(p===d){Zt=null;break}var Pe=p.sibling;if(Pe!==null){Pe.return=p.return,Zt=Pe;break}Zt=p.return}}var L7=Math.ceil,K0=D.ReactCurrentDispatcher,e_=D.ReactCurrentOwner,Oa=D.ReactCurrentBatchConfig,Vn=0,bs=null,ns=null,Os=0,sa=0,Uh=Ne(0),us=0,im=null,od=0,X0=0,t_=0,am=null,Oi=null,n_=0,Hh=1/0,Gl=null,Q0=!1,r_=null,Kc=null,Z0=!1,Xc=null,J0=0,om=0,s_=null,ey=-1,ty=0;function ui(){return Vn&6?er():ey!==-1?ey:ey=er()}function Qc(d){return d.mode&1?Vn&2&&Os!==0?Os&-Os:v7.transition!==null?(ty===0&&(ty=at()),ty):(d=et,d!==0||(d=window.event,d=d===void 0?16:Ac(d.type)),d):1}function _o(d,p,v,k){if(50<om)throw om=0,s_=null,Error(n(185));bt(d,v,k),(!(Vn&2)||d!==bs)&&(d===bs&&(!(Vn&2)&&(X0|=v),us===4&&Zc(d,Os)),Mi(d,k),v===1&&Vn===0&&!(p.mode&1)&&(Hh=er()+500,tr&&Vc()))}function Mi(d,p){var v=d.callbackNode;gs(d,p);var k=_a(d,d===bs?Os:0);if(k===0)v!==null&&so(v),d.callbackNode=null,d.callbackPriority=0;else if(p=k&-k,d.callbackPriority!==p){if(v!=null&&so(v),p===1)d.tag===0?x7($j.bind(null,d)):Pi($j.bind(null,d)),j0(function(){!(Vn&6)&&Vc()}),v=null;else{switch(St(k)){case 1:v=xa;break;case 4:v=ri;break;case 16:v=Ds;break;case 536870912:v=si;break;default:v=Ds}v=Gj(v,Bj.bind(null,d))}d.callbackPriority=p,d.callbackNode=v}}function Bj(d,p){if(ey=-1,ty=0,Vn&6)throw Error(n(327));var v=d.callbackNode;if(Wh()&&d.callbackNode!==v)return null;var k=_a(d,d===bs?Os:0);if(k===0)return null;if(k&30||k&d.expiredLanes||p)p=ny(d,k);else{p=k;var $=Vn;Vn|=2;var Y=Uj();(bs!==d||Os!==p)&&(Gl=null,Hh=er()+500,cd(d,p));do try{$7();break}catch(Pe){zj(d,Pe)}while(!0);w1(),K0.current=Y,Vn=$,ns!==null?p=0:(bs=null,Os=0,p=us)}if(p!==0){if(p===2&&($=Ce(d),$!==0&&(k=$,p=i_(d,$))),p===1)throw v=im,cd(d,0),Zc(d,k),Mi(d,er()),v;if(p===6)Zc(d,k);else{if($=d.current.alternate,!(k&30)&&!F7($)&&(p=ny(d,k),p===2&&(Y=Ce(d),Y!==0&&(k=Y,p=i_(d,Y))),p===1))throw v=im,cd(d,0),Zc(d,k),Mi(d,er()),v;switch(d.finishedWork=$,d.finishedLanes=k,p){case 0:case 1:throw Error(n(345));case 2:ud(d,Oi,Gl);break;case 3:if(Zc(d,k),(k&130023424)===k&&(p=n_+500-er(),10<p)){if(_a(d,0)!==0)break;if($=d.suspendedLanes,($&k)!==k){ui(),d.pingedLanes|=d.suspendedLanes&$;break}d.timeoutHandle=ls(ud.bind(null,d,Oi,Gl),p);break}ud(d,Oi,Gl);break;case 4:if(Zc(d,k),(k&4194240)===k)break;for(p=d.eventTimes,$=-1;0<k;){var de=31-Ur(k);Y=1<<de,de=p[de],de>$&&($=de),k&=~Y}if(k=$,k=er()-k,k=(120>k?120:480>k?480:1080>k?1080:1920>k?1920:3e3>k?3e3:4320>k?4320:1960*L7(k/1960))-k,10<k){d.timeoutHandle=ls(ud.bind(null,d,Oi,Gl),k);break}ud(d,Oi,Gl);break;case 5:ud(d,Oi,Gl);break;default:throw Error(n(329))}}}return Mi(d,er()),d.callbackNode===v?Bj.bind(null,d):null}function i_(d,p){var v=am;return d.current.memoizedState.isDehydrated&&(cd(d,p).flags|=256),d=ny(d,p),d!==2&&(p=Oi,Oi=v,p!==null&&a_(p)),d}function a_(d){Oi===null?Oi=d:Oi.push.apply(Oi,d)}function F7(d){for(var p=d;;){if(p.flags&16384){var v=p.updateQueue;if(v!==null&&(v=v.stores,v!==null))for(var k=0;k<v.length;k++){var $=v[k],Y=$.getSnapshot;$=$.value;try{if(!Us(Y(),$))return!1}catch{return!1}}}if(v=p.child,p.subtreeFlags&16384&&v!==null)v.return=p,p=v;else{if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function Zc(d,p){for(p&=~t_,p&=~X0,d.suspendedLanes|=p,d.pingedLanes&=~p,d=d.expirationTimes;0<p;){var v=31-Ur(p),k=1<<v;d[v]=-1,p&=~k}}function $j(d){if(Vn&6)throw Error(n(327));Wh();var p=_a(d,0);if(!(p&1))return Mi(d,er()),null;var v=ny(d,p);if(d.tag!==0&&v===2){var k=Ce(d);k!==0&&(p=k,v=i_(d,k))}if(v===1)throw v=im,cd(d,0),Zc(d,p),Mi(d,er()),v;if(v===6)throw Error(n(345));return d.finishedWork=d.current.alternate,d.finishedLanes=p,ud(d,Oi,Gl),Mi(d,er()),null}function o_(d,p){var v=Vn;Vn|=1;try{return d(p)}finally{Vn=v,Vn===0&&(Hh=er()+500,tr&&Vc())}}function ld(d){Xc!==null&&Xc.tag===0&&!(Vn&6)&&Wh();var p=Vn;Vn|=1;var v=Oa.transition,k=et;try{if(Oa.transition=null,et=1,d)return d()}finally{et=k,Oa.transition=v,Vn=p,!(Vn&6)&&Vc()}}function l_(){sa=Uh.current,$e(Uh)}function cd(d,p){d.finishedWork=null,d.finishedLanes=0;var v=d.timeoutHandle;if(v!==-1&&(d.timeoutHandle=-1,Ea(v)),ns!==null)for(v=ns.return;v!==null;){var k=v;switch(y1(k),k.tag){case 1:k=k.type.childContextTypes,k!=null&&ta();break;case 3:Bh(),$e(Kt),$e(mt),D1();break;case 5:j1(k);break;case 4:Bh();break;case 13:$e(Rr);break;case 19:$e(Rr);break;case 10:S1(k.type._context);break;case 22:case 23:l_()}v=v.return}if(bs=d,ns=d=Jc(d.current,null),Os=sa=p,us=0,im=null,t_=X0=od=0,Oi=am=null,sd!==null){for(p=0;p<sd.length;p++)if(v=sd[p],k=v.interleaved,k!==null){v.interleaved=null;var $=k.next,Y=v.pending;if(Y!==null){var de=Y.next;Y.next=$,k.next=de}v.pending=k}sd=null}return d}function zj(d,p){do{var v=ns;try{if(w1(),B0.current=H0,$0){for(var k=Lr.memoizedState;k!==null;){var $=k.queue;$!==null&&($.pending=null),k=k.next}$0=!1}if(ad=0,ys=cs=Lr=null,Jp=!1,em=0,e_.current=null,v===null||v.return===null){us=1,im=p,ns=null;break}e:{var Y=d,de=v.return,Pe=v,ze=p;if(p=Os,Pe.flags|=32768,ze!==null&&typeof ze=="object"&&typeof ze.then=="function"){var ht=ze,Et=Pe,Dt=Et.tag;if(!(Et.mode&1)&&(Dt===0||Dt===11||Dt===15)){var kt=Et.alternate;kt?(Et.updateQueue=kt.updateQueue,Et.memoizedState=kt.memoizedState,Et.lanes=kt.lanes):(Et.updateQueue=null,Et.memoizedState=null)}var Yt=hj(de);if(Yt!==null){Yt.flags&=-257,fj(Yt,de,Pe,Y,p),Yt.mode&1&&dj(Y,ht,p),p=Yt,ze=ht;var tn=p.updateQueue;if(tn===null){var rn=new Set;rn.add(ze),p.updateQueue=rn}else tn.add(ze);break e}else{if(!(p&1)){dj(Y,ht,p),c_();break e}ze=Error(n(426))}}else if(jr&&Pe.mode&1){var Xr=hj(de);if(Xr!==null){!(Xr.flags&65536)&&(Xr.flags|=256),fj(Xr,de,Pe,Y,p),v1($h(ze,Pe));break e}}Y=ze=$h(ze,Pe),us!==4&&(us=2),am===null?am=[Y]:am.push(Y),Y=de;do{switch(Y.tag){case 3:Y.flags|=65536,p&=-p,Y.lanes|=p;var st=cj(Y,ze,p);RE(Y,st);break e;case 1:Pe=ze;var Ve=Y.type,lt=Y.stateNode;if(!(Y.flags&128)&&(typeof Ve.getDerivedStateFromError=="function"||lt!==null&&typeof lt.componentDidCatch=="function"&&(Kc===null||!Kc.has(lt)))){Y.flags|=65536,p&=-p,Y.lanes|=p;var Lt=uj(Y,Pe,p);RE(Y,Lt);break e}}Y=Y.return}while(Y!==null)}Wj(v)}catch(sn){p=sn,ns===v&&v!==null&&(ns=v=v.return);continue}break}while(!0)}function Uj(){var d=K0.current;return K0.current=H0,d===null?H0:d}function c_(){(us===0||us===3||us===2)&&(us=4),bs===null||!(od&268435455)&&!(X0&268435455)||Zc(bs,Os)}function ny(d,p){var v=Vn;Vn|=2;var k=Uj();(bs!==d||Os!==p)&&(Gl=null,cd(d,p));do try{B7();break}catch($){zj(d,$)}while(!0);if(w1(),Vn=v,K0.current=k,ns!==null)throw Error(n(261));return bs=null,Os=0,us}function B7(){for(;ns!==null;)Hj(ns)}function $7(){for(;ns!==null&&!ba();)Hj(ns)}function Hj(d){var p=Yj(d.alternate,d,sa);d.memoizedProps=d.pendingProps,p===null?Wj(d):ns=p,e_.current=null}function Wj(d){var p=d;do{var v=p.alternate;if(d=p.return,p.flags&32768){if(v=I7(v,p),v!==null){v.flags&=32767,ns=v;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{us=6,ns=null;return}}else if(v=P7(v,p,sa),v!==null){ns=v;return}if(p=p.sibling,p!==null){ns=p;return}ns=p=d}while(p!==null);us===0&&(us=5)}function ud(d,p,v){var k=et,$=Oa.transition;try{Oa.transition=null,et=1,z7(d,p,v,k)}finally{Oa.transition=$,et=k}return null}function z7(d,p,v,k){do Wh();while(Xc!==null);if(Vn&6)throw Error(n(327));v=d.finishedWork;var $=d.finishedLanes;if(v===null)return null;if(d.finishedWork=null,d.finishedLanes=0,v===d.current)throw Error(n(177));d.callbackNode=null,d.callbackPriority=0;var Y=v.lanes|v.childLanes;if(pe(d,Y),d===bs&&(ns=bs=null,Os=0),!(v.subtreeFlags&2064)&&!(v.flags&2064)||Z0||(Z0=!0,Gj(Ds,function(){return Wh(),null})),Y=(v.flags&15990)!==0,v.subtreeFlags&15990||Y){Y=Oa.transition,Oa.transition=null;var de=et;et=1;var Pe=Vn;Vn|=4,e_.current=null,M7(d,v),Oj(v,d),Xu(Wn),jc=!!Qo,Wn=Qo=null,d.current=v,R7(v),Ki(),Vn=Pe,et=de,Oa.transition=Y}else d.current=v;if(Z0&&(Z0=!1,Xc=d,J0=$),Y=d.pendingLanes,Y===0&&(Kc=null),Si(v.stateNode),Mi(d,er()),p!==null)for(k=d.onRecoverableError,v=0;v<p.length;v++)$=p[v],k($.value,{componentStack:$.stack,digest:$.digest});if(Q0)throw Q0=!1,d=r_,r_=null,d;return J0&1&&d.tag!==0&&Wh(),Y=d.pendingLanes,Y&1?d===s_?om++:(om=0,s_=d):om=0,Vc(),null}function Wh(){if(Xc!==null){var d=St(J0),p=Oa.transition,v=et;try{if(Oa.transition=null,et=16>d?16:d,Xc===null)var k=!1;else{if(d=Xc,Xc=null,J0=0,Vn&6)throw Error(n(331));var $=Vn;for(Vn|=4,Zt=d.current;Zt!==null;){var Y=Zt,de=Y.child;if(Zt.flags&16){var Pe=Y.deletions;if(Pe!==null){for(var ze=0;ze<Pe.length;ze++){var ht=Pe[ze];for(Zt=ht;Zt!==null;){var Et=Zt;switch(Et.tag){case 0:case 11:case 15:sm(8,Et,Y)}var Dt=Et.child;if(Dt!==null)Dt.return=Et,Zt=Dt;else for(;Zt!==null;){Et=Zt;var kt=Et.sibling,Yt=Et.return;if(Nj(Et),Et===ht){Zt=null;break}if(kt!==null){kt.return=Yt,Zt=kt;break}Zt=Yt}}}var tn=Y.alternate;if(tn!==null){var rn=tn.child;if(rn!==null){tn.child=null;do{var Xr=rn.sibling;rn.sibling=null,rn=Xr}while(rn!==null)}}Zt=Y}}if(Y.subtreeFlags&2064&&de!==null)de.return=Y,Zt=de;else e:for(;Zt!==null;){if(Y=Zt,Y.flags&2048)switch(Y.tag){case 0:case 11:case 15:sm(9,Y,Y.return)}var st=Y.sibling;if(st!==null){st.return=Y.return,Zt=st;break e}Zt=Y.return}}var Ve=d.current;for(Zt=Ve;Zt!==null;){de=Zt;var lt=de.child;if(de.subtreeFlags&2064&&lt!==null)lt.return=de,Zt=lt;else e:for(de=Ve;Zt!==null;){if(Pe=Zt,Pe.flags&2048)try{switch(Pe.tag){case 0:case 11:case 15:G0(9,Pe)}}catch(sn){Hr(Pe,Pe.return,sn)}if(Pe===de){Zt=null;break e}var Lt=Pe.sibling;if(Lt!==null){Lt.return=Pe.return,Zt=Lt;break e}Zt=Pe.return}}if(Vn=$,Vc(),_r&&typeof _r.onPostCommitFiberRoot=="function")try{_r.onPostCommitFiberRoot(va,d)}catch{}k=!0}return k}finally{et=v,Oa.transition=p}}return!1}function Vj(d,p,v){p=$h(v,p),p=cj(d,p,1),d=Yc(d,p,1),p=ui(),d!==null&&(bt(d,1,p),Mi(d,p))}function Hr(d,p,v){if(d.tag===3)Vj(d,d,v);else for(;p!==null;){if(p.tag===3){Vj(p,d,v);break}else if(p.tag===1){var k=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof k.componentDidCatch=="function"&&(Kc===null||!Kc.has(k))){d=$h(v,d),d=uj(p,d,1),p=Yc(p,d,1),d=ui(),p!==null&&(bt(p,1,d),Mi(p,d));break}}p=p.return}}function U7(d,p,v){var k=d.pingCache;k!==null&&k.delete(p),p=ui(),d.pingedLanes|=d.suspendedLanes&v,bs===d&&(Os&v)===v&&(us===4||us===3&&(Os&130023424)===Os&&500>er()-n_?cd(d,0):t_|=v),Mi(d,p)}function qj(d,p){p===0&&(d.mode&1?(p=Qi,Qi<<=1,!(Qi&130023424)&&(Qi=4194304)):p=1);var v=ui();d=Vl(d,p),d!==null&&(bt(d,p,v),Mi(d,v))}function H7(d){var p=d.memoizedState,v=0;p!==null&&(v=p.retryLane),qj(d,v)}function W7(d,p){var v=0;switch(d.tag){case 13:var k=d.stateNode,$=d.memoizedState;$!==null&&(v=$.retryLane);break;case 19:k=d.stateNode;break;default:throw Error(n(314))}k!==null&&k.delete(p),qj(d,v)}var Yj;Yj=function(d,p,v){if(d!==null)if(d.memoizedProps!==p.pendingProps||Kt.current)Ii=!0;else{if(!(d.lanes&v)&&!(p.flags&128))return Ii=!1,A7(d,p,v);Ii=!!(d.flags&131072)}else Ii=!1,jr&&p.flags&1048576&&kE(p,A0,p.index);switch(p.lanes=0,p.tag){case 2:var k=p.type;q0(d,p),d=p.pendingProps;var $=wr(p,mt.current);Fh(p,v),$=I1(null,p,k,d,$,v);var Y=O1();return p.flags|=1,typeof $=="object"&&$!==null&&typeof $.render=="function"&&$.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,dr(k)?(Y=!0,Jo(p)):Y=!1,p.memoizedState=$.state!==null&&$.state!==void 0?$.state:null,k1(p),$.updater=W0,p.stateNode=$,$._reactInternals=p,$1(p,k,d,v),p=W1(null,p,k,!0,Y,v)):(p.tag=0,jr&&Y&&g1(p),ci(null,p,$,v),p=p.child),p;case 16:k=p.elementType;e:{switch(q0(d,p),d=p.pendingProps,$=k._init,k=$(k._payload),p.type=k,$=p.tag=q7(k),d=bo(k,d),$){case 0:p=H1(null,p,k,d,v);break e;case 1:p=xj(null,p,k,d,v);break e;case 11:p=pj(null,p,k,d,v);break e;case 14:p=mj(null,p,k,bo(k.type,d),v);break e}throw Error(n(306,k,""))}return p;case 0:return k=p.type,$=p.pendingProps,$=p.elementType===k?$:bo(k,$),H1(d,p,k,$,v);case 1:return k=p.type,$=p.pendingProps,$=p.elementType===k?$:bo(k,$),xj(d,p,k,$,v);case 3:e:{if(vj(p),d===null)throw Error(n(387));k=p.pendingProps,Y=p.memoizedState,$=Y.element,ME(d,p),L0(p,k,null,v);var de=p.memoizedState;if(k=de.element,Y.isDehydrated)if(Y={element:k,isDehydrated:!1,cache:de.cache,pendingSuspenseBoundaries:de.pendingSuspenseBoundaries,transitions:de.transitions},p.updateQueue.baseState=Y,p.memoizedState=Y,p.flags&256){$=$h(Error(n(423)),p),p=_j(d,p,k,v,$);break e}else if(k!==$){$=$h(Error(n(424)),p),p=_j(d,p,k,v,$);break e}else for(ra=Zo(p.stateNode.containerInfo.firstChild),na=p,jr=!0,yo=null,v=IE(p,null,k,v),p.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(Mh(),k===$){p=Yl(d,p,v);break e}ci(d,p,k,v)}p=p.child}return p;case 5:return FE(p),d===null&&x1(p),k=p.type,$=p.pendingProps,Y=d!==null?d.memoizedProps:null,de=$.children,go(k,$)?de=null:Y!==null&&go(k,Y)&&(p.flags|=32),bj(d,p),ci(d,p,de,v),p.child;case 6:return d===null&&x1(p),null;case 13:return wj(d,p,v);case 4:return E1(p,p.stateNode.containerInfo),k=p.pendingProps,d===null?p.child=Rh(p,null,k,v):ci(d,p,k,v),p.child;case 11:return k=p.type,$=p.pendingProps,$=p.elementType===k?$:bo(k,$),pj(d,p,k,$,v);case 7:return ci(d,p,p.pendingProps,v),p.child;case 8:return ci(d,p,p.pendingProps.children,v),p.child;case 12:return ci(d,p,p.pendingProps.children,v),p.child;case 10:e:{if(k=p.type._context,$=p.pendingProps,Y=p.memoizedProps,de=$.value,rt(O0,k._currentValue),k._currentValue=de,Y!==null)if(Us(Y.value,de)){if(Y.children===$.children&&!Kt.current){p=Yl(d,p,v);break e}}else for(Y=p.child,Y!==null&&(Y.return=p);Y!==null;){var Pe=Y.dependencies;if(Pe!==null){de=Y.child;for(var ze=Pe.firstContext;ze!==null;){if(ze.context===k){if(Y.tag===1){ze=ql(-1,v&-v),ze.tag=2;var ht=Y.updateQueue;if(ht!==null){ht=ht.shared;var Et=ht.pending;Et===null?ze.next=ze:(ze.next=Et.next,Et.next=ze),ht.pending=ze}}Y.lanes|=v,ze=Y.alternate,ze!==null&&(ze.lanes|=v),C1(Y.return,v,p),Pe.lanes|=v;break}ze=ze.next}}else if(Y.tag===10)de=Y.type===p.type?null:Y.child;else if(Y.tag===18){if(de=Y.return,de===null)throw Error(n(341));de.lanes|=v,Pe=de.alternate,Pe!==null&&(Pe.lanes|=v),C1(de,v,p),de=Y.sibling}else de=Y.child;if(de!==null)de.return=Y;else for(de=Y;de!==null;){if(de===p){de=null;break}if(Y=de.sibling,Y!==null){Y.return=de.return,de=Y;break}de=de.return}Y=de}ci(d,p,$.children,v),p=p.child}return p;case 9:return $=p.type,k=p.pendingProps.children,Fh(p,v),$=Pa($),k=k($),p.flags|=1,ci(d,p,k,v),p.child;case 14:return k=p.type,$=bo(k,p.pendingProps),$=bo(k.type,$),mj(d,p,k,$,v);case 15:return gj(d,p,p.type,p.pendingProps,v);case 17:return k=p.type,$=p.pendingProps,$=p.elementType===k?$:bo(k,$),q0(d,p),p.tag=1,dr(k)?(d=!0,Jo(p)):d=!1,Fh(p,v),oj(p,k,$),$1(p,k,$,v),W1(null,p,k,!0,d,v);case 19:return Cj(d,p,v);case 22:return yj(d,p,v)}throw Error(n(156,p.tag))};function Gj(d,p){return wn(d,p)}function V7(d,p,v,k){this.tag=d,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=k,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ma(d,p,v,k){return new V7(d,p,v,k)}function u_(d){return d=d.prototype,!(!d||!d.isReactComponent)}function q7(d){if(typeof d=="function")return u_(d)?1:0;if(d!=null){if(d=d.$$typeof,d===M)return 11;if(d===G)return 14}return 2}function Jc(d,p){var v=d.alternate;return v===null?(v=Ma(d.tag,p,d.key,d.mode),v.elementType=d.elementType,v.type=d.type,v.stateNode=d.stateNode,v.alternate=d,d.alternate=v):(v.pendingProps=p,v.type=d.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=d.flags&14680064,v.childLanes=d.childLanes,v.lanes=d.lanes,v.child=d.child,v.memoizedProps=d.memoizedProps,v.memoizedState=d.memoizedState,v.updateQueue=d.updateQueue,p=d.dependencies,v.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},v.sibling=d.sibling,v.index=d.index,v.ref=d.ref,v}function ry(d,p,v,k,$,Y){var de=2;if(k=d,typeof d=="function")u_(d)&&(de=1);else if(typeof d=="string")de=5;else e:switch(d){case O:return dd(v.children,$,Y,p);case L:de=8,$|=8;break;case P:return d=Ma(12,v,p,$|2),d.elementType=P,d.lanes=Y,d;case q:return d=Ma(13,v,p,$),d.elementType=q,d.lanes=Y,d;case E:return d=Ma(19,v,p,$),d.elementType=E,d.lanes=Y,d;case re:return sy(v,$,Y,p);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case N:de=10;break e;case U:de=9;break e;case M:de=11;break e;case G:de=14;break e;case Q:de=16,k=null;break e}throw Error(n(130,d==null?d:typeof d,""))}return p=Ma(de,v,p,$),p.elementType=d,p.type=k,p.lanes=Y,p}function dd(d,p,v,k){return d=Ma(7,d,k,p),d.lanes=v,d}function sy(d,p,v,k){return d=Ma(22,d,k,p),d.elementType=re,d.lanes=v,d.stateNode={isHidden:!1},d}function d_(d,p,v){return d=Ma(6,d,null,p),d.lanes=v,d}function h_(d,p,v){return p=Ma(4,d.children!==null?d.children:[],d.key,p),p.lanes=v,p.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},p}function Y7(d,p,v,k,$){this.tag=p,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xe(0),this.expirationTimes=Xe(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xe(0),this.identifierPrefix=k,this.onRecoverableError=$,this.mutableSourceEagerHydrationData=null}function f_(d,p,v,k,$,Y,de,Pe,ze){return d=new Y7(d,p,v,Pe,ze),p===1?(p=1,Y===!0&&(p|=8)):p=0,Y=Ma(3,null,null,p),d.current=Y,Y.stateNode=d,Y.memoizedState={element:k,isDehydrated:v,cache:null,transitions:null,pendingSuspenseBoundaries:null},k1(Y),d}function G7(d,p,v){var k=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:k==null?null:""+k,children:d,containerInfo:p,implementation:v}}function Kj(d){if(!d)return Rt;d=d._reactInternals;e:{if(vn(d)!==d||d.tag!==1)throw Error(n(170));var p=d;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(dr(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(n(171))}if(d.tag===1){var v=d.type;if(dr(v))return Hc(d,v,p)}return p}function Xj(d,p,v,k,$,Y,de,Pe,ze){return d=f_(v,k,!0,d,$,Y,de,Pe,ze),d.context=Kj(null),v=d.current,k=ui(),$=Qc(v),Y=ql(k,$),Y.callback=p??null,Yc(v,Y,$),d.current.lanes=$,bt(d,$,k),Mi(d,k),d}function iy(d,p,v,k){var $=p.current,Y=ui(),de=Qc($);return v=Kj(v),p.context===null?p.context=v:p.pendingContext=v,p=ql(Y,de),p.payload={element:d},k=k===void 0?null:k,k!==null&&(p.callback=k),d=Yc($,p,de),d!==null&&(_o(d,$,de,Y),R0(d,$,de)),de}function ay(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return d.child.stateNode;default:return d.child.stateNode}}function Qj(d,p){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var v=d.retryLane;d.retryLane=v!==0&&v<p?v:p}}function p_(d,p){Qj(d,p),(d=d.alternate)&&Qj(d,p)}function K7(){return null}var Zj=typeof reportError=="function"?reportError:function(d){console.error(d)};function m_(d){this._internalRoot=d}oy.prototype.render=m_.prototype.render=function(d){var p=this._internalRoot;if(p===null)throw Error(n(409));iy(d,p,null,null)},oy.prototype.unmount=m_.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var p=d.containerInfo;ld(function(){iy(null,d,null,null)}),p[Na]=null}};function oy(d){this._internalRoot=d}oy.prototype.unstable_scheduleHydration=function(d){if(d){var p=cn();d={blockedOn:null,target:d,priority:p};for(var v=0;v<Mr.length&&p!==0&&p<Mr[v].priority;v++);Mr.splice(v,0,d),v===0&&kc(d)}};function g_(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function ly(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11&&(d.nodeType!==8||d.nodeValue!==" react-mount-point-unstable "))}function Jj(){}function X7(d,p,v,k,$){if($){if(typeof k=="function"){var Y=k;k=function(){var ht=ay(de);Y.call(ht)}}var de=Xj(p,k,d,0,null,!1,!1,"",Jj);return d._reactRootContainer=de,d[Na]=de.current,Fc(d.nodeType===8?d.parentNode:d),ld(),de}for(;$=d.lastChild;)d.removeChild($);if(typeof k=="function"){var Pe=k;k=function(){var ht=ay(ze);Pe.call(ht)}}var ze=f_(d,0,!1,null,null,!1,!1,"",Jj);return d._reactRootContainer=ze,d[Na]=ze.current,Fc(d.nodeType===8?d.parentNode:d),ld(function(){iy(p,ze,v,k)}),ze}function cy(d,p,v,k,$){var Y=v._reactRootContainer;if(Y){var de=Y;if(typeof $=="function"){var Pe=$;$=function(){var ze=ay(de);Pe.call(ze)}}iy(p,de,d,$)}else de=X7(v,p,d,$,k);return ay(de)}jt=function(d){switch(d.tag){case 3:var p=d.stateNode;if(p.current.memoizedState.isDehydrated){var v=ki(p.pendingLanes);v!==0&&(He(p,v|1),Mi(p,er()),!(Vn&6)&&(Hh=er()+500,Vc()))}break;case 13:ld(function(){var k=Vl(d,1);if(k!==null){var $=ui();_o(k,d,1,$)}}),p_(d,1)}},Nt=function(d){if(d.tag===13){var p=Vl(d,134217728);if(p!==null){var v=ui();_o(p,d,134217728,v)}p_(d,134217728)}},Ft=function(d){if(d.tag===13){var p=Qc(d),v=Vl(d,p);if(v!==null){var k=ui();_o(v,d,p,k)}p_(d,p)}},cn=function(){return et},mn=function(d,p){var v=et;try{return et=d,p()}finally{et=v}},it=function(d,p,v){switch(p){case"input":if(se(d,v),p=v.name,v.type==="radio"&&p!=null){for(v=d;v.parentNode;)v=v.parentNode;for(v=v.querySelectorAll("input[name="+JSON.stringify(""+p)+'][type="radio"]'),p=0;p<v.length;p++){var k=v[p];if(k!==d&&k.form===d.form){var $=xe(k);if(!$)throw Error(n(90));nt(k),se(k,$)}}}break;case"textarea":Ie(d,v);break;case"select":p=v.value,p!=null&&he(d,!!v.multiple,p,!1)}},wt=o_,At=ld;var Q7={usingClientEntryPoint:!1,Events:[V,J,xe,ue,Oe,o_]},lm={findFiberByHostInstance:R,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Z7={bundleType:lm.bundleType,version:lm.version,rendererPackageName:lm.rendererPackageName,rendererConfig:lm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(d){return d=Gi(d),d===null?null:d.stateNode},findFiberByHostInstance:lm.findFiberByHostInstance||K7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uy.isDisabled&&uy.supportsFiber)try{va=uy.inject(Z7),_r=uy}catch{}}return Ri.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q7,Ri.createPortal=function(d,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g_(p))throw Error(n(200));return G7(d,p,null,v)},Ri.createRoot=function(d,p){if(!g_(d))throw Error(n(299));var v=!1,k="",$=Zj;return p!=null&&(p.unstable_strictMode===!0&&(v=!0),p.identifierPrefix!==void 0&&(k=p.identifierPrefix),p.onRecoverableError!==void 0&&($=p.onRecoverableError)),p=f_(d,1,!1,null,null,v,!1,k,$),d[Na]=p.current,Fc(d.nodeType===8?d.parentNode:d),new m_(p)},Ri.findDOMNode=function(d){if(d==null)return null;if(d.nodeType===1)return d;var p=d._reactInternals;if(p===void 0)throw typeof d.render=="function"?Error(n(188)):(d=Object.keys(d).join(","),Error(n(268,d)));return d=Gi(p),d=d===null?null:d.stateNode,d},Ri.flushSync=function(d){return ld(d)},Ri.hydrate=function(d,p,v){if(!ly(p))throw Error(n(200));return cy(null,d,p,!0,v)},Ri.hydrateRoot=function(d,p,v){if(!g_(d))throw Error(n(405));var k=v!=null&&v.hydratedSources||null,$=!1,Y="",de=Zj;if(v!=null&&(v.unstable_strictMode===!0&&($=!0),v.identifierPrefix!==void 0&&(Y=v.identifierPrefix),v.onRecoverableError!==void 0&&(de=v.onRecoverableError)),p=Xj(p,null,d,1,v??null,$,!1,Y,de),d[Na]=p.current,Fc(d),k)for(d=0;d<k.length;d++)v=k[d],$=v._getVersion,$=$(v._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[v,$]:p.mutableSourceEagerHydrationData.push(v,$);return new oy(p)},Ri.render=function(d,p,v){if(!ly(p))throw Error(n(200));return cy(null,d,p,!1,v)},Ri.unmountComponentAtNode=function(d){if(!ly(d))throw Error(n(40));return d._reactRootContainer?(ld(function(){cy(null,null,d,!1,function(){d._reactRootContainer=null,d[Na]=null})}),!0):!1},Ri.unstable_batchedUpdates=o_,Ri.unstable_renderSubtreeIntoContainer=function(d,p,v,k){if(!ly(v))throw Error(n(200));if(d==null||d._reactInternals===void 0)throw Error(n(38));return cy(d,p,v,!1,k)},Ri.version="18.3.1-next-f1338f8080-20240426",Ri}var oN;function YP(){if(oN)return x_.exports;oN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),x_.exports=l9(),x_.exports}var lN;function c9(){if(lN)return dy;lN=1;var t=YP();return dy.createRoot=t.createRoot,dy.hydrateRoot=t.hydrateRoot,dy}var u9=c9();const d9=Jr(u9),h9="modulepreload",f9=function(t){return"/"+t},cN={},gi=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let a=function(u){return Promise.all(u.map(h=>Promise.resolve(h).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=a(n.map(u=>{if(u=f9(u),u in cN)return;cN[u]=!0;const h=u.endsWith(".css"),f=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const m=document.createElement("link");if(m.rel=h?"stylesheet":h9,h||(m.as="script"),m.crossOrigin="",m.href=u,c&&m.setAttribute("nonce",c),document.head.appendChild(m),h)return new Promise((g,b)=>{m.addEventListener("load",g),m.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})};/**
 * @remix-run/router v1.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cg(){return cg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cg.apply(this,arguments)}var pu;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(pu||(pu={}));const uN="popstate";function p9(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:a,hash:l}=r.location;return _2("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Cb(s)}return g9(e,n,null,t)}function ps(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function m9(){return Math.random().toString(36).substr(2,8)}function dN(t,e){return{usr:t.state,key:t.key,idx:e}}function _2(t,e,n,r){return n===void 0&&(n=null),cg({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?lp(e):e,{state:n,key:e&&e.key||r||m9()})}function Cb(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function lp(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function g9(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l=pu.Pop,c=null,u=h();u==null&&(u=0,a.replaceState(cg({},a.state,{idx:u}),""));function h(){return(a.state||{idx:null}).idx}function f(){l=pu.Pop;let x=h(),_=x==null?null:x-u;u=x,c&&c({action:l,location:y.location,delta:_})}function m(x,_){l=pu.Push;let S=_2(y.location,x,_);u=h()+1;let T=dN(S,u),D=y.createHref(S);try{a.pushState(T,"",D)}catch{s.location.assign(D)}i&&c&&c({action:l,location:y.location,delta:1})}function g(x,_){l=pu.Replace;let S=_2(y.location,x,_);u=h();let T=dN(S,u),D=y.createHref(S);a.replaceState(T,"",D),i&&c&&c({action:l,location:y.location,delta:0})}function b(x){let _=s.location.origin!=="null"?s.location.origin:s.location.href,S=typeof x=="string"?x:Cb(x);return ps(_,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,_)}let y={get action(){return l},get location(){return t(s,a)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(uN,f),c=x,()=>{s.removeEventListener(uN,f),c=null}},createHref(x){return e(s,x)},createURL:b,encodeLocation(x){let _=b(x);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:m,replace:g,go(x){return a.go(x)}};return y}var hN;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(hN||(hN={}));function y9(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?lp(e):e,s=vC(r.pathname||"/",n);if(s==null)return null;let i=GP(t);b9(i);let a=null;for(let l=0;a==null&&l<i.length;++l)a=E9(i[l],D9(s));return a}function GP(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(ps(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=bu([r,c.relativePath]),h=n.concat(c);i.children&&i.children.length>0&&(ps(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),GP(i.children,e,h,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:T9(u,i.index),routesMeta:h})};return t.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of KP(i.path))s(i,a,c)}),e}function KP(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=KP(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function b9(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:k9(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const x9=/^:\w+$/,v9=3,_9=2,w9=1,S9=10,C9=-2,fN=t=>t==="*";function T9(t,e){let n=t.split("/"),r=n.length;return n.some(fN)&&(r+=C9),e&&(r+=_9),n.filter(s=>!fN(s)).reduce((s,i)=>s+(x9.test(i)?v9:i===""?w9:S9),r)}function k9(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function E9(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,u=s==="/"?e:e.slice(s.length)||"/",h=j9({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u);if(!h)return null;Object.assign(r,h.params);let f=l.route;i.push({params:r,pathname:bu([s,h.pathname]),pathnameBase:O9(bu([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=bu([s,h.pathnameBase]))}return i}function j9(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=N9(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,h,f)=>{if(h==="*"){let m=l[f]||"";a=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}return u[h]=A9(l[f]||"",h),u},{}),pathname:i,pathnameBase:a,pattern:t}}function N9(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),xC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(a,l)=>(r.push(l),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function D9(t){try{return decodeURI(t)}catch(e){return xC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function A9(t,e){try{return decodeURIComponent(t)}catch(n){return xC(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function vC(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function P9(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?lp(t):t;return{pathname:n?n.startsWith("/")?n:I9(n,e):e,search:M9(r),hash:R9(s)}}function I9(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function w_(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function XP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function QP(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=lp(t):(s=cg({},t),ps(!s.pathname||!s.pathname.includes("?"),w_("?","pathname","search",s)),ps(!s.pathname||!s.pathname.includes("#"),w_("#","pathname","hash",s)),ps(!s.search||!s.search.includes("#"),w_("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,l;if(r||a==null)l=n;else{let f=e.length-1;if(a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}l=f>=0?e[f]:"/"}let c=P9(s,l),u=a&&a!=="/"&&a.endsWith("/"),h=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const bu=t=>t.join("/").replace(/\/\/+/g,"/"),O9=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),M9=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,R9=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function L9(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ZP=["post","put","patch","delete"];new Set(ZP);const F9=["get",...ZP];new Set(F9);/**
 * React Router v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const JP=w.createContext(null),eI=w.createContext(null),Vg=w.createContext(null),Fx=w.createContext(null),nh=w.createContext({outlet:null,matches:[]}),tI=w.createContext(null);function w2(){return w2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w2.apply(this,arguments)}function B9(t,e){let{relative:n}=e===void 0?{}:e;qg()||ps(!1);let{basename:r,navigator:s}=w.useContext(Vg),{hash:i,pathname:a,search:l}=nI(t,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:bu([r,a])),s.createHref({pathname:c,search:l,hash:i})}function qg(){return w.useContext(Fx)!=null}function Po(){return qg()||ps(!1),w.useContext(Fx).location}function mr(){qg()||ps(!1);let{basename:t,navigator:e}=w.useContext(Vg),{matches:n}=w.useContext(nh),{pathname:r}=Po(),s=JSON.stringify(XP(n).map(l=>l.pathnameBase)),i=w.useRef(!1);return w.useEffect(()=>{i.current=!0}),w.useCallback(function(l,c){if(c===void 0&&(c={}),!i.current)return;if(typeof l=="number"){e.go(l);return}let u=QP(l,JSON.parse(s),r,c.relative==="path");t!=="/"&&(u.pathname=u.pathname==="/"?t:bu([t,u.pathname])),(c.replace?e.replace:e.push)(u,c.state,c)},[t,e,s,r])}function rh(){let{matches:t}=w.useContext(nh),e=t[t.length-1];return e?e.params:{}}function nI(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=w.useContext(nh),{pathname:s}=Po(),i=JSON.stringify(XP(r).map(a=>a.pathnameBase));return w.useMemo(()=>QP(t,JSON.parse(i),s,n==="path"),[t,i,s,n])}function $9(t,e){qg()||ps(!1);let{navigator:n}=w.useContext(Vg),r=w.useContext(eI),{matches:s}=w.useContext(nh),i=s[s.length-1],a=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let c=Po(),u;if(e){var h;let y=typeof e=="string"?lp(e):e;l==="/"||(h=y.pathname)!=null&&h.startsWith(l)||ps(!1),u=y}else u=c;let f=u.pathname||"/",m=l==="/"?f:f.slice(l.length)||"/",g=y9(t,{pathname:m}),b=W9(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:bu([l,n.encodeLocation?n.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:bu([l,n.encodeLocation?n.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,r||void 0);return e&&b?w.createElement(Fx.Provider,{value:{location:w2({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:pu.Pop}},b):b}function z9(){let t=G9(),e=L9(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:s},n):null,null)}class U9 extends w.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?w.createElement(nh.Provider,{value:this.props.routeContext},w.createElement(tI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function H9(t){let{routeContext:e,match:n,children:r}=t,s=w.useContext(JP);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(nh.Provider,{value:e},r)}function W9(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,s=n==null?void 0:n.errors;if(s!=null){let i=r.findIndex(a=>a.route.id&&(s==null?void 0:s[a.route.id]));i>=0||ps(!1),r=r.slice(0,Math.min(r.length,i+1))}return r.reduceRight((i,a,l)=>{let c=a.route.id?s==null?void 0:s[a.route.id]:null,u=null;n&&(a.route.ErrorBoundary?u=w.createElement(a.route.ErrorBoundary,null):a.route.errorElement?u=a.route.errorElement:u=w.createElement(z9,null));let h=e.concat(r.slice(0,l+1)),f=()=>{let m=i;return c?m=u:a.route.Component?m=w.createElement(a.route.Component,null):a.route.element&&(m=a.route.element),w.createElement(H9,{match:a,routeContext:{outlet:i,matches:h},children:m})};return n&&(a.route.ErrorBoundary||a.route.errorElement||l===0)?w.createElement(U9,{location:n.location,component:u,error:c,children:f(),routeContext:{outlet:null,matches:h}}):f()},null)}var pN;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(pN||(pN={}));var Tb;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(Tb||(Tb={}));function V9(t){let e=w.useContext(eI);return e||ps(!1),e}function q9(t){let e=w.useContext(nh);return e||ps(!1),e}function Y9(t){let e=q9(),n=e.matches[e.matches.length-1];return n.route.id||ps(!1),n.route.id}function G9(){var t;let e=w.useContext(tI),n=V9(Tb.UseRouteError),r=Y9(Tb.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function lr(t){ps(!1)}function K9(t){let{basename:e="/",children:n=null,location:r,navigationType:s=pu.Pop,navigator:i,static:a=!1}=t;qg()&&ps(!1);let l=e.replace(/^\/*/,"/"),c=w.useMemo(()=>({basename:l,navigator:i,static:a}),[l,i,a]);typeof r=="string"&&(r=lp(r));let{pathname:u="/",search:h="",hash:f="",state:m=null,key:g="default"}=r,b=w.useMemo(()=>{let y=vC(u,l);return y==null?null:{location:{pathname:y,search:h,hash:f,state:m,key:g},navigationType:s}},[l,u,h,f,m,g,s]);return b==null?null:w.createElement(Vg.Provider,{value:c},w.createElement(Fx.Provider,{children:n,value:b}))}function X9(t){let{children:e,location:n}=t,r=w.useContext(JP),s=r&&!e?r.router.routes:S2(e);return $9(s,n)}var mN;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(mN||(mN={}));new Promise(()=>{});function S2(t,e){e===void 0&&(e=[]);let n=[];return w.Children.forEach(t,(r,s)=>{if(!w.isValidElement(r))return;let i=[...e,s];if(r.type===w.Fragment){n.push.apply(n,S2(r.props.children,i));return}r.type!==lr&&ps(!1),!r.props.index||!r.props.children||ps(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=S2(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function C2(){return C2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C2.apply(this,arguments)}function Q9(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Z9(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function J9(t,e){return t.button===0&&(!e||e==="_self")&&!Z9(t)}const e$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function t$(t){let{basename:e,children:n,window:r}=t,s=w.useRef();s.current==null&&(s.current=p9({window:r,v5Compat:!0}));let i=s.current,[a,l]=w.useState({action:i.action,location:i.location});return w.useLayoutEffect(()=>i.listen(l),[i]),w.createElement(K9,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:i})}const n$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",r$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fn=w.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:h}=e,f=Q9(e,e$),{basename:m}=w.useContext(Vg),g,b=!1;if(typeof u=="string"&&r$.test(u)&&(g=u,n$)){let S=new URL(window.location.href),T=u.startsWith("//")?new URL(S.protocol+u):new URL(u),D=vC(T.pathname,m);T.origin===S.origin&&D!=null?u=D+T.search+T.hash:b=!0}let y=B9(u,{relative:s}),x=s$(u,{replace:a,state:l,target:c,preventScrollReset:h,relative:s});function _(S){r&&r(S),S.defaultPrevented||x(S)}return w.createElement("a",C2({},f,{href:g||y,onClick:b||i?r:_,ref:n,target:c}))});var gN;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(gN||(gN={}));var yN;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(yN||(yN={}));function s$(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a}=e===void 0?{}:e,l=mr(),c=Po(),u=nI(t,{relative:a});return w.useCallback(h=>{if(J9(h,n)){h.preventDefault();let f=r!==void 0?r:Cb(c)===Cb(u);l(t,{replace:f,state:s,preventScrollReset:i,relative:a})}},[c,l,u,r,s,n,t,i,a])}var i$=Object.create,rI=Object.defineProperty,a$=Object.getOwnPropertyDescriptor,o$=Object.getOwnPropertyNames,l$=Object.getPrototypeOf,c$=Object.prototype.hasOwnProperty,u$=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),d$=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of o$(e))!c$.call(t,s)&&s!==n&&rI(t,s,{get:()=>e[s],enumerable:!(r=a$(e,s))||r.enumerable});return t},h$=(t,e,n)=>(n=t!=null?i$(l$(t)):{},d$(!t||!t.__esModule?rI(n,"default",{value:t,enumerable:!0}):n,t)),f$=u$((t,e)=>{(function(n,r){typeof t=="object"&&typeof e<"u"?r(t):typeof define=="function"&&define.amd?define(["exports"],r):(n=typeof globalThis<"u"?globalThis:n||self,r(n.fastUniqueNumbers={}))})(t,function(n){var r=function(g){return function(b){var y=g(b);return b.add(y),y}},s=function(g){return function(b,y){return g.set(b,y),y}},i=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,a=536870912,l=a*2,c=function(g,b){return function(y){var x=b.get(y),_=x===void 0?y.size:x<l?x+1:0;if(!y.has(_))return g(y,_);if(y.size<a){for(;y.has(_);)_=Math.floor(Math.random()*l);return g(y,_)}if(y.size>i)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;y.has(_);)_=Math.floor(Math.random()*i);return g(y,_)}},u=new WeakMap,h=s(u),f=c(h,u),m=r(f);n.addUniqueNumber=m,n.generateUniqueNumber=f})});h$(f$());var ic=(typeof window>"u"?"undefined":typeof window)=="object",Co={setTimeout:ic?setTimeout.bind(window):setTimeout,clearTimeout:ic?clearTimeout.bind(window):clearTimeout,setInterval:ic?setInterval.bind(window):setInterval,clearInterval:ic?clearInterval.bind(window):clearInterval};function p$(t){Co.setTimeout=t.setTimeout,Co.clearTimeout=t.clearTimeout,Co.setInterval=t.setInterval,Co.clearInterval=t.clearInterval}var Vh={},m$=class{constructor(t){Ht(this,"name");Ht(this,"closed",!1);Ht(this,"mc",new MessageChannel);this.name=t,Vh[t]=Vh[t]||[],Vh[t].push(this),this.mc.port1.start(),this.mc.port2.start(),this.onStorage=this.onStorage.bind(this),window.addEventListener("storage",this.onStorage)}onStorage(t){if(t.storageArea!==window.localStorage||t.key.substring(0,this.name.length)!==this.name||t.newValue===null)return;let e=JSON.parse(t.newValue);this.mc.port2.postMessage(e)}postMessage(t){if(this.closed)throw new Error("InvalidStateError");let e=JSON.stringify(t),n=`${this.name}:${String(Date.now())}${String(Math.random())}`;window.localStorage.setItem(n,e),Co.setTimeout(()=>{window.localStorage.removeItem(n)},500),Vh[this.name].forEach(r=>{r!==this&&r.mc.port2.postMessage(JSON.parse(e))})}close(){if(this.closed)return;this.closed=!0,this.mc.port1.close(),this.mc.port2.close(),window.removeEventListener("storage",this.onStorage);let t=Vh[this.name].indexOf(this);Vh[this.name].splice(t,1)}get onmessage(){return this.mc.port1.onmessage}set onmessage(t){this.mc.port1.onmessage=t}get onmessageerror(){return this.mc.port1.onmessageerror}set onmessageerror(t){this.mc.port1.onmessageerror=t}addEventListener(t,e){return this.mc.port1.addEventListener(t,e)}removeEventListener(t,e){return this.mc.port1.removeEventListener(t,e)}dispatchEvent(t){return this.mc.port1.dispatchEvent(t)}},g$=typeof window>"u"?void 0:typeof window.BroadcastChannel=="function"?window.BroadcastChannel:m$;function y$(t=0){return new Promise(e=>Co.setTimeout(e,t))}function sI(){return Math.random().toString(36).substring(2)}var b$=class{constructor(t,e){Ht(this,"options");Ht(this,"channel");Ht(this,"token",sI());Ht(this,"isLeader",!1);Ht(this,"isDead",!1);Ht(this,"isApplying",!1);Ht(this,"reApply",!1);Ht(this,"intervals",[]);Ht(this,"listeners",[]);Ht(this,"deferred");this.channel=t,this.options=e,this.apply=this.apply.bind(this),this.awaitLeadership=this.awaitLeadership.bind(this),this.sendAction=this.sendAction.bind(this)}async apply(){if(this.isLeader||this.isDead)return!1;if(this.isApplying)return this.reApply=!0,!1;this.isApplying=!0;let t=!1,e=n=>{let{token:r,action:s}=n.data;r!==this.token&&(s===0&&r>this.token&&(t=!0),s===1&&(t=!0))};this.channel.addEventListener("message",e);try{return this.sendAction(0),await y$(this.options.responseTime),this.channel.removeEventListener("message",e),this.isApplying=!1,t?this.reApply?this.apply():!1:(this.assumeLead(),!0)}catch{return!1}}awaitLeadership(){if(this.isLeader)return Promise.resolve();let t=!1,e=null;return new Promise(n=>{let r=()=>{if(t)return;t=!0;try{Co.clearInterval(e)}catch{}let i=this.intervals.indexOf(e);i>=0&&this.intervals.splice(i,1),this.channel.removeEventListener("message",s),n()};e=Co.setInterval(()=>{this.apply().then(()=>{this.isLeader&&r()})},this.options.fallbackInterval),this.intervals.push(e);let s=i=>{let{action:a}=i.data;a===2&&this.apply().then(()=>{this.isLeader&&r()})};this.channel.addEventListener("message",s)})}sendAction(t){this.channel.postMessage({action:t,token:this.token})}assumeLead(){this.isLeader=!0;let t=e=>{let{action:n}=e.data;n===0&&this.sendAction(1)};return this.channel.addEventListener("message",t),this.listeners.push(t),this.sendAction(1)}waitForLeadership(){return this.deferred?this.deferred:(this.deferred=this.awaitLeadership(),this.deferred)}close(){if(!this.isDead){this.isDead=!0,this.isLeader=!1,this.sendAction(2);try{this.listeners.forEach(t=>this.channel.removeEventListener("message",t)),this.intervals.forEach(t=>Co.clearInterval(t))}catch{}}}},x$=class{constructor(t){Ht(this,"channel");Ht(this,"options");Ht(this,"elector");Ht(this,"token",sI());Ht(this,"registry",new Map);Ht(this,"allIdle",!1);Ht(this,"isLastActive",!1);let{channelName:e}=t;if(this.options=t,this.channel=new g$(e),this.registry.set(this.token,1),t.leaderElection){let n={fallbackInterval:2e3,responseTime:100};this.elector=new b$(this.channel,n),this.elector.waitForLeadership()}this.channel.addEventListener("message",n=>{let{action:r,token:s,data:i}=n.data;switch(r){case 3:this.registry.set(s,2);break;case 4:this.registry.delete(s);break;case 5:this.idle(s);break;case 6:this.active(s);break;case 7:this.prompt(s);break;case 8:this.start(s);break;case 9:this.reset(s);break;case 10:this.activate(s);break;case 11:this.pause(s);break;case 12:this.resume(s);break;case 13:this.options.onMessage(i);break}}),this.send(3)}get isLeader(){if(!this.elector)throw new Error(' Leader election is not enabled. To Enable it set the "leaderElection" property to true.');return this.elector.isLeader}prompt(t=this.token){this.registry.set(t,0);let e=[...this.registry.values()].every(n=>n===0);t===this.token&&this.send(7),e&&this.options.onPrompt()}idle(t=this.token){this.registry.set(t,2);let e=[...this.registry.values()].every(n=>n===2);t===this.token&&this.send(5),!this.allIdle&&e&&(this.allIdle=!0,this.options.onIdle())}active(t=this.token){this.allIdle=!1,this.registry.set(t,1);let e=[...this.registry.values()].some(n=>n===1);t===this.token&&this.send(6),e&&this.options.onActive(),this.isLastActive=t===this.token}start(t=this.token){this.allIdle=!1,this.registry.set(t,1),t===this.token?this.send(8):this.options.start(!0),this.isLastActive=t===this.token}reset(t=this.token){this.allIdle=!1,this.registry.set(t,1),t===this.token?this.send(9):this.options.reset(!0),this.isLastActive=t===this.token}activate(t=this.token){this.allIdle=!1,this.registry.set(t,1),t===this.token?this.send(10):this.options.activate(!0),this.isLastActive=t===this.token}pause(t=this.token){t===this.token?this.send(11):this.options.pause(!0)}resume(t=this.token){t===this.token?this.send(12):this.options.resume(!0)}message(t){try{this.channel.postMessage({action:13,token:this.token,data:t})}catch{}}send(t){try{this.channel.postMessage({action:t,token:this.token})}catch{}}close(){this.options.leaderElection&&this.elector.close(),this.send(4),this.channel.close()}},v$=ic?document:null,_$=["mousemove","keydown","wheel","DOMMouseScroll","mousewheel","mousedown","touchstart","touchmove","MSPointerDown","MSPointerMove","visibilitychange","focus"];function w$(t,e){let n;function r(...s){n&&clearTimeout(n),n=setTimeout(()=>{t(...s),n=null},e)}return r.cancel=function(){clearTimeout(n)},r}function S_(t,e){let n=0;return function(...r){let s=new Date().getTime();if(!(s-n<e))return n=s,t(...r)}}var rs=()=>Date.now(),qh=2147483647;function S$({timeout:t=1e3*60*20,promptTimeout:e=0,promptBeforeIdle:n=0,element:r=v$,events:s=_$,timers:i=void 0,immediateEvents:a=[],onPresenceChange:l=()=>{},onPrompt:c=()=>{},onIdle:u=()=>{},onActive:h=()=>{},onAction:f=()=>{},onMessage:m=()=>{},debounce:g=0,throttle:b=0,eventsThrottle:y=200,startOnMount:x=!0,startManually:_=!1,stopOnIdle:S=!1,crossTab:T=!1,name:D="idle-timer",syncTimers:j=0,leaderElection:A=!1,disabled:O=!1}={}){let L=w.useRef(rs()),P=w.useRef(rs()),N=w.useRef(null),U=w.useRef(null),M=w.useRef(0),q=w.useRef(0),E=w.useRef(0),G=w.useRef(0),Q=w.useRef(!1),re=w.useRef(!1),ee=w.useRef(!1),Z=w.useRef(!0),K=w.useRef(!1),F=w.useRef(null),W=w.useRef(null),me=w.useRef(t),ne=w.useRef(0);w.useEffect(()=>{if(e&&console.warn(" IdleTimer -- The `promptTimeout` property has been deprecated in favor of `promptBeforeIdle`. It will be removed in the next major release."),n&&e)throw new Error(" Both promptTimeout and promptBeforeIdle can not be set. The promptTimeout property will be deprecated in a future version.");if(t>=qh)throw new Error(` The value for the timeout property must fit in a 32 bit signed integer, ${qh}.`);if(e>=qh)throw new Error(` The value for the promptTimeout property must fit in a 32 bit signed integer, ${qh}.`);if(n>=qh)throw new Error(` The value for the promptBeforeIdle property must fit in a 32 bit signed integer, ${qh}.`);if(n>=t)throw new Error(` The value for the promptBeforeIdle property must be less than the timeout property, ${t}.`);if(n?(me.current=t-n,ne.current=n):(me.current=t,ne.current=e),!Z.current){if(_||O)return;Q.current&&(ct.current(null,Ut),W.current&&W.current.active()),pt()}},[t,e,n,_,O]);let ge=w.useRef(S);w.useEffect(()=>{ge.current=S},[S]);let we=w.useRef(a),je=w.useRef(r),Re=w.useRef([...new Set([...s,...a]).values()]),ke=w.useRef(O);w.useEffect(()=>{ke.current=O,!Z.current&&(O?Qe():_||pt())},[O]);let We=w.useRef(l);w.useEffect(()=>{We.current=l},[l]);let Je=w.useRef(c);w.useEffect(()=>{Je.current=c},[c]);let nt=w.useRef(u);w.useEffect(()=>{nt.current=u},[u]);let ct=w.useRef(h);w.useEffect(()=>{ct.current=h},[h]);let X=w.useRef(f);w.useEffect(()=>{X.current=f},[f]);let Me=w.useRef(m);w.useEffect(()=>{Me.current=m},[m]);let ye=w.useMemo(()=>{let Ct=(en,qn)=>X.current(en,qn);return g>0?w$(Ct,g):b>0?S_(Ct,b):Ct},[b,g]),se=w.useRef();w.useEffect(()=>{T&&j&&(se.current=S_(()=>{W.current.active()},j))},[T,j]);let ie=()=>{F.current!==null&&(Co.clearTimeout(F.current),F.current=null)},fe=(Ct,en=!0)=>{ie(),F.current=Co.setTimeout(ve,Ct||me.current),en&&(U.current=rs())},Te=Ct=>{!re.current&&!Q.current&&(Je.current(Ct,Ut),We.current({type:"active",prompted:!0},Ut)),G.current=0,E.current=rs(),re.current=!0,fe(ne.current,!1)},he=()=>{ie(),Q.current||(nt.current(null,Ut),We.current({type:"idle"},Ut)),Q.current=!0,N.current=rs(),ge.current?ut():re.current&&(E.current=0,re.current=!1)},ce=Ct=>{ie(),(Q.current||re.current)&&(ct.current(Ct,Ut),We.current({type:"active",prompted:!1},Ut)),re.current=!1,E.current=0,Q.current=!1,M.current+=rs()-N.current,q.current+=rs()-N.current,Se(),fe()},ve=Ct=>{if(!Q.current){ye.cancel&&ye.cancel();let en=rs()-U.current;if(!(me.current+ne.current<en)&&ne.current>0&&!re.current){W.current?W.current.prompt():Te(Ct);return}W.current?W.current.idle():he();return}W.current?W.current.active():ce(Ct)},Ie=Ct=>{if(!x&&!U.current&&(U.current=rs(),ct.current(null,Ut)),ye(Ct,Ut),re.current)return;if(ie(),!Q.current&&we.current.includes(Ct.type)){ve(Ct);return}let en=rs()-U.current;if(Q.current&&!S||!Q.current&&en>=me.current){ve(Ct);return}ee.current=!1,G.current=0,E.current=0,fe(),T&&j&&se.current()},Fe=w.useRef(Ie);w.useEffect(()=>{let Ct=K.current;Ct&&ut(),y>0?Fe.current=S_(Ie,y):Fe.current=Ie,Ct&&Se()},[y,b,g,X,T,j]);let Se=()=>{ic&&je.current&&(K.current||(Re.current.forEach(Ct=>{je.current.addEventListener(Ct,Fe.current,{capture:!0,passive:!0})}),K.current=!0))},ut=(Ct=!1)=>{ic&&je.current&&(K.current||Ct)&&(Re.current.forEach(en=>{je.current.removeEventListener(en,Fe.current,{capture:!0})}),K.current=!1)},pt=w.useCallback(Ct=>ke.current?!1:(ie(),Se(),Q.current=!1,re.current=!1,ee.current=!1,G.current=0,E.current=0,W.current&&!Ct&&W.current.start(),fe(),!0),[F,Q,ke,me,W]),Le=w.useCallback(Ct=>ke.current?!1:(ie(),Se(),P.current=rs(),M.current+=rs()-N.current,q.current+=rs()-N.current,M.current=0,Q.current=!1,re.current=!1,ee.current=!1,G.current=0,E.current=0,W.current&&!Ct&&W.current.reset(),_||fe(),!0),[F,Q,me,_,ke,W]),Ue=w.useCallback(Ct=>ke.current?!1:(ie(),Se(),(Q.current||re.current)&&ce(),Q.current=!1,re.current=!1,ee.current=!1,G.current=0,E.current=0,P.current=rs(),W.current&&!Ct&&W.current.activate(),fe(),!0),[F,Q,re,ke,me,W]),Qe=w.useCallback((Ct=!1)=>ke.current||ee.current?!1:(G.current=Ze(),ee.current=!0,ut(),ie(),W.current&&!Ct&&W.current.pause(),!0),[F,ke,W]),ot=w.useCallback((Ct=!1)=>ke.current||!ee.current?!1:(ee.current=!1,re.current||Se(),Q.current||fe(G.current),E.current&&(E.current=rs()),W.current&&!Ct&&W.current.resume(),!0),[F,me,ke,G,W]),Ke=w.useCallback((Ct,en)=>(W.current?(en&&Me.current(Ct,Ut),W.current.message(Ct)):en&&Me.current(Ct,Ut),!0),[m]),xt=w.useCallback(()=>Q.current,[Q]),ae=w.useCallback(()=>re.current,[re]),Be=w.useCallback(()=>W.current?W.current.isLeader:null,[W]),Ye=w.useCallback(()=>W.current?W.current.isLastActive:null,[W]),_t=w.useCallback(()=>W.current?W.current.token:null,[W]),Ze=w.useCallback(()=>{if(ee.current)return G.current;let Ct=G.current?G.current:ne.current+me.current,en=U.current?rs()-U.current:0,qn=Math.floor(Ct-en);return qn<0?0:Math.abs(qn)},[me,ne,re,G,U]),it=w.useCallback(()=>Math.round(rs()-P.current),[P]),te=w.useCallback(()=>Math.round(rs()-L.current),[L]),le=w.useCallback(()=>N.current?new Date(N.current):null,[N]),be=w.useCallback(()=>U.current?new Date(U.current):null,[U]),ue=w.useCallback(()=>Q.current?Math.round(rs()-N.current+M.current):Math.round(M.current),[N,M]),Oe=w.useCallback(()=>Q.current?Math.round(rs()-N.current+q.current):Math.round(q.current),[N,q]),wt=w.useCallback(()=>{let Ct=Math.round(it()-ue());return Ct>=0?Ct:0},[N,M]),At=w.useCallback(()=>{let Ct=Math.round(te()-Oe());return Ct>=0?Ct:0},[N,M]);w.useEffect(()=>{if(g>0&&b>0)throw new Error(" onAction can either be throttled or debounced, not both.");i&&p$(i);let Ct=()=>{W.current&&W.current.close(),ye.cancel&&ye.cancel(),ie(),ut(!0)};return ic&&window.addEventListener("beforeunload",Ct),()=>{ic&&window.removeEventListener("beforeunload",Ct),W.current&&W.current.close(),ye.cancel&&ye.cancel(),ie(),ut(!0)}},[]),w.useEffect(()=>{W.current&&W.current.close(),T?W.current=new x$({channelName:D,leaderElection:A,onPrompt:()=>{Te()},onIdle:()=>{he()},onActive:()=>{ce()},onMessage:Ct=>{Me.current(Ct,Ut)},start:pt,reset:Le,activate:Ue,pause:Qe,resume:ot}):W.current=null},[T,D,A,Je,nt,ct,Me,pt,Le,Qe,ot]),w.useEffect(()=>{Z.current||(ie(),ut(!0)),!(_||O)&&(x?pt():Se())},[_,x,O,Z]),w.useEffect(()=>{if(!Z.current){let Ct=[...new Set([...s,...a]).values()];if(ut(),Re.current=Ct,je.current=r,we.current=a,_||O)return;x?pt():Se()}},[r,JSON.stringify(s),JSON.stringify(a),Z,O,_,x]),w.useEffect(()=>{Z.current&&(Z.current=!1)},[Z]);let Ut={message:Ke,start:pt,reset:Le,activate:Ue,pause:Qe,resume:ot,isIdle:xt,isPrompted:ae,isLeader:Be,isLastActiveTab:Ye,getTabId:_t,getRemainingTime:Ze,getElapsedTime:it,getTotalElapsedTime:te,getLastIdleTime:le,getLastActiveTime:be,getIdleTime:ue,getTotalIdleTime:Oe,getActiveTime:wt,getTotalActiveTime:At,setOnPresenceChange:Ct=>{l=Ct,We.current=Ct},setOnPrompt:Ct=>{c=Ct,Je.current=Ct},setOnIdle:Ct=>{u=Ct,nt.current=Ct},setOnActive:Ct=>{h=Ct,ct.current=Ct},setOnAction:Ct=>{f=Ct,X.current=Ct},setOnMessage:Ct=>{m=Ct,Me.current=Ct}};return Ut}var C$=w.createContext(null);C$.Consumer;/*! js-cookie v3.0.5 | MIT */function hy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}var T$={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function T2(t,e){function n(s,i,a){if(!(typeof document>"u")){a=hy({},e,a),typeof a.expires=="number"&&(a.expires=new Date(Date.now()+a.expires*864e5)),a.expires&&(a.expires=a.expires.toUTCString()),s=encodeURIComponent(s).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var l="";for(var c in a)a[c]&&(l+="; "+c,a[c]!==!0&&(l+="="+a[c].split(";")[0]));return document.cookie=s+"="+t.write(i,s)+l}}function r(s){if(!(typeof document>"u"||arguments.length&&!s)){for(var i=document.cookie?document.cookie.split("; "):[],a={},l=0;l<i.length;l++){var c=i[l].split("="),u=c.slice(1).join("=");try{var h=decodeURIComponent(c[0]);if(a[h]=t.read(u,h),s===h)break}catch{}}return s?a[s]:a}}return Object.create({set:n,get:r,remove:function(s,i){n(s,"",hy({},i,{expires:-1}))},withAttributes:function(s){return T2(this.converter,hy({},this.attributes,s))},withConverter:function(s){return T2(hy({},this.converter,s),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var Cn=T2(T$,{path:"/"});const Yg=w.createContext(),Gg=w.createContext();function iI(t,e){return function(){return t.apply(e,arguments)}}const{toString:k$}=Object.prototype,{getPrototypeOf:_C}=Object,{iterator:Bx,toStringTag:aI}=Symbol,$x=(t=>e=>{const n=k$.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Io=t=>(t=t.toLowerCase(),e=>$x(e)===t),zx=t=>e=>typeof e===t,{isArray:cp}=Array,ug=zx("undefined");function E$(t){return t!==null&&!ug(t)&&t.constructor!==null&&!ug(t.constructor)&&Hi(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const oI=Io("ArrayBuffer");function j$(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&oI(t.buffer),e}const N$=zx("string"),Hi=zx("function"),lI=zx("number"),Ux=t=>t!==null&&typeof t=="object",D$=t=>t===!0||t===!1,Xy=t=>{if($x(t)!=="object")return!1;const e=_C(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(aI in t)&&!(Bx in t)},A$=Io("Date"),P$=Io("File"),I$=Io("Blob"),O$=Io("FileList"),M$=t=>Ux(t)&&Hi(t.pipe),R$=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Hi(t.append)&&((e=$x(t))==="formdata"||e==="object"&&Hi(t.toString)&&t.toString()==="[object FormData]"))},L$=Io("URLSearchParams"),[F$,B$,$$,z$]=["ReadableStream","Request","Response","Headers"].map(Io),U$=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Kg(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),cp(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),a=i.length;let l;for(r=0;r<a;r++)l=i[r],e.call(null,t[l],l,t)}}function cI(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const jd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,uI=t=>!ug(t)&&t!==jd;function k2(){const{caseless:t}=uI(this)&&this||{},e={},n=(r,s)=>{const i=t&&cI(e,s)||s;Xy(e[i])&&Xy(r)?e[i]=k2(e[i],r):Xy(r)?e[i]=k2({},r):cp(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Kg(arguments[r],n);return e}const H$=(t,e,n,{allOwnKeys:r}={})=>(Kg(e,(s,i)=>{n&&Hi(s)?t[i]=iI(s,n):t[i]=s},{allOwnKeys:r}),t),W$=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),V$=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},q$=(t,e,n,r)=>{let s,i,a;const l={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)a=s[i],(!r||r(a,t,e))&&!l[a]&&(e[a]=t[a],l[a]=!0);t=n!==!1&&_C(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Y$=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},G$=t=>{if(!t)return null;if(cp(t))return t;let e=t.length;if(!lI(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},K$=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&_C(Uint8Array)),X$=(t,e)=>{const r=(t&&t[Bx]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},Q$=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},Z$=Io("HTMLFormElement"),J$=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),bN=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),ez=Io("RegExp"),dI=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Kg(n,(s,i)=>{let a;(a=e(s,i,t))!==!1&&(r[i]=a||s)}),Object.defineProperties(t,r)},tz=t=>{dI(t,(e,n)=>{if(Hi(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Hi(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},nz=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return cp(t)?r(t):r(String(t).split(e)),n},rz=()=>{},sz=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function iz(t){return!!(t&&Hi(t.append)&&t[aI]==="FormData"&&t[Bx])}const az=t=>{const e=new Array(10),n=(r,s)=>{if(Ux(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=cp(r)?[]:{};return Kg(r,(a,l)=>{const c=n(a,s+1);!ug(c)&&(i[l]=c)}),e[s]=void 0,i}}return r};return n(t,0)},oz=Io("AsyncFunction"),lz=t=>t&&(Ux(t)||Hi(t))&&Hi(t.then)&&Hi(t.catch),hI=((t,e)=>t?setImmediate:e?((n,r)=>(jd.addEventListener("message",({source:s,data:i})=>{s===jd&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),jd.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Hi(jd.postMessage)),cz=typeof queueMicrotask<"u"?queueMicrotask.bind(jd):typeof process<"u"&&process.nextTick||hI,uz=t=>t!=null&&Hi(t[Bx]),gt={isArray:cp,isArrayBuffer:oI,isBuffer:E$,isFormData:R$,isArrayBufferView:j$,isString:N$,isNumber:lI,isBoolean:D$,isObject:Ux,isPlainObject:Xy,isReadableStream:F$,isRequest:B$,isResponse:$$,isHeaders:z$,isUndefined:ug,isDate:A$,isFile:P$,isBlob:I$,isRegExp:ez,isFunction:Hi,isStream:M$,isURLSearchParams:L$,isTypedArray:K$,isFileList:O$,forEach:Kg,merge:k2,extend:H$,trim:U$,stripBOM:W$,inherits:V$,toFlatObject:q$,kindOf:$x,kindOfTest:Io,endsWith:Y$,toArray:G$,forEachEntry:X$,matchAll:Q$,isHTMLForm:Z$,hasOwnProperty:bN,hasOwnProp:bN,reduceDescriptors:dI,freezeMethods:tz,toObjectSet:nz,toCamelCase:J$,noop:rz,toFiniteNumber:sz,findKey:cI,global:jd,isContextDefined:uI,isSpecCompliantForm:iz,toJSONObject:az,isAsyncFn:oz,isThenable:lz,setImmediate:hI,asap:cz,isIterable:uz};function jn(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}gt.inherits(jn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:gt.toJSONObject(this.config),code:this.code,status:this.status}}});const fI=jn.prototype,pI={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{pI[t]={value:t}});Object.defineProperties(jn,pI);Object.defineProperty(fI,"isAxiosError",{value:!0});jn.from=(t,e,n,r,s,i)=>{const a=Object.create(fI);return gt.toFlatObject(t,a,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),jn.call(a,t.message,e,n,r,s),a.cause=t,a.name=t.name,i&&Object.assign(a,i),a};const dz=null;function E2(t){return gt.isPlainObject(t)||gt.isArray(t)}function mI(t){return gt.endsWith(t,"[]")?t.slice(0,-2):t}function xN(t,e,n){return t?t.concat(e).map(function(s,i){return s=mI(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function hz(t){return gt.isArray(t)&&!t.some(E2)}const fz=gt.toFlatObject(gt,{},null,function(e){return/^is[A-Z]/.test(e)});function Hx(t,e,n){if(!gt.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=gt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,x){return!gt.isUndefined(x[y])});const r=n.metaTokens,s=n.visitor||h,i=n.dots,a=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&gt.isSpecCompliantForm(e);if(!gt.isFunction(s))throw new TypeError("visitor must be a function");function u(b){if(b===null)return"";if(gt.isDate(b))return b.toISOString();if(!c&&gt.isBlob(b))throw new jn("Blob is not supported. Use a Buffer instead.");return gt.isArrayBuffer(b)||gt.isTypedArray(b)?c&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function h(b,y,x){let _=b;if(b&&!x&&typeof b=="object"){if(gt.endsWith(y,"{}"))y=r?y:y.slice(0,-2),b=JSON.stringify(b);else if(gt.isArray(b)&&hz(b)||(gt.isFileList(b)||gt.endsWith(y,"[]"))&&(_=gt.toArray(b)))return y=mI(y),_.forEach(function(T,D){!(gt.isUndefined(T)||T===null)&&e.append(a===!0?xN([y],D,i):a===null?y:y+"[]",u(T))}),!1}return E2(b)?!0:(e.append(xN(x,y,i),u(b)),!1)}const f=[],m=Object.assign(fz,{defaultVisitor:h,convertValue:u,isVisitable:E2});function g(b,y){if(!gt.isUndefined(b)){if(f.indexOf(b)!==-1)throw Error("Circular reference detected in "+y.join("."));f.push(b),gt.forEach(b,function(_,S){(!(gt.isUndefined(_)||_===null)&&s.call(e,_,gt.isString(S)?S.trim():S,y,m))===!0&&g(_,y?y.concat(S):[S])}),f.pop()}}if(!gt.isObject(t))throw new TypeError("data must be an object");return g(t),e}function vN(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function wC(t,e){this._pairs=[],t&&Hx(t,this,e)}const gI=wC.prototype;gI.append=function(e,n){this._pairs.push([e,n])};gI.toString=function(e){const n=e?function(r){return e.call(this,r,vN)}:vN;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function pz(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function yI(t,e,n){if(!e)return t;const r=n&&n.encode||pz;gt.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(e,n):i=gt.isURLSearchParams(e)?e.toString():new wC(e,n).toString(r),i){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class _N{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){gt.forEach(this.handlers,function(r){r!==null&&e(r)})}}const bI={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},mz=typeof URLSearchParams<"u"?URLSearchParams:wC,gz=typeof FormData<"u"?FormData:null,yz=typeof Blob<"u"?Blob:null,bz={isBrowser:!0,classes:{URLSearchParams:mz,FormData:gz,Blob:yz},protocols:["http","https","file","blob","url","data"]},SC=typeof window<"u"&&typeof document<"u",j2=typeof navigator=="object"&&navigator||void 0,xz=SC&&(!j2||["ReactNative","NativeScript","NS"].indexOf(j2.product)<0),vz=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",_z=SC&&window.location.href||"http://localhost",wz=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:SC,hasStandardBrowserEnv:xz,hasStandardBrowserWebWorkerEnv:vz,navigator:j2,origin:_z},Symbol.toStringTag,{value:"Module"})),Ks={...wz,...bz};function Sz(t,e){return Hx(t,new Ks.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return Ks.isNode&&gt.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function Cz(t){return gt.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Tz(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function xI(t){function e(n,r,s,i){let a=n[i++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),c=i>=n.length;return a=!a&&gt.isArray(s)?s.length:a,c?(gt.hasOwnProp(s,a)?s[a]=[s[a],r]:s[a]=r,!l):((!s[a]||!gt.isObject(s[a]))&&(s[a]=[]),e(n,r,s[a],i)&&gt.isArray(s[a])&&(s[a]=Tz(s[a])),!l)}if(gt.isFormData(t)&&gt.isFunction(t.entries)){const n={};return gt.forEachEntry(t,(r,s)=>{e(Cz(r),s,n,0)}),n}return null}function kz(t,e,n){if(gt.isString(t))try{return(e||JSON.parse)(t),gt.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Xg={transitional:bI,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=gt.isObject(e);if(i&&gt.isHTMLForm(e)&&(e=new FormData(e)),gt.isFormData(e))return s?JSON.stringify(xI(e)):e;if(gt.isArrayBuffer(e)||gt.isBuffer(e)||gt.isStream(e)||gt.isFile(e)||gt.isBlob(e)||gt.isReadableStream(e))return e;if(gt.isArrayBufferView(e))return e.buffer;if(gt.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Sz(e,this.formSerializer).toString();if((l=gt.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Hx(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),kz(e)):e}],transformResponse:[function(e){const n=this.transitional||Xg.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(gt.isResponse(e)||gt.isReadableStream(e))return e;if(e&&gt.isString(e)&&(r&&!this.responseType||s)){const a=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(l){if(a)throw l.name==="SyntaxError"?jn.from(l,jn.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ks.classes.FormData,Blob:Ks.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};gt.forEach(["delete","get","head","post","put","patch"],t=>{Xg.headers[t]={}});const Ez=gt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),jz=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(a){s=a.indexOf(":"),n=a.substring(0,s).trim().toLowerCase(),r=a.substring(s+1).trim(),!(!n||e[n]&&Ez[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},wN=Symbol("internals");function um(t){return t&&String(t).trim().toLowerCase()}function Qy(t){return t===!1||t==null?t:gt.isArray(t)?t.map(Qy):String(t)}function Nz(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const Dz=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function C_(t,e,n,r,s){if(gt.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!gt.isString(e)){if(gt.isString(r))return e.indexOf(r)!==-1;if(gt.isRegExp(r))return r.test(e)}}function Az(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function Pz(t,e){const n=gt.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,a){return this[r].call(this,e,s,i,a)},configurable:!0})})}let Wi=class{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(l,c,u){const h=um(c);if(!h)throw new Error("header name must be a non-empty string");const f=gt.findKey(s,h);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||c]=Qy(l))}const a=(l,c)=>gt.forEach(l,(u,h)=>i(u,h,c));if(gt.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(gt.isString(e)&&(e=e.trim())&&!Dz(e))a(jz(e),n);else if(gt.isObject(e)&&gt.isIterable(e)){let l={},c,u;for(const h of e){if(!gt.isArray(h))throw TypeError("Object iterator must return a key-value pair");l[u=h[0]]=(c=l[u])?gt.isArray(c)?[...c,h[1]]:[c,h[1]]:h[1]}a(l,n)}else e!=null&&i(n,e,r);return this}get(e,n){if(e=um(e),e){const r=gt.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return Nz(s);if(gt.isFunction(n))return n.call(this,s,r);if(gt.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=um(e),e){const r=gt.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||C_(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(a){if(a=um(a),a){const l=gt.findKey(r,a);l&&(!n||C_(r,r[l],l,n))&&(delete r[l],s=!0)}}return gt.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||C_(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return gt.forEach(this,(s,i)=>{const a=gt.findKey(r,i);if(a){n[a]=Qy(s),delete n[i];return}const l=e?Az(i):String(i).trim();l!==i&&delete n[i],n[l]=Qy(s),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return gt.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&gt.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[wN]=this[wN]={accessors:{}}).accessors,s=this.prototype;function i(a){const l=um(a);r[l]||(Pz(s,a),r[l]=!0)}return gt.isArray(e)?e.forEach(i):i(e),this}};Wi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);gt.reduceDescriptors(Wi.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});gt.freezeMethods(Wi);function T_(t,e){const n=this||Xg,r=e||n,s=Wi.from(r.headers);let i=r.data;return gt.forEach(t,function(l){i=l.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function vI(t){return!!(t&&t.__CANCEL__)}function up(t,e,n){jn.call(this,t??"canceled",jn.ERR_CANCELED,e,n),this.name="CanceledError"}gt.inherits(up,jn,{__CANCEL__:!0});function _I(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new jn("Request failed with status code "+n.status,[jn.ERR_BAD_REQUEST,jn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Iz(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Oz(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,a;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),h=r[i];a||(a=u),n[s]=c,r[s]=u;let f=i,m=0;for(;f!==s;)m+=n[f++],f=f%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),u-a<e)return;const g=h&&u-h;return g?Math.round(m*1e3/g):void 0}}function Mz(t,e){let n=0,r=1e3/e,s,i;const a=(u,h=Date.now())=>{n=h,s=null,i&&(clearTimeout(i),i=null),t.apply(null,u)};return[(...u)=>{const h=Date.now(),f=h-n;f>=r?a(u,h):(s=u,i||(i=setTimeout(()=>{i=null,a(s)},r-f)))},()=>s&&a(s)]}const kb=(t,e,n=3)=>{let r=0;const s=Oz(50,250);return Mz(i=>{const a=i.loaded,l=i.lengthComputable?i.total:void 0,c=a-r,u=s(c),h=a<=l;r=a;const f={loaded:a,total:l,progress:l?a/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&h?(l-a)/u:void 0,event:i,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(f)},n)},SN=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},CN=t=>(...e)=>gt.asap(()=>t(...e)),Rz=Ks.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Ks.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Ks.origin),Ks.navigator&&/(msie|trident)/i.test(Ks.navigator.userAgent)):()=>!0,Lz=Ks.hasStandardBrowserEnv?{write(t,e,n,r,s,i){const a=[t+"="+encodeURIComponent(e)];gt.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),gt.isString(r)&&a.push("path="+r),gt.isString(s)&&a.push("domain="+s),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Fz(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Bz(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function wI(t,e,n){let r=!Fz(e);return t&&(r||n==!1)?Bz(t,e):e}const TN=t=>t instanceof Wi?{...t}:t;function qd(t,e){e=e||{};const n={};function r(u,h,f,m){return gt.isPlainObject(u)&&gt.isPlainObject(h)?gt.merge.call({caseless:m},u,h):gt.isPlainObject(h)?gt.merge({},h):gt.isArray(h)?h.slice():h}function s(u,h,f,m){if(gt.isUndefined(h)){if(!gt.isUndefined(u))return r(void 0,u,f,m)}else return r(u,h,f,m)}function i(u,h){if(!gt.isUndefined(h))return r(void 0,h)}function a(u,h){if(gt.isUndefined(h)){if(!gt.isUndefined(u))return r(void 0,u)}else return r(void 0,h)}function l(u,h,f){if(f in e)return r(u,h);if(f in t)return r(void 0,u)}const c={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(u,h,f)=>s(TN(u),TN(h),f,!0)};return gt.forEach(Object.keys(Object.assign({},t,e)),function(h){const f=c[h]||s,m=f(t[h],e[h],h);gt.isUndefined(m)&&f!==l||(n[h]=m)}),n}const SI=t=>{const e=qd({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:a,auth:l}=e;e.headers=a=Wi.from(a),e.url=yI(wI(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(gt.isFormData(n)){if(Ks.hasStandardBrowserEnv||Ks.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((c=a.getContentType())!==!1){const[u,...h]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];a.setContentType([u||"multipart/form-data",...h].join("; "))}}if(Ks.hasStandardBrowserEnv&&(r&&gt.isFunction(r)&&(r=r(e)),r||r!==!1&&Rz(e.url))){const u=s&&i&&Lz.read(i);u&&a.set(s,u)}return e},$z=typeof XMLHttpRequest<"u",zz=$z&&function(t){return new Promise(function(n,r){const s=SI(t);let i=s.data;const a=Wi.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,h,f,m,g,b;function y(){g&&g(),b&&b(),s.cancelToken&&s.cancelToken.unsubscribe(h),s.signal&&s.signal.removeEventListener("abort",h)}let x=new XMLHttpRequest;x.open(s.method.toUpperCase(),s.url,!0),x.timeout=s.timeout;function _(){if(!x)return;const T=Wi.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),j={data:!l||l==="text"||l==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:T,config:t,request:x};_I(function(O){n(O),y()},function(O){r(O),y()},j),x=null}"onloadend"in x?x.onloadend=_:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(_)},x.onabort=function(){x&&(r(new jn("Request aborted",jn.ECONNABORTED,t,x)),x=null)},x.onerror=function(){r(new jn("Network Error",jn.ERR_NETWORK,t,x)),x=null},x.ontimeout=function(){let D=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const j=s.transitional||bI;s.timeoutErrorMessage&&(D=s.timeoutErrorMessage),r(new jn(D,j.clarifyTimeoutError?jn.ETIMEDOUT:jn.ECONNABORTED,t,x)),x=null},i===void 0&&a.setContentType(null),"setRequestHeader"in x&&gt.forEach(a.toJSON(),function(D,j){x.setRequestHeader(j,D)}),gt.isUndefined(s.withCredentials)||(x.withCredentials=!!s.withCredentials),l&&l!=="json"&&(x.responseType=s.responseType),u&&([m,b]=kb(u,!0),x.addEventListener("progress",m)),c&&x.upload&&([f,g]=kb(c),x.upload.addEventListener("progress",f),x.upload.addEventListener("loadend",g)),(s.cancelToken||s.signal)&&(h=T=>{x&&(r(!T||T.type?new up(null,t,x):T),x.abort(),x=null)},s.cancelToken&&s.cancelToken.subscribe(h),s.signal&&(s.signal.aborted?h():s.signal.addEventListener("abort",h)));const S=Iz(s.url);if(S&&Ks.protocols.indexOf(S)===-1){r(new jn("Unsupported protocol "+S+":",jn.ERR_BAD_REQUEST,t));return}x.send(i||null)})},Uz=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const i=function(u){if(!s){s=!0,l();const h=u instanceof Error?u:this.reason;r.abort(h instanceof jn?h:new up(h instanceof Error?h.message:h))}};let a=e&&setTimeout(()=>{a=null,i(new jn(`timeout ${e} of ms exceeded`,jn.ETIMEDOUT))},e);const l=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),t=null)};t.forEach(u=>u.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>gt.asap(l),c}},Hz=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},Wz=async function*(t,e){for await(const n of Vz(t))yield*Hz(n,e)},Vz=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},kN=(t,e,n,r)=>{const s=Wz(t,e);let i=0,a,l=c=>{a||(a=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:h}=await s.next();if(u){l(),c.close();return}let f=h.byteLength;if(n){let m=i+=f;n(m)}c.enqueue(new Uint8Array(h))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},Wx=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",CI=Wx&&typeof ReadableStream=="function",qz=Wx&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),TI=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Yz=CI&&TI(()=>{let t=!1;const e=new Request(Ks.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),EN=64*1024,N2=CI&&TI(()=>gt.isReadableStream(new Response("").body)),Eb={stream:N2&&(t=>t.body)};Wx&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Eb[e]&&(Eb[e]=gt.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new jn(`Response type '${e}' is not supported`,jn.ERR_NOT_SUPPORT,r)})})})(new Response);const Gz=async t=>{if(t==null)return 0;if(gt.isBlob(t))return t.size;if(gt.isSpecCompliantForm(t))return(await new Request(Ks.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(gt.isArrayBufferView(t)||gt.isArrayBuffer(t))return t.byteLength;if(gt.isURLSearchParams(t)&&(t=t+""),gt.isString(t))return(await qz(t)).byteLength},Kz=async(t,e)=>{const n=gt.toFiniteNumber(t.getContentLength());return n??Gz(e)},Xz=Wx&&(async t=>{let{url:e,method:n,data:r,signal:s,cancelToken:i,timeout:a,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:h,withCredentials:f="same-origin",fetchOptions:m}=SI(t);u=u?(u+"").toLowerCase():"text";let g=Uz([s,i&&i.toAbortSignal()],a),b;const y=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let x;try{if(c&&Yz&&n!=="get"&&n!=="head"&&(x=await Kz(h,r))!==0){let j=new Request(e,{method:"POST",body:r,duplex:"half"}),A;if(gt.isFormData(r)&&(A=j.headers.get("content-type"))&&h.setContentType(A),j.body){const[O,L]=SN(x,kb(CN(c)));r=kN(j.body,EN,O,L)}}gt.isString(f)||(f=f?"include":"omit");const _="credentials"in Request.prototype;b=new Request(e,{...m,signal:g,method:n.toUpperCase(),headers:h.normalize().toJSON(),body:r,duplex:"half",credentials:_?f:void 0});let S=await fetch(b);const T=N2&&(u==="stream"||u==="response");if(N2&&(l||T&&y)){const j={};["status","statusText","headers"].forEach(P=>{j[P]=S[P]});const A=gt.toFiniteNumber(S.headers.get("content-length")),[O,L]=l&&SN(A,kb(CN(l),!0))||[];S=new Response(kN(S.body,EN,O,()=>{L&&L(),y&&y()}),j)}u=u||"text";let D=await Eb[gt.findKey(Eb,u)||"text"](S,t);return!T&&y&&y(),await new Promise((j,A)=>{_I(j,A,{data:D,headers:Wi.from(S.headers),status:S.status,statusText:S.statusText,config:t,request:b})})}catch(_){throw y&&y(),_&&_.name==="TypeError"&&/Load failed|fetch/i.test(_.message)?Object.assign(new jn("Network Error",jn.ERR_NETWORK,t,b),{cause:_.cause||_}):jn.from(_,_&&_.code,t,b)}}),D2={http:dz,xhr:zz,fetch:Xz};gt.forEach(D2,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const jN=t=>`- ${t}`,Qz=t=>gt.isFunction(t)||t===null||t===!1,kI={getAdapter:t=>{t=gt.isArray(t)?t:[t];const{length:e}=t;let n,r;const s={};for(let i=0;i<e;i++){n=t[i];let a;if(r=n,!Qz(n)&&(r=D2[(a=String(n)).toLowerCase()],r===void 0))throw new jn(`Unknown adapter '${a}'`);if(r)break;s[a||"#"+i]=r}if(!r){const i=Object.entries(s).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=e?i.length>1?`since :
`+i.map(jN).join(`
`):" "+jN(i[0]):"as no adapter specified";throw new jn("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:D2};function k_(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new up(null,t)}function NN(t){return k_(t),t.headers=Wi.from(t.headers),t.data=T_.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),kI.getAdapter(t.adapter||Xg.adapter)(t).then(function(r){return k_(t),r.data=T_.call(t,t.transformResponse,r),r.headers=Wi.from(r.headers),r},function(r){return vI(r)||(k_(t),r&&r.response&&(r.response.data=T_.call(t,t.transformResponse,r.response),r.response.headers=Wi.from(r.response.headers))),Promise.reject(r)})}const EI="1.9.0",Vx={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Vx[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const DN={};Vx.transitional=function(e,n,r){function s(i,a){return"[Axios v"+EI+"] Transitional option '"+i+"'"+a+(r?". "+r:"")}return(i,a,l)=>{if(e===!1)throw new jn(s(a," has been removed"+(n?" in "+n:"")),jn.ERR_DEPRECATED);return n&&!DN[a]&&(DN[a]=!0,console.warn(s(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,a,l):!0}};Vx.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function Zz(t,e,n){if(typeof t!="object")throw new jn("options must be an object",jn.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],a=e[i];if(a){const l=t[i],c=l===void 0||a(l,i,t);if(c!==!0)throw new jn("option "+i+" must be "+c,jn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new jn("Unknown option "+i,jn.ERR_BAD_OPTION)}}const Zy={assertOptions:Zz,validators:Vx},rl=Zy.validators;let Rd=class{constructor(e){this.defaults=e||{},this.interceptors={request:new _N,response:new _N}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=qd(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Zy.assertOptions(r,{silentJSONParsing:rl.transitional(rl.boolean),forcedJSONParsing:rl.transitional(rl.boolean),clarifyTimeoutError:rl.transitional(rl.boolean)},!1),s!=null&&(gt.isFunction(s)?n.paramsSerializer={serialize:s}:Zy.assertOptions(s,{encode:rl.function,serialize:rl.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Zy.assertOptions(n,{baseUrl:rl.spelling("baseURL"),withXsrfToken:rl.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=i&&gt.merge(i.common,i[n.method]);i&&gt.forEach(["delete","get","head","post","put","patch","common"],b=>{delete i[b]}),n.headers=Wi.concat(a,i);const l=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(c=c&&y.synchronous,l.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let h,f=0,m;if(!c){const b=[NN.bind(this),void 0];for(b.unshift.apply(b,l),b.push.apply(b,u),m=b.length,h=Promise.resolve(n);f<m;)h=h.then(b[f++],b[f++]);return h}m=l.length;let g=n;for(f=0;f<m;){const b=l[f++],y=l[f++];try{g=b(g)}catch(x){y.call(this,x);break}}try{h=NN.call(this,g)}catch(b){return Promise.reject(b)}for(f=0,m=u.length;f<m;)h=h.then(u[f++],u[f++]);return h}getUri(e){e=qd(this.defaults,e);const n=wI(e.baseURL,e.url,e.allowAbsoluteUrls);return yI(n,e.params,e.paramsSerializer)}};gt.forEach(["delete","get","head","options"],function(e){Rd.prototype[e]=function(n,r){return this.request(qd(r||{},{method:e,url:n,data:(r||{}).data}))}});gt.forEach(["post","put","patch"],function(e){function n(r){return function(i,a,l){return this.request(qd(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}Rd.prototype[e]=n(),Rd.prototype[e+"Form"]=n(!0)});let Jz=class jI{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const a=new Promise(l=>{r.subscribe(l),i=l}).then(s);return a.cancel=function(){r.unsubscribe(i)},a},e(function(i,a,l){r.reason||(r.reason=new up(i,a,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new jI(function(s){e=s}),cancel:e}}};function eU(t){return function(n){return t.apply(null,n)}}function tU(t){return gt.isObject(t)&&t.isAxiosError===!0}const A2={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(A2).forEach(([t,e])=>{A2[e]=t});function NI(t){const e=new Rd(t),n=iI(Rd.prototype.request,e);return gt.extend(n,Rd.prototype,e,{allOwnKeys:!0}),gt.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return NI(qd(t,s))},n}const Tr=NI(Xg);Tr.Axios=Rd;Tr.CanceledError=up;Tr.CancelToken=Jz;Tr.isCancel=vI;Tr.VERSION=EI;Tr.toFormData=Hx;Tr.AxiosError=jn;Tr.Cancel=Tr.CanceledError;Tr.all=function(e){return Promise.all(e)};Tr.spread=eU;Tr.isAxiosError=tU;Tr.mergeConfig=qd;Tr.AxiosHeaders=Wi;Tr.formToJSON=t=>xI(gt.isHTMLForm(t)?new FormData(t):t);Tr.getAdapter=kI.getAdapter;Tr.HttpStatusCode=A2;Tr.default=Tr;const{Axios:S_e,AxiosError:C_e,CanceledError:T_e,isCancel:k_e,CancelToken:E_e,VERSION:j_e,all:N_e,Cancel:D_e,isAxiosError:A_e,spread:P_e,toFormData:I_e,AxiosHeaders:O_e,HttpStatusCode:M_e,formToJSON:R_e,getAdapter:L_e,mergeConfig:F_e}=Tr;function P2(t){this.message=t}P2.prototype=new Error,P2.prototype.name="InvalidCharacterError";var AN=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(t){var e=String(t).replace(/=+$/,"");if(e.length%4==1)throw new P2("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,s=0,i=0,a="";r=e.charAt(i++);~r&&(n=s%4?64*n+r:r,s++%4)?a+=String.fromCharCode(255&n>>(-2*s&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return a};function nU(t){var e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw"Illegal base64url string!"}try{return function(n){return decodeURIComponent(AN(n).replace(/(.)/g,function(r,s){var i=s.charCodeAt(0).toString(16).toUpperCase();return i.length<2&&(i="0"+i),"%"+i}))}(e)}catch{return AN(e)}}function jb(t){this.message=t}function CC(t,e){if(typeof t!="string")throw new jb("Invalid token specified");var n=(e=e||{}).header===!0?0:1;try{return JSON.parse(nU(t.split(".")[n]))}catch(r){throw new jb("Invalid token specified: "+r.message)}}jb.prototype=new Error,jb.prototype.name="InvalidTokenError";function Vt(){let t=Cn.get("access_token"),e=Cn.get("refresh_token");if(t&&e)return CC(e)}const ua="https://api.bonjourclasse.online/api/v1/",bi="https://api.bonjourclasse.online";var VP;(VP=Vt())==null||VP.user_id;const rU={},PN=t=>{let e;const n=new Set,r=(h,f)=>{const m=typeof h=="function"?h(e):h;if(!Object.is(m,e)){const g=e;e=f??(typeof m!="object"||m===null)?m:Object.assign({},e,m),n.forEach(b=>b(e,g))}},s=()=>e,c={setState:r,getState:s,getInitialState:()=>u,subscribe:h=>(n.add(h),()=>n.delete(h)),destroy:()=>{(rU?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=e=t(r,s,c);return c},sU=t=>t?PN(t):PN;var E_={exports:{}},j_={},N_={exports:{}},D_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IN;function iU(){if(IN)return D_;IN=1;var t=Ja();function e(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,i=t.useLayoutEffect,a=t.useDebugValue;function l(f,m){var g=m(),b=r({inst:{value:g,getSnapshot:m}}),y=b[0].inst,x=b[1];return i(function(){y.value=g,y.getSnapshot=m,c(y)&&x({inst:y})},[f,g,m]),s(function(){return c(y)&&x({inst:y}),f(function(){c(y)&&x({inst:y})})},[f]),a(g),g}function c(f){var m=f.getSnapshot;f=f.value;try{var g=m();return!n(f,g)}catch{return!0}}function u(f,m){return m()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return D_.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,D_}var ON;function aU(){return ON||(ON=1,N_.exports=iU()),N_.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MN;function oU(){if(MN)return j_;MN=1;var t=Ja(),e=aU();function n(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var r=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,i=t.useRef,a=t.useEffect,l=t.useMemo,c=t.useDebugValue;return j_.useSyncExternalStoreWithSelector=function(u,h,f,m,g){var b=i(null);if(b.current===null){var y={hasValue:!1,value:null};b.current=y}else y=b.current;b=l(function(){function _(A){if(!S){if(S=!0,T=A,A=m(A),g!==void 0&&y.hasValue){var O=y.value;if(g(O,A))return D=O}return D=A}if(O=D,r(T,A))return O;var L=m(A);return g!==void 0&&g(O,L)?(T=A,O):(T=A,D=L)}var S=!1,T,D,j=f===void 0?null:f;return[function(){return _(h())},j===null?void 0:function(){return _(j())}]},[h,f,m,g]);var x=s(u,b[0],b[1]);return a(function(){y.hasValue=!0,y.value=x},[x]),c(x),x},j_}var RN;function lU(){return RN||(RN=1,E_.exports=oU()),E_.exports}var cU=lU();const uU=Jr(cU),DI={},{useDebugValue:dU}=nn,{useSyncExternalStoreWithSelector:hU}=uU;let LN=!1;const fU=t=>t;function pU(t,e=fU,n){(DI?"production":void 0)!=="production"&&n&&!LN&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),LN=!0);const r=hU(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return dU(r),r}const FN=t=>{(DI?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?sU(t):t,n=(r,s)=>pU(e,r,s);return Object.assign(n,e),n},mU=t=>t?FN(t):FN,I2=mU((t,e)=>({allUserData:null,loading:!1,user:()=>{var n,r,s;return{user_id:((n=e().allUserData)==null?void 0:n.user_id)||null,username:((r=e().allUserData)==null?void 0:r.username)||null,user_type:((s=e().allUserData)==null?void 0:s.user_type)||null}},setUser:n=>t({allUserData:n}),setLoading:n=>t({loading:n}),isLoggedIn:()=>e().allUserData!==null}));var Jy={exports:{}};/*!
* sweetalert2 v11.6.13
* Released under the MIT License.
*/var tu=Jy.exports,BN;function gU(){return BN||(BN=1,function(t,e){(function(n,r){t.exports=r()})(tu,function(){var n={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const r="swal2-",s=z=>{const H={};for(const oe in z)H[z[oe]]=r+z[oe];return H},i=s(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),a=s(["success","warning","info","question","error"]),l="SweetAlert2:",c=z=>{const H=[];for(let oe=0;oe<z.length;oe++)H.indexOf(z[oe])===-1&&H.push(z[oe]);return H},u=z=>z.charAt(0).toUpperCase()+z.slice(1),h=z=>{console.warn(`${l} ${typeof z=="object"?z.join(" "):z}`)},f=z=>{console.error(`${l} ${z}`)},m=[],g=z=>{m.includes(z)||(m.push(z),h(z))},b=(z,H)=>{g(`"${z}" is deprecated and will be removed in the next major release. Please use "${H}" instead.`)},y=z=>typeof z=="function"?z():z,x=z=>z&&typeof z.toPromise=="function",_=z=>x(z)?z.toPromise():Promise.resolve(z),S=z=>z&&Promise.resolve(z)===z,T=()=>document.body.querySelector(`.${i.container}`),D=z=>{const H=T();return H?H.querySelector(z):null},j=z=>D(`.${z}`),A=()=>j(i.popup),O=()=>j(i.icon),L=()=>j(i["icon-content"]),P=()=>j(i.title),N=()=>j(i["html-container"]),U=()=>j(i.image),M=()=>j(i["progress-steps"]),q=()=>j(i["validation-message"]),E=()=>D(`.${i.actions} .${i.confirm}`),G=()=>D(`.${i.actions} .${i.deny}`),Q=()=>j(i["input-label"]),re=()=>D(`.${i.loader}`),ee=()=>D(`.${i.actions} .${i.cancel}`),Z=()=>j(i.actions),K=()=>j(i.footer),F=()=>j(i["timer-progress-bar"]),W=()=>j(i.close),me=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,ne=()=>{const z=Array.from(A().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((oe,Ae)=>{const ft=parseInt(oe.getAttribute("tabindex")),Gt=parseInt(Ae.getAttribute("tabindex"));return ft>Gt?1:ft<Gt?-1:0}),H=Array.from(A().querySelectorAll(me)).filter(oe=>oe.getAttribute("tabindex")!=="-1");return c(z.concat(H)).filter(oe=>Ie(oe))},ge=()=>We(document.body,i.shown)&&!We(document.body,i["toast-shown"])&&!We(document.body,i["no-backdrop"]),we=()=>A()&&We(A(),i.toast),je=()=>A().hasAttribute("data-loading"),Re={previousBodyPadding:null},ke=(z,H)=>{if(z.textContent="",H){const Ae=new DOMParser().parseFromString(H,"text/html");Array.from(Ae.querySelector("head").childNodes).forEach(ft=>{z.appendChild(ft)}),Array.from(Ae.querySelector("body").childNodes).forEach(ft=>{ft instanceof HTMLVideoElement||ft instanceof HTMLAudioElement?z.appendChild(ft.cloneNode(!0)):z.appendChild(ft)})}},We=(z,H)=>{if(!H)return!1;const oe=H.split(/\s+/);for(let Ae=0;Ae<oe.length;Ae++)if(!z.classList.contains(oe[Ae]))return!1;return!0},Je=(z,H)=>{Array.from(z.classList).forEach(oe=>{!Object.values(i).includes(oe)&&!Object.values(a).includes(oe)&&!Object.values(H.showClass).includes(oe)&&z.classList.remove(oe)})},nt=(z,H,oe)=>{if(Je(z,H),H.customClass&&H.customClass[oe]){if(typeof H.customClass[oe]!="string"&&!H.customClass[oe].forEach){h(`Invalid type of customClass.${oe}! Expected string or iterable object, got "${typeof H.customClass[oe]}"`);return}ye(z,H.customClass[oe])}},ct=(z,H)=>{if(!H)return null;switch(H){case"select":case"textarea":case"file":return z.querySelector(`.${i.popup} > .${i[H]}`);case"checkbox":return z.querySelector(`.${i.popup} > .${i.checkbox} input`);case"radio":return z.querySelector(`.${i.popup} > .${i.radio} input:checked`)||z.querySelector(`.${i.popup} > .${i.radio} input:first-child`);case"range":return z.querySelector(`.${i.popup} > .${i.range} input`);default:return z.querySelector(`.${i.popup} > .${i.input}`)}},X=z=>{if(z.focus(),z.type!=="file"){const H=z.value;z.value="",z.value=H}},Me=(z,H,oe)=>{!z||!H||(typeof H=="string"&&(H=H.split(/\s+/).filter(Boolean)),H.forEach(Ae=>{Array.isArray(z)?z.forEach(ft=>{oe?ft.classList.add(Ae):ft.classList.remove(Ae)}):oe?z.classList.add(Ae):z.classList.remove(Ae)}))},ye=(z,H)=>{Me(z,H,!0)},se=(z,H)=>{Me(z,H,!1)},ie=(z,H)=>{const oe=Array.from(z.children);for(let Ae=0;Ae<oe.length;Ae++){const ft=oe[Ae];if(ft instanceof HTMLElement&&We(ft,H))return ft}},fe=(z,H,oe)=>{oe===`${parseInt(oe)}`&&(oe=parseInt(oe)),oe||parseInt(oe)===0?z.style[H]=typeof oe=="number"?`${oe}px`:oe:z.style.removeProperty(H)},Te=function(z){let H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";z.style.display=H},he=z=>{z.style.display="none"},ce=(z,H,oe,Ae)=>{const ft=z.querySelector(H);ft&&(ft.style[oe]=Ae)},ve=function(z,H){let oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";H?Te(z,oe):he(z)},Ie=z=>!!(z&&(z.offsetWidth||z.offsetHeight||z.getClientRects().length)),Fe=()=>!Ie(E())&&!Ie(G())&&!Ie(ee()),Se=z=>z.scrollHeight>z.clientHeight,ut=z=>{const H=window.getComputedStyle(z),oe=parseFloat(H.getPropertyValue("animation-duration")||"0"),Ae=parseFloat(H.getPropertyValue("transition-duration")||"0");return oe>0||Ae>0},pt=function(z){let H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const oe=F();Ie(oe)&&(H&&(oe.style.transition="none",oe.style.width="100%"),setTimeout(()=>{oe.style.transition=`width ${z/1e3}s linear`,oe.style.width="0%"},10))},Le=()=>{const z=F(),H=parseInt(window.getComputedStyle(z).width);z.style.removeProperty("transition"),z.style.width="100%";const oe=parseInt(window.getComputedStyle(z).width),Ae=H/oe*100;z.style.removeProperty("transition"),z.style.width=`${Ae}%`},Ue=100,Qe={},ot=()=>{Qe.previousActiveElement instanceof HTMLElement?(Qe.previousActiveElement.focus(),Qe.previousActiveElement=null):document.body&&document.body.focus()},Ke=z=>new Promise(H=>{if(!z)return H();const oe=window.scrollX,Ae=window.scrollY;Qe.restoreFocusTimeout=setTimeout(()=>{ot(),H()},Ue),window.scrollTo(oe,Ae)}),xt=()=>typeof window>"u"||typeof document>"u",ae=`
 <div aria-labelledby="${i.title}" aria-describedby="${i["html-container"]}" class="${i.popup}" tabindex="-1">
   <button type="button" class="${i.close}"></button>
   <ul class="${i["progress-steps"]}"></ul>
   <div class="${i.icon}"></div>
   <img class="${i.image}" />
   <h2 class="${i.title}" id="${i.title}"></h2>
   <div class="${i["html-container"]}" id="${i["html-container"]}"></div>
   <input class="${i.input}" />
   <input type="file" class="${i.file}" />
   <div class="${i.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${i.select}"></select>
   <div class="${i.radio}"></div>
   <label for="${i.checkbox}" class="${i.checkbox}">
     <input type="checkbox" />
     <span class="${i.label}"></span>
   </label>
   <textarea class="${i.textarea}"></textarea>
   <div class="${i["validation-message"]}" id="${i["validation-message"]}"></div>
   <div class="${i.actions}">
     <div class="${i.loader}"></div>
     <button type="button" class="${i.confirm}"></button>
     <button type="button" class="${i.deny}"></button>
     <button type="button" class="${i.cancel}"></button>
   </div>
   <div class="${i.footer}"></div>
   <div class="${i["timer-progress-bar-container"]}">
     <div class="${i["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),Be=()=>{const z=T();return z?(z.remove(),se([document.documentElement,document.body],[i["no-backdrop"],i["toast-shown"],i["has-column"]]),!0):!1},Ye=()=>{Qe.currentInstance.resetValidationMessage()},_t=()=>{const z=A(),H=ie(z,i.input),oe=ie(z,i.file),Ae=z.querySelector(`.${i.range} input`),ft=z.querySelector(`.${i.range} output`),Gt=ie(z,i.select),yr=z.querySelector(`.${i.checkbox} input`),li=ie(z,i.textarea);H.oninput=Ye,oe.onchange=Ye,Gt.onchange=Ye,yr.onchange=Ye,li.oninput=Ye,Ae.oninput=()=>{Ye(),ft.value=Ae.value},Ae.onchange=()=>{Ye(),ft.value=Ae.value}},Ze=z=>typeof z=="string"?document.querySelector(z):z,it=z=>{const H=A();H.setAttribute("role",z.toast?"alert":"dialog"),H.setAttribute("aria-live",z.toast?"polite":"assertive"),z.toast||H.setAttribute("aria-modal","true")},te=z=>{window.getComputedStyle(z).direction==="rtl"&&ye(T(),i.rtl)},le=z=>{const H=Be();if(xt()){f("SweetAlert2 requires document to initialize");return}const oe=document.createElement("div");oe.className=i.container,H&&ye(oe,i["no-transition"]),ke(oe,ae);const Ae=Ze(z.target);Ae.appendChild(oe),it(z),te(Ae),_t()},be=(z,H)=>{z instanceof HTMLElement?H.appendChild(z):typeof z=="object"?ue(z,H):z&&ke(H,z)},ue=(z,H)=>{z.jquery?Oe(H,z):ke(H,z.toString())},Oe=(z,H)=>{if(z.textContent="",0 in H)for(let oe=0;oe in H;oe++)z.appendChild(H[oe].cloneNode(!0));else z.appendChild(H.cloneNode(!0))},wt=(()=>{if(xt())return!1;const z=document.createElement("div"),H={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const oe in H)if(Object.prototype.hasOwnProperty.call(H,oe)&&typeof z.style[oe]<"u")return H[oe];return!1})(),At=()=>{const z=document.createElement("div");z.className=i["scrollbar-measure"],document.body.appendChild(z);const H=z.getBoundingClientRect().width-z.clientWidth;return document.body.removeChild(z),H},Ut=(z,H)=>{const oe=Z(),Ae=re();!H.showConfirmButton&&!H.showDenyButton&&!H.showCancelButton?he(oe):Te(oe),nt(oe,H,"actions"),Ct(oe,Ae,H),ke(Ae,H.loaderHtml),nt(Ae,H,"loader")};function Ct(z,H,oe){const Ae=E(),ft=G(),Gt=ee();qn(Ae,"confirm",oe),qn(ft,"deny",oe),qn(Gt,"cancel",oe),en(Ae,ft,Gt,oe),oe.reverseButtons&&(oe.toast?(z.insertBefore(Gt,Ae),z.insertBefore(ft,Ae)):(z.insertBefore(Gt,H),z.insertBefore(ft,H),z.insertBefore(Ae,H)))}function en(z,H,oe,Ae){if(!Ae.buttonsStyling){se([z,H,oe],i.styled);return}ye([z,H,oe],i.styled),Ae.confirmButtonColor&&(z.style.backgroundColor=Ae.confirmButtonColor,ye(z,i["default-outline"])),Ae.denyButtonColor&&(H.style.backgroundColor=Ae.denyButtonColor,ye(H,i["default-outline"])),Ae.cancelButtonColor&&(oe.style.backgroundColor=Ae.cancelButtonColor,ye(oe,i["default-outline"]))}function qn(z,H,oe){ve(z,oe[`show${u(H)}Button`],"inline-block"),ke(z,oe[`${H}ButtonText`]),z.setAttribute("aria-label",oe[`${H}ButtonAriaLabel`]),z.className=i[H],nt(z,oe,`${H}Button`),ye(z,oe[`${H}ButtonClass`])}const vr=(z,H)=>{const oe=W();ke(oe,H.closeButtonHtml),nt(oe,H,"closeButton"),ve(oe,H.showCloseButton),oe.setAttribute("aria-label",H.closeButtonAriaLabel)},Un=(z,H)=>{const oe=T();oe&&(Jt(oe,H.backdrop),yn(oe,H.position),Ir(oe,H.grow),nt(oe,H,"container"))};function Jt(z,H){typeof H=="string"?z.style.background=H:H||ye([document.documentElement,document.body],i["no-backdrop"])}function yn(z,H){H in i?ye(z,i[H]):(h('The "position" parameter is not valid, defaulting to "center"'),ye(z,i.center))}function Ir(z,H){if(H&&typeof H=="string"){const oe=`grow-${H}`;oe in i&&ye(z,i[oe])}}const js=["input","file","range","select","radio","checkbox","textarea"],Hn=(z,H)=>{const oe=A(),Ae=n.innerParams.get(z),ft=!Ae||H.input!==Ae.input;js.forEach(Gt=>{const yr=ie(oe,i[Gt]);vn(Gt,H.inputAttributes),yr.className=i[Gt],ft&&he(yr)}),H.input&&(ft&&zr(H),Fo(H))},zr=z=>{if(!wn[z.input]){f(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${z.input}"`);return}const H=Gi(z.input),oe=wn[z.input](H,z);Te(H),setTimeout(()=>{X(oe)})},as=z=>{for(let H=0;H<z.attributes.length;H++){const oe=z.attributes[H].name;["type","value","style"].includes(oe)||z.removeAttribute(oe)}},vn=(z,H)=>{const oe=ct(A(),z);if(oe){as(oe);for(const Ae in H)oe.setAttribute(Ae,H[Ae])}},Fo=z=>{const H=Gi(z.input);typeof z.customClass=="object"&&ye(H,z.customClass.input)},Ns=(z,H)=>{(!z.placeholder||H.inputPlaceholder)&&(z.placeholder=H.inputPlaceholder)},zs=(z,H,oe)=>{if(oe.inputLabel){z.id=i.input;const Ae=document.createElement("label"),ft=i["input-label"];Ae.setAttribute("for",z.id),Ae.className=ft,typeof oe.customClass=="object"&&ye(Ae,oe.customClass.inputLabel),Ae.innerText=oe.inputLabel,H.insertAdjacentElement("beforebegin",Ae)}},Gi=z=>ie(A(),i[z]||i.input),os=(z,H)=>{["string","number"].includes(typeof H)?z.value=`${H}`:S(H)||h(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof H}"`)},wn={};wn.text=wn.email=wn.password=wn.number=wn.tel=wn.url=(z,H)=>(os(z,H.inputValue),zs(z,z,H),Ns(z,H),z.type=H.input,z),wn.file=(z,H)=>(zs(z,z,H),Ns(z,H),z),wn.range=(z,H)=>{const oe=z.querySelector("input"),Ae=z.querySelector("output");return os(oe,H.inputValue),oe.type=H.input,os(Ae,H.inputValue),zs(oe,z,H),z},wn.select=(z,H)=>{if(z.textContent="",H.inputPlaceholder){const oe=document.createElement("option");ke(oe,H.inputPlaceholder),oe.value="",oe.disabled=!0,oe.selected=!0,z.appendChild(oe)}return zs(z,z,H),z},wn.radio=z=>(z.textContent="",z),wn.checkbox=(z,H)=>{const oe=ct(A(),"checkbox");oe.value="1",oe.id=i.checkbox,oe.checked=!!H.inputValue;const Ae=z.querySelector("span");return ke(Ae,H.inputPlaceholder),oe},wn.textarea=(z,H)=>{os(z,H.inputValue),Ns(z,H),zs(z,z,H);const oe=Ae=>parseInt(window.getComputedStyle(Ae).marginLeft)+parseInt(window.getComputedStyle(Ae).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const Ae=parseInt(window.getComputedStyle(A()).width),ft=()=>{const Gt=z.offsetWidth+oe(z);Gt>Ae?A().style.width=`${Gt}px`:A().style.width=null};new MutationObserver(ft).observe(z,{attributes:!0,attributeFilter:["style"]})}}),z};const so=(z,H)=>{const oe=N();nt(oe,H,"htmlContainer"),H.html?(be(H.html,oe),Te(oe,"block")):H.text?(oe.textContent=H.text,Te(oe,"block")):he(oe),Hn(z,H)},ba=(z,H)=>{const oe=K();ve(oe,H.footer),H.footer&&be(H.footer,oe),nt(oe,H,"footer")},Ki=(z,H)=>{const oe=n.innerParams.get(z),Ae=O();if(oe&&H.icon===oe.icon){Ds(Ae,H),er(Ae,H);return}if(!H.icon&&!H.iconHtml){he(Ae);return}if(H.icon&&Object.keys(a).indexOf(H.icon)===-1){f(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${H.icon}"`),he(Ae);return}Te(Ae),Ds(Ae,H),er(Ae,H),ye(Ae,H.showClass.icon)},er=(z,H)=>{for(const oe in a)H.icon!==oe&&se(z,a[oe]);ye(z,a[H.icon]),ao(z,H),io(),nt(z,H,"icon")},io=()=>{const z=A(),H=window.getComputedStyle(z).getPropertyValue("background-color"),oe=z.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let Ae=0;Ae<oe.length;Ae++)oe[Ae].style.backgroundColor=H},xa=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,ri=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Ds=(z,H)=>{let oe=z.innerHTML,Ae;H.iconHtml?Ae=si(H.iconHtml):H.icon==="success"?(Ae=xa,oe=oe.replace(/ style=".*?"/g,"")):H.icon==="error"?Ae=ri:Ae=si({question:"?",warning:"!",info:"i"}[H.icon]),oe.trim()!==Ae.trim()&&ke(z,Ae)},ao=(z,H)=>{if(H.iconColor){z.style.color=H.iconColor,z.style.borderColor=H.iconColor;for(const oe of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])ce(z,oe,"backgroundColor",H.iconColor);ce(z,".swal2-success-ring","borderColor",H.iconColor)}},si=z=>`<div class="${i["icon-content"]}">${z}</div>`,va=(z,H)=>{const oe=U();if(!H.imageUrl){he(oe);return}Te(oe,""),oe.setAttribute("src",H.imageUrl),oe.setAttribute("alt",H.imageAlt),fe(oe,"width",H.imageWidth),fe(oe,"height",H.imageHeight),oe.className=i.image,nt(oe,H,"image")},_r=(z,H)=>{const oe=T(),Ae=A();H.toast?(fe(oe,"width",H.width),Ae.style.width="100%",Ae.insertBefore(re(),O())):fe(Ae,"width",H.width),fe(Ae,"padding",H.padding),H.color&&(Ae.style.color=H.color),H.background&&(Ae.style.background=H.background),he(q()),Si(Ae,H)},Si=(z,H)=>{z.className=`${i.popup} ${Ie(z)?H.showClass.popup:""}`,H.toast?(ye([document.documentElement,document.body],i["toast-shown"]),ye(z,i.toast)):ye(z,i.modal),nt(z,H,"popup"),typeof H.customClass=="string"&&ye(z,H.customClass),H.icon&&ye(z,i[`icon-${H.icon}`])},Ur=(z,H)=>{const oe=M();if(!H.progressSteps||H.progressSteps.length===0){he(oe);return}Te(oe),oe.textContent="",H.currentProgressStep>=H.progressSteps.length&&h("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),H.progressSteps.forEach((Ae,ft)=>{const Gt=Ci(Ae);if(oe.appendChild(Gt),ft===H.currentProgressStep&&ye(Gt,i["active-progress-step"]),ft!==H.progressSteps.length-1){const yr=Xi(H);oe.appendChild(yr)}})},Ci=z=>{const H=document.createElement("li");return ye(H,i["progress-step"]),ke(H,z),H},Xi=z=>{const H=document.createElement("li");return ye(H,i["progress-step-line"]),z.progressStepsDistance&&fe(H,"width",z.progressStepsDistance),H},Ti=(z,H)=>{const oe=P();ve(oe,H.title||H.titleText,"block"),H.title&&be(H.title,oe),H.titleText&&(oe.innerText=H.titleText),nt(oe,H,"title")},ts=(z,H)=>{_r(z,H),Un(z,H),Ur(z,H),Ki(z,H),va(z,H),Ti(z,H),vr(z,H),so(z,H),Ut(z,H),ba(z,H),typeof H.didRender=="function"&&H.didRender(A())};function Qi(){const z=n.innerParams.get(this);if(!z)return;const H=n.domCache.get(this);he(H.loader),we()?z.icon&&Te(O()):ki(H),se([H.popup,H.actions],i.loading),H.popup.removeAttribute("aria-busy"),H.popup.removeAttribute("data-loading"),H.confirmButton.disabled=!1,H.denyButton.disabled=!1,H.cancelButton.disabled=!1}const ki=z=>{const H=z.popup.getElementsByClassName(z.loader.getAttribute("data-button-to-replace"));H.length?Te(H[0],"inline-block"):Fe()&&he(z.actions)};function _a(z){const H=n.innerParams.get(z||this),oe=n.domCache.get(z||this);return oe?ct(oe.popup,H.input):null}const Bo=()=>Ie(A()),gs=()=>E()&&E().click(),Ce=()=>G()&&G().click(),at=()=>ee()&&ee().click(),Xe=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),bt=z=>{z.keydownTarget&&z.keydownHandlerAdded&&(z.keydownTarget.removeEventListener("keydown",z.keydownHandler,{capture:z.keydownListenerCapture}),z.keydownHandlerAdded=!1)},pe=(z,H,oe,Ae)=>{bt(H),oe.toast||(H.keydownHandler=ft=>jt(z,ft,Ae),H.keydownTarget=oe.keydownListenerCapture?window:A(),H.keydownListenerCapture=oe.keydownListenerCapture,H.keydownTarget.addEventListener("keydown",H.keydownHandler,{capture:H.keydownListenerCapture}),H.keydownHandlerAdded=!0)},He=(z,H,oe)=>{const Ae=ne();if(Ae.length)return H=H+oe,H===Ae.length?H=0:H===-1&&(H=Ae.length-1),Ae[H].focus();A().focus()},et=["ArrowRight","ArrowDown"],St=["ArrowLeft","ArrowUp"],jt=(z,H,oe)=>{const Ae=n.innerParams.get(z);Ae&&(H.isComposing||H.keyCode===229||(Ae.stopKeydownPropagation&&H.stopPropagation(),H.key==="Enter"?Nt(z,H,Ae):H.key==="Tab"?Ft(H,Ae):[...et,...St].includes(H.key)?cn(H.key):H.key==="Escape"&&mn(H,Ae,oe)))},Nt=(z,H,oe)=>{if(y(oe.allowEnterKey)&&H.target&&z.getInput()&&H.target instanceof HTMLElement&&H.target.outerHTML===z.getInput().outerHTML){if(["textarea","file"].includes(oe.input))return;gs(),H.preventDefault()}},Ft=(z,H)=>{const oe=z.target,Ae=ne();let ft=-1;for(let Gt=0;Gt<Ae.length;Gt++)if(oe===Ae[Gt]){ft=Gt;break}z.shiftKey?He(H,ft,-1):He(H,ft,1),z.stopPropagation(),z.preventDefault()},cn=z=>{const H=E(),oe=G(),Ae=ee();if(document.activeElement instanceof HTMLElement&&![H,oe,Ae].includes(document.activeElement))return;const ft=et.includes(z)?"nextElementSibling":"previousElementSibling";let Gt=document.activeElement;for(let yr=0;yr<Z().children.length;yr++){if(Gt=Gt[ft],!Gt)return;if(Gt instanceof HTMLButtonElement&&Ie(Gt))break}Gt instanceof HTMLButtonElement&&Gt.focus()},mn=(z,H,oe)=>{y(H.allowEscapeKey)&&(z.preventDefault(),oe(Xe.esc))};var Wt={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Xt=()=>{Array.from(document.body.children).forEach(H=>{H===T()||H.contains(T())||(H.hasAttribute("aria-hidden")&&H.setAttribute("data-previous-aria-hidden",H.getAttribute("aria-hidden")),H.setAttribute("aria-hidden","true"))})},Sn=()=>{Array.from(document.body.children).forEach(H=>{H.hasAttribute("data-previous-aria-hidden")?(H.setAttribute("aria-hidden",H.getAttribute("data-previous-aria-hidden")),H.removeAttribute("data-previous-aria-hidden")):H.removeAttribute("aria-hidden")})},Nn=()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!We(document.body,i.iosfix)){const H=document.body.scrollTop;document.body.style.top=`${H*-1}px`,ye(document.body,i.iosfix),Yn(),On()}},On=()=>{const z=navigator.userAgent,H=!!z.match(/iPad/i)||!!z.match(/iPhone/i),oe=!!z.match(/WebKit/i);H&&oe&&!z.match(/CriOS/i)&&A().scrollHeight>window.innerHeight-44&&(T().style.paddingBottom="44px")},Yn=()=>{const z=T();let H;z.ontouchstart=oe=>{H=Or(oe)},z.ontouchmove=oe=>{H&&(oe.preventDefault(),oe.stopPropagation())}},Or=z=>{const H=z.target,oe=T();return Mr(z)||ah(z)?!1:H===oe||!Se(oe)&&H instanceof HTMLElement&&H.tagName!=="INPUT"&&H.tagName!=="TEXTAREA"&&!(Se(N())&&N().contains(H))},Mr=z=>z.touches&&z.touches.length&&z.touches[0].touchType==="stylus",ah=z=>z.touches&&z.touches.length>1,oh=()=>{if(We(document.body,i.iosfix)){const z=parseInt(document.body.style.top,10);se(document.body,i.iosfix),document.body.style.top="",document.body.scrollTop=z*-1}},wa=()=>{Re.previousBodyPadding===null&&document.body.scrollHeight>window.innerHeight&&(Re.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Re.previousBodyPadding+At()}px`)},Tc=()=>{Re.previousBodyPadding!==null&&(document.body.style.paddingRight=`${Re.previousBodyPadding}px`,Re.previousBodyPadding=null)};function kc(z,H,oe,Ae){we()?Nc(z,Ae):(Ke(oe).then(()=>Nc(z,Ae)),bt(Qe)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(H.setAttribute("style","display:none !important"),H.removeAttribute("class"),H.innerHTML=""):H.remove(),ge()&&(Tc(),oh(),Sn()),Ec()}function Ec(){se([document.documentElement,document.body],[i.shown,i["height-auto"],i["no-backdrop"],i["toast-shown"]])}function Dl(z){z=jc(z);const H=Wt.swalPromiseResolve.get(this),oe=$o(this);this.isAwaitingPromise()?z.isDismissed||(ii(this),H(z)):oe&&H(z)}function lh(){return!!n.awaitingPromise.get(this)}const $o=z=>{const H=A();if(!H)return!1;const oe=n.innerParams.get(z);if(!oe||We(H,oe.hideClass.popup))return!1;se(H,oe.showClass.popup),ye(H,oe.hideClass.popup);const Ae=T();return se(Ae,oe.showClass.backdrop),ye(Ae,oe.hideClass.backdrop),Dp(z,H,oe),!0};function Al(z){const H=Wt.swalPromiseReject.get(this);ii(this),H&&H(z)}const ii=z=>{z.isAwaitingPromise()&&(n.awaitingPromise.delete(z),n.innerParams.get(z)||z._destroy())},jc=z=>typeof z>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},z),Dp=(z,H,oe)=>{const Ae=T(),ft=wt&&ut(H);typeof oe.willClose=="function"&&oe.willClose(H),ft?Ap(z,H,Ae,oe.returnFocus,oe.didClose):kc(z,Ae,oe.returnFocus,oe.didClose)},Ap=(z,H,oe,Ae,ft)=>{Qe.swalCloseEventFinishedCallback=kc.bind(null,z,oe,Ae,ft),H.addEventListener(wt,function(Gt){Gt.target===H&&(Qe.swalCloseEventFinishedCallback(),delete Qe.swalCloseEventFinishedCallback)})},Nc=(z,H)=>{setTimeout(()=>{typeof H=="function"&&H.bind(z.params)(),z._destroy()})};function Pl(z,H,oe){const Ae=n.domCache.get(z);H.forEach(ft=>{Ae[ft].disabled=oe})}function Dc(z,H){if(z)if(z.type==="radio"){const Ae=z.parentNode.parentNode.querySelectorAll("input");for(let ft=0;ft<Ae.length;ft++)Ae[ft].disabled=H}else z.disabled=H}function Ac(){Pl(this,["confirmButton","denyButton","cancelButton"],!1)}function Sa(){Pl(this,["confirmButton","denyButton","cancelButton"],!0)}function Pc(){Dc(this.getInput(),!1)}function oo(){Dc(this.getInput(),!0)}function ch(z){const H=n.domCache.get(this),oe=n.innerParams.get(this);ke(H.validationMessage,z),H.validationMessage.className=i["validation-message"],oe.customClass&&oe.customClass.validationMessage&&ye(H.validationMessage,oe.customClass.validationMessage),Te(H.validationMessage);const Ae=this.getInput();Ae&&(Ae.setAttribute("aria-invalid",!0),Ae.setAttribute("aria-describedby",i["validation-message"]),X(Ae),ye(Ae,i.inputerror))}function Ic(){const z=n.domCache.get(this);z.validationMessage&&he(z.validationMessage);const H=this.getInput();H&&(H.removeAttribute("aria-invalid"),H.removeAttribute("aria-describedby"),se(H,i.inputerror))}const Zi={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},uh=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],As={},Ji=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Ca=z=>Object.prototype.hasOwnProperty.call(Zi,z),Ei=z=>uh.indexOf(z)!==-1,zo=z=>As[z],Ps=z=>{Ca(z)||h(`Unknown parameter "${z}"`)},ai=z=>{Ji.includes(z)&&h(`The parameter "${z}" is incompatible with toasts`)},Ta=z=>{zo(z)&&b(z,zo(z))},Il=z=>{z.backdrop===!1&&z.allowOutsideClick&&h('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const H in z)Ps(H),z.toast&&ai(H),Ta(H)};function dh(z){const H=A(),oe=n.innerParams.get(this);if(!H||We(H,oe.hideClass.popup)){h("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const Ae=Pp(z),ft=Object.assign({},oe,Ae);ts(this,ft),n.innerParams.set(this,ft),Object.defineProperties(this,{params:{value:Object.assign({},this.params,z),writable:!1,enumerable:!0}})}const Pp=z=>{const H={};return Object.keys(z).forEach(oe=>{Ei(oe)?H[oe]=z[oe]:h(`Invalid parameter to update: ${oe}`)}),H};function Ip(){const z=n.domCache.get(this),H=n.innerParams.get(this);if(!H){Ol(this);return}z.popup&&Qe.swalCloseEventFinishedCallback&&(Qe.swalCloseEventFinishedCallback(),delete Qe.swalCloseEventFinishedCallback),typeof H.didDestroy=="function"&&H.didDestroy(),Op(this)}const Op=z=>{Ol(z),delete z.params,delete Qe.keydownHandler,delete Qe.keydownTarget,delete Qe.currentInstance},Ol=z=>{z.isAwaitingPromise()?(Oc(n,z),n.awaitingPromise.set(z,!0)):(Oc(Wt,z),Oc(n,z))},Oc=(z,H)=>{for(const oe in z)z[oe].delete(H)};var Ml=Object.freeze({__proto__:null,hideLoading:Qi,disableLoading:Qi,getInput:_a,close:Dl,isAwaitingPromise:lh,rejectPromise:Al,handleAwaitingPromise:ii,closePopup:Dl,closeModal:Dl,closeToast:Dl,enableButtons:Ac,disableButtons:Sa,enableInput:Pc,disableInput:oo,showValidationMessage:ch,resetValidationMessage:Ic,update:dh,_destroy:Ip});const ji=z=>{let H=A();H||new oi,H=A();const oe=re();we()?he(O()):Mc(H,z),Te(oe),H.setAttribute("data-loading","true"),H.setAttribute("aria-busy","true"),H.focus()},Mc=(z,H)=>{const oe=Z(),Ae=re();!H&&Ie(E())&&(H=E()),Te(oe),H&&(he(H),Ae.setAttribute("data-button-to-replace",H.className)),Ae.parentNode.insertBefore(Ae,H),ye([z,oe],i.loading)},lo=(z,H)=>{H.input==="select"||H.input==="radio"?Mp(z,H):["text","email","number","tel","textarea"].includes(H.input)&&(x(H.inputValue)||S(H.inputValue))&&(ji(E()),Bu(z,H))},hh=(z,H)=>{const oe=z.getInput();if(!oe)return null;switch(H.input){case"checkbox":return fh(oe);case"radio":return ph(oe);case"file":return mh(oe);default:return H.inputAutoTrim?oe.value.trim():oe.value}},fh=z=>z.checked?1:0,ph=z=>z.checked?z.value:null,mh=z=>z.files.length?z.getAttribute("multiple")!==null?z.files:z.files[0]:null,Mp=(z,H)=>{const oe=A(),Ae=ft=>{Rp[H.input](oe,Uo(ft),H)};x(H.inputOptions)||S(H.inputOptions)?(ji(E()),_(H.inputOptions).then(ft=>{z.hideLoading(),Ae(ft)})):typeof H.inputOptions=="object"?Ae(H.inputOptions):f(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof H.inputOptions}`)},Bu=(z,H)=>{const oe=z.getInput();he(oe),_(H.inputValue).then(Ae=>{oe.value=H.input==="number"?`${parseFloat(Ae)||0}`:`${Ae}`,Te(oe),oe.focus(),z.hideLoading()}).catch(Ae=>{f(`Error in inputValue promise: ${Ae}`),oe.value="",Te(oe),oe.focus(),z.hideLoading()})},Rp={select:(z,H,oe)=>{const Ae=ie(z,i.select),ft=(Gt,yr,li)=>{const En=document.createElement("option");En.value=li,ke(En,yr),En.selected=gh(li,oe.inputValue),Gt.appendChild(En)};H.forEach(Gt=>{const yr=Gt[0],li=Gt[1];if(Array.isArray(li)){const En=document.createElement("optgroup");En.label=yr,En.disabled=!1,Ae.appendChild(En),li.forEach(ea=>ft(En,ea[1],ea[0]))}else ft(Ae,li,yr)}),Ae.focus()},radio:(z,H,oe)=>{const Ae=ie(z,i.radio);H.forEach(Gt=>{const yr=Gt[0],li=Gt[1],En=document.createElement("input"),ea=document.createElement("label");En.type="radio",En.name=i.radio,En.value=yr,gh(yr,oe.inputValue)&&(En.checked=!0);const ka=document.createElement("span");ke(ka,li),ka.className=i.label,ea.appendChild(En),ea.appendChild(ka),Ae.appendChild(ea)});const ft=Ae.querySelectorAll("input");ft.length&&ft[0].focus()}},Uo=z=>{const H=[];return typeof Map<"u"&&z instanceof Map?z.forEach((oe,Ae)=>{let ft=oe;typeof ft=="object"&&(ft=Uo(ft)),H.push([Ae,ft])}):Object.keys(z).forEach(oe=>{let Ae=z[oe];typeof Ae=="object"&&(Ae=Uo(Ae)),H.push([oe,Ae])}),H},gh=(z,H)=>H&&H.toString()===z.toString(),$u=z=>{const H=n.innerParams.get(z);z.disableButtons(),H.input?zu(z,"confirm"):co(z,!0)},Lp=z=>{const H=n.innerParams.get(z);z.disableButtons(),H.returnInputValueOnDeny?zu(z,"deny"):Hu(z,!1)},Fp=(z,H)=>{z.disableButtons(),H(Xe.cancel)},zu=(z,H)=>{const oe=n.innerParams.get(z);if(!oe.input){f(`The "input" parameter is needed to be set when using returnInputValueOn${u(H)}`);return}const Ae=hh(z,oe);oe.inputValidator?Uu(z,Ae,H):z.getInput().checkValidity()?H==="deny"?Hu(z,Ae):co(z,Ae):(z.enableButtons(),z.showValidationMessage(oe.validationMessage))},Uu=(z,H,oe)=>{const Ae=n.innerParams.get(z);z.disableInput(),Promise.resolve().then(()=>_(Ae.inputValidator(H,Ae.validationMessage))).then(Gt=>{z.enableButtons(),z.enableInput(),Gt?z.showValidationMessage(Gt):oe==="deny"?Hu(z,H):co(z,H)})},Hu=(z,H)=>{const oe=n.innerParams.get(z||void 0);oe.showLoaderOnDeny&&ji(G()),oe.preDeny?(n.awaitingPromise.set(z||void 0,!0),Promise.resolve().then(()=>_(oe.preDeny(H,oe.validationMessage))).then(ft=>{ft===!1?(z.hideLoading(),ii(z)):z.close({isDenied:!0,value:typeof ft>"u"?H:ft})}).catch(ft=>bh(z||void 0,ft))):z.close({isDenied:!0,value:H})},yh=(z,H)=>{z.close({isConfirmed:!0,value:H})},bh=(z,H)=>{z.rejectPromise(H)},co=(z,H)=>{const oe=n.innerParams.get(z||void 0);oe.showLoaderOnConfirm&&ji(),oe.preConfirm?(z.resetValidationMessage(),n.awaitingPromise.set(z||void 0,!0),Promise.resolve().then(()=>_(oe.preConfirm(H,oe.validationMessage))).then(ft=>{Ie(q())||ft===!1?(z.hideLoading(),ii(z)):yh(z,typeof ft>"u"?H:ft)}).catch(ft=>bh(z||void 0,ft))):yh(z,H)},Rl=(z,H,oe)=>{n.innerParams.get(z).toast?xh(z,H,oe):(Wu(H),_h(H),Vu(z,H,oe))},xh=(z,H,oe)=>{H.popup.onclick=()=>{const Ae=n.innerParams.get(z);Ae&&(vh(Ae)||Ae.timer||Ae.input)||oe(Xe.close)}},vh=z=>z.showConfirmButton||z.showDenyButton||z.showCancelButton||z.showCloseButton;let Ll=!1;const Wu=z=>{z.popup.onmousedown=()=>{z.container.onmouseup=function(H){z.container.onmouseup=void 0,H.target===z.container&&(Ll=!0)}}},_h=z=>{z.container.onmousedown=()=>{z.popup.onmouseup=function(H){z.popup.onmouseup=void 0,(H.target===z.popup||z.popup.contains(H.target))&&(Ll=!0)}}},Vu=(z,H,oe)=>{H.container.onclick=Ae=>{const ft=n.innerParams.get(z);if(Ll){Ll=!1;return}Ae.target===H.container&&y(ft.allowOutsideClick)&&oe(Xe.backdrop)}},uo=z=>typeof z=="object"&&z.jquery,qu=z=>z instanceof Element||uo(z),Bp=z=>{const H={};return typeof z[0]=="object"&&!qu(z[0])?Object.assign(H,z[0]):["title","html","icon"].forEach((oe,Ae)=>{const ft=z[Ae];typeof ft=="string"||qu(ft)?H[oe]=ft:ft!==void 0&&f(`Unexpected type of ${oe}! Expected "string" or "Element", got ${typeof ft}`)}),H};function $p(){const z=this;for(var H=arguments.length,oe=new Array(H),Ae=0;Ae<H;Ae++)oe[Ae]=arguments[Ae];return new z(...oe)}function Fl(z){class H extends this{_main(Ae,ft){return super._main(Ae,Object.assign({},z,ft))}}return H}const wh=()=>Qe.timeout&&Qe.timeout.getTimerLeft(),Ho=()=>{if(Qe.timeout)return Le(),Qe.timeout.stop()},Wo=()=>{if(Qe.timeout){const z=Qe.timeout.start();return pt(z),z}},zp=()=>{const z=Qe.timeout;return z&&(z.running?Ho():Wo())},Bl=z=>{if(Qe.timeout){const H=Qe.timeout.increase(z);return pt(H,!0),H}},Up=()=>Qe.timeout&&Qe.timeout.isRunning();let ho=!1;const Vo={};function qo(){let z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Vo[z]=this,ho||(document.body.addEventListener("click",Yo),ho=!0)}const Yo=z=>{for(let H=z.target;H&&H!==document;H=H.parentNode)for(const oe in Vo){const Ae=H.getAttribute(oe);if(Ae){Vo[oe].fire({template:Ae});return}}};var gr=Object.freeze({__proto__:null,isValidParameter:Ca,isUpdatableParameter:Ei,isDeprecatedParameter:zo,argsToParams:Bp,getContainer:T,getPopup:A,getTitle:P,getHtmlContainer:N,getImage:U,getIcon:O,getIconContent:L,getInputLabel:Q,getCloseButton:W,getActions:Z,getConfirmButton:E,getDenyButton:G,getCancelButton:ee,getLoader:re,getFooter:K,getTimerProgressBar:F,getFocusableElements:ne,getValidationMessage:q,getProgressSteps:M,isLoading:je,isVisible:Bo,clickConfirm:gs,clickDeny:Ce,clickCancel:at,fire:$p,mixin:Fl,showLoading:ji,enableLoading:ji,getTimerLeft:wh,stopTimer:Ho,resumeTimer:Wo,toggleTimer:zp,increaseTimer:Bl,isTimerRunning:Up,bindClickHandler:qo});class fo{constructor(H,oe){this.callback=H,this.remaining=oe,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(H){const oe=this.running;return oe&&this.stop(),this.remaining+=H,oe&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Rc=["swal-title","swal-html","swal-footer"],Hp=z=>{const H=typeof z.template=="string"?document.querySelector(z.template):z.template;if(!H)return{};const oe=H.content;return Ku(oe),Object.assign(Wp(oe),Vp(oe),qp(oe),Us(oe),Go(oe),Yu(oe),Gu(oe,Rc))},Wp=z=>{const H={};return Array.from(z.querySelectorAll("swal-param")).forEach(Ae=>{Ni(Ae,["name","value"]);const ft=Ae.getAttribute("name"),Gt=Ae.getAttribute("value");typeof Zi[ft]=="boolean"?H[ft]=Gt!=="false":typeof Zi[ft]=="object"?H[ft]=JSON.parse(Gt):H[ft]=Gt}),H},Vp=z=>{const H={};return Array.from(z.querySelectorAll("swal-function-param")).forEach(Ae=>{const ft=Ae.getAttribute("name"),Gt=Ae.getAttribute("value");H[ft]=new Function(`return ${Gt}`)()}),H},qp=z=>{const H={};return Array.from(z.querySelectorAll("swal-button")).forEach(Ae=>{Ni(Ae,["type","color","aria-label"]);const ft=Ae.getAttribute("type");H[`${ft}ButtonText`]=Ae.innerHTML,H[`show${u(ft)}Button`]=!0,Ae.hasAttribute("color")&&(H[`${ft}ButtonColor`]=Ae.getAttribute("color")),Ae.hasAttribute("aria-label")&&(H[`${ft}ButtonAriaLabel`]=Ae.getAttribute("aria-label"))}),H},Us=z=>{const H={},oe=z.querySelector("swal-image");return oe&&(Ni(oe,["src","width","height","alt"]),oe.hasAttribute("src")&&(H.imageUrl=oe.getAttribute("src")),oe.hasAttribute("width")&&(H.imageWidth=oe.getAttribute("width")),oe.hasAttribute("height")&&(H.imageHeight=oe.getAttribute("height")),oe.hasAttribute("alt")&&(H.imageAlt=oe.getAttribute("alt"))),H},Go=z=>{const H={},oe=z.querySelector("swal-icon");return oe&&(Ni(oe,["type","color"]),oe.hasAttribute("type")&&(H.icon=oe.getAttribute("type")),oe.hasAttribute("color")&&(H.iconColor=oe.getAttribute("color")),H.iconHtml=oe.innerHTML),H},Yu=z=>{const H={},oe=z.querySelector("swal-input");oe&&(Ni(oe,["type","label","placeholder","value"]),H.input=oe.getAttribute("type")||"text",oe.hasAttribute("label")&&(H.inputLabel=oe.getAttribute("label")),oe.hasAttribute("placeholder")&&(H.inputPlaceholder=oe.getAttribute("placeholder")),oe.hasAttribute("value")&&(H.inputValue=oe.getAttribute("value")));const Ae=Array.from(z.querySelectorAll("swal-input-option"));return Ae.length&&(H.inputOptions={},Ae.forEach(ft=>{Ni(ft,["value"]);const Gt=ft.getAttribute("value"),yr=ft.innerHTML;H.inputOptions[Gt]=yr})),H},Gu=(z,H)=>{const oe={};for(const Ae in H){const ft=H[Ae],Gt=z.querySelector(ft);Gt&&(Ni(Gt,[]),oe[ft.replace(/^swal-/,"")]=Gt.innerHTML.trim())}return oe},Ku=z=>{const H=Rc.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(z.children).forEach(oe=>{const Ae=oe.tagName.toLowerCase();H.includes(Ae)||h(`Unrecognized element <${Ae}>`)})},Ni=(z,H)=>{Array.from(z.attributes).forEach(oe=>{H.indexOf(oe.name)===-1&&h([`Unrecognized attribute "${oe.name}" on <${z.tagName.toLowerCase()}>.`,`${H.length?`Allowed attributes are: ${H.join(", ")}`:"To set the value, use HTML within the element."}`])})},$l=10,Xu=z=>{const H=T(),oe=A();typeof z.willOpen=="function"&&z.willOpen(oe);const ft=window.getComputedStyle(document.body).overflowY;Ko(H,oe,z),setTimeout(()=>{Di(H,oe)},$l),ge()&&(Qu(H,z.scrollbarPadding,ft),Xt()),!we()&&!Qe.previousActiveElement&&(Qe.previousActiveElement=document.activeElement),typeof z.didOpen=="function"&&setTimeout(()=>z.didOpen(oe)),se(H,i["no-transition"])},Sh=z=>{const H=A();if(z.target!==H)return;const oe=T();H.removeEventListener(wt,Sh),oe.style.overflowY="auto"},Di=(z,H)=>{wt&&ut(H)?(z.style.overflowY="hidden",H.addEventListener(wt,Sh)):z.style.overflowY="auto"},Qu=(z,H,oe)=>{Nn(),H&&oe!=="hidden"&&wa(),setTimeout(()=>{z.scrollTop=0})},Ko=(z,H,oe)=>{ye(z,oe.showClass.backdrop),H.style.setProperty("opacity","0","important"),Te(H,"grid"),setTimeout(()=>{ye(H,oe.showClass.popup),H.style.removeProperty("opacity")},$l),ye([document.documentElement,document.body],i.shown),oe.heightAuto&&oe.backdrop&&!oe.toast&&ye([document.documentElement,document.body],i["height-auto"])};var zl={email:(z,H)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(z)?Promise.resolve():Promise.resolve(H||"Invalid email address"),url:(z,H)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(z)?Promise.resolve():Promise.resolve(H||"Invalid URL")};function Ch(z){z.inputValidator||Object.keys(zl).forEach(H=>{z.input===H&&(z.inputValidator=zl[H])})}function Lc(z){(!z.target||typeof z.target=="string"&&!document.querySelector(z.target)||typeof z.target!="string"&&!z.target.appendChild)&&(h('Target parameter is not valid, defaulting to "body"'),z.target="body")}function po(z){Ch(z),z.showLoaderOnConfirm&&!z.preConfirm&&h(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Lc(z),typeof z.title=="string"&&(z.title=z.title.split(`
`).join("<br />")),le(z)}let Hs;class mo{constructor(){if(typeof window>"u")return;Hs=this;for(var H=arguments.length,oe=new Array(H),Ae=0;Ae<H;Ae++)oe[Ae]=arguments[Ae];const ft=Object.freeze(this.constructor.argsToParams(oe));Object.defineProperties(this,{params:{value:ft,writable:!1,enumerable:!0,configurable:!0}});const Gt=Hs._main(Hs.params);n.promise.set(this,Gt)}_main(H){let oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Il(Object.assign({},oe,H)),Qe.currentInstance&&(Qe.currentInstance._destroy(),ge()&&Sn()),Qe.currentInstance=Hs;const Ae=Th(H,oe);po(Ae),Object.freeze(Ae),Qe.timeout&&(Qe.timeout.stop(),delete Qe.timeout),clearTimeout(Qe.restoreFocusTimeout);const ft=kh(Hs);return ts(Hs,Ae),n.innerParams.set(Hs,Ae),Xo(Hs,ft,Ae)}then(H){return n.promise.get(this).then(H)}finally(H){return n.promise.get(this).finally(H)}}const Xo=(z,H,oe)=>new Promise((Ae,ft)=>{const Gt=yr=>{z.close({isDismissed:!0,dismiss:yr})};Wt.swalPromiseResolve.set(z,Ae),Wt.swalPromiseReject.set(z,ft),H.confirmButton.onclick=()=>{$u(z)},H.denyButton.onclick=()=>{Lp(z)},H.cancelButton.onclick=()=>{Fp(z,Gt)},H.closeButton.onclick=()=>{Gt(Xe.close)},Rl(z,H,Gt),pe(z,Qe,oe,Gt),lo(z,oe),Xu(oe),Eh(Qe,oe,Gt),jh(H,oe),setTimeout(()=>{H.container.scrollTop=0})}),Th=(z,H)=>{const oe=Hp(z),Ae=Object.assign({},Zi,H,oe,z);return Ae.showClass=Object.assign({},Zi.showClass,Ae.showClass),Ae.hideClass=Object.assign({},Zi.hideClass,Ae.hideClass),Ae},kh=z=>{const H={popup:A(),container:T(),actions:Z(),confirmButton:E(),denyButton:G(),cancelButton:ee(),loader:re(),closeButton:W(),validationMessage:q(),progressSteps:M()};return n.domCache.set(z,H),H},Eh=(z,H,oe)=>{const Ae=F();he(Ae),H.timer&&(z.timeout=new fo(()=>{oe("timer"),delete z.timeout},H.timer),H.timerProgressBar&&(Te(Ae),nt(Ae,H,"timerProgressBar"),setTimeout(()=>{z.timeout&&z.timeout.running&&pt(H.timer)})))},jh=(z,H)=>{if(!H.toast){if(!y(H.allowEnterKey)){Dh();return}Nh(z,H)||He(H,-1,1)}},Nh=(z,H)=>H.focusDeny&&Ie(z.denyButton)?(z.denyButton.focus(),!0):H.focusCancel&&Ie(z.cancelButton)?(z.cancelButton.focus(),!0):H.focusConfirm&&Ie(z.confirmButton)?(z.confirmButton.focus(),!0):!1,Dh=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const z=new Date,H=localStorage.getItem("swal-initiation");H?(z.getTime()-Date.parse(H))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const oe=document.createElement("audio");oe.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",oe.loop=!0,document.body.appendChild(oe),setTimeout(()=>{oe.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${z}`)}Object.assign(mo.prototype,Ml),Object.assign(mo,gr),Object.keys(Ml).forEach(z=>{mo[z]=function(){if(Hs)return Hs[z](...arguments)}}),mo.DismissReason=Xe,mo.version="11.6.13";const oi=mo;return oi.default=oi,oi}),typeof tu<"u"&&tu.Sweetalert2&&(tu.swal=tu.sweetAlert=tu.Swal=tu.SweetAlert=tu.Sweetalert2),typeof document<"u"&&function(n,r){var s=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(s),s.styleSheet)s.styleSheet.disabled||(s.styleSheet.cssText=r);else try{s.innerHTML=r}catch{s.innerText=r}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:rgba(0,0,0,0) !important}.swal2-container.swal2-top-start,.swal2-container.swal2-center-start,.swal2-container.swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}.swal2-container.swal2-top,.swal2-container.swal2-center,.swal2-container.swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}.swal2-container.swal2-top-end,.swal2-container.swal2-center-end,.swal2-container.swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-start>.swal2-popup,.swal2-container.swal2-center-left>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-start>.swal2-popup,.swal2-container.swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-row>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none !important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:none}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:none}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:rgba(0,0,0,0);color:#f27474}.swal2-close:focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-input,.swal2-file,.swal2-textarea,.swal2-select,.swal2-radio,.swal2-checkbox{margin:1em 2em 3px}.swal2-input,.swal2-file,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-input.swal2-inputerror,.swal2-file.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}.swal2-input:focus,.swal2-file:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-input::placeholder,.swal2-file::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-radio,.swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-radio label,.swal2-checkbox label{margin:0 .6em;font-size:1.125em}.swal2-radio input,.swal2-checkbox input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')}(Jy)),Jy.exports}var yU=gU();const AI=Jr(yU),PI=async(t,e)=>{var n,r;try{const s=await Tr.post(`${ua}user/token/`,{email:t,password:e}),{access:i,refresh:a,user_type:l}=s.data;return O2(i,a),{access:i,refresh:a,user_type:l,error:null}}catch(s){return{error:((r=(n=s.response)==null?void 0:n.data)==null?void 0:r.detail)||"Login failed"}}},bU=async(t,e,n,r)=>{var s,i,a,l;try{const c={full_name:t,email:e,password:n,password2:r},{data:u}=await Tr.post(`${ua}user/register/`,c);return await PI(e,n),{data:u,error:null}}catch(c){return{data:null,error:`${((i=(s=c.response)==null?void 0:s.data)==null?void 0:i.full_name)||""} - ${((l=(a=c.response)==null?void 0:a.data)==null?void 0:l.email)||""}`||"Something went wrong"}}},xU=async()=>{const t=Cn.get("access_token"),e=Cn.get("refresh_token");if(!(!t||!e))if(qx(t)){const n=TC();O2(n.access,n.refresh)}else O2(t,e)},O2=(t,e)=>{Cn.set("access_token",t,{expires:1,secure:!0}),Cn.set("refresh_token",e,{expires:7,secure:!0});const n=CC(t)??null;if(n){const r=n.user_type||null;I2.getState().setUser({...n,user_type:r})}I2.getState().setLoading(!1)},TC=async()=>{try{const t=Cn.get("refresh_token");if(!t)throw new Error("Refresh token is missing.");return(await Tr.post(`${ua}user/token/refresh/`,{refresh:t})).data}catch{return null}},qx=t=>{try{return CC(t).exp<Date.now()/1e3}catch{return!0}},vU=()=>{AI.fire({icon:"warning",title:"Session Expired",text:"Your session has expired due to inactivity. Please log in again.",confirmButtonText:"OK"}).then(()=>{Cn.remove("access_token"),Cn.remove("refresh_token"),I2.getState().setUser(null),window.location.href="/"})},oa=Tr.create({baseURL:ua,timeout:1e4,headers:{"Content-Type":"application/json",Accept:"application/json"}});oa.interceptors.request.use(async t=>{let e=Cn.get("access_token");if(e&&qx(e))try{const{access:n}=await TC();Cn.set("access_token",n,{secure:!0}),e=n}catch(n){return window.location.href="/",Promise.reject(n)}return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));function To(){const t=()=>{const r="1234567890";let s="";for(let i=0;i<6;i++){const a=Math.floor(Math.random()*r.length);s+=r.charAt(a)}localStorage.setItem("randomString",s)},e=localStorage.getItem("randomString");return e||t(),e}const _U=({children:t})=>{const[e,n]=w.useState(!0);return w.useEffect(()=>{(async()=>{n(!0),await xU(),n(!1)})()},[]),o.jsx(o.Fragment,{children:e?null:t})},vt=()=>{const t=Tr.create({baseURL:ua,headers:{"Content-Type":"application/json"}});return t.interceptors.request.use(async e=>{let n=Cn.get("access_token");if(n&&qx(n))try{const{access:r}=await TC();Cn.set("access_token",r,{secure:!0,sameSite:"Strict"}),n=r}catch(r){return Cn.remove("access_token"),Cn.remove("refresh_token"),window.location.href="/",Promise.reject(r)}return n&&(e.headers.Authorization=`Bearer ${n}`),e},e=>Promise.reject(e)),t};function wU(){const[t,e]=w.useState(""),[n,r]=w.useState(""),[s,i]=w.useState(""),[a,l]=w.useState(""),[c,u]=w.useState(!1),h=mr(),f=async m=>{m.preventDefault(),u(!0);try{const g=await bU(t,n,s,a);g.error?(alert(g.error),u(!1)):(h("/"),alert("Registration Successful, you have now been logged in"),u(!1))}catch{alert("An unexpected error occurred during registration"),u(!1)}};return o.jsx("div",{className:"modal fade",id:"registerModal",tabIndex:"-1","aria-labelledby":"registerModalLabel","aria-hidden":"true",children:o.jsx("div",{className:"modal-dialog modal-dialog-centered",children:o.jsxs("div",{className:"modal-content",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:"registerModalLabel",children:"Sign Up"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("form",{onSubmit:f,children:[o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"full_name",className:"form-label",children:"Full Name"}),o.jsx("input",{type:"text",id:"full_name",className:"form-control",placeholder:"John Doe",onChange:m=>e(m.target.value),required:!0})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"email",className:"form-label",children:"Email Address"}),o.jsx("input",{type:"email",id:"email",className:"form-control",placeholder:"johndoe@gmail.com",onChange:m=>r(m.target.value),required:!0})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),o.jsx("input",{type:"password",id:"password",className:"form-control",placeholder:"**************",onChange:m=>i(m.target.value),required:!0})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"password2",className:"form-label",children:"Confirm Password"}),o.jsx("input",{type:"password",id:"password2",className:"form-control",placeholder:"**************",onChange:m=>l(m.target.value),required:!0})]}),o.jsx("div",{className:"d-grid",children:c?o.jsxs("button",{type:"submit",className:"btn btn-primary",disabled:!0,children:["Processing ",o.jsx("i",{className:"fas fa-spinner fa-spin"})]}):o.jsxs("button",{type:"submit",className:"btn btn-primary",children:["Sign Up ",o.jsx("i",{className:"fas fa-user-plus"})]})})]})}),o.jsx("div",{className:"modal-footer",children:o.jsxs("span",{children:["Already have an account?",o.jsx(Fn,{to:"#","data-bs-toggle":"modal","data-bs-target":"#loginModal",className:"ms-1",children:"Sign In"})]})})]})})})}function SU(){const[t,e]=w.useState(""),[n,r]=w.useState(""),[s,i]=w.useState(!1),[a,l]=w.useState(!1),c=mr(),u=async h=>{h.preventDefault(),i(!0),l(!1);try{const{access:f,refresh:m,error:g}=await PI(t,n);if(g){l(!0);return}const b=document.getElementById("loginModal");bootstrap.Modal.getInstance(b).hide(),setTimeout(()=>{const x=Vt();x!=null&&x.teacher_id?c("/teacher/dashboard"):c("/student/dashboard")},500)}catch{l(!0)}finally{i(!1)}};return w.useEffect(()=>{const h=document.getElementById("loginModal"),f=()=>{r("")};return h.addEventListener("shown.bs.modal",f),()=>{h.removeEventListener("shown.bs.modal",f)}},[]),o.jsx("div",{className:"modal fade",id:"loginModal",tabIndex:"-1","aria-labelledby":"loginModalLabel","aria-hidden":"true",children:o.jsx("div",{className:"modal-dialog modal-dialog-centered",children:o.jsxs("div",{className:"modal-content",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:"loginModalLabel",children:"Sign In"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("form",{onSubmit:u,children:[o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"loginEmail",className:"form-label",children:"Email Address"}),o.jsx("input",{type:"email",id:"loginEmail",className:"form-control",placeholder:"johndoe@gmail.com",onChange:h=>e(h.target.value),required:!0})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"loginPassword",className:"form-label",children:"Password"}),o.jsx("input",{type:"password",id:"loginPassword",className:"form-control",placeholder:"**************",value:n,onChange:h=>r(h.target.value),required:!0})]}),a&&o.jsxs("div",{className:"text-danger mb-3",children:["Incorrect email or password.",o.jsx("div",{className:"mt-2",children:o.jsx("button",{type:"button",className:"btn btn-link p-0 text-primary","data-bs-toggle":"modal","data-bs-target":"#forgotPasswordModal",children:"Forgot Password?"})})]}),o.jsx("div",{className:"d-grid",children:s?o.jsxs("button",{type:"submit",className:"btn btn-primary",disabled:!0,children:["Processing ",o.jsx("i",{className:"fas fa-spinner fa-spin"})]}):o.jsxs("button",{type:"submit",className:"btn btn-primary",children:["Sign In ",o.jsx("i",{className:"fas fa-sign-in-alt"})]})})]})}),o.jsx("div",{className:"modal-footer",children:o.jsxs("span",{children:["Dont have an account?",o.jsx(Fn,{to:"#","data-bs-toggle":"modal","data-bs-target":"#registerModal",className:"ms-1",children:"Sign Up"})]})})]})})})}function CU(){const[t,e]=w.useState(""),[n,r]=w.useState(""),[s,i]=w.useState(""),[a,l]=w.useState(""),[c,u]=w.useState(""),[h,f]=w.useState(!1),[m,g]=w.useState(null),[b,y]=w.useState(null),[x,_]=w.useState(1),S=async j=>{var A,O;if(j.preventDefault(),f(!0),g(null),y(null),!t||!/\S+@\S+\.\S+/.test(t)){y("Please enter a valid email address."),f(!1);return}try{const L=await oa.post("/user/request-otp/",{email:t});g("OTP sent to your email. Please check your inbox."),_(2)}catch(L){y(((O=(A=L.response)==null?void 0:A.data)==null?void 0:O.detail)||"An error occurred. Please try again later.")}finally{f(!1)}},T=async j=>{var A,O;if(j.preventDefault(),f(!0),y(null),!t||!n){y("Email and OTP are required."),f(!1);return}try{const L=await oa.post(`/user/verify-otp/${t}/`,{otp:n});u(L.data.uuidb64),_(3)}catch(L){y(((O=(A=L.response)==null?void 0:A.data)==null?void 0:O.error)||"An error occurred. Please try again.")}finally{f(!1)}},D=async j=>{var A,O;if(j.preventDefault(),f(!0),y(null),!s||!a){y("Both password fields are required."),f(!1);return}if(s!==a){y("Passwords do not match."),f(!1);return}if(s.length<8){y("Password must be at least 8 characters long."),f(!1);return}try{const L=await oa.post(`/user/change-password/${t}/`,{new_password:s,confirm_password:a});g("Password changed successfully. Redirecting to login...");const P=document.getElementById("forgotPasswordModal");bootstrap.Modal.getInstance(P).hide(),i(""),l(""),setTimeout(()=>{const U=document.getElementById("loginModal");new bootstrap.Modal(U).show()},500),i("")}catch(L){y(((O=(A=L.response)==null?void 0:A.data)==null?void 0:O.error)||"An error occurred. Please try again later.")}finally{f(!1)}};return o.jsx(o.Fragment,{children:o.jsx("div",{className:"modal fade",id:"forgotPasswordModal",tabIndex:"-1","aria-labelledby":"forgotPasswordModalLabel","aria-hidden":"true",children:o.jsx("div",{className:"modal-dialog",children:o.jsxs("div",{className:"modal-content",children:[o.jsxs("div",{className:"modal-header",children:[o.jsxs("h5",{className:"modal-title",id:"forgotPasswordModalLabel",children:[x===1&&"Forgot Password",x===2&&"Verify OTP",x===3&&"Create New Password"]}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsxs("div",{className:"modal-body",children:[x===1&&o.jsxs("form",{onSubmit:S,children:[o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"email",className:"form-label",children:"Email Address"}),o.jsx("input",{type:"email",id:"email",className:"form-control",placeholder:"johndoe@gmail.com",onChange:j=>e(j.target.value),required:!0})]}),m&&o.jsx("div",{className:"alert alert-success",children:m}),b&&o.jsx("div",{className:"alert alert-danger",children:b}),o.jsx("div",{className:"d-grid",children:o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:h,children:h?"Processing...":"Send OTP"})})]}),x===2&&o.jsxs("form",{onSubmit:T,children:[o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"otp",className:"form-label",children:"Enter OTP"}),o.jsx("input",{type:"text",id:"otp",className:"form-control",placeholder:"Enter the OTP sent to your email",onChange:j=>r(j.target.value),required:!0})]}),b&&o.jsx("div",{className:"alert alert-danger",children:b}),o.jsx("div",{className:"d-grid",children:o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:h,children:h?"Verifying...":"Verify OTP"})})]}),x===3&&o.jsxs("form",{onSubmit:D,children:[o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"password",className:"form-label",children:"New Password"}),o.jsx("input",{type:"password",id:"password",className:"form-control",placeholder:"Enter new password",onChange:j=>i(j.target.value),required:!0})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"confirmPassword",className:"form-label",children:"Confirm Password"}),o.jsx("input",{type:"password",id:"confirmPassword",className:"form-control",placeholder:"Confirm new password",onChange:j=>l(j.target.value),required:!0})]}),b&&o.jsx("div",{className:"alert alert-danger",children:b}),o.jsx("div",{className:"d-grid",children:o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:h,children:h?"Saving...":"Save New Password"})})]})]})]})})})})}function dt(){return AI.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:1500,timerProgressBar:!0})}var eb={exports:{}},TU=eb.exports,$N;function kU(){return $N||($N=1,function(t,e){(function(n,r){t.exports=r(Ja())})(typeof self<"u"?self:TU,n=>(()=>{var r={2:(l,c,u)=>{var h=u(2199),f=u(4664),m=u(5950);l.exports=function(g){return h(g,m,f)}},79:(l,c,u)=>{var h=u(3702),f=u(80),m=u(4739),g=u(8655),b=u(1175);function y(x){var _=-1,S=x==null?0:x.length;for(this.clear();++_<S;){var T=x[_];this.set(T[0],T[1])}}y.prototype.clear=h,y.prototype.delete=f,y.prototype.get=m,y.prototype.has=g,y.prototype.set=b,l.exports=y},80:(l,c,u)=>{var h=u(6025),f=Array.prototype.splice;l.exports=function(m){var g=this.__data__,b=h(g,m);return!(b<0||(b==g.length-1?g.pop():f.call(g,b,1),--this.size,0))}},270:(l,c,u)=>{var h=u(7068),f=u(346);l.exports=function m(g,b,y,x,_){return g===b||(g==null||b==null||!f(g)&&!f(b)?g!=g&&b!=b:h(g,b,y,x,m,_))}},289:(l,c,u)=>{var h=u(2651);l.exports=function(f){return h(this,f).get(f)}},294:l=>{l.exports=function(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=9007199254740991}},317:l=>{l.exports=function(c){var u=-1,h=Array(c.size);return c.forEach(function(f,m){h[++u]=[m,f]}),h}},346:l=>{l.exports=function(c){return c!=null&&typeof c=="object"}},361:l=>{var c=/^(?:0|[1-9]\d*)$/;l.exports=function(u,h){var f=typeof u;return!!(h=h??9007199254740991)&&(f=="number"||f!="symbol"&&c.test(u))&&u>-1&&u%1==0&&u<h}},392:l=>{l.exports=function(c,u){return c==null?void 0:c[u]}},659:(l,c,u)=>{var h=u(1873),f=Object.prototype,m=f.hasOwnProperty,g=f.toString,b=h?h.toStringTag:void 0;l.exports=function(y){var x=m.call(y,b),_=y[b];try{y[b]=void 0;var S=!0}catch{}var T=g.call(y);return S&&(x?y[b]=_:delete y[b]),T}},689:(l,c,u)=>{var h=u(2),f=Object.prototype.hasOwnProperty;l.exports=function(m,g,b,y,x,_){var S=1&b,T=h(m),D=T.length;if(D!=h(g).length&&!S)return!1;for(var j=D;j--;){var A=T[j];if(!(S?A in g:f.call(g,A)))return!1}var O=_.get(m),L=_.get(g);if(O&&L)return O==g&&L==m;var P=!0;_.set(m,g),_.set(g,m);for(var N=S;++j<D;){var U=m[A=T[j]],M=g[A];if(y)var q=S?y(M,U,A,g,m,_):y(U,M,A,m,g,_);if(!(q===void 0?U===M||x(U,M,b,y,_):q)){P=!1;break}N||(N=A=="constructor")}if(P&&!N){var E=m.constructor,G=g.constructor;E==G||!("constructor"in m)||!("constructor"in g)||typeof E=="function"&&E instanceof E&&typeof G=="function"&&G instanceof G||(P=!1)}return _.delete(m),_.delete(g),P}},695:(l,c,u)=>{var h=u(8096),f=u(2428),m=u(6449),g=u(3656),b=u(361),y=u(7167),x=Object.prototype.hasOwnProperty;l.exports=function(_,S){var T=m(_),D=!T&&f(_),j=!T&&!D&&g(_),A=!T&&!D&&!j&&y(_),O=T||D||j||A,L=O?h(_.length,String):[],P=L.length;for(var N in _)!S&&!x.call(_,N)||O&&(N=="length"||j&&(N=="offset"||N=="parent")||A&&(N=="buffer"||N=="byteLength"||N=="byteOffset")||b(N,P))||L.push(N);return L}},938:l=>{l.exports=function(c){var u=this.__data__,h=u.delete(c);return this.size=u.size,h}},945:(l,c,u)=>{var h=u(79),f=u(8223),m=u(3661);l.exports=function(g,b){var y=this.__data__;if(y instanceof h){var x=y.__data__;if(!f||x.length<199)return x.push([g,b]),this.size=++y.size,this;y=this.__data__=new m(x)}return y.set(g,b),this.size=y.size,this}},1042:(l,c,u)=>{var h=u(6110)(Object,"create");l.exports=h},1175:(l,c,u)=>{var h=u(6025);l.exports=function(f,m){var g=this.__data__,b=h(g,f);return b<0?(++this.size,g.push([f,m])):g[b][1]=m,this}},1380:l=>{l.exports=function(c){return this.__data__.set(c,"__lodash_hash_undefined__"),this}},1420:(l,c,u)=>{var h=u(79);l.exports=function(){this.__data__=new h,this.size=0}},1459:l=>{l.exports=function(c){return this.__data__.has(c)}},1549:(l,c,u)=>{var h=u(2032),f=u(3862),m=u(6721),g=u(2749),b=u(5749);function y(x){var _=-1,S=x==null?0:x.length;for(this.clear();++_<S;){var T=x[_];this.set(T[0],T[1])}}y.prototype.clear=h,y.prototype.delete=f,y.prototype.get=m,y.prototype.has=g,y.prototype.set=b,l.exports=y},1873:(l,c,u)=>{var h=u(9325).Symbol;l.exports=h},1882:(l,c,u)=>{var h=u(2552),f=u(3805);l.exports=function(m){if(!f(m))return!1;var g=h(m);return g=="[object Function]"||g=="[object GeneratorFunction]"||g=="[object AsyncFunction]"||g=="[object Proxy]"}},1986:(l,c,u)=>{var h=u(1873),f=u(7828),m=u(5288),g=u(5911),b=u(317),y=u(4247),x=h?h.prototype:void 0,_=x?x.valueOf:void 0;l.exports=function(S,T,D,j,A,O,L){switch(D){case"[object DataView]":if(S.byteLength!=T.byteLength||S.byteOffset!=T.byteOffset)return!1;S=S.buffer,T=T.buffer;case"[object ArrayBuffer]":return!(S.byteLength!=T.byteLength||!O(new f(S),new f(T)));case"[object Boolean]":case"[object Date]":case"[object Number]":return m(+S,+T);case"[object Error]":return S.name==T.name&&S.message==T.message;case"[object RegExp]":case"[object String]":return S==T+"";case"[object Map]":var P=b;case"[object Set]":var N=1&j;if(P||(P=y),S.size!=T.size&&!N)return!1;var U=L.get(S);if(U)return U==T;j|=2,L.set(S,T);var M=g(P(S),P(T),j,A,O,L);return L.delete(S),M;case"[object Symbol]":if(_)return _.call(S)==_.call(T)}return!1}},2032:(l,c,u)=>{var h=u(1042);l.exports=function(){this.__data__=h?h(null):{},this.size=0}},2199:(l,c,u)=>{var h=u(4528),f=u(6449);l.exports=function(m,g,b){var y=g(m);return f(m)?y:h(y,b(m))}},2404:(l,c,u)=>{var h=u(270);l.exports=function(f,m){return h(f,m)}},2428:(l,c,u)=>{var h=u(7534),f=u(346),m=Object.prototype,g=m.hasOwnProperty,b=m.propertyIsEnumerable,y=h(function(){return arguments}())?h:function(x){return f(x)&&g.call(x,"callee")&&!b.call(x,"callee")};l.exports=y},2552:(l,c,u)=>{var h=u(1873),f=u(659),m=u(9350),g=h?h.toStringTag:void 0;l.exports=function(b){return b==null?b===void 0?"[object Undefined]":"[object Null]":g&&g in Object(b)?f(b):m(b)}},2651:(l,c,u)=>{var h=u(4218);l.exports=function(f,m){var g=f.__data__;return h(m)?g[typeof m=="string"?"string":"hash"]:g.map}},2749:(l,c,u)=>{var h=u(1042),f=Object.prototype.hasOwnProperty;l.exports=function(m){var g=this.__data__;return h?g[m]!==void 0:f.call(g,m)}},2804:(l,c,u)=>{var h=u(6110)(u(9325),"Promise");l.exports=h},2949:(l,c,u)=>{var h=u(2651);l.exports=function(f,m){var g=h(this,f),b=g.size;return g.set(f,m),this.size+=g.size==b?0:1,this}},3040:(l,c,u)=>{var h=u(1549),f=u(79),m=u(8223);l.exports=function(){this.size=0,this.__data__={hash:new h,map:new(m||f),string:new h}}},3146:(l,c,u)=>{for(var h=u(3491),f=typeof window>"u"?u.g:window,m=["moz","webkit"],g="AnimationFrame",b=f["request"+g],y=f["cancel"+g]||f["cancelRequest"+g],x=0;!b&&x<m.length;x++)b=f[m[x]+"Request"+g],y=f[m[x]+"Cancel"+g]||f[m[x]+"CancelRequest"+g];if(!b||!y){var _=0,S=0,T=[],D=1e3/60;b=function(j){if(T.length===0){var A=h(),O=Math.max(0,D-(A-_));_=O+A,setTimeout(function(){var L=T.slice(0);T.length=0;for(var P=0;P<L.length;P++)if(!L[P].cancelled)try{L[P].callback(_)}catch(N){setTimeout(function(){throw N},0)}},Math.round(O))}return T.push({handle:++S,callback:j,cancelled:!1}),S},y=function(j){for(var A=0;A<T.length;A++)T[A].handle===j&&(T[A].cancelled=!0)}}l.exports=function(j){return b.call(f,j)},l.exports.cancel=function(){y.apply(f,arguments)},l.exports.polyfill=function(j){j||(j=f),j.requestAnimationFrame=b,j.cancelAnimationFrame=y}},3345:l=>{l.exports=function(){return[]}},3491:function(l){(function(){var c,u,h,f,m,g;typeof performance<"u"&&performance!==null&&performance.now?l.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(l.exports=function(){return(c()-m)/1e6},u=process.hrtime,f=(c=function(){var b;return 1e9*(b=u())[0]+b[1]})(),g=1e9*process.uptime(),m=f-g):Date.now?(l.exports=function(){return Date.now()-h},h=Date.now()):(l.exports=function(){return new Date().getTime()-h},h=new Date().getTime())}).call(this)},3605:l=>{l.exports=function(c){return this.__data__.get(c)}},3650:(l,c,u)=>{var h=u(4335)(Object.keys,Object);l.exports=h},3656:(l,c,u)=>{l=u.nmd(l);var h=u(9325),f=u(9935),m=c&&!c.nodeType&&c,g=m&&l&&!l.nodeType&&l,b=g&&g.exports===m?h.Buffer:void 0,y=(b?b.isBuffer:void 0)||f;l.exports=y},3661:(l,c,u)=>{var h=u(3040),f=u(7670),m=u(289),g=u(4509),b=u(2949);function y(x){var _=-1,S=x==null?0:x.length;for(this.clear();++_<S;){var T=x[_];this.set(T[0],T[1])}}y.prototype.clear=h,y.prototype.delete=f,y.prototype.get=m,y.prototype.has=g,y.prototype.set=b,l.exports=y},3702:l=>{l.exports=function(){this.__data__=[],this.size=0}},3805:l=>{l.exports=function(c){var u=typeof c;return c!=null&&(u=="object"||u=="function")}},3862:l=>{l.exports=function(c){var u=this.has(c)&&delete this.__data__[c];return this.size-=u?1:0,u}},4218:l=>{l.exports=function(c){var u=typeof c;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?c!=="__proto__":c===null}},4247:l=>{l.exports=function(c){var u=-1,h=Array(c.size);return c.forEach(function(f){h[++u]=f}),h}},4248:l=>{l.exports=function(c,u){for(var h=-1,f=c==null?0:c.length;++h<f;)if(u(c[h],h,c))return!0;return!1}},4335:l=>{l.exports=function(c,u){return function(h){return c(u(h))}}},4509:(l,c,u)=>{var h=u(2651);l.exports=function(f){return h(this,f).has(f)}},4528:l=>{l.exports=function(c,u){for(var h=-1,f=u.length,m=c.length;++h<f;)c[m+h]=u[h];return c}},4664:(l,c,u)=>{var h=u(9770),f=u(3345),m=Object.prototype.propertyIsEnumerable,g=Object.getOwnPropertySymbols,b=g?function(y){return y==null?[]:(y=Object(y),h(g(y),function(x){return m.call(y,x)}))}:f;l.exports=b},4739:(l,c,u)=>{var h=u(6025);l.exports=function(f){var m=this.__data__,g=h(m,f);return g<0?void 0:m[g][1]}},4840:(l,c,u)=>{var h=typeof u.g=="object"&&u.g&&u.g.Object===Object&&u.g;l.exports=h},4894:(l,c,u)=>{var h=u(1882),f=u(294);l.exports=function(m){return m!=null&&f(m.length)&&!h(m)}},4901:(l,c,u)=>{var h=u(2552),f=u(294),m=u(346),g={};g["[object Float32Array]"]=g["[object Float64Array]"]=g["[object Int8Array]"]=g["[object Int16Array]"]=g["[object Int32Array]"]=g["[object Uint8Array]"]=g["[object Uint8ClampedArray]"]=g["[object Uint16Array]"]=g["[object Uint32Array]"]=!0,g["[object Arguments]"]=g["[object Array]"]=g["[object ArrayBuffer]"]=g["[object Boolean]"]=g["[object DataView]"]=g["[object Date]"]=g["[object Error]"]=g["[object Function]"]=g["[object Map]"]=g["[object Number]"]=g["[object Object]"]=g["[object RegExp]"]=g["[object Set]"]=g["[object String]"]=g["[object WeakMap]"]=!1,l.exports=function(b){return m(b)&&f(b.length)&&!!g[h(b)]}},5083:(l,c,u)=>{var h=u(1882),f=u(7296),m=u(3805),g=u(7473),b=/^\[object .+?Constructor\]$/,y=Function.prototype,x=Object.prototype,_=y.toString,S=x.hasOwnProperty,T=RegExp("^"+_.call(S).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");l.exports=function(D){return!(!m(D)||f(D))&&(h(D)?T:b).test(g(D))}},5288:l=>{l.exports=function(c,u){return c===u||c!=c&&u!=u}},5481:(l,c,u)=>{var h=u(9325)["__core-js_shared__"];l.exports=h},5527:l=>{var c=Object.prototype;l.exports=function(u){var h=u&&u.constructor;return u===(typeof h=="function"&&h.prototype||c)}},5580:(l,c,u)=>{var h=u(6110)(u(9325),"DataView");l.exports=h},5749:(l,c,u)=>{var h=u(1042);l.exports=function(f,m){var g=this.__data__;return this.size+=this.has(f)?0:1,g[f]=h&&m===void 0?"__lodash_hash_undefined__":m,this}},5861:(l,c,u)=>{var h=u(5580),f=u(8223),m=u(2804),g=u(6545),b=u(8303),y=u(2552),x=u(7473),_="[object Map]",S="[object Promise]",T="[object Set]",D="[object WeakMap]",j="[object DataView]",A=x(h),O=x(f),L=x(m),P=x(g),N=x(b),U=y;(h&&U(new h(new ArrayBuffer(1)))!=j||f&&U(new f)!=_||m&&U(m.resolve())!=S||g&&U(new g)!=T||b&&U(new b)!=D)&&(U=function(M){var q=y(M),E=q=="[object Object]"?M.constructor:void 0,G=E?x(E):"";if(G)switch(G){case A:return j;case O:return _;case L:return S;case P:return T;case N:return D}return q}),l.exports=U},5911:(l,c,u)=>{var h=u(8859),f=u(4248),m=u(9219);l.exports=function(g,b,y,x,_,S){var T=1&y,D=g.length,j=b.length;if(D!=j&&!(T&&j>D))return!1;var A=S.get(g),O=S.get(b);if(A&&O)return A==b&&O==g;var L=-1,P=!0,N=2&y?new h:void 0;for(S.set(g,b),S.set(b,g);++L<D;){var U=g[L],M=b[L];if(x)var q=T?x(M,U,L,b,g,S):x(U,M,L,g,b,S);if(q!==void 0){if(q)continue;P=!1;break}if(N){if(!f(b,function(E,G){if(!m(N,G)&&(U===E||_(U,E,y,x,S)))return N.push(G)})){P=!1;break}}else if(U!==M&&!_(U,M,y,x,S)){P=!1;break}}return S.delete(g),S.delete(b),P}},5950:(l,c,u)=>{var h=u(695),f=u(8984),m=u(4894);l.exports=function(g){return m(g)?h(g):f(g)}},6009:(l,c,u)=>{l=u.nmd(l);var h=u(4840),f=c&&!c.nodeType&&c,m=f&&l&&!l.nodeType&&l,g=m&&m.exports===f&&h.process,b=function(){try{return m&&m.require&&m.require("util").types||g&&g.binding&&g.binding("util")}catch{}}();l.exports=b},6025:(l,c,u)=>{var h=u(5288);l.exports=function(f,m){for(var g=f.length;g--;)if(h(f[g][0],m))return g;return-1}},6110:(l,c,u)=>{var h=u(5083),f=u(392);l.exports=function(m,g){var b=f(m,g);return h(b)?b:void 0}},6449:l=>{var c=Array.isArray;l.exports=c},6545:(l,c,u)=>{var h=u(6110)(u(9325),"Set");l.exports=h},6721:(l,c,u)=>{var h=u(1042),f=Object.prototype.hasOwnProperty;l.exports=function(m){var g=this.__data__;if(h){var b=g[m];return b==="__lodash_hash_undefined__"?void 0:b}return f.call(g,m)?g[m]:void 0}},7068:(l,c,u)=>{var h=u(7217),f=u(5911),m=u(1986),g=u(689),b=u(5861),y=u(6449),x=u(3656),_=u(7167),S="[object Arguments]",T="[object Array]",D="[object Object]",j=Object.prototype.hasOwnProperty;l.exports=function(A,O,L,P,N,U){var M=y(A),q=y(O),E=M?T:b(A),G=q?T:b(O),Q=(E=E==S?D:E)==D,re=(G=G==S?D:G)==D,ee=E==G;if(ee&&x(A)){if(!x(O))return!1;M=!0,Q=!1}if(ee&&!Q)return U||(U=new h),M||_(A)?f(A,O,L,P,N,U):m(A,O,E,L,P,N,U);if(!(1&L)){var Z=Q&&j.call(A,"__wrapped__"),K=re&&j.call(O,"__wrapped__");if(Z||K){var F=Z?A.value():A,W=K?O.value():O;return U||(U=new h),N(F,W,L,P,U)}}return!!ee&&(U||(U=new h),g(A,O,L,P,N,U))}},7167:(l,c,u)=>{var h=u(4901),f=u(7301),m=u(6009),g=m&&m.isTypedArray,b=g?f(g):h;l.exports=b},7217:(l,c,u)=>{var h=u(79),f=u(1420),m=u(938),g=u(3605),b=u(9817),y=u(945);function x(_){var S=this.__data__=new h(_);this.size=S.size}x.prototype.clear=f,x.prototype.delete=m,x.prototype.get=g,x.prototype.has=b,x.prototype.set=y,l.exports=x},7296:(l,c,u)=>{var h,f=u(5481),m=(h=/[^.]+$/.exec(f&&f.keys&&f.keys.IE_PROTO||""))?"Symbol(src)_1."+h:"";l.exports=function(g){return!!m&&m in g}},7301:l=>{l.exports=function(c){return function(u){return c(u)}}},7473:l=>{var c=Function.prototype.toString;l.exports=function(u){if(u!=null){try{return c.call(u)}catch{}try{return u+""}catch{}}return""}},7534:(l,c,u)=>{var h=u(2552),f=u(346);l.exports=function(m){return f(m)&&h(m)=="[object Arguments]"}},7670:(l,c,u)=>{var h=u(2651);l.exports=function(f){var m=h(this,f).delete(f);return this.size-=m?1:0,m}},7828:(l,c,u)=>{var h=u(9325).Uint8Array;l.exports=h},8096:l=>{l.exports=function(c,u){for(var h=-1,f=Array(c);++h<c;)f[h]=u(h);return f}},8223:(l,c,u)=>{var h=u(6110)(u(9325),"Map");l.exports=h},8303:(l,c,u)=>{var h=u(6110)(u(9325),"WeakMap");l.exports=h},8655:(l,c,u)=>{var h=u(6025);l.exports=function(f){return h(this.__data__,f)>-1}},8859:(l,c,u)=>{var h=u(3661),f=u(1380),m=u(1459);function g(b){var y=-1,x=b==null?0:b.length;for(this.__data__=new h;++y<x;)this.add(b[y])}g.prototype.add=g.prototype.push=f,g.prototype.has=m,l.exports=g},8984:(l,c,u)=>{var h=u(5527),f=u(3650),m=Object.prototype.hasOwnProperty;l.exports=function(g){if(!h(g))return f(g);var b=[];for(var y in Object(g))m.call(g,y)&&y!="constructor"&&b.push(y);return b}},9155:l=>{l.exports=n},9219:l=>{l.exports=function(c,u){return c.has(u)}},9325:(l,c,u)=>{var h=u(4840),f=typeof self=="object"&&self&&self.Object===Object&&self,m=h||f||Function("return this")();l.exports=m},9350:l=>{var c=Object.prototype.toString;l.exports=function(u){return c.call(u)}},9770:l=>{l.exports=function(c,u){for(var h=-1,f=c==null?0:c.length,m=0,g=[];++h<f;){var b=c[h];u(b,h,c)&&(g[m++]=b)}return g}},9817:l=>{l.exports=function(c){return this.__data__.has(c)}},9905:(l,c,u)=>{u.d(c,{default:()=>ee});var h=u(3146),f=u.n(h);const m=function(Z){return new RegExp(/<[a-z][\s\S]*>/i).test(Z)},g=function(Z,K){return Math.floor(Math.random()*(K-Z+1))+Z};var b="TYPE_CHARACTER",y="REMOVE_CHARACTER",x="REMOVE_ALL",_="REMOVE_LAST_VISIBLE_NODE",S="PAUSE_FOR",T="CALL_FUNCTION",D="ADD_HTML_TAG_ELEMENT",j="CHANGE_DELETE_SPEED",A="CHANGE_DELAY",O="CHANGE_CURSOR",L="PASTE_STRING",P="HTML_TAG";function N(Z){return N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},N(Z)}function U(Z,K){var F=Object.keys(Z);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(Z);K&&(W=W.filter(function(me){return Object.getOwnPropertyDescriptor(Z,me).enumerable})),F.push.apply(F,W)}return F}function M(Z){for(var K=1;K<arguments.length;K++){var F=arguments[K]!=null?arguments[K]:{};K%2?U(Object(F),!0).forEach(function(W){Q(Z,W,F[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(F)):U(Object(F)).forEach(function(W){Object.defineProperty(Z,W,Object.getOwnPropertyDescriptor(F,W))})}return Z}function q(Z){return function(K){if(Array.isArray(K))return E(K)}(Z)||function(K){if(typeof Symbol<"u"&&K[Symbol.iterator]!=null||K["@@iterator"]!=null)return Array.from(K)}(Z)||function(K,F){if(K){if(typeof K=="string")return E(K,F);var W={}.toString.call(K).slice(8,-1);return W==="Object"&&K.constructor&&(W=K.constructor.name),W==="Map"||W==="Set"?Array.from(K):W==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(W)?E(K,F):void 0}}(Z)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function E(Z,K){(K==null||K>Z.length)&&(K=Z.length);for(var F=0,W=Array(K);F<K;F++)W[F]=Z[F];return W}function G(Z,K){for(var F=0;F<K.length;F++){var W=K[F];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(Z,re(W.key),W)}}function Q(Z,K,F){return(K=re(K))in Z?Object.defineProperty(Z,K,{value:F,enumerable:!0,configurable:!0,writable:!0}):Z[K]=F,Z}function re(Z){var K=function(F){if(N(F)!="object"||!F)return F;var W=F[Symbol.toPrimitive];if(W!==void 0){var me=W.call(F,"string");if(N(me)!="object")return me;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(F)}(Z);return N(K)=="symbol"?K:K+""}const ee=function(){function Z(W,me){var ne=this;if(function(we,je){if(!(we instanceof je))throw new TypeError("Cannot call a class as a function")}(this,Z),Q(this,"state",{cursorAnimation:null,lastFrameTime:null,pauseUntil:null,eventQueue:[],eventLoop:null,eventLoopPaused:!1,reverseCalledEvents:[],calledEvents:[],visibleNodes:[],initialOptions:null,elements:{container:null,wrapper:document.createElement("span"),cursor:document.createElement("span")}}),Q(this,"options",{strings:null,cursor:"|",delay:"natural",pauseFor:1500,deleteSpeed:"natural",loop:!1,autoStart:!1,devMode:!1,skipAddStyles:!1,wrapperClassName:"Typewriter__wrapper",cursorClassName:"Typewriter__cursor",stringSplitter:null,onCreateTextNode:null,onRemoveNode:null}),Q(this,"setupWrapperElement",function(){ne.state.elements.container&&(ne.state.elements.wrapper.className=ne.options.wrapperClassName,ne.state.elements.cursor.className=ne.options.cursorClassName,ne.state.elements.cursor.innerHTML=ne.options.cursor,ne.state.elements.container.innerHTML="",ne.state.elements.container.appendChild(ne.state.elements.wrapper),ne.state.elements.container.appendChild(ne.state.elements.cursor))}),Q(this,"start",function(){return ne.state.eventLoopPaused=!1,ne.runEventLoop(),ne}),Q(this,"pause",function(){return ne.state.eventLoopPaused=!0,ne}),Q(this,"stop",function(){return ne.state.eventLoop&&((0,h.cancel)(ne.state.eventLoop),ne.state.eventLoop=null),ne}),Q(this,"pauseFor",function(we){return ne.addEventToQueue(S,{ms:we}),ne}),Q(this,"typeOutAllStrings",function(){return typeof ne.options.strings=="string"?(ne.typeString(ne.options.strings).pauseFor(ne.options.pauseFor),ne):(ne.options.strings.forEach(function(we){ne.typeString(we).pauseFor(ne.options.pauseFor).deleteAll(ne.options.deleteSpeed)}),ne)}),Q(this,"typeString",function(we){var je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(m(we))return ne.typeOutHTMLString(we,je);if(we){var Re=(ne.options||{}).stringSplitter,ke=typeof Re=="function"?Re(we):we.split("");ne.typeCharacters(ke,je)}return ne}),Q(this,"pasteString",function(we){var je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return m(we)?ne.typeOutHTMLString(we,je,!0):(we&&ne.addEventToQueue(L,{character:we,node:je}),ne)}),Q(this,"typeOutHTMLString",function(we){var je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Re=arguments.length>2?arguments[2]:void 0,ke=function(ct){var X=document.createElement("div");return X.innerHTML=ct,X.childNodes}(we);if(ke.length>0)for(var We=0;We<ke.length;We++){var Je=ke[We],nt=Je.innerHTML;Je&&Je.nodeType!==3?(Je.innerHTML="",ne.addEventToQueue(D,{node:Je,parentNode:je}),Re?ne.pasteString(nt,Je):ne.typeString(nt,Je)):Je.textContent&&(Re?ne.pasteString(Je.textContent,je):ne.typeString(Je.textContent,je))}return ne}),Q(this,"deleteAll",function(){var we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"natural";return ne.addEventToQueue(x,{speed:we}),ne}),Q(this,"changeDeleteSpeed",function(we){if(!we)throw new Error("Must provide new delete speed");return ne.addEventToQueue(j,{speed:we}),ne}),Q(this,"changeDelay",function(we){if(!we)throw new Error("Must provide new delay");return ne.addEventToQueue(A,{delay:we}),ne}),Q(this,"changeCursor",function(we){if(!we)throw new Error("Must provide new cursor");return ne.addEventToQueue(O,{cursor:we}),ne}),Q(this,"deleteChars",function(we){if(!we)throw new Error("Must provide amount of characters to delete");for(var je=0;je<we;je++)ne.addEventToQueue(y);return ne}),Q(this,"callFunction",function(we,je){if(!we||typeof we!="function")throw new Error("Callback must be a function");return ne.addEventToQueue(T,{cb:we,thisArg:je}),ne}),Q(this,"typeCharacters",function(we){var je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!we||!Array.isArray(we))throw new Error("Characters must be an array");return we.forEach(function(Re){ne.addEventToQueue(b,{character:Re,node:je})}),ne}),Q(this,"removeCharacters",function(we){if(!we||!Array.isArray(we))throw new Error("Characters must be an array");return we.forEach(function(){ne.addEventToQueue(y)}),ne}),Q(this,"addEventToQueue",function(we,je){var Re=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return ne.addEventToStateProperty(we,je,Re,"eventQueue")}),Q(this,"addReverseCalledEvent",function(we,je){var Re=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return ne.options.loop?ne.addEventToStateProperty(we,je,Re,"reverseCalledEvents"):ne}),Q(this,"addEventToStateProperty",function(we,je){var Re=arguments.length>2&&arguments[2]!==void 0&&arguments[2],ke=arguments.length>3?arguments[3]:void 0,We={eventName:we,eventArgs:je||{}};return ne.state[ke]=Re?[We].concat(q(ne.state[ke])):[].concat(q(ne.state[ke]),[We]),ne}),Q(this,"runEventLoop",function(){ne.state.lastFrameTime||(ne.state.lastFrameTime=Date.now());var we=Date.now(),je=we-ne.state.lastFrameTime;if(!ne.state.eventQueue.length){if(!ne.options.loop)return;ne.state.eventQueue=q(ne.state.calledEvents),ne.state.calledEvents=[],ne.options=M({},ne.state.initialOptions)}if(ne.state.eventLoop=f()(ne.runEventLoop),!ne.state.eventLoopPaused){if(ne.state.pauseUntil){if(we<ne.state.pauseUntil)return;ne.state.pauseUntil=null}var Re,ke=q(ne.state.eventQueue),We=ke.shift();if(!(je<=(Re=We.eventName===_||We.eventName===y?ne.options.deleteSpeed==="natural"?g(40,80):ne.options.deleteSpeed:ne.options.delay==="natural"?g(120,160):ne.options.delay))){var Je=We.eventName,nt=We.eventArgs;switch(ne.logInDevMode({currentEvent:We,state:ne.state,delay:Re}),Je){case L:case b:var ct=nt.character,X=nt.node,Me=document.createTextNode(ct),ye=Me;ne.options.onCreateTextNode&&typeof ne.options.onCreateTextNode=="function"&&(ye=ne.options.onCreateTextNode(ct,Me)),ye&&(X?X.appendChild(ye):ne.state.elements.wrapper.appendChild(ye)),ne.state.visibleNodes=[].concat(q(ne.state.visibleNodes),[{type:"TEXT_NODE",character:ct,node:ye}]);break;case y:ke.unshift({eventName:_,eventArgs:{removingCharacterNode:!0}});break;case S:var se=We.eventArgs.ms;ne.state.pauseUntil=Date.now()+parseInt(se);break;case T:var ie=We.eventArgs,fe=ie.cb,Te=ie.thisArg;fe.call(Te,{elements:ne.state.elements});break;case D:var he=We.eventArgs,ce=he.node,ve=he.parentNode;ve?ve.appendChild(ce):ne.state.elements.wrapper.appendChild(ce),ne.state.visibleNodes=[].concat(q(ne.state.visibleNodes),[{type:P,node:ce,parentNode:ve||ne.state.elements.wrapper}]);break;case x:var Ie=ne.state.visibleNodes,Fe=nt.speed,Se=[];Fe&&Se.push({eventName:j,eventArgs:{speed:Fe,temp:!0}});for(var ut=0,pt=Ie.length;ut<pt;ut++)Se.push({eventName:_,eventArgs:{removingCharacterNode:!1}});Fe&&Se.push({eventName:j,eventArgs:{speed:ne.options.deleteSpeed,temp:!0}}),ke.unshift.apply(ke,Se);break;case _:var Le=We.eventArgs.removingCharacterNode;if(ne.state.visibleNodes.length){var Ue=ne.state.visibleNodes.pop(),Qe=Ue.type,ot=Ue.node,Ke=Ue.character;ne.options.onRemoveNode&&typeof ne.options.onRemoveNode=="function"&&ne.options.onRemoveNode({node:ot,character:Ke}),ot&&ot.parentNode.removeChild(ot),Qe===P&&Le&&ke.unshift({eventName:_,eventArgs:{}})}break;case j:ne.options.deleteSpeed=We.eventArgs.speed;break;case A:ne.options.delay=We.eventArgs.delay;break;case O:ne.options.cursor=We.eventArgs.cursor,ne.state.elements.cursor.innerHTML=We.eventArgs.cursor}ne.options.loop&&(We.eventName===_||We.eventArgs&&We.eventArgs.temp||(ne.state.calledEvents=[].concat(q(ne.state.calledEvents),[We]))),ne.state.eventQueue=ke,ne.state.lastFrameTime=we}}}),W)if(typeof W=="string"){var ge=document.querySelector(W);if(!ge)throw new Error("Could not find container element");this.state.elements.container=ge}else this.state.elements.container=W;me&&(this.options=M(M({},this.options),me)),this.state.initialOptions=M({},this.options),this.init()}var K,F;return K=Z,(F=[{key:"init",value:function(){var W,me;this.setupWrapperElement(),this.addEventToQueue(O,{cursor:this.options.cursor},!0),this.addEventToQueue(x,null,!0),!window||window.___TYPEWRITER_JS_STYLES_ADDED___||this.options.skipAddStyles||(W=".Typewriter__cursor{-webkit-animation:Typewriter-cursor 1s infinite;animation:Typewriter-cursor 1s infinite;margin-left:1px}@-webkit-keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}@keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}",(me=document.createElement("style")).appendChild(document.createTextNode(W)),document.head.appendChild(me),window.___TYPEWRITER_JS_STYLES_ADDED___=!0),this.options.autoStart===!0&&this.options.strings&&this.typeOutAllStrings().start()}},{key:"logInDevMode",value:function(W){this.options.devMode&&console.log(W)}}])&&G(K.prototype,F),Object.defineProperty(K,"prototype",{writable:!1}),Z}()},9935:l=>{l.exports=function(){return!1}}},s={};function i(l){var c=s[l];if(c!==void 0)return c.exports;var u=s[l]={id:l,loaded:!1,exports:{}};return r[l].call(u.exports,u,u.exports,i),u.loaded=!0,u.exports}i.n=l=>{var c=l&&l.__esModule?()=>l.default:()=>l;return i.d(c,{a:c}),c},i.d=(l,c)=>{for(var u in c)i.o(c,u)&&!i.o(l,u)&&Object.defineProperty(l,u,{enumerable:!0,get:c[u]})},i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),i.o=(l,c)=>Object.prototype.hasOwnProperty.call(l,c),i.nmd=l=>(l.paths=[],l.children||(l.children=[]),l);var a={};return(()=>{i.d(a,{default:()=>D});var l=i(9155),c=i.n(l),u=i(9905),h=i(2404),f=i.n(h);function m(j){return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},m(j)}function g(j,A){for(var O=0;O<A.length;O++){var L=A[O];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(j,S(L.key),L)}}function b(j,A){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,L){return O.__proto__=L,O},b(j,A)}function y(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function x(){try{var j=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x=function(){return!!j})()}function _(j){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(A){return A.__proto__||Object.getPrototypeOf(A)},_(j)}function S(j){var A=function(O){if(m(O)!="object"||!O)return O;var L=O[Symbol.toPrimitive];if(L!==void 0){var P=L.call(O,"string");if(m(P)!="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}(j);return m(A)=="symbol"?A:A+""}var T=function(j){(function(N,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(U&&U.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),Object.defineProperty(N,"prototype",{writable:!1}),U&&b(N,U)})(P,j);var A,O,L=function(N){var U=x();return function(){var M,q=_(N);if(U){var E=_(this).constructor;M=Reflect.construct(q,arguments,E)}else M=q.apply(this,arguments);return function(G,Q){if(Q&&(m(Q)=="object"||typeof Q=="function"))return Q;if(Q!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y(G)}(this,M)}}(P);function P(){var N,U,M,q;(function(re,ee){if(!(re instanceof ee))throw new TypeError("Cannot call a class as a function")})(this,P);for(var E=arguments.length,G=new Array(E),Q=0;Q<E;Q++)G[Q]=arguments[Q];return U=y(N=L.call.apply(L,[this].concat(G))),q={instance:null},(M=S(M="state"))in U?Object.defineProperty(U,M,{value:q,enumerable:!0,configurable:!0,writable:!0}):U[M]=q,N}return A=P,(O=[{key:"componentDidMount",value:function(){var N=this,U=new u.default(this.typewriter,this.props.options);this.setState({instance:U},function(){var M=N.props.onInit;M&&M(U)})}},{key:"componentDidUpdate",value:function(N){f()(this.props.options,N.options)||this.setState({instance:new u.default(this.typewriter,this.props.options)})}},{key:"componentWillUnmount",value:function(){this.state.instance&&this.state.instance.stop()}},{key:"render",value:function(){var N=this,U=this.props.component;return c().createElement(U,{ref:function(M){return N.typewriter=M},className:"Typewriter","data-testid":"typewriter-wrapper"})}}])&&g(A.prototype,O),Object.defineProperty(A,"prototype",{writable:!1}),P}(l.Component);T.defaultProps={component:"div"};const D=T})(),a.default})())}(eb)),eb.exports}var EU=kU();const jU=Jr(EU),NU="/assets/logo-Ctzr3ybd.png";var tb={exports:{}},DU=tb.exports,zN;function AU(){return zN||(zN=1,function(t,e){(function(n,r){t.exports=r()})(DU,function(){return function(n){function r(i){if(s[i])return s[i].exports;var a=s[i]={exports:{},id:i,loaded:!1};return n[i].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}var s={};return r.m=n,r.c=s,r.p="dist/",r(0)}([function(n,r,s){function i(E){return E&&E.__esModule?E:{default:E}}var a=Object.assign||function(E){for(var G=1;G<arguments.length;G++){var Q=arguments[G];for(var re in Q)Object.prototype.hasOwnProperty.call(Q,re)&&(E[re]=Q[re])}return E},l=s(1),c=(i(l),s(6)),u=i(c),h=s(7),f=i(h),m=s(8),g=i(m),b=s(9),y=i(b),x=s(10),_=i(x),S=s(11),T=i(S),D=s(14),j=i(D),A=[],O=!1,L={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},P=function(){var E=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(E&&(O=!0),O)return A=(0,T.default)(A,L),(0,_.default)(A,L.once),A},N=function(){A=(0,j.default)(),P()},U=function(){A.forEach(function(E,G){E.node.removeAttribute("data-aos"),E.node.removeAttribute("data-aos-easing"),E.node.removeAttribute("data-aos-duration"),E.node.removeAttribute("data-aos-delay")})},M=function(E){return E===!0||E==="mobile"&&y.default.mobile()||E==="phone"&&y.default.phone()||E==="tablet"&&y.default.tablet()||typeof E=="function"&&E()===!0},q=function(E){L=a(L,E),A=(0,j.default)();var G=document.all&&!window.atob;return M(L.disable)||G?U():(L.disableMutationObserver||g.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),L.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",L.easing),document.querySelector("body").setAttribute("data-aos-duration",L.duration),document.querySelector("body").setAttribute("data-aos-delay",L.delay),L.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?P(!0):L.startEvent==="load"?window.addEventListener(L.startEvent,function(){P(!0)}):document.addEventListener(L.startEvent,function(){P(!0)}),window.addEventListener("resize",(0,f.default)(P,L.debounceDelay,!0)),window.addEventListener("orientationchange",(0,f.default)(P,L.debounceDelay,!0)),window.addEventListener("scroll",(0,u.default)(function(){(0,_.default)(A,L.once)},L.throttleDelay)),L.disableMutationObserver||g.default.ready("[data-aos]",N),A)};n.exports={init:q,refresh:P,refreshHard:N}},function(n,r){},,,,,function(n,r){(function(s){function i(M,q,E){function G(X){var Me=ne,ye=ge;return ne=ge=void 0,We=X,je=M.apply(ye,Me)}function Q(X){return We=X,Re=setTimeout(Z,q),Je?G(X):je}function re(X){var Me=X-ke,ye=X-We,se=q-Me;return nt?N(se,we-ye):se}function ee(X){var Me=X-ke,ye=X-We;return ke===void 0||Me>=q||Me<0||nt&&ye>=we}function Z(){var X=U();return ee(X)?K(X):void(Re=setTimeout(Z,re(X)))}function K(X){return Re=void 0,ct&&ne?G(X):(ne=ge=void 0,je)}function F(){Re!==void 0&&clearTimeout(Re),We=0,ne=ke=ge=Re=void 0}function W(){return Re===void 0?je:K(U())}function me(){var X=U(),Me=ee(X);if(ne=arguments,ge=this,ke=X,Me){if(Re===void 0)return Q(ke);if(nt)return Re=setTimeout(Z,q),G(ke)}return Re===void 0&&(Re=setTimeout(Z,q)),je}var ne,ge,we,je,Re,ke,We=0,Je=!1,nt=!1,ct=!0;if(typeof M!="function")throw new TypeError(m);return q=h(q)||0,l(E)&&(Je=!!E.leading,nt="maxWait"in E,we=nt?P(h(E.maxWait)||0,q):we,ct="trailing"in E?!!E.trailing:ct),me.cancel=F,me.flush=W,me}function a(M,q,E){var G=!0,Q=!0;if(typeof M!="function")throw new TypeError(m);return l(E)&&(G="leading"in E?!!E.leading:G,Q="trailing"in E?!!E.trailing:Q),i(M,q,{leading:G,maxWait:q,trailing:Q})}function l(M){var q=typeof M>"u"?"undefined":f(M);return!!M&&(q=="object"||q=="function")}function c(M){return!!M&&(typeof M>"u"?"undefined":f(M))=="object"}function u(M){return(typeof M>"u"?"undefined":f(M))=="symbol"||c(M)&&L.call(M)==b}function h(M){if(typeof M=="number")return M;if(u(M))return g;if(l(M)){var q=typeof M.valueOf=="function"?M.valueOf():M;M=l(q)?q+"":q}if(typeof M!="string")return M===0?M:+M;M=M.replace(y,"");var E=_.test(M);return E||S.test(M)?T(M.slice(2),E?2:8):x.test(M)?g:+M}var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},m="Expected a function",g=NaN,b="[object Symbol]",y=/^\s+|\s+$/g,x=/^[-+]0x[0-9a-f]+$/i,_=/^0b[01]+$/i,S=/^0o[0-7]+$/i,T=parseInt,D=(typeof s>"u"?"undefined":f(s))=="object"&&s&&s.Object===Object&&s,j=(typeof self>"u"?"undefined":f(self))=="object"&&self&&self.Object===Object&&self,A=D||j||Function("return this")(),O=Object.prototype,L=O.toString,P=Math.max,N=Math.min,U=function(){return A.Date.now()};n.exports=a}).call(r,function(){return this}())},function(n,r){(function(s){function i(U,M,q){function E(ct){var X=me,Me=ne;return me=ne=void 0,ke=ct,we=U.apply(Me,X)}function G(ct){return ke=ct,je=setTimeout(ee,M),We?E(ct):we}function Q(ct){var X=ct-Re,Me=ct-ke,ye=M-X;return Je?P(ye,ge-Me):ye}function re(ct){var X=ct-Re,Me=ct-ke;return Re===void 0||X>=M||X<0||Je&&Me>=ge}function ee(){var ct=N();return re(ct)?Z(ct):void(je=setTimeout(ee,Q(ct)))}function Z(ct){return je=void 0,nt&&me?E(ct):(me=ne=void 0,we)}function K(){je!==void 0&&clearTimeout(je),ke=0,me=Re=ne=je=void 0}function F(){return je===void 0?we:Z(N())}function W(){var ct=N(),X=re(ct);if(me=arguments,ne=this,Re=ct,X){if(je===void 0)return G(Re);if(Je)return je=setTimeout(ee,M),E(Re)}return je===void 0&&(je=setTimeout(ee,M)),we}var me,ne,ge,we,je,Re,ke=0,We=!1,Je=!1,nt=!0;if(typeof U!="function")throw new TypeError(f);return M=u(M)||0,a(q)&&(We=!!q.leading,Je="maxWait"in q,ge=Je?L(u(q.maxWait)||0,M):ge,nt="trailing"in q?!!q.trailing:nt),W.cancel=K,W.flush=F,W}function a(U){var M=typeof U>"u"?"undefined":h(U);return!!U&&(M=="object"||M=="function")}function l(U){return!!U&&(typeof U>"u"?"undefined":h(U))=="object"}function c(U){return(typeof U>"u"?"undefined":h(U))=="symbol"||l(U)&&O.call(U)==g}function u(U){if(typeof U=="number")return U;if(c(U))return m;if(a(U)){var M=typeof U.valueOf=="function"?U.valueOf():U;U=a(M)?M+"":M}if(typeof U!="string")return U===0?U:+U;U=U.replace(b,"");var q=x.test(U);return q||_.test(U)?S(U.slice(2),q?2:8):y.test(U)?m:+U}var h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},f="Expected a function",m=NaN,g="[object Symbol]",b=/^\s+|\s+$/g,y=/^[-+]0x[0-9a-f]+$/i,x=/^0b[01]+$/i,_=/^0o[0-7]+$/i,S=parseInt,T=(typeof s>"u"?"undefined":h(s))=="object"&&s&&s.Object===Object&&s,D=(typeof self>"u"?"undefined":h(self))=="object"&&self&&self.Object===Object&&self,j=T||D||Function("return this")(),A=Object.prototype,O=A.toString,L=Math.max,P=Math.min,N=function(){return j.Date.now()};n.exports=i}).call(r,function(){return this}())},function(n,r){function s(h){var f=void 0,m=void 0;for(f=0;f<h.length;f+=1)if(m=h[f],m.dataset&&m.dataset.aos||m.children&&s(m.children))return!0;return!1}function i(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function a(){return!!i()}function l(h,f){var m=window.document,g=i(),b=new g(c);u=f,b.observe(m.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function c(h){h&&h.forEach(function(f){var m=Array.prototype.slice.call(f.addedNodes),g=Array.prototype.slice.call(f.removedNodes),b=m.concat(g);if(s(b))return u()})}Object.defineProperty(r,"__esModule",{value:!0});var u=function(){};r.default={isSupported:a,ready:l}},function(n,r){function s(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function i(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function m(g,b){for(var y=0;y<b.length;y++){var x=b[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,b,y){return b&&m(g.prototype,b),y&&m(g,y),g}}(),l=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,c=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,u=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,h=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,f=function(){function m(){s(this,m)}return a(m,[{key:"phone",value:function(){var g=i();return!(!l.test(g)&&!c.test(g.substr(0,4)))}},{key:"mobile",value:function(){var g=i();return!(!u.test(g)&&!h.test(g.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),m}();r.default=new f},function(n,r){Object.defineProperty(r,"__esModule",{value:!0});var s=function(a,l,c){var u=a.node.getAttribute("data-aos-once");l>a.position?a.node.classList.add("aos-animate"):typeof u<"u"&&(u==="false"||!c&&u!=="true")&&a.node.classList.remove("aos-animate")},i=function(a,l){var c=window.pageYOffset,u=window.innerHeight;a.forEach(function(h,f){s(h,u+c,l)})};r.default=i},function(n,r,s){function i(u){return u&&u.__esModule?u:{default:u}}Object.defineProperty(r,"__esModule",{value:!0});var a=s(12),l=i(a),c=function(u,h){return u.forEach(function(f,m){f.node.classList.add("aos-init"),f.position=(0,l.default)(f.node,h.offset)}),u};r.default=c},function(n,r,s){function i(u){return u&&u.__esModule?u:{default:u}}Object.defineProperty(r,"__esModule",{value:!0});var a=s(13),l=i(a),c=function(u,h){var f=0,m=0,g=window.innerHeight,b={offset:u.getAttribute("data-aos-offset"),anchor:u.getAttribute("data-aos-anchor"),anchorPlacement:u.getAttribute("data-aos-anchor-placement")};switch(b.offset&&!isNaN(b.offset)&&(m=parseInt(b.offset)),b.anchor&&document.querySelectorAll(b.anchor)&&(u=document.querySelectorAll(b.anchor)[0]),f=(0,l.default)(u).top,b.anchorPlacement){case"top-bottom":break;case"center-bottom":f+=u.offsetHeight/2;break;case"bottom-bottom":f+=u.offsetHeight;break;case"top-center":f+=g/2;break;case"bottom-center":f+=g/2+u.offsetHeight;break;case"center-center":f+=g/2+u.offsetHeight/2;break;case"top-top":f+=g;break;case"bottom-top":f+=u.offsetHeight+g;break;case"center-top":f+=u.offsetHeight/2+g}return b.anchorPlacement||b.offset||isNaN(h)||(m=h),f+m};r.default=c},function(n,r){Object.defineProperty(r,"__esModule",{value:!0});var s=function(i){for(var a=0,l=0;i&&!isNaN(i.offsetLeft)&&!isNaN(i.offsetTop);)a+=i.offsetLeft-(i.tagName!="BODY"?i.scrollLeft:0),l+=i.offsetTop-(i.tagName!="BODY"?i.scrollTop:0),i=i.offsetParent;return{top:l,left:a}};r.default=s},function(n,r){Object.defineProperty(r,"__esModule",{value:!0});var s=function(i){return i=i||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(i,function(a){return{node:a}})};r.default=s}])})}(tb)),tb.exports}var PU=AU();const IU=Jr(PU);var Qg=YP();const Nd=Jr(Qg);function OU(){const[t,e]=w.useState(!0),[n,r]=w.useState(!1),s=w.useRef(null),[i,a]=w.useState(!1),[l,c]=w.useState([]),[u,h]=w.useState(!0),[f,m]=w.useState(null);nn.useEffect(()=>{if(!document.getElementById("popup-animation-style")){const b=document.createElement("style");b.id="popup-animation-style",b.innerHTML=`
        @keyframes slideUp {
          from {
            transform: translateY(100%);
          }
          to {
            transform: translateY(0);
          }
        }
        .teacher-popup {
          animation: slideUp 0.3s ease-out;
        }
        body.popup-open {
          overflow: hidden;
        }
      `,document.head.appendChild(b)}return n?document.body.classList.add("popup-open"):document.body.classList.remove("popup-open"),()=>{document.body.classList.remove("popup-open")}},[n]),w.useEffect(()=>{(async()=>{try{h(!0);const y=await vt().get("/landingpage/subscription-packages/",{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(y.data&&Array.isArray(y.data)){const x=y.data.map(_=>({id:_.id,name:_.name,price:_.price,currency:"R",period:"month",duration:_.duration?`${_.duration} days`:"30 days",features:Array.isArray(_.features)?_.features:typeof _.features=="string"&&_.features.length>0?_.features.split(",").map(S=>S.trim()):["Access to premium content","Expert teacher support",`Course access for ${_.duration||30} days`],active_courses:_.active_courses||[],included_categories:_.included_categories||[],include_all_courses:_.include_all_courses}));c(x)}else c([]),m("Invalid data format received");h(!1)}catch{m("Failed to load subscription packages"),h(!1),c([{id:1,name:"Basic Plan",price:200,currency:"R",period:"month",duration:"30 days",features:["Access to beginner courses","Weekly homework review","Basic learning materials"],active_courses:[],included_categories:[]},{id:2,name:"Pro Plan",price:600,currency:"R",period:"month",duration:"30 days",features:["Access to all courses","Unlimited homework review","1-on-1 weekly sessions","Premium learning materials"],active_courses:[],included_categories:[]}])}})()},[]),w.useEffect(()=>{IU.init({duration:1e3});const b=setTimeout(()=>{e(!1),s.current&&g(s.current)},8500);return()=>clearTimeout(b)},[]);const g=b=>{const y=b.playbackRate,x=1500,_=30,S=x/_;let T=0;const D=setInterval(()=>{T++;const j=T/_,A=1-Math.pow(1-j,2),O=y*(1-A);b.playbackRate=Math.max(.1,O),T>=_&&(b.pause(),a(!0),clearInterval(D))},S)};return w.useEffect(()=>{if(s.current){const b=s.current,y=()=>a(!1),x=()=>a(!0);return b.addEventListener("play",y),b.addEventListener("pause",x),a(b.paused),()=>{b.removeEventListener("play",y),b.removeEventListener("pause",x)}}},[s]),o.jsxs(o.Fragment,{children:["      ",o.jsx("style",{children:`
          .typewriter-effect {
            font-family: "Atop", sans-serif;
            font-size: 2rem; /* Adjust size as needed */
            white-space: nowrap;
            overflow: hidden;
            display: inline-block;
            animation: typing 3s steps(30, end), blink 0.5s step-end infinite alternate;
          }

          @keyframes typing {
            from {
              width: 0;
            }
            to {
              width: 100%;
            }
          }

          @keyframes blink {
            from {
              border-right-color: transparent;
            }
            to {
              border-right-color: black;
            }
          }

          .falling-text {
            animation: fall-in 1s ease-in-out forwards;
            animation-delay: 6.8s; /* Delay to sync with the typewriter effect */
          }

          @keyframes fall-in {
            0% {
              opacity: 0;
              transform: translateY(-50px); /* Start above the big text */
            }
            100% {
              opacity: 1;
              transform: translateY(0); /* End in its original position */
            }
          }          body {
            font-family: "Atop", sans-serif;
          }
          
          /* Class for elements that should use Atop font */
          .atop-font {
            font-family: "Atop", sans-serif !important;
          }        `}),o.jsx("link",{href:"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css",rel:"stylesheet"}),o.jsx("script",{src:"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js",defer:!0}),o.jsx("header",{className:"navbar navbar-expand-lg navbar-light bg-light",style:{position:"sticky",top:0,zIndex:10,boxShadow:"0 2px 5px rgba(0, 0, 0, 0.1)"},children:o.jsxs("div",{className:"container",children:[o.jsx(Fn,{className:"navbar-brand",to:"/",children:o.jsx("img",{src:NU,alt:"Bonjour Classe Logo",style:{height:"50px"}})}),o.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:o.jsx("span",{className:"navbar-toggler-icon"})}),o.jsx("div",{className:"collapse navbar-collapse",id:"navbarNav",children:o.jsxs("ul",{className:"navbar-nav ms-auto",children:[o.jsx("li",{className:"nav-item",children:o.jsx("a",{className:"nav-link",href:"#home",children:"Home"})}),o.jsx("li",{className:"nav-item",children:o.jsx("a",{className:"nav-link",href:"#about",children:"About"})}),o.jsx("li",{className:"nav-item",children:o.jsx("a",{className:"nav-link",href:"#benefits",children:"Benefits"})}),o.jsx("li",{className:"nav-item",children:o.jsx("a",{className:"nav-link",href:"#pricing",children:"Pricing"})}),o.jsx("li",{className:"nav-item",children:o.jsx(Fn,{className:"btn ms-2",to:"#",style:{backgroundColor:"#B22234",color:"white",border:"none"},"data-bs-toggle":"modal","data-bs-target":"#registerModal",children:"Sign Up"})}),o.jsx("li",{className:"nav-item",children:o.jsx(Fn,{className:"btn btn-outline-primary ms-2",to:"#","data-bs-toggle":"modal","data-bs-target":"#loginModal",children:"Sign In"})})]})})]})}),o.jsxs("section",{id:"home",className:"hero-section text-center py-5 bg-light",style:{position:"relative",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},children:["        ",o.jsxs("video",{ref:s,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,controls:!i,style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100%",height:"100%",objectFit:"cover",zIndex:0},children:[o.jsx("source",{src:"https://i.imgur.com/I43zIeb.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]}),o.jsx("div",{style:{backgroundColor:"rgba(0, 0, 0, 0.5)",position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:1}}),o.jsxs("div",{className:"container",style:{position:"relative",zIndex:2},children:[t?o.jsx("h1",{className:"display-4",style:{color:"white"},children:o.jsx("span",{style:{fontFamily:"Atop, sans-serif"},children:o.jsx(jU,{options:{strings:["Bonjour","Welcome to Bonjour Classe"],autoStart:!0,loop:!1,deleteSpeed:50}})})}):o.jsx("h1",{className:"display-4 atop-font",style:{color:"white",fontFamily:"Atop, sans-serif"},children:"Welcome to Bonjour Classe!"}),o.jsx("p",{className:"lead falling-text",style:{color:"white",opacity:0,transform:"translateY(-50px)"},children:"Learn French with our expert teacher."}),o.jsx(Fn,{to:"#",className:"btn btn-lg mt-3",style:{backgroundColor:"#B22234",color:"white",border:"none"},"data-bs-toggle":"modal","data-bs-target":"#registerModal",children:"Sign Up Now"})]})]}),o.jsx("section",{id:"about",className:"about-section py-5",children:o.jsxs("div",{className:"container",children:[o.jsx("h2",{className:"text-center mb-5",children:"About Us"}),o.jsx("div",{className:"row justify-content-center",children:o.jsx("div",{className:"col-lg-10",children:o.jsx("div",{className:"card border-0 shadow","data-aos":"slide-right","data-aos-duration":"1200",children:o.jsxs("div",{className:"row g-0",children:[o.jsx("div",{className:"col-md-4",children:o.jsx("img",{src:"https://images.unsplash.com/photo-1571260899304-425eee4c7efc?q=80&w=1000",alt:"About Bonjour Classe",className:"img-fluid rounded-start h-100",style:{objectFit:"cover"}})}),o.jsx("div",{className:"col-md-8",children:o.jsxs("div",{className:"card-body p-4",children:[o.jsx("h3",{className:"card-title mb-3"}),o.jsx("p",{className:"card-text",children:"Bonjour Classe is a platform designed to help you master French with the guidance of our expert teacher, who has over 23 years of experience."}),o.jsx("p",{className:"card-text",children:"Our mission is to make learning French accessible, engaging, and effective for students of all levels. Whether you're a beginner taking your first steps in French or an advanced student looking to perfect your skills, we have the resources and expertise to support your journey."}),o.jsx("p",{className:"card-text"})]})})]})})})})]})}),o.jsx("section",{id:"benefits",className:"benefits-section py-5 bg-light",children:o.jsxs("div",{className:"container",children:[o.jsx("h2",{className:"text-center mb-4",children:"Why Choose Bonjour Classe?"}),o.jsxs("div",{className:"row",children:["            ",o.jsx("div",{className:"col-md-4 mb-4","data-aos":"fade-up",children:o.jsx("div",{className:"card text-center h-100 shadow-sm",onClick:()=>r(!0),style:{cursor:"pointer"},children:o.jsxs("div",{className:"card-body d-flex flex-column",children:[o.jsx("h5",{className:"card-title",children:"Expert Teacher"}),o.jsx("p",{className:"card-text flex-grow-1",children:"Learn from a French teacher with 23+ years of experience."})]})})}),o.jsx("div",{className:"col-md-4 mb-4","data-aos":"fade-up","data-aos-delay":"200",children:o.jsx("div",{className:"card text-center h-100 shadow-sm",children:o.jsxs("div",{className:"card-body d-flex flex-column",children:[o.jsx("h5",{className:"card-title",children:"Interactive Lessons"}),o.jsx("p",{className:"card-text flex-grow-1",children:"Engage in interactive lessons designed to make learning fun and effective."})]})})}),o.jsx("div",{className:"col-md-4 mb-4","data-aos":"fade-up","data-aos-delay":"400",children:o.jsx("div",{className:"card text-center h-100 shadow-sm",children:o.jsxs("div",{className:"card-body d-flex flex-column",children:[o.jsx("h5",{className:"card-title",children:"Flexible Scheduling"}),o.jsx("p",{className:"card-text flex-grow-1",children:"Learn at your own pace with flexible lesson schedules."})]})})})]})]})}),o.jsxs("section",{id:"pricing",className:"pricing-section py-5",children:[o.jsxs("div",{className:"container",children:[o.jsx("h2",{className:"text-center mb-4",children:"Pricing"}),u?o.jsxs("div",{className:"text-center py-5",children:[o.jsx("div",{className:"spinner-border text-primary",role:"status",children:o.jsx("span",{className:"visually-hidden",children:"Loading..."})}),o.jsx("p",{className:"mt-3",children:"Loading subscription packages..."})]}):f?o.jsx("div",{className:"text-center py-3",children:o.jsx("div",{className:"alert alert-danger",role:"alert",children:f})}):o.jsx("div",{className:"d-flex justify-content-center gap-4",style:{flexWrap:"wrap"},children:Array.isArray(l)&&l.map(b=>o.jsx("div",{className:"col-md-4","data-aos":"fade-up",children:o.jsx("div",{className:"card text-center h-100 shadow-sm",children:o.jsxs("div",{className:"card-body d-flex flex-column",children:[o.jsx("h5",{className:"card-title",children:b.name}),o.jsxs("p",{className:"card-text",children:[o.jsxs("span",{className:"fs-3 fw-bold",children:[b.currency,b.price]}),"/",b.period]}),o.jsxs("p",{className:"badge bg-info mb-3",children:["Duration: ",b.duration]}),o.jsxs("ul",{className:"list-unstyled text-start mb-4",children:[Array.isArray(b.features)&&b.features.length>0?b.features.map((y,x)=>o.jsxs("li",{children:[o.jsx("span",{style:{color:"#0bde00",fontWeight:"bold"},children:""})," ",typeof y=="string"?y:y.name]},`feature-${x}`)):o.jsxs("li",{children:[o.jsx("span",{style:{color:"#0bde00",fontWeight:"bold"},children:""})," ","Premium French learning experience"]}),o.jsxs("li",{className:"mt-2",children:[o.jsx("span",{style:{color:"#0bde00",fontWeight:"bold"},children:""})," ",o.jsx("strong",{children:"Included Courses:"})," ",b.include_all_courses===1||b.include_all_courses===!0||b.include_all_courses==="1"?"All Courses":b.active_courses&&b.active_courses.length>0?b.active_courses.map(y=>y.title).join(", "):"None"]}),o.jsxs("li",{className:"mt-2",children:[o.jsx("span",{style:{color:"#0bde00",fontWeight:"bold"},children:""})," ",o.jsx("strong",{children:"Included Categories:"})," ",b.included_categories&&b.included_categories.length>0?b.included_categories.map(y=>y.title).join(", "):"None"]})]}),o.jsx("div",{className:"mt-auto",children:o.jsx(Fn,{to:"#",className:"btn",style:{backgroundColor:"#B22234",color:"white",border:"none"},"data-bs-toggle":"modal","data-bs-target":"#registerModal",children:"Get Started"})})]})})},b.id))})]}),"      "]}),n&&Qg.createPortal(o.jsx("div",{className:"teacher-popup-overlay",onClick:()=>r(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center"},children:o.jsxs("div",{className:"teacher-popup",onClick:b=>b.stopPropagation(),style:{backgroundColor:"white",borderRadius:"20px",padding:"30px",width:"100%",maxWidth:"800px",maxHeight:"80vh",marginTop:"40px",overflowY:"auto",boxShadow:"0 5px 25px rgba(0, 0, 0, 0.2)",transform:"translateY(0)",animation:"slideUp 0.3s ease-out",position:"relative"},children:[o.jsx("button",{onClick:()=>r(!1),style:{position:"absolute",top:"15px",right:"15px",background:"none",border:"none",fontSize:"24px",cursor:"pointer"},children:""}),o.jsxs("div",{className:"teacher-header",style:{display:"flex",alignItems:"center",marginBottom:"20px"},children:["              ",o.jsx("div",{className:"teacher-image",style:{width:"100px",height:"100px",borderRadius:"50%",overflow:"hidden",border:"3px solid #3A3A6B",marginRight:"20px"},children:o.jsx("img",{src:"https://imgs.search.brave.com/rSfjKI6dGwDEZaxU_jfIO-mLYYLiDJTp1mCN5OYCOOk/rs:fit:500:0:0:0/g:ce/aHR0cHM6Ly90My5m/dGNkbi5uZXQvanBn/LzA4LzIyLzU2LzU4/LzM2MF9GXzgyMjU2/NTgwN19MS00zRWFt/UXAxUnk4VFozSFhV/eHZJY3ZqYmtiRWEy/SS5qcGc",alt:"Julie Ngalula",style:{width:"150%",height:"150%",objectFit:"cover",marginLeft:"-23%"},onError:b=>{b.target.onerror=null,b.target.src="https://via.placeholder.com/100"}})}),o.jsxs("div",{className:"teacher-info",children:[o.jsx("h2",{style:{fontSize:"1.8rem",margin:"0 0 5px 0",color:"#3A3A6B"},children:"Julie Ngalula"}),o.jsx("p",{style:{fontSize:"1rem",color:"#666",margin:0},children:"French Teacher"}),o.jsxs("p",{style:{fontSize:"0.9rem",color:"#666",margin:"5px 0 0 0"},children:[o.jsx("strong",{children:"Position:"})," French Language Educator",o.jsx("br",{}),o.jsx("strong",{children:"Location:"})," Johannesburg, South Africa",o.jsx("br",{}),o.jsx("strong",{children:"Languages:"})," English, French, Lingala, Chiluba"]})]})]}),o.jsx("div",{className:"teacher-bio",style:{marginBottom:"20px"},children:o.jsx("p",{style:{lineHeight:"1.6",fontSize:"1rem"},children:"Julie Ngalula is a passionate and experienced French teacher with a strong background in language education. With over 20 years of teaching experience, she has worked across multiple levelsfrom high school classrooms in the DRC to Cambridge curriculum schools in South Africa."})}),o.jsxs("div",{className:"teacher-qualifications",style:{marginBottom:"20px"},children:[o.jsx("h3",{style:{fontSize:"1.3rem",color:"#3A3A6B",borderBottom:"1px solid #eee",paddingBottom:"8px"},children:"Qualifications"}),o.jsxs("ul",{style:{paddingLeft:"20px",lineHeight:"1.6"},children:[o.jsx("li",{children:"Honors in French  Higher Institute of Bukavu, DRC (1992)"}),o.jsx("li",{children:"B.Ed. in French and African Linguistics  Gombe Superior Institute of Pedagogy, DRC (1986)"}),o.jsx("li",{children:"Matric/State Diploma in Pedagogy  Motema-Mpiko High School, DRC (1984)"}),o.jsx("li",{children:"Professional Childcare Certificate  Professional Child Institute, Johannesburg (2010)"})]})]}),o.jsxs("div",{className:"teacher-experience",style:{marginBottom:"20px"},children:[o.jsx("h3",{style:{fontSize:"1.3rem",color:"#3A3A6B",borderBottom:"1px solid #eee",paddingBottom:"8px"},children:"Teaching Experience"}),o.jsxs("ul",{style:{paddingLeft:"20px",lineHeight:"1.6"},children:[o.jsx("li",{children:"Poplar Academy (2013Present)  Teaching French to nursery, primary, and high school learners following the Cambridge curriculum."}),o.jsx("li",{children:"Rhema South Africa (20102013)  Providing aftercare and academic support for students outside the classroom."}),o.jsx("li",{children:"Private French Tutor (20052010)  Tutoring French to adults and children at various levels."}),o.jsx("li",{children:"Lyce Motema-Mpiko, DRC (19892005)  High school French teacher, focused on grammar, student performance, and extracurricular support."})]})]}),o.jsxs("div",{className:"teacher-skills",style:{marginBottom:"20px"},children:[o.jsx("h3",{style:{fontSize:"1.3rem",color:"#3A3A6B",borderBottom:"1px solid #eee",paddingBottom:"8px"},children:"Skills & Strengths"}),o.jsxs("ul",{style:{paddingLeft:"20px",lineHeight:"1.6"},children:[o.jsx("li",{children:"Teaching & Curriculum Design"}),o.jsx("li",{children:"Student Counseling & Conflict Resolution"}),o.jsx("li",{children:"Classroom Management"}),o.jsx("li",{children:"Leadership & Planning"}),o.jsx("li",{children:"Computer Literacy"})]})]}),"            ",o.jsx("div",{className:"cta-button",style:{textAlign:"center",marginTop:"30px"},children:o.jsx(Fn,{to:"#",className:"btn btn-primary btn-lg",style:{borderRadius:"30px",padding:"10px 30px",backgroundColor:"#3A3A6B",border:"none"},"data-bs-toggle":"modal","data-bs-target":"#registerModal",onClick:()=>r(!1),children:"Start Learning with Julie"})})]})}),document.body),o.jsx("footer",{className:"footer bg-dark text-white py-4",children:o.jsx("div",{className:"container text-center",children:o.jsx("p",{children:" 2025 Bonjour Classe. All rights reserved."})})})]})}//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var II;function zt(){return II.apply(null,arguments)}function MU(t){II=t}function No(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function Ld(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function Xn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function kC(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(Xn(t,e))return!1;return!0}function Fi(t){return t===void 0}function mc(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function Zg(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function OI(t,e){var n=[],r,s=t.length;for(r=0;r<s;++r)n.push(e(t[r],r));return n}function mu(t,e){for(var n in e)Xn(e,n)&&(t[n]=e[n]);return Xn(e,"toString")&&(t.toString=e.toString),Xn(e,"valueOf")&&(t.valueOf=e.valueOf),t}function jl(t,e,n,r){return rO(t,e,n,r,!0).utc()}function RU(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Dn(t){return t._pf==null&&(t._pf=RU()),t._pf}var M2;Array.prototype.some?M2=Array.prototype.some:M2=function(t){var e=Object(this),n=e.length>>>0,r;for(r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};function EC(t){var e=null,n=!1,r=t._d&&!isNaN(t._d.getTime());if(r&&(e=Dn(t),n=M2.call(e.parsedDateParts,function(s){return s!=null}),r=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n),t._strict&&(r=r&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=r;else return r;return t._isValid}function Yx(t){var e=jl(NaN);return t!=null?mu(Dn(e),t):Dn(e).userInvalidated=!0,e}var UN=zt.momentProperties=[],A_=!1;function jC(t,e){var n,r,s,i=UN.length;if(Fi(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),Fi(e._i)||(t._i=e._i),Fi(e._f)||(t._f=e._f),Fi(e._l)||(t._l=e._l),Fi(e._strict)||(t._strict=e._strict),Fi(e._tzm)||(t._tzm=e._tzm),Fi(e._isUTC)||(t._isUTC=e._isUTC),Fi(e._offset)||(t._offset=e._offset),Fi(e._pf)||(t._pf=Dn(e)),Fi(e._locale)||(t._locale=e._locale),i>0)for(n=0;n<i;n++)r=UN[n],s=e[r],Fi(s)||(t[r]=s);return t}function Jg(t){jC(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),A_===!1&&(A_=!0,zt.updateOffset(this),A_=!1)}function Do(t){return t instanceof Jg||t!=null&&t._isAMomentObject!=null}function MI(t){zt.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function eo(t,e){var n=!0;return mu(function(){if(zt.deprecationHandler!=null&&zt.deprecationHandler(null,t),n){var r=[],s,i,a,l=arguments.length;for(i=0;i<l;i++){if(s="",typeof arguments[i]=="object"){s+=`
[`+i+"] ";for(a in arguments[0])Xn(arguments[0],a)&&(s+=a+": "+arguments[0][a]+", ");s=s.slice(0,-2)}else s=arguments[i];r.push(s)}MI(t+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var HN={};function RI(t,e){zt.deprecationHandler!=null&&zt.deprecationHandler(t,e),HN[t]||(MI(e),HN[t]=!0)}zt.suppressDeprecationWarnings=!1;zt.deprecationHandler=null;function Nl(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function LU(t){var e,n;for(n in t)Xn(t,n)&&(e=t[n],Nl(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function R2(t,e){var n=mu({},t),r;for(r in e)Xn(e,r)&&(Ld(t[r])&&Ld(e[r])?(n[r]={},mu(n[r],t[r]),mu(n[r],e[r])):e[r]!=null?n[r]=e[r]:delete n[r]);for(r in t)Xn(t,r)&&!Xn(e,r)&&Ld(t[r])&&(n[r]=mu({},n[r]));return n}function NC(t){t!=null&&this.set(t)}var L2;Object.keys?L2=Object.keys:L2=function(t){var e,n=[];for(e in t)Xn(t,e)&&n.push(e);return n};var FU={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function BU(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return Nl(r)?r.call(e,n):r}function Sl(t,e,n){var r=""+Math.abs(t),s=e-r.length,i=t>=0;return(i?n?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+r}var DC=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,fy=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,P_={},xf={};function un(t,e,n,r){var s=r;typeof r=="string"&&(s=function(){return this[r]()}),t&&(xf[t]=s),e&&(xf[e[0]]=function(){return Sl(s.apply(this,arguments),e[1],e[2])}),n&&(xf[n]=function(){return this.localeData().ordinal(s.apply(this,arguments),t)})}function $U(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function zU(t){var e=t.match(DC),n,r;for(n=0,r=e.length;n<r;n++)xf[e[n]]?e[n]=xf[e[n]]:e[n]=$U(e[n]);return function(s){var i="",a;for(a=0;a<r;a++)i+=Nl(e[a])?e[a].call(s,t):e[a];return i}}function nb(t,e){return t.isValid()?(e=LI(e,t.localeData()),P_[e]=P_[e]||zU(e),P_[e](t)):t.localeData().invalidDate()}function LI(t,e){var n=5;function r(s){return e.longDateFormat(s)||s}for(fy.lastIndex=0;n>=0&&fy.test(t);)t=t.replace(fy,r),fy.lastIndex=0,n-=1;return t}var UU={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function HU(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(DC).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[t])}var WU="Invalid date";function VU(){return this._invalidDate}var qU="%d",YU=/\d{1,2}/;function GU(t){return this._ordinal.replace("%d",t)}var KU={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function XU(t,e,n,r){var s=this._relativeTime[n];return Nl(s)?s(t,e,n,r):s.replace(/%d/i,t)}function QU(t,e){var n=this._relativeTime[t>0?"future":"past"];return Nl(n)?n(e):n.replace(/%s/i,e)}var WN={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function to(t){return typeof t=="string"?WN[t]||WN[t.toLowerCase()]:void 0}function AC(t){var e={},n,r;for(r in t)Xn(t,r)&&(n=to(r),n&&(e[n]=t[r]));return e}var ZU={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function JU(t){var e=[],n;for(n in t)Xn(t,n)&&e.push({unit:n,priority:ZU[n]});return e.sort(function(r,s){return r.priority-s.priority}),e}var FI=/\d/,ga=/\d\d/,BI=/\d{3}/,PC=/\d{4}/,Gx=/[+-]?\d{6}/,Er=/\d\d?/,$I=/\d\d\d\d?/,zI=/\d\d\d\d\d\d?/,Kx=/\d{1,3}/,IC=/\d{1,4}/,Xx=/[+-]?\d{1,6}/,dp=/\d+/,Qx=/[+-]?\d+/,eH=/Z|[+-]\d\d:?\d\d/gi,Zx=/Z|[+-]\d\d(?::?\d\d)?/gi,tH=/[+-]?\d+(\.\d{1,3})?/,e0=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,hp=/^[1-9]\d?/,OC=/^([1-9]\d|\d)/,Nb;Nb={};function Qt(t,e,n){Nb[t]=Nl(e)?e:function(r,s){return r&&n?n:e}}function nH(t,e){return Xn(Nb,t)?Nb[t](e._strict,e._locale):new RegExp(rH(t))}function rH(t){return cc(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,r,s,i){return n||r||s||i}))}function cc(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function $a(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function Ln(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=$a(e)),n}var F2={};function pr(t,e){var n,r=e,s;for(typeof t=="string"&&(t=[t]),mc(e)&&(r=function(i,a){a[e]=Ln(i)}),s=t.length,n=0;n<s;n++)F2[t[n]]=r}function t0(t,e){pr(t,function(n,r,s,i){s._w=s._w||{},e(n,s._w,s,i)})}function sH(t,e,n){e!=null&&Xn(F2,t)&&F2[t](e,n._a,n,t)}function Jx(t){return t%4===0&&t%100!==0||t%400===0}var Qs=0,ac=1,fl=2,hs=3,ko=4,oc=5,Dd=6,iH=7,aH=8;un("Y",0,0,function(){var t=this.year();return t<=9999?Sl(t,4):"+"+t});un(0,["YY",2],0,function(){return this.year()%100});un(0,["YYYY",4],0,"year");un(0,["YYYYY",5],0,"year");un(0,["YYYYYY",6,!0],0,"year");Qt("Y",Qx);Qt("YY",Er,ga);Qt("YYYY",IC,PC);Qt("YYYYY",Xx,Gx);Qt("YYYYYY",Xx,Gx);pr(["YYYYY","YYYYYY"],Qs);pr("YYYY",function(t,e){e[Qs]=t.length===2?zt.parseTwoDigitYear(t):Ln(t)});pr("YY",function(t,e){e[Qs]=zt.parseTwoDigitYear(t)});pr("Y",function(t,e){e[Qs]=parseInt(t,10)});function Hm(t){return Jx(t)?366:365}zt.parseTwoDigitYear=function(t){return Ln(t)+(Ln(t)>68?1900:2e3)};var UI=fp("FullYear",!0);function oH(){return Jx(this.year())}function fp(t,e){return function(n){return n!=null?(HI(this,t,n),zt.updateOffset(this,e),this):dg(this,t)}}function dg(t,e){if(!t.isValid())return NaN;var n=t._d,r=t._isUTC;switch(e){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function HI(t,e,n){var r,s,i,a,l;if(!(!t.isValid()||isNaN(n))){switch(r=t._d,s=t._isUTC,e){case"Milliseconds":return void(s?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(s?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(s?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(s?r.setUTCHours(n):r.setHours(n));case"Date":return void(s?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}i=n,a=t.month(),l=t.date(),l=l===29&&a===1&&!Jx(i)?28:l,s?r.setUTCFullYear(i,a,l):r.setFullYear(i,a,l)}}function lH(t){return t=to(t),Nl(this[t])?this[t]():this}function cH(t,e){if(typeof t=="object"){t=AC(t);var n=JU(t),r,s=n.length;for(r=0;r<s;r++)this[n[r].unit](t[n[r].unit])}else if(t=to(t),Nl(this[t]))return this[t](e);return this}function uH(t,e){return(t%e+e)%e}var Qr;Array.prototype.indexOf?Qr=Array.prototype.indexOf:Qr=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function MC(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=uH(e,12);return t+=(e-n)/12,n===1?Jx(t)?29:28:31-n%7%2}un("M",["MM",2],"Mo",function(){return this.month()+1});un("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});un("MMMM",0,0,function(t){return this.localeData().months(this,t)});Qt("M",Er,hp);Qt("MM",Er,ga);Qt("MMM",function(t,e){return e.monthsShortRegex(t)});Qt("MMMM",function(t,e){return e.monthsRegex(t)});pr(["M","MM"],function(t,e){e[ac]=Ln(t)-1});pr(["MMM","MMMM"],function(t,e,n,r){var s=n._locale.monthsParse(t,r,n._strict);s!=null?e[ac]=s:Dn(n).invalidMonth=t});var dH="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),WI="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),VI=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,hH=e0,fH=e0;function pH(t,e){return t?No(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||VI).test(e)?"format":"standalone"][t.month()]:No(this._months)?this._months:this._months.standalone}function mH(t,e){return t?No(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[VI.test(e)?"format":"standalone"][t.month()]:No(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function gH(t,e,n){var r,s,i,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=jl([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?e==="MMM"?(s=Qr.call(this._shortMonthsParse,a),s!==-1?s:null):(s=Qr.call(this._longMonthsParse,a),s!==-1?s:null):e==="MMM"?(s=Qr.call(this._shortMonthsParse,a),s!==-1?s:(s=Qr.call(this._longMonthsParse,a),s!==-1?s:null)):(s=Qr.call(this._longMonthsParse,a),s!==-1?s:(s=Qr.call(this._shortMonthsParse,a),s!==-1?s:null))}function yH(t,e,n){var r,s,i;if(this._monthsParseExact)return gH.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(s=jl([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(i="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[r].test(t))return r;if(n&&e==="MMM"&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function qI(t,e){if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=Ln(e);else if(e=t.localeData().monthsParse(e),!mc(e))return t}var n=e,r=t.date();return r=r<29?r:Math.min(r,MC(t.year(),n)),t._isUTC?t._d.setUTCMonth(n,r):t._d.setMonth(n,r),t}function YI(t){return t!=null?(qI(this,t),zt.updateOffset(this,!0),this):dg(this,"Month")}function bH(){return MC(this.year(),this.month())}function xH(t){return this._monthsParseExact?(Xn(this,"_monthsRegex")||GI.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(Xn(this,"_monthsShortRegex")||(this._monthsShortRegex=hH),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function vH(t){return this._monthsParseExact?(Xn(this,"_monthsRegex")||GI.call(this),t?this._monthsStrictRegex:this._monthsRegex):(Xn(this,"_monthsRegex")||(this._monthsRegex=fH),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function GI(){function t(c,u){return u.length-c.length}var e=[],n=[],r=[],s,i,a,l;for(s=0;s<12;s++)i=jl([2e3,s]),a=cc(this.monthsShort(i,"")),l=cc(this.months(i,"")),e.push(a),n.push(l),r.push(l),r.push(a);e.sort(t),n.sort(t),r.sort(t),this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function _H(t,e,n,r,s,i,a){var l;return t<100&&t>=0?(l=new Date(t+400,e,n,r,s,i,a),isFinite(l.getFullYear())&&l.setFullYear(t)):l=new Date(t,e,n,r,s,i,a),l}function hg(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function Db(t,e,n){var r=7+e-n,s=(7+hg(t,0,r).getUTCDay()-e)%7;return-s+r-1}function KI(t,e,n,r,s){var i=(7+n-r)%7,a=Db(t,r,s),l=1+7*(e-1)+i+a,c,u;return l<=0?(c=t-1,u=Hm(c)+l):l>Hm(t)?(c=t+1,u=l-Hm(t)):(c=t,u=l),{year:c,dayOfYear:u}}function fg(t,e,n){var r=Db(t.year(),e,n),s=Math.floor((t.dayOfYear()-r-1)/7)+1,i,a;return s<1?(a=t.year()-1,i=s+uc(a,e,n)):s>uc(t.year(),e,n)?(i=s-uc(t.year(),e,n),a=t.year()+1):(a=t.year(),i=s),{week:i,year:a}}function uc(t,e,n){var r=Db(t,e,n),s=Db(t+1,e,n);return(Hm(t)-r+s)/7}un("w",["ww",2],"wo","week");un("W",["WW",2],"Wo","isoWeek");Qt("w",Er,hp);Qt("ww",Er,ga);Qt("W",Er,hp);Qt("WW",Er,ga);t0(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=Ln(t)});function wH(t){return fg(t,this._week.dow,this._week.doy).week}var SH={dow:0,doy:6};function CH(){return this._week.dow}function TH(){return this._week.doy}function kH(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function EH(t){var e=fg(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}un("d",0,"do","day");un("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});un("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});un("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});un("e",0,0,"weekday");un("E",0,0,"isoWeekday");Qt("d",Er);Qt("e",Er);Qt("E",Er);Qt("dd",function(t,e){return e.weekdaysMinRegex(t)});Qt("ddd",function(t,e){return e.weekdaysShortRegex(t)});Qt("dddd",function(t,e){return e.weekdaysRegex(t)});t0(["dd","ddd","dddd"],function(t,e,n,r){var s=n._locale.weekdaysParse(t,r,n._strict);s!=null?e.d=s:Dn(n).invalidWeekday=t});t0(["d","e","E"],function(t,e,n,r){e[r]=Ln(t)});function jH(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function NH(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function RC(t,e){return t.slice(e,7).concat(t.slice(0,e))}var DH="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),XI="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),AH="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),PH=e0,IH=e0,OH=e0;function MH(t,e){var n=No(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?RC(n,this._week.dow):t?n[t.day()]:n}function RH(t){return t===!0?RC(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function LH(t){return t===!0?RC(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function FH(t,e,n){var r,s,i,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=jl([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?e==="dddd"?(s=Qr.call(this._weekdaysParse,a),s!==-1?s:null):e==="ddd"?(s=Qr.call(this._shortWeekdaysParse,a),s!==-1?s:null):(s=Qr.call(this._minWeekdaysParse,a),s!==-1?s:null):e==="dddd"?(s=Qr.call(this._weekdaysParse,a),s!==-1||(s=Qr.call(this._shortWeekdaysParse,a),s!==-1)?s:(s=Qr.call(this._minWeekdaysParse,a),s!==-1?s:null)):e==="ddd"?(s=Qr.call(this._shortWeekdaysParse,a),s!==-1||(s=Qr.call(this._weekdaysParse,a),s!==-1)?s:(s=Qr.call(this._minWeekdaysParse,a),s!==-1?s:null)):(s=Qr.call(this._minWeekdaysParse,a),s!==-1||(s=Qr.call(this._weekdaysParse,a),s!==-1)?s:(s=Qr.call(this._shortWeekdaysParse,a),s!==-1?s:null))}function BH(t,e,n){var r,s,i;if(this._weekdaysParseExact)return FH.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(s=jl([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(s,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(s,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(s,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[r].test(t))return r;if(n&&e==="ddd"&&this._shortWeekdaysParse[r].test(t))return r;if(n&&e==="dd"&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function $H(t){if(!this.isValid())return t!=null?this:NaN;var e=dg(this,"Day");return t!=null?(t=jH(t,this.localeData()),this.add(t-e,"d")):e}function zH(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function UH(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=NH(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function HH(t){return this._weekdaysParseExact?(Xn(this,"_weekdaysRegex")||LC.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(Xn(this,"_weekdaysRegex")||(this._weekdaysRegex=PH),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function WH(t){return this._weekdaysParseExact?(Xn(this,"_weekdaysRegex")||LC.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Xn(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=IH),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function VH(t){return this._weekdaysParseExact?(Xn(this,"_weekdaysRegex")||LC.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Xn(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=OH),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function LC(){function t(h,f){return f.length-h.length}var e=[],n=[],r=[],s=[],i,a,l,c,u;for(i=0;i<7;i++)a=jl([2e3,1]).day(i),l=cc(this.weekdaysMin(a,"")),c=cc(this.weekdaysShort(a,"")),u=cc(this.weekdays(a,"")),e.push(l),n.push(c),r.push(u),s.push(l),s.push(c),s.push(u);e.sort(t),n.sort(t),r.sort(t),s.sort(t),this._weekdaysRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function FC(){return this.hours()%12||12}function qH(){return this.hours()||24}un("H",["HH",2],0,"hour");un("h",["hh",2],0,FC);un("k",["kk",2],0,qH);un("hmm",0,0,function(){return""+FC.apply(this)+Sl(this.minutes(),2)});un("hmmss",0,0,function(){return""+FC.apply(this)+Sl(this.minutes(),2)+Sl(this.seconds(),2)});un("Hmm",0,0,function(){return""+this.hours()+Sl(this.minutes(),2)});un("Hmmss",0,0,function(){return""+this.hours()+Sl(this.minutes(),2)+Sl(this.seconds(),2)});function QI(t,e){un(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}QI("a",!0);QI("A",!1);function ZI(t,e){return e._meridiemParse}Qt("a",ZI);Qt("A",ZI);Qt("H",Er,OC);Qt("h",Er,hp);Qt("k",Er,hp);Qt("HH",Er,ga);Qt("hh",Er,ga);Qt("kk",Er,ga);Qt("hmm",$I);Qt("hmmss",zI);Qt("Hmm",$I);Qt("Hmmss",zI);pr(["H","HH"],hs);pr(["k","kk"],function(t,e,n){var r=Ln(t);e[hs]=r===24?0:r});pr(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});pr(["h","hh"],function(t,e,n){e[hs]=Ln(t),Dn(n).bigHour=!0});pr("hmm",function(t,e,n){var r=t.length-2;e[hs]=Ln(t.substr(0,r)),e[ko]=Ln(t.substr(r)),Dn(n).bigHour=!0});pr("hmmss",function(t,e,n){var r=t.length-4,s=t.length-2;e[hs]=Ln(t.substr(0,r)),e[ko]=Ln(t.substr(r,2)),e[oc]=Ln(t.substr(s)),Dn(n).bigHour=!0});pr("Hmm",function(t,e,n){var r=t.length-2;e[hs]=Ln(t.substr(0,r)),e[ko]=Ln(t.substr(r))});pr("Hmmss",function(t,e,n){var r=t.length-4,s=t.length-2;e[hs]=Ln(t.substr(0,r)),e[ko]=Ln(t.substr(r,2)),e[oc]=Ln(t.substr(s))});function YH(t){return(t+"").toLowerCase().charAt(0)==="p"}var GH=/[ap]\.?m?\.?/i,KH=fp("Hours",!0);function XH(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var JI={calendar:FU,longDateFormat:UU,invalidDate:WU,ordinal:qU,dayOfMonthOrdinalParse:YU,relativeTime:KU,months:dH,monthsShort:WI,week:SH,weekdays:DH,weekdaysMin:AH,weekdaysShort:XI,meridiemParse:GH},Ar={},dm={},pg;function QH(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function VN(t){return t&&t.toLowerCase().replace("_","-")}function ZH(t){for(var e=0,n,r,s,i;e<t.length;){for(i=VN(t[e]).split("-"),n=i.length,r=VN(t[e+1]),r=r?r.split("-"):null;n>0;){if(s=ev(i.slice(0,n).join("-")),s)return s;if(r&&r.length>=n&&QH(i,r)>=n-1)break;n--}e++}return pg}function JH(t){return!!(t&&t.match("^[^/\\\\]*$"))}function ev(t){var e=null,n;if(Ar[t]===void 0&&typeof module<"u"&&module&&module.exports&&JH(t))try{e=pg._abbr,n=require,n("./locale/"+t),xu(e)}catch{Ar[t]=null}return Ar[t]}function xu(t,e){var n;return t&&(Fi(e)?n=_c(t):n=BC(t,e),n?pg=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),pg._abbr}function BC(t,e){if(e!==null){var n,r=JI;if(e.abbr=t,Ar[t]!=null)RI("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Ar[t]._config;else if(e.parentLocale!=null)if(Ar[e.parentLocale]!=null)r=Ar[e.parentLocale]._config;else if(n=ev(e.parentLocale),n!=null)r=n._config;else return dm[e.parentLocale]||(dm[e.parentLocale]=[]),dm[e.parentLocale].push({name:t,config:e}),null;return Ar[t]=new NC(R2(r,e)),dm[t]&&dm[t].forEach(function(s){BC(s.name,s.config)}),xu(t),Ar[t]}else return delete Ar[t],null}function eW(t,e){if(e!=null){var n,r,s=JI;Ar[t]!=null&&Ar[t].parentLocale!=null?Ar[t].set(R2(Ar[t]._config,e)):(r=ev(t),r!=null&&(s=r._config),e=R2(s,e),r==null&&(e.abbr=t),n=new NC(e),n.parentLocale=Ar[t],Ar[t]=n),xu(t)}else Ar[t]!=null&&(Ar[t].parentLocale!=null?(Ar[t]=Ar[t].parentLocale,t===xu()&&xu(t)):Ar[t]!=null&&delete Ar[t]);return Ar[t]}function _c(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return pg;if(!No(t)){if(e=ev(t),e)return e;t=[t]}return ZH(t)}function tW(){return L2(Ar)}function $C(t){var e,n=t._a;return n&&Dn(t).overflow===-2&&(e=n[ac]<0||n[ac]>11?ac:n[fl]<1||n[fl]>MC(n[Qs],n[ac])?fl:n[hs]<0||n[hs]>24||n[hs]===24&&(n[ko]!==0||n[oc]!==0||n[Dd]!==0)?hs:n[ko]<0||n[ko]>59?ko:n[oc]<0||n[oc]>59?oc:n[Dd]<0||n[Dd]>999?Dd:-1,Dn(t)._overflowDayOfYear&&(e<Qs||e>fl)&&(e=fl),Dn(t)._overflowWeeks&&e===-1&&(e=iH),Dn(t)._overflowWeekday&&e===-1&&(e=aH),Dn(t).overflow=e),t}var nW=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,rW=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,sW=/Z|[+-]\d\d(?::?\d\d)?/,py=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],I_=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],iW=/^\/?Date\((-?\d+)/i,aW=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,oW={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function eO(t){var e,n,r=t._i,s=nW.exec(r)||rW.exec(r),i,a,l,c,u=py.length,h=I_.length;if(s){for(Dn(t).iso=!0,e=0,n=u;e<n;e++)if(py[e][1].exec(s[1])){a=py[e][0],i=py[e][2]!==!1;break}if(a==null){t._isValid=!1;return}if(s[3]){for(e=0,n=h;e<n;e++)if(I_[e][1].exec(s[3])){l=(s[2]||" ")+I_[e][0];break}if(l==null){t._isValid=!1;return}}if(!i&&l!=null){t._isValid=!1;return}if(s[4])if(sW.exec(s[4]))c="Z";else{t._isValid=!1;return}t._f=a+(l||"")+(c||""),UC(t)}else t._isValid=!1}function lW(t,e,n,r,s,i){var a=[cW(t),WI.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(s,10)];return i&&a.push(parseInt(i,10)),a}function cW(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function uW(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function dW(t,e,n){if(t){var r=XI.indexOf(t),s=new Date(e[0],e[1],e[2]).getDay();if(r!==s)return Dn(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function hW(t,e,n){if(t)return oW[t];if(e)return 0;var r=parseInt(n,10),s=r%100,i=(r-s)/100;return i*60+s}function tO(t){var e=aW.exec(uW(t._i)),n;if(e){if(n=lW(e[4],e[3],e[2],e[5],e[6],e[7]),!dW(e[1],n,t))return;t._a=n,t._tzm=hW(e[8],e[9],e[10]),t._d=hg.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),Dn(t).rfc2822=!0}else t._isValid=!1}function fW(t){var e=iW.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(eO(t),t._isValid===!1)delete t._isValid;else return;if(tO(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:zt.createFromInputFallback(t)}zt.createFromInputFallback=eo("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function lf(t,e,n){return t??e??n}function pW(t){var e=new Date(zt.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function zC(t){var e,n,r=[],s,i,a;if(!t._d){for(s=pW(t),t._w&&t._a[fl]==null&&t._a[ac]==null&&mW(t),t._dayOfYear!=null&&(a=lf(t._a[Qs],s[Qs]),(t._dayOfYear>Hm(a)||t._dayOfYear===0)&&(Dn(t)._overflowDayOfYear=!0),n=hg(a,0,t._dayOfYear),t._a[ac]=n.getUTCMonth(),t._a[fl]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=r[e]=s[e];for(;e<7;e++)t._a[e]=r[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[hs]===24&&t._a[ko]===0&&t._a[oc]===0&&t._a[Dd]===0&&(t._nextDay=!0,t._a[hs]=0),t._d=(t._useUTC?hg:_H).apply(null,r),i=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[hs]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==i&&(Dn(t).weekdayMismatch=!0)}}function mW(t){var e,n,r,s,i,a,l,c,u;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(i=1,a=4,n=lf(e.GG,t._a[Qs],fg(kr(),1,4).year),r=lf(e.W,1),s=lf(e.E,1),(s<1||s>7)&&(c=!0)):(i=t._locale._week.dow,a=t._locale._week.doy,u=fg(kr(),i,a),n=lf(e.gg,t._a[Qs],u.year),r=lf(e.w,u.week),e.d!=null?(s=e.d,(s<0||s>6)&&(c=!0)):e.e!=null?(s=e.e+i,(e.e<0||e.e>6)&&(c=!0)):s=i),r<1||r>uc(n,i,a)?Dn(t)._overflowWeeks=!0:c!=null?Dn(t)._overflowWeekday=!0:(l=KI(n,r,s,i,a),t._a[Qs]=l.year,t._dayOfYear=l.dayOfYear)}zt.ISO_8601=function(){};zt.RFC_2822=function(){};function UC(t){if(t._f===zt.ISO_8601){eO(t);return}if(t._f===zt.RFC_2822){tO(t);return}t._a=[],Dn(t).empty=!0;var e=""+t._i,n,r,s,i,a,l=e.length,c=0,u,h;for(s=LI(t._f,t._locale).match(DC)||[],h=s.length,n=0;n<h;n++)i=s[n],r=(e.match(nH(i,t))||[])[0],r&&(a=e.substr(0,e.indexOf(r)),a.length>0&&Dn(t).unusedInput.push(a),e=e.slice(e.indexOf(r)+r.length),c+=r.length),xf[i]?(r?Dn(t).empty=!1:Dn(t).unusedTokens.push(i),sH(i,r,t)):t._strict&&!r&&Dn(t).unusedTokens.push(i);Dn(t).charsLeftOver=l-c,e.length>0&&Dn(t).unusedInput.push(e),t._a[hs]<=12&&Dn(t).bigHour===!0&&t._a[hs]>0&&(Dn(t).bigHour=void 0),Dn(t).parsedDateParts=t._a.slice(0),Dn(t).meridiem=t._meridiem,t._a[hs]=gW(t._locale,t._a[hs],t._meridiem),u=Dn(t).era,u!==null&&(t._a[Qs]=t._locale.erasConvertYear(u,t._a[Qs])),zC(t),$C(t)}function gW(t,e,n){var r;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(r=t.isPM(n),r&&e<12&&(e+=12),!r&&e===12&&(e=0)),e)}function yW(t){var e,n,r,s,i,a,l=!1,c=t._f.length;if(c===0){Dn(t).invalidFormat=!0,t._d=new Date(NaN);return}for(s=0;s<c;s++)i=0,a=!1,e=jC({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[s],UC(e),EC(e)&&(a=!0),i+=Dn(e).charsLeftOver,i+=Dn(e).unusedTokens.length*10,Dn(e).score=i,l?i<r&&(r=i,n=e):(r==null||i<r||a)&&(r=i,n=e,a&&(l=!0));mu(t,n||e)}function bW(t){if(!t._d){var e=AC(t._i),n=e.day===void 0?e.date:e.day;t._a=OI([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(r){return r&&parseInt(r,10)}),zC(t)}}function xW(t){var e=new Jg($C(nO(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function nO(t){var e=t._i,n=t._f;return t._locale=t._locale||_c(t._l),e===null||n===void 0&&e===""?Yx({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),Do(e)?new Jg($C(e)):(Zg(e)?t._d=e:No(n)?yW(t):n?UC(t):vW(t),EC(t)||(t._d=null),t))}function vW(t){var e=t._i;Fi(e)?t._d=new Date(zt.now()):Zg(e)?t._d=new Date(e.valueOf()):typeof e=="string"?fW(t):No(e)?(t._a=OI(e.slice(0),function(n){return parseInt(n,10)}),zC(t)):Ld(e)?bW(t):mc(e)?t._d=new Date(e):zt.createFromInputFallback(t)}function rO(t,e,n,r,s){var i={};return(e===!0||e===!1)&&(r=e,e=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(Ld(t)&&kC(t)||No(t)&&t.length===0)&&(t=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=s,i._l=n,i._i=t,i._f=e,i._strict=r,xW(i)}function kr(t,e,n,r){return rO(t,e,n,r,!1)}var _W=eo("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=kr.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:Yx()}),wW=eo("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=kr.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:Yx()});function sO(t,e){var n,r;if(e.length===1&&No(e[0])&&(e=e[0]),!e.length)return kr();for(n=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](n))&&(n=e[r]);return n}function SW(){var t=[].slice.call(arguments,0);return sO("isBefore",t)}function CW(){var t=[].slice.call(arguments,0);return sO("isAfter",t)}var TW=function(){return Date.now?Date.now():+new Date},hm=["year","quarter","month","week","day","hour","minute","second","millisecond"];function kW(t){var e,n=!1,r,s=hm.length;for(e in t)if(Xn(t,e)&&!(Qr.call(hm,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(r=0;r<s;++r)if(t[hm[r]]){if(n)return!1;parseFloat(t[hm[r]])!==Ln(t[hm[r]])&&(n=!0)}return!0}function EW(){return this._isValid}function jW(){return Oo(NaN)}function tv(t){var e=AC(t),n=e.year||0,r=e.quarter||0,s=e.month||0,i=e.week||e.isoWeek||0,a=e.day||0,l=e.hour||0,c=e.minute||0,u=e.second||0,h=e.millisecond||0;this._isValid=kW(e),this._milliseconds=+h+u*1e3+c*6e4+l*1e3*60*60,this._days=+a+i*7,this._months=+s+r*3+n*12,this._data={},this._locale=_c(),this._bubble()}function rb(t){return t instanceof tv}function B2(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function NW(t,e,n){var r=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),i=0,a;for(a=0;a<r;a++)Ln(t[a])!==Ln(e[a])&&i++;return i+s}function iO(t,e){un(t,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+Sl(~~(n/60),2)+e+Sl(~~n%60,2)})}iO("Z",":");iO("ZZ","");Qt("Z",Zx);Qt("ZZ",Zx);pr(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=HC(Zx,t)});var DW=/([\+\-]|\d\d)/gi;function HC(t,e){var n=(e||"").match(t),r,s,i;return n===null?null:(r=n[n.length-1]||[],s=(r+"").match(DW)||["-",0,0],i=+(s[1]*60)+Ln(s[2]),i===0?0:s[0]==="+"?i:-i)}function WC(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(Do(t)||Zg(t)?t.valueOf():kr(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),zt.updateOffset(n,!1),n):kr(t).local()}function $2(t){return-Math.round(t._d.getTimezoneOffset())}zt.updateOffset=function(){};function AW(t,e,n){var r=this._offset||0,s;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=HC(Zx,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(s=$2(this)),this._offset=t,this._isUTC=!0,s!=null&&this.add(s,"m"),r!==t&&(!e||this._changeInProgress?lO(this,Oo(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,zt.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:$2(this)}function PW(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function IW(t){return this.utcOffset(0,t)}function OW(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract($2(this),"m")),this}function MW(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=HC(eH,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function RW(t){return this.isValid()?(t=t?kr(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function LW(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function FW(){if(!Fi(this._isDSTShifted))return this._isDSTShifted;var t={},e;return jC(t,this),t=nO(t),t._a?(e=t._isUTC?jl(t._a):kr(t._a),this._isDSTShifted=this.isValid()&&NW(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function BW(){return this.isValid()?!this._isUTC:!1}function $W(){return this.isValid()?this._isUTC:!1}function aO(){return this.isValid()?this._isUTC&&this._offset===0:!1}var zW=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,UW=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Oo(t,e){var n=t,r=null,s,i,a;return rb(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:mc(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(r=zW.exec(t))?(s=r[1]==="-"?-1:1,n={y:0,d:Ln(r[fl])*s,h:Ln(r[hs])*s,m:Ln(r[ko])*s,s:Ln(r[oc])*s,ms:Ln(B2(r[Dd]*1e3))*s}):(r=UW.exec(t))?(s=r[1]==="-"?-1:1,n={y:hd(r[2],s),M:hd(r[3],s),w:hd(r[4],s),d:hd(r[5],s),h:hd(r[6],s),m:hd(r[7],s),s:hd(r[8],s)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(a=HW(kr(n.from),kr(n.to)),n={},n.ms=a.milliseconds,n.M=a.months),i=new tv(n),rb(t)&&Xn(t,"_locale")&&(i._locale=t._locale),rb(t)&&Xn(t,"_isValid")&&(i._isValid=t._isValid),i}Oo.fn=tv.prototype;Oo.invalid=jW;function hd(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function qN(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function HW(t,e){var n;return t.isValid()&&e.isValid()?(e=WC(e,t),t.isBefore(e)?n=qN(t,e):(n=qN(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function oO(t,e){return function(n,r){var s,i;return r!==null&&!isNaN(+r)&&(RI(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),s=Oo(n,r),lO(this,s,t),this}}function lO(t,e,n,r){var s=e._milliseconds,i=B2(e._days),a=B2(e._months);t.isValid()&&(r=r??!0,a&&qI(t,dg(t,"Month")+a*n),i&&HI(t,"Date",dg(t,"Date")+i*n),s&&t._d.setTime(t._d.valueOf()+s*n),r&&zt.updateOffset(t,i||a))}var WW=oO(1,"add"),VW=oO(-1,"subtract");function cO(t){return typeof t=="string"||t instanceof String}function qW(t){return Do(t)||Zg(t)||cO(t)||mc(t)||GW(t)||YW(t)||t===null||t===void 0}function YW(t){var e=Ld(t)&&!kC(t),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],s,i,a=r.length;for(s=0;s<a;s+=1)i=r[s],n=n||Xn(t,i);return e&&n}function GW(t){var e=No(t),n=!1;return e&&(n=t.filter(function(r){return!mc(r)&&cO(t)}).length===0),e&&n}function KW(t){var e=Ld(t)&&!kC(t),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],s,i;for(s=0;s<r.length;s+=1)i=r[s],n=n||Xn(t,i);return e&&n}function XW(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function QW(t,e){arguments.length===1&&(arguments[0]?qW(arguments[0])?(t=arguments[0],e=void 0):KW(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||kr(),r=WC(n,this).startOf("day"),s=zt.calendarFormat(this,r)||"sameElse",i=e&&(Nl(e[s])?e[s].call(this,n):e[s]);return this.format(i||this.localeData().calendar(s,this,kr(n)))}function ZW(){return new Jg(this)}function JW(t,e){var n=Do(t)?t:kr(t);return this.isValid()&&n.isValid()?(e=to(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function eV(t,e){var n=Do(t)?t:kr(t);return this.isValid()&&n.isValid()?(e=to(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function tV(t,e,n,r){var s=Do(t)?t:kr(t),i=Do(e)?e:kr(e);return this.isValid()&&s.isValid()&&i.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(s,n):!this.isBefore(s,n))&&(r[1]===")"?this.isBefore(i,n):!this.isAfter(i,n))):!1}function nV(t,e){var n=Do(t)?t:kr(t),r;return this.isValid()&&n.isValid()?(e=to(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf())):!1}function rV(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function sV(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function iV(t,e,n){var r,s,i;if(!this.isValid())return NaN;if(r=WC(t,this),!r.isValid())return NaN;switch(s=(r.utcOffset()-this.utcOffset())*6e4,e=to(e),e){case"year":i=sb(this,r)/12;break;case"month":i=sb(this,r);break;case"quarter":i=sb(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-s)/864e5;break;case"week":i=(this-r-s)/6048e5;break;default:i=this-r}return n?i:$a(i)}function sb(t,e){if(t.date()<e.date())return-sb(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),r=t.clone().add(n,"months"),s,i;return e-r<0?(s=t.clone().add(n-1,"months"),i=(e-r)/(r-s)):(s=t.clone().add(n+1,"months"),i=(e-r)/(s-r)),-(n+i)||0}zt.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";zt.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function aV(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function oV(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?nb(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Nl(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",nb(n,"Z")):nb(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function lV(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,r,s,i;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",s="-MM-DD[T]HH:mm:ss.SSS",i=e+'[")]',this.format(n+r+s+i)}function cV(t){t||(t=this.isUtc()?zt.defaultFormatUtc:zt.defaultFormat);var e=nb(this,t);return this.localeData().postformat(e)}function uV(t,e){return this.isValid()&&(Do(t)&&t.isValid()||kr(t).isValid())?Oo({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function dV(t){return this.from(kr(),t)}function hV(t,e){return this.isValid()&&(Do(t)&&t.isValid()||kr(t).isValid())?Oo({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function fV(t){return this.to(kr(),t)}function uO(t){var e;return t===void 0?this._locale._abbr:(e=_c(t),e!=null&&(this._locale=e),this)}var dO=eo("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function hO(){return this._locale}var Ab=1e3,vf=60*Ab,Pb=60*vf,fO=(365*400+97)*24*Pb;function _f(t,e){return(t%e+e)%e}function pO(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-fO:new Date(t,e,n).valueOf()}function mO(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-fO:Date.UTC(t,e,n)}function pV(t){var e,n;if(t=to(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?mO:pO,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=_f(e+(this._isUTC?0:this.utcOffset()*vf),Pb);break;case"minute":e=this._d.valueOf(),e-=_f(e,vf);break;case"second":e=this._d.valueOf(),e-=_f(e,Ab);break}return this._d.setTime(e),zt.updateOffset(this,!0),this}function mV(t){var e,n;if(t=to(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?mO:pO,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=Pb-_f(e+(this._isUTC?0:this.utcOffset()*vf),Pb)-1;break;case"minute":e=this._d.valueOf(),e+=vf-_f(e,vf)-1;break;case"second":e=this._d.valueOf(),e+=Ab-_f(e,Ab)-1;break}return this._d.setTime(e),zt.updateOffset(this,!0),this}function gV(){return this._d.valueOf()-(this._offset||0)*6e4}function yV(){return Math.floor(this.valueOf()/1e3)}function bV(){return new Date(this.valueOf())}function xV(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function vV(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function _V(){return this.isValid()?this.toISOString():null}function wV(){return EC(this)}function SV(){return mu({},Dn(this))}function CV(){return Dn(this).overflow}function TV(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}un("N",0,0,"eraAbbr");un("NN",0,0,"eraAbbr");un("NNN",0,0,"eraAbbr");un("NNNN",0,0,"eraName");un("NNNNN",0,0,"eraNarrow");un("y",["y",1],"yo","eraYear");un("y",["yy",2],0,"eraYear");un("y",["yyy",3],0,"eraYear");un("y",["yyyy",4],0,"eraYear");Qt("N",VC);Qt("NN",VC);Qt("NNN",VC);Qt("NNNN",RV);Qt("NNNNN",LV);pr(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,r){var s=n._locale.erasParse(t,r,n._strict);s?Dn(n).era=s:Dn(n).invalidEra=t});Qt("y",dp);Qt("yy",dp);Qt("yyy",dp);Qt("yyyy",dp);Qt("yo",FV);pr(["y","yy","yyy","yyyy"],Qs);pr(["yo"],function(t,e,n,r){var s;n._locale._eraYearOrdinalRegex&&(s=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[Qs]=n._locale.eraYearOrdinalParse(t,s):e[Qs]=parseInt(t,10)});function kV(t,e){var n,r,s,i=this._eras||_c("en")._eras;for(n=0,r=i.length;n<r;++n){switch(typeof i[n].since){case"string":s=zt(i[n].since).startOf("day"),i[n].since=s.valueOf();break}switch(typeof i[n].until){case"undefined":i[n].until=1/0;break;case"string":s=zt(i[n].until).startOf("day").valueOf(),i[n].until=s.valueOf();break}}return i}function EV(t,e,n){var r,s,i=this.eras(),a,l,c;for(t=t.toUpperCase(),r=0,s=i.length;r<s;++r)if(a=i[r].name.toUpperCase(),l=i[r].abbr.toUpperCase(),c=i[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(l===t)return i[r];break;case"NNNN":if(a===t)return i[r];break;case"NNNNN":if(c===t)return i[r];break}else if([a,l,c].indexOf(t)>=0)return i[r]}function jV(t,e){var n=t.since<=t.until?1:-1;return e===void 0?zt(t.since).year():zt(t.since).year()+(e-t.offset)*n}function NV(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].name;return""}function DV(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].narrow;return""}function AV(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].abbr;return""}function PV(){var t,e,n,r,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t)if(n=s[t].since<=s[t].until?1:-1,r=this.clone().startOf("day").valueOf(),s[t].since<=r&&r<=s[t].until||s[t].until<=r&&r<=s[t].since)return(this.year()-zt(s[t].since).year())*n+s[t].offset;return this.year()}function IV(t){return Xn(this,"_erasNameRegex")||qC.call(this),t?this._erasNameRegex:this._erasRegex}function OV(t){return Xn(this,"_erasAbbrRegex")||qC.call(this),t?this._erasAbbrRegex:this._erasRegex}function MV(t){return Xn(this,"_erasNarrowRegex")||qC.call(this),t?this._erasNarrowRegex:this._erasRegex}function VC(t,e){return e.erasAbbrRegex(t)}function RV(t,e){return e.erasNameRegex(t)}function LV(t,e){return e.erasNarrowRegex(t)}function FV(t,e){return e._eraYearOrdinalRegex||dp}function qC(){var t=[],e=[],n=[],r=[],s,i,a,l,c,u=this.eras();for(s=0,i=u.length;s<i;++s)a=cc(u[s].name),l=cc(u[s].abbr),c=cc(u[s].narrow),e.push(a),t.push(l),n.push(c),r.push(a),r.push(l),r.push(c);this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}un(0,["gg",2],0,function(){return this.weekYear()%100});un(0,["GG",2],0,function(){return this.isoWeekYear()%100});function nv(t,e){un(0,[t,t.length],0,e)}nv("gggg","weekYear");nv("ggggg","weekYear");nv("GGGG","isoWeekYear");nv("GGGGG","isoWeekYear");Qt("G",Qx);Qt("g",Qx);Qt("GG",Er,ga);Qt("gg",Er,ga);Qt("GGGG",IC,PC);Qt("gggg",IC,PC);Qt("GGGGG",Xx,Gx);Qt("ggggg",Xx,Gx);t0(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=Ln(t)});t0(["gg","GG"],function(t,e,n,r){e[r]=zt.parseTwoDigitYear(t)});function BV(t){return gO.call(this,t,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function $V(t){return gO.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function zV(){return uc(this.year(),1,4)}function UV(){return uc(this.isoWeekYear(),1,4)}function HV(){var t=this.localeData()._week;return uc(this.year(),t.dow,t.doy)}function WV(){var t=this.localeData()._week;return uc(this.weekYear(),t.dow,t.doy)}function gO(t,e,n,r,s){var i;return t==null?fg(this,r,s).year:(i=uc(t,r,s),e>i&&(e=i),VV.call(this,t,e,n,r,s))}function VV(t,e,n,r,s){var i=KI(t,e,n,r,s),a=hg(i.year,0,i.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}un("Q",0,"Qo","quarter");Qt("Q",FI);pr("Q",function(t,e){e[ac]=(Ln(t)-1)*3});function qV(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}un("D",["DD",2],"Do","date");Qt("D",Er,hp);Qt("DD",Er,ga);Qt("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});pr(["D","DD"],fl);pr("Do",function(t,e){e[fl]=Ln(t.match(Er)[0])});var yO=fp("Date",!0);un("DDD",["DDDD",3],"DDDo","dayOfYear");Qt("DDD",Kx);Qt("DDDD",BI);pr(["DDD","DDDD"],function(t,e,n){n._dayOfYear=Ln(t)});function YV(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}un("m",["mm",2],0,"minute");Qt("m",Er,OC);Qt("mm",Er,ga);pr(["m","mm"],ko);var GV=fp("Minutes",!1);un("s",["ss",2],0,"second");Qt("s",Er,OC);Qt("ss",Er,ga);pr(["s","ss"],oc);var KV=fp("Seconds",!1);un("S",0,0,function(){return~~(this.millisecond()/100)});un(0,["SS",2],0,function(){return~~(this.millisecond()/10)});un(0,["SSS",3],0,"millisecond");un(0,["SSSS",4],0,function(){return this.millisecond()*10});un(0,["SSSSS",5],0,function(){return this.millisecond()*100});un(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});un(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});un(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});un(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Qt("S",Kx,FI);Qt("SS",Kx,ga);Qt("SSS",Kx,BI);var gu,bO;for(gu="SSSS";gu.length<=9;gu+="S")Qt(gu,dp);function XV(t,e){e[Dd]=Ln(("0."+t)*1e3)}for(gu="S";gu.length<=9;gu+="S")pr(gu,XV);bO=fp("Milliseconds",!1);un("z",0,0,"zoneAbbr");un("zz",0,0,"zoneName");function QV(){return this._isUTC?"UTC":""}function ZV(){return this._isUTC?"Coordinated Universal Time":""}var Ot=Jg.prototype;Ot.add=WW;Ot.calendar=QW;Ot.clone=ZW;Ot.diff=iV;Ot.endOf=mV;Ot.format=cV;Ot.from=uV;Ot.fromNow=dV;Ot.to=hV;Ot.toNow=fV;Ot.get=lH;Ot.invalidAt=CV;Ot.isAfter=JW;Ot.isBefore=eV;Ot.isBetween=tV;Ot.isSame=nV;Ot.isSameOrAfter=rV;Ot.isSameOrBefore=sV;Ot.isValid=wV;Ot.lang=dO;Ot.locale=uO;Ot.localeData=hO;Ot.max=wW;Ot.min=_W;Ot.parsingFlags=SV;Ot.set=cH;Ot.startOf=pV;Ot.subtract=VW;Ot.toArray=xV;Ot.toObject=vV;Ot.toDate=bV;Ot.toISOString=oV;Ot.inspect=lV;typeof Symbol<"u"&&Symbol.for!=null&&(Ot[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Ot.toJSON=_V;Ot.toString=aV;Ot.unix=yV;Ot.valueOf=gV;Ot.creationData=TV;Ot.eraName=NV;Ot.eraNarrow=DV;Ot.eraAbbr=AV;Ot.eraYear=PV;Ot.year=UI;Ot.isLeapYear=oH;Ot.weekYear=BV;Ot.isoWeekYear=$V;Ot.quarter=Ot.quarters=qV;Ot.month=YI;Ot.daysInMonth=bH;Ot.week=Ot.weeks=kH;Ot.isoWeek=Ot.isoWeeks=EH;Ot.weeksInYear=HV;Ot.weeksInWeekYear=WV;Ot.isoWeeksInYear=zV;Ot.isoWeeksInISOWeekYear=UV;Ot.date=yO;Ot.day=Ot.days=$H;Ot.weekday=zH;Ot.isoWeekday=UH;Ot.dayOfYear=YV;Ot.hour=Ot.hours=KH;Ot.minute=Ot.minutes=GV;Ot.second=Ot.seconds=KV;Ot.millisecond=Ot.milliseconds=bO;Ot.utcOffset=AW;Ot.utc=IW;Ot.local=OW;Ot.parseZone=MW;Ot.hasAlignedHourOffset=RW;Ot.isDST=LW;Ot.isLocal=BW;Ot.isUtcOffset=$W;Ot.isUtc=aO;Ot.isUTC=aO;Ot.zoneAbbr=QV;Ot.zoneName=ZV;Ot.dates=eo("dates accessor is deprecated. Use date instead.",yO);Ot.months=eo("months accessor is deprecated. Use month instead",YI);Ot.years=eo("years accessor is deprecated. Use year instead",UI);Ot.zone=eo("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",PW);Ot.isDSTShifted=eo("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",FW);function JV(t){return kr(t*1e3)}function eq(){return kr.apply(null,arguments).parseZone()}function xO(t){return t}var Qn=NC.prototype;Qn.calendar=BU;Qn.longDateFormat=HU;Qn.invalidDate=VU;Qn.ordinal=GU;Qn.preparse=xO;Qn.postformat=xO;Qn.relativeTime=XU;Qn.pastFuture=QU;Qn.set=LU;Qn.eras=kV;Qn.erasParse=EV;Qn.erasConvertYear=jV;Qn.erasAbbrRegex=OV;Qn.erasNameRegex=IV;Qn.erasNarrowRegex=MV;Qn.months=pH;Qn.monthsShort=mH;Qn.monthsParse=yH;Qn.monthsRegex=vH;Qn.monthsShortRegex=xH;Qn.week=wH;Qn.firstDayOfYear=TH;Qn.firstDayOfWeek=CH;Qn.weekdays=MH;Qn.weekdaysMin=LH;Qn.weekdaysShort=RH;Qn.weekdaysParse=BH;Qn.weekdaysRegex=HH;Qn.weekdaysShortRegex=WH;Qn.weekdaysMinRegex=VH;Qn.isPM=YH;Qn.meridiem=XH;function Ib(t,e,n,r){var s=_c(),i=jl().set(r,e);return s[n](i,t)}function vO(t,e,n){if(mc(t)&&(e=t,t=void 0),t=t||"",e!=null)return Ib(t,e,n,"month");var r,s=[];for(r=0;r<12;r++)s[r]=Ib(t,r,n,"month");return s}function YC(t,e,n,r){typeof t=="boolean"?(mc(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,mc(e)&&(n=e,e=void 0),e=e||"");var s=_c(),i=t?s._week.dow:0,a,l=[];if(n!=null)return Ib(e,(n+i)%7,r,"day");for(a=0;a<7;a++)l[a]=Ib(e,(a+i)%7,r,"day");return l}function tq(t,e){return vO(t,e,"months")}function nq(t,e){return vO(t,e,"monthsShort")}function rq(t,e,n){return YC(t,e,n,"weekdays")}function sq(t,e,n){return YC(t,e,n,"weekdaysShort")}function iq(t,e,n){return YC(t,e,n,"weekdaysMin")}xu("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=Ln(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});zt.lang=eo("moment.lang is deprecated. Use moment.locale instead.",xu);zt.langData=eo("moment.langData is deprecated. Use moment.localeData instead.",_c);var Kl=Math.abs;function aq(){var t=this._data;return this._milliseconds=Kl(this._milliseconds),this._days=Kl(this._days),this._months=Kl(this._months),t.milliseconds=Kl(t.milliseconds),t.seconds=Kl(t.seconds),t.minutes=Kl(t.minutes),t.hours=Kl(t.hours),t.months=Kl(t.months),t.years=Kl(t.years),this}function _O(t,e,n,r){var s=Oo(e,n);return t._milliseconds+=r*s._milliseconds,t._days+=r*s._days,t._months+=r*s._months,t._bubble()}function oq(t,e){return _O(this,t,e,1)}function lq(t,e){return _O(this,t,e,-1)}function YN(t){return t<0?Math.floor(t):Math.ceil(t)}function cq(){var t=this._milliseconds,e=this._days,n=this._months,r=this._data,s,i,a,l,c;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=YN(z2(n)+e)*864e5,e=0,n=0),r.milliseconds=t%1e3,s=$a(t/1e3),r.seconds=s%60,i=$a(s/60),r.minutes=i%60,a=$a(i/60),r.hours=a%24,e+=$a(a/24),c=$a(wO(e)),n+=c,e-=YN(z2(c)),l=$a(n/12),n%=12,r.days=e,r.months=n,r.years=l,this}function wO(t){return t*4800/146097}function z2(t){return t*146097/4800}function uq(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if(t=to(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+r/864e5,n=this._months+wO(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(z2(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return e*24+r/36e5;case"minute":return e*1440+r/6e4;case"second":return e*86400+r/1e3;case"millisecond":return Math.floor(e*864e5)+r;default:throw new Error("Unknown unit "+t)}}function wc(t){return function(){return this.as(t)}}var SO=wc("ms"),dq=wc("s"),hq=wc("m"),fq=wc("h"),pq=wc("d"),mq=wc("w"),gq=wc("M"),yq=wc("Q"),bq=wc("y"),xq=SO;function vq(){return Oo(this)}function _q(t){return t=to(t),this.isValid()?this[t+"s"]():NaN}function sh(t){return function(){return this.isValid()?this._data[t]:NaN}}var wq=sh("milliseconds"),Sq=sh("seconds"),Cq=sh("minutes"),Tq=sh("hours"),kq=sh("days"),Eq=sh("months"),jq=sh("years");function Nq(){return $a(this.days()/7)}var ec=Math.round,cf={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Dq(t,e,n,r,s){return s.relativeTime(e||1,!!n,t,r)}function Aq(t,e,n,r){var s=Oo(t).abs(),i=ec(s.as("s")),a=ec(s.as("m")),l=ec(s.as("h")),c=ec(s.as("d")),u=ec(s.as("M")),h=ec(s.as("w")),f=ec(s.as("y")),m=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||a<=1&&["m"]||a<n.m&&["mm",a]||l<=1&&["h"]||l<n.h&&["hh",l]||c<=1&&["d"]||c<n.d&&["dd",c];return n.w!=null&&(m=m||h<=1&&["w"]||h<n.w&&["ww",h]),m=m||u<=1&&["M"]||u<n.M&&["MM",u]||f<=1&&["y"]||["yy",f],m[2]=e,m[3]=+t>0,m[4]=r,Dq.apply(null,m)}function Pq(t){return t===void 0?ec:typeof t=="function"?(ec=t,!0):!1}function Iq(t,e){return cf[t]===void 0?!1:e===void 0?cf[t]:(cf[t]=e,t==="s"&&(cf.ss=e-1),!0)}function Oq(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=cf,s,i;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(r=Object.assign({},cf,e),e.s!=null&&e.ss==null&&(r.ss=e.s-1)),s=this.localeData(),i=Aq(this,!n,r,s),n&&(i=s.pastFuture(+this,i)),s.postformat(i)}var O_=Math.abs;function Yh(t){return(t>0)-(t<0)||+t}function rv(){if(!this.isValid())return this.localeData().invalidDate();var t=O_(this._milliseconds)/1e3,e=O_(this._days),n=O_(this._months),r,s,i,a,l=this.asSeconds(),c,u,h,f;return l?(r=$a(t/60),s=$a(r/60),t%=60,r%=60,i=$a(n/12),n%=12,a=t?t.toFixed(3).replace(/\.?0+$/,""):"",c=l<0?"-":"",u=Yh(this._months)!==Yh(l)?"-":"",h=Yh(this._days)!==Yh(l)?"-":"",f=Yh(this._milliseconds)!==Yh(l)?"-":"",c+"P"+(i?u+i+"Y":"")+(n?u+n+"M":"")+(e?h+e+"D":"")+(s||r||t?"T":"")+(s?f+s+"H":"")+(r?f+r+"M":"")+(t?f+a+"S":"")):"P0D"}var zn=tv.prototype;zn.isValid=EW;zn.abs=aq;zn.add=oq;zn.subtract=lq;zn.as=uq;zn.asMilliseconds=SO;zn.asSeconds=dq;zn.asMinutes=hq;zn.asHours=fq;zn.asDays=pq;zn.asWeeks=mq;zn.asMonths=gq;zn.asQuarters=yq;zn.asYears=bq;zn.valueOf=xq;zn._bubble=cq;zn.clone=vq;zn.get=_q;zn.milliseconds=wq;zn.seconds=Sq;zn.minutes=Cq;zn.hours=Tq;zn.days=kq;zn.weeks=Nq;zn.months=Eq;zn.years=jq;zn.humanize=Oq;zn.toISOString=rv;zn.toString=rv;zn.toJSON=rv;zn.locale=uO;zn.localeData=hO;zn.toIsoString=eo("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",rv);zn.lang=dO;un("X",0,0,"unix");un("x",0,0,"valueOf");Qt("x",Qx);Qt("X",tH);pr("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});pr("x",function(t,e,n){n._d=new Date(Ln(t))});//! moment.js
zt.version="2.30.1";MU(kr);zt.fn=Ot;zt.min=SW;zt.max=CW;zt.now=TW;zt.utc=jl;zt.unix=JV;zt.months=tq;zt.isDate=Zg;zt.locale=xu;zt.invalid=Yx;zt.duration=Oo;zt.isMoment=Do;zt.weekdays=rq;zt.parseZone=eq;zt.localeData=_c;zt.isDuration=rb;zt.monthsShort=nq;zt.weekdaysMin=iq;zt.defineLocale=BC;zt.updateLocale=eW;zt.locales=tW;zt.weekdaysShort=sq;zt.normalizeUnits=to;zt.relativeTimeRounding=Pq;zt.relativeTimeThreshold=Iq;zt.calendarFormat=XW;zt.prototype=Ot;zt.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};function GC(){const[t,e]=w.useState("");return w.useEffect(()=>{navigator.geolocation.getCurrentPosition(n=>{const{latitude:r,longitude:s}=n.coords,i=`https://nominatim.openstreetmap.org/reverse?format=json&lat=${r}&lon=${s}`;fetch(i).then(a=>a.json()).then(a=>e(a.address))})},[]),t}function Mq(){var g,b,y;const[t,e]=w.useState([]),[n,r]=w.useState(!0),[s,i]=w.useState("Add To Cart"),[a,l]=w.useContext(Yg),c=rh(),u=GC().country,h=Vt().user_id,f=()=>{vt().get(`course/course-detail/${c.slug}/`).then(x=>{e(x.data),r()})};w.useEffect(()=>{f()},[]);const m=async(x,_,S,T,D)=>{i("Adding To Cart");const j=new FormData;j.append("course_id",x),j.append("user_id",_),j.append("price",S),j.append("country_name",T),j.append("cart_id",D);try{await vt().post("course/cart/",j).then(A=>{i("Added To Cart"),dt().fire({title:"Added To Cart",icon:"success"}),oa.get(`course/cart-list/${To()}/`).then(O=>{var L;l((L=O.data)==null?void 0:L.length)})})}catch{i("Add To Cart")}};return o.jsxs(o.Fragment,{children:[o.jsx(BaseHeader,{}),o.jsx(o.Fragment,{children:n===!0?o.jsxs("p",{children:["Loading ",o.jsx("i",{className:"fas fa-spinner fa-spin"})]}):o.jsxs(o.Fragment,{children:[o.jsx("section",{className:"bg-light py-0 py-sm-5",children:o.jsx("div",{className:"container",children:o.jsx("div",{className:"row py-5",children:o.jsxs("div",{className:"col-lg-8",children:[o.jsx("h6",{className:"mb-3 font-base bg-primary text-white py-2 px-4 rounded-2 d-inline-block",children:t.category.title}),o.jsx("h1",{className:"mb-3",children:t.title}),o.jsx("p",{className:"mb-3",dangerouslySetInnerHTML:{__html:`${(g=t==null?void 0:t.description)==null?void 0:g.slice(0,200)}`}}),o.jsxs("ul",{className:"list-inline mb-0",children:[o.jsxs("li",{className:"list-inline-item h6 me-3 mb-1 mb-sm-0",children:[o.jsx("i",{className:"fas fa-star text-warning me-2"}),t.average_rating,"/5"]}),o.jsxs("li",{className:"list-inline-item h6 me-3 mb-1 mb-sm-0",children:[o.jsx("i",{className:"fas fa-user-graduate text-orange me-2"}),(b=t.students)==null?void 0:b.length," Enrolled"]}),o.jsxs("li",{className:"list-inline-item h6 me-3 mb-1 mb-sm-0",children:[o.jsx("i",{className:"fas fa-signal text-success me-2"}),t.level]}),o.jsxs("li",{className:"list-inline-item h6 me-3 mb-1 mb-sm-0",children:[o.jsx("i",{className:"bi bi-patch-exclamation-fill text-danger me-2"}),zt(t.date).format("DD MMM, YYYY")]}),o.jsxs("li",{className:"list-inline-item h6 mb-0",children:[o.jsx("i",{className:"fas fa-globe text-info me-2"}),t.language]})]})]})})})}),o.jsx("section",{className:"pb-0 py-lg-5",children:o.jsx("div",{className:"container",children:o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-lg-8",children:o.jsxs("div",{className:"card shadow rounded-2 p-0",children:[o.jsx("div",{className:"card-header border-bottom px-4 py-3",children:o.jsxs("ul",{className:"nav nav-pills nav-tabs-line py-0",id:"course-pills-tab",role:"tablist",children:[o.jsx("li",{className:"nav-item me-2 me-sm-4",role:"presentation",children:o.jsx("button",{className:"nav-link mb-2 mb-md-0 active",id:"course-pills-tab-1","data-bs-toggle":"pill","data-bs-target":"#course-pills-1",type:"button",role:"tab","aria-controls":"course-pills-1","aria-selected":"true",children:"Overview"})}),o.jsx("li",{className:"nav-item me-2 me-sm-4",role:"presentation",children:o.jsx("button",{className:"nav-link mb-2 mb-md-0",id:"course-pills-tab-2","data-bs-toggle":"pill","data-bs-target":"#course-pills-2",type:"button",role:"tab","aria-controls":"course-pills-2","aria-selected":"false",children:"Curriculum"})}),o.jsx("li",{className:"nav-item me-2 me-sm-4",role:"presentation",children:o.jsx("button",{className:"nav-link mb-2 mb-md-0",id:"course-pills-tab-3","data-bs-toggle":"pill","data-bs-target":"#course-pills-3",type:"button",role:"tab","aria-controls":"course-pills-3","aria-selected":"false",children:"Instructor"})}),o.jsx("li",{className:"nav-item me-2 me-sm-4",role:"presentation",children:o.jsx("button",{className:"nav-link mb-2 mb-md-0",id:"course-pills-tab-4","data-bs-toggle":"pill","data-bs-target":"#course-pills-4",type:"button",role:"tab","aria-controls":"course-pills-4","aria-selected":"false",children:"Reviews"})}),o.jsx("li",{className:"nav-item me-2 me-sm-4 d-none",role:"presentation",children:o.jsx("button",{className:"nav-link mb-2 mb-md-0",id:"course-pills-tab-5","data-bs-toggle":"pill","data-bs-target":"#course-pills-5",type:"button",role:"tab","aria-controls":"course-pills-5","aria-selected":"false",children:"FAQs"})}),o.jsx("li",{className:"nav-item me-2 me-sm-4 d-none",role:"presentation",children:o.jsx("button",{className:"nav-link mb-2 mb-md-0",id:"course-pills-tab-6","data-bs-toggle":"pill","data-bs-target":"#course-pills-6",type:"button",role:"tab","aria-controls":"course-pills-6","aria-selected":"false",children:"Comment"})})]})}),o.jsx("div",{className:"card-body p-4",children:o.jsxs("div",{className:"tab-content pt-2",id:"course-pills-tabContent",children:[o.jsxs("div",{className:"tab-pane fade show active",id:"course-pills-1",role:"tabpanel","aria-labelledby":"course-pills-tab-1",children:[o.jsx("h5",{className:"mb-3",children:"Course Description"}),o.jsx("p",{className:"mb-3",dangerouslySetInnerHTML:{__html:`${t==null?void 0:t.description}`}})]}),o.jsx("div",{className:"tab-pane fade",id:"course-pills-2",role:"tabpanel","aria-labelledby":"course-pills-tab-2",children:o.jsx("div",{className:"accordion accordion-icon accordion-bg-light",id:"accordionExample2",children:(y=t==null?void 0:t.curriculum)==null?void 0:y.map((x,_)=>{var S;return o.jsxs("div",{className:"accordion-item mb-3",children:[o.jsx("h6",{className:"accordion-header font-base",id:"heading-1",children:o.jsx("button",{className:"accordion-button fw-bold rounded d-sm-flex d-inline-block collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":`#collapse-${x.variant_id}`,"aria-expanded":"true","aria-controls":`collapse-${x.variant_id}`,children:x.title})}),o.jsx("div",{id:`collapse-${x.variant_id}`,className:"accordion-collapse collapse show","aria-labelledby":"heading-1","data-bs-parent":"#accordionExample2",children:o.jsx("div",{className:"accordion-body mt-3",children:(S=x.variant_items)==null?void 0:S.map((T,D)=>o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[o.jsxs("div",{className:"position-relative d-flex align-items-center",children:[o.jsx("a",{href:"#",className:"btn btn-danger-soft btn-round btn-sm mb-0 stretched-link position-static",children:T.preview===!0?o.jsx("i",{className:"fas fa-play me-0"}):o.jsx("i",{className:"fas fa-lock me-0"})}),o.jsx("span",{className:"d-inline-block text-truncate ms-2 mb-0 h6 fw-light w-100px w-sm-200px w-md-400px",children:T.title})]}),o.jsx("p",{className:"mb-0",children:x.content_duration})]}),o.jsx("hr",{})]}))})})]})})})}),o.jsxs("div",{className:"tab-pane fade",id:"course-pills-3",role:"tabpanel","aria-labelledby":"course-pills-tab-3",children:[o.jsx("div",{className:"card mb-0 mb-md-4",children:o.jsxs("div",{className:"row g-0 align-items-center",children:[o.jsx("div",{className:"col-md-5",children:o.jsx("img",{src:t.teacher.image,className:"img-fluid rounded-3",alt:"instructor-image"})}),o.jsx("div",{className:"col-md-7",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h3",{className:"card-title mb-0",children:t.teacher.full_name}),o.jsx("p",{className:"mb-2",children:t.teacher.bio}),o.jsxs("ul",{className:"list-inline mb-3",children:[o.jsx("li",{className:"list-inline-item me-3",children:o.jsx("a",{href:t.teacher.twitter,className:"fs-5 text-twitter",children:o.jsx("i",{className:"fab fa-twitter-square"})})}),o.jsx("li",{className:"list-inline-item me-3",children:o.jsx("a",{href:t.teacher.facebook,className:"fs-5 text-facebook",children:o.jsx("i",{className:"fab fa-facebook-square"})})}),o.jsx("li",{className:"list-inline-item me-3",children:o.jsx("a",{href:t.teacher.linkedin,className:"fs-5 text-linkedin",children:o.jsx("i",{className:"fab fa-linkedin"})})})]})]})})]})}),o.jsx("h5",{className:"mb-3",children:"About Instructor"}),o.jsx("p",{className:"mb-3",children:t.teacher.about})]}),o.jsxs("div",{className:"tab-pane fade",id:"course-pills-4",role:"tabpanel","aria-labelledby":"course-pills-tab-4",children:[o.jsx("div",{className:"row mb-1",children:o.jsx("h5",{className:"mb-4",children:"Our Student Reviews"})}),o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"d-md-flex my-4",children:[o.jsx("div",{className:"avatar avatar-xl me-4 flex-shrink-0",children:o.jsx("img",{className:"avatar-img rounded-circle",src:"https://geeksui.codescandy.com/geeks/assets/images/avatar/avatar-1.jpg",style:{width:"50px",height:"50px",borderRadius:"50%",objectFit:"cover"},alt:"avatar"})}),o.jsxs("div",{children:[o.jsxs("div",{className:"d-sm-flex mt-1 mt-md-0 align-items-center",children:[o.jsx("h5",{className:"me-3 mb-0",children:"Sam Jay"}),o.jsxs("ul",{className:"list-inline mb-0",children:[o.jsx("i",{className:"fas fa-star text-warning"}),o.jsx("i",{className:"fas fa-star text-warning"}),o.jsx("i",{className:"fas fa-star text-warning"}),o.jsx("i",{className:"fas fa-star text-warning"}),o.jsx("i",{className:"far fa-star text-warning"})]})]}),o.jsx("p",{className:"small mb-2",children:"5 days ago"}),o.jsx("p",{className:"mb-2",children:"Perceived end knowledge certainly day sweetness why cordially. Ask a quick six seven offer see among. Handsome met debating sir dwelling age material. As style lived he worse dried. Offered related so visitors we private removed. Moderate do subjects to distance."})]})]}),o.jsx("hr",{}),o.jsxs("div",{className:"d-md-flex my-4",children:[o.jsx("div",{className:"avatar avatar-xl me-4 flex-shrink-0",children:o.jsx("img",{className:"avatar-img rounded-circle",src:"https://geeksui.codescandy.com/geeks/assets/images/avatar/avatar-1.jpg",style:{width:"50px",height:"50px",borderRadius:"50%",objectFit:"cover"},alt:"avatar"})}),o.jsxs("div",{children:[o.jsxs("div",{className:"d-sm-flex mt-1 mt-md-0 align-items-center",children:[o.jsx("h5",{className:"me-3 mb-0",children:"Benny Doggo"}),o.jsxs("ul",{className:"list-inline mb-0",children:[o.jsx("li",{className:"list-inline-item me-0",children:o.jsx("i",{className:"fas fa-star text-warning"})}),o.jsx("li",{className:"list-inline-item me-0",children:o.jsx("i",{className:"fas fa-star text-warning"})}),o.jsx("li",{className:"list-inline-item me-0",children:o.jsx("i",{className:"fas fa-star text-warning"})}),o.jsx("li",{className:"list-inline-item me-0",children:o.jsx("i",{className:"fas fa-star text-warning"})}),o.jsx("li",{className:"list-inline-item me-0",children:o.jsx("i",{className:"far fa-star text-warning"})})]})]}),o.jsx("p",{className:"small mb-2",children:"2 days ago"}),o.jsx("p",{className:"mb-2",children:"Handsome met debating sir dwelling age material. As style lived he worse dried. Offered related so visitors we private removed. Moderate do subjects to distance."})]})]}),o.jsx("hr",{})]}),o.jsxs("div",{className:"mt-2",children:[o.jsx("h5",{className:"mb-4",children:"Leave a Review"}),o.jsxs("form",{className:"row g-3",children:[o.jsx("div",{className:"col-12 bg-light-input",children:o.jsxs("select",{id:"inputState2",className:"form-select js-choice",children:[o.jsx("option",{selected:"",children:" (5/5)"}),o.jsx("option",{children:" (4/5)"}),o.jsx("option",{children:" (3/5)"}),o.jsx("option",{children:" (2/5)"}),o.jsx("option",{children:" (1/5)"})]})}),o.jsx("div",{className:"col-12 bg-light-input",children:o.jsx("textarea",{className:"form-control",id:"exampleFormControlTextarea1",placeholder:"Your review",rows:3,defaultValue:""})}),o.jsx("div",{className:"col-12",children:o.jsx("button",{type:"submit",className:"btn btn-primary mb-0",children:"Post Review"})})]})]})]}),o.jsxs("div",{className:"tab-pane fade",id:"course-pills-5",role:"tabpanel","aria-labelledby":"course-pills-tab-5",children:[o.jsx("h5",{className:"mb-3",children:"Frequently Asked Questions"}),o.jsxs("div",{className:"accordion accordion-flush",id:"accordionExample",children:[o.jsxs("div",{className:"accordion-item",children:[o.jsx("h2",{className:"accordion-header",id:"headingOne",children:o.jsxs("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne",children:[o.jsx("span",{className:"text-secondary fw-bold me-3",children:"01"}),o.jsx("span",{className:"h6 mb-0",children:"How Digital Marketing Work?"})]})}),o.jsx("div",{id:"collapseOne",className:"accordion-collapse collapse show","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample",children:o.jsx("div",{className:"accordion-body pt-0",children:"Comfort reached gay perhaps chamber his six detract besides add. Moonlight newspaper up its enjoyment agreeable depending. Timed voice share led him to widen noisy young. At weddings believed laughing although the material does the exercise of. Up attempt offered ye civilly so sitting to. She new course gets living within Elinor joy. She rapturous suffering concealed."})})]}),o.jsxs("div",{className:"accordion-item",children:[o.jsx("h2",{className:"accordion-header",id:"headingTwo",children:o.jsxs("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseTwo","aria-expanded":"false","aria-controls":"collapseTwo",children:[o.jsx("span",{className:"text-secondary fw-bold me-3",children:"02"}),o.jsx("span",{className:"h6 mb-0",children:"What is SEO?"})]})}),o.jsx("div",{id:"collapseTwo",className:"accordion-collapse collapse","aria-labelledby":"headingTwo","data-bs-parent":"#accordionExample",children:o.jsxs("div",{className:"accordion-body pt-0",children:["Pleasure and so read the was hope entire first decided the so must have as on was want up of I will rival in came this touched got a physics to travelling so all especially refinement monstrous desk they was arrange the overall helplessly out of particularly ill are purer.",o.jsx("p",{className:"mt-2",children:"Person she control of to beginnings view looked eyes Than continues its and because and given and shown creating curiously to more in are man were smaller by we instead the these sighed Avoid in the sufficient me real man longer of his how her for countries to brains warned notch important Finds be to the of on the increased explain noise of power deep asking contribution this live of suppliers goals bit separated poured sort several the was organization the if relations go work after mechanic But we've area wasn't everything needs of and doctor where would."}),"Go he prisoners And mountains in just switching city steps Might rung line what Mr Bulk; Was or between towards the have phase were its world my samples are the was royal he luxury the about trying And on he to my enough is was the remember a although lead in were through serving their assistant fame day have for its after would cheek dull have what in go feedback assignment Her of a any help if the a of semantics is rational overhauls following in from our hazardous and used more he themselves the parents up just regulatory."]})})]}),o.jsxs("div",{className:"accordion-item",children:[o.jsx("h2",{className:"accordion-header",id:"headingThree",children:o.jsxs("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseThree","aria-expanded":"false","aria-controls":"collapseThree",children:[o.jsx("span",{className:"text-secondary fw-bold me-3",children:"03"}),o.jsx("span",{className:"h6 mb-0",children:"Who should join this course?"})]})}),o.jsx("div",{id:"collapseThree",className:"accordion-collapse collapse","aria-labelledby":"headingThree","data-bs-parent":"#accordionExample",children:o.jsxs("div",{className:"accordion-body pt-0",children:["Post no so what deal evil rent by real in. But her ready least set lived spite solid. September how men saw tolerably two behavior arranging. She offices for highest and replied one venture pasture. Applauded no discovery in newspaper allowance am northward. Frequently partiality possession resolution at or appearance unaffected me. Engaged its was the evident pleased husband. Ye goodness felicity do disposal dwelling no. First am plate jokes to began to cause a scale.",o.jsx("strong",{children:"Subjects he prospect elegance followed no overcame"}),"possible it on."]})})]}),o.jsxs("div",{className:"accordion-item",children:[o.jsx("h2",{className:"accordion-header",id:"headingFour",children:o.jsxs("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseFour","aria-expanded":"false","aria-controls":"collapseFour",children:[o.jsx("span",{className:"text-secondary fw-bold me-3",children:"04"}),o.jsx("span",{className:"h6 mb-0",children:"What are the T&C for this program?"})]})}),o.jsx("div",{id:"collapseFour",className:"accordion-collapse collapse","aria-labelledby":"headingFour","data-bs-parent":"#accordionExample",children:o.jsx("div",{className:"accordion-body pt-0",children:"Night signs creeping yielding green Seasons together man green fruitful make fish behold earth unto you'll lights living moving sea open for fish day multiply tree good female god had fruitful of creature fill shall don't day fourth lesser he the isn't let multiply may Creeping earth under was You're without which image stars in Own creeping night of wherein Heaven years their he over doesn't whose won't kind seasons light Won't that fish him whose won't also it dominion heaven fruitful Whales created And likeness doesn't that Years without divided saying morning creeping hath you'll seas cattle in multiply under together in us said above dry tree herb saw living darkness without have won't for i behold meat brought winged Moving living second beast Over fish place beast image very him evening Thing they're fruit together forth day Seed lights Land creature together Multiply waters form brought."})})]}),o.jsxs("div",{className:"accordion-item",children:[o.jsx("h2",{className:"accordion-header",id:"headingFive",children:o.jsxs("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseFive","aria-expanded":"false","aria-controls":"collapseFive",children:[o.jsx("span",{className:"text-secondary fw-bold me-3",children:"05"}),o.jsx("span",{className:"h6 mb-0",children:"What certificates will I be received for this program?"})]})}),o.jsx("div",{id:"collapseFive",className:"accordion-collapse collapse","aria-labelledby":"headingFive","data-bs-parent":"#accordionExample",children:o.jsx("div",{className:"accordion-body pt-0",children:"Smile spoke total few great had never their too Amongst moments do in arrived at my replied Fat weddings servants but man believed prospect Companions understood is as especially pianoforte connection introduced Nay newspaper can sportsman are admitting gentleman belonging his Is oppose no he summer lovers twenty in Not his difficulty boisterous surrounded bed Seems folly if in given scale Sex contented dependent conveying advantage."})})]})]})]}),o.jsx("div",{className:"tab-pane fade",id:"course-pills-6",role:"tabpanel","aria-labelledby":"course-pills-tab-6",children:o.jsx("div",{className:"row",children:o.jsxs("div",{className:"col-12",children:[o.jsx("h5",{className:"mb-4",children:"Group Chat & Q/A Forum"}),o.jsx("div",{className:"border p-2 p-sm-4 rounded-3 mb-4",children:o.jsxs("ul",{className:"list-unstyled mb-0",children:[o.jsx("li",{className:"comment-item",children:o.jsx("div",{className:"d-flex mb-3",children:o.jsxs("div",{className:"ms-2",children:[o.jsx("div",{className:"bg-light p-3 rounded",children:o.jsxs("div",{className:"d-flex justify-content-center",children:[o.jsxs("div",{className:"me-2",children:[o.jsx("h6",{className:"mb-1 lead fw-bold",children:o.jsxs("a",{href:"#!",className:"text-decoration-none text-dark",children:[o.jsx("span",{className:"text-secondary",children:"By:"})," ","Frances Guerrero"," "]})}),o.jsx("p",{className:"mb-0",children:"Removed demands expense account in outward tedious do. Particular waythoroughly unaffected projection ar waythoroughly unaffected projection?..."}),o.jsx("p",{className:"mt-4 fw-bold",children:"16 Replies"})]}),o.jsx("small",{children:"5hr"})]})}),o.jsx("ul",{className:"nav nav-divider py-2 small",children:o.jsx("li",{className:"nav-item",children:o.jsxs("a",{className:"btn btn-primary btn-sm",href:"#",children:["Join Conversation"," ",o.jsx("i",{className:"fas fa-arrow-right"})]})})})]})})}),o.jsx("li",{className:"comment-item",children:o.jsx("div",{className:"d-flex mb-3",children:o.jsxs("div",{className:"ms-2",children:[o.jsx("div",{className:"bg-light p-3 rounded",children:o.jsxs("div",{className:"d-flex justify-content-center",children:[o.jsxs("div",{className:"me-2",children:[o.jsx("h6",{className:"mb-1 lead fw-bold",children:o.jsxs("a",{href:"#!",className:"text-decoration-none text-dark",children:[o.jsx("span",{className:"text-secondary",children:"By:"})," ","Frances Guerrero"," "]})}),o.jsx("p",{className:"mb-0",children:"Removed demands expense account in outward tedious do. Particular waythoroughly unaffected projection ar waythoroughly unaffected projection?..."}),o.jsx("p",{className:"mt-4 fw-bold",children:"16 Replies"})]}),o.jsx("small",{children:"5hr"})]})}),o.jsx("ul",{className:"nav nav-divider py-2 small",children:o.jsx("li",{className:"nav-item",children:o.jsxs("a",{className:"btn btn-primary btn-sm",href:"#",children:["Join Conversation"," ",o.jsx("i",{className:"fas fa-arrow-right"})]})})})]})})})]})}),o.jsxs("div",{className:"border p-2 p-sm-4 rounded-3",children:[o.jsxs("ul",{className:"list-unstyled mb-0",style:{overflowY:"scroll",height:"500px"},children:[o.jsx("li",{className:"comment-item mb-3",children:o.jsxs("div",{className:"d-flex",children:[o.jsx("div",{className:"avatar avatar-sm flex-shrink-0",children:o.jsx("a",{href:"#",children:o.jsx("img",{className:"avatar-img rounded-circle",src:"https://geeksui.codescandy.com/geeks/assets/images/avatar/avatar-3.jpg",style:{width:"40px",height:"40px",borderRadius:"50%",objectFit:"cover"},alt:"womans image"})})}),o.jsx("div",{className:"ms-2",children:o.jsx("div",{className:"bg-light p-3 rounded w-100",children:o.jsx("div",{className:"d-flex w-100 justify-content-center",children:o.jsxs("div",{className:"me-2 ",children:[o.jsxs("h6",{className:"mb-1 lead fw-bold",children:[o.jsxs("a",{href:"#!",className:"text-decoration-none text-dark",children:[" ","Louis Ferguson"," "]}),o.jsx("br",{}),o.jsx("span",{style:{fontSize:"12px",color:"gray"},children:"5hrs Ago"})]}),o.jsx("p",{className:"mb-0 mt-3  ",children:"Removed demands expense account"})]})})})})]})}),o.jsx("li",{className:"comment-item mb-3",children:o.jsxs("div",{className:"d-flex",children:[o.jsx("div",{className:"avatar avatar-sm flex-shrink-0",children:o.jsx("a",{href:"#",children:o.jsx("img",{className:"avatar-img rounded-circle",src:"https://geeksui.codescandy.com/geeks/assets/images/avatar/avatar-3.jpg",style:{width:"40px",height:"40px",borderRadius:"50%",objectFit:"cover"},alt:"womans image"})})}),o.jsx("div",{className:"ms-2",children:o.jsx("div",{className:"bg-light p-3 rounded w-100",children:o.jsx("div",{className:"d-flex w-100 justify-content-center",children:o.jsxs("div",{className:"me-2 ",children:[o.jsxs("h6",{className:"mb-1 lead fw-bold",children:[o.jsxs("a",{href:"#!",className:"text-decoration-none text-dark",children:[" ","Louis Ferguson"," "]}),o.jsx("br",{}),o.jsx("span",{style:{fontSize:"12px",color:"gray"},children:"5hrs Ago"})]}),o.jsx("p",{className:"mb-0 mt-3  ",children:"Removed demands expense account from the debby building in a hall town tak with"})]})})})})]})}),o.jsx("li",{className:"comment-item mb-3",children:o.jsxs("div",{className:"d-flex",children:[o.jsx("div",{className:"avatar avatar-sm flex-shrink-0",children:o.jsx("a",{href:"#",children:o.jsx("img",{className:"avatar-img rounded-circle",src:"https://geeksui.codescandy.com/geeks/assets/images/avatar/avatar-3.jpg",style:{width:"40px",height:"40px",borderRadius:"50%",objectFit:"cover"},alt:"womans image"})})}),o.jsx("div",{className:"ms-2",children:o.jsx("div",{className:"bg-light p-3 rounded w-100",children:o.jsx("div",{className:"d-flex w-100 justify-content-center",children:o.jsxs("div",{className:"me-2 ",children:[o.jsxs("h6",{className:"mb-1 lead fw-bold",children:[o.jsxs("a",{href:"#!",className:"text-decoration-none text-dark",children:[" ","Louis Ferguson"," "]}),o.jsx("br",{}),o.jsx("span",{style:{fontSize:"12px",color:"gray"},children:"5hrs Ago"})]}),o.jsx("p",{className:"mb-0 mt-3  ",children:"Removed demands expense account"})]})})})})]})}),o.jsx("li",{className:"comment-item mb-3",children:o.jsxs("div",{className:"d-flex",children:[o.jsx("div",{className:"avatar avatar-sm flex-shrink-0",children:o.jsx("a",{href:"#",children:o.jsx("img",{className:"avatar-img rounded-circle",src:"https://geeksui.codescandy.com/geeks/assets/images/avatar/avatar-3.jpg",style:{width:"40px",height:"40px",borderRadius:"50%",objectFit:"cover"},alt:"womans image"})})}),o.jsx("div",{className:"ms-2",children:o.jsx("div",{className:"bg-light p-3 rounded w-100",children:o.jsx("div",{className:"d-flex w-100 justify-content-center",children:o.jsxs("div",{className:"me-2 ",children:[o.jsxs("h6",{className:"mb-1 lead fw-bold",children:[o.jsxs("a",{href:"#!",className:"text-decoration-none text-dark",children:[" ","Louis Ferguson"," "]}),o.jsx("br",{}),o.jsx("span",{style:{fontSize:"12px",color:"gray"},children:"5hrs Ago"})]}),o.jsx("p",{className:"mb-0 mt-3  ",children:"Removed demands expense account"})]})})})})]})})]}),o.jsxs("form",{class:"w-100 d-flex",children:[o.jsx("textarea",{class:"one form-control pe-4 bg-light w-75",id:"autoheighttextarea",rows:"1",placeholder:"Write a message..."}),o.jsxs("button",{class:"btn btn-primary ms-2 mb-0 w-25",type:"button",children:["Post"," ",o.jsx("i",{className:"fas fa-paper-plane"})]})]})]})]})})})]})})]})}),o.jsx("div",{className:"col-lg-4 pt-5 pt-lg-0",children:o.jsx("div",{className:"row mb-5 mb-lg-0",children:o.jsxs("div",{className:"col-md-6 col-lg-12",children:[o.jsxs("div",{className:"card shadow p-2 mb-4 z-index-9",children:[o.jsxs("div",{className:"overflow-hidden rounded-3",children:[o.jsx("img",{src:t.image,className:"card-img",alt:"course image"}),o.jsxs("div",{className:"m-auto rounded-2 mt-2 d-flex justify-content-center align-items-center",style:{backgroundColor:"#ededed"},children:[o.jsx("a",{"data-bs-toggle":"modal","data-bs-target":"#exampleModal",href:"https://www.youtube.com/embed/tXHviS-4ygo",className:"btn btn-lg text-danger btn-round btn-white-shadow mb-0","data-glightbox":"","data-gallery":"course-video",children:o.jsx("i",{className:"fas fa-play"})}),o.jsx("span",{"data-bs-toggle":"modal","data-bs-target":"#exampleModal",className:"fw-bold",children:"Course Introduction Video"}),o.jsx("div",{className:"modal fade",id:"exampleModal",tabIndex:-1,"aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:o.jsx("div",{className:"modal-dialog",children:o.jsxs("div",{className:"modal-content",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h1",{className:"modal-title fs-5",id:"exampleModalLabel",children:"Introduction Videos"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:"..."}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),o.jsx("button",{type:"button",className:"btn btn-primary",children:"Save changes"})]})]})})})]})]}),o.jsxs("div",{className:"card-body px-3",children:[o.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[o.jsx("div",{children:o.jsx("div",{className:"d-flex align-items-center",children:o.jsxs("h3",{className:"fw-bold mb-0 me-2",children:["$",t.price]})})}),o.jsxs("div",{className:"dropdown",children:[o.jsx("a",{href:"#",className:"btn btn-sm btn-light rounded small",role:"button",id:"dropdownShare","data-bs-toggle":"dropdown","aria-expanded":"false",children:o.jsx("i",{className:"fas fa-fw fa-share-alt"})}),o.jsxs("ul",{className:"dropdown-menu dropdown-w-sm dropdown-menu-end min-w-auto shadow rounded","aria-labelledby":"dropdownShare",children:[o.jsx("li",{children:o.jsxs("a",{className:"dropdown-item",href:"#",children:[o.jsx("i",{className:"fab fa-twitter-square me-2"}),"Twitter"]})}),o.jsx("li",{children:o.jsxs("a",{className:"dropdown-item",href:"#",children:[o.jsx("i",{className:"fab fa-facebook-square me-2"}),"Facebook"]})}),o.jsx("li",{children:o.jsxs("a",{className:"dropdown-item",href:"#",children:[o.jsx("i",{className:"fab fa-linkedin me-2"}),"LinkedIn"]})}),o.jsx("li",{children:o.jsxs("a",{className:"dropdown-item",href:"#",children:[o.jsx("i",{className:"fas fa-copy me-2"}),"Copy link"]})})]})]})]}),o.jsxs("div",{className:"mt-3 d-sm-flex justify-content-sm-between ",children:[s==="Add To Cart"&&o.jsxs("button",{type:"button",className:"btn btn-primary mb-0 w-100 me-2",onClick:()=>m(t==null?void 0:t.id,h,t.price,u,To()),children:[o.jsx("i",{className:"fas fa-shopping-cart"})," Add To Cart"]}),s==="Added To Cart"&&o.jsxs("button",{type:"button",className:"btn btn-primary mb-0 w-100 me-2",onClick:()=>m(t.id,1,t.price,"Nigeria","8325347"),children:[o.jsx("i",{className:"fas fa-check-circle"})," Added To Cart"]}),s==="Adding To Cart"&&o.jsxs("button",{type:"button",className:"btn btn-primary mb-0 w-100 me-2",onClick:()=>m(t.id,1,t.price,"Nigeria","8325347"),children:[o.jsx("i",{className:"fas fa-spinner fa-spin"})," ","Adding To Cart"]}),o.jsxs(Fn,{to:"/cart/",className:"btn btn-success mb-0 w-100",children:["Enroll Now"," ",o.jsx("i",{className:"fas fa-arrow-right"})]})]})]})]}),o.jsxs("div",{className:"card card-body shadow p-4 mb-4",children:[o.jsx("h4",{className:"mb-3",children:"This course includes"}),o.jsxs("ul",{className:"list-group list-group-borderless",children:[o.jsxs("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[o.jsxs("span",{className:"h6 fw-light mb-0",children:[o.jsx("i",{className:"fas fa-fw fa-book-open text-primary me-2"}),"Lectures"]}),o.jsx("span",{children:"30"})]}),o.jsxs("li",{className:"list-group-item d-flex justify-content-between align-items-center d-none",children:[o.jsxs("span",{className:"h6 fw-light mb-0",children:[o.jsx("i",{className:"fas fa-fw fa-clock text-primary me-2"}),"Duration"]}),o.jsx("span",{children:"4h 50m"})]}),o.jsxs("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[o.jsxs("span",{className:"h6 fw-light mb-0",children:[o.jsx("i",{className:"fas fa-fw fa-signal text-primary me-2"}),"Skills"]}),o.jsx("span",{children:"Beginner"})]}),o.jsxs("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[o.jsxs("span",{className:"h6 fw-light mb-0",children:[o.jsx("i",{className:"fas fa-fw fa-globe text-primary me-2"}),"Language"]}),o.jsx("span",{children:"English"})]}),o.jsxs("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[o.jsxs("span",{className:"h6 fw-light mb-0",children:[o.jsx("i",{className:"fas fa-fw fa-user-clock text-primary me-2"}),"Published"]}),o.jsx("span",{children:"7th August, 2025"})]}),o.jsxs("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[o.jsxs("span",{className:"h6 fw-light mb-0",children:[o.jsx("i",{className:"fas fa-fw fa-medal text-primary me-2"}),"Certificate"]}),o.jsx("span",{children:"Yes"})]})]})]})]})})})]})})}),o.jsx("section",{className:"mb-5",children:o.jsxs("div",{className:"container mb-lg-8 ",children:[o.jsx("div",{className:"row mb-5 mt-3",children:o.jsx("div",{className:"col-12",children:o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"mb-1 h1",children:"Related Courses"}),o.jsx("p",{children:"These are the most popular courses among Geeks Courses learners worldwide in year 2022"})]})})}),o.jsx("div",{className:"row",children:o.jsx("div",{className:"col-md-12",children:o.jsxs("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4",children:[o.jsx("div",{className:"col",children:o.jsxs("div",{className:"card card-hover",children:[o.jsx(Fn,{to:"/course-detail/slug/",children:o.jsx("img",{src:"https://geeksui.codescandy.com/geeks/assets/images/course/course-css.jpg",alt:"course",className:"card-img-top"})}),o.jsxs("div",{className:"card-body",children:[o.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[o.jsx("span",{className:"badge bg-info",children:"Intermediate"}),o.jsx("a",{href:"#",className:"fs-5",children:o.jsx("i",{className:"fas fa-heart text-danger align-middle"})})]}),o.jsx("h4",{className:"mb-2 text-truncate-line-2 ",children:o.jsx(Fn,{to:"/course-detail/slug/",className:"text-inherit text-decoration-none text-dark fs-5",children:"How to easily create a website with JavaScript"})}),o.jsx("small",{children:"By: Claire Evans"})," ",o.jsx("br",{}),o.jsx("small",{children:"16k Students"})," ",o.jsx("br",{}),o.jsxs("div",{className:"lh-1 mt-3 d-flex",children:[o.jsx("span",{className:"align-text-top",children:o.jsxs("span",{className:"fs-6",children:[o.jsx("i",{className:"fas fa-star text-warning"}),o.jsx("i",{className:"fas fa-star text-warning"}),o.jsx("i",{className:"fas fa-star text-warning"}),o.jsx("i",{className:"fas fa-star text-warning"}),o.jsx("i",{className:"fas fa-star-half text-warning"})]})}),o.jsx("span",{className:"text-warning",children:"4.5"}),o.jsx("span",{className:"fs-6 ms-2",children:"(9,300)"})]})]}),o.jsx("div",{className:"card-footer",children:o.jsxs("div",{className:"row align-items-center g-0",children:[o.jsx("div",{className:"col",children:o.jsx("h5",{className:"mb-0",children:"$39.00"})}),o.jsx("div",{className:"col-auto",children:o.jsxs("a",{href:"#",className:"text-inherit text-decoration-none btn btn-primary",children:[o.jsx("i",{className:"fas fa-shopping-cart text-primary align-middle me-2 text-white"}),"Enroll Now"]})})]})})]})}),o.jsx("div",{className:"col",children:o.jsxs("div",{className:"card card-hover",children:[o.jsx(Fn,{to:"/course-detail/slug/",children:o.jsx("img",{src:"https://geeksui.codescandy.com/geeks/assets/images/course/course-angular.jpg",alt:"course",className:"card-img-top"})}),o.jsxs("div",{className:"card-body",children:[o.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[o.jsx("span",{className:"badge bg-info",children:"Intermediate"}),o.jsx("a",{href:"#",className:"fs-5",children:o.jsx("i",{className:"fas fa-heart text-danger align-middle"})})]}),o.jsx("h4",{className:"mb-2 text-truncate-line-2 ",children:o.jsx(Fn,{to:"/course-detail/slug/",className:"text-inherit text-decoration-none text-dark fs-5",children:"How to easily create a website with JavaScript"})}),o.jsx("small",{children:"By: Claire Evans"})," ",o.jsx("br",{}),o.jsx("small",{children:"16k Students"})," ",o.jsx("br",{}),o.jsxs("div",{className:"lh-1 mt-3 d-flex",children:[o.jsx("span",{className:"align-text-top",children:o.jsxs("span",{className:"fs-6",children:[o.jsx("i",{className:"fas fa-star text-warning"}),o.jsx("i",{className:"fas fa-star text-warning"}),o.jsx("i",{className:"fas fa-star text-warning"}),o.jsx("i",{className:"fas fa-star text-warning"}),o.jsx("i",{className:"fas fa-star-half text-warning"})]})}),o.jsx("span",{className:"text-warning",children:"4.5"}),o.jsx("span",{className:"fs-6 ms-2",children:"(9,300)"})]})]}),o.jsx("div",{className:"card-footer",children:o.jsxs("div",{className:"row align-items-center g-0",children:[o.jsx("div",{className:"col",children:o.jsx("h5",{className:"mb-0",children:"$39.00"})}),o.jsx("div",{className:"col-auto",children:o.jsxs("a",{href:"#",className:"text-inherit text-decoration-none btn btn-primary",children:[o.jsx("i",{className:"fas fa-shopping-cart text-primary align-middle me-2 text-white"}),"Enroll Now"]})})]})})]})}),o.jsx("div",{className:"col",children:o.jsxs("div",{className:"card card-hover",children:[o.jsx(Fn,{to:"/course-detail/slug/",children:o.jsx("img",{src:"https://geeksui.codescandy.com/geeks/assets/images/course/course-react.jpg",alt:"course",className:"card-img-top"})}),o.jsxs("div",{className:"card-body",children:[o.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[o.jsx("span",{className:"badge bg-info",children:"Intermediate"}),o.jsx("a",{href:"#",className:"fs-5",children:o.jsx("i",{className:"fas fa-heart text-danger align-middle"})})]}),o.jsx("h4",{className:"mb-2 text-truncate-line-2 ",children:o.jsx(Fn,{to:"/course-detail/slug/",className:"text-inherit text-decoration-none text-dark fs-5",children:"Learn React.Js for Beginners from Start to Finish"})}),o.jsx("small",{children:"By: Claire Evans"})," ",o.jsx("br",{}),o.jsx("small",{children:"16k Students"})," ",o.jsx("br",{}),o.jsxs("div",{className:"lh-1 mt-3 d-flex",children:[o.jsx("span",{className:"align-text-top",children:o.jsxs("span",{className:"fs-6",children:[o.jsx("i",{className:"fas fa-star text-warning"}),o.jsx("i",{className:"fas fa-star text-warning"}),o.jsx("i",{className:"fas fa-star text-warning"}),o.jsx("i",{className:"fas fa-star text-warning"}),o.jsx("i",{className:"fas fa-star-half text-warning"})]})}),o.jsx("span",{className:"text-warning",children:"4.5"}),o.jsx("span",{className:"fs-6 ms-2",children:"(9,300)"})]})]}),o.jsx("div",{className:"card-footer",children:o.jsxs("div",{className:"row align-items-center g-0",children:[o.jsx("div",{className:"col",children:o.jsx("h5",{className:"mb-0",children:"$39.00"})}),o.jsx("div",{className:"col-auto",children:o.jsxs("a",{href:"#",className:"text-inherit text-decoration-none btn btn-primary",children:[o.jsx("i",{className:"fas fa-shopping-cart text-primary align-middle me-2 text-white"}),"Enroll Now"]})})]})})]})}),o.jsx("div",{className:"col",children:o.jsxs("div",{className:"card card-hover",children:[o.jsx(Fn,{to:"/course-detail/slug/",children:o.jsx("img",{src:"https://geeksui.codescandy.com/geeks/assets/images/course/course-python.jpg",alt:"course",className:"card-img-top"})}),o.jsxs("div",{className:"card-body",children:[o.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[o.jsx("span",{className:"badge bg-info",children:"Intermediate"}),o.jsx("a",{href:"#",className:"fs-5",children:o.jsx("i",{className:"fas fa-heart text-danger align-middle"})})]}),o.jsx("h4",{className:"mb-2 text-truncate-line-2 ",children:o.jsx(Fn,{to:"/course-detail/slug/",className:"text-inherit text-decoration-none text-dark fs-5",children:"How to easily create a website with JavaScript"})}),o.jsx("small",{children:"By: Claire Evans"})," ",o.jsx("br",{}),o.jsx("small",{children:"16k Students"})," ",o.jsx("br",{}),o.jsxs("div",{className:"lh-1 mt-3 d-flex",children:[o.jsx("span",{className:"align-text-top",children:o.jsxs("span",{className:"fs-6",children:[o.jsx("i",{className:"fas fa-star text-warning"}),o.jsx("i",{className:"fas fa-star text-warning"}),o.jsx("i",{className:"fas fa-star text-warning"}),o.jsx("i",{className:"fas fa-star text-warning"}),o.jsx("i",{className:"fas fa-star-half text-warning"})]})}),o.jsx("span",{className:"text-warning",children:"4.5"}),o.jsx("span",{className:"fs-6 ms-2",children:"(9,300)"})]})]}),o.jsx("div",{className:"card-footer",children:o.jsxs("div",{className:"row align-items-center g-0",children:[o.jsx("div",{className:"col",children:o.jsx("h5",{className:"mb-0",children:"$39.00"})}),o.jsx("div",{className:"col-auto",children:o.jsxs("a",{href:"#",className:"text-inherit text-decoration-none btn btn-primary",children:[o.jsx("i",{className:"fas fa-shopping-cart text-primary align-middle me-2 text-white"}),"Enroll Now"]})})]})})]})})]})})})]})})]})}),o.jsx(BaseFooter,{})]})}function Rq(){var g,b,y;const[t,e]=w.useState([]),[n,r]=w.useState([]),[s,i]=w.useContext(Yg),[a,l]=w.useState({full_name:"",email:"",country:""}),c=async()=>{try{await oa.get(`course/cart-list/${To()}/`).then(x=>{e(x.data)}),await oa.get(`cart/stats/${To()}/`).then(x=>{r(x.data)})}catch{}};w.useEffect(()=>{c()},[]);const u=mr(),h=async x=>{await oa.delete(`course/cart-item-delete/${To()}/${x}/`).then(_=>{c(),dt().fire({icon:"success",title:"Cart Item Deleted"}),oa.get(`course/cart-list/${To()}/`).then(S=>{var T;i((T=S.data)==null?void 0:T.length)})})},f=x=>{l({...a,[x.target.name]:x.target.value})},m=async()=>{var x;try{const _=await oa.post("order/create-order/",{full_name:"John Doe",email:"john.doe@example.com",country:"South Africa",cart_id:"12345",user_id:(x=UserData())==null?void 0:x.user_id});_.status===201&&u(`/checkout/${_.data.order_oid}/`)}catch{}};return o.jsxs(o.Fragment,{children:[o.jsx(BaseHeader,{}),o.jsx("section",{className:"py-0",children:o.jsx("div",{className:"container",children:o.jsx("div",{className:"row",children:o.jsx("div",{className:"col-12",children:o.jsxs("div",{className:"bg-light p-4 text-center rounded-3",children:[o.jsx("h1",{className:"m-0",children:"My cart"}),o.jsx("div",{className:"d-flex justify-content-center",children:o.jsx("nav",{"aria-label":"breadcrumb",children:o.jsxs("ol",{className:"breadcrumb breadcrumb-dots mb-0",children:[o.jsx("li",{className:"breadcrumb-item",children:o.jsx("a",{href:"#",className:"text-decoration-none text-dark",children:"Home"})}),o.jsx("li",{className:"breadcrumb-item",children:o.jsx("a",{href:"#",className:"text-decoration-none text-dark",children:"Courses"})}),o.jsx("li",{className:"breadcrumb-item active","aria-current":"page",children:"Cart"})]})})})]})})})})}),o.jsx("section",{className:"pt-5",children:o.jsx("div",{className:"container",children:o.jsx("form",{onSubmit:m,children:o.jsxs("div",{className:"row g-4 g-sm-5",children:[o.jsxs("div",{className:"col-lg-8 mb-4 mb-sm-0",children:[o.jsxs("div",{className:"p-4 shadow rounded-3",children:[o.jsxs("h5",{className:"mb-0 mb-3",children:["Cart Items (",t==null?void 0:t.length,")"]}),o.jsx("div",{className:"table-responsive border-0 rounded-3",children:o.jsx("table",{className:"table align-middle p-4 mb-0",children:o.jsxs("tbody",{className:"border-top-2",children:[t==null?void 0:t.map((x,_)=>o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("div",{className:"d-lg-flex align-items-center",children:[o.jsx("div",{className:"w-100px w-md-80px mb-2 mb-md-0",children:o.jsx("img",{src:x.course.image,style:{width:"100px",height:"70px",objectFit:"cover"},className:"rounded",alt:""})}),o.jsx("h6",{className:"mb-0 ms-lg-3 mt-2 mt-lg-0",children:o.jsx("a",{href:"#",className:"text-decoration-none text-dark",children:x.course.title})})]})}),o.jsx("td",{className:"text-center",children:o.jsxs("h5",{className:"text-success mb-0",children:["$",x.price]})}),o.jsx("td",{children:o.jsx("button",{onClick:()=>h(x.id),className:"btn btn-sm btn-danger px-2 mb-0",type:"button",children:o.jsx("i",{className:"fas fa-fw fa-times"})})})]})),(t==null?void 0:t.length)<1&&o.jsx("p",{className:"mt-1 p-1",children:"No Item In Cart"})]})})})]}),o.jsxs("div",{className:"shadow p-4 rounded-3 mt-5",children:[o.jsx("h5",{className:"mb-0",children:"Personal Details"}),o.jsxs("div",{className:"row g-3 mt-0",children:[o.jsxs("div",{className:"col-md-12 bg-light-input",children:[o.jsx("label",{htmlFor:"yourName",className:"form-label",children:"Your name *"}),o.jsx("input",{type:"text",className:"form-control",id:"yourName",placeholder:"Name",name:"full_name",value:a.full_name,onChange:f})]}),o.jsxs("div",{className:"col-md-12 bg-light-input",children:[o.jsx("label",{htmlFor:"emailInput",className:"form-label",children:"Email address *"}),o.jsx("input",{type:"email",className:"form-control",id:"emailInput",placeholder:"Email",name:"email",value:a.email,onChange:f})]}),o.jsxs("div",{className:"col-md-12 bg-light-input",children:[o.jsx("label",{htmlFor:"mobileNumber",className:"form-label",children:"Enter country *"}),o.jsx("input",{type:"text",className:"form-control",id:"mobileNumber",placeholder:"Country",name:"country",value:a.country,onChange:f})]})]})]})]}),o.jsx("div",{className:"col-lg-4",children:o.jsxs("div",{className:"p-4 shadow rounded-3",children:[o.jsx("h4",{className:"mb-3",children:"Cart Total"}),o.jsxs("ul",{class:"list-group mb-3",children:[o.jsxs("li",{class:"list-group-item d-flex justify-content-between align-items-center",children:["Sub Total",o.jsxs("span",{children:["$",(g=n.price)==null?void 0:g.toFixed(2)]})]}),o.jsxs("li",{class:"list-group-item d-flex justify-content-between align-items-center",children:["Tax",o.jsxs("span",{children:["$",(b=n.tax)==null?void 0:b.toFixed(2)]})]}),o.jsxs("li",{class:"list-group-item d-flex fw-bold justify-content-between align-items-center",children:["Total",o.jsxs("span",{className:"fw-bold",children:["$",(y=n.total)==null?void 0:y.toFixed(2)]})]})]}),o.jsx("div",{className:"d-grid",children:o.jsx("button",{type:"submit",className:"btn btn-lg btn-success",children:"Proceed to Checkout"})}),o.jsxs("p",{className:"small mb-0 mt-2 text-center",children:["By proceeding to checkout, you agree to these"," ",o.jsxs("a",{href:"#",children:[" ",o.jsx("strong",{children:"Terms of Service"})]})]})]})})]})})})}),o.jsx(BaseFooter,{})]})}function Sc({sidebarCollapsed:t}){const e=mr(),n=Po(),r=()=>{Cn.remove("access_token"),Cn.remove("refresh_token"),e("/")},s=i=>n.pathname===i;return o.jsxs("div",{className:`sidebar ${t?"collapsed":""}`,style:{position:"fixed",top:"10px",left:"10px",height:"calc(100vh - 20px)",width:t?"60px":"250px",backgroundColor:"rgba(0, 0, 0, 0)",borderRadius:"15px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",transition:"width 0.3s ease",zIndex:1e3,overflow:"hidden",display:"flex",flexDirection:"column"},children:[o.jsxs("ul",{className:"list-unstyled",style:{padding:0,margin:0},children:[o.jsx("li",{className:"nav-item",children:o.jsxs(Fn,{className:`nav-link ${s("/student/dashboard")?"active":""}`,to:"/student/dashboard",style:{display:"flex",alignItems:"center",justifyContent:t?"center":"flex-start"},children:[o.jsx("i",{className:"bi bi-house",style:{fontSize:"20px",marginRight:t?"0":"10px"}}),!t&&o.jsx("span",{children:"Home"})]})}),o.jsx("li",{className:"nav-item",children:o.jsxs(Fn,{className:`nav-link ${s("/student/courses")?"active":""}`,to:"/student/courses",style:{display:"flex",alignItems:"center",justifyContent:t?"center":"flex-start"},children:[o.jsx("i",{className:"bi bi-book",style:{fontSize:"20px",marginRight:t?"0":"10px"}}),!t&&o.jsx("span",{children:"Enrolled Courses"})]})}),o.jsx("li",{className:"nav-item",children:o.jsxs(Fn,{className:`nav-link ${s("/student/assignments")?"active":""}`,to:"/student/assignments",style:{display:"flex",alignItems:"center",justifyContent:t?"center":"flex-start"},children:[o.jsx("i",{className:"bi bi-pencil",style:{fontSize:"20px",marginRight:t?"0":"10px"}}),!t&&o.jsx("span",{children:"Assignments"})]})}),o.jsx("li",{className:"nav-item",children:o.jsxs(Fn,{className:`nav-link ${s("/student/quiz")?"active":""}`,to:"/student/quiz",style:{display:"flex",alignItems:"center",justifyContent:t?"center":"flex-start"},children:[o.jsx("i",{className:"bi bi-question-circle",style:{fontSize:"20px",marginRight:t?"0":"10px"}}),!t&&o.jsx("span",{children:"Quiz"})]})}),o.jsx("li",{className:"nav-item",children:o.jsxs(Fn,{className:`nav-link ${s("/student/messages")?"active":""}`,to:"/student/messages",style:{display:"flex",alignItems:"center",justifyContent:t?"center":"flex-start"},children:[o.jsx("i",{className:"bi bi-chat-dots",style:{fontSize:"20px",marginRight:t?"0":"10px"}}),!t&&o.jsx("span",{children:"Messages"})]})})]}),o.jsx("div",{style:{flex:1}}),o.jsxs("ul",{className:"list-unstyled",style:{padding:0,margin:0,marginBottom:"10px"},children:[o.jsx("li",{className:"nav-item",children:o.jsxs(Fn,{className:`nav-link ${s("/student/settings")?"active":""}`,to:"/student/settings",style:{display:"flex",alignItems:"center",justifyContent:t?"center":"flex-start"},children:[o.jsx("i",{className:"bi bi-gear",style:{fontSize:"20px",marginRight:t?"0":"10px"}}),!t&&o.jsx("span",{children:"Settings"})]})}),o.jsx("li",{className:"nav-item",children:o.jsxs("button",{className:"nav-link btn btn-link text-start",onClick:r,style:{display:"flex",alignItems:"center",justifyContent:t?"center":"flex-start"},children:[o.jsx("i",{className:"bi bi-box-arrow-right",style:{fontSize:"20px",marginRight:t?"0":"10px"}}),!t&&o.jsx("span",{children:"Log Out"})]})})]}),o.jsx("style",{children:`
        .nav-link {
          padding: 10px;
          border-radius: 8px;
          color: black;
          text-decoration: none;
          transition: background-color 0.3s ease, color 0.3s ease;
          width: 100%;
        }

        .nav-link:hover {
          background-color: rgb(3, 3, 153);
          color: white;
        }

        .nav-link:hover i,
        .nav-link:hover span {
          color: white;
        }

        .nav-link.active {
          background-color: rgb(140, 0, 0);
          font-weight: bold;
          color: white;
        }

        .nav-link.active i,
        .nav-link.active span {
          color: white;
        }

        .nav-item {
          width: 100%;
        }

        .sidebar.collapsed .nav-link {
          justify-content: center;
        }

        .sidebar.collapsed .nav-link i {
          margin-right: 0;
        }

        .sidebar.collapsed .nav-link span {
          display: none;
        }
      `})]})}function Yi({sidebarCollapsed:t,toggleSidebar:e}){const[n]=w.useContext(Gg),[r,s]=w.useState(!1),[i,a]=w.useState([]),[l,c]=w.useState(window.innerWidth<700),u=w.useRef(null),h=w.useRef(null);mr(),w.useEffect(()=>{const g=()=>c(window.innerWidth<700);return window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[]),w.useEffect(()=>{(async()=>{var b;try{const y=(b=Vt())==null?void 0:b.user_id;if(y){const x=await vt().get(`/notifications/user/${y}/`);a(x.data)}}catch{a([])}})()},[]);const f=async()=>{var g;try{const b=(g=Vt())==null?void 0:g.user_id;b&&(await vt().post("/notifications/read-all/",{user_id:b}),a(y=>y.map(x=>({...x,seen:!0}))))}catch{}},m=()=>{s(g=>{const b=!g;return b&&f(),b})};return w.useEffect(()=>{const g=b=>{u.current&&!u.current.contains(b.target)&&h.current&&!h.current.contains(b.target)&&s(!1)};return document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[]),o.jsxs("header",{className:"dashboard-header",style:{position:"sticky",top:0,zIndex:1e3,display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",backgroundColor:"#fff",padding:"10px 20px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",borderRadius:"8px"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[!l&&o.jsx("button",{onClick:e,style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",marginRight:"15px"},children:""}),o.jsxs("h2",{style:{fontSize:"24px",fontWeight:"bold",margin:0},children:["Welcome back, ",(n==null?void 0:n.full_name)||"User","!"]})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px"},children:[o.jsxs("div",{ref:h,style:{position:"relative"},children:[o.jsxs("button",{onClick:m,style:{background:"none",border:"none",cursor:"pointer",position:"relative"},children:[o.jsx("i",{className:"fas fa-bell",style:{fontSize:"20px"}}),i.some(g=>!g.seen)&&o.jsx("span",{style:{position:"absolute",top:"-5px",right:"-5px",backgroundColor:"red",color:"white",borderRadius:"50%",padding:"2px 6px",fontSize:"12px"},children:i.filter(g=>!g.seen).length})]}),r&&o.jsx("div",{style:{position:"absolute",top:"30px",right:0,backgroundColor:"#fff",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",borderRadius:"8px",width:"300px",zIndex:1e3,color:"black",maxHeight:"350px",overflowY:"auto"},children:o.jsx("ul",{style:{listStyle:"none",padding:"10px",margin:0},children:i.length>0?i.map((g,b)=>o.jsxs("li",{style:{padding:"10px 0",borderBottom:"1px solid #f0f0f0",background:g.seen?"#fff":"#f5f7fa"},children:[o.jsx("div",{style:{fontWeight:600},children:g.title||g.type||"Notification"}),g.content&&o.jsx("div",{style:{fontSize:"0.95em",color:"#555"},children:g.content}),g.date&&o.jsx("div",{style:{fontSize:"0.8em",color:"#aaa"},children:new Date(g.date).toLocaleString()})]},b)):o.jsx("li",{style:{textAlign:"center",padding:"10px 0"},children:"No notifications"})})})]}),o.jsx("img",{src:(n==null?void 0:n.image)||"https://imgs.search.brave.com/RDlr00DIZWKKhPu4ymE1K_IzmblJm8CbiuCSzm-xnQ4/rs:fit:860:0:0:0/g:ce/aHR0cHM6Ly90NC5m/dGNkbi5uZXQvanBn/LzAxLzA3LzQzLzQ1/LzM2MF9GXzEwNzQz/NDUxMV9pYXJGMno4/OGM2RHM2QWxndHdv/dEhTQWt0V0NkWU9u/Ny5qcGc",alt:"User",className:"rounded-circle",style:{width:"40px",height:"40px",borderRadius:"50%",objectFit:"cover",cursor:"pointer"}})]})]})}function Lq(){var b;const[t,e]=w.useState(!0),[n,r]=w.useState([]),[s,i]=w.useState(""),[a,l]=w.useState(!1),c=mr(),u=rh(),h=()=>{e(!t)},f=async()=>{try{const y=await vt().get(`order/checkout/${u.order_oid}/`);r(y.data)}catch(y){y.response&&y.response.status===401&&(Cn.remove("access_token"),Cn.remove("refresh_token"),c("/"))}},m=async()=>{const y=new FormData;y.append("order_oid",n==null?void 0:n.oid),y.append("coupon_code",s);try{const x=await vt().post("order/coupon/",y);f(),dt().fire({icon:x.data.icon,title:x.data.message})}catch{dt().fire({icon:"error",title:"Failed to apply coupon."})}},g=()=>{l(!0),new window.YocoSDK({publicKey:"your_yoco_public_key"}).showPopup({amountInCents:Math.round(n.total*100),currency:"ZAR",callback:async x=>{if(x.error)dt().fire({icon:"error",title:"Payment failed. Please try again."}),l(!1);else try{(await vt().post(`payment/yoco-checkout/${n.oid}/`,{token:x.id})).status===200?c(`/payment-success/${n.oid}/`):dt().fire({icon:"error",title:"Payment failed. Please try again."})}catch{dt().fire({icon:"error",title:"Payment failed. Please try again."})}finally{l(!1)}}})};return w.useEffect(()=>{(async()=>{await f();const x=document.createElement("script");return x.src="https://js.yoco.com/sdk/v1/yoco-sdk-web.js",x.async=!0,x.onload=()=>{},document.body.appendChild(x),()=>{document.body.removeChild(x)}})()},[c,u.order_oid]),o.jsxs("div",{style:{display:"flex",minHeight:"100vh"},children:[o.jsx(Sc,{sidebarCollapsed:t}),o.jsxs("div",{style:{flex:1,marginLeft:t?"80px":"270px",transition:"margin-left 0.3s ease"},children:[o.jsx(Yi,{sidebarCollapsed:t,toggleSidebar:h}),o.jsx("div",{style:{padding:"20px"},children:o.jsxs("div",{className:"row mb-2",children:[o.jsx("div",{className:"col-md-8",children:o.jsx("div",{className:"card shadow-sm",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h5",{children:"Courses in Your Order"}),o.jsx("div",{className:"table-responsive",children:o.jsx("table",{className:"table",children:o.jsx("tbody",{children:(b=n==null?void 0:n.order_items)==null?void 0:b.map((y,x)=>o.jsxs("tr",{children:[o.jsx("td",{children:o.jsx("img",{src:y.course.image,alt:y.course.title,style:{width:"100px",height:"70px",objectFit:"cover"},className:"rounded"})}),o.jsx("td",{children:o.jsx("h6",{children:y.course.title})}),o.jsx("td",{children:o.jsxs("h6",{className:"text-success",children:["$",y.price]})})]},x))})})})]})})}),o.jsx("div",{className:"col-md-4",children:o.jsx("div",{className:"card shadow-sm",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h5",{children:"Order Summary"}),o.jsxs("ul",{className:"list-group mb-3",children:[o.jsxs("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:["Sub Total",o.jsxs("span",{children:["$",n.sub_total]})]}),o.jsxs("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:["Discount",o.jsxs("span",{children:["$",n.saved]})]}),o.jsxs("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:["Tax",o.jsxs("span",{children:["$",n.tax_fee]})]}),o.jsxs("li",{className:"list-group-item d-flex fw-bold justify-content-between align-items-center",children:["Total",o.jsxs("span",{className:"fw-bold",children:["$",n.total]})]})]}),o.jsxs("div",{className:"input-group mb-3",children:[o.jsx("input",{type:"text",className:"form-control",placeholder:"Coupon Code",onChange:y=>i(y.target.value)}),o.jsx("button",{className:"btn btn-primary",onClick:m,children:"Apply"})]}),o.jsx("div",{className:"d-grid",children:a?o.jsxs("button",{className:"btn btn-success",disabled:!0,children:["Processing ",o.jsx("i",{className:"fas fa-spinner fa-spin"})]}):o.jsx("button",{className:"btn btn-success",onClick:g,children:"Pay With Yoco"})})]})})})]})})]})]})}function Fq(){const[t,e]=w.useState([]),[n,r]=w.useState(""),s=rh(),i=new URLSearchParams(window.location.search),a=i.get("session_id"),l=i.get("paypal_order_id");return w.useEffect(()=>{const c=new FormData;c.append("order_oid",s.order_oid),c.append("session_id",a),c.append("paypal_order_id",l),r("Processing Payment");try{oa.post("payment/payment-sucess/",c).then(u=>{r(u.data.message)})}catch{}},[]),o.jsxs(o.Fragment,{children:[o.jsx(BaseHeader,{}),o.jsx("section",{className:"pt-0  position-relative overflow-hidden my-auto",children:o.jsx("div",{className:"container position-relative",children:o.jsxs("div",{className:"row g-5 align-items-center justify-content-center",children:[n==="Payment Successfull"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-lg-5",children:[o.jsx("h1",{className:"text-success",children:"Enrollment Successful!"}),o.jsxs("p",{children:[" ","Hey there, you enrollment in the 2 courses where successful, visit your ",o.jsx("a",{href:"",children:"My Courses"})," page, to view the courses now."]}),o.jsxs("button",{type:"button",className:"btn btn-primary mb-0 rounded-2",children:["View Enrolled Courses ",o.jsx("i",{className:"fas fa-arrow-right"})]})]}),o.jsx("div",{className:"col-lg-7 text-center",children:o.jsx("img",{src:"https://assets.materialup.com/uploads/bc4c9683-f623-42ef-9014-464ba0411c79/preview.png",className:"h-300px h-sm-400px h-md-500px h-xl-700px",alt:""})})]}),n==="Already Paid"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-lg-5",children:[o.jsx("h1",{className:"text-success",children:"Already Paid"}),o.jsxs("p",{children:[" ","Hey there, you enrollment in the 2 courses where successful, visit your ",o.jsx("a",{href:"",children:"My Courses"})," page, to view the courses now."]}),o.jsxs("button",{type:"button",className:"btn btn-primary mb-0 rounded-2",children:["View Enrolled Courses ",o.jsx("i",{className:"fas fa-arrow-right"})]})]}),o.jsx("div",{className:"col-lg-7 text-center",children:o.jsx("img",{src:"https://assets.materialup.com/uploads/bc4c9683-f623-42ef-9014-464ba0411c79/preview.png",className:"h-300px h-sm-400px h-md-500px h-xl-700px",alt:""})})]}),n==="Processing Payment"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-lg-5",children:[o.jsxs("h1",{className:"text-warning",children:["Processing Payment"," ",o.jsx("i",{className:"fas fa-spinner fa-spin"})]}),o.jsxs("p",{children:[" ","Hey there, hold on while we process your payment, please do not leave the page."]})]}),o.jsx("div",{className:"col-lg-7 text-center",children:o.jsx("img",{sty:!0,src:"https://www.icegif.com/wp-content/uploads/2023/07/icegif-1259.gif",className:"h-300px h-sm-400px h-md-500px h-xl-700px",alt:""})})]}),n==="Payment Failed"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-lg-5",children:[o.jsx("h1",{className:"text-danger",children:"Payment Failed "}),o.jsxs("p",{children:["Unfortunately, phew! Your payment did not go through. ",o.jsx("br",{})," ","Please try again."]}),o.jsxs("button",{type:"button",className:"btn btn-danger mb-0 rounded-2",children:["Try again ",o.jsx("i",{className:"fas fa-repeat"})]})]}),o.jsx("div",{className:"col-lg-7 text-center",children:o.jsx("img",{sty:!0,src:"https://media3.giphy.com/media/h4OGa0npayrJX2NRPT/giphy.gif?cid=790b76117pc6298jypyph0liy6xlp3lzb7b2y405ixesujeu&ep=v1_stickers_search&rid=giphy.gif&ct=e",className:"h-300px h-sm-400px h-md-500px h-xl-700px",alt:""})})]})]})})}),o.jsx(BaseFooter,{})]})}var Pm={exports:{}},M_={exports:{}},R_,GN;function Bq(){if(GN)return R_;GN=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return R_=t,R_}var L_,KN;function $q(){if(KN)return L_;KN=1;var t=Bq();function e(){}function n(){}return n.resetWarningCache=e,L_=function(){function r(a,l,c,u,h,f){if(f!==t){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}r.isRequired=r;function s(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:e};return i.PropTypes=i,i},L_}var XN;function sv(){return XN||(XN=1,M_.exports=$q()()),M_.exports}var Im={exports:{}};Im.exports;var QN;function zq(){return QN||(QN=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(Ja()),r=s(sv());function s(u){return u&&u.__esModule?u:{default:u}}(function(){var u=typeof reactHotLoaderGlobal<"u"?reactHotLoaderGlobal.enterModule:void 0;u&&u(t)})();function i(){return i=Object.assign||function(u){for(var h=1;h<arguments.length;h++){var f=arguments[h];for(var m in f)Object.prototype.hasOwnProperty.call(f,m)&&(u[m]=f[m])}return u},i.apply(this,arguments)}typeof reactHotLoaderGlobal<"u"&&reactHotLoaderGlobal.default.signature;var a=function(h){var f=Object.assign({},h),m={isDisabled:"is-disabled",isActive:"is-active",isActiveHalf:"is-active-half",willBeActive:"will-be-active"},g=Object.keys(m).filter(function(b){return delete f[b],h[b]}).map(function(b){return m[b]}).join(" ");return n.default.createElement("div",i({className:"react-rater-star ".concat(g)},f),"")};a.defaultProps={willBeActive:!1,isActive:!1,isActiveHalf:!1,isDisabled:!1},a.propTypes={isActive:r.default.bool,isActiveHalf:r.default.bool,willBeActive:r.default.bool,isDisabled:r.default.bool};var l=a,c=l;e.default=c,function(){var u=typeof reactHotLoaderGlobal<"u"?reactHotLoaderGlobal.default:void 0;u&&(u.register(a,"Star","/Users/simon/Personal/react-rater/src/star.js"),u.register(l,"default","/Users/simon/Personal/react-rater/src/star.js"))}(),function(){var u=typeof reactHotLoaderGlobal<"u"?reactHotLoaderGlobal.leaveModule:void 0;u&&u(t)}()}(Im,Im.exports)),Im.exports}Pm.exports;var ZN;function Uq(){return ZN||(ZN=1,function(t,e){function n(L){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},n(L)}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Star",{enumerable:!0,get:function(){return i.default}}),e.default=O;var r=u(Ja()),s=l(sv()),i=l(zq()),a=["total","interactive","children","rating","onRate","onRating","onCancelRate"];function l(L){return L&&L.__esModule?L:{default:L}}function c(L){if(typeof WeakMap!="function")return null;var P=new WeakMap,N=new WeakMap;return(c=function(M){return M?N:P})(L)}function u(L,P){if(L&&L.__esModule)return L;if(L===null||n(L)!=="object"&&typeof L!="function")return{default:L};var N=c(P);if(N&&N.has(L))return N.get(L);var U={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var q in L)if(q!=="default"&&Object.prototype.hasOwnProperty.call(L,q)){var E=M?Object.getOwnPropertyDescriptor(L,q):null;E&&(E.get||E.set)?Object.defineProperty(U,q,E):U[q]=L[q]}return U.default=L,N&&N.set(L,U),U}(function(){var L=typeof reactHotLoaderGlobal<"u"?reactHotLoaderGlobal.enterModule:void 0;L&&L(t)})();function h(){return h=Object.assign||function(L){for(var P=1;P<arguments.length;P++){var N=arguments[P];for(var U in N)Object.prototype.hasOwnProperty.call(N,U)&&(L[U]=N[U])}return L},h.apply(this,arguments)}function f(L,P){var N=Object.keys(L);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(L);P&&(U=U.filter(function(M){return Object.getOwnPropertyDescriptor(L,M).enumerable})),N.push.apply(N,U)}return N}function m(L){for(var P=1;P<arguments.length;P++){var N=arguments[P]!=null?arguments[P]:{};P%2?f(Object(N),!0).forEach(function(U){g(L,U,N[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(N)):f(Object(N)).forEach(function(U){Object.defineProperty(L,U,Object.getOwnPropertyDescriptor(N,U))})}return L}function g(L,P,N){return P in L?Object.defineProperty(L,P,{value:N,enumerable:!0,configurable:!0,writable:!0}):L[P]=N,L}function b(L,P){return T(L)||S(L,P)||x(L,P)||y()}function y(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x(L,P){if(L){if(typeof L=="string")return _(L,P);var N=Object.prototype.toString.call(L).slice(8,-1);if(N==="Object"&&L.constructor&&(N=L.constructor.name),N==="Map"||N==="Set")return Array.from(L);if(N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N))return _(L,P)}}function _(L,P){(P==null||P>L.length)&&(P=L.length);for(var N=0,U=new Array(P);N<P;N++)U[N]=L[N];return U}function S(L,P){var N=L==null?null:typeof Symbol<"u"&&L[Symbol.iterator]||L["@@iterator"];if(N!=null){var U=[],M=!0,q=!1,E,G;try{for(N=N.call(L);!(M=(E=N.next()).done)&&(U.push(E.value),!(P&&U.length===P));M=!0);}catch(Q){q=!0,G=Q}finally{try{!M&&N.return!=null&&N.return()}finally{if(q)throw G}}return U}}function T(L){if(Array.isArray(L))return L}function D(L,P){if(L==null)return{};var N=j(L,P),U,M;if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(L);for(M=0;M<q.length;M++)U=q[M],!(P.indexOf(U)>=0)&&Object.prototype.propertyIsEnumerable.call(L,U)&&(N[U]=L[U])}return N}function j(L,P){if(L==null)return{};var N={},U=Object.keys(L),M,q;for(q=0;q<U.length;q++)M=U[q],!(P.indexOf(M)>=0)&&(N[M]=L[M]);return N}var A=typeof reactHotLoaderGlobal<"u"?reactHotLoaderGlobal.default.signature:function(L){return L};function O(L){var P=this,N=L.total,U=L.interactive,M=L.children,q=L.rating,E=L.onRate,G=L.onRating,Q=L.onCancelRate,re=D(L,a),ee=(0,r.useState)({rating:L.rating,isRating:!1}),Z=b(ee,2),K=Z[0],F=Z[1],W=K.rating,me=K.isRating,ne=(0,r.useRef)(W),ge=r.Children.toArray(M);function we(Je){F(function(nt){return m(m({},nt),Je)})}function je(Je,nt){we({rating:Je,isRating:!0}),G&&G(m(m({},nt),{},{rating:Je}))}function Re(Je,nt){we({rating:Je,isRating:!1}),ne.current=Je,E&&E(m(m({},nt),{},{rating:Je}))}function ke(){we({rating:ne.current,isRating:!1}),Q&&Q({rating:W})}(0,r.useEffect)(function(){we({rating:q})},[q]);var We=Array.from(Array(N),function(Je,nt){var ct={isActive:!me&&W-nt>=1,willBeActive:me&&nt<W,isActiveHalf:!me&&W-nt>=.5&&W-nt<1,isDisabled:!U};return r.default.createElement("div",{key:"star-".concat(nt),onClick:U?Re.bind(P,nt+1):null,onMouseOver:U?je.bind(P,nt+1):null},ge.length?r.default.cloneElement(ge[nt%ge.length],ct):r.default.createElement(i.default,ct))});return r.default.createElement("div",h({className:"react-rater"},U?{onMouseOut:ke}:{},re),We)}A(O,`useState{[state, setState]({
    rating: props.rating,
    isRating: false
  })}
useRef{lastRating}
useEffect{}`),O.propTypes={total:s.default.number,rating:s.default.number,interactive:s.default.bool,children:s.default.any,onRate:s.default.func,onRating:s.default.func,onCancelRate:s.default.func},O.defaultProps={total:5,rating:0,interactive:!0},function(){var L=typeof reactHotLoaderGlobal<"u"?reactHotLoaderGlobal.default:void 0;L&&L.register(O,"Rater","/Users/simon/Personal/react-rater/src/index.js")}(),function(){var L=typeof reactHotLoaderGlobal<"u"?reactHotLoaderGlobal.leaveModule:void 0;L&&L(t)}()}(Pm,Pm.exports)),Pm.exports}var Hq=Uq();const CO=Jr(Hq);function Wq(){var b;const[t,e]=w.useState([]),[n,r]=w.useState(!0),[s,i]=w.useContext(Yg),a=GC().country,l=(b=Vt())==null?void 0:b.user_id,c=To(),u=async()=>{r(!0);try{await vt().get("/course/course-list/").then(y=>{e(y.data),r(!1)})}catch{}};w.useEffect(()=>{u()},[]);const h=async(y,x,_,S,T)=>{const D=new FormData;D.append("course_id",y),D.append("user_id",x),D.append("price",_),D.append("country_name",S),D.append("cart_id",T);try{await vt().post("course/cart/",D).then(j=>{dt().fire({title:"Added To Cart",icon:"success"}),oa.get(`course/cart-list/${To()}/`).then(A=>{var O;i((O=A.data)==null?void 0:O.length)})})}catch{}},[f,m]=w.useState("");console.log(f);const g=y=>{const x=y.target.value.toLowerCase();if(m(x),x==="")u();else{const _=t.filter(S=>S.title.toLowerCase().includes(x));e(_)}};return o.jsxs(o.Fragment,{children:[o.jsx(BaseHeader,{}),o.jsx("section",{className:"mb-5",style:{marginTop:"100px"},children:o.jsxs("div",{className:"container mb-lg-8 ",children:[o.jsxs("div",{className:"row mb-5 mt-3",children:[o.jsx("div",{className:"col-12",children:o.jsx("div",{className:"mb-6",children:o.jsxs("h2",{className:"mb-1 h1",children:['Showing Results for "',f||"No Search Query",'"']})})}),o.jsx("div",{className:"row",children:o.jsx("div",{className:"col-lg-6",children:o.jsx("input",{type:"text",className:"form-control lg mt-3",placeholder:"Search Courses...",name:"",id:"",onChange:g})})})]}),o.jsx("div",{className:"row",children:o.jsxs("div",{className:"col-md-12",children:[o.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4",children:t==null?void 0:t.map((y,x)=>{var _,S,T;return o.jsx("div",{className:"col",children:o.jsxs("div",{className:"card card-hover",children:[o.jsx(Fn,{to:`/course-detail/${y.slug}/`,children:o.jsx("img",{src:y.image,alt:"course",className:"card-img-top",style:{width:"100%",height:"200px",objectFit:"cover"}})}),o.jsxs("div",{className:"card-body",children:[o.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[o.jsxs("div",{children:[o.jsx("span",{className:"badge bg-info",children:y.level}),o.jsx("span",{className:"badge bg-success ms-2",children:y.language})]}),o.jsx("a",{href:"#",className:"fs-5",children:o.jsx("i",{className:"fas fa-heart text-danger align-middle"})})]}),o.jsx("h4",{className:"mb-2 text-truncate-line-2 ",children:o.jsx(Fn,{to:"/course-detail/slug/",className:"text-inherit text-decoration-none text-dark fs-5",children:y.title})}),o.jsxs("small",{children:["By: ",y.teacher.full_name]})," ",o.jsx("br",{}),o.jsxs("small",{children:[(_=y.students)==null?void 0:_.length," Student",((S=y.students)==null?void 0:S.length)>1&&"s"]})," ",o.jsx("br",{}),o.jsxs("div",{className:"lh-1 mt-3 d-flex",children:[o.jsx("span",{className:"align-text-top",children:o.jsx("span",{className:"fs-6",children:o.jsx(CO,{total:5,rating:y.average_rating||0})})}),o.jsx("span",{className:"text-warning",children:"4.5"}),o.jsxs("span",{className:"fs-6 ms-2",children:["(",(T=y.reviews)==null?void 0:T.length," Reviews)"]})]})]}),o.jsx("div",{className:"card-footer",children:o.jsxs("div",{className:"row align-items-center g-0",children:[o.jsx("div",{className:"col",children:o.jsxs("h5",{className:"mb-0",children:["$",y.price]})}),o.jsxs("div",{className:"col-auto",children:[o.jsx("button",{type:"button",onClick:()=>h(y.id,l,y.price,a,c),className:"text-inherit text-decoration-none btn btn-primary me-2",children:o.jsx("i",{className:"fas fa-shopping-cart text-primary text-white"})}),o.jsxs(Fn,{to:"",className:"text-inherit text-decoration-none btn btn-primary",children:["Enroll Now"," ",o.jsx("i",{className:"fas fa-arrow-right text-primary align-middle me-2 text-white"})]})]})]})})]})})})}),o.jsxs("nav",{className:"d-flex mt-5",children:[o.jsx("ul",{className:"pagination",children:o.jsx("li",{className:"",children:o.jsxs("button",{className:"page-link me-1",children:[o.jsx("i",{className:"ci-arrow-left me-2"}),"Previous"]})})}),o.jsx("ul",{className:"pagination",children:o.jsx("li",{className:"active",children:o.jsx("button",{className:"page-link",children:"1"})},1)}),o.jsx("ul",{className:"pagination",children:o.jsx("li",{className:"totalPages",children:o.jsxs("button",{className:"page-link ms-1",children:["Next",o.jsx("i",{className:"ci-arrow-right ms-3"})]})})})]})]})})]})}),o.jsx("section",{className:"my-8 py-lg-8",children:o.jsx("div",{className:"container",children:o.jsxs("div",{className:"row align-items-center bg-primary gx-0 rounded-3 mt-5",children:[o.jsx("div",{className:"col-lg-6 col-12 d-none d-lg-block",children:o.jsx("div",{className:"d-flex justify-content-center pt-4",children:o.jsxs("div",{className:"position-relative",children:[o.jsx("img",{src:"https://geeksui.codescandy.com/geeks/assets/images/png/cta-instructor-1.png",alt:"image",className:"img-fluid mt-n8"}),o.jsx("div",{className:"ms-n8 position-absolute bottom-0 start-0 mb-6",children:o.jsx("img",{src:"https://geeksui.codescandy.com/geeks/assets/images/svg/dollor.svg",alt:"dollor"})}),o.jsx("div",{className:"me-n4 position-absolute top-0 end-0",children:o.jsx("img",{src:"https://geeksui.codescandy.com/geeks/assets/images/svg/graph.svg",alt:"graph"})})]})})}),o.jsx("div",{className:"col-lg-5 col-12",children:o.jsxs("div",{className:"text-white p-5 p-lg-0",children:[o.jsx("h2",{className:"h1 text-white",children:"Become an instructor today"}),o.jsx("p",{className:"mb-0",children:"Instructors from around the world teach millions of students on Geeks. We provide the tools and skills to teach what you love."}),o.jsxs("a",{href:"#",className:"btn bg-white text-dark fw-bold mt-4",children:["Start Teaching Today ",o.jsx("i",{className:"fas fa-arrow-right"})]})]})})]})})}),o.jsx(BaseFooter,{})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function n0(t){return t+.5|0}const yu=(t,e,n)=>Math.max(Math.min(t,n),e);function Om(t){return yu(n0(t*2.55),0,255)}function vu(t){return yu(n0(t*255),0,255)}function tc(t){return yu(n0(t/2.55)/100,0,1)}function JN(t){return yu(n0(t*100),0,100)}const Ra={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},U2=[..."0123456789ABCDEF"],Vq=t=>U2[t&15],qq=t=>U2[(t&240)>>4]+U2[t&15],my=t=>(t&240)>>4===(t&15),Yq=t=>my(t.r)&&my(t.g)&&my(t.b)&&my(t.a);function Gq(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Ra[t[1]]*17,g:255&Ra[t[2]]*17,b:255&Ra[t[3]]*17,a:e===5?Ra[t[4]]*17:255}:(e===7||e===9)&&(n={r:Ra[t[1]]<<4|Ra[t[2]],g:Ra[t[3]]<<4|Ra[t[4]],b:Ra[t[5]]<<4|Ra[t[6]],a:e===9?Ra[t[7]]<<4|Ra[t[8]]:255})),n}const Kq=(t,e)=>t<255?e(t):"";function Xq(t){var e=Yq(t)?Vq:qq;return t?"#"+e(t.r)+e(t.g)+e(t.b)+Kq(t.a,e):void 0}const Qq=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function TO(t,e,n){const r=e*Math.min(n,1-n),s=(i,a=(i+t/30)%12)=>n-r*Math.max(Math.min(a-3,9-a,1),-1);return[s(0),s(8),s(4)]}function Zq(t,e,n){const r=(s,i=(s+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function Jq(t,e,n){const r=TO(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)r[s]*=1-e-n,r[s]+=e;return r}function eY(t,e,n,r,s){return t===s?(e-n)/r+(e<n?6:0):e===s?(n-t)/r+2:(t-e)/r+4}function KC(t){const n=t.r/255,r=t.g/255,s=t.b/255,i=Math.max(n,r,s),a=Math.min(n,r,s),l=(i+a)/2;let c,u,h;return i!==a&&(h=i-a,u=l>.5?h/(2-i-a):h/(i+a),c=eY(n,r,s,h,i),c=c*60+.5),[c|0,u||0,l]}function XC(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(vu)}function QC(t,e,n){return XC(TO,t,e,n)}function tY(t,e,n){return XC(Jq,t,e,n)}function nY(t,e,n){return XC(Zq,t,e,n)}function kO(t){return(t%360+360)%360}function rY(t){const e=Qq.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?Om(+e[5]):vu(+e[5]));const s=kO(+e[2]),i=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?r=tY(s,i,a):e[1]==="hsv"?r=nY(s,i,a):r=QC(s,i,a),{r:r[0],g:r[1],b:r[2],a:n}}function sY(t,e){var n=KC(t);n[0]=kO(n[0]+e),n=QC(n),t.r=n[0],t.g=n[1],t.b=n[2]}function iY(t){if(!t)return;const e=KC(t),n=e[0],r=JN(e[1]),s=JN(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${s}%, ${tc(t.a)})`:`hsl(${n}, ${r}%, ${s}%)`}const e3={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},t3={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function aY(){const t={},e=Object.keys(t3),n=Object.keys(e3);let r,s,i,a,l;for(r=0;r<e.length;r++){for(a=l=e[r],s=0;s<n.length;s++)i=n[s],l=l.replace(i,e3[i]);i=parseInt(t3[a],16),t[l]=[i>>16&255,i>>8&255,i&255]}return t}let gy;function oY(t){gy||(gy=aY(),gy.transparent=[0,0,0,0]);const e=gy[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const lY=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function cY(t){const e=lY.exec(t);let n=255,r,s,i;if(e){if(e[7]!==r){const a=+e[7];n=e[8]?Om(a):yu(a*255,0,255)}return r=+e[1],s=+e[3],i=+e[5],r=255&(e[2]?Om(r):yu(r,0,255)),s=255&(e[4]?Om(s):yu(s,0,255)),i=255&(e[6]?Om(i):yu(i,0,255)),{r,g:s,b:i,a:n}}}function uY(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${tc(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const F_=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Gh=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function dY(t,e,n){const r=Gh(tc(t.r)),s=Gh(tc(t.g)),i=Gh(tc(t.b));return{r:vu(F_(r+n*(Gh(tc(e.r))-r))),g:vu(F_(s+n*(Gh(tc(e.g))-s))),b:vu(F_(i+n*(Gh(tc(e.b))-i))),a:t.a+n*(e.a-t.a)}}function yy(t,e,n){if(t){let r=KC(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=QC(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function EO(t,e){return t&&Object.assign(e||{},t)}function n3(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=vu(t[3]))):(e=EO(t,{r:0,g:0,b:0,a:1}),e.a=vu(e.a)),e}function hY(t){return t.charAt(0)==="r"?cY(t):rY(t)}class mg{constructor(e){if(e instanceof mg)return e;const n=typeof e;let r;n==="object"?r=n3(e):n==="string"&&(r=Gq(e)||oY(e)||hY(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=EO(this._rgb);return e&&(e.a=tc(e.a)),e}set rgb(e){this._rgb=n3(e)}rgbString(){return this._valid?uY(this._rgb):void 0}hexString(){return this._valid?Xq(this._rgb):void 0}hslString(){return this._valid?iY(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,s=e.rgb;let i;const a=n===i?.5:n,l=2*a-1,c=r.a-s.a,u=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;i=1-u,r.r=255&u*r.r+i*s.r+.5,r.g=255&u*r.g+i*s.g+.5,r.b=255&u*r.b+i*s.b+.5,r.a=a*r.a+(1-a)*s.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=dY(this._rgb,e._rgb,n)),this}clone(){return new mg(this.rgb)}alpha(e){return this._rgb.a=vu(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=n0(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return yy(this._rgb,2,e),this}darken(e){return yy(this._rgb,2,-e),this}saturate(e){return yy(this._rgb,1,e),this}desaturate(e){return yy(this._rgb,1,-e),this}rotate(e){return sY(this._rgb,e),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Xl(){}const fY=(()=>{let t=0;return()=>t++})();function br(t){return t==null}function ws(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Kn(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Ga(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function sl(t,e){return Ga(t)?t:e}function Rn(t,e){return typeof t>"u"?e:t}const pY=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,jO=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Sr(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function ur(t,e,n,r){let s,i,a;if(ws(t))for(i=t.length,s=0;s<i;s++)e.call(n,t[s],s);else if(Kn(t))for(a=Object.keys(t),i=a.length,s=0;s<i;s++)e.call(n,t[a[s]],a[s])}function Ob(t,e){let n,r,s,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(s=t[n],i=e[n],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function Mb(t){if(ws(t))return t.map(Mb);if(Kn(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let s=0;for(;s<r;++s)e[n[s]]=Mb(t[n[s]]);return e}return t}function NO(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function mY(t,e,n,r){if(!NO(t))return;const s=e[t],i=n[t];Kn(s)&&Kn(i)?gg(s,i,r):e[t]=Mb(i)}function gg(t,e,n){const r=ws(e)?e:[e],s=r.length;if(!Kn(t))return t;n=n||{};const i=n.merger||mY;let a;for(let l=0;l<s;++l){if(a=r[l],!Kn(a))continue;const c=Object.keys(a);for(let u=0,h=c.length;u<h;++u)i(c[u],t,a,n)}return t}function Wm(t,e){return gg(t,e,{merger:gY})}function gY(t,e,n){if(!NO(t))return;const r=e[t],s=n[t];Kn(r)&&Kn(s)?Wm(r,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Mb(s))}const r3={"":t=>t,x:t=>t.x,y:t=>t.y};function yY(t){const e=t.split("."),n=[];let r="";for(const s of e)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function bY(t){const e=yY(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function yg(t,e){return(r3[e]||(r3[e]=bY(e)))(t)}function ZC(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Rb=t=>typeof t<"u",ku=t=>typeof t=="function",s3=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function xY(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Kr=Math.PI,Gr=2*Kr,vY=Gr+Kr,Lb=Number.POSITIVE_INFINITY,_Y=Kr/180,fs=Kr/2,fd=Kr/4,i3=Kr*2/3,DO=Math.log10,Lf=Math.sign;function Vm(t,e,n){return Math.abs(t-e)<n}function a3(t){const e=Math.round(t);t=Vm(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(DO(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function wY(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((s,i)=>s-i).pop(),e}function SY(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function bg(t){return!SY(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function CY(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function TY(t,e,n){let r,s,i;for(r=0,s=t.length;r<s;r++)i=t[r][n],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function lc(t){return t*(Kr/180)}function kY(t){return t*(180/Kr)}function o3(t){if(!Ga(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function AO(t,e){const n=e.x-t.x,r=e.y-t.y,s=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i<-.5*Kr&&(i+=Gr),{angle:i,distance:s}}function H2(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function EY(t,e){return(t-e+vY)%Gr-Kr}function cu(t){return(t%Gr+Gr)%Gr}function xg(t,e,n,r){const s=cu(t),i=cu(e),a=cu(n),l=cu(i-s),c=cu(a-s),u=cu(s-i),h=cu(s-a);return s===i||s===a||r&&i===a||l>c&&u<h}function _i(t,e,n){return Math.max(e,Math.min(n,t))}function jY(t){return _i(t,-32768,32767)}function uf(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function JC(t,e,n){n=n||(a=>t[a]<e);let r=t.length-1,s=0,i;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const Ad=(t,e,n,r)=>JC(t,n,r?s=>{const i=t[s][e];return i<n||i===n&&t[s+1][e]===n}:s=>t[s][e]<n),NY=(t,e,n)=>JC(t,n,r=>t[r][e]>=n);function DY(t,e,n){let r=0,s=t.length;for(;r<s&&t[r]<e;)r++;for(;s>r&&t[s-1]>n;)s--;return r>0||s<t.length?t.slice(r,s):t}const PO=["push","pop","shift","splice","unshift"];function AY(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),PO.forEach(n=>{const r="_onData"+ZC(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){const a=s.apply(this,i);return t._chartjs.listeners.forEach(l=>{typeof l[r]=="function"&&l[r](...i)}),a}})})}function l3(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(e);s!==-1&&r.splice(s,1),!(r.length>0)&&(PO.forEach(i=>{delete t[i]}),delete t._chartjs)}function PY(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const IO=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function OO(t,e){let n=[],r=!1;return function(...s){n=s,r||(r=!0,IO.call(window,()=>{r=!1,t.apply(e,n)}))}}function IY(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const eT=t=>t==="start"?"left":t==="end"?"right":"center",Gs=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,OY=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function MY(t,e,n){const r=e.length;let s=0,i=r;if(t._sorted){const{iScale:a,vScale:l,_parsed:c}=t,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,h=a.axis,{min:f,max:m,minDefined:g,maxDefined:b}=a.getUserBounds();if(g){if(s=Math.min(Ad(c,h,f).lo,n?r:Ad(e,h,a.getPixelForValue(f)).lo),u){const y=c.slice(0,s+1).reverse().findIndex(x=>!br(x[l.axis]));s-=Math.max(0,y)}s=_i(s,0,r-1)}if(b){let y=Math.max(Ad(c,a.axis,m,!0).hi+1,n?0:Ad(e,h,a.getPixelForValue(m),!0).hi+1);if(u){const x=c.slice(y-1).findIndex(_=>!br(_[l.axis]));y+=Math.max(0,x)}i=_i(y,s,r)-s}else i=r-s}return{start:s,count:i}}function RY(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=s,!0;const i=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,s),i}const by=t=>t===0||t===1,c3=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Gr/n)),u3=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Gr/n)+1,qm={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*fs)+1,easeOutSine:t=>Math.sin(t*fs),easeInOutSine:t=>-.5*(Math.cos(Kr*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>by(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>by(t)?t:c3(t,.075,.3),easeOutElastic:t=>by(t)?t:u3(t,.075,.3),easeInOutElastic(t){return by(t)?t:t<.5?.5*c3(t*2,.1125,.45):.5+.5*u3(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-qm.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?qm.easeInBounce(t*2)*.5:qm.easeOutBounce(t*2-1)*.5+.5};function tT(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function d3(t){return tT(t)?t:new mg(t)}function B_(t){return tT(t)?t:new mg(t).saturate(.5).darken(.1).hexString()}const LY=["x","y","borderWidth","radius","tension"],FY=["color","borderColor","backgroundColor"];function BY(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:FY},numbers:{type:"number",properties:LY}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function $Y(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const h3=new Map;function zY(t,e){e=e||{};const n=t+JSON.stringify(e);let r=h3.get(n);return r||(r=new Intl.NumberFormat(t,e),h3.set(n,r)),r}function nT(t,e,n){return zY(e,n).format(t)}const UY={values(t){return ws(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let s,i=t;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(s="scientific"),i=HY(t,n)}const a=DO(Math.abs(i)),l=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),c={notation:s,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),nT(t,r,c)}};function HY(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var MO={formatters:UY};function WY(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:MO.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Yd=Object.create(null),W2=Object.create(null);function Ym(t,e){if(!e)return t;const n=e.split(".");for(let r=0,s=n.length;r<s;++r){const i=n[r];t=t[i]||(t[i]=Object.create(null))}return t}function $_(t,e,n){return typeof e=="string"?gg(Ym(t,e),n):gg(Ym(t,""),e)}class VY{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>B_(s.backgroundColor),this.hoverBorderColor=(r,s)=>B_(s.borderColor),this.hoverColor=(r,s)=>B_(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return $_(this,e,n)}get(e){return Ym(this,e)}describe(e,n){return $_(W2,e,n)}override(e,n){return $_(Yd,e,n)}route(e,n,r,s){const i=Ym(this,e),a=Ym(this,r),l="_"+n;Object.defineProperties(i,{[l]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const c=this[l],u=a[s];return Kn(c)?Object.assign({},u,c):Rn(c,u)},set(c){this[l]=c}}})}apply(e){e.forEach(n=>n(this))}}var Zr=new VY({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[BY,$Y,WY]);function qY(t){return!t||br(t.size)||br(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function f3(t,e,n,r,s){let i=e[s];return i||(i=e[s]=t.measureText(s).width,n.push(s)),i>r&&(r=i),r}function pd(t,e,n){const r=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*r)/r+s}function p3(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function V2(t,e,n,r){RO(t,e,n,r,null)}function RO(t,e,n,r,s){let i,a,l,c,u,h,f,m;const g=e.pointStyle,b=e.rotation,y=e.radius;let x=(b||0)*_Y;if(g&&typeof g=="object"&&(i=g.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(x),t.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),t.restore();return}if(!(isNaN(y)||y<=0)){switch(t.beginPath(),g){default:s?t.ellipse(n,r,s/2,y,0,0,Gr):t.arc(n,r,y,0,Gr),t.closePath();break;case"triangle":h=s?s/2:y,t.moveTo(n+Math.sin(x)*h,r-Math.cos(x)*y),x+=i3,t.lineTo(n+Math.sin(x)*h,r-Math.cos(x)*y),x+=i3,t.lineTo(n+Math.sin(x)*h,r-Math.cos(x)*y),t.closePath();break;case"rectRounded":u=y*.516,c=y-u,a=Math.cos(x+fd)*c,f=Math.cos(x+fd)*(s?s/2-u:c),l=Math.sin(x+fd)*c,m=Math.sin(x+fd)*(s?s/2-u:c),t.arc(n-f,r-l,u,x-Kr,x-fs),t.arc(n+m,r-a,u,x-fs,x),t.arc(n+f,r+l,u,x,x+fs),t.arc(n-m,r+a,u,x+fs,x+Kr),t.closePath();break;case"rect":if(!b){c=Math.SQRT1_2*y,h=s?s/2:c,t.rect(n-h,r-c,2*h,2*c);break}x+=fd;case"rectRot":f=Math.cos(x)*(s?s/2:y),a=Math.cos(x)*y,l=Math.sin(x)*y,m=Math.sin(x)*(s?s/2:y),t.moveTo(n-f,r-l),t.lineTo(n+m,r-a),t.lineTo(n+f,r+l),t.lineTo(n-m,r+a),t.closePath();break;case"crossRot":x+=fd;case"cross":f=Math.cos(x)*(s?s/2:y),a=Math.cos(x)*y,l=Math.sin(x)*y,m=Math.sin(x)*(s?s/2:y),t.moveTo(n-f,r-l),t.lineTo(n+f,r+l),t.moveTo(n+m,r-a),t.lineTo(n-m,r+a);break;case"star":f=Math.cos(x)*(s?s/2:y),a=Math.cos(x)*y,l=Math.sin(x)*y,m=Math.sin(x)*(s?s/2:y),t.moveTo(n-f,r-l),t.lineTo(n+f,r+l),t.moveTo(n+m,r-a),t.lineTo(n-m,r+a),x+=fd,f=Math.cos(x)*(s?s/2:y),a=Math.cos(x)*y,l=Math.sin(x)*y,m=Math.sin(x)*(s?s/2:y),t.moveTo(n-f,r-l),t.lineTo(n+f,r+l),t.moveTo(n+m,r-a),t.lineTo(n-m,r+a);break;case"line":a=s?s/2:Math.cos(x)*y,l=Math.sin(x)*y,t.moveTo(n-a,r-l),t.lineTo(n+a,r+l);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(x)*(s?s/2:y),r+Math.sin(x)*y);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function vg(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function rT(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function sT(t){t.restore()}function YY(t,e,n,r,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else s==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function GY(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function KY(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),br(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function XY(t,e,n,r,s){if(s.strikethrough||s.underline){const i=t.measureText(r),a=e-i.actualBoundingBoxLeft,l=e+i.actualBoundingBoxRight,c=n-i.actualBoundingBoxAscent,u=n+i.actualBoundingBoxDescent,h=s.strikethrough?(c+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(a,h),t.lineTo(l,h),t.stroke()}}function QY(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function _g(t,e,n,r,s,i={}){const a=ws(e)?e:[e],l=i.strokeWidth>0&&i.strokeColor!=="";let c,u;for(t.save(),t.font=s.string,KY(t,i),c=0;c<a.length;++c)u=a[c],i.backdrop&&QY(t,i.backdrop),l&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),br(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(u,n,r,i.maxWidth)),t.fillText(u,n,r,i.maxWidth),XY(t,n,r,u,i),r+=Number(s.lineHeight);t.restore()}function q2(t,e){const{x:n,y:r,w:s,h:i,radius:a}=e;t.arc(n+a.topLeft,r+a.topLeft,a.topLeft,1.5*Kr,Kr,!0),t.lineTo(n,r+i-a.bottomLeft),t.arc(n+a.bottomLeft,r+i-a.bottomLeft,a.bottomLeft,Kr,fs,!0),t.lineTo(n+s-a.bottomRight,r+i),t.arc(n+s-a.bottomRight,r+i-a.bottomRight,a.bottomRight,fs,0,!0),t.lineTo(n+s,r+a.topRight),t.arc(n+s-a.topRight,r+a.topRight,a.topRight,0,-fs,!0),t.lineTo(n+a.topLeft,r)}const ZY=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,JY=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function eG(t,e){const n=(""+t).match(ZY);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const tG=t=>+t||0;function iT(t,e){const n={},r=Kn(e),s=r?Object.keys(e):e,i=Kn(t)?r?a=>Rn(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of s)n[a]=tG(i(a));return n}function nG(t){return iT(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Gm(t){return iT(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Ka(t){const e=nG(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Xs(t,e){t=t||{},e=e||Zr.font;let n=Rn(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=Rn(t.style,e.style);r&&!(""+r).match(JY)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:Rn(t.family,e.family),lineHeight:eG(Rn(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:Rn(t.weight,e.weight),string:""};return s.string=qY(s),s}function xy(t,e,n,r){let s,i,a;for(s=0,i=t.length;s<i;++s)if(a=t[s],a!==void 0&&a!==void 0)return a}function rG(t,e,n){const{min:r,max:s}=t,i=jO(e,(s-r)/2),a=(l,c)=>n&&l===0?0:l+c;return{min:a(r,-Math.abs(i)),max:a(s,i)}}function ih(t,e){return Object.assign(Object.create(t),e)}function aT(t,e=[""],n,r,s=()=>t[0]){const i=n||t;typeof r>"u"&&(r=$O("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:r,_getTarget:s,override:l=>aT([l,...t],e,i,r)};return new Proxy(a,{deleteProperty(l,c){return delete l[c],delete l._keys,delete t[0][c],!0},get(l,c){return FO(l,c,()=>dG(c,e,t,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,c){return g3(l).includes(c)},ownKeys(l){return g3(l)},set(l,c,u){const h=l._storage||(l._storage=s());return l[c]=h[c]=u,delete l._keys,!0}})}function Ff(t,e,n,r){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:LO(t,r),setContext:i=>Ff(t,i,n,r),override:i=>Ff(t.override(i),e,n,r)};return new Proxy(s,{deleteProperty(i,a){return delete i[a],delete t[a],!0},get(i,a,l){return FO(i,a,()=>iG(i,a,l))},getOwnPropertyDescriptor(i,a){return i._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(i,a,l){return t[a]=l,delete i[a],!0}})}function LO(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:r,isScriptable:ku(n)?n:()=>n,isIndexable:ku(r)?r:()=>r}}const sG=(t,e)=>t?t+ZC(e):e,oT=(t,e)=>Kn(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function FO(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function iG(t,e,n){const{_proxy:r,_context:s,_subProxy:i,_descriptors:a}=t;let l=r[e];return ku(l)&&a.isScriptable(e)&&(l=aG(e,l,t,n)),ws(l)&&l.length&&(l=oG(e,l,t,a.isIndexable)),oT(e,l)&&(l=Ff(l,s,i&&i[e],a)),l}function aG(t,e,n,r){const{_proxy:s,_context:i,_subProxy:a,_stack:l}=n;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let c=e(i,a||r);return l.delete(t),oT(t,c)&&(c=lT(s._scopes,s,t,c)),c}function oG(t,e,n,r){const{_proxy:s,_context:i,_subProxy:a,_descriptors:l}=n;if(typeof i.index<"u"&&r(t))return e[i.index%e.length];if(Kn(e[0])){const c=e,u=s._scopes.filter(h=>h!==c);e=[];for(const h of c){const f=lT(u,s,t,h);e.push(Ff(f,i,a&&a[t],l))}}return e}function BO(t,e,n){return ku(t)?t(e,n):t}const lG=(t,e)=>t===!0?e:typeof t=="string"?yg(e,t):void 0;function cG(t,e,n,r,s){for(const i of e){const a=lG(n,i);if(a){t.add(a);const l=BO(a._fallback,n,s);if(typeof l<"u"&&l!==n&&l!==r)return l}else if(a===!1&&typeof r<"u"&&n!==r)return null}return!1}function lT(t,e,n,r){const s=e._rootScopes,i=BO(e._fallback,n,r),a=[...t,...s],l=new Set;l.add(r);let c=m3(l,a,n,i||n,r);return c===null||typeof i<"u"&&i!==n&&(c=m3(l,a,i,c,r),c===null)?!1:aT(Array.from(l),[""],s,i,()=>uG(e,n,r))}function m3(t,e,n,r,s){for(;n;)n=cG(t,e,n,r,s);return n}function uG(t,e,n){const r=t._getTarget();e in r||(r[e]={});const s=r[e];return ws(s)&&Kn(n)?n:s||{}}function dG(t,e,n,r){let s;for(const i of e)if(s=$O(sG(i,t),n),typeof s<"u")return oT(t,s)?lT(n,r,t,s):s}function $O(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function g3(t){let e=t._keys;return e||(e=t._keys=hG(t._scopes)),e}function hG(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(r);return Array.from(e)}const fG=Number.EPSILON||1e-14,Bf=(t,e)=>e<t.length&&!t[e].skip&&t[e],zO=t=>t==="x"?"y":"x";function pG(t,e,n,r){const s=t.skip?e:t,i=e,a=n.skip?e:n,l=H2(i,s),c=H2(a,i);let u=l/(l+c),h=c/(l+c);u=isNaN(u)?0:u,h=isNaN(h)?0:h;const f=r*u,m=r*h;return{previous:{x:i.x-f*(a.x-s.x),y:i.y-f*(a.y-s.y)},next:{x:i.x+m*(a.x-s.x),y:i.y+m*(a.y-s.y)}}}function mG(t,e,n){const r=t.length;let s,i,a,l,c,u=Bf(t,0);for(let h=0;h<r-1;++h)if(c=u,u=Bf(t,h+1),!(!c||!u)){if(Vm(e[h],0,fG)){n[h]=n[h+1]=0;continue}s=n[h]/e[h],i=n[h+1]/e[h],l=Math.pow(s,2)+Math.pow(i,2),!(l<=9)&&(a=3/Math.sqrt(l),n[h]=s*a*e[h],n[h+1]=i*a*e[h])}}function gG(t,e,n="x"){const r=zO(n),s=t.length;let i,a,l,c=Bf(t,0);for(let u=0;u<s;++u){if(a=l,l=c,c=Bf(t,u+1),!l)continue;const h=l[n],f=l[r];a&&(i=(h-a[n])/3,l[`cp1${n}`]=h-i,l[`cp1${r}`]=f-i*e[u]),c&&(i=(c[n]-h)/3,l[`cp2${n}`]=h+i,l[`cp2${r}`]=f+i*e[u])}}function yG(t,e="x"){const n=zO(e),r=t.length,s=Array(r).fill(0),i=Array(r);let a,l,c,u=Bf(t,0);for(a=0;a<r;++a)if(l=c,c=u,u=Bf(t,a+1),!!c){if(u){const h=u[e]-c[e];s[a]=h!==0?(u[n]-c[n])/h:0}i[a]=l?u?Lf(s[a-1])!==Lf(s[a])?0:(s[a-1]+s[a])/2:s[a-1]:s[a]}mG(t,s,i),gG(t,i,e)}function vy(t,e,n){return Math.max(Math.min(t,n),e)}function bG(t,e){let n,r,s,i,a,l=vg(t[0],e);for(n=0,r=t.length;n<r;++n)a=i,i=l,l=n<r-1&&vg(t[n+1],e),i&&(s=t[n],a&&(s.cp1x=vy(s.cp1x,e.left,e.right),s.cp1y=vy(s.cp1y,e.top,e.bottom)),l&&(s.cp2x=vy(s.cp2x,e.left,e.right),s.cp2y=vy(s.cp2y,e.top,e.bottom)))}function xG(t,e,n,r,s){let i,a,l,c;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")yG(t,s);else{let u=r?t[t.length-1]:t[0];for(i=0,a=t.length;i<a;++i)l=t[i],c=pG(u,l,t[Math.min(i+1,a-(r?0:1))%a],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,u=l}e.capBezierPoints&&bG(t,n)}function cT(){return typeof window<"u"&&typeof document<"u"}function uT(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Fb(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const iv=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function vG(t,e){return iv(t).getPropertyValue(e)}const _G=["top","right","bottom","left"];function Fd(t,e,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const i=_G[s];r[i]=parseFloat(t[e+"-"+i+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const wG=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function SG(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:s,offsetY:i}=r;let a=!1,l,c;if(wG(s,i,t.target))l=s,c=i;else{const u=e.getBoundingClientRect();l=r.clientX-u.left,c=r.clientY-u.top,a=!0}return{x:l,y:c,box:a}}function xd(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,s=iv(n),i=s.boxSizing==="border-box",a=Fd(s,"padding"),l=Fd(s,"border","width"),{x:c,y:u,box:h}=SG(t,n),f=a.left+(h&&l.left),m=a.top+(h&&l.top);let{width:g,height:b}=e;return i&&(g-=a.width+l.width,b-=a.height+l.height),{x:Math.round((c-f)/g*n.width/r),y:Math.round((u-m)/b*n.height/r)}}function CG(t,e,n){let r,s;if(e===void 0||n===void 0){const i=t&&uT(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{const a=i.getBoundingClientRect(),l=iv(i),c=Fd(l,"border","width"),u=Fd(l,"padding");e=a.width-u.width-c.width,n=a.height-u.height-c.height,r=Fb(l.maxWidth,i,"clientWidth"),s=Fb(l.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:r||Lb,maxHeight:s||Lb}}const _y=t=>Math.round(t*10)/10;function TG(t,e,n,r){const s=iv(t),i=Fd(s,"margin"),a=Fb(s.maxWidth,t,"clientWidth")||Lb,l=Fb(s.maxHeight,t,"clientHeight")||Lb,c=CG(t,e,n);let{width:u,height:h}=c;if(s.boxSizing==="content-box"){const m=Fd(s,"border","width"),g=Fd(s,"padding");u-=g.width+m.width,h-=g.height+m.height}return u=Math.max(0,u-i.width),h=Math.max(0,r?u/r:h-i.height),u=_y(Math.min(u,a,c.maxWidth)),h=_y(Math.min(h,l,c.maxHeight)),u&&!h&&(h=_y(u/2)),(e!==void 0||n!==void 0)&&r&&c.height&&h>c.height&&(h=c.height,u=_y(Math.floor(h*r))),{width:u,height:h}}function y3(t,e,n){const r=e||1,s=Math.floor(t.height*r),i=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||a.height!==s||a.width!==i?(t.currentDevicePixelRatio=r,a.height=s,a.width=i,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const kG=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};cT()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function b3(t,e){const n=vG(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function vd(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function EG(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function jG(t,e,n,r){const s={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},a=vd(t,s,n),l=vd(s,i,n),c=vd(i,e,n),u=vd(a,l,n),h=vd(l,c,n);return vd(u,h,n)}const NG=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},DG=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function wf(t,e,n){return t?NG(e,n):DG()}function UO(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function HO(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function WO(t){return t==="angle"?{between:xg,compare:EY,normalize:cu}:{between:uf,compare:(e,n)=>e-n,normalize:e=>e}}function x3({start:t,end:e,count:n,loop:r,style:s}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:s}}function AG(t,e,n){const{property:r,start:s,end:i}=n,{between:a,normalize:l}=WO(r),c=e.length;let{start:u,end:h,loop:f}=t,m,g;if(f){for(u+=c,h+=c,m=0,g=c;m<g&&a(l(e[u%c][r]),s,i);++m)u--,h--;u%=c,h%=c}return h<u&&(h+=c),{start:u,end:h,loop:f,style:t.style}}function PG(t,e,n){if(!n)return[t];const{property:r,start:s,end:i}=n,a=e.length,{compare:l,between:c,normalize:u}=WO(r),{start:h,end:f,loop:m,style:g}=AG(t,e,n),b=[];let y=!1,x=null,_,S,T;const D=()=>c(s,T,_)&&l(s,T)!==0,j=()=>l(i,_)===0||c(i,T,_),A=()=>y||D(),O=()=>!y||j();for(let L=h,P=h;L<=f;++L)S=e[L%a],!S.skip&&(_=u(S[r]),_!==T&&(y=c(_,s,i),x===null&&A()&&(x=l(_,s)===0?L:P),x!==null&&O()&&(b.push(x3({start:x,end:L,loop:m,count:a,style:g})),x=null),P=L,T=_));return x!==null&&b.push(x3({start:x,end:f,loop:m,count:a,style:g})),b}function IG(t,e){const n=[],r=t.segments;for(let s=0;s<r.length;s++){const i=PG(r[s],t.points,e);i.length&&n.push(...i)}return n}function OG(t,e,n,r){let s=0,i=e-1;if(n&&!r)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(i+=s);i>s&&t[i%e].skip;)i--;return i%=e,{start:s,end:i}}function MG(t,e,n,r){const s=t.length,i=[];let a=e,l=t[e],c;for(c=e+1;c<=n;++c){const u=t[c%s];u.skip||u.stop?l.skip||(r=!1,i.push({start:e%s,end:(c-1)%s,loop:r}),e=a=u.stop?c:null):(a=c,l.skip&&(e=c)),l=u}return a!==null&&i.push({start:e%s,end:a%s,loop:r}),i}function RG(t,e){const n=t.points,r=t.options.spanGaps,s=n.length;if(!s)return[];const i=!!t._loop,{start:a,end:l}=OG(n,s,i,r);if(r===!0)return v3(t,[{start:a,end:l,loop:i}],n,e);const c=l<a?l+s:l,u=!!t._fullLoop&&a===0&&l===s-1;return v3(t,MG(n,a,c,u),n,e)}function v3(t,e,n,r){return!r||!r.setContext||!n?e:LG(t,e,n,r)}function LG(t,e,n,r){const s=t._chart.getContext(),i=_3(t.options),{_datasetIndex:a,options:{spanGaps:l}}=t,c=n.length,u=[];let h=i,f=e[0].start,m=f;function g(b,y,x,_){const S=l?-1:1;if(b!==y){for(b+=c;n[b%c].skip;)b-=S;for(;n[y%c].skip;)y+=S;b%c!==y%c&&(u.push({start:b%c,end:y%c,loop:x,style:_}),h=_,f=y%c)}}for(const b of e){f=l?f:b.start;let y=n[f%c],x;for(m=f+1;m<=b.end;m++){const _=n[m%c];x=_3(r.setContext(ih(s,{type:"segment",p0:y,p1:_,p0DataIndex:(m-1)%c,p1DataIndex:m%c,datasetIndex:a}))),FG(x,h)&&g(f,m-1,b.loop,h),y=_,h=x}f<m-1&&g(f,m-1,b.loop,h)}return u}function _3(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function FG(t,e){if(!e)return!1;const n=[],r=function(s,i){return tT(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function wy(t,e,n){return t.options.clip?t[n]:e[n]}function BG(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:wy(n,e,"left"),right:wy(n,e,"right"),top:wy(r,e,"top"),bottom:wy(r,e,"bottom")}:e}function $G(t,e){const n=e._clip;if(n.disabled)return!1;const r=BG(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class zG{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,s){const i=n.listeners[s],a=n.duration;i.forEach(l=>l({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(r-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=IO.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const i=r.items;let a=i.length-1,l=!1,c;for(;a>=0;--a)c=i[a],c._active?(c._total>r.duration&&(r.duration=c._total),c.tick(e),l=!0):(i[a]=i[i.length-1],i.pop());l&&(s.draw(),this._notify(s,r,e,"progress")),i.length||(r.running=!1,this._notify(s,r,e,"complete"),r.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Zl=new zG;const w3="transparent",UG={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=d3(t||w3),s=r.valid&&d3(e||w3);return s&&s.valid?s.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class HG{constructor(e,n,r,s){const i=n[r];s=xy([e.to,s,i,e.from]);const a=xy([e.from,i,s]);this._active=!0,this._fn=e.fn||UG[e.type||typeof a],this._easing=qm[e.easing]||qm.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const s=this._target[this._prop],i=r-this._start,a=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=xy([e.to,n,s,e.from]),this._from=xy([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,s=this._prop,i=this._from,a=this._loop,l=this._to;let c;if(this._active=i!==l&&(a||n<r),!this._active){this._target[s]=l,this._notify(!0);return}if(n<0){this._target[s]=i;return}c=n/r%2,c=a&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[s]=this._fn(i,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][n]()}}class VO{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Kn(e))return;const n=Object.keys(Zr.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const i=e[s];if(!Kn(i))return;const a={};for(const l of n)a[l]=i[l];(ws(i.properties)&&i.properties||[s]).forEach(l=>{(l===s||!r.has(l))&&r.set(l,a)})})}_animateOptions(e,n){const r=n.options,s=VG(e,r);if(!s)return[];const i=this._createAnimations(s,r);return r.$shared&&WG(e.options.$animations,r).then(()=>{e.options=r},()=>{}),i}_createAnimations(e,n){const r=this._properties,s=[],i=e.$animations||(e.$animations={}),a=Object.keys(n),l=Date.now();let c;for(c=a.length-1;c>=0;--c){const u=a[c];if(u.charAt(0)==="$")continue;if(u==="options"){s.push(...this._animateOptions(e,n));continue}const h=n[u];let f=i[u];const m=r.get(u);if(f)if(m&&f.active()){f.update(m,h,l);continue}else f.cancel();if(!m||!m.duration){e[u]=h;continue}i[u]=f=new HG(m,e,u,h),s.push(f)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return Zl.add(this._chart,r),!0}}function WG(t,e){const n=[],r=Object.keys(e);for(let s=0;s<r.length;s++){const i=t[r[s]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function VG(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function S3(t,e){const n=t&&t.options||{},r=n.reverse,s=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:r?i:s,end:r?s:i}}function qG(t,e,n){if(n===!1)return!1;const r=S3(t,n),s=S3(e,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function YG(t){let e,n,r,s;return Kn(t)?(e=t.top,n=t.right,r=t.bottom,s=t.left):e=n=r=s=t,{top:e,right:n,bottom:r,left:s,disabled:t===!1}}function qO(t,e){const n=[],r=t._getSortedDatasetMetas(e);let s,i;for(s=0,i=r.length;s<i;++s)n.push(r[s].index);return n}function C3(t,e,n,r={}){const s=t.keys,i=r.mode==="single";let a,l,c,u;if(e===null)return;let h=!1;for(a=0,l=s.length;a<l;++a){if(c=+s[a],c===n){if(h=!0,r.all)continue;break}u=t.values[c],Ga(u)&&(i||e===0||Lf(e)===Lf(u))&&(e+=u)}return!h&&!r.all?0:e}function GG(t,e){const{iScale:n,vScale:r}=e,s=n.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",a=Object.keys(t),l=new Array(a.length);let c,u,h;for(c=0,u=a.length;c<u;++c)h=a[c],l[c]={[s]:h,[i]:t[h]};return l}function z_(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function KG(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function XG(t){const{min:e,max:n,minDefined:r,maxDefined:s}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function QG(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function T3(t,e,n,r){for(const s of e.getMatchingVisibleMetas(r).reverse()){const i=t[s.index];if(n&&i>0||!n&&i<0)return s.index}return null}function k3(t,e){const{chart:n,_cachedMeta:r}=t,s=n._stacks||(n._stacks={}),{iScale:i,vScale:a,index:l}=r,c=i.axis,u=a.axis,h=KG(i,a,r),f=e.length;let m;for(let g=0;g<f;++g){const b=e[g],{[c]:y,[u]:x}=b,_=b._stacks||(b._stacks={});m=_[u]=QG(s,h,y),m[l]=x,m._top=T3(m,a,!0,r.type),m._bottom=T3(m,a,!1,r.type);const S=m._visualValues||(m._visualValues={});S[l]=x}}function U_(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function ZG(t,e){return ih(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function JG(t,e,n){return ih(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function fm(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const s of e){const i=s._stacks;if(!i||i[r]===void 0||i[r][n]===void 0)return;delete i[r][n],i[r]._visualValues!==void 0&&i[r]._visualValues[n]!==void 0&&delete i[r]._visualValues[n]}}}const H_=t=>t==="reset"||t==="none",E3=(t,e)=>e?t:Object.assign({},t),eK=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:qO(n,!0),values:null};class Sf{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=z_(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&fm(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(f,m,g,b)=>f==="x"?m:f==="r"?b:g,i=n.xAxisID=Rn(r.xAxisID,U_(e,"x")),a=n.yAxisID=Rn(r.yAxisID,U_(e,"y")),l=n.rAxisID=Rn(r.rAxisID,U_(e,"r")),c=n.indexAxis,u=n.iAxisID=s(c,i,a,l),h=n.vAxisID=s(c,a,i,l);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&l3(this._data,this),e._stacked&&fm(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(Kn(n)){const s=this._cachedMeta;this._data=GG(n,s)}else if(r!==n){if(r){l3(r,this);const s=this._cachedMeta;fm(s),s._parsed=[]}n&&Object.isExtensible(n)&&AY(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const i=n._stacked;n._stacked=z_(n.vScale,n),n.stack!==r.stack&&(s=!0,fm(n),n.stack=r.stack),this._resyncElements(e),(s||i!==n._stacked)&&(k3(this,n._parsed),n._stacked=z_(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:s}=this,{iScale:i,_stacked:a}=r,l=i.axis;let c=e===0&&n===s.length?!0:r._sorted,u=e>0&&r._parsed[e-1],h,f,m;if(this._parsing===!1)r._parsed=s,r._sorted=!0,m=s;else{ws(s[e])?m=this.parseArrayData(r,s,e,n):Kn(s[e])?m=this.parseObjectData(r,s,e,n):m=this.parsePrimitiveData(r,s,e,n);const g=()=>f[l]===null||u&&f[l]<u[l];for(h=0;h<n;++h)r._parsed[h+e]=f=m[h],c&&(g()&&(c=!1),u=f);r._sorted=c}a&&k3(this,m)}parsePrimitiveData(e,n,r,s){const{iScale:i,vScale:a}=e,l=i.axis,c=a.axis,u=i.getLabels(),h=i===a,f=new Array(s);let m,g,b;for(m=0,g=s;m<g;++m)b=m+r,f[m]={[l]:h||i.parse(u[b],b),[c]:a.parse(n[b],b)};return f}parseArrayData(e,n,r,s){const{xScale:i,yScale:a}=e,l=new Array(s);let c,u,h,f;for(c=0,u=s;c<u;++c)h=c+r,f=n[h],l[c]={x:i.parse(f[0],h),y:a.parse(f[1],h)};return l}parseObjectData(e,n,r,s){const{xScale:i,yScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=new Array(s);let h,f,m,g;for(h=0,f=s;h<f;++h)m=h+r,g=n[m],u[h]={x:i.parse(yg(g,l),m),y:a.parse(yg(g,c),m)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const s=this.chart,i=this._cachedMeta,a=n[e.axis],l={keys:qO(s,!0),values:n._stacks[e.axis]._visualValues};return C3(l,a,i.index,{mode:r})}updateRangeFromParsed(e,n,r,s){const i=r[n.axis];let a=i===null?NaN:i;const l=s&&r._stacks[n.axis];s&&l&&(s.values=l,a=C3(s,i,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const r=this._cachedMeta,s=r._parsed,i=r._sorted&&e===r.iScale,a=s.length,l=this._getOtherScale(e),c=eK(n,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:f}=XG(l);let m,g;function b(){g=s[m];const y=g[l.axis];return!Ga(g[e.axis])||h>y||f<y}for(m=0;m<a&&!(!b()&&(this.updateRangeFromParsed(u,e,g,c),i));++m);if(i){for(m=a-1;m>=0;--m)if(!b()){this.updateRangeFromParsed(u,e,g,c);break}}return u}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let s,i,a;for(s=0,i=n.length;s<i;++s)a=n[s][e.axis],Ga(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,s=n.vScale,i=this.getParsed(e);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=YG(Rn(this.options.clip,qG(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],i=n.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||s.length-l,u=this.options.drawActiveElementsOnTop;let h;for(r.dataset&&r.dataset.draw(e,i,l,c),h=l;h<l+c;++h){const f=s[h];f.hidden||(f.active&&u?a.push(f):f.draw(e,i))}for(h=0;h<a.length;++h)a[h].draw(e,i)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const s=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];i=a.$context||(a.$context=JG(this.getContext(),e,a)),i.parsed=this.getParsed(e),i.raw=s.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=ZG(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=r,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const s=n==="active",i=this._cachedDataOpts,a=e+"-"+n,l=i[a],c=this.enableOptionSharing&&Rb(r);if(l)return E3(l,c);const u=this.chart.config,h=u.datasetElementScopeKeys(this._type,e),f=s?[`${e}Hover`,"hover",e,""]:[e,""],m=u.getOptionScopes(this.getDataset(),h),g=Object.keys(Zr.elements[e]),b=()=>this.getContext(r,s,n),y=u.resolveNamedOptions(m,g,b,f);return y.$shared&&(y.$shared=c,i[a]=Object.freeze(E3(y,c))),y}_resolveAnimations(e,n,r){const s=this.chart,i=this._cachedDataOpts,a=`animation-${n}`,l=i[a];if(l)return l;let c;if(s.options.animation!==!1){const h=this.chart.config,f=h.datasetAnimationScopeKeys(this._type,n),m=h.getOptionScopes(this.getDataset(),f);c=h.createResolver(m,this.getContext(e,r,n))}const u=new VO(s,c&&c.animations);return c&&c._cacheable&&(i[a]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||H_(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),s=this._sharedOptions,i=this.getSharedOptions(r),a=this.includeOptions(n,i)||i!==s;return this.updateSharedOptions(i,n,r),{sharedOptions:i,includeOptions:a}}updateElement(e,n,r,s){H_(s)?Object.assign(e,r):this._resolveAnimations(n,s).update(e,r)}updateSharedOptions(e,n,r){e&&!H_(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,s){e.active=s;const i=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(e,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[l,c,u]of this._syncList)this[l](c,u);this._syncList=[];const s=r.length,i=n.length,a=Math.min(i,s);a&&this.parse(0,a),i>s?this._insertElements(s,i-s,e):i<s&&this._removeElements(i,s-i)}_insertElements(e,n,r=!0){const s=this._cachedMeta,i=s.data,a=e+n;let l;const c=u=>{for(u.length+=n,l=u.length-1;l>=a;l--)u[l]=u[l-n]};for(c(i),l=e;l<a;++l)i[l]=new this.dataElementType;this._parsing&&c(s._parsed),this.parse(e,n),r&&this.updateElements(i,e,n,"reset")}updateElements(e,n,r,s){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(e,n);r._stacked&&fm(r,s)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,s]=e;this[n](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Ht(Sf,"defaults",{}),Ht(Sf,"datasetElementType",null),Ht(Sf,"dataElementType",null);function tK(t,e,n){let r=1,s=1,i=0,a=0;if(e<Gr){const l=t,c=l+e,u=Math.cos(l),h=Math.sin(l),f=Math.cos(c),m=Math.sin(c),g=(T,D,j)=>xg(T,l,c,!0)?1:Math.max(D,D*n,j,j*n),b=(T,D,j)=>xg(T,l,c,!0)?-1:Math.min(D,D*n,j,j*n),y=g(0,u,f),x=g(fs,h,m),_=b(Kr,u,f),S=b(Kr+fs,h,m);r=(y-_)/2,s=(x-S)/2,i=-(y+_)/2,a=-(x+S)/2}return{ratioX:r,ratioY:s,offsetX:i,offsetY:a}}class Mm extends Sf{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=r;else{let i=c=>+r[c];if(Kn(r[e])){const{key:c="value"}=this._parsing;i=u=>+yg(r[u],c)}let a,l;for(a=e,l=e+n;a<l;++a)s._parsed[a]=i(a)}}_getRotation(){return lc(this.options.rotation-90)}_getCircumference(){return lc(this.options.circumference)}_getRotationExtents(){let e=Gr,n=-Gr;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const s=this.chart.getDatasetMeta(r).controller,i=s._getRotation(),a=s._getCircumference();e=Math.min(e,i),n=Math.max(n,i+a)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,s=this._cachedMeta,i=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,l=Math.max((Math.min(r.width,r.height)-a)/2,0),c=Math.min(pY(this.options.cutout,l),1),u=this._getRingWeight(this.index),{circumference:h,rotation:f}=this._getRotationExtents(),{ratioX:m,ratioY:g,offsetX:b,offsetY:y}=tK(f,h,c),x=(r.width-a)/m,_=(r.height-a)/g,S=Math.max(Math.min(x,_)/2,0),T=jO(this.options.radius,S),D=Math.max(T*c,0),j=(T-D)/this._getVisibleDatasetWeightTotal();this.offsetX=b*T,this.offsetY=y*T,s.total=this.calculateTotal(),this.outerRadius=T-j*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-j*u,0),this.updateElements(i,0,i.length,e)}_circumference(e,n){const r=this.options,s=this._cachedMeta,i=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*i/Gr)}updateElements(e,n,r,s){const i=s==="reset",a=this.chart,l=a.chartArea,u=a.options.animation,h=(l.left+l.right)/2,f=(l.top+l.bottom)/2,m=i&&u.animateScale,g=m?0:this.innerRadius,b=m?0:this.outerRadius,{sharedOptions:y,includeOptions:x}=this._getSharedOptions(n,s);let _=this._getRotation(),S;for(S=0;S<n;++S)_+=this._circumference(S,i);for(S=n;S<n+r;++S){const T=this._circumference(S,i),D=e[S],j={x:h+this.offsetX,y:f+this.offsetY,startAngle:_,endAngle:_+T,circumference:T,outerRadius:b,innerRadius:g};x&&(j.options=y||this.resolveDataElementOptions(S,D.active?"active":s)),_+=T,this.updateElement(D,S,j,s)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,s;for(s=0;s<n.length;s++){const i=e._parsed[s];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(r+=Math.abs(i))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Gr*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,s=r.data.labels||[],i=nT(n._parsed[e],r.options.locale);return{label:s[e]||"",value:i}}getMaxBorderWidth(e){let n=0;const r=this.chart;let s,i,a,l,c;if(!e){for(s=0,i=r.data.datasets.length;s<i;++s)if(r.isDatasetVisible(s)){a=r.getDatasetMeta(s),e=a.data,l=a.controller;break}}if(!e)return 0;for(s=0,i=e.length;s<i;++s)c=l.resolveDataElementOptions(s),c.borderAlign!=="inner"&&(n=Math.max(n,c.borderWidth||0,c.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,s=e.length;r<s;++r){const i=this.resolveDataElementOptions(r);n=Math.max(n,i.offset||0,i.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(Rn(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Ht(Mm,"id","doughnut"),Ht(Mm,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Ht(Mm,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Ht(Mm,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:s}}=e.legend.options;return n.labels.map((i,a)=>{const c=e.getDatasetMeta(0).controller.getStyle(a);return{text:i,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:s,lineWidth:c.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class ib extends Sf{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:s=[],_dataset:i}=n,a=this.chart._animationsDisabled;let{start:l,count:c}=MY(n,s,a);this._drawStart=l,this._drawCount=c,RY(n)&&(l=0,c=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=s;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:u},e),this.updateElements(s,l,c,e)}updateElements(e,n,r,s){const i=s==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:h,includeOptions:f}=this._getSharedOptions(n,s),m=a.axis,g=l.axis,{spanGaps:b,segment:y}=this.options,x=bg(b)?b:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||i||s==="none",S=n+r,T=e.length;let D=n>0&&this.getParsed(n-1);for(let j=0;j<T;++j){const A=e[j],O=_?A:{};if(j<n||j>=S){O.skip=!0;continue}const L=this.getParsed(j),P=br(L[g]),N=O[m]=a.getPixelForValue(L[m],j),U=O[g]=i||P?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,L,c):L[g],j);O.skip=isNaN(N)||isNaN(U)||P,O.stop=j>0&&Math.abs(L[m]-D[m])>x,y&&(O.parsed=L,O.raw=u.data[j]),f&&(O.options=h||this.resolveDataElementOptions(j,A.active?"active":s)),_||this.updateElement(A,j,O,s),D=L}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return r;const i=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,i,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Ht(ib,"id","line"),Ht(ib,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Ht(ib,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function md(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class dT{constructor(e){Ht(this,"options");this.options=e||{}}static override(e){Object.assign(dT.prototype,e)}init(){}formats(){return md()}parse(){return md()}format(){return md()}add(){return md()}diff(){return md()}startOf(){return md()}endOf(){return md()}}var nK={_date:dT};function rK(t,e,n,r){const{controller:s,data:i,_sorted:a}=t,l=s._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&a&&i.length){const u=l._reversePixels?NY:Ad;if(r){if(s._sharedOptions){const h=i[0],f=typeof h.getRange=="function"&&h.getRange(e);if(f){const m=u(i,e,n-f),g=u(i,e,n+f);return{lo:m.lo,hi:g.hi}}}}else{const h=u(i,e,n);if(c){const{vScale:f}=s._cachedMeta,{_parsed:m}=t,g=m.slice(0,h.lo+1).reverse().findIndex(y=>!br(y[f.axis]));h.lo-=Math.max(0,g);const b=m.slice(h.hi).findIndex(y=>!br(y[f.axis]));h.hi+=Math.max(0,b)}return h}}return{lo:0,hi:i.length-1}}function av(t,e,n,r,s){const i=t.getSortedVisibleDatasetMetas(),a=n[e];for(let l=0,c=i.length;l<c;++l){const{index:u,data:h}=i[l],{lo:f,hi:m}=rK(i[l],e,a,s);for(let g=f;g<=m;++g){const b=h[g];b.skip||r(b,u,g)}}}function sK(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,s){const i=e?Math.abs(r.x-s.x):0,a=n?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}function W_(t,e,n,r,s){const i=[];return!s&&!t.isPointInArea(e)||av(t,n,e,function(l,c,u){!s&&!vg(l,t.chartArea,0)||l.inRange(e.x,e.y,r)&&i.push({element:l,datasetIndex:c,index:u})},!0),i}function iK(t,e,n,r){let s=[];function i(a,l,c){const{startAngle:u,endAngle:h}=a.getProps(["startAngle","endAngle"],r),{angle:f}=AO(a,{x:e.x,y:e.y});xg(f,u,h)&&s.push({element:a,datasetIndex:l,index:c})}return av(t,n,e,i),s}function aK(t,e,n,r,s,i){let a=[];const l=sK(n);let c=Number.POSITIVE_INFINITY;function u(h,f,m){const g=h.inRange(e.x,e.y,s);if(r&&!g)return;const b=h.getCenterPoint(s);if(!(!!i||t.isPointInArea(b))&&!g)return;const x=l(e,b);x<c?(a=[{element:h,datasetIndex:f,index:m}],c=x):x===c&&a.push({element:h,datasetIndex:f,index:m})}return av(t,n,e,u),a}function V_(t,e,n,r,s,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!r?iK(t,e,n,s):aK(t,e,n,r,s,i)}function j3(t,e,n,r,s){const i=[],a=n==="x"?"inXRange":"inYRange";let l=!1;return av(t,n,e,(c,u,h)=>{c[a]&&c[a](e[n],s)&&(i.push({element:c,datasetIndex:u,index:h}),l=l||c.inRange(e.x,e.y,s))}),r&&!l?[]:i}var oK={modes:{index(t,e,n,r){const s=xd(e,t),i=n.axis||"x",a=n.includeInvisible||!1,l=n.intersect?W_(t,s,i,r,a):V_(t,s,i,!1,r,a),c=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const h=l[0].index,f=u.data[h];f&&!f.skip&&c.push({element:f,datasetIndex:u.index,index:h})}),c):[]},dataset(t,e,n,r){const s=xd(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;let l=n.intersect?W_(t,s,i,r,a):V_(t,s,i,!1,r,a);if(l.length>0){const c=l[0].datasetIndex,u=t.getDatasetMeta(c).data;l=[];for(let h=0;h<u.length;++h)l.push({element:u[h],datasetIndex:c,index:h})}return l},point(t,e,n,r){const s=xd(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;return W_(t,s,i,r,a)},nearest(t,e,n,r){const s=xd(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;return V_(t,s,i,n.intersect,r,a)},x(t,e,n,r){const s=xd(e,t);return j3(t,s,"x",n.intersect,r)},y(t,e,n,r){const s=xd(e,t);return j3(t,s,"y",n.intersect,r)}}};const YO=["left","top","right","bottom"];function pm(t,e){return t.filter(n=>n.pos===e)}function N3(t,e){return t.filter(n=>YO.indexOf(n.pos)===-1&&n.box.axis===e)}function mm(t,e){return t.sort((n,r)=>{const s=e?r:n,i=e?n:r;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function lK(t){const e=[];let n,r,s,i,a,l;for(n=0,r=(t||[]).length;n<r;++n)s=t[n],{position:i,options:{stack:a,stackWeight:l=1}}=s,e.push({index:n,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&i+a,stackWeight:l});return e}function cK(t){const e={};for(const n of t){const{stack:r,pos:s,stackWeight:i}=n;if(!r||!YO.includes(s))continue;const a=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=i}return e}function uK(t,e){const n=cK(t),{vBoxMaxWidth:r,hBoxMaxHeight:s}=e;let i,a,l;for(i=0,a=t.length;i<a;++i){l=t[i];const{fullSize:c}=l.box,u=n[l.stack],h=u&&l.stackWeight/u.weight;l.horizontal?(l.width=h?h*r:c&&e.availableWidth,l.height=s):(l.width=r,l.height=h?h*s:c&&e.availableHeight)}return n}function dK(t){const e=lK(t),n=mm(e.filter(u=>u.box.fullSize),!0),r=mm(pm(e,"left"),!0),s=mm(pm(e,"right")),i=mm(pm(e,"top"),!0),a=mm(pm(e,"bottom")),l=N3(e,"x"),c=N3(e,"y");return{fullSize:n,leftAndTop:r.concat(i),rightAndBottom:s.concat(c).concat(a).concat(l),chartArea:pm(e,"chartArea"),vertical:r.concat(s).concat(c),horizontal:i.concat(a).concat(l)}}function D3(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function GO(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function hK(t,e,n,r){const{pos:s,box:i}=n,a=t.maxPadding;if(!Kn(s)){n.size&&(t[s]-=n.size);const f=r[n.stack]||{size:0,count:1};f.size=Math.max(f.size,n.horizontal?i.height:i.width),n.size=f.size/f.count,t[s]+=n.size}i.getPadding&&GO(a,i.getPadding());const l=Math.max(0,e.outerWidth-D3(a,t,"left","right")),c=Math.max(0,e.outerHeight-D3(a,t,"top","bottom")),u=l!==t.w,h=c!==t.h;return t.w=l,t.h=c,n.horizontal?{same:u,other:h}:{same:h,other:u}}function fK(t){const e=t.maxPadding;function n(r){const s=Math.max(e[r]-t[r],0);return t[r]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function pK(t,e){const n=e.maxPadding;function r(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(a=>{i[a]=Math.max(e[a],n[a])}),i}return r(t?["left","right"]:["top","bottom"])}function Rm(t,e,n,r){const s=[];let i,a,l,c,u,h;for(i=0,a=t.length,u=0;i<a;++i){l=t[i],c=l.box,c.update(l.width||e.w,l.height||e.h,pK(l.horizontal,e));const{same:f,other:m}=hK(e,n,l,r);u|=f&&s.length,h=h||m,c.fullSize||s.push(l)}return u&&Rm(s,e,n,r)||h}function Sy(t,e,n,r,s){t.top=n,t.left=e,t.right=e+r,t.bottom=n+s,t.width=r,t.height=s}function A3(t,e,n,r){const s=n.padding;let{x:i,y:a}=e;for(const l of t){const c=l.box,u=r[l.stack]||{placed:0,weight:1},h=l.stackWeight/u.weight||1;if(l.horizontal){const f=e.w*h,m=u.size||c.height;Rb(u.start)&&(a=u.start),c.fullSize?Sy(c,s.left,a,n.outerWidth-s.right-s.left,m):Sy(c,e.left+u.placed,a,f,m),u.start=a,u.placed+=f,a=c.bottom}else{const f=e.h*h,m=u.size||c.width;Rb(u.start)&&(i=u.start),c.fullSize?Sy(c,i,s.top,m,n.outerHeight-s.bottom-s.top):Sy(c,i,e.top+u.placed,m,f),u.start=i,u.placed+=f,i=c.right}}e.x=i,e.y=a}var Ha={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const s=Ka(t.options.layout.padding),i=Math.max(e-s.width,0),a=Math.max(n-s.height,0),l=dK(t.boxes),c=l.vertical,u=l.horizontal;ur(t.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const h=c.reduce((y,x)=>x.box.options&&x.box.options.display===!1?y:y+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:i,availableHeight:a,vBoxMaxWidth:i/2/h,hBoxMaxHeight:a/2}),m=Object.assign({},s);GO(m,Ka(r));const g=Object.assign({maxPadding:m,w:i,h:a,x:s.left,y:s.top},s),b=uK(c.concat(u),f);Rm(l.fullSize,g,f,b),Rm(c,g,f,b),Rm(u,g,f,b)&&Rm(c,g,f,b),fK(g),A3(l.leftAndTop,g,f,b),g.x+=g.w,g.y+=g.h,A3(l.rightAndBottom,g,f,b),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},ur(l.chartArea,y=>{const x=y.box;Object.assign(x,t.chartArea),x.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class KO{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,s){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):r)}}isAttached(e){return!0}updateConfig(e){}}class mK extends KO{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const ab="$chartjs",gK={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},P3=t=>t===null||t==="";function yK(t,e){const n=t.style,r=t.getAttribute("height"),s=t.getAttribute("width");if(t[ab]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",P3(s)){const i=b3(t,"width");i!==void 0&&(t.width=i)}if(P3(r))if(t.style.height==="")t.height=t.width/(e||2);else{const i=b3(t,"height");i!==void 0&&(t.height=i)}return t}const XO=kG?{passive:!0}:!1;function bK(t,e,n){t&&t.addEventListener(e,n,XO)}function xK(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,XO)}function vK(t,e){const n=gK[t.type]||t.type,{x:r,y:s}=xd(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:s!==void 0?s:null}}function Bb(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function _K(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let a=!1;for(const l of i)a=a||Bb(l.addedNodes,r),a=a&&!Bb(l.removedNodes,r);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function wK(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let a=!1;for(const l of i)a=a||Bb(l.removedNodes,r),a=a&&!Bb(l.addedNodes,r);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const wg=new Map;let I3=0;function QO(){const t=window.devicePixelRatio;t!==I3&&(I3=t,wg.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function SK(t,e){wg.size||window.addEventListener("resize",QO),wg.set(t,e)}function CK(t){wg.delete(t),wg.size||window.removeEventListener("resize",QO)}function TK(t,e,n){const r=t.canvas,s=r&&uT(r);if(!s)return;const i=OO((l,c)=>{const u=s.clientWidth;n(l,c),u<s.clientWidth&&n()},window),a=new ResizeObserver(l=>{const c=l[0],u=c.contentRect.width,h=c.contentRect.height;u===0&&h===0||i(u,h)});return a.observe(s),SK(t,i),a}function q_(t,e,n){n&&n.disconnect(),e==="resize"&&CK(t)}function kK(t,e,n){const r=t.canvas,s=OO(i=>{t.ctx!==null&&n(vK(i,t))},t);return bK(r,e,s),s}class EK extends KO{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(yK(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[ab])return!1;const r=n[ab].initial;["height","width"].forEach(i=>{const a=r[i];br(a)?n.removeAttribute(i):n.setAttribute(i,a)});const s=r.style||{};return Object.keys(s).forEach(i=>{n.style[i]=s[i]}),n.width=n.width,delete n[ab],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),a={attach:_K,detach:wK,resize:TK}[n]||kK;s[n]=a(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),s=r[n];if(!s)return;({attach:q_,detach:q_,resize:q_}[n]||xK)(e,n,s),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,s){return TG(e,n,r,s)}isAttached(e){const n=e&&uT(e);return!!(n&&n.isConnected)}}function jK(t){return!cT()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?mK:EK}var Ky;let Mu=(Ky=class{constructor(){Ht(this,"x");Ht(this,"y");Ht(this,"active",!1);Ht(this,"options");Ht(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return bg(this.x)&&bg(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const s={};return e.forEach(i=>{s[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),s}},Ht(Ky,"defaults",{}),Ht(Ky,"defaultRoutes"),Ky);function NK(t,e){const n=t.options.ticks,r=DK(t),s=Math.min(n.maxTicksLimit||r,r),i=n.major.enabled?PK(e):[],a=i.length,l=i[0],c=i[a-1],u=[];if(a>s)return IK(e,u,i,a/s),u;const h=AK(i,e,s);if(a>0){let f,m;const g=a>1?Math.round((c-l)/(a-1)):null;for(Cy(e,u,h,br(g)?0:l-g,l),f=0,m=a-1;f<m;f++)Cy(e,u,h,i[f],i[f+1]);return Cy(e,u,h,c,br(g)?e.length:c+g),u}return Cy(e,u,h),u}function DK(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(r,s))}function AK(t,e,n){const r=OK(t),s=e.length/n;if(!r)return Math.max(s,1);const i=wY(r);for(let a=0,l=i.length-1;a<l;a++){const c=i[a];if(c>s)return c}return Math.max(s,1)}function PK(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function IK(t,e,n,r){let s=0,i=n[0],a;for(r=Math.ceil(r),a=0;a<t.length;a++)a===i&&(e.push(t[a]),s++,i=n[s*r])}function Cy(t,e,n,r,s){const i=Rn(r,0),a=Math.min(Rn(s,t.length),t.length);let l=0,c,u,h;for(n=Math.ceil(n),s&&(c=s-r,n=c/Math.floor(c/n)),h=i;h<0;)l++,h=Math.round(i+l*n);for(u=Math.max(i,0);u<a;u++)u===h&&(e.push(t[u]),l++,h=Math.round(i+l*n))}function OK(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const MK=t=>t==="left"?"right":t==="right"?"left":t,O3=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,M3=(t,e)=>Math.min(e||t,t);function R3(t,e){const n=[],r=t.length/e,s=t.length;let i=0;for(;i<s;i+=r)n.push(t[Math.floor(i)]);return n}function RK(t,e,n){const r=t.ticks.length,s=Math.min(e,r-1),i=t._startPixel,a=t._endPixel,l=1e-6;let c=t.getPixelForTick(s),u;if(!(n&&(r===1?u=Math.max(c-i,a-c):e===0?u=(t.getPixelForTick(1)-c)/2:u=(c-t.getPixelForTick(s-1))/2,c+=s<e?u:-u,c<i-l||c>a+l)))return c}function LK(t,e){ur(t,n=>{const r=n.gc,s=r.length/2;let i;if(s>e){for(i=0;i<s;++i)delete n.data[r[i]];r.splice(0,s)}})}function gm(t){return t.drawTicks?t.tickLength:0}function L3(t,e){if(!t.display)return 0;const n=Xs(t.font,e),r=Ka(t.padding);return(ws(t.text)?t.text.length:1)*n.lineHeight+r.height}function FK(t,e){return ih(t,{scale:e,type:"scale"})}function BK(t,e,n){return ih(t,{tick:n,index:e,type:"tick"})}function $K(t,e,n){let r=eT(t);return(n&&e!=="right"||!n&&e==="right")&&(r=MK(r)),r}function zK(t,e,n,r){const{top:s,left:i,bottom:a,right:l,chart:c}=t,{chartArea:u,scales:h}=c;let f=0,m,g,b;const y=a-s,x=l-i;if(t.isHorizontal()){if(g=Gs(r,i,l),Kn(n)){const _=Object.keys(n)[0],S=n[_];b=h[_].getPixelForValue(S)+y-e}else n==="center"?b=(u.bottom+u.top)/2+y-e:b=O3(t,n,e);m=l-i}else{if(Kn(n)){const _=Object.keys(n)[0],S=n[_];g=h[_].getPixelForValue(S)-x+e}else n==="center"?g=(u.left+u.right)/2-x+e:g=O3(t,n,e);b=Gs(r,a,s),f=n==="left"?-fs:fs}return{titleX:g,titleY:b,maxWidth:m,rotation:f}}class pp extends Mu{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:s}=this;return e=sl(e,Number.POSITIVE_INFINITY),n=sl(n,Number.NEGATIVE_INFINITY),r=sl(r,Number.POSITIVE_INFINITY),s=sl(s,Number.NEGATIVE_INFINITY),{min:sl(e,r),max:sl(n,s),minDefined:Ga(e),maxDefined:Ga(n)}}getMinMax(e){let{min:n,max:r,minDefined:s,maxDefined:i}=this.getUserBounds(),a;if(s&&i)return{min:n,max:r};const l=this.getMatchingVisibleMetas();for(let c=0,u=l.length;c<u;++c)a=l[c].controller.getMinMax(this,e),s||(n=Math.min(n,a.min)),i||(r=Math.max(r,a.max));return n=i&&n>r?r:n,r=s&&n>r?n:r,{min:sl(n,sl(r,n)),max:sl(r,sl(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Sr(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:s,grace:i,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=rG(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?R3(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=NK(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Sr(this.options.afterUpdate,[this])}beforeSetDimensions(){Sr(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Sr(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Sr(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Sr(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,s,i;for(r=0,s=e.length;r<s;r++)i=e[r],i.label=Sr(n.callback,[i.value,r,e],this)}afterTickToLabelConversion(){Sr(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Sr(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=M3(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,i=n.maxRotation;let a=s,l,c,u;if(!this._isVisible()||!n.display||s>=i||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const h=this._getLabelSizes(),f=h.widest.width,m=h.highest.height,g=_i(this.chart.width-f,0,this.maxWidth);l=e.offset?this.maxWidth/r:g/(r-1),f+6>l&&(l=g/(r-(e.offset?.5:1)),c=this.maxHeight-gm(e.grid)-n.padding-L3(e.title,this.chart.options.font),u=Math.sqrt(f*f+m*m),a=kY(Math.min(Math.asin(_i((h.highest.height+6)/l,-1,1)),Math.asin(_i(c/u,-1,1))-Math.asin(_i(m/u,-1,1)))),a=Math.max(s,Math.min(i,a))),this.labelRotation=a}afterCalculateLabelRotation(){Sr(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Sr(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:s,grid:i}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const c=L3(s,n.options.font);if(l?(e.width=this.maxWidth,e.height=gm(i)+c):(e.height=this.maxHeight,e.width=gm(i)+c),r.display&&this.ticks.length){const{first:u,last:h,widest:f,highest:m}=this._getLabelSizes(),g=r.padding*2,b=lc(this.labelRotation),y=Math.cos(b),x=Math.sin(b);if(l){const _=r.mirror?0:x*f.width+y*m.height;e.height=Math.min(this.maxHeight,e.height+_+g)}else{const _=r.mirror?0:y*f.width+x*m.height;e.width=Math.min(this.maxWidth,e.width+_+g)}this._calculatePadding(u,h,x,y)}}this._handleMargins(),l?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,s){const{ticks:{align:i,padding:a},position:l}=this.options,c=this.labelRotation!==0,u=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let m=0,g=0;c?u?(m=s*e.width,g=r*n.height):(m=r*e.height,g=s*n.width):i==="start"?g=n.width:i==="end"?m=e.width:i!=="inner"&&(m=e.width/2,g=n.width/2),this.paddingLeft=Math.max((m-h+a)*this.width/(this.width-h),0),this.paddingRight=Math.max((g-f+a)*this.width/(this.width-f),0)}else{let h=n.height/2,f=e.height/2;i==="start"?(h=0,f=e.height):i==="end"&&(h=n.height,f=0),this.paddingTop=h+a,this.paddingBottom=f+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Sr(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)br(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=R3(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:s,_longestTextCache:i}=this,a=[],l=[],c=Math.floor(n/M3(n,r));let u=0,h=0,f,m,g,b,y,x,_,S,T,D,j;for(f=0;f<n;f+=c){if(b=e[f].label,y=this._resolveTickFontOptions(f),s.font=x=y.string,_=i[x]=i[x]||{data:{},gc:[]},S=y.lineHeight,T=D=0,!br(b)&&!ws(b))T=f3(s,_.data,_.gc,T,b),D=S;else if(ws(b))for(m=0,g=b.length;m<g;++m)j=b[m],!br(j)&&!ws(j)&&(T=f3(s,_.data,_.gc,T,j),D+=S);a.push(T),l.push(D),u=Math.max(T,u),h=Math.max(D,h)}LK(i,n);const A=a.indexOf(u),O=l.indexOf(h),L=P=>({width:a[P]||0,height:l[P]||0});return{first:L(0),last:L(n-1),widest:L(A),highest:L(O),widths:a,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return jY(this._alignToPixels?pd(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=BK(this.getContext(),e,r))}return this.$context||(this.$context=FK(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=lc(this.labelRotation),r=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),i=this._getLabelSizes(),a=e.autoSkipPadding||0,l=i?i.widest.width+a:0,c=i?i.highest.height+a:0;return this.isHorizontal()?c*r>l*s?l/r:c/s:c*s<l*r?c/r:l/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,s=this.options,{grid:i,position:a,border:l}=s,c=i.offset,u=this.isHorizontal(),f=this.ticks.length+(c?1:0),m=gm(i),g=[],b=l.setContext(this.getContext()),y=b.display?b.width:0,x=y/2,_=function(Q){return pd(r,Q,y)};let S,T,D,j,A,O,L,P,N,U,M,q;if(a==="top")S=_(this.bottom),O=this.bottom-m,P=S-x,U=_(e.top)+x,q=e.bottom;else if(a==="bottom")S=_(this.top),U=e.top,q=_(e.bottom)-x,O=S+x,P=this.top+m;else if(a==="left")S=_(this.right),A=this.right-m,L=S-x,N=_(e.left)+x,M=e.right;else if(a==="right")S=_(this.left),N=e.left,M=_(e.right)-x,A=S+x,L=this.left+m;else if(n==="x"){if(a==="center")S=_((e.top+e.bottom)/2+.5);else if(Kn(a)){const Q=Object.keys(a)[0],re=a[Q];S=_(this.chart.scales[Q].getPixelForValue(re))}U=e.top,q=e.bottom,O=S+x,P=O+m}else if(n==="y"){if(a==="center")S=_((e.left+e.right)/2);else if(Kn(a)){const Q=Object.keys(a)[0],re=a[Q];S=_(this.chart.scales[Q].getPixelForValue(re))}A=S-x,L=A-m,N=e.left,M=e.right}const E=Rn(s.ticks.maxTicksLimit,f),G=Math.max(1,Math.ceil(f/E));for(T=0;T<f;T+=G){const Q=this.getContext(T),re=i.setContext(Q),ee=l.setContext(Q),Z=re.lineWidth,K=re.color,F=ee.dash||[],W=ee.dashOffset,me=re.tickWidth,ne=re.tickColor,ge=re.tickBorderDash||[],we=re.tickBorderDashOffset;D=RK(this,T,c),D!==void 0&&(j=pd(r,D,Z),u?A=L=N=M=j:O=P=U=q=j,g.push({tx1:A,ty1:O,tx2:L,ty2:P,x1:N,y1:U,x2:M,y2:q,width:Z,color:K,borderDash:F,borderDashOffset:W,tickWidth:me,tickColor:ne,tickBorderDash:ge,tickBorderDashOffset:we}))}return this._ticksLength=f,this._borderValue=S,g}_computeLabelItems(e){const n=this.axis,r=this.options,{position:s,ticks:i}=r,a=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:u,padding:h,mirror:f}=i,m=gm(r.grid),g=m+h,b=f?-h:g,y=-lc(this.labelRotation),x=[];let _,S,T,D,j,A,O,L,P,N,U,M,q="middle";if(s==="top")A=this.bottom-b,O=this._getXAxisLabelAlignment();else if(s==="bottom")A=this.top+b,O=this._getXAxisLabelAlignment();else if(s==="left"){const G=this._getYAxisLabelAlignment(m);O=G.textAlign,j=G.x}else if(s==="right"){const G=this._getYAxisLabelAlignment(m);O=G.textAlign,j=G.x}else if(n==="x"){if(s==="center")A=(e.top+e.bottom)/2+g;else if(Kn(s)){const G=Object.keys(s)[0],Q=s[G];A=this.chart.scales[G].getPixelForValue(Q)+g}O=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")j=(e.left+e.right)/2-g;else if(Kn(s)){const G=Object.keys(s)[0],Q=s[G];j=this.chart.scales[G].getPixelForValue(Q)}O=this._getYAxisLabelAlignment(m).textAlign}n==="y"&&(c==="start"?q="top":c==="end"&&(q="bottom"));const E=this._getLabelSizes();for(_=0,S=l.length;_<S;++_){T=l[_],D=T.label;const G=i.setContext(this.getContext(_));L=this.getPixelForTick(_)+i.labelOffset,P=this._resolveTickFontOptions(_),N=P.lineHeight,U=ws(D)?D.length:1;const Q=U/2,re=G.color,ee=G.textStrokeColor,Z=G.textStrokeWidth;let K=O;a?(j=L,O==="inner"&&(_===S-1?K=this.options.reverse?"left":"right":_===0?K=this.options.reverse?"right":"left":K="center"),s==="top"?u==="near"||y!==0?M=-U*N+N/2:u==="center"?M=-E.highest.height/2-Q*N+N:M=-E.highest.height+N/2:u==="near"||y!==0?M=N/2:u==="center"?M=E.highest.height/2-Q*N:M=E.highest.height-U*N,f&&(M*=-1),y!==0&&!G.showLabelBackdrop&&(j+=N/2*Math.sin(y))):(A=L,M=(1-U)*N/2);let F;if(G.showLabelBackdrop){const W=Ka(G.backdropPadding),me=E.heights[_],ne=E.widths[_];let ge=M-W.top,we=0-W.left;switch(q){case"middle":ge-=me/2;break;case"bottom":ge-=me;break}switch(O){case"center":we-=ne/2;break;case"right":we-=ne;break;case"inner":_===S-1?we-=ne:_>0&&(we-=ne/2);break}F={left:we,top:ge,width:ne+W.width,height:me+W.height,color:G.backdropColor}}x.push({label:D,font:P,textOffset:M,options:{rotation:y,color:re,strokeColor:ee,strokeWidth:Z,textAlign:K,textBaseline:q,translation:[j,A],backdrop:F}})}return x}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-lc(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:s,padding:i}}=this.options,a=this._getLabelSizes(),l=e+i,c=a.widest.width;let u,h;return n==="left"?s?(h=this.right+i,r==="near"?u="left":r==="center"?(u="center",h+=c/2):(u="right",h+=c)):(h=this.right-l,r==="near"?u="right":r==="center"?(u="center",h-=c/2):(u="left",h=this.left)):n==="right"?s?(h=this.left+i,r==="near"?u="right":r==="center"?(u="center",h-=c/2):(u="left",h-=c)):(h=this.left+l,r==="near"?u="left":r==="center"?(u="center",h+=c/2):(u="right",h=this.right)):u="right",{textAlign:u,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:s,width:i,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,s,i,a),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(i=>i.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,a;const l=(c,u,h)=>{!h.width||!h.color||(r.save(),r.lineWidth=h.width,r.strokeStyle=h.color,r.setLineDash(h.borderDash||[]),r.lineDashOffset=h.borderDashOffset,r.beginPath(),r.moveTo(c.x,c.y),r.lineTo(u.x,u.y),r.stroke(),r.restore())};if(n.display)for(i=0,a=s.length;i<a;++i){const c=s[i];n.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:s}}=this,i=r.setContext(this.getContext()),a=r.display?i.width:0;if(!a)return;const l=s.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let u,h,f,m;this.isHorizontal()?(u=pd(e,this.left,a)-a/2,h=pd(e,this.right,l)+l/2,f=m=c):(f=pd(e,this.top,a)-a/2,m=pd(e,this.bottom,l)+l/2,u=h=c),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(u,f),n.lineTo(h,m),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&rT(r,s);const i=this.getLabelItems(e);for(const a of i){const l=a.options,c=a.font,u=a.label,h=a.textOffset;_g(r,u,0,h,c,l)}s&&sT(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:s}}=this;if(!r.display)return;const i=Xs(r.font),a=Ka(r.padding),l=r.align;let c=i.lineHeight/2;n==="bottom"||n==="center"||Kn(n)?(c+=a.bottom,ws(r.text)&&(c+=i.lineHeight*(r.text.length-1))):c+=a.top;const{titleX:u,titleY:h,maxWidth:f,rotation:m}=zK(this,c,n,l);_g(e,r.text,0,0,i,{color:r.color,maxWidth:f,rotation:m,textAlign:$K(l,n,s),textBaseline:"middle",translation:[u,h]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=Rn(e.grid&&e.grid.z,-1),s=Rn(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==pp.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let i,a;for(i=0,a=n.length;i<a;++i){const l=n[i];l[r]===this.id&&(!e||l.type===e)&&s.push(l)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Xs(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Ty{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;WK(n)&&(r=this.register(n));const s=this.items,i=e.id,a=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in s||(s[i]=e,UK(e,a,r),this.override&&Zr.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,s=this.scope;r in n&&delete n[r],s&&r in Zr[s]&&(delete Zr[s][r],this.override&&delete Yd[r])}}function UK(t,e,n){const r=gg(Object.create(null),[n?Zr.get(n):{},Zr.get(e),t.defaults]);Zr.set(e,r),t.defaultRoutes&&HK(e,t.defaultRoutes),t.descriptors&&Zr.describe(e,t.descriptors)}function HK(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),s=r.pop(),i=[t].concat(r).join("."),a=e[n].split("."),l=a.pop(),c=a.join(".");Zr.route(i,s,c,l)})}function WK(t){return"id"in t&&"defaults"in t}class VK{constructor(){this.controllers=new Ty(Sf,"datasets",!0),this.elements=new Ty(Mu,"elements"),this.plugins=new Ty(Object,"plugins"),this.scales=new Ty(pp,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(s=>{const i=r||this._getRegistryForType(s);r||i.isForType(s)||i===this.plugins&&s.id?this._exec(e,i,s):ur(s,a=>{const l=r||this._getRegistryForType(a);this._exec(e,l,a)})})}_exec(e,n,r){const s=ZC(e);Sr(r["before"+s],[],r),n[e](r),Sr(r["after"+s],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return s}}var ol=new VK;class qK{constructor(){this._init=[]}notify(e,n,r,s){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=s?this._descriptors(e).filter(s):this._descriptors(e),a=this._notify(i,e,n,r);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,n,r,s){s=s||{};for(const i of e){const a=i.plugin,l=a[r],c=[n,s,i.options];if(Sr(l,c,a)===!1&&s.cancelable)return!1}return!0}invalidate(){br(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,s=Rn(r.options&&r.options.plugins,{}),i=YK(r);return s===!1&&!n?[]:KK(e,i,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,s=(i,a)=>i.filter(l=>!a.some(c=>l.plugin.id===c.plugin.id));this._notify(s(n,r),e,"stop"),this._notify(s(r,n),e,"start")}}function YK(t){const e={},n=[],r=Object.keys(ol.plugins.items);for(let i=0;i<r.length;i++)n.push(ol.getPlugin(r[i]));const s=t.plugins||[];for(let i=0;i<s.length;i++){const a=s[i];n.indexOf(a)===-1&&(n.push(a),e[a.id]=!0)}return{plugins:n,localIds:e}}function GK(t,e){return!e&&t===!1?null:t===!0?{}:t}function KK(t,{plugins:e,localIds:n},r,s){const i=[],a=t.getContext();for(const l of e){const c=l.id,u=GK(r[c],s);u!==null&&i.push({plugin:l,options:XK(t.config,{plugin:l,local:n[c]},u,a)})}return i}function XK(t,{plugin:e,local:n},r,s){const i=t.pluginScopeKeys(e),a=t.getOptionScopes(r,i);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Y2(t,e){const n=Zr.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function QK(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function ZK(t,e){return t===e?"_index_":"_value_"}function F3(t){if(t==="x"||t==="y"||t==="r")return t}function JK(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function G2(t,...e){if(F3(t))return t;for(const n of e){const r=n.axis||JK(n.position)||t.length>1&&F3(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function B3(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function eX(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return B3(t,"x",n[0])||B3(t,"y",n[0])}return{}}function tX(t,e){const n=Yd[t.type]||{scales:{}},r=e.scales||{},s=Y2(t.type,e),i=Object.create(null);return Object.keys(r).forEach(a=>{const l=r[a];if(!Kn(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const c=G2(a,l,eX(a,t),Zr.scales[l.type]),u=ZK(c,s),h=n.scales||{};i[a]=Wm(Object.create(null),[{axis:c},l,h[c],h[u]])}),t.data.datasets.forEach(a=>{const l=a.type||t.type,c=a.indexAxis||Y2(l,e),h=(Yd[l]||{}).scales||{};Object.keys(h).forEach(f=>{const m=QK(f,c),g=a[m+"AxisID"]||m;i[g]=i[g]||Object.create(null),Wm(i[g],[{axis:m},r[g],h[f]])})}),Object.keys(i).forEach(a=>{const l=i[a];Wm(l,[Zr.scales[l.type],Zr.scale])}),i}function ZO(t){const e=t.options||(t.options={});e.plugins=Rn(e.plugins,{}),e.scales=tX(t,e)}function JO(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function nX(t){return t=t||{},t.data=JO(t.data),ZO(t),t}const $3=new Map,eM=new Set;function ky(t,e){let n=$3.get(t);return n||(n=e(),$3.set(t,n),eM.add(n)),n}const ym=(t,e,n)=>{const r=yg(e,n);r!==void 0&&t.add(r)};let rX=class{constructor(e){this._config=nX(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=JO(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),ZO(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return ky(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return ky(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return ky(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return ky(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let s=r.get(e);return(!s||n)&&(s=new Map,r.set(e,s)),s}getOptionScopes(e,n,r){const{options:s,type:i}=this,a=this._cachedScopes(e,r),l=a.get(n);if(l)return l;const c=new Set;n.forEach(h=>{e&&(c.add(e),h.forEach(f=>ym(c,e,f))),h.forEach(f=>ym(c,s,f)),h.forEach(f=>ym(c,Yd[i]||{},f)),h.forEach(f=>ym(c,Zr,f)),h.forEach(f=>ym(c,W2,f))});const u=Array.from(c);return u.length===0&&u.push(Object.create(null)),eM.has(n)&&a.set(n,u),u}chartOptionScopes(){const{options:e,type:n}=this;return[e,Yd[n]||{},Zr.datasets[n]||{},{type:n},Zr,W2]}resolveNamedOptions(e,n,r,s=[""]){const i={$shared:!0},{resolver:a,subPrefixes:l}=z3(this._resolverCache,e,s);let c=a;if(iX(a,n)){i.$shared=!1,r=ku(r)?r():r;const u=this.createResolver(e,r,l);c=Ff(a,r,u)}for(const u of n)i[u]=c[u];return i}createResolver(e,n,r=[""],s){const{resolver:i}=z3(this._resolverCache,e,r);return Kn(n)?Ff(i,n,void 0,s):i}};function z3(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const s=n.join();let i=r.get(s);return i||(i={resolver:aT(e,n),subPrefixes:n.filter(l=>!l.toLowerCase().includes("hover"))},r.set(s,i)),i}const sX=t=>Kn(t)&&Object.getOwnPropertyNames(t).some(e=>ku(t[e]));function iX(t,e){const{isScriptable:n,isIndexable:r}=LO(t);for(const s of e){const i=n(s),a=r(s),l=(a||i)&&t[s];if(i&&(ku(l)||sX(l))||a&&ws(l))return!0}return!1}var aX="4.4.9";const oX=["top","bottom","left","right","chartArea"];function U3(t,e){return t==="top"||t==="bottom"||oX.indexOf(t)===-1&&e==="x"}function H3(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function W3(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Sr(n&&n.onComplete,[t],e)}function lX(t){const e=t.chart,n=e.options.animation;Sr(n&&n.onProgress,[t],e)}function tM(t){return cT()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const ob={},V3=t=>{const e=tM(t);return Object.values(ob).filter(n=>n.canvas===e).pop()};function cX(t,e,n){const r=Object.keys(t);for(const s of r){const i=+s;if(i>=e){const a=t[s];delete t[s],(n>0||i>e)&&(t[i+n]=a)}}}function uX(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}var lu;let r0=(lu=class{static register(...e){ol.add(...e),q3()}static unregister(...e){ol.remove(...e),q3()}constructor(e,n){const r=this.config=new rX(n),s=tM(e),i=V3(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||jK(s)),this.platform.updateConfig(r);const l=this.platform.acquireContext(s,a.aspectRatio),c=l&&l.canvas,u=c&&c.height,h=c&&c.width;if(this.id=fY(),this.ctx=l,this.canvas=c,this.width=h,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new qK,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=IY(f=>this.update(f),a.resizeDelay||0),this._dataChanges=[],ob[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Zl.listen(this,"complete",W3),Zl.listen(this,"progress",lX),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:s,_aspectRatio:i}=this;return br(e)?n&&i?i:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ol}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():y3(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return p3(this.canvas,this.ctx),this}stop(){return Zl.stop(this),this}resize(e,n){Zl.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,s=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,e,n,i),l=r.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,y3(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),Sr(r.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};ur(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,s=Object.keys(r).reduce((a,l)=>(a[l]=!1,a),{});let i=[];n&&(i=i.concat(Object.keys(n).map(a=>{const l=n[a],c=G2(a,l),u=c==="r",h=c==="x";return{options:l,dposition:u?"chartArea":h?"bottom":"left",dtype:u?"radialLinear":h?"category":"linear"}}))),ur(i,a=>{const l=a.options,c=l.id,u=G2(c,l),h=Rn(l.type,a.dtype);(l.position===void 0||U3(l.position,u)!==U3(a.dposition))&&(l.position=a.dposition),s[c]=!0;let f=null;if(c in r&&r[c].type===h)f=r[c];else{const m=ol.getScale(h);f=new m({id:c,type:h,ctx:this.ctx,chart:this}),r[f.id]=f}f.init(l,e)}),ur(s,(a,l)=>{a||delete r[l]}),ur(r,a=>{Ha.configure(this,a,a.options),Ha.addBox(this,a)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((s,i)=>s.index-i.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(H3("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,s)=>{n.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const i=n[r];let a=this.getDatasetMeta(r);const l=i.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=l,a.indexAxis=i.indexAxis||Y2(l,this.options),a.order=i.order||0,a.index=r,a.label=""+i.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const c=ol.getController(l),{datasetElementType:u,dataElementType:h}=Zr.datasets[l];Object.assign(c,{dataElementType:ol.getElement(h),datasetElementType:u&&ol.getElement(u)}),a.controller=new c(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){ur(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,h=this.data.datasets.length;u<h;u++){const{controller:f}=this.getDatasetMeta(u),m=!s&&i.indexOf(f)===-1;f.buildOrUpdateElements(m),a=Math.max(+f.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),s||ur(i,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(H3("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){ur(this.scales,e=>{Ha.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!s3(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:i}of n){const a=r==="_removeElements"?-i:i;cX(e,s,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=i=>new Set(e.filter(a=>a[0]===i).map((a,l)=>l+","+a.splice(1).join(","))),s=r(0);for(let i=1;i<n;i++)if(!s3(s,r(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ha.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],ur(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,ku(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),s={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Zl.has(this)?this.attached&&!Zl.running(this)&&Zl.start(this):(this.draw(),W3({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let s,i;for(s=0,i=n.length;s<i;++s){const a=n[s];(!e||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},s=$G(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&rT(n,s),e.controller.draw(),s&&sT(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return vg(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,s){const i=oK.modes[n];return typeof i=="function"?i(this,e,r,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let s=r.filter(i=>i&&i._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=ih(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const s=r?"show":"hide",i=this.getDatasetMeta(e),a=i.controller._resolveAnimations(void 0,s);Rb(n)?(i.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(i,{visible:r}),this.update(l=>l.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Zl.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),p3(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete ob[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(i,a)=>{n.addEventListener(this,i,a),e[i]=a},s=(i,a,l)=>{i.offsetX=a,i.offsetY=l,this._eventHandler(i)};ur(this.options.events,i=>r(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(c,u)=>{n.addEventListener(this,c,u),e[c]=u},s=(c,u)=>{e[c]&&(n.removeEventListener(this,c,u),delete e[c])},i=(c,u)=>{this.canvas&&this.resize(c,u)};let a;const l=()=>{s("attach",l),this.attached=!0,this.resize(),r("resize",i),r("detach",a)};a=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),r("attach",l)},n.isAttached(this.canvas)?l():a()}unbindEvents(){ur(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},ur(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const s=r?"set":"remove";let i,a,l,c;for(n==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){a=e[l];const u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:i,index:a})=>{const l=this.getDatasetMeta(i);if(!l)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:l.data[a],index:a}});!Ob(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const s=this.options.hover,i=(c,u)=>c.filter(h=>!u.some(f=>h.datasetIndex===f.datasetIndex&&h.index===f.index)),a=i(n,e),l=r?e:i(e,n);a.length&&this.updateHoverStyle(a,s.mode,!1),l.length&&s.mode&&this.updateHoverStyle(l,s.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const i=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(i||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:s=[],options:i}=this,a=n,l=this._getActiveElements(e,s,r,a),c=xY(e),u=uX(e,this._lastEvent,r,c);r&&(this._lastEvent=null,Sr(i.onHover,[e,l,this],this),c&&Sr(i.onClick,[e,l,this],this));const h=!Ob(l,s);return(h||n)&&(this._active=l,this._updateHoverStyles(l,s,n)),this._lastEvent=u,h}_getActiveElements(e,n,r,s){if(e.type==="mouseout")return[];if(!r)return n;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,s)}},Ht(lu,"defaults",Zr),Ht(lu,"instances",ob),Ht(lu,"overrides",Yd),Ht(lu,"registry",ol),Ht(lu,"version",aX),Ht(lu,"getChart",V3),lu);function q3(){return ur(r0.instances,t=>t._plugins.invalidate())}function dX(t,e,n){const{startAngle:r,pixelMargin:s,x:i,y:a,outerRadius:l,innerRadius:c}=e;let u=s/l;t.beginPath(),t.arc(i,a,l,r-u,n+u),c>s?(u=s/c,t.arc(i,a,c,n+u,r-u,!0)):t.arc(i,a,s,n+fs,r-fs),t.closePath(),t.clip()}function hX(t){return iT(t,["outerStart","outerEnd","innerStart","innerEnd"])}function fX(t,e,n,r){const s=hX(t.options.borderRadius),i=(n-e)/2,a=Math.min(i,r*e/2),l=c=>{const u=(n-Math.min(i,c))*r/2;return _i(c,0,Math.min(i,u))};return{outerStart:l(s.outerStart),outerEnd:l(s.outerEnd),innerStart:_i(s.innerStart,0,a),innerEnd:_i(s.innerEnd,0,a)}}function Kh(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function $b(t,e,n,r,s,i){const{x:a,y:l,startAngle:c,pixelMargin:u,innerRadius:h}=e,f=Math.max(e.outerRadius+r+n-u,0),m=h>0?h+r+n+u:0;let g=0;const b=s-c;if(r){const G=h>0?h-r:0,Q=f>0?f-r:0,re=(G+Q)/2,ee=re!==0?b*re/(re+r):b;g=(b-ee)/2}const y=Math.max(.001,b*f-n/Kr)/f,x=(b-y)/2,_=c+x+g,S=s-x-g,{outerStart:T,outerEnd:D,innerStart:j,innerEnd:A}=fX(e,m,f,S-_),O=f-T,L=f-D,P=_+T/O,N=S-D/L,U=m+j,M=m+A,q=_+j/U,E=S-A/M;if(t.beginPath(),i){const G=(P+N)/2;if(t.arc(a,l,f,P,G),t.arc(a,l,f,G,N),D>0){const Z=Kh(L,N,a,l);t.arc(Z.x,Z.y,D,N,S+fs)}const Q=Kh(M,S,a,l);if(t.lineTo(Q.x,Q.y),A>0){const Z=Kh(M,E,a,l);t.arc(Z.x,Z.y,A,S+fs,E+Math.PI)}const re=(S-A/m+(_+j/m))/2;if(t.arc(a,l,m,S-A/m,re,!0),t.arc(a,l,m,re,_+j/m,!0),j>0){const Z=Kh(U,q,a,l);t.arc(Z.x,Z.y,j,q+Math.PI,_-fs)}const ee=Kh(O,_,a,l);if(t.lineTo(ee.x,ee.y),T>0){const Z=Kh(O,P,a,l);t.arc(Z.x,Z.y,T,_-fs,P)}}else{t.moveTo(a,l);const G=Math.cos(P)*f+a,Q=Math.sin(P)*f+l;t.lineTo(G,Q);const re=Math.cos(N)*f+a,ee=Math.sin(N)*f+l;t.lineTo(re,ee)}t.closePath()}function pX(t,e,n,r,s){const{fullCircles:i,startAngle:a,circumference:l}=e;let c=e.endAngle;if(i){$b(t,e,n,r,c,s);for(let u=0;u<i;++u)t.fill();isNaN(l)||(c=a+(l%Gr||Gr))}return $b(t,e,n,r,c,s),t.fill(),c}function mX(t,e,n,r,s){const{fullCircles:i,startAngle:a,circumference:l,options:c}=e,{borderWidth:u,borderJoinStyle:h,borderDash:f,borderDashOffset:m}=c,g=c.borderAlign==="inner";if(!u)return;t.setLineDash(f||[]),t.lineDashOffset=m,g?(t.lineWidth=u*2,t.lineJoin=h||"round"):(t.lineWidth=u,t.lineJoin=h||"bevel");let b=e.endAngle;if(i){$b(t,e,n,r,b,s);for(let y=0;y<i;++y)t.stroke();isNaN(l)||(b=a+(l%Gr||Gr))}g&&dX(t,e,b),i||($b(t,e,n,r,b,s),t.stroke())}class df extends Mu{constructor(n){super();Ht(this,"circumference");Ht(this,"endAngle");Ht(this,"fullCircles");Ht(this,"innerRadius");Ht(this,"outerRadius");Ht(this,"pixelMargin");Ht(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,s){const i=this.getProps(["x","y"],s),{angle:a,distance:l}=AO(i,{x:n,y:r}),{startAngle:c,endAngle:u,innerRadius:h,outerRadius:f,circumference:m}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),g=(this.options.spacing+this.options.borderWidth)/2,b=Rn(m,u-c),y=xg(a,c,u)&&c!==u,x=b>=Gr||y,_=uf(l,h+g,f+g);return x&&_}getCenterPoint(n){const{x:r,y:s,startAngle:i,endAngle:a,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:u,spacing:h}=this.options,f=(i+a)/2,m=(l+c+h+u)/2;return{x:r+Math.cos(f)*m,y:s+Math.sin(f)*m}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:s}=this,i=(r.offset||0)/4,a=(r.spacing||0)/2,l=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=s>Gr?Math.floor(s/Gr):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const c=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(c)*i,Math.sin(c)*i);const u=1-Math.sin(Math.min(Kr,s||0)),h=i*u;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,pX(n,this,h,a,l),mX(n,this,h,a,l),n.restore()}}Ht(df,"id","arc"),Ht(df,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Ht(df,"defaultRoutes",{backgroundColor:"backgroundColor"}),Ht(df,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function nM(t,e,n=e){t.lineCap=Rn(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Rn(n.borderDash,e.borderDash)),t.lineDashOffset=Rn(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Rn(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Rn(n.borderWidth,e.borderWidth),t.strokeStyle=Rn(n.borderColor,e.borderColor)}function gX(t,e,n){t.lineTo(n.x,n.y)}function yX(t){return t.stepped?YY:t.tension||t.cubicInterpolationMode==="monotone"?GY:gX}function rM(t,e,n={}){const r=t.length,{start:s=0,end:i=r-1}=n,{start:a,end:l}=e,c=Math.max(s,a),u=Math.min(i,l),h=s<a&&i<a||s>l&&i>l;return{count:r,start:c,loop:e.loop,ilen:u<c&&!h?r+u-c:u-c}}function bX(t,e,n,r){const{points:s,options:i}=e,{count:a,start:l,loop:c,ilen:u}=rM(s,n,r),h=yX(i);let{move:f=!0,reverse:m}=r||{},g,b,y;for(g=0;g<=u;++g)b=s[(l+(m?u-g:g))%a],!b.skip&&(f?(t.moveTo(b.x,b.y),f=!1):h(t,y,b,m,i.stepped),y=b);return c&&(b=s[(l+(m?u:0))%a],h(t,y,b,m,i.stepped)),!!c}function xX(t,e,n,r){const s=e.points,{count:i,start:a,ilen:l}=rM(s,n,r),{move:c=!0,reverse:u}=r||{};let h=0,f=0,m,g,b,y,x,_;const S=D=>(a+(u?l-D:D))%i,T=()=>{y!==x&&(t.lineTo(h,x),t.lineTo(h,y),t.lineTo(h,_))};for(c&&(g=s[S(0)],t.moveTo(g.x,g.y)),m=0;m<=l;++m){if(g=s[S(m)],g.skip)continue;const D=g.x,j=g.y,A=D|0;A===b?(j<y?y=j:j>x&&(x=j),h=(f*h+D)/++f):(T(),t.lineTo(D,j),b=A,f=0,y=x=j),_=j}T()}function K2(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?xX:bX}function vX(t){return t.stepped?EG:t.tension||t.cubicInterpolationMode==="monotone"?jG:vd}function _X(t,e,n,r){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,r)&&s.closePath()),nM(t,e.options),t.stroke(s)}function wX(t,e,n,r){const{segments:s,options:i}=e,a=K2(e);for(const l of s)nM(t,i,l.style),t.beginPath(),a(t,e,l,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const SX=typeof Path2D=="function";function CX(t,e,n,r){SX&&!e.options.segment?_X(t,e,n,r):wX(t,e,n,r)}class hf extends Mu{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const s=r.spanGaps?this._loop:this._fullLoop;xG(this._points,r,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=RG(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,s=e[n],i=this.points,a=IG(this,{property:n,start:s,end:s});if(!a.length)return;const l=[],c=vX(r);let u,h;for(u=0,h=a.length;u<h;++u){const{start:f,end:m}=a[u],g=i[f],b=i[m];if(g===b){l.push(g);continue}const y=Math.abs((s-g[n])/(b[n]-g[n])),x=c(g,b,y,r.stepped);x[n]=e[n],l.push(x)}return l.length===1?l[0]:l}pathSegment(e,n,r){return K2(this)(e,this,n,r)}path(e,n,r){const s=this.segments,i=K2(this);let a=this._loop;n=n||0,r=r||this.points.length-n;for(const l of s)a&=i(e,this,l,{start:n,end:n+r-1});return!!a}draw(e,n,r,s){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),CX(e,this,r,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Ht(hf,"id","line"),Ht(hf,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Ht(hf,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Ht(hf,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Y3(t,e,n,r){const s=t.options,{[n]:i}=t.getProps([n],r);return Math.abs(e-i)<s.radius+s.hitRadius}class Km extends Mu{constructor(n){super();Ht(this,"parsed");Ht(this,"skip");Ht(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,s){const i=this.options,{x:a,y:l}=this.getProps(["x","y"],s);return Math.pow(n-a,2)+Math.pow(r-l,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(n,r){return Y3(this,n,"x",r)}inYRange(n,r){return Y3(this,n,"y",r)}getCenterPoint(n){const{x:r,y:s}=this.getProps(["x","y"],n);return{x:r,y:s}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const s=r&&n.borderWidth||0;return(r+s)*2}draw(n,r){const s=this.options;this.skip||s.radius<.1||!vg(this,r,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,V2(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Ht(Km,"id","point"),Ht(Km,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Ht(Km,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const G3=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},TX=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class K3 extends Mu{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Sr(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,s)=>e.sort(r,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,s=Xs(r.font),i=s.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=G3(r,i);let u,h;n.font=s.string,this.isHorizontal()?(u=this.maxWidth,h=this._fitRows(a,i,l,c)+10):(h=this.maxHeight,u=this._fitCols(a,s,l,c)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(h,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,s){const{ctx:i,maxWidth:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.lineWidths=[0],h=s+l;let f=e;i.textAlign="left",i.textBaseline="middle";let m=-1,g=-h;return this.legendItems.forEach((b,y)=>{const x=r+n/2+i.measureText(b.text).width;(y===0||u[u.length-1]+x+2*l>a)&&(f+=h,u[u.length-(y>0?0:1)]=0,g+=h,m++),c[y]={left:0,top:g,row:m,width:x,height:s},u[u.length-1]+=x+l}),f}_fitCols(e,n,r,s){const{ctx:i,maxHeight:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.columnSizes=[],h=a-e;let f=l,m=0,g=0,b=0,y=0;return this.legendItems.forEach((x,_)=>{const{itemWidth:S,itemHeight:T}=kX(r,n,i,x,s);_>0&&g+T+2*l>h&&(f+=m+l,u.push({width:m,height:g}),b+=m+l,y++,m=g=0),c[_]={left:b,top:g,col:y,width:S,height:T},m=Math.max(m,S),g+=T+l}),f+=m,u.push({width:m,height:g}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:s},rtl:i}}=this,a=wf(i,this.left,this.width);if(this.isHorizontal()){let l=0,c=Gs(r,this.left+s,this.right-this.lineWidths[l]);for(const u of n)l!==u.row&&(l=u.row,c=Gs(r,this.left+s,this.right-this.lineWidths[l])),u.top+=this.top+e+s,u.left=a.leftForLtr(a.x(c),u.width),c+=u.width+s}else{let l=0,c=Gs(r,this.top+e+s,this.bottom-this.columnSizes[l].height);for(const u of n)u.col!==l&&(l=u.col,c=Gs(r,this.top+e+s,this.bottom-this.columnSizes[l].height)),u.top=c,u.left+=this.left+s,u.left=a.leftForLtr(a.x(u.left),u.width),c+=u.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;rT(e,this),this._draw(),sT(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:s}=this,{align:i,labels:a}=e,l=Zr.color,c=wf(e.rtl,this.left,this.width),u=Xs(a.font),{padding:h}=a,f=u.size,m=f/2;let g;this.drawTitle(),s.textAlign=c.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=u.string;const{boxWidth:b,boxHeight:y,itemHeight:x}=G3(a,f),_=function(A,O,L){if(isNaN(b)||b<=0||isNaN(y)||y<0)return;s.save();const P=Rn(L.lineWidth,1);if(s.fillStyle=Rn(L.fillStyle,l),s.lineCap=Rn(L.lineCap,"butt"),s.lineDashOffset=Rn(L.lineDashOffset,0),s.lineJoin=Rn(L.lineJoin,"miter"),s.lineWidth=P,s.strokeStyle=Rn(L.strokeStyle,l),s.setLineDash(Rn(L.lineDash,[])),a.usePointStyle){const N={radius:y*Math.SQRT2/2,pointStyle:L.pointStyle,rotation:L.rotation,borderWidth:P},U=c.xPlus(A,b/2),M=O+m;RO(s,N,U,M,a.pointStyleWidth&&b)}else{const N=O+Math.max((f-y)/2,0),U=c.leftForLtr(A,b),M=Gm(L.borderRadius);s.beginPath(),Object.values(M).some(q=>q!==0)?q2(s,{x:U,y:N,w:b,h:y,radius:M}):s.rect(U,N,b,y),s.fill(),P!==0&&s.stroke()}s.restore()},S=function(A,O,L){_g(s,L.text,A,O+x/2,u,{strikethrough:L.hidden,textAlign:c.textAlign(L.textAlign)})},T=this.isHorizontal(),D=this._computeTitleHeight();T?g={x:Gs(i,this.left+h,this.right-r[0]),y:this.top+h+D,line:0}:g={x:this.left+h,y:Gs(i,this.top+D+h,this.bottom-n[0].height),line:0},UO(this.ctx,e.textDirection);const j=x+h;this.legendItems.forEach((A,O)=>{s.strokeStyle=A.fontColor,s.fillStyle=A.fontColor;const L=s.measureText(A.text).width,P=c.textAlign(A.textAlign||(A.textAlign=a.textAlign)),N=b+m+L;let U=g.x,M=g.y;c.setWidth(this.width),T?O>0&&U+N+h>this.right&&(M=g.y+=j,g.line++,U=g.x=Gs(i,this.left+h,this.right-r[g.line])):O>0&&M+j>this.bottom&&(U=g.x=U+n[g.line].width+h,g.line++,M=g.y=Gs(i,this.top+D+h,this.bottom-n[g.line].height));const q=c.x(U);if(_(q,M,A),U=OY(P,U+b+m,T?U+N:this.right,e.rtl),S(c.x(U),M,A),T)g.x+=N+h;else if(typeof A.text!="string"){const E=u.lineHeight;g.y+=sM(A,E)+h}else g.y+=j}),HO(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=Xs(n.font),s=Ka(n.padding);if(!n.display)return;const i=wf(e.rtl,this.left,this.width),a=this.ctx,l=n.position,c=r.size/2,u=s.top+c;let h,f=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),h=this.top+u,f=Gs(e.align,f,this.right-m);else{const b=this.columnSizes.reduce((y,x)=>Math.max(y,x.height),0);h=u+Gs(e.align,this.top,this.bottom-b-e.labels.padding-this._computeTitleHeight())}const g=Gs(l,f,f+m);a.textAlign=i.textAlign(eT(l)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=r.string,_g(a,n.text,g,h,r)}_computeTitleHeight(){const e=this.options.title,n=Xs(e.font),r=Ka(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,s,i;if(uf(e,this.left,this.right)&&uf(n,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(s=i[r],uf(e,s.left,s.left+s.width)&&uf(n,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!NX(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,i=TX(s,r);s&&!i&&Sr(n.onLeave,[e,s,this],this),this._hoveredItem=r,r&&!i&&Sr(n.onHover,[e,r,this],this)}else r&&Sr(n.onClick,[e,r,this],this)}}function kX(t,e,n,r,s){const i=EX(r,t,e,n),a=jX(s,r,e.lineHeight);return{itemWidth:i,itemHeight:a}}function EX(t,e,n,r){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((i,a)=>i.length>a.length?i:a)),e+n.size/2+r.measureText(s).width}function jX(t,e,n){let r=t;return typeof e.text!="string"&&(r=sM(e,n)),r}function sM(t,e){const n=t.text?t.text.length:0;return e*n}function NX(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var iM={id:"legend",_element:K3,start(t,e,n){const r=t.legend=new K3({ctx:t.ctx,options:n,chart:t});Ha.configure(t,r,n),Ha.addBox(t,r)},stop(t){Ha.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;Ha.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),e.hidden=!0):(s.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:i,useBorderRadius:a,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const u=c.controller.getStyle(n?0:void 0),h=Ka(u.borderWidth);return{text:e[c.index].label,fillStyle:u.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:u.borderColor,pointStyle:r||u.pointStyle,rotation:u.rotation,textAlign:s||u.textAlign,borderRadius:a&&(l||u.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class aM extends Mu{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=ws(r.text)?r.text.length:1;this._padding=Ka(r.padding);const i=s*Xs(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:s,right:i,options:a}=this,l=a.align;let c=0,u,h,f;return this.isHorizontal()?(h=Gs(l,r,i),f=n+e,u=i-r):(a.position==="left"?(h=r+e,f=Gs(l,s,n),c=Kr*-.5):(h=i-e,f=Gs(l,n,s),c=Kr*.5),u=s-n),{titleX:h,titleY:f,maxWidth:u,rotation:c}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=Xs(n.font),i=r.lineHeight/2+this._padding.top,{titleX:a,titleY:l,maxWidth:c,rotation:u}=this._drawArgs(i);_g(e,n.text,0,0,r,{color:n.color,maxWidth:c,rotation:u,textAlign:eT(n.align),textBaseline:"middle",translation:[a,l]})}}function DX(t,e){const n=new aM({ctx:t.ctx,options:e,chart:t});Ha.configure(t,n,e),Ha.addBox(t,n),t.titleBlock=n}var oM={id:"title",_element:aM,start(t,e,n){DX(t,n)},stop(t){const e=t.titleBlock;Ha.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;Ha.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Lm={average(t){if(!t.length)return!1;let e,n,r=new Set,s=0,i=0;for(e=0,n=t.length;e<n;++e){const l=t[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();r.add(c.x),s+=c.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((l,c)=>l+c)/r.size,y:s/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,s=Number.POSITIVE_INFINITY,i,a,l;for(i=0,a=t.length;i<a;++i){const c=t[i].element;if(c&&c.hasValue()){const u=c.getCenterPoint(),h=H2(e,u);h<s&&(s=h,l=c)}}if(l){const c=l.tooltipPosition();n=c.x,r=c.y}return{x:n,y:r}}};function al(t,e){return e&&(ws(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Jl(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function AX(t,e){const{element:n,datasetIndex:r,index:s}=e,i=t.getDatasetMeta(r).controller,{label:a,value:l}=i.getLabelAndValue(s);return{chart:t,label:a,parsed:i.getParsed(s),raw:t.data.datasets[r].data[s],formattedValue:l,dataset:i.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function X3(t,e){const n=t.chart.ctx,{body:r,footer:s,title:i}=t,{boxWidth:a,boxHeight:l}=e,c=Xs(e.bodyFont),u=Xs(e.titleFont),h=Xs(e.footerFont),f=i.length,m=s.length,g=r.length,b=Ka(e.padding);let y=b.height,x=0,_=r.reduce((D,j)=>D+j.before.length+j.lines.length+j.after.length,0);if(_+=t.beforeBody.length+t.afterBody.length,f&&(y+=f*u.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),_){const D=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;y+=g*D+(_-g)*c.lineHeight+(_-1)*e.bodySpacing}m&&(y+=e.footerMarginTop+m*h.lineHeight+(m-1)*e.footerSpacing);let S=0;const T=function(D){x=Math.max(x,n.measureText(D).width+S)};return n.save(),n.font=u.string,ur(t.title,T),n.font=c.string,ur(t.beforeBody.concat(t.afterBody),T),S=e.displayColors?a+2+e.boxPadding:0,ur(r,D=>{ur(D.before,T),ur(D.lines,T),ur(D.after,T)}),S=0,n.font=h.string,ur(t.footer,T),n.restore(),x+=b.width,{width:x,height:y}}function PX(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function IX(t,e,n,r){const{x:s,width:i}=r,a=n.caretSize+n.caretPadding;if(t==="left"&&s+i+a>e.width||t==="right"&&s-i-a<0)return!0}function OX(t,e,n,r){const{x:s,width:i}=n,{width:a,chartArea:{left:l,right:c}}=t;let u="center";return r==="center"?u=s<=(l+c)/2?"left":"right":s<=i/2?u="left":s>=a-i/2&&(u="right"),IX(u,t,e,n)&&(u="center"),u}function Q3(t,e,n){const r=n.yAlign||e.yAlign||PX(t,n);return{xAlign:n.xAlign||e.xAlign||OX(t,e,n,r),yAlign:r}}function MX(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function RX(t,e,n){let{y:r,height:s}=t;return e==="top"?r+=n:e==="bottom"?r-=s+n:r-=s/2,r}function Z3(t,e,n,r){const{caretSize:s,caretPadding:i,cornerRadius:a}=t,{xAlign:l,yAlign:c}=n,u=s+i,{topLeft:h,topRight:f,bottomLeft:m,bottomRight:g}=Gm(a);let b=MX(e,l);const y=RX(e,c,u);return c==="center"?l==="left"?b+=u:l==="right"&&(b-=u):l==="left"?b-=Math.max(h,m)+s:l==="right"&&(b+=Math.max(f,g)+s),{x:_i(b,0,r.width-e.width),y:_i(y,0,r.height-e.height)}}function Ey(t,e,n){const r=Ka(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function J3(t){return al([],Jl(t))}function LX(t,e,n){return ih(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function eD(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const lM={beforeTitle:Xl,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Xl,beforeBody:Xl,beforeLabel:Xl,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return br(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Xl,afterBody:Xl,beforeFooter:Xl,footer:Xl,afterFooter:Xl};function Li(t,e,n,r){const s=t[e].call(n,r);return typeof s>"u"?lM[e].call(n,r):s}class X2 extends Mu{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,i=new VO(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=LX(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,s=Li(r,"beforeTitle",this,e),i=Li(r,"title",this,e),a=Li(r,"afterTitle",this,e);let l=[];return l=al(l,Jl(s)),l=al(l,Jl(i)),l=al(l,Jl(a)),l}getBeforeBody(e,n){return J3(Li(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,s=[];return ur(e,i=>{const a={before:[],lines:[],after:[]},l=eD(r,i);al(a.before,Jl(Li(l,"beforeLabel",this,i))),al(a.lines,Li(l,"label",this,i)),al(a.after,Jl(Li(l,"afterLabel",this,i))),s.push(a)}),s}getAfterBody(e,n){return J3(Li(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,s=Li(r,"beforeFooter",this,e),i=Li(r,"footer",this,e),a=Li(r,"afterFooter",this,e);let l=[];return l=al(l,Jl(s)),l=al(l,Jl(i)),l=al(l,Jl(a)),l}_createItems(e){const n=this._active,r=this.chart.data,s=[],i=[],a=[];let l=[],c,u;for(c=0,u=n.length;c<u;++c)l.push(AX(this.chart,n[c]));return e.filter&&(l=l.filter((h,f,m)=>e.filter(h,f,m,r))),e.itemSort&&(l=l.sort((h,f)=>e.itemSort(h,f,r))),ur(l,h=>{const f=eD(e.callbacks,h);s.push(Li(f,"labelColor",this,h)),i.push(Li(f,"labelPointStyle",this,h)),a.push(Li(f,"labelTextColor",this,h))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=a,this.dataPoints=l,l}update(e,n){const r=this.options.setContext(this.getContext()),s=this._active;let i,a=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const l=Lm[r.position].call(this,s,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const c=this._size=X3(this,r),u=Object.assign({},l,c),h=Q3(this.chart,r,u),f=Z3(r,u,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,i={opacity:1,x:f.x,y:f.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,s){const i=this.getCaretPosition(e,r,s);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(e,n,r){const{xAlign:s,yAlign:i}=this,{caretSize:a,cornerRadius:l}=r,{topLeft:c,topRight:u,bottomLeft:h,bottomRight:f}=Gm(l),{x:m,y:g}=e,{width:b,height:y}=n;let x,_,S,T,D,j;return i==="center"?(D=g+y/2,s==="left"?(x=m,_=x-a,T=D+a,j=D-a):(x=m+b,_=x+a,T=D-a,j=D+a),S=x):(s==="left"?_=m+Math.max(c,h)+a:s==="right"?_=m+b-Math.max(u,f)-a:_=this.caretX,i==="top"?(T=g,D=T-a,x=_-a,S=_+a):(T=g+y,D=T+a,x=_+a,S=_-a),j=T),{x1:x,x2:_,x3:S,y1:T,y2:D,y3:j}}drawTitle(e,n,r){const s=this.title,i=s.length;let a,l,c;if(i){const u=wf(r.rtl,this.x,this.width);for(e.x=Ey(this,r.titleAlign,r),n.textAlign=u.textAlign(r.titleAlign),n.textBaseline="middle",a=Xs(r.titleFont),l=r.titleSpacing,n.fillStyle=r.titleColor,n.font=a.string,c=0;c<i;++c)n.fillText(s[c],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,c+1===i&&(e.y+=r.titleMarginBottom-l)}}_drawColorBox(e,n,r,s,i){const a=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:c,boxWidth:u}=i,h=Xs(i.bodyFont),f=Ey(this,"left",i),m=s.x(f),g=c<h.lineHeight?(h.lineHeight-c)/2:0,b=n.y+g;if(i.usePointStyle){const y={radius:Math.min(u,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},x=s.leftForLtr(m,u)+u/2,_=b+c/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,V2(e,y,x,_),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,V2(e,y,x,_)}else{e.lineWidth=Kn(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const y=s.leftForLtr(m,u),x=s.leftForLtr(s.xPlus(m,1),u-2),_=Gm(a.borderRadius);Object.values(_).some(S=>S!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,q2(e,{x:y,y:b,w:u,h:c,radius:_}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),q2(e,{x,y:b+1,w:u-2,h:c-2,radius:_}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(y,b,u,c),e.strokeRect(y,b,u,c),e.fillStyle=a.backgroundColor,e.fillRect(x,b+1,u-2,c-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:s}=this,{bodySpacing:i,bodyAlign:a,displayColors:l,boxHeight:c,boxWidth:u,boxPadding:h}=r,f=Xs(r.bodyFont);let m=f.lineHeight,g=0;const b=wf(r.rtl,this.x,this.width),y=function(L){n.fillText(L,b.x(e.x+g),e.y+m/2),e.y+=m+i},x=b.textAlign(a);let _,S,T,D,j,A,O;for(n.textAlign=a,n.textBaseline="middle",n.font=f.string,e.x=Ey(this,x,r),n.fillStyle=r.bodyColor,ur(this.beforeBody,y),g=l&&x!=="right"?a==="center"?u/2+h:u+2+h:0,D=0,A=s.length;D<A;++D){for(_=s[D],S=this.labelTextColors[D],n.fillStyle=S,ur(_.before,y),T=_.lines,l&&T.length&&(this._drawColorBox(n,e,D,b,r),m=Math.max(f.lineHeight,c)),j=0,O=T.length;j<O;++j)y(T[j]),m=f.lineHeight;ur(_.after,y)}g=0,m=f.lineHeight,ur(this.afterBody,y),e.y-=i}drawFooter(e,n,r){const s=this.footer,i=s.length;let a,l;if(i){const c=wf(r.rtl,this.x,this.width);for(e.x=Ey(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=c.textAlign(r.footerAlign),n.textBaseline="middle",a=Xs(r.footerFont),n.fillStyle=r.footerColor,n.font=a.string,l=0;l<i;++l)n.fillText(s[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,n,r,s){const{xAlign:i,yAlign:a}=this,{x:l,y:c}=e,{width:u,height:h}=r,{topLeft:f,topRight:m,bottomLeft:g,bottomRight:b}=Gm(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(l+f,c),a==="top"&&this.drawCaret(e,n,r,s),n.lineTo(l+u-m,c),n.quadraticCurveTo(l+u,c,l+u,c+m),a==="center"&&i==="right"&&this.drawCaret(e,n,r,s),n.lineTo(l+u,c+h-b),n.quadraticCurveTo(l+u,c+h,l+u-b,c+h),a==="bottom"&&this.drawCaret(e,n,r,s),n.lineTo(l+g,c+h),n.quadraticCurveTo(l,c+h,l,c+h-g),a==="center"&&i==="left"&&this.drawCaret(e,n,r,s),n.lineTo(l,c+f),n.quadraticCurveTo(l,c,l+f,c),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,s=r&&r.x,i=r&&r.y;if(s||i){const a=Lm[e.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=X3(this,e),c=Object.assign({},a,this._size),u=Q3(n,e,c),h=Z3(e,c,u,n);(s._to!==h.x||i._to!==h.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=Ka(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(e.save(),e.globalAlpha=r,this.drawBackground(i,e,s,n),UO(e,n.textDirection),i.y+=a.top,this.drawTitle(i,e,n),this.drawBody(i,e,n),this.drawFooter(i,e,n),HO(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,s=e.map(({datasetIndex:l,index:c})=>{const u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[c],index:c}}),i=!Ob(r,s),a=this._positionChanged(s,n);(i||a)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],a=this._getActiveElements(e,i,n,r),l=this._positionChanged(a,e),c=n||!Ob(a,i)||l;return c&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),c}_getActiveElements(e,n,r,s){const i=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,i.mode,i,r);return i.reverse&&a.reverse(),a}_positionChanged(e,n){const{caretX:r,caretY:s,options:i}=this,a=Lm[i.position].call(this,e,n);return a!==!1&&(r!==a.x||s!==a.y)}}Ht(X2,"positioners",Lm);var cM={id:"tooltip",_element:X2,positioners:Lm,afterInit(t,e,n){n&&(t.tooltip=new X2({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:lM},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const FX=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function BX(t,e,n,r){const s=t.indexOf(e);if(s===-1)return FX(t,e,n,r);const i=t.lastIndexOf(e);return s!==i?n:s}const $X=(t,e)=>t===null?null:_i(Math.round(t),0,e);function tD(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class zb extends pp{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:s,label:i}of n)r[s]===i&&r.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(br(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:BX(r,e,Rn(n,e),this._addedLabels),$X(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,s=[];let i=this.getLabels();i=e===0&&n===i.length-1?i:i.slice(e,n+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=n;a++)s.push({value:a});return s}getLabelForValue(e){return tD.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Ht(zb,"id","category"),Ht(zb,"defaults",{ticks:{callback:tD}});function zX(t,e){const n=[],{bounds:s,step:i,min:a,max:l,precision:c,count:u,maxTicks:h,maxDigits:f,includeBounds:m}=t,g=i||1,b=h-1,{min:y,max:x}=e,_=!br(a),S=!br(l),T=!br(u),D=(x-y)/(f+1);let j=a3((x-y)/b/g)*g,A,O,L,P;if(j<1e-14&&!_&&!S)return[{value:y},{value:x}];P=Math.ceil(x/j)-Math.floor(y/j),P>b&&(j=a3(P*j/b/g)*g),br(c)||(A=Math.pow(10,c),j=Math.ceil(j*A)/A),s==="ticks"?(O=Math.floor(y/j)*j,L=Math.ceil(x/j)*j):(O=y,L=x),_&&S&&i&&CY((l-a)/i,j/1e3)?(P=Math.round(Math.min((l-a)/j,h)),j=(l-a)/P,O=a,L=l):T?(O=_?a:O,L=S?l:L,P=u-1,j=(L-O)/P):(P=(L-O)/j,Vm(P,Math.round(P),j/1e3)?P=Math.round(P):P=Math.ceil(P));const N=Math.max(o3(j),o3(O));A=Math.pow(10,br(c)?N:c),O=Math.round(O*A)/A,L=Math.round(L*A)/A;let U=0;for(_&&(m&&O!==a?(n.push({value:a}),O<a&&U++,Vm(Math.round((O+U*j)*A)/A,a,nD(a,D,t))&&U++):O<a&&U++);U<P;++U){const M=Math.round((O+U*j)*A)/A;if(S&&M>l)break;n.push({value:M})}return S&&m&&L!==l?n.length&&Vm(n[n.length-1].value,l,nD(l,D,t))?n[n.length-1].value=l:n.push({value:l}):(!S||L===l)&&n.push({value:L}),n}function nD(t,e,{horizontal:n,minRotation:r}){const s=lc(r),i=(n?Math.sin(s):Math.cos(s))||.001,a=.75*e*(""+t).length;return Math.min(e/i,a)}class UX extends pp{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return br(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:s,max:i}=this;const a=c=>s=n?s:c,l=c=>i=r?i:c;if(e){const c=Lf(s),u=Lf(i);c<0&&u<0?l(0):c>0&&u>0&&a(0)}if(s===i){let c=i===0?1:Math.abs(i*.05);l(i+c),e||a(s-c)}this.min=s,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,s;return r?(s=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,a=zX(s,i);return e.bounds==="ticks"&&TY(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const s=(r-n)/Math.max(e.length-1,1)/2;n-=s,r+=s}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return nT(e,this.chart.options.locale,this.options.ticks.format)}}class Ub extends UX{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Ga(e)?e:0,this.max=Ga(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=lc(this.options.ticks.minRotation),s=(e?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Ht(Ub,"id","linear"),Ht(Ub,"defaults",{ticks:{callback:MO.formatters.numeric}});const ov={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},zi=Object.keys(ov);function rD(t,e){return t-e}function sD(t,e){if(br(e))return null;const n=t._adapter,{parser:r,round:s,isoWeekday:i}=t._parseOpts;let a=e;return typeof r=="function"&&(a=r(a)),Ga(a)||(a=typeof r=="string"?n.parse(a,r):n.parse(a)),a===null?null:(s&&(a=s==="week"&&(bg(i)||i===!0)?n.startOf(a,"isoWeek",i):n.startOf(a,s)),+a)}function iD(t,e,n,r){const s=zi.length;for(let i=zi.indexOf(t);i<s-1;++i){const a=ov[zi[i]],l=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(l*a.size))<=r)return zi[i]}return zi[s-1]}function HX(t,e,n,r,s){for(let i=zi.length-1;i>=zi.indexOf(n);i--){const a=zi[i];if(ov[a].common&&t._adapter.diff(s,r,a)>=e-1)return a}return zi[n?zi.indexOf(n):0]}function WX(t){for(let e=zi.indexOf(t)+1,n=zi.length;e<n;++e)if(ov[zi[e]].common)return zi[e]}function aD(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:s}=JC(n,e),i=n[r]>=e?n[r]:n[s];t[i]=!0}}function VX(t,e,n,r){const s=t._adapter,i=+s.startOf(e[0].value,r),a=e[e.length-1].value;let l,c;for(l=i;l<=a;l=+s.add(l,1,r))c=n[l],c>=0&&(e[c].major=!0);return e}function oD(t,e,n){const r=[],s={},i=e.length;let a,l;for(a=0;a<i;++a)l=e[a],s[l]=a,r.push({value:l,major:!1});return i===0||!n?r:VX(t,r,s,n)}class Hb extends pp{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),s=this._adapter=new nK._date(e.adapters.date);s.init(n),Wm(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:sD(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:s,max:i,minDefined:a,maxDefined:l}=this.getUserBounds();function c(u){!a&&!isNaN(u.min)&&(s=Math.min(s,u.min)),!l&&!isNaN(u.max)&&(i=Math.max(i,u.max))}(!a||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),s=Ga(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),i=Ga(i)&&!isNaN(i)?i:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,a=this.max,l=DY(s,i,a);return this._unit=n.unit||(r.autoSkip?iD(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):HX(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:WX(this._unit),this.initOffsets(s),e.reverse&&l.reverse(),oD(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,s,i;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?r=i:r=(i-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=_i(n,0,a),r=_i(r,0,a),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,s=this.options,i=s.time,a=i.unit||iD(i.minUnit,n,r,this._getLabelCapacity(n)),l=Rn(s.ticks.stepSize,1),c=a==="week"?i.isoWeekday:!1,u=bg(c)||c===!0,h={};let f=n,m,g;if(u&&(f=+e.startOf(f,"isoWeek",c)),f=+e.startOf(f,u?"day":a),e.diff(r,n,a)>1e5*l)throw new Error(n+" and "+r+" are too far apart with stepSize of "+l+" "+a);const b=s.ticks.source==="data"&&this.getDataTimestamps();for(m=f,g=0;m<r;m=+e.add(m,l,a),g++)aD(h,m,b);return(m===r||s.bounds==="ticks"||g===1)&&aD(h,m,b),Object.keys(h).sort(rD).map(y=>+y)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,i=this._unit,a=n||s[i];return this._adapter.format(e,a)}_tickFormatFunction(e,n,r,s){const i=this.options,a=i.ticks.callback;if(a)return Sr(a,[e,n,r],this);const l=i.time.displayFormats,c=this._unit,u=this._majorUnit,h=c&&l[c],f=u&&l[u],m=r[n],g=u&&f&&m&&m.major;return this._adapter.format(e,s||(g?f:h))}generateTickLabels(e){let n,r,s;for(n=0,r=e.length;n<r;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,s=lc(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(s),a=Math.sin(s),l=this._resolveTickFontOptions(0).size;return{w:r*i+l*a,h:r*a+l*i}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,i=this._tickFormatFunction(e,0,oD(this,[e],this._majorUnit),s),a=this._getLabelSize(i),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)e.push(sD(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return PY(e.sort(rD))}}Ht(Hb,"id","time"),Ht(Hb,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function jy(t,e,n){let r=0,s=t.length-1,i,a,l,c;n?(e>=t[r].pos&&e<=t[s].pos&&({lo:r,hi:s}=Ad(t,"pos",e)),{pos:i,time:l}=t[r],{pos:a,time:c}=t[s]):(e>=t[r].time&&e<=t[s].time&&({lo:r,hi:s}=Ad(t,"time",e)),{time:i,pos:l}=t[r],{time:a,pos:c}=t[s]);const u=a-i;return u?l+(c-l)*(e-i)/u:l}class lD extends Hb{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=jy(n,this.min),this._tableRange=jy(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,s=[],i=[];let a,l,c,u,h;for(a=0,l=e.length;a<l;++a)u=e[a],u>=n&&u<=r&&s.push(u);if(s.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(a=0,l=s.length;a<l;++a)h=s[a+1],c=s[a-1],u=s[a],Math.round((h+c)/2)!==u&&i.push({time:u,pos:a/(l-1)});return i}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((s,i)=>s-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(jy(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return jy(this._table,r*this._tableRange+this._minPos,!0)}}Ht(lD,"id","timeseries"),Ht(lD,"defaults",Hb.defaults);const uM="label";function cD(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function qX(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function dM(t,e){t.labels=e}function hM(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:uM;const r=[];t.datasets=e.map(s=>{const i=t.datasets.find(a=>a[n]===s[n]);return!i||!s.data||r.includes(i)?{...s}:(r.push(i),Object.assign(i,s),i)})}function YX(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:uM;const n={labels:[],datasets:[]};return dM(n,t.labels),hM(n,t.datasets,e),n}function GX(t,e){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:i,type:a,data:l,options:c,plugins:u=[],fallbackContent:h,updateMode:f,...m}=t,g=w.useRef(null),b=w.useRef(null),y=()=>{g.current&&(b.current=new r0(g.current,{type:a,data:YX(l,i),options:c&&{...c},plugins:u}),cD(e,b.current))},x=()=>{cD(e,null),b.current&&(b.current.destroy(),b.current=null)};return w.useEffect(()=>{!s&&b.current&&c&&qX(b.current,c)},[s,c]),w.useEffect(()=>{!s&&b.current&&dM(b.current.config.data,l.labels)},[s,l.labels]),w.useEffect(()=>{!s&&b.current&&l.datasets&&hM(b.current.config.data,l.datasets,i)},[s,l.datasets]),w.useEffect(()=>{b.current&&(s?(x(),setTimeout(y)):b.current.update(f))},[s,c,l.labels,l.datasets,f]),w.useEffect(()=>{b.current&&(x(),setTimeout(y))},[a]),w.useEffect(()=>(y(),()=>x()),[]),nn.createElement("canvas",{ref:g,role:"img",height:n,width:r,...m},h)}const KX=w.forwardRef(GX);function fM(t,e){return r0.register(e),w.forwardRef((n,r)=>nn.createElement(KX,{...n,ref:r,type:t}))}const pM=fM("line",ib),mM=fM("doughnut",Mm);var lb={exports:{}},XX=lb.exports,uD;function QX(){return uD||(uD=1,function(t,e){(function(n,r){t.exports=r()})(XX,function(){var n=1e3,r=6e4,s=36e5,i="millisecond",a="second",l="minute",c="hour",u="day",h="week",f="month",m="quarter",g="year",b="date",y="Invalid Date",x=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,_=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,S={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(E){var G=["th","st","nd","rd"],Q=E%100;return"["+E+(G[(Q-20)%10]||G[Q]||G[0])+"]"}},T=function(E,G,Q){var re=String(E);return!re||re.length>=G?E:""+Array(G+1-re.length).join(Q)+E},D={s:T,z:function(E){var G=-E.utcOffset(),Q=Math.abs(G),re=Math.floor(Q/60),ee=Q%60;return(G<=0?"+":"-")+T(re,2,"0")+":"+T(ee,2,"0")},m:function E(G,Q){if(G.date()<Q.date())return-E(Q,G);var re=12*(Q.year()-G.year())+(Q.month()-G.month()),ee=G.clone().add(re,f),Z=Q-ee<0,K=G.clone().add(re+(Z?-1:1),f);return+(-(re+(Q-ee)/(Z?ee-K:K-ee))||0)},a:function(E){return E<0?Math.ceil(E)||0:Math.floor(E)},p:function(E){return{M:f,y:g,w:h,d:u,D:b,h:c,m:l,s:a,ms:i,Q:m}[E]||String(E||"").toLowerCase().replace(/s$/,"")},u:function(E){return E===void 0}},j="en",A={};A[j]=S;var O="$isDayjsObject",L=function(E){return E instanceof M||!(!E||!E[O])},P=function E(G,Q,re){var ee;if(!G)return j;if(typeof G=="string"){var Z=G.toLowerCase();A[Z]&&(ee=Z),Q&&(A[Z]=Q,ee=Z);var K=G.split("-");if(!ee&&K.length>1)return E(K[0])}else{var F=G.name;A[F]=G,ee=F}return!re&&ee&&(j=ee),ee||!re&&j},N=function(E,G){if(L(E))return E.clone();var Q=typeof G=="object"?G:{};return Q.date=E,Q.args=arguments,new M(Q)},U=D;U.l=P,U.i=L,U.w=function(E,G){return N(E,{locale:G.$L,utc:G.$u,x:G.$x,$offset:G.$offset})};var M=function(){function E(Q){this.$L=P(Q.locale,null,!0),this.parse(Q),this.$x=this.$x||Q.x||{},this[O]=!0}var G=E.prototype;return G.parse=function(Q){this.$d=function(re){var ee=re.date,Z=re.utc;if(ee===null)return new Date(NaN);if(U.u(ee))return new Date;if(ee instanceof Date)return new Date(ee);if(typeof ee=="string"&&!/Z$/i.test(ee)){var K=ee.match(x);if(K){var F=K[2]-1||0,W=(K[7]||"0").substring(0,3);return Z?new Date(Date.UTC(K[1],F,K[3]||1,K[4]||0,K[5]||0,K[6]||0,W)):new Date(K[1],F,K[3]||1,K[4]||0,K[5]||0,K[6]||0,W)}}return new Date(ee)}(Q),this.init()},G.init=function(){var Q=this.$d;this.$y=Q.getFullYear(),this.$M=Q.getMonth(),this.$D=Q.getDate(),this.$W=Q.getDay(),this.$H=Q.getHours(),this.$m=Q.getMinutes(),this.$s=Q.getSeconds(),this.$ms=Q.getMilliseconds()},G.$utils=function(){return U},G.isValid=function(){return this.$d.toString()!==y},G.isSame=function(Q,re){var ee=N(Q);return this.startOf(re)<=ee&&ee<=this.endOf(re)},G.isAfter=function(Q,re){return N(Q)<this.startOf(re)},G.isBefore=function(Q,re){return this.endOf(re)<N(Q)},G.$g=function(Q,re,ee){return U.u(Q)?this[re]:this.set(ee,Q)},G.unix=function(){return Math.floor(this.valueOf()/1e3)},G.valueOf=function(){return this.$d.getTime()},G.startOf=function(Q,re){var ee=this,Z=!!U.u(re)||re,K=U.p(Q),F=function(ke,We){var Je=U.w(ee.$u?Date.UTC(ee.$y,We,ke):new Date(ee.$y,We,ke),ee);return Z?Je:Je.endOf(u)},W=function(ke,We){return U.w(ee.toDate()[ke].apply(ee.toDate("s"),(Z?[0,0,0,0]:[23,59,59,999]).slice(We)),ee)},me=this.$W,ne=this.$M,ge=this.$D,we="set"+(this.$u?"UTC":"");switch(K){case g:return Z?F(1,0):F(31,11);case f:return Z?F(1,ne):F(0,ne+1);case h:var je=this.$locale().weekStart||0,Re=(me<je?me+7:me)-je;return F(Z?ge-Re:ge+(6-Re),ne);case u:case b:return W(we+"Hours",0);case c:return W(we+"Minutes",1);case l:return W(we+"Seconds",2);case a:return W(we+"Milliseconds",3);default:return this.clone()}},G.endOf=function(Q){return this.startOf(Q,!1)},G.$set=function(Q,re){var ee,Z=U.p(Q),K="set"+(this.$u?"UTC":""),F=(ee={},ee[u]=K+"Date",ee[b]=K+"Date",ee[f]=K+"Month",ee[g]=K+"FullYear",ee[c]=K+"Hours",ee[l]=K+"Minutes",ee[a]=K+"Seconds",ee[i]=K+"Milliseconds",ee)[Z],W=Z===u?this.$D+(re-this.$W):re;if(Z===f||Z===g){var me=this.clone().set(b,1);me.$d[F](W),me.init(),this.$d=me.set(b,Math.min(this.$D,me.daysInMonth())).$d}else F&&this.$d[F](W);return this.init(),this},G.set=function(Q,re){return this.clone().$set(Q,re)},G.get=function(Q){return this[U.p(Q)]()},G.add=function(Q,re){var ee,Z=this;Q=Number(Q);var K=U.p(re),F=function(ne){var ge=N(Z);return U.w(ge.date(ge.date()+Math.round(ne*Q)),Z)};if(K===f)return this.set(f,this.$M+Q);if(K===g)return this.set(g,this.$y+Q);if(K===u)return F(1);if(K===h)return F(7);var W=(ee={},ee[l]=r,ee[c]=s,ee[a]=n,ee)[K]||1,me=this.$d.getTime()+Q*W;return U.w(me,this)},G.subtract=function(Q,re){return this.add(-1*Q,re)},G.format=function(Q){var re=this,ee=this.$locale();if(!this.isValid())return ee.invalidDate||y;var Z=Q||"YYYY-MM-DDTHH:mm:ssZ",K=U.z(this),F=this.$H,W=this.$m,me=this.$M,ne=ee.weekdays,ge=ee.months,we=ee.meridiem,je=function(We,Je,nt,ct){return We&&(We[Je]||We(re,Z))||nt[Je].slice(0,ct)},Re=function(We){return U.s(F%12||12,We,"0")},ke=we||function(We,Je,nt){var ct=We<12?"AM":"PM";return nt?ct.toLowerCase():ct};return Z.replace(_,function(We,Je){return Je||function(nt){switch(nt){case"YY":return String(re.$y).slice(-2);case"YYYY":return U.s(re.$y,4,"0");case"M":return me+1;case"MM":return U.s(me+1,2,"0");case"MMM":return je(ee.monthsShort,me,ge,3);case"MMMM":return je(ge,me);case"D":return re.$D;case"DD":return U.s(re.$D,2,"0");case"d":return String(re.$W);case"dd":return je(ee.weekdaysMin,re.$W,ne,2);case"ddd":return je(ee.weekdaysShort,re.$W,ne,3);case"dddd":return ne[re.$W];case"H":return String(F);case"HH":return U.s(F,2,"0");case"h":return Re(1);case"hh":return Re(2);case"a":return ke(F,W,!0);case"A":return ke(F,W,!1);case"m":return String(W);case"mm":return U.s(W,2,"0");case"s":return String(re.$s);case"ss":return U.s(re.$s,2,"0");case"SSS":return U.s(re.$ms,3,"0");case"Z":return K}return null}(We)||K.replace(":","")})},G.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},G.diff=function(Q,re,ee){var Z,K=this,F=U.p(re),W=N(Q),me=(W.utcOffset()-this.utcOffset())*r,ne=this-W,ge=function(){return U.m(K,W)};switch(F){case g:Z=ge()/12;break;case f:Z=ge();break;case m:Z=ge()/3;break;case h:Z=(ne-me)/6048e5;break;case u:Z=(ne-me)/864e5;break;case c:Z=ne/s;break;case l:Z=ne/r;break;case a:Z=ne/n;break;default:Z=ne}return ee?Z:U.a(Z)},G.daysInMonth=function(){return this.endOf(f).$D},G.$locale=function(){return A[this.$L]},G.locale=function(Q,re){if(!Q)return this.$L;var ee=this.clone(),Z=P(Q,re,!0);return Z&&(ee.$L=Z),ee},G.clone=function(){return U.w(this.$d,this)},G.toDate=function(){return new Date(this.valueOf())},G.toJSON=function(){return this.isValid()?this.toISOString():null},G.toISOString=function(){return this.$d.toISOString()},G.toString=function(){return this.$d.toUTCString()},E}(),q=M.prototype;return N.prototype=q,[["$ms",i],["$s",a],["$m",l],["$H",c],["$W",u],["$M",f],["$y",g],["$D",b]].forEach(function(E){q[E[1]]=function(G){return this.$g(G,E[0],E[1])}}),N.extend=function(E,G){return E.$i||(E(G,M,N),E.$i=!0),N},N.locale=P,N.isDayjs=L,N.unix=function(E){return N(1e3*E)},N.en=A[j],N.Ls=A,N.p={},N})}(lb)),lb.exports}var ZX=QX();const Cl=Jr(ZX);var cb={exports:{}},JX=cb.exports,dD;function eQ(){return dD||(dD=1,function(t,e){(function(n,r){t.exports=r()})(JX,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,s=/\d/,i=/\d\d/,a=/\d\d?/,l=/\d*[^-_:/,()\s\d]+/,c={},u=function(x){return(x=+x)+(x>68?1900:2e3)},h=function(x){return function(_){this[x]=+_}},f=[/[+-]\d\d:?(\d\d)?|Z/,function(x){(this.zone||(this.zone={})).offset=function(_){if(!_||_==="Z")return 0;var S=_.match(/([+-]|\d\d)/g),T=60*S[1]+(+S[2]||0);return T===0?0:S[0]==="+"?-T:T}(x)}],m=function(x){var _=c[x];return _&&(_.indexOf?_:_.s.concat(_.f))},g=function(x,_){var S,T=c.meridiem;if(T){for(var D=1;D<=24;D+=1)if(x.indexOf(T(D,0,_))>-1){S=D>12;break}}else S=x===(_?"pm":"PM");return S},b={A:[l,function(x){this.afternoon=g(x,!1)}],a:[l,function(x){this.afternoon=g(x,!0)}],Q:[s,function(x){this.month=3*(x-1)+1}],S:[s,function(x){this.milliseconds=100*+x}],SS:[i,function(x){this.milliseconds=10*+x}],SSS:[/\d{3}/,function(x){this.milliseconds=+x}],s:[a,h("seconds")],ss:[a,h("seconds")],m:[a,h("minutes")],mm:[a,h("minutes")],H:[a,h("hours")],h:[a,h("hours")],HH:[a,h("hours")],hh:[a,h("hours")],D:[a,h("day")],DD:[i,h("day")],Do:[l,function(x){var _=c.ordinal,S=x.match(/\d+/);if(this.day=S[0],_)for(var T=1;T<=31;T+=1)_(T).replace(/\[|\]/g,"")===x&&(this.day=T)}],w:[a,h("week")],ww:[i,h("week")],M:[a,h("month")],MM:[i,h("month")],MMM:[l,function(x){var _=m("months"),S=(m("monthsShort")||_.map(function(T){return T.slice(0,3)})).indexOf(x)+1;if(S<1)throw new Error;this.month=S%12||S}],MMMM:[l,function(x){var _=m("months").indexOf(x)+1;if(_<1)throw new Error;this.month=_%12||_}],Y:[/[+-]?\d+/,h("year")],YY:[i,function(x){this.year=u(x)}],YYYY:[/\d{4}/,h("year")],Z:f,ZZ:f};function y(x){var _,S;_=x,S=c&&c.formats;for(var T=(x=_.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(N,U,M){var q=M&&M.toUpperCase();return U||S[M]||n[M]||S[q].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(E,G,Q){return G||Q.slice(1)})})).match(r),D=T.length,j=0;j<D;j+=1){var A=T[j],O=b[A],L=O&&O[0],P=O&&O[1];T[j]=P?{regex:L,parser:P}:A.replace(/^\[|\]$/g,"")}return function(N){for(var U={},M=0,q=0;M<D;M+=1){var E=T[M];if(typeof E=="string")q+=E.length;else{var G=E.regex,Q=E.parser,re=N.slice(q),ee=G.exec(re)[0];Q.call(U,ee),N=N.replace(ee,"")}}return function(Z){var K=Z.afternoon;if(K!==void 0){var F=Z.hours;K?F<12&&(Z.hours+=12):F===12&&(Z.hours=0),delete Z.afternoon}}(U),U}}return function(x,_,S){S.p.customParseFormat=!0,x&&x.parseTwoDigitYear&&(u=x.parseTwoDigitYear);var T=_.prototype,D=T.parse;T.parse=function(j){var A=j.date,O=j.utc,L=j.args;this.$u=O;var P=L[1];if(typeof P=="string"){var N=L[2]===!0,U=L[3]===!0,M=N||U,q=L[2];U&&(q=L[2]),c=this.$locale(),!N&&q&&(c=S.Ls[q]),this.$d=function(re,ee,Z,K){try{if(["x","X"].indexOf(ee)>-1)return new Date((ee==="X"?1e3:1)*re);var F=y(ee)(re),W=F.year,me=F.month,ne=F.day,ge=F.hours,we=F.minutes,je=F.seconds,Re=F.milliseconds,ke=F.zone,We=F.week,Je=new Date,nt=ne||(W||me?1:Je.getDate()),ct=W||Je.getFullYear(),X=0;W&&!me||(X=me>0?me-1:Je.getMonth());var Me,ye=ge||0,se=we||0,ie=je||0,fe=Re||0;return ke?new Date(Date.UTC(ct,X,nt,ye,se,ie,fe+60*ke.offset*1e3)):Z?new Date(Date.UTC(ct,X,nt,ye,se,ie,fe)):(Me=new Date(ct,X,nt,ye,se,ie,fe),We&&(Me=K(Me).week(We).toDate()),Me)}catch{return new Date("")}}(A,P,O,S),this.init(),q&&q!==!0&&(this.$L=this.locale(q).$L),M&&A!=this.format(P)&&(this.$d=new Date("")),c={}}else if(P instanceof Array)for(var E=P.length,G=1;G<=E;G+=1){L[1]=P[G-1];var Q=S.apply(this,L);if(Q.isValid()){this.$d=Q.$d,this.$L=Q.$L,this.init();break}G===E&&(this.$d=new Date(""))}else D.call(this,j)}}})}(cb)),cb.exports}var tQ=eQ();const nQ=Jr(tQ);var ub={exports:{}},rQ=ub.exports,hD;function sQ(){return hD||(hD=1,function(t,e){(function(n,r){t.exports=r()})(rQ,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,s,i){var a=s.prototype,l=a.format;i.en.formats=n,a.format=function(c){c===void 0&&(c="YYYY-MM-DDTHH:mm:ssZ");var u=this.$locale().formats,h=function(f,m){return f.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(g,b,y){var x=y&&y.toUpperCase();return b||m[y]||n[y]||m[x].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(_,S,T){return S||T.slice(1)})})}(c,u===void 0?{}:u);return l.call(this,h)}}})}(ub)),ub.exports}var iQ=sQ();const aQ=Jr(iQ);var db={exports:{}},oQ=db.exports,fD;function lQ(){return fD||(fD=1,function(t,e){(function(n,r){t.exports=r()})(oQ,function(){return function(n,r,s){r.prototype.isBetween=function(i,a,l,c){var u=s(i),h=s(a),f=(c=c||"()")[0]==="(",m=c[1]===")";return(f?this.isAfter(u,l):!this.isBefore(u,l))&&(m?this.isBefore(h,l):!this.isAfter(h,l))||(f?this.isBefore(u,l):!this.isAfter(u,l))&&(m?this.isAfter(h,l):!this.isBefore(h,l))}}})}(db)),db.exports}var cQ=lQ();const uQ=Jr(cQ);Cl.extend(nQ);Cl.extend(aQ);Cl.extend(uQ);const dQ=(t,e)=>e?(...n)=>t(...n).locale(e):t,hQ={normalDateWithWeekday:"ddd, MMM D",normalDate:"D MMMM",shortDate:"MMM D",monthAndDate:"MMMM D",dayOfMonth:"D",year:"YYYY",month:"MMMM",monthShort:"MMM",monthAndYear:"MMMM YYYY",weekday:"dddd",weekdayShort:"ddd",minutes:"mm",hours12h:"hh",hours24h:"HH",seconds:"ss",fullTime:"LT",fullTime12h:"hh:mm A",fullTime24h:"HH:mm",fullDate:"ll",fullDateWithWeekday:"dddd, LL",fullDateTime:"lll",fullDateTime12h:"ll hh:mm A",fullDateTime24h:"ll HH:mm",keyboardDate:"L",keyboardDateTime:"L LT",keyboardDateTime12h:"L hh:mm A",keyboardDateTime24h:"L HH:mm"};class gM{constructor({locale:e,formats:n,instance:r}={}){this.lib="dayjs",this.is12HourCycleInCurrentLocale=()=>{var s,i,a;return/A|a/.test((a=(i=(s=this.rawDayJsInstance.Ls[this.locale||"en"])===null||s===void 0?void 0:s.formats)===null||i===void 0?void 0:i.LT)!==null&&a!==void 0?a:"")},this.getCurrentLocaleCode=()=>this.locale||"en",this.getFormatHelperText=s=>{var i,a,l=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?)|./g;return(a=(i=s.match(l))===null||i===void 0?void 0:i.map(c=>{var u,h,f=c[0];return f==="L"&&(h=(u=this.rawDayJsInstance.Ls[this.locale||"en"])===null||u===void 0?void 0:u.formats[c])!==null&&h!==void 0?h:c}).join("").replace(/a/gi,"(a|p)m").toLocaleLowerCase())!==null&&a!==void 0?a:s},this.parseISO=s=>this.dayjs(s),this.toISO=s=>s.toISOString(),this.parse=(s,i)=>s===""?null:this.dayjs(s,i,this.locale,!0),this.date=s=>s===null?null:this.dayjs(s),this.toJsDate=s=>s.toDate(),this.isValid=s=>this.dayjs(s).isValid(),this.isNull=s=>s===null,this.getDiff=(s,i,a)=>(typeof i=="string"&&(i=this.dayjs(i)),i.isValid()?s.diff(i,a):0),this.isAfter=(s,i)=>s.isAfter(i),this.isBefore=(s,i)=>s.isBefore(i),this.isAfterDay=(s,i)=>s.isAfter(i,"day"),this.isBeforeDay=(s,i)=>s.isBefore(i,"day"),this.isAfterMonth=(s,i)=>s.isAfter(i,"month"),this.isBeforeMonth=(s,i)=>s.isBefore(i,"month"),this.isBeforeYear=(s,i)=>s.isBefore(i,"year"),this.isAfterYear=(s,i)=>s.isAfter(i,"year"),this.startOfDay=s=>s.startOf("day"),this.endOfDay=s=>s.endOf("day"),this.format=(s,i)=>this.formatByString(s,this.formats[i]),this.formatByString=(s,i)=>this.dayjs(s).format(i),this.formatNumber=s=>s,this.getHours=s=>s.hour(),this.addSeconds=(s,i)=>i<0?s.subtract(Math.abs(i),"second"):s.add(i,"second"),this.addMinutes=(s,i)=>i<0?s.subtract(Math.abs(i),"minute"):s.add(i,"minute"),this.addHours=(s,i)=>i<0?s.subtract(Math.abs(i),"hour"):s.add(i,"hour"),this.addDays=(s,i)=>i<0?s.subtract(Math.abs(i),"day"):s.add(i,"day"),this.addWeeks=(s,i)=>i<0?s.subtract(Math.abs(i),"week"):s.add(i,"week"),this.addMonths=(s,i)=>i<0?s.subtract(Math.abs(i),"month"):s.add(i,"month"),this.addYears=(s,i)=>i<0?s.subtract(Math.abs(i),"year"):s.add(i,"year"),this.setMonth=(s,i)=>s.set("month",i),this.setHours=(s,i)=>s.set("hour",i),this.getMinutes=s=>s.minute(),this.setMinutes=(s,i)=>s.set("minute",i),this.getSeconds=s=>s.second(),this.setSeconds=(s,i)=>s.set("second",i),this.getMonth=s=>s.month(),this.getDate=s=>s.date(),this.setDate=(s,i)=>s.set("date",i),this.getDaysInMonth=s=>s.daysInMonth(),this.isSameDay=(s,i)=>s.isSame(i,"day"),this.isSameMonth=(s,i)=>s.isSame(i,"month"),this.isSameYear=(s,i)=>s.isSame(i,"year"),this.isSameHour=(s,i)=>s.isSame(i,"hour"),this.getMeridiemText=s=>s==="am"?"AM":"PM",this.startOfYear=s=>s.startOf("year"),this.endOfYear=s=>s.endOf("year"),this.startOfMonth=s=>s.startOf("month"),this.endOfMonth=s=>s.endOf("month"),this.startOfWeek=s=>s.startOf("week"),this.endOfWeek=s=>s.endOf("week"),this.getNextMonth=s=>s.add(1,"month"),this.getPreviousMonth=s=>s.subtract(1,"month"),this.getMonthArray=s=>{const a=[s.startOf("year")];for(;a.length<12;){const l=a[a.length-1];a.push(this.getNextMonth(l))}return a},this.getYear=s=>s.year(),this.setYear=(s,i)=>s.set("year",i),this.mergeDateAndTime=(s,i)=>s.hour(i.hour()).minute(i.minute()).second(i.second()),this.getWeekdays=()=>{const s=this.dayjs().startOf("week");return[0,1,2,3,4,5,6].map(i=>this.formatByString(s.add(i,"day"),"dd"))},this.isEqual=(s,i)=>s===null&&i===null?!0:this.dayjs(s).isSame(i),this.getWeekArray=s=>{const i=this.dayjs(s).startOf("month").startOf("week"),a=this.dayjs(s).endOf("month").endOf("week");let l=0,c=i;const u=[];for(;c.isBefore(a);){const h=Math.floor(l/7);u[h]=u[h]||[],u[h].push(c),c=c.add(1,"day"),l+=1}return u},this.getYearRange=(s,i)=>{const a=this.dayjs(s).startOf("year"),l=this.dayjs(i).endOf("year"),c=[];let u=a;for(;u.isBefore(l);)c.push(u),u=u.add(1,"year");return c},this.isWithinRange=(s,[i,a])=>s.isBetween(i,a,null,"[]"),this.rawDayJsInstance=r||Cl,this.dayjs=dQ(this.rawDayJsInstance,e),this.locale=e,this.formats=Object.assign({},hQ,n)}}var fQ=sv();const dn=Jr(fQ),yM=w.createContext(null);function bM(t){const{children:e,dateAdapter:n,dateFormats:r,dateLibInstance:s,locale:i}=t,a=w.useMemo(()=>new n({locale:i,formats:r,instance:s}),[n,i,r,s]),l=w.useMemo(()=>({minDate:a.date("1900-01-01T00:00:00.000"),maxDate:a.date("2099-12-31T00:00:00.000")}),[a]),c=w.useMemo(()=>({utils:a,defaultDates:l}),[l,a]);return o.jsx(yM.Provider,{value:c,children:e})}function Ge(){return Ge=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ge.apply(null,arguments)}function Pn(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function fu(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function xM(t){if(w.isValidElement(t)||!fu(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=xM(t[n])}),e}function dc(t,e,n={clone:!0}){const r=n.clone?Ge({},t):t;return fu(t)&&fu(e)&&Object.keys(e).forEach(s=>{w.isValidElement(e[s])?r[s]=e[s]:fu(e[s])&&Object.prototype.hasOwnProperty.call(t,s)&&fu(t[s])?r[s]=dc(t[s],e[s],n):n.clone?r[s]=fu(e[s])?xM(e[s]):e[s]:r[s]=e[s]}),r}function $f(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}function fr(t){if(typeof t!="string")throw new Error($f(7));return t.charAt(0).toUpperCase()+t.slice(1)}function pD(...t){return t.reduce((e,n)=>n==null?e:function(...s){e.apply(this,s),n.apply(this,s)},()=>{})}function _u(t){return t&&t.ownerDocument||document}function hT(t){return _u(t).defaultView||window}function Q2(t,e){typeof t=="function"?t(e):t&&(t.current=e)}const zf=typeof window<"u"?w.useLayoutEffect:w.useEffect;let mD=0;function pQ(t){const[e,n]=w.useState(t),r=e;return w.useEffect(()=>{e==null&&(mD+=1,n(`mui-${mD}`))},[e]),r}const gD=v2.useId;function mQ(t){return gD!==void 0?gD():pQ(t)}function gQ({controlled:t,default:e,name:n,state:r="value"}){const{current:s}=w.useRef(t!==void 0),[i,a]=w.useState(e),l=s?t:i,c=w.useCallback(u=>{s||a(u)},[]);return[l,c]}function ff(t){const e=w.useRef(t);return zf(()=>{e.current=t}),w.useRef((...n)=>(0,e.current)(...n)).current}function gc(...t){return w.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{Q2(n,e)})},t)}class fT{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new fT}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}let lv=!0,Z2=!1;const yQ=new fT,bQ={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function xQ(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&bQ[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function vQ(t){t.metaKey||t.altKey||t.ctrlKey||(lv=!0)}function Y_(){lv=!1}function _Q(){this.visibilityState==="hidden"&&Z2&&(lv=!0)}function wQ(t){t.addEventListener("keydown",vQ,!0),t.addEventListener("mousedown",Y_,!0),t.addEventListener("pointerdown",Y_,!0),t.addEventListener("touchstart",Y_,!0),t.addEventListener("visibilitychange",_Q,!0)}function SQ(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return lv||xQ(e)}function CQ(){const t=w.useCallback(s=>{s!=null&&wQ(s.ownerDocument)},[]),e=w.useRef(!1);function n(){return e.current?(Z2=!0,yQ.start(100,()=>{Z2=!1}),e.current=!1,!0):!1}function r(s){return SQ(s)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function TQ(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function pT(t,e){const n=Ge({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=Ge({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const s=t[r]||{},i=e[r];n[r]={},!i||!Object.keys(i)?n[r]=s:!s||!Object.keys(s)?n[r]=i:(n[r]=Ge({},i),Object.keys(s).forEach(a=>{n[r][a]=pT(s[a],i[a])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function ni(t,e,n=void 0){const r={};return Object.keys(t).forEach(s=>{r[s]=t[s].reduce((i,a)=>{if(a){const l=e(a);l!==""&&i.push(l),n&&n[a]&&i.push(n[a])}return i},[]).join(" ")}),r}const yD=t=>t,kQ=()=>{let t=yD;return{configure(e){t=e},generate(e){return t(e)},reset(){t=yD}}},vM=kQ(),EQ={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Fs(t,e,n="Mui"){const r=EQ[e];return r?`${n}-${r}`:`${vM.generate(t)}-${e}`}function $r(t,e,n="Mui"){const r={};return e.forEach(s=>{r[s]=Fs(t,s,n)}),r}function jQ(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function _M(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=_M(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function NQ(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=_M(t))&&(r&&(r+=" "),r+=e);return r}function DQ(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function AQ(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var PQ=function(){function t(n){var r=this;this._insertTag=function(s){var i;r.tags.length===0?r.insertionPoint?i=r.insertionPoint.nextSibling:r.prepend?i=r.container.firstChild:i=r.before:i=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,i),r.tags.push(s)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(AQ(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var i=DQ(s);try{i.insertRule(r,i.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var s;return(s=r.parentNode)==null?void 0:s.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Ys="-ms-",Wb="-moz-",Zn="-webkit-",wM="comm",mT="rule",gT="decl",IQ="@import",SM="@keyframes",OQ="@layer",MQ=Math.abs,cv=String.fromCharCode,RQ=Object.assign;function LQ(t,e){return Rs(t,0)^45?(((e<<2^Rs(t,0))<<2^Rs(t,1))<<2^Rs(t,2))<<2^Rs(t,3):0}function CM(t){return t.trim()}function FQ(t,e){return(t=e.exec(t))?t[0]:t}function Jn(t,e,n){return t.replace(e,n)}function J2(t,e){return t.indexOf(e)}function Rs(t,e){return t.charCodeAt(e)|0}function Sg(t,e,n){return t.slice(e,n)}function cl(t){return t.length}function yT(t){return t.length}function Ny(t,e){return e.push(t),t}function BQ(t,e){return t.map(e).join("")}var uv=1,Uf=1,TM=0,qi=0,is=0,mp="";function dv(t,e,n,r,s,i,a){return{value:t,root:e,parent:n,type:r,props:s,children:i,line:uv,column:Uf,length:a,return:""}}function bm(t,e){return RQ(dv("",null,null,"",null,null,0),t,{length:-t.length},e)}function $Q(){return is}function zQ(){return is=qi>0?Rs(mp,--qi):0,Uf--,is===10&&(Uf=1,uv--),is}function da(){return is=qi<TM?Rs(mp,qi++):0,Uf++,is===10&&(Uf=1,uv++),is}function _l(){return Rs(mp,qi)}function hb(){return qi}function s0(t,e){return Sg(mp,t,e)}function Cg(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function kM(t){return uv=Uf=1,TM=cl(mp=t),qi=0,[]}function EM(t){return mp="",t}function fb(t){return CM(s0(qi-1,eS(t===91?t+2:t===40?t+1:t)))}function UQ(t){for(;(is=_l())&&is<33;)da();return Cg(t)>2||Cg(is)>3?"":" "}function HQ(t,e){for(;--e&&da()&&!(is<48||is>102||is>57&&is<65||is>70&&is<97););return s0(t,hb()+(e<6&&_l()==32&&da()==32))}function eS(t){for(;da();)switch(is){case t:return qi;case 34:case 39:t!==34&&t!==39&&eS(is);break;case 40:t===41&&eS(t);break;case 92:da();break}return qi}function WQ(t,e){for(;da()&&t+is!==57;)if(t+is===84&&_l()===47)break;return"/*"+s0(e,qi-1)+"*"+cv(t===47?t:da())}function VQ(t){for(;!Cg(_l());)da();return s0(t,qi)}function qQ(t){return EM(pb("",null,null,null,[""],t=kM(t),0,[0],t))}function pb(t,e,n,r,s,i,a,l,c){for(var u=0,h=0,f=a,m=0,g=0,b=0,y=1,x=1,_=1,S=0,T="",D=s,j=i,A=r,O=T;x;)switch(b=S,S=da()){case 40:if(b!=108&&Rs(O,f-1)==58){J2(O+=Jn(fb(S),"&","&\f"),"&\f")!=-1&&(_=-1);break}case 34:case 39:case 91:O+=fb(S);break;case 9:case 10:case 13:case 32:O+=UQ(b);break;case 92:O+=HQ(hb()-1,7);continue;case 47:switch(_l()){case 42:case 47:Ny(YQ(WQ(da(),hb()),e,n),c);break;default:O+="/"}break;case 123*y:l[u++]=cl(O)*_;case 125*y:case 59:case 0:switch(S){case 0:case 125:x=0;case 59+h:_==-1&&(O=Jn(O,/\f/g,"")),g>0&&cl(O)-f&&Ny(g>32?xD(O+";",r,n,f-1):xD(Jn(O," ","")+";",r,n,f-2),c);break;case 59:O+=";";default:if(Ny(A=bD(O,e,n,u,h,s,l,T,D=[],j=[],f),i),S===123)if(h===0)pb(O,e,A,A,D,i,f,l,j);else switch(m===99&&Rs(O,3)===110?100:m){case 100:case 108:case 109:case 115:pb(t,A,A,r&&Ny(bD(t,A,A,0,0,s,l,T,s,D=[],f),j),s,j,f,l,r?D:j);break;default:pb(O,A,A,A,[""],j,0,l,j)}}u=h=g=0,y=_=1,T=O="",f=a;break;case 58:f=1+cl(O),g=b;default:if(y<1){if(S==123)--y;else if(S==125&&y++==0&&zQ()==125)continue}switch(O+=cv(S),S*y){case 38:_=h>0?1:(O+="\f",-1);break;case 44:l[u++]=(cl(O)-1)*_,_=1;break;case 64:_l()===45&&(O+=fb(da())),m=_l(),h=f=cl(T=O+=VQ(hb())),S++;break;case 45:b===45&&cl(O)==2&&(y=0)}}return i}function bD(t,e,n,r,s,i,a,l,c,u,h){for(var f=s-1,m=s===0?i:[""],g=yT(m),b=0,y=0,x=0;b<r;++b)for(var _=0,S=Sg(t,f+1,f=MQ(y=a[b])),T=t;_<g;++_)(T=CM(y>0?m[_]+" "+S:Jn(S,/&\f/g,m[_])))&&(c[x++]=T);return dv(t,e,n,s===0?mT:l,c,u,h)}function YQ(t,e,n){return dv(t,e,n,wM,cv($Q()),Sg(t,2,-2),0)}function xD(t,e,n,r){return dv(t,e,n,gT,Sg(t,0,r),Sg(t,r+1,-1),r)}function Cf(t,e){for(var n="",r=yT(t),s=0;s<r;s++)n+=e(t[s],s,t,e)||"";return n}function GQ(t,e,n,r){switch(t.type){case OQ:if(t.children.length)break;case IQ:case gT:return t.return=t.return||t.value;case wM:return"";case SM:return t.return=t.value+"{"+Cf(t.children,r)+"}";case mT:t.value=t.props.join(",")}return cl(n=Cf(t.children,r))?t.return=t.value+"{"+n+"}":""}function KQ(t){var e=yT(t);return function(n,r,s,i){for(var a="",l=0;l<e;l++)a+=t[l](n,r,s,i)||"";return a}}function XQ(t){return function(e){e.root||(e=e.return)&&t(e)}}function jM(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var QQ=function(e,n,r){for(var s=0,i=0;s=i,i=_l(),s===38&&i===12&&(n[r]=1),!Cg(i);)da();return s0(e,qi)},ZQ=function(e,n){var r=-1,s=44;do switch(Cg(s)){case 0:s===38&&_l()===12&&(n[r]=1),e[r]+=QQ(qi-1,n,r);break;case 2:e[r]+=fb(s);break;case 4:if(s===44){e[++r]=_l()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=cv(s)}while(s=da());return e},JQ=function(e,n){return EM(ZQ(kM(e),n))},vD=new WeakMap,eZ=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,s=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!vD.get(r))&&!s){vD.set(e,!0);for(var i=[],a=JQ(n,i),l=r.props,c=0,u=0;c<a.length;c++)for(var h=0;h<l.length;h++,u++)e.props[u]=i[c]?a[c].replace(/&\f/g,l[h]):l[h]+" "+a[c]}}},tZ=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function NM(t,e){switch(LQ(t,e)){case 5103:return Zn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Zn+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Zn+t+Wb+t+Ys+t+t;case 6828:case 4268:return Zn+t+Ys+t+t;case 6165:return Zn+t+Ys+"flex-"+t+t;case 5187:return Zn+t+Jn(t,/(\w+).+(:[^]+)/,Zn+"box-$1$2"+Ys+"flex-$1$2")+t;case 5443:return Zn+t+Ys+"flex-item-"+Jn(t,/flex-|-self/,"")+t;case 4675:return Zn+t+Ys+"flex-line-pack"+Jn(t,/align-content|flex-|-self/,"")+t;case 5548:return Zn+t+Ys+Jn(t,"shrink","negative")+t;case 5292:return Zn+t+Ys+Jn(t,"basis","preferred-size")+t;case 6060:return Zn+"box-"+Jn(t,"-grow","")+Zn+t+Ys+Jn(t,"grow","positive")+t;case 4554:return Zn+Jn(t,/([^-])(transform)/g,"$1"+Zn+"$2")+t;case 6187:return Jn(Jn(Jn(t,/(zoom-|grab)/,Zn+"$1"),/(image-set)/,Zn+"$1"),t,"")+t;case 5495:case 3959:return Jn(t,/(image-set\([^]*)/,Zn+"$1$`$1");case 4968:return Jn(Jn(t,/(.+:)(flex-)?(.*)/,Zn+"box-pack:$3"+Ys+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Zn+t+t;case 4095:case 3583:case 4068:case 2532:return Jn(t,/(.+)-inline(.+)/,Zn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(cl(t)-1-e>6)switch(Rs(t,e+1)){case 109:if(Rs(t,e+4)!==45)break;case 102:return Jn(t,/(.+:)(.+)-([^]+)/,"$1"+Zn+"$2-$3$1"+Wb+(Rs(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~J2(t,"stretch")?NM(Jn(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Rs(t,e+1)!==115)break;case 6444:switch(Rs(t,cl(t)-3-(~J2(t,"!important")&&10))){case 107:return Jn(t,":",":"+Zn)+t;case 101:return Jn(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Zn+(Rs(t,14)===45?"inline-":"")+"box$3$1"+Zn+"$2$3$1"+Ys+"$2box$3")+t}break;case 5936:switch(Rs(t,e+11)){case 114:return Zn+t+Ys+Jn(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Zn+t+Ys+Jn(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Zn+t+Ys+Jn(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Zn+t+Ys+t+t}return t}var nZ=function(e,n,r,s){if(e.length>-1&&!e.return)switch(e.type){case gT:e.return=NM(e.value,e.length);break;case SM:return Cf([bm(e,{value:Jn(e.value,"@","@"+Zn)})],s);case mT:if(e.length)return BQ(e.props,function(i){switch(FQ(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Cf([bm(e,{props:[Jn(i,/:(read-\w+)/,":"+Wb+"$1")]})],s);case"::placeholder":return Cf([bm(e,{props:[Jn(i,/:(plac\w+)/,":"+Zn+"input-$1")]}),bm(e,{props:[Jn(i,/:(plac\w+)/,":"+Wb+"$1")]}),bm(e,{props:[Jn(i,/:(plac\w+)/,Ys+"input-$1")]})],s)}return""})}},rZ=[nZ],sZ=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var x=y.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var s=e.stylisPlugins||rZ,i={},a,l=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var x=y.getAttribute("data-emotion").split(" "),_=1;_<x.length;_++)i[x[_]]=!0;l.push(y)});var c,u=[eZ,tZ];{var h,f=[GQ,XQ(function(y){h.insert(y)})],m=KQ(u.concat(s,f)),g=function(x){return Cf(qQ(x),m)};c=function(x,_,S,T){h=S,g(x?x+"{"+_.styles+"}":_.styles),T&&(b.inserted[_.name]=!0)}}var b={key:n,sheet:new PQ({key:n,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:c};return b.sheet.hydrate(l),b},G_={exports:{}},nr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _D;function iZ(){if(_D)return nr;_D=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,s=t?Symbol.for("react.strict_mode"):60108,i=t?Symbol.for("react.profiler"):60114,a=t?Symbol.for("react.provider"):60109,l=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,u=t?Symbol.for("react.concurrent_mode"):60111,h=t?Symbol.for("react.forward_ref"):60112,f=t?Symbol.for("react.suspense"):60113,m=t?Symbol.for("react.suspense_list"):60120,g=t?Symbol.for("react.memo"):60115,b=t?Symbol.for("react.lazy"):60116,y=t?Symbol.for("react.block"):60121,x=t?Symbol.for("react.fundamental"):60117,_=t?Symbol.for("react.responder"):60118,S=t?Symbol.for("react.scope"):60119;function T(j){if(typeof j=="object"&&j!==null){var A=j.$$typeof;switch(A){case e:switch(j=j.type,j){case c:case u:case r:case i:case s:case f:return j;default:switch(j=j&&j.$$typeof,j){case l:case h:case b:case g:case a:return j;default:return A}}case n:return A}}}function D(j){return T(j)===u}return nr.AsyncMode=c,nr.ConcurrentMode=u,nr.ContextConsumer=l,nr.ContextProvider=a,nr.Element=e,nr.ForwardRef=h,nr.Fragment=r,nr.Lazy=b,nr.Memo=g,nr.Portal=n,nr.Profiler=i,nr.StrictMode=s,nr.Suspense=f,nr.isAsyncMode=function(j){return D(j)||T(j)===c},nr.isConcurrentMode=D,nr.isContextConsumer=function(j){return T(j)===l},nr.isContextProvider=function(j){return T(j)===a},nr.isElement=function(j){return typeof j=="object"&&j!==null&&j.$$typeof===e},nr.isForwardRef=function(j){return T(j)===h},nr.isFragment=function(j){return T(j)===r},nr.isLazy=function(j){return T(j)===b},nr.isMemo=function(j){return T(j)===g},nr.isPortal=function(j){return T(j)===n},nr.isProfiler=function(j){return T(j)===i},nr.isStrictMode=function(j){return T(j)===s},nr.isSuspense=function(j){return T(j)===f},nr.isValidElementType=function(j){return typeof j=="string"||typeof j=="function"||j===r||j===u||j===i||j===s||j===f||j===m||typeof j=="object"&&j!==null&&(j.$$typeof===b||j.$$typeof===g||j.$$typeof===a||j.$$typeof===l||j.$$typeof===h||j.$$typeof===x||j.$$typeof===_||j.$$typeof===S||j.$$typeof===y)},nr.typeOf=T,nr}var wD;function aZ(){return wD||(wD=1,G_.exports=iZ()),G_.exports}var K_,SD;function oZ(){if(SD)return K_;SD=1;var t=aZ(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};i[t.ForwardRef]=r,i[t.Memo]=s;function a(b){return t.isMemo(b)?s:i[b.$$typeof]||e}var l=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,m=Object.prototype;function g(b,y,x){if(typeof y!="string"){if(m){var _=f(y);_&&_!==m&&g(b,_,x)}var S=c(y);u&&(S=S.concat(u(y)));for(var T=a(b),D=a(y),j=0;j<S.length;++j){var A=S[j];if(!n[A]&&!(x&&x[A])&&!(D&&D[A])&&!(T&&T[A])){var O=h(y,A);try{l(b,A,O)}catch{}}}}return b}return K_=g,K_}oZ();var lZ=!0;function DM(t,e,n){var r="";return n.split(" ").forEach(function(s){t[s]!==void 0?e.push(t[s]+";"):s&&(r+=s+" ")}),r}var bT=function(e,n,r){var s=e.key+"-"+n.name;(r===!1||lZ===!1)&&e.registered[s]===void 0&&(e.registered[s]=n.styles)},AM=function(e,n,r){bT(e,n,r);var s=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var i=n;do e.insert(n===i?"."+s:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function cZ(t){for(var e=0,n,r=0,s=t.length;s>=4;++r,s-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var uZ={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},dZ=/[A-Z]|^ms/g,hZ=/_EMO_([^_]+?)_([^]*?)_EMO_/g,PM=function(e){return e.charCodeAt(1)===45},CD=function(e){return e!=null&&typeof e!="boolean"},X_=jM(function(t){return PM(t)?t:t.replace(dZ,"-$&").toLowerCase()}),TD=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(hZ,function(r,s,i){return ul={name:s,styles:i,next:ul},s})}return uZ[e]!==1&&!PM(e)&&typeof n=="number"&&n!==0?n+"px":n};function Tg(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var s=n;if(s.anim===1)return ul={name:s.name,styles:s.styles,next:ul},s.name;var i=n;if(i.styles!==void 0){var a=i.next;if(a!==void 0)for(;a!==void 0;)ul={name:a.name,styles:a.styles,next:ul},a=a.next;var l=i.styles+";";return l}return fZ(t,e,n)}case"function":{if(t!==void 0){var c=ul,u=n(t);return ul=c,Tg(t,e,u)}break}}var h=n;if(e==null)return h;var f=e[h];return f!==void 0?f:h}function fZ(t,e,n){var r="";if(Array.isArray(n))for(var s=0;s<n.length;s++)r+=Tg(t,e,n[s])+";";else for(var i in n){var a=n[i];if(typeof a!="object"){var l=a;e!=null&&e[l]!==void 0?r+=i+"{"+e[l]+"}":CD(l)&&(r+=X_(i)+":"+TD(i,l)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var c=0;c<a.length;c++)CD(a[c])&&(r+=X_(i)+":"+TD(i,a[c])+";");else{var u=Tg(t,e,a);switch(i){case"animation":case"animationName":{r+=X_(i)+":"+u+";";break}default:r+=i+"{"+u+"}"}}}return r}var kD=/label:\s*([^\s;{]+)\s*(;|$)/g,ul;function xT(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,s="";ul=void 0;var i=t[0];if(i==null||i.raw===void 0)r=!1,s+=Tg(n,e,i);else{var a=i;s+=a[0]}for(var l=1;l<t.length;l++)if(s+=Tg(n,e,t[l]),r){var c=i;s+=c[l]}kD.lastIndex=0;for(var u="",h;(h=kD.exec(s))!==null;)u+="-"+h[1];var f=cZ(s)+u;return{name:f,styles:s,next:ul}}var pZ=function(e){return e()},mZ=v2.useInsertionEffect?v2.useInsertionEffect:!1,IM=mZ||pZ,OM=w.createContext(typeof HTMLElement<"u"?sZ({key:"css"}):null);OM.Provider;var MM=function(e){return w.forwardRef(function(n,r){var s=w.useContext(OM);return e(n,s,r)})},vT=w.createContext({}),_T={}.hasOwnProperty,tS="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",gZ=function(e,n){var r={};for(var s in n)_T.call(n,s)&&(r[s]=n[s]);return r[tS]=e,r},yZ=function(e){var n=e.cache,r=e.serialized,s=e.isStringTag;return bT(n,r,s),IM(function(){return AM(n,r,s)}),null},bZ=MM(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var s=t[tS],i=[r],a="";typeof t.className=="string"?a=DM(e.registered,i,t.className):t.className!=null&&(a=t.className+" ");var l=xT(i,void 0,w.useContext(vT));a+=e.key+"-"+l.name;var c={};for(var u in t)_T.call(t,u)&&u!=="css"&&u!==tS&&(c[u]=t[u]);return c.className=a,n&&(c.ref=n),w.createElement(w.Fragment,null,w.createElement(yZ,{cache:e,serialized:l,isStringTag:typeof s=="string"}),w.createElement(s,c))}),xZ=bZ,ED=function(e,n){var r=arguments;if(n==null||!_T.call(n,"css"))return w.createElement.apply(void 0,r);var s=r.length,i=new Array(s);i[0]=xZ,i[1]=gZ(e,n);for(var a=2;a<s;a++)i[a]=r[a];return w.createElement.apply(null,i)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(ED||(ED={}));function vZ(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return xT(e)}function wT(){var t=vZ.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var _Z=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,wZ=jM(function(t){return _Z.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),SZ=wZ,CZ=function(e){return e!=="theme"},jD=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?SZ:CZ},ND=function(e,n,r){var s;if(n){var i=n.shouldForwardProp;s=e.__emotion_forwardProp&&i?function(a){return e.__emotion_forwardProp(a)&&i(a)}:i}return typeof s!="function"&&r&&(s=e.__emotion_forwardProp),s},TZ=function(e){var n=e.cache,r=e.serialized,s=e.isStringTag;return bT(n,r,s),IM(function(){return AM(n,r,s)}),null},kZ=function t(e,n){var r=e.__emotion_real===e,s=r&&e.__emotion_base||e,i,a;n!==void 0&&(i=n.label,a=n.target);var l=ND(e,n,r),c=l||jD(s),u=!c("as");return function(){var h=arguments,f=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(i!==void 0&&f.push("label:"+i+";"),h[0]==null||h[0].raw===void 0)f.push.apply(f,h);else{var m=h[0];f.push(m[0]);for(var g=h.length,b=1;b<g;b++)f.push(h[b],m[b])}var y=MM(function(x,_,S){var T=u&&x.as||s,D="",j=[],A=x;if(x.theme==null){A={};for(var O in x)A[O]=x[O];A.theme=w.useContext(vT)}typeof x.className=="string"?D=DM(_.registered,j,x.className):x.className!=null&&(D=x.className+" ");var L=xT(f.concat(j),_.registered,A);D+=_.key+"-"+L.name,a!==void 0&&(D+=" "+a);var P=u&&l===void 0?jD(T):c,N={};for(var U in x)u&&U==="as"||P(U)&&(N[U]=x[U]);return N.className=D,S&&(N.ref=S),w.createElement(w.Fragment,null,w.createElement(TZ,{cache:_,serialized:L,isStringTag:typeof T=="string"}),w.createElement(T,N))});return y.displayName=i!==void 0?i:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",y.defaultProps=e.defaultProps,y.__emotion_real=y,y.__emotion_base=s,y.__emotion_styles=f,y.__emotion_forwardProp=l,Object.defineProperty(y,"toString",{value:function(){return"."+a}}),y.withComponent=function(x,_){var S=t(x,Ge({},n,_,{shouldForwardProp:ND(y,_,!0)}));return S.apply(void 0,f)},y}},EZ=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],nS=kZ.bind(null);EZ.forEach(function(t){nS[t]=nS(t)});function RM(t,e){return nS(t,e)}const jZ=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},NZ=["values","unit","step"],DZ=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>Ge({},n,{[r.key]:r.val}),{})};function AZ(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,s=Pn(t,NZ),i=DZ(e),a=Object.keys(i);function l(m){return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${n})`}function c(m){return`@media (max-width:${(typeof e[m]=="number"?e[m]:m)-r/100}${n})`}function u(m,g){const b=a.indexOf(g);return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${n}) and (max-width:${(b!==-1&&typeof e[a[b]]=="number"?e[a[b]]:g)-r/100}${n})`}function h(m){return a.indexOf(m)+1<a.length?u(m,a[a.indexOf(m)+1]):l(m)}function f(m){const g=a.indexOf(m);return g===0?l(a[1]):g===a.length-1?c(a[g]):u(m,a[a.indexOf(m)+1]).replace("@media","@media not all and")}return Ge({keys:a,values:i,up:l,down:c,between:u,only:h,not:f,unit:n},s)}const PZ={borderRadius:4};function Xm(t,e){return e?dc(t,e,{clone:!1}):t}const ST={xs:0,sm:600,md:900,lg:1200,xl:1536},DD={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${ST[t]}px)`};function Xa(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const i=r.breakpoints||DD;return e.reduce((a,l,c)=>(a[i.up(i.keys[c])]=n(e[c]),a),{})}if(typeof e=="object"){const i=r.breakpoints||DD;return Object.keys(e).reduce((a,l)=>{if(Object.keys(i.values||ST).indexOf(l)!==-1){const c=i.up(l);a[c]=n(e[l],l)}else{const c=l;a[c]=e[c]}return a},{})}return n(e)}function IZ(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,s)=>{const i=t.up(s);return r[i]={},r},{}))||{}}function OZ(t,e){return t.reduce((n,r)=>{const s=n[r];return(!s||Object.keys(s).length===0)&&delete n[r],n},e)}function MZ(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((s,i)=>{i<t.length&&(n[s]=!0)}):r.forEach(s=>{t[s]!=null&&(n[s]=!0)}),n}function hv({values:t,breakpoints:e,base:n}){const r=n||MZ(t,e),s=Object.keys(r);if(s.length===0)return t;let i;return s.reduce((a,l,c)=>(Array.isArray(t)?(a[l]=t[c]!=null?t[c]:t[i],i=c):typeof t=="object"?(a[l]=t[l]!=null?t[l]:t[i],i=l):a[l]=t,a),{})}function fv(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((s,i)=>s&&s[i]?s[i]:null,t);if(r!=null)return r}return e.split(".").reduce((r,s)=>r&&r[s]!=null?r[s]:null,t)}function Vb(t,e,n,r=n){let s;return typeof t=="function"?s=t(n):Array.isArray(t)?s=t[n]||r:s=fv(t,n)||r,e&&(s=e(s,r,t)),s}function es(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:s}=t,i=a=>{if(a[e]==null)return null;const l=a[e],c=a.theme,u=fv(c,r)||{};return Xa(a,l,f=>{let m=Vb(u,s,f);return f===m&&typeof f=="string"&&(m=Vb(u,s,`${e}${f==="default"?"":fr(f)}`,f)),n===!1?m:{[n]:m}})};return i.propTypes={},i.filterProps=[e],i}function RZ(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const LZ={m:"margin",p:"padding"},FZ={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},AD={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},BZ=RZ(t=>{if(t.length>2)if(AD[t])t=AD[t];else return[t];const[e,n]=t.split(""),r=LZ[e],s=FZ[n]||"";return Array.isArray(s)?s.map(i=>r+i):[r+s]}),CT=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],TT=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...CT,...TT];function i0(t,e,n,r){var s;const i=(s=fv(t,e,!1))!=null?s:n;return typeof i=="number"?a=>typeof a=="string"?a:i*a:Array.isArray(i)?a=>typeof a=="string"?a:i[a]:typeof i=="function"?i:()=>{}}function LM(t){return i0(t,"spacing",8)}function a0(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function $Z(t,e){return n=>t.reduce((r,s)=>(r[s]=a0(e,n),r),{})}function zZ(t,e,n,r){if(e.indexOf(n)===-1)return null;const s=BZ(n),i=$Z(s,r),a=t[n];return Xa(t,a,i)}function FM(t,e){const n=LM(t.theme);return Object.keys(t).map(r=>zZ(t,e,r,n)).reduce(Xm,{})}function Wr(t){return FM(t,CT)}Wr.propTypes={};Wr.filterProps=CT;function Vr(t){return FM(t,TT)}Vr.propTypes={};Vr.filterProps=TT;function UZ(t=8){if(t.mui)return t;const e=LM({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(i=>{const a=e(i);return typeof a=="number"?`${a}px`:a}).join(" ");return n.mui=!0,n}function pv(...t){const e=t.reduce((r,s)=>(s.filterProps.forEach(i=>{r[i]=s}),r),{}),n=r=>Object.keys(r).reduce((s,i)=>e[i]?Xm(s,e[i](r)):s,{});return n.propTypes={},n.filterProps=t.reduce((r,s)=>r.concat(s.filterProps),[]),n}function za(t){return typeof t!="number"?t:`${t}px solid`}function no(t,e){return es({prop:t,themeKey:"borders",transform:e})}const HZ=no("border",za),WZ=no("borderTop",za),VZ=no("borderRight",za),qZ=no("borderBottom",za),YZ=no("borderLeft",za),GZ=no("borderColor"),KZ=no("borderTopColor"),XZ=no("borderRightColor"),QZ=no("borderBottomColor"),ZZ=no("borderLeftColor"),JZ=no("outline",za),eJ=no("outlineColor"),mv=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=i0(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:a0(e,r)});return Xa(t,t.borderRadius,n)}return null};mv.propTypes={};mv.filterProps=["borderRadius"];pv(HZ,WZ,VZ,qZ,YZ,GZ,KZ,XZ,QZ,ZZ,mv,JZ,eJ);const gv=t=>{if(t.gap!==void 0&&t.gap!==null){const e=i0(t.theme,"spacing",8),n=r=>({gap:a0(e,r)});return Xa(t,t.gap,n)}return null};gv.propTypes={};gv.filterProps=["gap"];const yv=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=i0(t.theme,"spacing",8),n=r=>({columnGap:a0(e,r)});return Xa(t,t.columnGap,n)}return null};yv.propTypes={};yv.filterProps=["columnGap"];const bv=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=i0(t.theme,"spacing",8),n=r=>({rowGap:a0(e,r)});return Xa(t,t.rowGap,n)}return null};bv.propTypes={};bv.filterProps=["rowGap"];const tJ=es({prop:"gridColumn"}),nJ=es({prop:"gridRow"}),rJ=es({prop:"gridAutoFlow"}),sJ=es({prop:"gridAutoColumns"}),iJ=es({prop:"gridAutoRows"}),aJ=es({prop:"gridTemplateColumns"}),oJ=es({prop:"gridTemplateRows"}),lJ=es({prop:"gridTemplateAreas"}),cJ=es({prop:"gridArea"});pv(gv,yv,bv,tJ,nJ,rJ,sJ,iJ,aJ,oJ,lJ,cJ);function Tf(t,e){return e==="grey"?e:t}const uJ=es({prop:"color",themeKey:"palette",transform:Tf}),dJ=es({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Tf}),hJ=es({prop:"backgroundColor",themeKey:"palette",transform:Tf});pv(uJ,dJ,hJ);function la(t){return t<=1&&t!==0?`${t*100}%`:t}const fJ=es({prop:"width",transform:la}),kT=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,s;const i=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||ST[n];return i?((s=t.theme)==null||(s=s.breakpoints)==null?void 0:s.unit)!=="px"?{maxWidth:`${i}${t.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:la(n)}};return Xa(t,t.maxWidth,e)}return null};kT.filterProps=["maxWidth"];const pJ=es({prop:"minWidth",transform:la}),mJ=es({prop:"height",transform:la}),gJ=es({prop:"maxHeight",transform:la}),yJ=es({prop:"minHeight",transform:la});es({prop:"size",cssProperty:"width",transform:la});es({prop:"size",cssProperty:"height",transform:la});const bJ=es({prop:"boxSizing"});pv(fJ,kT,pJ,mJ,gJ,yJ,bJ);const xv={border:{themeKey:"borders",transform:za},borderTop:{themeKey:"borders",transform:za},borderRight:{themeKey:"borders",transform:za},borderBottom:{themeKey:"borders",transform:za},borderLeft:{themeKey:"borders",transform:za},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:za},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:mv},color:{themeKey:"palette",transform:Tf},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Tf},backgroundColor:{themeKey:"palette",transform:Tf},p:{style:Vr},pt:{style:Vr},pr:{style:Vr},pb:{style:Vr},pl:{style:Vr},px:{style:Vr},py:{style:Vr},padding:{style:Vr},paddingTop:{style:Vr},paddingRight:{style:Vr},paddingBottom:{style:Vr},paddingLeft:{style:Vr},paddingX:{style:Vr},paddingY:{style:Vr},paddingInline:{style:Vr},paddingInlineStart:{style:Vr},paddingInlineEnd:{style:Vr},paddingBlock:{style:Vr},paddingBlockStart:{style:Vr},paddingBlockEnd:{style:Vr},m:{style:Wr},mt:{style:Wr},mr:{style:Wr},mb:{style:Wr},ml:{style:Wr},mx:{style:Wr},my:{style:Wr},margin:{style:Wr},marginTop:{style:Wr},marginRight:{style:Wr},marginBottom:{style:Wr},marginLeft:{style:Wr},marginX:{style:Wr},marginY:{style:Wr},marginInline:{style:Wr},marginInlineStart:{style:Wr},marginInlineEnd:{style:Wr},marginBlock:{style:Wr},marginBlockStart:{style:Wr},marginBlockEnd:{style:Wr},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:gv},rowGap:{style:bv},columnGap:{style:yv},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:la},maxWidth:{style:kT},minWidth:{transform:la},height:{transform:la},maxHeight:{transform:la},minHeight:{transform:la},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function xJ(...t){const e=t.reduce((r,s)=>r.concat(Object.keys(s)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function vJ(t,e){return typeof t=="function"?t(e):t}function _J(){function t(n,r,s,i){const a={[n]:r,theme:s},l=i[n];if(!l)return{[n]:r};const{cssProperty:c=n,themeKey:u,transform:h,style:f}=l;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const m=fv(s,u)||{};return f?f(a):Xa(a,r,b=>{let y=Vb(m,h,b);return b===y&&typeof b=="string"&&(y=Vb(m,h,`${n}${b==="default"?"":fr(b)}`,b)),c===!1?y:{[c]:y}})}function e(n){var r;const{sx:s,theme:i={}}=n||{};if(!s)return null;const a=(r=i.unstable_sxConfig)!=null?r:xv;function l(c){let u=c;if(typeof c=="function")u=c(i);else if(typeof c!="object")return c;if(!u)return null;const h=IZ(i.breakpoints),f=Object.keys(h);let m=h;return Object.keys(u).forEach(g=>{const b=vJ(u[g],i);if(b!=null)if(typeof b=="object")if(a[g])m=Xm(m,t(g,b,i,a));else{const y=Xa({theme:i},b,x=>({[g]:x}));xJ(y,b)?m[g]=e({sx:b,theme:i}):m=Xm(m,y)}else m=Xm(m,t(g,b,i,a))}),OZ(f,m)}return Array.isArray(s)?s.map(l):l(s)}return e}const o0=_J();o0.filterProps=["sx"];function wJ(t,e){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:n.palette.mode===t?e:{}}const SJ=["breakpoints","palette","spacing","shape"];function ET(t={},...e){const{breakpoints:n={},palette:r={},spacing:s,shape:i={}}=t,a=Pn(t,SJ),l=AZ(n),c=UZ(s);let u=dc({breakpoints:l,direction:"ltr",components:{},palette:Ge({mode:"light"},r),spacing:c,shape:Ge({},PZ,i)},a);return u.applyStyles=wJ,u=e.reduce((h,f)=>dc(h,f),u),u.unstable_sxConfig=Ge({},xv,a==null?void 0:a.unstable_sxConfig),u.unstable_sx=function(f){return o0({sx:f,theme:this})},u}function CJ(t){return Object.keys(t).length===0}function TJ(t=null){const e=w.useContext(vT);return!e||CJ(e)?t:e}const kJ=ET();function jT(t=kJ){return TJ(t)}const EJ=["sx"],jJ=t=>{var e,n;const r={systemProps:{},otherProps:{}},s=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:xv;return Object.keys(t).forEach(i=>{s[i]?r.systemProps[i]=t[i]:r.otherProps[i]=t[i]}),r};function NT(t){const{sx:e}=t,n=Pn(t,EJ),{systemProps:r,otherProps:s}=jJ(n);let i;return Array.isArray(e)?i=[r,...e]:typeof e=="function"?i=(...a)=>{const l=e(...a);return fu(l)?Ge({},r,l):r}:i=Ge({},r,e),Ge({},s,{sx:i})}const NJ=["className","component"];function DJ(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:s}=t,i=RM("div",{shouldForwardProp:l=>l!=="theme"&&l!=="sx"&&l!=="as"})(o0);return w.forwardRef(function(c,u){const h=jT(n),f=NT(c),{className:m,component:g="div"}=f,b=Pn(f,NJ);return o.jsx(i,Ge({as:g,ref:u,className:NQ(m,s?s(r):r),theme:e&&h[e]||h},b))})}const AJ=["ownerState"],PJ=["variants"],IJ=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function OJ(t){return Object.keys(t).length===0}function MJ(t){return typeof t=="string"&&t.charCodeAt(0)>96}function mb(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const RJ=ET(),LJ=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function Dy({defaultTheme:t,theme:e,themeId:n}){return OJ(e)?t:e[n]||e}function FJ(t){return t?(e,n)=>n[t]:null}function gb(t,e){let{ownerState:n}=e,r=Pn(e,AJ);const s=typeof t=="function"?t(Ge({ownerState:n},r)):t;if(Array.isArray(s))return s.flatMap(i=>gb(i,Ge({ownerState:n},r)));if(s&&typeof s=="object"&&Array.isArray(s.variants)){const{variants:i=[]}=s;let l=Pn(s,PJ);return i.forEach(c=>{let u=!0;typeof c.props=="function"?u=c.props(Ge({ownerState:n},r,n)):Object.keys(c.props).forEach(h=>{(n==null?void 0:n[h])!==c.props[h]&&r[h]!==c.props[h]&&(u=!1)}),u&&(Array.isArray(l)||(l=[l]),l.push(typeof c.style=="function"?c.style(Ge({ownerState:n},r,n)):c.style))}),l}return s}function BJ(t={}){const{themeId:e,defaultTheme:n=RJ,rootShouldForwardProp:r=mb,slotShouldForwardProp:s=mb}=t,i=a=>o0(Ge({},a,{theme:Dy(Ge({},a,{defaultTheme:n,themeId:e}))}));return i.__mui_systemSx=!0,(a,l={})=>{jZ(a,j=>j.filter(A=>!(A!=null&&A.__mui_systemSx)));const{name:c,slot:u,skipVariantsResolver:h,skipSx:f,overridesResolver:m=FJ(LJ(u))}=l,g=Pn(l,IJ),b=h!==void 0?h:u&&u!=="Root"&&u!=="root"||!1,y=f||!1;let x,_=mb;u==="Root"||u==="root"?_=r:u?_=s:MJ(a)&&(_=void 0);const S=RM(a,Ge({shouldForwardProp:_,label:x},g)),T=j=>typeof j=="function"&&j.__emotion_real!==j||fu(j)?A=>gb(j,Ge({},A,{theme:Dy({theme:A.theme,defaultTheme:n,themeId:e})})):j,D=(j,...A)=>{let O=T(j);const L=A?A.map(T):[];c&&m&&L.push(U=>{const M=Dy(Ge({},U,{defaultTheme:n,themeId:e}));if(!M.components||!M.components[c]||!M.components[c].styleOverrides)return null;const q=M.components[c].styleOverrides,E={};return Object.entries(q).forEach(([G,Q])=>{E[G]=gb(Q,Ge({},U,{theme:M}))}),m(U,E)}),c&&!b&&L.push(U=>{var M;const q=Dy(Ge({},U,{defaultTheme:n,themeId:e})),E=q==null||(M=q.components)==null||(M=M[c])==null?void 0:M.variants;return gb({variants:E},Ge({},U,{theme:q}))}),y||L.push(i);const P=L.length-A.length;if(Array.isArray(j)&&P>0){const U=new Array(P).fill("");O=[...j,...U],O.raw=[...j.raw,...U]}const N=S(O,...L);return a.muiName&&(N.muiName=a.muiName),N};return S.withConfig&&(D.withConfig=S.withConfig),D}}function $J(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:pT(e.components[n].defaultProps,r)}function zJ({props:t,name:e,defaultTheme:n,themeId:r}){let s=jT(n);return r&&(s=s[r]||s),$J({theme:s,name:e,props:t})}function DT(t,e=0,n=1){return jQ(t,e,n)}function UJ(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,s)=>s<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Gd(t){if(t.type)return t;if(t.charAt(0)==="#")return Gd(UJ(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error($f(9,t));let r=t.substring(e+1,t.length-1),s;if(n==="color"){if(r=r.split(" "),s=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(s)===-1)throw new Error($f(10,s))}else r=r.split(",");return r=r.map(i=>parseFloat(i)),{type:n,values:r,colorSpace:s}}function vv(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((s,i)=>i<3?parseInt(s,10):s):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function HJ(t){t=Gd(t);const{values:e}=t,n=e[0],r=e[1]/100,s=e[2]/100,i=r*Math.min(s,1-s),a=(u,h=(u+n/30)%12)=>s-i*Math.max(Math.min(h-3,9-h,1),-1);let l="rgb";const c=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return t.type==="hsla"&&(l+="a",c.push(e[3])),vv({type:l,values:c})}function PD(t){t=Gd(t);let e=t.type==="hsl"||t.type==="hsla"?Gd(HJ(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function WJ(t,e){const n=PD(t),r=PD(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function pl(t,e){return t=Gd(t),e=DT(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,vv(t)}function VJ(t,e){if(t=Gd(t),e=DT(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return vv(t)}function qJ(t,e){if(t=Gd(t),e=DT(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return vv(t)}function qb(t){"@babel/helpers - typeof";return qb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qb(t)}function YJ(t,e){return Ge({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const kg={black:"#000",white:"#fff"},GJ={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Xh={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Qh={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},xm={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Zh={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Jh={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},ef={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},KJ=["mode","contrastThreshold","tonalOffset"],ID={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:kg.white,default:kg.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Q_={text:{primary:kg.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:kg.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function OD(t,e,n,r){const s=r.light||r,i=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=qJ(t.main,s):e==="dark"&&(t.dark=VJ(t.main,i)))}function XJ(t="light"){return t==="dark"?{main:Zh[200],light:Zh[50],dark:Zh[400]}:{main:Zh[700],light:Zh[400],dark:Zh[800]}}function QJ(t="light"){return t==="dark"?{main:Xh[200],light:Xh[50],dark:Xh[400]}:{main:Xh[500],light:Xh[300],dark:Xh[700]}}function ZJ(t="light"){return t==="dark"?{main:Qh[500],light:Qh[300],dark:Qh[700]}:{main:Qh[700],light:Qh[400],dark:Qh[800]}}function JJ(t="light"){return t==="dark"?{main:Jh[400],light:Jh[300],dark:Jh[700]}:{main:Jh[700],light:Jh[500],dark:Jh[900]}}function eee(t="light"){return t==="dark"?{main:ef[400],light:ef[300],dark:ef[700]}:{main:ef[800],light:ef[500],dark:ef[900]}}function tee(t="light"){return t==="dark"?{main:xm[400],light:xm[300],dark:xm[700]}:{main:"#ed6c02",light:xm[500],dark:xm[900]}}function nee(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,s=Pn(t,KJ),i=t.primary||XJ(e),a=t.secondary||QJ(e),l=t.error||ZJ(e),c=t.info||JJ(e),u=t.success||eee(e),h=t.warning||tee(e);function f(y){return WJ(y,Q_.text.primary)>=n?Q_.text.primary:ID.text.primary}const m=({color:y,name:x,mainShade:_=500,lightShade:S=300,darkShade:T=700})=>{if(y=Ge({},y),!y.main&&y[_]&&(y.main=y[_]),!y.hasOwnProperty("main"))throw new Error($f(11,x?` (${x})`:"",_));if(typeof y.main!="string")throw new Error($f(12,x?` (${x})`:"",JSON.stringify(y.main)));return OD(y,"light",S,r),OD(y,"dark",T,r),y.contrastText||(y.contrastText=f(y.main)),y},g={dark:Q_,light:ID};return dc(Ge({common:Ge({},kg),mode:e,primary:m({color:i,name:"primary"}),secondary:m({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:l,name:"error"}),warning:m({color:h,name:"warning"}),info:m({color:c,name:"info"}),success:m({color:u,name:"success"}),grey:GJ,contrastThreshold:n,getContrastText:f,augmentColor:m,tonalOffset:r},g[e]),s)}const ree=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function see(t){return Math.round(t*1e5)/1e5}const MD={textTransform:"uppercase"},RD='"Roboto", "Helvetica", "Arial", sans-serif';function iee(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=RD,fontSize:s=14,fontWeightLight:i=300,fontWeightRegular:a=400,fontWeightMedium:l=500,fontWeightBold:c=700,htmlFontSize:u=16,allVariants:h,pxToRem:f}=n,m=Pn(n,ree),g=s/14,b=f||(_=>`${_/u*g}rem`),y=(_,S,T,D,j)=>Ge({fontFamily:r,fontWeight:_,fontSize:b(S),lineHeight:T},r===RD?{letterSpacing:`${see(D/S)}em`}:{},j,h),x={h1:y(i,96,1.167,-1.5),h2:y(i,60,1.2,-.5),h3:y(a,48,1.167,0),h4:y(a,34,1.235,.25),h5:y(a,24,1.334,0),h6:y(l,20,1.6,.15),subtitle1:y(a,16,1.75,.15),subtitle2:y(l,14,1.57,.1),body1:y(a,16,1.5,.15),body2:y(a,14,1.43,.15),button:y(l,14,1.75,.4,MD),caption:y(a,12,1.66,.4),overline:y(a,12,2.66,1,MD),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return dc(Ge({htmlFontSize:u,pxToRem:b,fontFamily:r,fontSize:s,fontWeightLight:i,fontWeightRegular:a,fontWeightMedium:l,fontWeightBold:c},x),m,{clone:!1})}const aee=.2,oee=.14,lee=.12;function Nr(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${aee})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${oee})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${lee})`].join(",")}const cee=["none",Nr(0,2,1,-1,0,1,1,0,0,1,3,0),Nr(0,3,1,-2,0,2,2,0,0,1,5,0),Nr(0,3,3,-2,0,3,4,0,0,1,8,0),Nr(0,2,4,-1,0,4,5,0,0,1,10,0),Nr(0,3,5,-1,0,5,8,0,0,1,14,0),Nr(0,3,5,-1,0,6,10,0,0,1,18,0),Nr(0,4,5,-2,0,7,10,1,0,2,16,1),Nr(0,5,5,-3,0,8,10,1,0,3,14,2),Nr(0,5,6,-3,0,9,12,1,0,3,16,2),Nr(0,6,6,-3,0,10,14,1,0,4,18,3),Nr(0,6,7,-4,0,11,15,1,0,4,20,3),Nr(0,7,8,-4,0,12,17,2,0,5,22,4),Nr(0,7,8,-4,0,13,19,2,0,5,24,4),Nr(0,7,9,-4,0,14,21,2,0,5,26,4),Nr(0,8,9,-5,0,15,22,2,0,6,28,5),Nr(0,8,10,-5,0,16,24,2,0,6,30,5),Nr(0,8,11,-5,0,17,26,2,0,6,32,5),Nr(0,9,11,-5,0,18,28,2,0,7,34,6),Nr(0,9,12,-6,0,19,29,2,0,7,36,6),Nr(0,10,13,-6,0,20,31,3,0,8,38,7),Nr(0,10,13,-6,0,21,33,3,0,8,40,7),Nr(0,10,14,-6,0,22,35,3,0,8,42,7),Nr(0,11,14,-7,0,23,36,3,0,9,44,8),Nr(0,11,15,-7,0,24,38,3,0,9,46,8)],uee=["duration","easing","delay"],dee={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},hee={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function LD(t){return`${Math.round(t)}ms`}function fee(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function pee(t){const e=Ge({},dee,t.easing),n=Ge({},hee,t.duration);return Ge({getAutoHeightDuration:fee,create:(s=["all"],i={})=>{const{duration:a=n.standard,easing:l=e.easeInOut,delay:c=0}=i;return Pn(i,uee),(Array.isArray(s)?s:[s]).map(u=>`${u} ${typeof a=="string"?a:LD(a)} ${l} ${typeof c=="string"?c:LD(c)}`).join(",")}},t,{easing:e,duration:n})}const mee={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},gee=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function BM(t={},...e){const{mixins:n={},palette:r={},transitions:s={},typography:i={}}=t,a=Pn(t,gee);if(t.vars)throw new Error($f(18));const l=nee(r),c=ET(t);let u=dc(c,{mixins:YJ(c.breakpoints,n),palette:l,shadows:cee.slice(),typography:iee(l,i),transitions:pee(s),zIndex:Ge({},mee)});return u=dc(u,a),u=e.reduce((h,f)=>dc(h,f),u),u.unstable_sxConfig=Ge({},xv,a==null?void 0:a.unstable_sxConfig),u.unstable_sx=function(f){return o0({sx:f,theme:this})},u}const AT=BM();function l0(){return jT(AT)}function Bs({props:t,name:e}){return zJ({props:t,name:e,defaultTheme:AT})}const $M=t=>mb(t)&&t!=="classes",on=BJ({defaultTheme:AT,rootShouldForwardProp:$M}),zM=()=>{const t=w.useContext(yM);if(t===null)throw new Error("MUI: Can not find utils in context. It looks like you forgot to wrap your component in LocalizationProvider, or pass dateAdapter prop directly.");return t},ms=()=>zM().utils,UM=()=>zM().defaultDates,c0=()=>{const t=ms();return w.useRef(t.date()).current},HM=t=>t.length===1&&t[0]==="year",WM=t=>t.length===2&&t.indexOf("month")!==-1&&t.indexOf("year")!==-1,yee=(t,e)=>HM(t)?{mask:"____",inputFormat:e.formats.year}:WM(t)?{disableMaskedInput:!0,inputFormat:e.formats.monthAndYear}:{mask:"__/__/____",inputFormat:e.formats.keyboardDate};function bee(t,e){var n;const r=ms(),s=UM(),i=Bs({props:t,name:e}),a=(n=i.views)!=null?n:["year","day"];return Ge({openTo:"day",minDate:s.minDate,maxDate:s.maxDate},yee(a,r),i,{views:a})}function VM(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=VM(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Bn(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=VM(t))&&(r&&(r+=" "),r+=e);return r}function qM(t){return typeof t=="string"}function xee(t,e,n){return t===void 0||qM(t)?e:Ge({},e,{ownerState:Ge({},e.ownerState,n)})}const vee={disableDefaultClasses:!1},_ee=w.createContext(vee);function wee(t){const{disableDefaultClasses:e}=w.useContext(_ee);return n=>e?"":t(n)}function See(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function rS(t,e){return typeof t=="function"?t(e):t}function FD(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function Cee(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:s,className:i}=t;if(!e){const g=Bn(s==null?void 0:s.className,r==null?void 0:r.className,i,n==null?void 0:n.className),b=Ge({},n==null?void 0:n.style,s==null?void 0:s.style,r==null?void 0:r.style),y=Ge({},n,s,r);return g.length>0&&(y.className=g),Object.keys(b).length>0&&(y.style=b),{props:y,internalRef:void 0}}const a=See(Ge({},s,r)),l=FD(r),c=FD(s),u=e(a),h=Bn(u==null?void 0:u.className,n==null?void 0:n.className,i,s==null?void 0:s.className,r==null?void 0:r.className),f=Ge({},u==null?void 0:u.style,n==null?void 0:n.style,s==null?void 0:s.style,r==null?void 0:r.style),m=Ge({},u,n,c,l);return h.length>0&&(m.className=h),Object.keys(f).length>0&&(m.style=f),{props:m,internalRef:u.ref}}const Tee=["elementType","externalSlotProps","ownerState"];function BD(t){var e;const{elementType:n,externalSlotProps:r,ownerState:s}=t,i=Pn(t,Tee),a=rS(r,s),{props:l,internalRef:c}=Cee(Ge({},i,{externalSlotProps:a})),u=gc(c,a==null?void 0:a.ref,(e=t.additionalProps)==null?void 0:e.ref);return xee(n,Ge({},l,{ref:u}),s)}const kee=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Eee(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function jee(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function Nee(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||jee(t))}function Dee(t){const e=[],n=[];return Array.from(t.querySelectorAll(kee)).forEach((r,s)=>{const i=Eee(r);i===-1||!Nee(r)||(i===0?e.push(r):n.push({documentOrder:s,tabIndex:i,node:r}))}),n.sort((r,s)=>r.tabIndex===s.tabIndex?r.documentOrder-s.documentOrder:r.tabIndex-s.tabIndex).map(r=>r.node).concat(e)}function Aee(){return!0}function Pee(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:s=!1,getTabbable:i=Dee,isEnabled:a=Aee,open:l}=t,c=w.useRef(!1),u=w.useRef(null),h=w.useRef(null),f=w.useRef(null),m=w.useRef(null),g=w.useRef(!1),b=w.useRef(null),y=gc(e.ref,b),x=w.useRef(null);w.useEffect(()=>{!l||!b.current||(g.current=!n)},[n,l]),w.useEffect(()=>{if(!l||!b.current)return;const T=_u(b.current);return b.current.contains(T.activeElement)||(b.current.hasAttribute("tabIndex")||b.current.setAttribute("tabIndex","-1"),g.current&&b.current.focus()),()=>{s||(f.current&&f.current.focus&&(c.current=!0,f.current.focus()),f.current=null)}},[l]),w.useEffect(()=>{if(!l||!b.current)return;const T=_u(b.current),D=O=>{const{current:L}=b;if(L!==null){if(!T.hasFocus()||r||!a()||c.current){c.current=!1;return}if(!L.contains(T.activeElement)){if(O&&m.current!==O.target||T.activeElement!==m.current)m.current=null;else if(m.current!==null)return;if(!g.current)return;let U=[];if((T.activeElement===u.current||T.activeElement===h.current)&&(U=i(b.current)),U.length>0){var P,N;const M=!!((P=x.current)!=null&&P.shiftKey&&((N=x.current)==null?void 0:N.key)==="Tab"),q=U[0],E=U[U.length-1];typeof q!="string"&&typeof E!="string"&&(M?E.focus():q.focus())}else L.focus()}}},j=O=>{x.current=O,!(r||!a()||O.key!=="Tab")&&T.activeElement===b.current&&O.shiftKey&&(c.current=!0,h.current&&h.current.focus())};T.addEventListener("focusin",D),T.addEventListener("keydown",j,!0);const A=setInterval(()=>{T.activeElement&&T.activeElement.tagName==="BODY"&&D(null)},50);return()=>{clearInterval(A),T.removeEventListener("focusin",D),T.removeEventListener("keydown",j,!0)}},[n,r,s,a,l,i]);const _=T=>{f.current===null&&(f.current=T.relatedTarget),g.current=!0,m.current=T.target;const D=e.props.onFocus;D&&D(T)},S=T=>{f.current===null&&(f.current=T.relatedTarget),g.current=!0};return o.jsxs(w.Fragment,{children:[o.jsx("div",{tabIndex:l?0:-1,onFocus:S,ref:u,"data-testid":"sentinelStart"}),w.cloneElement(e,{ref:y,onFocus:_}),o.jsx("div",{tabIndex:l?0:-1,onFocus:S,ref:h,"data-testid":"sentinelEnd"})]})}function Iee(t){return typeof t=="function"?t():t}const Oee=w.forwardRef(function(e,n){const{children:r,container:s,disablePortal:i=!1}=e,[a,l]=w.useState(null),c=gc(w.isValidElement(r)?r.ref:null,n);if(zf(()=>{i||l(Iee(s)||document.body)},[s,i]),zf(()=>{if(a&&!i)return Q2(n,a),()=>{Q2(n,null)}},[n,a,i]),i){if(w.isValidElement(r)){const u={ref:c};return w.cloneElement(r,u)}return o.jsx(w.Fragment,{children:r})}return o.jsx(w.Fragment,{children:a&&Qg.createPortal(r,a)})});function Mee(t){const e=_u(t);return e.body===t?hT(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function Qm(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function $D(t){return parseInt(hT(t).getComputedStyle(t).paddingRight,10)||0}function Ree(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function zD(t,e,n,r,s){const i=[e,n,...r];[].forEach.call(t.children,a=>{const l=i.indexOf(a)===-1,c=!Ree(a);l&&c&&Qm(a,s)})}function Z_(t,e){let n=-1;return t.some((r,s)=>e(r)?(n=s,!0):!1),n}function Lee(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(Mee(r)){const a=TQ(_u(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${$D(r)+a}px`;const l=_u(r).querySelectorAll(".mui-fixed");[].forEach.call(l,c=>{n.push({value:c.style.paddingRight,property:"padding-right",el:c}),c.style.paddingRight=`${$D(c)+a}px`})}let i;if(r.parentNode instanceof DocumentFragment)i=_u(r).body;else{const a=r.parentElement,l=hT(r);i=(a==null?void 0:a.nodeName)==="HTML"&&l.getComputedStyle(a).overflowY==="scroll"?a:r}n.push({value:i.style.overflow,property:"overflow",el:i},{value:i.style.overflowX,property:"overflow-x",el:i},{value:i.style.overflowY,property:"overflow-y",el:i}),i.style.overflow="hidden"}return()=>{n.forEach(({value:i,el:a,property:l})=>{i?a.style.setProperty(l,i):a.style.removeProperty(l)})}}function Fee(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}let Bee=class{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&Qm(e.modalRef,!1);const s=Fee(n);zD(n,e.mount,e.modalRef,s,!0);const i=Z_(this.containers,a=>a.container===n);return i!==-1?(this.containers[i].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:s}),r)}mount(e,n){const r=Z_(this.containers,i=>i.modals.indexOf(e)!==-1),s=this.containers[r];s.restore||(s.restore=Lee(s,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const s=Z_(this.containers,a=>a.modals.indexOf(e)!==-1),i=this.containers[s];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(r,1),i.modals.length===0)i.restore&&i.restore(),e.modalRef&&Qm(e.modalRef,n),zD(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(s,1);else{const a=i.modals[i.modals.length-1];a.modalRef&&Qm(a.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};function $ee(t){return Fs("MuiModal",t)}$r("MuiModal",["root","hidden","backdrop"]);const zee=["children","closeAfterTransition","component","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited","slotProps","slots"],Uee=t=>{const{open:e,exited:n}=t;return ni({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},wee($ee))};function Hee(t){return typeof t=="function"?t():t}function Wee(t){return t?t.props.hasOwnProperty("in"):!1}const Vee=new Bee,qee=w.forwardRef(function(e,n){var r,s;const{children:i,closeAfterTransition:a=!1,component:l,container:c,disableAutoFocus:u=!1,disableEnforceFocus:h=!1,disableEscapeKeyDown:f=!1,disablePortal:m=!1,disableRestoreFocus:g=!1,disableScrollLock:b=!1,hideBackdrop:y=!1,keepMounted:x=!1,manager:_=Vee,onBackdropClick:S,onClose:T,onKeyDown:D,open:j,onTransitionEnter:A,onTransitionExited:O,slotProps:L={},slots:P={}}=e,N=Pn(e,zee),[U,M]=w.useState(!j),q=w.useRef({}),E=w.useRef(null),G=w.useRef(null),Q=gc(G,n),re=Wee(i),ee=(r=e["aria-hidden"])!=null?r:!0,Z=()=>_u(E.current),K=()=>(q.current.modalRef=G.current,q.current.mountNode=E.current,q.current),F=()=>{_.mount(K(),{disableScrollLock:b}),G.current&&(G.current.scrollTop=0)},W=ff(()=>{const se=Hee(c)||Z().body;_.add(K(),se),G.current&&F()}),me=w.useCallback(()=>_.isTopModal(K()),[_]),ne=ff(se=>{E.current=se,!(!se||!G.current)&&(j&&me()?F():Qm(G.current,ee))}),ge=w.useCallback(()=>{_.remove(K(),ee)},[_,ee]);w.useEffect(()=>()=>{ge()},[ge]),w.useEffect(()=>{j?W():(!re||!a)&&ge()},[j,ge,re,a,W]);const we=Ge({},e,{closeAfterTransition:a,disableAutoFocus:u,disableEnforceFocus:h,disableEscapeKeyDown:f,disablePortal:m,disableRestoreFocus:g,disableScrollLock:b,exited:U,hideBackdrop:y,keepMounted:x}),je=Uee(we),Re=()=>{M(!1),A&&A()},ke=()=>{M(!0),O&&O(),a&&ge()},We=se=>{se.target===se.currentTarget&&(S&&S(se),T&&T(se,"backdropClick"))},Je=se=>{D&&D(se),!(se.key!=="Escape"||!me())&&(f||(se.stopPropagation(),T&&T(se,"escapeKeyDown")))},nt={};i.props.tabIndex===void 0&&(nt.tabIndex="-1"),re&&(nt.onEnter=pD(Re,i.props.onEnter),nt.onExited=pD(ke,i.props.onExited));const ct=(s=l??P.root)!=null?s:"div",X=BD({elementType:ct,externalSlotProps:L.root,externalForwardedProps:N,additionalProps:{ref:Q,role:"presentation",onKeyDown:Je},className:je.root,ownerState:we}),Me=P.backdrop,ye=BD({elementType:Me,externalSlotProps:L.backdrop,additionalProps:{"aria-hidden":!0,onClick:We,open:j},className:je.backdrop,ownerState:we});return!x&&!j&&(!re||U)?null:o.jsx(Oee,{ref:ne,container:c,disablePortal:m,children:o.jsxs(ct,Ge({},X,{children:[!y&&Me?o.jsx(Me,Ge({},ye)):null,o.jsx(Pee,{disableEnforceFocus:h,disableAutoFocus:u,disableRestoreFocus:g,isEnabled:me,open:j,children:w.cloneElement(i,nt)})]}))})});function Yee(t){return Fs("MuiTypography",t)}$r("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Gee=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],Kee=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:s,variant:i,classes:a}=t,l={root:["root",i,t.align!=="inherit"&&`align${fr(e)}`,n&&"gutterBottom",r&&"noWrap",s&&"paragraph"]};return ni(l,Yee,a)},Xee=on("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${fr(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>Ge({margin:0},e.variant&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),UD={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Qee={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Zee=t=>Qee[t]||t,Eu=w.forwardRef(function(e,n){const r=Bs({props:e,name:"MuiTypography"}),s=Zee(r.color),i=NT(Ge({},r,{color:s})),{align:a="inherit",className:l,component:c,gutterBottom:u=!1,noWrap:h=!1,paragraph:f=!1,variant:m="body1",variantMapping:g=UD}=i,b=Pn(i,Gee),y=Ge({},i,{align:a,color:s,className:l,component:c,gutterBottom:u,noWrap:h,paragraph:f,variant:m,variantMapping:g}),x=c||(f?"p":g[m]||UD[m])||"span",_=Kee(y);return o.jsx(Xee,Ge({as:x,ref:n,ownerState:y,className:Bn(_.root,l)},b))});function Jee(t){return Fs("MuiSvgIcon",t)}$r("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const ete=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],tte=t=>{const{color:e,fontSize:n,classes:r}=t,s={root:["root",e!=="inherit"&&`color${fr(e)}`,`fontSize${fr(n)}`]};return ni(s,Jee,r)},nte=on("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${fr(n.color)}`],e[`fontSize${fr(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,s,i,a,l,c,u,h,f,m,g,b,y,x,_,S;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(s=t.transitions)==null||(i=s.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((a=t.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,20))||"1.25rem",medium:((c=t.typography)==null||(u=c.pxToRem)==null?void 0:u.call(c,24))||"1.5rem",large:((h=t.typography)==null||(f=h.pxToRem)==null?void 0:f.call(h,35))||"2.1875rem"}[e.fontSize],color:(m=(g=(t.vars||t).palette)==null||(b=g[e.color])==null?void 0:b.main)!=null?m:{action:(y=(t.vars||t).palette)==null||(x=y.action)==null?void 0:x.active,disabled:(_=(t.vars||t).palette)==null||(S=_.action)==null?void 0:S.disabled,inherit:void 0}[e.color]}}),sS=w.forwardRef(function(e,n){const r=Bs({props:e,name:"MuiSvgIcon"}),{children:s,className:i,color:a="inherit",component:l="svg",fontSize:c="medium",htmlColor:u,inheritViewBox:h=!1,titleAccess:f,viewBox:m="0 0 24 24"}=r,g=Pn(r,ete),b=Ge({},r,{color:a,component:l,fontSize:c,instanceFontSize:e.fontSize,inheritViewBox:h,viewBox:m}),y={};h||(y.viewBox=m);const x=tte(b);return o.jsxs(nte,Ge({as:l,className:Bn(x.root,i),focusable:"false",color:u,"aria-hidden":f?void 0:!0,role:f?"img":void 0,ref:n},y,g,{ownerState:b,children:[s,f?o.jsx("title",{children:f}):null]}))});sS.muiName="SvgIcon";function Ru(t,e){function n(r,s){return o.jsx(sS,Ge({"data-testid":`${e}Icon`,ref:s},r,{children:t}))}return n.muiName=sS.muiName,w.memo(w.forwardRef(n))}function iS(t,e){return iS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},iS(t,e)}function PT(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,iS(t,e)}function rte(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function YM(t,e){t.classList?t.classList.add(e):rte(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function HD(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function GM(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=HD(t.className,e):t.setAttribute("class",HD(t.className&&t.className.baseVal||"",e))}const WD={disabled:!1},Yb=nn.createContext(null);var KM=function(e){return e.scrollTop},Fm="unmounted",_d="exited",uu="entering",kd="entered",aS="exiting",Mo=function(t){PT(e,t);function e(r,s){var i;i=t.call(this,r,s)||this;var a=s,l=a&&!a.isMounting?r.enter:r.appear,c;return i.appearStatus=null,r.in?l?(c=_d,i.appearStatus=uu):c=kd:r.unmountOnExit||r.mountOnEnter?c=Fm:c=_d,i.state={status:c},i.nextCallback=null,i}e.getDerivedStateFromProps=function(s,i){var a=s.in;return a&&i.status===Fm?{status:_d}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(s){var i=null;if(s!==this.props){var a=this.state.status;this.props.in?a!==uu&&a!==kd&&(i=uu):(a===uu||a===kd)&&(i=aS)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var s=this.props.timeout,i,a,l;return i=a=l=s,s!=null&&typeof s!="number"&&(i=s.exit,a=s.enter,l=s.appear!==void 0?s.appear:a),{exit:i,enter:a,appear:l}},n.updateStatus=function(s,i){if(s===void 0&&(s=!1),i!==null)if(this.cancelNextCallback(),i===uu){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:Nd.findDOMNode(this);a&&KM(a)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===_d&&this.setState({status:Fm})},n.performEnter=function(s){var i=this,a=this.props.enter,l=this.context?this.context.isMounting:s,c=this.props.nodeRef?[l]:[Nd.findDOMNode(this),l],u=c[0],h=c[1],f=this.getTimeouts(),m=l?f.appear:f.enter;if(!s&&!a||WD.disabled){this.safeSetState({status:kd},function(){i.props.onEntered(u)});return}this.props.onEnter(u,h),this.safeSetState({status:uu},function(){i.props.onEntering(u,h),i.onTransitionEnd(m,function(){i.safeSetState({status:kd},function(){i.props.onEntered(u,h)})})})},n.performExit=function(){var s=this,i=this.props.exit,a=this.getTimeouts(),l=this.props.nodeRef?void 0:Nd.findDOMNode(this);if(!i||WD.disabled){this.safeSetState({status:_d},function(){s.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:aS},function(){s.props.onExiting(l),s.onTransitionEnd(a.exit,function(){s.safeSetState({status:_d},function(){s.props.onExited(l)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(s,i){i=this.setNextCallback(i),this.setState(s,i)},n.setNextCallback=function(s){var i=this,a=!0;return this.nextCallback=function(l){a&&(a=!1,i.nextCallback=null,s(l))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},n.onTransitionEnd=function(s,i){this.setNextCallback(i);var a=this.props.nodeRef?this.props.nodeRef.current:Nd.findDOMNode(this),l=s==null&&!this.props.addEndListener;if(!a||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],u=c[0],h=c[1];this.props.addEndListener(u,h)}s!=null&&setTimeout(this.nextCallback,s)},n.render=function(){var s=this.state.status;if(s===Fm)return null;var i=this.props,a=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var l=Pn(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return nn.createElement(Yb.Provider,{value:null},typeof a=="function"?a(s,l):nn.cloneElement(nn.Children.only(a),l))},e}(nn.Component);Mo.contextType=Yb;Mo.propTypes={};function tf(){}Mo.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:tf,onEntering:tf,onEntered:tf,onExit:tf,onExiting:tf,onExited:tf};Mo.UNMOUNTED=Fm;Mo.EXITED=_d;Mo.ENTERING=uu;Mo.ENTERED=kd;Mo.EXITING=aS;var ste=function(e,n){return e&&n&&n.split(" ").forEach(function(r){return YM(e,r)})},J_=function(e,n){return e&&n&&n.split(" ").forEach(function(r){return GM(e,r)})},IT=function(t){PT(e,t);function e(){for(var r,s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(l,c){var u=r.resolveArguments(l,c),h=u[0],f=u[1];r.removeClasses(h,"exit"),r.addClass(h,f?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(l,c)},r.onEntering=function(l,c){var u=r.resolveArguments(l,c),h=u[0],f=u[1],m=f?"appear":"enter";r.addClass(h,m,"active"),r.props.onEntering&&r.props.onEntering(l,c)},r.onEntered=function(l,c){var u=r.resolveArguments(l,c),h=u[0],f=u[1],m=f?"appear":"enter";r.removeClasses(h,m),r.addClass(h,m,"done"),r.props.onEntered&&r.props.onEntered(l,c)},r.onExit=function(l){var c=r.resolveArguments(l),u=c[0];r.removeClasses(u,"appear"),r.removeClasses(u,"enter"),r.addClass(u,"exit","base"),r.props.onExit&&r.props.onExit(l)},r.onExiting=function(l){var c=r.resolveArguments(l),u=c[0];r.addClass(u,"exit","active"),r.props.onExiting&&r.props.onExiting(l)},r.onExited=function(l){var c=r.resolveArguments(l),u=c[0];r.removeClasses(u,"exit"),r.addClass(u,"exit","done"),r.props.onExited&&r.props.onExited(l)},r.resolveArguments=function(l,c){return r.props.nodeRef?[r.props.nodeRef.current,l]:[l,c]},r.getClassNames=function(l){var c=r.props.classNames,u=typeof c=="string",h=u&&c?c+"-":"",f=u?""+h+l:c[l],m=u?f+"-active":c[l+"Active"],g=u?f+"-done":c[l+"Done"];return{baseClassName:f,activeClassName:m,doneClassName:g}},r}var n=e.prototype;return n.addClass=function(s,i,a){var l=this.getClassNames(i)[a+"ClassName"],c=this.getClassNames("enter"),u=c.doneClassName;i==="appear"&&a==="done"&&u&&(l+=" "+u),a==="active"&&s&&KM(s),l&&(this.appliedClasses[i][a]=l,ste(s,l))},n.removeClasses=function(s,i){var a=this.appliedClasses[i],l=a.base,c=a.active,u=a.done;this.appliedClasses[i]={},l&&J_(s,l),c&&J_(s,c),u&&J_(s,u)},n.render=function(){var s=this.props;s.classNames;var i=Pn(s,["classNames"]);return nn.createElement(Mo,Ge({},i,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(nn.Component);IT.defaultProps={classNames:""};IT.propTypes={};function ite(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OT(t,e){var n=function(i){return e&&w.isValidElement(i)?e(i):i},r=Object.create(null);return t&&w.Children.map(t,function(s){return s}).forEach(function(s){r[s.key]=n(s)}),r}function ate(t,e){t=t||{},e=e||{};function n(h){return h in e?e[h]:t[h]}var r=Object.create(null),s=[];for(var i in t)i in e?s.length&&(r[i]=s,s=[]):s.push(i);var a,l={};for(var c in e){if(r[c])for(a=0;a<r[c].length;a++){var u=r[c][a];l[r[c][a]]=n(u)}l[c]=n(c)}for(a=0;a<s.length;a++)l[s[a]]=n(s[a]);return l}function Pd(t,e,n){return n[e]!=null?n[e]:t.props[e]}function ote(t,e){return OT(t.children,function(n){return w.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Pd(n,"appear",t),enter:Pd(n,"enter",t),exit:Pd(n,"exit",t)})})}function lte(t,e,n){var r=OT(t.children),s=ate(e,r);return Object.keys(s).forEach(function(i){var a=s[i];if(w.isValidElement(a)){var l=i in e,c=i in r,u=e[i],h=w.isValidElement(u)&&!u.props.in;c&&(!l||h)?s[i]=w.cloneElement(a,{onExited:n.bind(null,a),in:!0,exit:Pd(a,"exit",t),enter:Pd(a,"enter",t)}):!c&&l&&!h?s[i]=w.cloneElement(a,{in:!1}):c&&l&&w.isValidElement(u)&&(s[i]=w.cloneElement(a,{onExited:n.bind(null,a),in:u.props.in,exit:Pd(a,"exit",t),enter:Pd(a,"enter",t)}))}}),s}var cte=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},ute={component:"div",childFactory:function(e){return e}},u0=function(t){PT(e,t);function e(r,s){var i;i=t.call(this,r,s)||this;var a=i.handleExited.bind(ite(i));return i.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},i}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(s,i){var a=i.children,l=i.handleExited,c=i.firstRender;return{children:c?ote(s,l):lte(s,a,l),firstRender:!1}},n.handleExited=function(s,i){var a=OT(this.props.children);s.key in a||(s.props.onExited&&s.props.onExited(i),this.mounted&&this.setState(function(l){var c=Ge({},l.children);return delete c[s.key],{children:c}}))},n.render=function(){var s=this.props,i=s.component,a=s.childFactory,l=Pn(s,["component","childFactory"]),c=this.state.contextValue,u=cte(this.state.children).map(a);return delete l.appear,delete l.enter,delete l.exit,i===null?nn.createElement(Yb.Provider,{value:c},u):nn.createElement(Yb.Provider,{value:c},nn.createElement(i,l,u))},e}(nn.Component);u0.propTypes={};u0.defaultProps=ute;const dte=t=>t.scrollTop;function VD(t,e){var n,r;const{timeout:s,easing:i,style:a={}}=t;return{duration:(n=a.transitionDuration)!=null?n:typeof s=="number"?s:s[e.mode]||0,easing:(r=a.transitionTimingFunction)!=null?r:typeof i=="object"?i[e.mode]:i,delay:a.transitionDelay}}function hte(t){const{className:e,classes:n,pulsate:r=!1,rippleX:s,rippleY:i,rippleSize:a,in:l,onExited:c,timeout:u}=t,[h,f]=w.useState(!1),m=Bn(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),g={width:a,height:a,top:-(a/2)+i,left:-(a/2)+s},b=Bn(n.child,h&&n.childLeaving,r&&n.childPulsate);return!l&&!h&&f(!0),w.useEffect(()=>{if(!l&&c!=null){const y=setTimeout(c,u);return()=>{clearTimeout(y)}}},[c,l,u]),o.jsx("span",{className:m,style:g,children:o.jsx("span",{className:b})})}const Ba=$r("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),fte=["center","classes","className"];let _v=t=>t,qD,YD,GD,KD;const oS=550,pte=80,mte=wT(qD||(qD=_v`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),gte=wT(YD||(YD=_v`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),yte=wT(GD||(GD=_v`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),bte=on("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),xte=on(hte,{name:"MuiTouchRipple",slot:"Ripple"})(KD||(KD=_v`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Ba.rippleVisible,mte,oS,({theme:t})=>t.transitions.easing.easeInOut,Ba.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,Ba.child,Ba.childLeaving,gte,oS,({theme:t})=>t.transitions.easing.easeInOut,Ba.childPulsate,yte,({theme:t})=>t.transitions.easing.easeInOut),vte=w.forwardRef(function(e,n){const r=Bs({props:e,name:"MuiTouchRipple"}),{center:s=!1,classes:i={},className:a}=r,l=Pn(r,fte),[c,u]=w.useState([]),h=w.useRef(0),f=w.useRef(null);w.useEffect(()=>{f.current&&(f.current(),f.current=null)},[c]);const m=w.useRef(!1),g=w.useRef(null),b=w.useRef(null),y=w.useRef(null);w.useEffect(()=>()=>{clearTimeout(g.current)},[]);const x=w.useCallback(D=>{const{pulsate:j,rippleX:A,rippleY:O,rippleSize:L,cb:P}=D;u(N=>[...N,o.jsx(xte,{classes:{ripple:Bn(i.ripple,Ba.ripple),rippleVisible:Bn(i.rippleVisible,Ba.rippleVisible),ripplePulsate:Bn(i.ripplePulsate,Ba.ripplePulsate),child:Bn(i.child,Ba.child),childLeaving:Bn(i.childLeaving,Ba.childLeaving),childPulsate:Bn(i.childPulsate,Ba.childPulsate)},timeout:oS,pulsate:j,rippleX:A,rippleY:O,rippleSize:L},h.current)]),h.current+=1,f.current=P},[i]),_=w.useCallback((D={},j={},A=()=>{})=>{const{pulsate:O=!1,center:L=s||j.pulsate,fakeElement:P=!1}=j;if((D==null?void 0:D.type)==="mousedown"&&m.current){m.current=!1;return}(D==null?void 0:D.type)==="touchstart"&&(m.current=!0);const N=P?null:y.current,U=N?N.getBoundingClientRect():{width:0,height:0,left:0,top:0};let M,q,E;if(L||D===void 0||D.clientX===0&&D.clientY===0||!D.clientX&&!D.touches)M=Math.round(U.width/2),q=Math.round(U.height/2);else{const{clientX:G,clientY:Q}=D.touches&&D.touches.length>0?D.touches[0]:D;M=Math.round(G-U.left),q=Math.round(Q-U.top)}if(L)E=Math.sqrt((2*U.width**2+U.height**2)/3),E%2===0&&(E+=1);else{const G=Math.max(Math.abs((N?N.clientWidth:0)-M),M)*2+2,Q=Math.max(Math.abs((N?N.clientHeight:0)-q),q)*2+2;E=Math.sqrt(G**2+Q**2)}D!=null&&D.touches?b.current===null&&(b.current=()=>{x({pulsate:O,rippleX:M,rippleY:q,rippleSize:E,cb:A})},g.current=setTimeout(()=>{b.current&&(b.current(),b.current=null)},pte)):x({pulsate:O,rippleX:M,rippleY:q,rippleSize:E,cb:A})},[s,x]),S=w.useCallback(()=>{_({},{pulsate:!0})},[_]),T=w.useCallback((D,j)=>{if(clearTimeout(g.current),(D==null?void 0:D.type)==="touchend"&&b.current){b.current(),b.current=null,g.current=setTimeout(()=>{T(D,j)});return}b.current=null,u(A=>A.length>0?A.slice(1):A),f.current=j},[]);return w.useImperativeHandle(n,()=>({pulsate:S,start:_,stop:T}),[S,_,T]),o.jsx(bte,Ge({className:Bn(Ba.root,i.root,a),ref:y},l,{children:o.jsx(u0,{component:null,exit:!0,children:c})}))});function _te(t){return Fs("MuiButtonBase",t)}const wte=$r("MuiButtonBase",["root","disabled","focusVisible"]),Ste=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Cte=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:s}=t,a=ni({root:["root",e&&"disabled",n&&"focusVisible"]},_te,s);return n&&r&&(a.root+=` ${r}`),a},Tte=on("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${wte.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),MT=w.forwardRef(function(e,n){const r=Bs({props:e,name:"MuiButtonBase"}),{action:s,centerRipple:i=!1,children:a,className:l,component:c="button",disabled:u=!1,disableRipple:h=!1,disableTouchRipple:f=!1,focusRipple:m=!1,LinkComponent:g="a",onBlur:b,onClick:y,onContextMenu:x,onDragLeave:_,onFocus:S,onFocusVisible:T,onKeyDown:D,onKeyUp:j,onMouseDown:A,onMouseLeave:O,onMouseUp:L,onTouchEnd:P,onTouchMove:N,onTouchStart:U,tabIndex:M=0,TouchRippleProps:q,touchRippleRef:E,type:G}=r,Q=Pn(r,Ste),re=w.useRef(null),ee=w.useRef(null),Z=gc(ee,E),{isFocusVisibleRef:K,onFocus:F,onBlur:W,ref:me}=CQ(),[ne,ge]=w.useState(!1);u&&ne&&ge(!1),w.useImperativeHandle(s,()=>({focusVisible:()=>{ge(!0),re.current.focus()}}),[]);const[we,je]=w.useState(!1);w.useEffect(()=>{je(!0)},[]);const Re=we&&!h&&!u;w.useEffect(()=>{ne&&m&&!h&&we&&ee.current.pulsate()},[h,m,ne,we]);function ke(Le,Ue,Qe=f){return ff(ot=>(Ue&&Ue(ot),!Qe&&ee.current&&ee.current[Le](ot),!0))}const We=ke("start",A),Je=ke("stop",x),nt=ke("stop",_),ct=ke("stop",L),X=ke("stop",Le=>{ne&&Le.preventDefault(),O&&O(Le)}),Me=ke("start",U),ye=ke("stop",P),se=ke("stop",N),ie=ke("stop",Le=>{W(Le),K.current===!1&&ge(!1),b&&b(Le)},!1),fe=ff(Le=>{re.current||(re.current=Le.currentTarget),F(Le),K.current===!0&&(ge(!0),T&&T(Le)),S&&S(Le)}),Te=()=>{const Le=re.current;return c&&c!=="button"&&!(Le.tagName==="A"&&Le.href)},he=w.useRef(!1),ce=ff(Le=>{m&&!he.current&&ne&&ee.current&&Le.key===" "&&(he.current=!0,ee.current.stop(Le,()=>{ee.current.start(Le)})),Le.target===Le.currentTarget&&Te()&&Le.key===" "&&Le.preventDefault(),D&&D(Le),Le.target===Le.currentTarget&&Te()&&Le.key==="Enter"&&!u&&(Le.preventDefault(),y&&y(Le))}),ve=ff(Le=>{m&&Le.key===" "&&ee.current&&ne&&!Le.defaultPrevented&&(he.current=!1,ee.current.stop(Le,()=>{ee.current.pulsate(Le)})),j&&j(Le),y&&Le.target===Le.currentTarget&&Te()&&Le.key===" "&&!Le.defaultPrevented&&y(Le)});let Ie=c;Ie==="button"&&(Q.href||Q.to)&&(Ie=g);const Fe={};Ie==="button"?(Fe.type=G===void 0?"button":G,Fe.disabled=u):(!Q.href&&!Q.to&&(Fe.role="button"),u&&(Fe["aria-disabled"]=u));const Se=gc(n,me,re),ut=Ge({},r,{centerRipple:i,component:c,disabled:u,disableRipple:h,disableTouchRipple:f,focusRipple:m,tabIndex:M,focusVisible:ne}),pt=Cte(ut);return o.jsxs(Tte,Ge({as:Ie,className:Bn(pt.root,l),ownerState:ut,onBlur:ie,onClick:y,onContextMenu:Je,onFocus:fe,onKeyDown:ce,onKeyUp:ve,onMouseDown:We,onMouseLeave:X,onMouseUp:ct,onDragLeave:nt,onTouchEnd:ye,onTouchMove:se,onTouchStart:Me,ref:Se,tabIndex:u?-1:M,type:G},Fe,Q,{children:[a,Re?o.jsx(vte,Ge({ref:Z,center:i},q)):null]}))});function kte(t){return Fs("MuiIconButton",t)}const Ete=$r("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),jte=["edge","children","className","color","disabled","disableFocusRipple","size"],Nte=t=>{const{classes:e,disabled:n,color:r,edge:s,size:i}=t,a={root:["root",n&&"disabled",r!=="default"&&`color${fr(r)}`,s&&`edge${fr(s)}`,`size${fr(i)}`]};return ni(a,kte,e)},Dte=on(MT,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${fr(n.color)}`],n.edge&&e[`edge${fr(n.edge)}`],e[`size${fr(n.size)}`]]}})(({theme:t,ownerState:e})=>Ge({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:pl(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var n;const r=(n=(t.vars||t).palette)==null?void 0:n[e.color];return Ge({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&Ge({color:r==null?void 0:r.main},!e.disableRipple&&{"&:hover":Ge({},r&&{backgroundColor:t.vars?`rgba(${r.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:pl(r.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${Ete.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),gp=w.forwardRef(function(e,n){const r=Bs({props:e,name:"MuiIconButton"}),{edge:s=!1,children:i,className:a,color:l="default",disabled:c=!1,disableFocusRipple:u=!1,size:h="medium"}=r,f=Pn(r,jte),m=Ge({},r,{edge:s,color:l,disabled:c,disableFocusRipple:u,size:h}),g=Nte(m);return o.jsx(Dte,Ge({className:Bn(g.root,a),centerRipple:!0,focusRipple:!u,disabled:c,ref:n,ownerState:m},f,{children:i}))}),XM=w.createContext(void 0);function Ate(){return w.useContext(XM)}const Pte=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Ite={entering:{opacity:1},entered:{opacity:1}},RT=w.forwardRef(function(e,n){const r=l0(),s={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:i,appear:a=!0,children:l,easing:c,in:u,onEnter:h,onEntered:f,onEntering:m,onExit:g,onExited:b,onExiting:y,style:x,timeout:_=s,TransitionComponent:S=Mo}=e,T=Pn(e,Pte),D=w.useRef(null),j=gc(D,l.ref,n),A=E=>G=>{if(E){const Q=D.current;G===void 0?E(Q):E(Q,G)}},O=A(m),L=A((E,G)=>{dte(E);const Q=VD({style:x,timeout:_,easing:c},{mode:"enter"});E.style.webkitTransition=r.transitions.create("opacity",Q),E.style.transition=r.transitions.create("opacity",Q),h&&h(E,G)}),P=A(f),N=A(y),U=A(E=>{const G=VD({style:x,timeout:_,easing:c},{mode:"exit"});E.style.webkitTransition=r.transitions.create("opacity",G),E.style.transition=r.transitions.create("opacity",G),g&&g(E)}),M=A(b),q=E=>{i&&i(D.current,E)};return o.jsx(S,Ge({appear:a,in:u,nodeRef:D,onEnter:L,onEntered:P,onEntering:O,onExit:U,onExited:M,onExiting:N,addEndListener:q,timeout:_},T,{children:(E,G)=>w.cloneElement(l,Ge({style:Ge({opacity:0,visibility:E==="exited"&&!u?"hidden":void 0},Ite[E],x,l.props.style),ref:j},G))}))});function Ote(t){return Fs("MuiBackdrop",t)}$r("MuiBackdrop",["root","invisible"]);const Mte=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],Rte=t=>{const{classes:e,invisible:n}=t;return ni({root:["root",n&&"invisible"]},Ote,e)},Lte=on("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>Ge({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),Fte=w.forwardRef(function(e,n){var r,s,i;const a=Bs({props:e,name:"MuiBackdrop"}),{children:l,className:c,component:u="div",components:h={},componentsProps:f={},invisible:m=!1,open:g,slotProps:b={},slots:y={},TransitionComponent:x=RT,transitionDuration:_}=a,S=Pn(a,Mte),T=Ge({},a,{component:u,invisible:m}),D=Rte(T),j=(r=b.root)!=null?r:f.root;return o.jsx(x,Ge({in:g,timeout:_},S,{children:o.jsx(Lte,Ge({"aria-hidden":!0},j,{as:(s=(i=y.root)!=null?i:h.Root)!=null?s:u,className:Bn(D.root,c,j==null?void 0:j.className),ownerState:Ge({},T,j==null?void 0:j.ownerState),classes:D,ref:n,children:l}))}))}),Bte=BM(),QM=DJ({defaultTheme:Bte,defaultClassName:"MuiBox-root",generateClassName:vM.generate});function $te(t){return Fs("MuiButton",t)}const Ay=$r("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),zte=w.createContext({}),Ute=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],Hte=t=>{const{color:e,disableElevation:n,fullWidth:r,size:s,variant:i,classes:a}=t,l={root:["root",i,`${i}${fr(e)}`,`size${fr(s)}`,`${i}Size${fr(s)}`,e==="inherit"&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${fr(s)}`],endIcon:["endIcon",`iconSize${fr(s)}`]},c=ni(l,$te,a);return Ge({},a,c)},ZM=t=>Ge({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),Wte=on(MT,{shouldForwardProp:t=>$M(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${fr(n.color)}`],e[`size${fr(n.size)}`],e[`${n.variant}Size${fr(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;return Ge({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":Ge({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:pl(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:pl(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:pl(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:(t.vars||t).palette.grey.A100,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":Ge({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${Ay.focusVisible}`]:Ge({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${Ay.disabled}`]:Ge({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${pl(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Ay.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Ay.disabled}`]:{boxShadow:"none"}}),Vte=on("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${fr(n.size)}`]]}})(({ownerState:t})=>Ge({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},ZM(t))),qte=on("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${fr(n.size)}`]]}})(({ownerState:t})=>Ge({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},ZM(t))),XD=w.forwardRef(function(e,n){const r=w.useContext(zte),s=pT(r,e),i=Bs({props:s,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:u,disabled:h=!1,disableElevation:f=!1,disableFocusRipple:m=!1,endIcon:g,focusVisibleClassName:b,fullWidth:y=!1,size:x="medium",startIcon:_,type:S,variant:T="text"}=i,D=Pn(i,Ute),j=Ge({},i,{color:l,component:c,disabled:h,disableElevation:f,disableFocusRipple:m,fullWidth:y,size:x,type:S,variant:T}),A=Hte(j),O=_&&o.jsx(Vte,{className:A.startIcon,ownerState:j,children:_}),L=g&&o.jsx(qte,{className:A.endIcon,ownerState:j,children:g});return o.jsxs(Wte,Ge({ownerState:j,className:Bn(r.className,A.root,u),component:c,disabled:h,focusRipple:!m,focusVisibleClassName:Bn(A.focusVisible,b),ref:n,type:S},D,{classes:A,children:[O,a,L]}))}),Yte=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","slotProps","slots","theme"],Gte=on("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>Ge({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),Kte=on(Fte,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),JM=w.forwardRef(function(e,n){var r,s,i,a,l,c;const u=Bs({name:"MuiModal",props:e}),{BackdropComponent:h=Kte,BackdropProps:f,classes:m,className:g,closeAfterTransition:b=!1,children:y,component:x,components:_={},componentsProps:S={},disableAutoFocus:T=!1,disableEnforceFocus:D=!1,disableEscapeKeyDown:j=!1,disablePortal:A=!1,disableRestoreFocus:O=!1,disableScrollLock:L=!1,hideBackdrop:P=!1,keepMounted:N=!1,slotProps:U,slots:M,theme:q}=u,E=Pn(u,Yte),[G,Q]=w.useState(!0),re={closeAfterTransition:b,disableAutoFocus:T,disableEnforceFocus:D,disableEscapeKeyDown:j,disablePortal:A,disableRestoreFocus:O,disableScrollLock:L,hideBackdrop:P,keepMounted:N},ee=Ge({},u,re,{exited:G}),Z=(r=(s=M==null?void 0:M.root)!=null?s:_.Root)!=null?r:Gte,K=(i=(a=M==null?void 0:M.backdrop)!=null?a:_.Backdrop)!=null?i:h,F=(l=U==null?void 0:U.root)!=null?l:S.root,W=(c=U==null?void 0:U.backdrop)!=null?c:S.backdrop;return o.jsx(qee,Ge({slots:{root:Z,backdrop:K},slotProps:{root:()=>Ge({},rS(F,ee),!qM(Z)&&{as:x,theme:q},{className:Bn(g,F==null?void 0:F.className,m==null?void 0:m.root,!ee.open&&ee.exited&&(m==null?void 0:m.hidden))}),backdrop:()=>Ge({},f,rS(W,ee),{className:Bn(W==null?void 0:W.className,m==null?void 0:m.backdrop)})},onTransitionEnter:()=>Q(!1),onTransitionExited:()=>Q(!0),ref:n},E,re,{children:y}))}),QD=w.createContext();function Xte(t){return Fs("MuiGrid",t)}const Qte=[0,1,2,3,4,5,6,7,8,9,10],Zte=["column-reverse","column","row-reverse","row"],Jte=["nowrap","wrap-reverse","wrap"],vm=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Eg=$r("MuiGrid",["root","container","item","zeroMinWidth",...Qte.map(t=>`spacing-xs-${t}`),...Zte.map(t=>`direction-xs-${t}`),...Jte.map(t=>`wrap-xs-${t}`),...vm.map(t=>`grid-xs-${t}`),...vm.map(t=>`grid-sm-${t}`),...vm.map(t=>`grid-md-${t}`),...vm.map(t=>`grid-lg-${t}`),...vm.map(t=>`grid-xl-${t}`)]),ene=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function kf(t){const e=parseFloat(t);return`${e}${String(t).replace(String(e),"")||"px"}`}function tne({theme:t,ownerState:e}){let n;return t.breakpoints.keys.reduce((r,s)=>{let i={};if(e[s]&&(n=e[s]),!n)return r;if(n===!0)i={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")i={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const a=hv({values:e.columns,breakpoints:t.breakpoints.values}),l=typeof a=="object"?a[s]:a;if(l==null)return r;const c=`${Math.round(n/l*1e8)/1e6}%`;let u={};if(e.container&&e.item&&e.columnSpacing!==0){const h=t.spacing(e.columnSpacing);if(h!=="0px"){const f=`calc(${c} + ${kf(h)})`;u={flexBasis:f,maxWidth:f}}}i=Ge({flexBasis:c,flexGrow:0,maxWidth:c},u)}return t.breakpoints.values[s]===0?Object.assign(r,i):r[t.breakpoints.up(s)]=i,r},{})}function nne({theme:t,ownerState:e}){const n=hv({values:e.direction,breakpoints:t.breakpoints.values});return Xa({theme:t},n,r=>{const s={flexDirection:r};return r.indexOf("column")===0&&(s[`& > .${Eg.item}`]={maxWidth:"none"}),s})}function eR({breakpoints:t,values:e}){let n="";Object.keys(e).forEach(s=>{n===""&&e[s]!==0&&(n=s)});const r=Object.keys(t).sort((s,i)=>t[s]-t[i]);return r.slice(0,r.indexOf(n))}function rne({theme:t,ownerState:e}){const{container:n,rowSpacing:r}=e;let s={};if(n&&r!==0){const i=hv({values:r,breakpoints:t.breakpoints.values});let a;typeof i=="object"&&(a=eR({breakpoints:t.breakpoints.values,values:i})),s=Xa({theme:t},i,(l,c)=>{var u;const h=t.spacing(l);return h!=="0px"?{marginTop:`-${kf(h)}`,[`& > .${Eg.item}`]:{paddingTop:kf(h)}}:(u=a)!=null&&u.includes(c)?{}:{marginTop:0,[`& > .${Eg.item}`]:{paddingTop:0}}})}return s}function sne({theme:t,ownerState:e}){const{container:n,columnSpacing:r}=e;let s={};if(n&&r!==0){const i=hv({values:r,breakpoints:t.breakpoints.values});let a;typeof i=="object"&&(a=eR({breakpoints:t.breakpoints.values,values:i})),s=Xa({theme:t},i,(l,c)=>{var u;const h=t.spacing(l);return h!=="0px"?{width:`calc(100% + ${kf(h)})`,marginLeft:`-${kf(h)}`,[`& > .${Eg.item}`]:{paddingLeft:kf(h)}}:(u=a)!=null&&u.includes(c)?{}:{width:"100%",marginLeft:0,[`& > .${Eg.item}`]:{paddingLeft:0}}})}return s}function ine(t,e,n={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[n[`spacing-xs-${String(t)}`]];const r=[];return e.forEach(s=>{const i=t[s];Number(i)>0&&r.push(n[`spacing-${s}-${String(i)}`])}),r}const ane=on("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{container:r,direction:s,item:i,spacing:a,wrap:l,zeroMinWidth:c,breakpoints:u}=n;let h=[];r&&(h=ine(a,u,e));const f=[];return u.forEach(m=>{const g=n[m];g&&f.push(e[`grid-${m}-${String(g)}`])}),[e.root,r&&e.container,i&&e.item,c&&e.zeroMinWidth,...h,s!=="row"&&e[`direction-xs-${String(s)}`],l!=="wrap"&&e[`wrap-xs-${String(l)}`],...f]}})(({ownerState:t})=>Ge({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},t.wrap!=="wrap"&&{flexWrap:t.wrap}),nne,rne,sne,tne);function one(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const n=[];return e.forEach(r=>{const s=t[r];if(Number(s)>0){const i=`spacing-${r}-${String(s)}`;n.push(i)}}),n}const lne=t=>{const{classes:e,container:n,direction:r,item:s,spacing:i,wrap:a,zeroMinWidth:l,breakpoints:c}=t;let u=[];n&&(u=one(i,c));const h=[];c.forEach(m=>{const g=t[m];g&&h.push(`grid-${m}-${String(g)}`)});const f={root:["root",n&&"container",s&&"item",l&&"zeroMinWidth",...u,r!=="row"&&`direction-xs-${String(r)}`,a!=="wrap"&&`wrap-xs-${String(a)}`,...h]};return ni(f,Xte,e)},cne=w.forwardRef(function(e,n){const r=Bs({props:e,name:"MuiGrid"}),{breakpoints:s}=l0(),i=NT(r),{className:a,columns:l,columnSpacing:c,component:u="div",container:h=!1,direction:f="row",item:m=!1,rowSpacing:g,spacing:b=0,wrap:y="wrap",zeroMinWidth:x=!1}=i,_=Pn(i,ene),S=g||b,T=c||b,D=w.useContext(QD),j=h?l||12:D,A={},O=Ge({},_);s.keys.forEach(N=>{_[N]!=null&&(A[N]=_[N],delete O[N])});const L=Ge({},i,{columns:j,container:h,direction:f,item:m,rowSpacing:S,columnSpacing:T,wrap:y,zeroMinWidth:x,spacing:b},A,{breakpoints:s.keys}),P=lne(L);return o.jsx(QD.Provider,{value:j,children:o.jsx(ane,Ge({ownerState:L,className:Bn(P.root,a),as:u,ref:n},O))})});function une(t){return Fs("MuiInputAdornment",t)}const ZD=$r("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var JD;const dne=["children","className","component","disablePointerEvents","disableTypography","position","variant"],hne=(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${fr(n.position)}`],n.disablePointerEvents===!0&&e.disablePointerEvents,e[n.variant]]},fne=t=>{const{classes:e,disablePointerEvents:n,hiddenLabel:r,position:s,size:i,variant:a}=t,l={root:["root",n&&"disablePointerEvents",s&&`position${fr(s)}`,a,r&&"hiddenLabel",i&&`size${fr(i)}`]};return ni(l,une,e)},pne=on("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:hne})(({theme:t,ownerState:e})=>Ge({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},e.variant==="filled"&&{[`&.${ZD.positionStart}&:not(.${ZD.hiddenLabel})`]:{marginTop:16}},e.position==="start"&&{marginRight:8},e.position==="end"&&{marginLeft:8},e.disablePointerEvents===!0&&{pointerEvents:"none"})),mne=w.forwardRef(function(e,n){const r=Bs({props:e,name:"MuiInputAdornment"}),{children:s,className:i,component:a="div",disablePointerEvents:l=!1,disableTypography:c=!1,position:u,variant:h}=r,f=Pn(r,dne),m=Ate()||{};let g=h;h&&m.variant,m&&!g&&(g=m.variant);const b=Ge({},r,{hiddenLabel:m.hiddenLabel,size:m.size,disablePointerEvents:l,position:u,variant:g}),y=fne(b);return o.jsx(XM.Provider,{value:null,children:o.jsx(pne,Ge({as:a,ownerState:b,className:Bn(y.root,i),ref:n},f,{children:typeof s=="string"&&!c?o.jsx(Eu,{color:"text.secondary",children:s}):o.jsxs(w.Fragment,{children:[u==="start"?JD||(JD=o.jsx("span",{className:"notranslate",children:""})):null,s]})}))})}),gne=Ru(o.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),yne=Ru(o.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),bne=Ru(o.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight"),tR=Ru(o.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar"),xne=Ru(o.jsxs(w.Fragment,{children:[o.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),o.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock");Ru(o.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange");const vne=Ru(o.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Pen");Ru(o.jsxs(w.Fragment,{children:[o.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),o.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time");const eA=$r("PrivatePickersToolbar",["root","dateTitleContainer"]),_ne=on("div")(({theme:t,ownerState:e})=>Ge({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:t.spacing(2,3)},e.isLandscape&&{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"})),wne=on(cne)({flex:1}),Sne=t=>t==="clock"?o.jsx(xne,{color:"inherit"}):o.jsx(tR,{color:"inherit"});function Cne(t,e){return t?`text input view is open, go to ${e} view`:`${e} view is open, go to text input view`}const Tne=w.forwardRef(function(e,n){const{children:r,className:s,getMobileKeyboardInputViewButtonText:i=Cne,isLandscape:a,isMobileKeyboardViewOpen:l,landscapeDirection:c="column",penIconClassName:u,toggleMobileKeyboardView:h,toolbarTitle:f,viewType:m="calendar"}=e,g=e;return o.jsxs(_ne,{ref:n,className:Bn(eA.root,s),ownerState:g,children:[o.jsx(Eu,{color:"text.secondary",variant:"overline",children:f}),o.jsxs(wne,{container:!0,justifyContent:"space-between",className:eA.dateTitleContainer,direction:a?c:"row",alignItems:a?"flex-start":"flex-end",children:[r,o.jsx(gp,{onClick:h,className:u,color:"inherit","aria-label":i(l,m),children:l?Sne(m):o.jsx(vne,{color:"inherit"})})]})]})}),kne=["date","isLandscape","isMobileKeyboardViewOpen","onChange","toggleMobileKeyboardView","toolbarFormat","toolbarPlaceholder","toolbarTitle","views"],nR=$r("PrivateDatePickerToolbar",["penIcon"]),Ene=on(Tne)({[`& .${nR.penIcon}`]:{position:"relative",top:4}}),jne=on(Eu)(({ownerState:t})=>Ge({},t.isLandscape&&{margin:"auto 16px auto auto"})),Nne=w.forwardRef(function(e,n){const{date:r,isLandscape:s,isMobileKeyboardViewOpen:i,toggleMobileKeyboardView:a,toolbarFormat:l,toolbarPlaceholder:c="",toolbarTitle:u="Select date",views:h}=e,f=Pn(e,kne),m=ms(),g=w.useMemo(()=>r?l?m.formatByString(r,l):HM(h)?m.format(r,"year"):WM(h)?m.format(r,"month"):/en/.test(m.getCurrentLocaleCode())?m.format(r,"normalDateWithWeekday"):m.format(r,"normalDate"):c,[r,l,c,m,h]),b=e;return o.jsx(Ene,Ge({ref:n,toolbarTitle:u,isMobileKeyboardViewOpen:i,toggleMobileKeyboardView:a,isLandscape:s,penIconClassName:nR.penIcon,ownerState:b},f,{children:o.jsx(jne,{variant:"h4",align:s?"left":"center",ownerState:b,children:g})}))}),lS=36,LT=2,rR=320,Dne=358,d0=w.createContext(null);function Ane(t){return Fs("MuiPickerStaticWrapper",t)}$r("MuiPickerStaticWrapper",["root"]);const Pne=["displayStaticWrapperAs"],Ine=t=>{const{classes:e}=t;return ni({root:["root"]},Ane,e)},One=on("div",{name:"MuiPickerStaticWrapper",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({overflow:"hidden",minWidth:rR,display:"flex",flexDirection:"column",backgroundColor:t.palette.background.paper}));function Mne(t){const e=Bs({props:t,name:"MuiPickerStaticWrapper"}),{displayStaticWrapperAs:n}=e,r=Pn(e,Pne),s=Ine(e);return o.jsx(d0.Provider,{value:n,children:o.jsx(One,Ge({className:s.root},r))})}function sR(t,e){return Array.isArray(e)?e.every(n=>t.indexOf(n)!==-1):t.indexOf(e)!==-1}const Rne=(t,e)=>n=>{(n.key==="Enter"||n.key===" ")&&(t(),n.preventDefault(),n.stopPropagation())},tA=(...t)=>t.reduceRight((e,n)=>(...r)=>n(e(...r)),e=>e);function nA(t,e){return n=>{t(n),e&&e(n)}}function FT({onChange:t,onViewChange:e,openTo:n,view:r,views:s}){var i,a;const[l,c]=gQ({name:"Picker",state:"view",controlled:r,default:n&&sR(s,n)?n:s[0]}),u=(i=s[s.indexOf(l)-1])!=null?i:null,h=(a=s[s.indexOf(l)+1])!=null?a:null,f=w.useCallback(b=>{c(b),e&&e(b)},[c,e]),m=w.useCallback(()=>{h&&f(h)},[h,f]);return{handleChangeAndOpenNext:w.useCallback((b,y)=>{const x=y==="finish";t(b,x&&h?"partial":y),x&&m()},[h,t,m]),nextView:h,previousView:u,openNext:m,openView:l,setOpenView:f}}const Hf=220,wu=36,jg={x:Hf/2,y:Hf/2},iR={x:jg.x,y:0},Lne=iR.x-jg.x,Fne=iR.y-jg.y,Bne=t=>t*(180/Math.PI),aR=(t,e,n)=>{const r=e-jg.x,s=n-jg.y,i=Math.atan2(Lne,Fne)-Math.atan2(r,s);let a=Bne(i);a=Math.round(a/t)*t,a%=360;const l=Math.floor(a/t)||0,c=r**2+s**2,u=Math.sqrt(c);return{value:l,distance:u}},$ne=(t,e,n=1)=>{const r=n*6;let{value:s}=aR(r,t,e);return s=s*n%60,s},zne=(t,e,n)=>{const{value:r,distance:s}=aR(30,t,e);let i=r||12;return n?i%=12:s<Hf/2-wu&&(i+=12,i%=24),i},Une=["className","hasSelected","isInner","type","value"],Hne=on("div")(({theme:t,ownerState:e})=>Ge({width:2,backgroundColor:t.palette.primary.main,position:"absolute",left:"calc(50% - 1px)",bottom:"50%",transformOrigin:"center bottom 0px"},e.toAnimateTransform&&{transition:t.transitions.create(["transform","height"])})),Wne=on("div")(({theme:t,ownerState:e})=>Ge({width:4,height:4,backgroundColor:t.palette.primary.contrastText,borderRadius:"50%",position:"absolute",top:-21,left:`calc(50% - ${wu/2}px)`,border:`${(wu-4)/2}px solid ${t.palette.primary.main}`,boxSizing:"content-box"},e.hasSelected&&{backgroundColor:t.palette.primary.main}));class oR extends w.Component{constructor(...e){super(...e),this.state={toAnimateTransform:!1,previousType:void 0}}render(){const e=this.props,{className:n,isInner:r,type:s,value:i}=e,a=Pn(e,Une),l=Ge({},this.props,this.state),c=()=>{let h=360/(s==="hours"?12:60)*i;return s==="hours"&&i>12&&(h-=360),{height:Math.round((r?.26:.4)*Hf),transform:`rotateZ(${h}deg)`}};return o.jsx(Hne,Ge({style:c(),className:n,ownerState:l},a,{children:o.jsx(Wne,{ownerState:l})}))}}oR.getDerivedStateFromProps=(t,e)=>t.type!==e.previousType?{toAnimateTransform:!0,previousType:t.type}:{toAnimateTransform:!1,previousType:t.type};const Vne=on("div")(({theme:t})=>({display:"flex",justifyContent:"center",alignItems:"center",margin:t.spacing(2)})),qne=on("div")({backgroundColor:"rgba(0,0,0,.07)",borderRadius:"50%",height:220,width:220,flexShrink:0,position:"relative",pointerEvents:"none"}),Yne=on("div")({width:"100%",height:"100%",position:"absolute",pointerEvents:"auto",outline:0,touchAction:"none",userSelect:"none","@media (pointer: fine)":{cursor:"pointer",borderRadius:"50%"},"&:active":{cursor:"move"}}),Gne=on("div")(({theme:t})=>({width:6,height:6,borderRadius:"50%",backgroundColor:t.palette.primary.main,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"})),Kne=on(gp)(({theme:t,ownerState:e})=>Ge({zIndex:1,position:"absolute",bottom:e.ampmInClock?64:8,left:8},e.meridiemMode==="am"&&{backgroundColor:t.palette.primary.main,color:t.palette.primary.contrastText,"&:hover":{backgroundColor:t.palette.primary.light}})),Xne=on(gp)(({theme:t,ownerState:e})=>Ge({zIndex:1,position:"absolute",bottom:e.ampmInClock?64:8,right:8},e.meridiemMode==="pm"&&{backgroundColor:t.palette.primary.main,color:t.palette.primary.contrastText,"&:hover":{backgroundColor:t.palette.primary.light}}));function Qne(t){const{ampm:e,ampmInClock:n,autoFocus:r,children:s,date:i,getClockLabelText:a,handleMeridiemChange:l,isTimeDisabled:c,meridiemMode:u,minutesStep:h=1,onChange:f,selectedId:m,type:g,value:b}=t,y=t,x=ms(),_=w.useContext(d0),S=w.useRef(!1),T=c(b,g),D=!e&&g==="hours"&&(b<1||b>12),j=(G,Q)=>{c(G,g)||f(G,Q)},A=(G,Q)=>{let{offsetX:re,offsetY:ee}=G;if(re===void 0){const K=G.target.getBoundingClientRect();re=G.changedTouches[0].clientX-K.left,ee=G.changedTouches[0].clientY-K.top}const Z=g==="seconds"||g==="minutes"?$ne(re,ee,h):zne(re,ee,!!e);j(Z,Q)},O=G=>{S.current=!0,A(G,"shallow")},L=G=>{S.current&&(A(G,"finish"),S.current=!1)},P=G=>{G.buttons>0&&A(G.nativeEvent,"shallow")},N=G=>{S.current&&(S.current=!1),A(G.nativeEvent,"finish")},U=w.useMemo(()=>g==="hours"?!0:b%5===0,[g,b]),M=g==="minutes"?h:1,q=w.useRef(null);zf(()=>{r&&q.current.focus()},[r]);const E=G=>{if(!S.current)switch(G.key){case"Home":j(0,"partial"),G.preventDefault();break;case"End":j(g==="minutes"?59:23,"partial"),G.preventDefault();break;case"ArrowUp":j(b+M,"partial"),G.preventDefault();break;case"ArrowDown":j(b-M,"partial"),G.preventDefault();break}};return o.jsxs(Vne,{children:[o.jsxs(qne,{children:[o.jsx(Yne,{onTouchMove:O,onTouchEnd:L,onMouseUp:N,onMouseMove:P}),!T&&o.jsxs(w.Fragment,{children:[o.jsx(Gne,{}),i&&o.jsx(oR,{type:g,value:b,isInner:D,hasSelected:U})]}),o.jsx("div",{"aria-activedescendant":m,"aria-label":a(g,i,x),ref:q,role:"listbox",onKeyDown:E,tabIndex:0,children:s})]}),e&&(_==="desktop"||n)&&o.jsxs(w.Fragment,{children:[o.jsx(Kne,{onClick:()=>l("am"),disabled:u===null,ownerState:y,children:o.jsx(Eu,{variant:"caption",children:"AM"})}),o.jsx(Xne,{disabled:u===null,onClick:()=>l("pm"),ownerState:y,children:o.jsx(Eu,{variant:"caption",children:"PM"})})]})]})}const Zne=["className","disabled","index","inner","label","selected"],Gb=$r("PrivateClockNumber",["selected","disabled"]),Jne=on("span")(({theme:t,ownerState:e})=>Ge({height:wu,width:wu,position:"absolute",left:`calc((100% - ${wu}px) / 2)`,display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",color:t.palette.text.primary,fontFamily:t.typography.fontFamily,"&:focused":{backgroundColor:t.palette.background.paper},[`&.${Gb.selected}`]:{color:t.palette.primary.contrastText},[`&.${Gb.disabled}`]:{pointerEvents:"none",color:t.palette.text.disabled}},e.inner&&Ge({},t.typography.body2,{color:t.palette.text.secondary})));function lR(t){const{className:e,disabled:n,index:r,inner:s,label:i,selected:a}=t,l=Pn(t,Zne),c=t,u=r%12/12*Math.PI*2-Math.PI/2,h=(Hf-wu-2)/2*(s?.65:1),f=Math.round(Math.cos(u)*h),m=Math.round(Math.sin(u)*h);return o.jsx(Jne,Ge({className:Bn(e,a&&Gb.selected,n&&Gb.disabled),"aria-disabled":n?!0:void 0,"aria-selected":a?!0:void 0,role:"option",style:{transform:`translate(${f}px, ${m+(Hf-wu)/2}px`},ownerState:c},l,{children:i}))}const ere=({ampm:t,date:e,getClockNumberText:n,isDisabled:r,selectedId:s,utils:i})=>{const a=e?i.getHours(e):null,l=[],c=t?1:0,u=t?12:23,h=f=>a===null?!1:t?f===12?a===12||a===0:a===f||a-12===f:a===f;for(let f=c;f<=u;f+=1){let m=f.toString();f===0&&(m="00");const g=!t&&(f===0||f>12);m=i.formatNumber(m);const b=h(f);l.push(o.jsx(lR,{id:b?s:void 0,index:f,inner:g,selected:b,disabled:r(f),label:m,"aria-label":n(m)},f))}return l},rA=({utils:t,value:e,isDisabled:n,getClockNumberText:r,selectedId:s})=>{const i=t.formatNumber;return[[5,i("05")],[10,i("10")],[15,i("15")],[20,i("20")],[25,i("25")],[30,i("30")],[35,i("35")],[40,i("40")],[45,i("45")],[50,i("50")],[55,i("55")],[0,i("00")]].map(([a,l],c)=>{const u=a===e;return o.jsx(lR,{label:l,id:u?s:void 0,index:c+1,inner:!1,disabled:n(a),selected:u,"aria-label":r(l)},a)})},tre=["children","className","components","componentsProps","isLeftDisabled","isLeftHidden","isRightDisabled","isRightHidden","leftArrowButtonText","onLeftClick","onRightClick","rightArrowButtonText"],nre=on("div")({display:"flex"}),rre=on("div")(({theme:t})=>({width:t.spacing(3)})),sA=on(gp)(({ownerState:t})=>Ge({},t.hidden&&{visibility:"hidden"})),cR=w.forwardRef(function(e,n){const{children:r,className:s,components:i={},componentsProps:a={},isLeftDisabled:l,isLeftHidden:c,isRightDisabled:u,isRightHidden:h,leftArrowButtonText:f,onLeftClick:m,onRightClick:g,rightArrowButtonText:b}=e,y=Pn(e,tre),_=l0().direction==="rtl",S=a.leftArrowButton||{},T=i.LeftArrowIcon||yne,D=a.rightArrowButton||{},j=i.RightArrowIcon||bne,A=e;return o.jsxs(nre,Ge({ref:n,className:s,ownerState:A},y,{children:[o.jsx(sA,Ge({as:i.LeftArrowButton,size:"small","aria-label":f,title:f,disabled:l,edge:"end",onClick:m},S,{className:S.className,ownerState:Ge({},A,S,{hidden:c}),children:_?o.jsx(j,{}):o.jsx(T,{})})),r?o.jsx(Eu,{variant:"subtitle1",component:"span",children:r}):o.jsx(rre,{ownerState:A}),o.jsx(sA,Ge({as:i.RightArrowButton,size:"small","aria-label":b,title:b,edge:"start",disabled:u,onClick:g},D,{className:D.className,ownerState:Ge({},A,D,{hidden:h}),children:_?o.jsx(T,{}):o.jsx(j,{})}))]}))}),sre=(t,e)=>t?e.getHours(t)>=12?"pm":"am":null,cS=(t,e,n)=>n&&(t>=12?"pm":"am")!==e?e==="am"?t-12:t+12:t,ire=(t,e,n,r)=>{const s=cS(r.getHours(t),e,n);return r.setHours(t,s)},iA=(t,e)=>e.getHours(t)*3600+e.getMinutes(t)*60+e.getSeconds(t),are=(t,e)=>(n,r)=>t?e.isAfter(n,r):iA(n,e)>iA(r,e);function ore(t,{disableFuture:e,maxDate:n}){const r=ms();return w.useMemo(()=>{const s=r.date(),i=r.startOfMonth(e&&r.isBefore(s,n)?s:n);return!r.isAfter(i,t)},[e,n,t,r])}function lre(t,{disablePast:e,minDate:n}){const r=ms();return w.useMemo(()=>{const s=r.date(),i=r.startOfMonth(e&&r.isAfter(s,n)?s:n);return!r.isBefore(i,t)},[e,n,t,r])}function cre(t,e,n){const r=ms(),s=sre(t,r),i=w.useCallback(a=>{const l=t==null?null:ire(t,a,!!e,r);n(l,"partial")},[e,t,n,r]);return{meridiemMode:s,handleMeridiemChange:i}}function ure(t){return Fs("MuiClockPicker",t)}$r("MuiClockPicker",["root","arrowSwitcher"]);const BT=on("div")({overflowX:"hidden",width:rR,maxHeight:Dne,display:"flex",flexDirection:"column",margin:"0 auto"}),dre=t=>{const{classes:e}=t;return ni({root:["root"],arrowSwitcher:["arrowSwitcher"]},ure,e)},hre=on(BT,{name:"MuiClockPicker",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexDirection:"column"}),fre=on(cR,{name:"MuiClockPicker",slot:"ArrowSwitcher",overridesResolver:(t,e)=>e.arrowSwitcher})({position:"absolute",right:12,top:15}),pre=(t,e,n)=>`Select ${t}. ${e===null?"No time selected":`Selected time is ${n.format(e,"fullTime")}`}`,mre=t=>`${t} minutes`,gre=t=>`${t} hours`,yre=t=>`${t} seconds`,bre=w.forwardRef(function(e,n){const r=Bs({props:e,name:"MuiClockPicker"}),{ampm:s=!1,ampmInClock:i=!1,autoFocus:a,components:l,componentsProps:c,date:u,disableIgnoringDatePartForTimeValidation:h=!1,getClockLabelText:f=pre,getHoursClockNumberText:m=gre,getMinutesClockNumberText:g=mre,getSecondsClockNumberText:b=yre,leftArrowButtonText:y="open previous view",maxTime:x,minTime:_,minutesStep:S=1,rightArrowButtonText:T="open next view",shouldDisableTime:D,showViewSwitcher:j,onChange:A,view:O,views:L=["hours","minutes"],openTo:P,onViewChange:N,className:U}=r,{openView:M,setOpenView:q,nextView:E,previousView:G,handleChangeAndOpenNext:Q}=FT({view:O,views:L,openTo:P,onViewChange:N,onChange:A}),re=c0(),ee=ms(),Z=ee.setSeconds(ee.setMinutes(ee.setHours(re,0),0),0),K=u||Z,{meridiemMode:F,handleMeridiemChange:W}=cre(K,s,Q),me=w.useCallback((Re,ke)=>{if(u===null)return!1;const We=(Je,nt)=>{const ct=are(h,ee);return!!(_&&ct(_,nt("end"))||x&&ct(nt("start"),x)||D&&D(Je,ke))};switch(ke){case"hours":{const Je=cS(Re,F,s);return We(Je,nt=>tA(ct=>ee.setHours(ct,Je),ct=>ee.setMinutes(ct,nt==="start"?0:59),ct=>ee.setSeconds(ct,nt==="start"?0:59))(u))}case"minutes":return We(Re,Je=>tA(nt=>ee.setMinutes(nt,Re),nt=>ee.setSeconds(nt,Je==="start"?0:59))(u));case"seconds":return We(Re,()=>ee.setSeconds(u,Re));default:throw new Error("not supported")}},[s,u,h,x,F,_,D,ee]),ne=mQ(),ge=w.useMemo(()=>{switch(M){case"hours":return{onChange:(ke,We)=>{const Je=cS(ke,F,s);Q(ee.setHours(K,Je),We)},value:ee.getHours(K),children:ere({date:u,utils:ee,ampm:s,getClockNumberText:m,isDisabled:ke=>me(ke,"hours"),selectedId:ne})};case"minutes":{const Re=ee.getMinutes(K);return{value:Re,onChange:(We,Je)=>{Q(ee.setMinutes(K,We),Je)},children:rA({utils:ee,value:Re,getClockNumberText:g,isDisabled:We=>me(We,"minutes"),selectedId:ne})}}case"seconds":{const Re=ee.getSeconds(K);return{value:Re,onChange:(We,Je)=>{Q(ee.setSeconds(K,We),Je)},children:rA({utils:ee,value:Re,getClockNumberText:b,isDisabled:We=>me(We,"seconds"),selectedId:ne})}}default:throw new Error("You must provide the type for ClockView")}},[M,ee,u,s,m,g,b,F,Q,K,me,ne]),we=r,je=dre(we);return o.jsxs(hre,{ref:n,className:Bn(je.root,U),ownerState:we,children:[j&&o.jsx(fre,{className:je.arrowSwitcher,leftArrowButtonText:y,rightArrowButtonText:T,components:l,componentsProps:c,onLeftClick:()=>q(G),onRightClick:()=>q(E),isLeftDisabled:!G,isRightDisabled:!E,ownerState:we}),o.jsx(Qne,Ge({autoFocus:a,date:u,ampmInClock:i,type:M,ampm:s,getClockLabelText:f,minutesStep:S,isTimeDisabled:me,meridiemMode:F,handleMeridiemChange:W,selectedId:ne},ge))]})}),xre=["disabled","onSelect","selected","value"],uS=$r("PrivatePickersMonth",["root","selected"]),vre=on(Eu)(({theme:t})=>Ge({flex:"1 0 33.33%",display:"flex",alignItems:"center",justifyContent:"center",color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{margin:"8px 0",height:36,borderRadius:18,cursor:"pointer","&:focus, &:hover":{backgroundColor:pl(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{pointerEvents:"none",color:t.palette.text.secondary},[`&.${uS.selected}`]:{color:t.palette.primary.contrastText,backgroundColor:t.palette.primary.main,"&:focus, &:hover":{backgroundColor:t.palette.primary.dark}}})),_re=t=>{const{disabled:e,onSelect:n,selected:r,value:s}=t,i=Pn(t,xre),a=()=>{n(s)};return o.jsx(vre,Ge({component:"button",type:"button",className:Bn(uS.root,r&&uS.selected),tabIndex:e?-1:0,onClick:a,onKeyDown:Rne(a),color:r?"primary":void 0,variant:r?"h5":"subtitle1",disabled:e},i))};function wre(t){return Fs("MuiMonthPicker",t)}$r("MuiMonthPicker",["root"]);const Sre=["className","date","disabled","disableFuture","disablePast","maxDate","minDate","onChange","onMonthChange","readOnly"],Cre=t=>{const{classes:e}=t;return ni({root:["root"]},wre,e)},Tre=on("div",{name:"MuiMonthPicker",slot:"Root",overridesResolver:(t,e)=>e.root})({width:310,display:"flex",flexWrap:"wrap",alignContent:"stretch",margin:"0 4px"}),kre=w.forwardRef(function(e,n){const r=Bs({props:e,name:"MuiMonthPicker"}),{className:s,date:i,disabled:a,disableFuture:l,disablePast:c,maxDate:u,minDate:h,onChange:f,onMonthChange:m,readOnly:g}=r,b=Pn(r,Sre),y=r,x=Cre(y),_=ms(),S=c0(),T=_.getMonth(i||S),D=A=>{const O=_.startOfMonth(c&&_.isAfter(S,h)?S:h),L=_.startOfMonth(l&&_.isBefore(S,u)?S:u),P=_.isBefore(A,O),N=_.isAfter(A,L);return P||N},j=A=>{if(g)return;const O=_.setMonth(i||S,A);f(O,"finish"),m&&m(O)};return o.jsx(Tre,Ge({ref:n,className:Bn(x.root,s),ownerState:y},b,{children:_.getMonthArray(i||S).map(A=>{const O=_.getMonth(A),L=_.format(A,"monthShort");return o.jsx(_re,{value:O,selected:O===T,onSelect:j,disabled:a||D(A),children:L},L)})}))});function Ere(t,e,n){const{value:r,onError:s}=t,i=ms(),a=w.useRef(null),l=e(i,r,t);return w.useEffect(()=>{s&&!n(l,a.current)&&s(l,r),a.current=l},[n,s,a,l,r]),l}const uR=(t,e,{disablePast:n,disableFuture:r,minDate:s,maxDate:i,shouldDisableDate:a})=>{const l=t.date(),c=t.date(e);if(c===null)return null;switch(!0){case!t.isValid(e):return"invalidDate";case!!(a&&a(c)):return"shouldDisableDate";case!!(r&&t.isAfterDay(c,l)):return"disableFuture";case!!(n&&t.isBeforeDay(c,l)):return"disablePast";case!!(s&&t.isBeforeDay(c,s)):return"minDate";case!!(i&&t.isAfterDay(c,i)):return"maxDate";default:return null}},jre=(t,e)=>t===e,Nre=t=>Ere(t,uR,jre),Dre=(t,e,n)=>(r,s)=>{switch(s.type){case"changeMonth":return Ge({},r,{slideDirection:s.direction,currentMonth:s.newMonth,isMonthSwitchingAnimating:!t});case"finishMonthSwitchingAnimation":return Ge({},r,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(r.focusedDay!==null&&n.isSameDay(s.focusedDay,r.focusedDay))return r;const i=!!s.focusedDay&&!e&&!n.isSameMonth(r.currentMonth,s.focusedDay);return Ge({},r,{focusedDay:s.focusedDay,isMonthSwitchingAnimating:i&&!t,currentMonth:i?n.startOfMonth(s.focusedDay):r.currentMonth,slideDirection:n.isAfterDay(s.focusedDay,r.currentMonth)?"left":"right"})}default:throw new Error("missing support")}},Are=({date:t,defaultCalendarMonth:e,disableFuture:n,disablePast:r,disableSwitchToMonthOnDayFocus:s=!1,maxDate:i,minDate:a,onMonthChange:l,reduceAnimations:c,shouldDisableDate:u})=>{var h;const f=c0(),m=ms(),g=w.useRef(Dre(!!c,s,m)).current,[b,y]=w.useReducer(g,{isMonthSwitchingAnimating:!1,focusedDay:t||f,currentMonth:m.startOfMonth((h=t??e)!=null?h:f),slideDirection:"left"}),x=w.useCallback(j=>{y(Ge({type:"changeMonth"},j)),l&&l(j.newMonth)},[l]),_=w.useCallback(j=>{const A=j??f;m.isSameMonth(A,b.currentMonth)||x({newMonth:m.startOfMonth(A),direction:m.isAfterDay(A,b.currentMonth)?"left":"right"})},[b.currentMonth,x,f,m]),S=w.useCallback(j=>uR(m,j,{disablePast:r,disableFuture:n,minDate:a,maxDate:i,shouldDisableDate:u})!==null,[n,r,i,a,u,m]),T=w.useCallback(()=>{y({type:"finishMonthSwitchingAnimation"})},[]),D=w.useCallback(j=>{S(j)||y({type:"changeFocusedDay",focusedDay:j})},[S]);return{calendarState:b,changeMonth:_,changeFocusedDay:D,isDateDisabled:S,onMonthSwitchingAnimationEnd:T,handleChangeMonth:x}},Pre=$r("PrivatePickersFadeTransitionGroup",["root"]),aA=500,Ire=on(u0)({display:"block",position:"relative"}),dS=({children:t,className:e,reduceAnimations:n,transKey:r})=>n?t:o.jsx(Ire,{className:Bn(Pre.root,e),children:o.jsx(RT,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:aA,enter:aA/2,exit:0},children:t},r)});function Ore(t){return Fs("MuiPickersDay",t)}const Py=$r("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),Mre=["allowSameDateSelection","autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDayFocus","onDaySelect","onFocus","onKeyDown","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today"],Rre=t=>{const{selected:e,disableMargin:n,disableHighlightToday:r,today:s,outsideCurrentMonth:i,showDaysOutsideCurrentMonth:a,classes:l}=t;return ni({root:["root",e&&"selected",!n&&"dayWithMargin",!r&&s&&"today",i&&a&&"dayOutsideMonth"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},Ore,l)},dR=({theme:t,ownerState:e})=>Ge({},t.typography.caption,{width:lS,height:lS,borderRadius:"50%",padding:0,backgroundColor:t.palette.background.paper,color:t.palette.text.primary,"&:hover":{backgroundColor:pl(t.palette.action.active,t.palette.action.hoverOpacity)},"&:focus":{backgroundColor:pl(t.palette.action.active,t.palette.action.hoverOpacity),[`&.${Py.selected}`]:{willChange:"background-color",backgroundColor:t.palette.primary.dark}},[`&.${Py.selected}`]:{color:t.palette.primary.contrastText,backgroundColor:t.palette.primary.main,fontWeight:t.typography.fontWeightMedium,transition:t.transitions.create("background-color",{duration:t.transitions.duration.short}),"&:hover":{willChange:"background-color",backgroundColor:t.palette.primary.dark}},[`&.${Py.disabled}`]:{color:t.palette.text.disabled}},!e.disableMargin&&{margin:`0 ${LT}px`},e.outsideCurrentMonth&&e.showDaysOutsideCurrentMonth&&{color:t.palette.text.secondary},!e.disableHighlightToday&&e.today&&{[`&:not(.${Py.selected})`]:{border:`1px solid ${t.palette.text.secondary}`}}),hR=(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableMargin&&e.dayWithMargin,!n.disableHighlightToday&&n.today&&e.today,!n.outsideCurrentMonth&&n.showDaysOutsideCurrentMonth&&e.dayOutsideMonth,n.outsideCurrentMonth&&!n.showDaysOutsideCurrentMonth&&e.hiddenDaySpacingFiller]},Lre=on(MT,{name:"MuiPickersDay",slot:"Root",overridesResolver:hR})(dR),Fre=on("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:hR})(({theme:t,ownerState:e})=>Ge({},dR({theme:t,ownerState:e}),{visibility:"hidden"})),Bre=()=>{},$re=w.forwardRef(function(e,n){const r=Bs({props:e,name:"MuiPickersDay"}),{allowSameDateSelection:s=!1,autoFocus:i=!1,className:a,day:l,disabled:c=!1,disableHighlightToday:u=!1,disableMargin:h=!1,isAnimating:f,onClick:m,onDayFocus:g=Bre,onDaySelect:b,onFocus:y,onKeyDown:x,outsideCurrentMonth:_,selected:S=!1,showDaysOutsideCurrentMonth:T=!1,children:D,today:j=!1}=r,A=Pn(r,Mre),O=Ge({},r,{allowSameDateSelection:s,autoFocus:i,disabled:c,disableHighlightToday:u,disableMargin:h,selected:S,showDaysOutsideCurrentMonth:T,today:j}),L=Rre(O),P=ms(),N=w.useRef(null),U=gc(N,n);zf(()=>{i&&!c&&!f&&!_&&N.current.focus()},[i,c,f,_]);const M=Q=>{g&&g(l),y&&y(Q)},q=Q=>{!s&&S||(c||b(l,"finish"),m&&m(Q))},E=l0();function G(Q){switch(x!==void 0&&x(Q),Q.key){case"ArrowUp":g(P.addDays(l,-7)),Q.preventDefault();break;case"ArrowDown":g(P.addDays(l,7)),Q.preventDefault();break;case"ArrowLeft":g(P.addDays(l,E.direction==="ltr"?-1:1)),Q.preventDefault();break;case"ArrowRight":g(P.addDays(l,E.direction==="ltr"?1:-1)),Q.preventDefault();break;case"Home":g(P.startOfWeek(l)),Q.preventDefault();break;case"End":g(P.endOfWeek(l)),Q.preventDefault();break;case"PageUp":g(P.getNextMonth(l)),Q.preventDefault();break;case"PageDown":g(P.getPreviousMonth(l)),Q.preventDefault();break}}return _&&!T?o.jsx(Fre,{className:Bn(L.root,L.hiddenDaySpacingFiller,a),ownerState:O}):o.jsx(Lre,Ge({className:Bn(L.root,a),ownerState:O,ref:U,centerRipple:!0,disabled:c,"aria-label":D?void 0:P.format(l,"fullDate"),tabIndex:S?0:-1,onFocus:M,onKeyDown:G,onClick:q},A,{children:D||P.format(l,"dayOfMonth")}))}),zre=(t,e)=>t.autoFocus===e.autoFocus&&t.isAnimating===e.isAnimating&&t.today===e.today&&t.disabled===e.disabled&&t.selected===e.selected&&t.disableMargin===e.disableMargin&&t.showDaysOutsideCurrentMonth===e.showDaysOutsideCurrentMonth&&t.disableHighlightToday===e.disableHighlightToday&&t.className===e.className&&t.outsideCurrentMonth===e.outsideCurrentMonth&&t.onDayFocus===e.onDayFocus&&t.onDaySelect===e.onDaySelect,Ure=w.memo($re,zre),Hre=["children","className","reduceAnimations","slideDirection","transKey"],Ua=$r("PrivatePickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),fR=350,Wre=on(u0)(({theme:t})=>{const e=t.transitions.create("transform",{duration:fR,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${Ua["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${Ua["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${Ua.slideEnterActive}`]:{transform:"translate(0%)",transition:e},[`& .${Ua.slideExit}`]:{transform:"translate(0%)"},[`& .${Ua["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:e,zIndex:0},[`& .${Ua["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:e,zIndex:0}}}),Vre=t=>{let{children:e,className:n,reduceAnimations:r,slideDirection:s,transKey:i}=t,a=Pn(t,Hre);if(r)return o.jsx("div",{className:Bn(Ua.root,n),children:e});const l={exit:Ua.slideExit,enterActive:Ua.slideEnterActive,enter:Ua[`slideEnter-${s}`],exitActive:Ua[`slideExitActiveLeft-${s}`]};return o.jsx(Wre,{className:Bn(Ua.root,n),childFactory:c=>w.cloneElement(c,{classNames:l}),children:o.jsx(IT,Ge({mountOnEnter:!0,unmountOnExit:!0,timeout:fR,classNames:l},a,{children:e}),i)})},pR=(lS+LT*4)*6,qre=on("div")({display:"flex",justifyContent:"center",alignItems:"center"}),Yre=on(Eu)(({theme:t})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:t.palette.text.secondary})),Gre=on("div")({display:"flex",justifyContent:"center",alignItems:"center",minHeight:pR}),Kre=on(Vre)({minHeight:pR}),Xre=on("div")({overflow:"hidden"}),Qre=on("div")({margin:`${LT}px 0`,display:"flex",justifyContent:"center"});function Zre(t){const{allowSameDateSelection:e,autoFocus:n,onFocusedDayChange:r,className:s,currentMonth:i,date:a,disabled:l,disableHighlightToday:c,focusedDay:u,isDateDisabled:h,isMonthSwitchingAnimating:f,loading:m,onChange:g,onMonthSwitchingAnimationEnd:b,readOnly:y,reduceAnimations:x,renderDay:_,renderLoading:S=()=>o.jsx("span",{children:"..."}),showDaysOutsideCurrentMonth:T,slideDirection:D,TransitionProps:j}=t,A=c0(),O=ms(),L=w.useCallback((q,E="finish")=>{if(y)return;const G=Array.isArray(a)?q:O.mergeDateAndTime(q,a||A);g(G,E)},[a,A,g,y,O]),P=O.getMonth(i),N=(Array.isArray(a)?a:[a]).filter(Boolean).map(q=>q&&O.startOfDay(q)),U=P,M=w.useMemo(()=>w.createRef(),[U]);return o.jsxs(w.Fragment,{children:[o.jsx(qre,{children:O.getWeekdays().map((q,E)=>o.jsx(Yre,{"aria-hidden":!0,variant:"caption",children:q.charAt(0).toUpperCase()},q+E.toString()))}),m?o.jsx(Gre,{children:S()}):o.jsx(Kre,Ge({transKey:U,onExited:b,reduceAnimations:x,slideDirection:D,className:s},j,{nodeRef:M,children:o.jsx(Xre,{ref:M,role:"grid",children:O.getWeekArray(i).map(q=>o.jsx(Qre,{role:"row",children:q.map(E=>{const G={key:E==null?void 0:E.toString(),day:E,isAnimating:f,disabled:l||h(E),allowSameDateSelection:e,autoFocus:n&&u!==null&&O.isSameDay(E,u),today:O.isSameDay(E,A),outsideCurrentMonth:O.getMonth(E)!==P,selected:N.some(Q=>Q&&O.isSameDay(Q,E)),disableHighlightToday:c,showDaysOutsideCurrentMonth:T,onDayFocus:r,onDaySelect:L};return _?_(E,N,G):o.jsx("div",{role:"cell",children:o.jsx(Ure,Ge({},G))},G.key)})},`week-${q[0]}`))})}))]})}const Jre=on("div")({display:"flex",alignItems:"center",marginTop:16,marginBottom:8,paddingLeft:24,paddingRight:12,maxHeight:30,minHeight:30}),ese=on("div")(({theme:t})=>Ge({display:"flex",maxHeight:30,overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},t.typography.body1,{fontWeight:t.typography.fontWeightMedium})),oA=on("div")({marginRight:6}),tse=on(gp)({marginRight:"auto"}),nse=on(gne)(({theme:t,ownerState:e})=>Ge({willChange:"transform",transition:t.transitions.create("transform"),transform:"rotate(0deg)"},e.openView==="year"&&{transform:"rotate(180deg)"}));function rse(t){return t==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view"}function sse(t){const{components:e={},componentsProps:n={},currentMonth:r,disabled:s,disableFuture:i,disablePast:a,getViewSwitchingButtonText:l=rse,leftArrowButtonText:c="Previous month",maxDate:u,minDate:h,onMonthChange:f,onViewChange:m,openView:g,reduceAnimations:b,rightArrowButtonText:y="Next month",views:x}=t,_=ms(),S=n.switchViewButton||{},T=()=>f(_.getNextMonth(r),"left"),D=()=>f(_.getPreviousMonth(r),"right"),j=ore(r,{disableFuture:i||s,maxDate:u}),A=lre(r,{disablePast:a||s,minDate:h}),O=()=>{if(!(x.length===1||!m||s))if(x.length===2)m(x.find(P=>P!==g)||x[0]);else{const P=x.indexOf(g)!==0?0:1;m(x[P])}};if(x.length===1&&x[0]==="year")return null;const L=t;return o.jsxs(Jre,{ownerState:L,children:[o.jsxs(ese,{role:"presentation",onClick:O,ownerState:L,children:[o.jsx(dS,{reduceAnimations:b,transKey:_.format(r,"month"),children:o.jsx(oA,{"aria-live":"polite",ownerState:L,children:_.format(r,"month")})}),o.jsx(dS,{reduceAnimations:b,transKey:_.format(r,"year"),children:o.jsx(oA,{"aria-live":"polite",ownerState:L,children:_.format(r,"year")})}),x.length>1&&!s&&o.jsx(tse,Ge({size:"small",as:e.SwitchViewButton,"aria-label":l(g)},S,{children:o.jsx(nse,{as:e.SwitchViewIcon,ownerState:L})}))]}),o.jsx(RT,{in:g==="day",children:o.jsx(cR,{leftArrowButtonText:c,rightArrowButtonText:y,components:e,componentsProps:n,onLeftClick:D,onRightClick:T,isLeftDisabled:A,isRightDisabled:j})})]})}function ise(t){return Fs("PrivatePickersYear",t)}const lA=$r("PrivatePickersYear",["root","modeMobile","modeDesktop","yearButton","disabled","selected"]),ase=t=>{const{wrapperVariant:e,disabled:n,selected:r,classes:s}=t,i={root:["root",e&&`mode${fr(e)}`],yearButton:["yearButton",n&&"disabled",r&&"selected"]};return ni(i,ise,s)},ose=on("div")(({ownerState:t})=>Ge({flexBasis:"33.3%",display:"flex",alignItems:"center",justifyContent:"center"},(t==null?void 0:t.wrapperVariant)==="desktop"&&{flexBasis:"25%"})),lse=on("button")(({theme:t})=>Ge({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus, &:hover":{backgroundColor:pl(t.palette.action.active,t.palette.action.hoverOpacity)},[`&.${lA.disabled}`]:{color:t.palette.text.secondary},[`&.${lA.selected}`]:{color:t.palette.primary.contrastText,backgroundColor:t.palette.primary.main,"&:focus, &:hover":{backgroundColor:t.palette.primary.dark}}})),cse=w.forwardRef(function(e,n){const{autoFocus:r,className:s,children:i,disabled:a,onClick:l,onKeyDown:c,selected:u,value:h}=e,f=w.useRef(null),m=gc(f,n),g=w.useContext(d0),b=Ge({},e,{wrapperVariant:g}),y=ase(b);return w.useEffect(()=>{r&&f.current.focus()},[r]),o.jsx(ose,{className:Bn(y.root,s),ownerState:b,children:o.jsx(lse,{ref:m,disabled:a,type:"button",tabIndex:u?0:-1,onClick:x=>l(x,h),onKeyDown:x=>c(x,h),className:y.yearButton,ownerState:b,children:i})})}),mR=({date:t,disableFuture:e,disablePast:n,maxDate:r,minDate:s,shouldDisableDate:i,utils:a})=>{const l=a.startOfDay(a.date());n&&a.isBefore(s,l)&&(s=l),e&&a.isAfter(r,l)&&(r=l);let c=t,u=t;for(a.isBefore(t,s)&&(c=a.date(s),u=null),a.isAfter(t,r)&&(u&&(u=a.date(r)),c=null);c||u;){if(c&&a.isAfter(c,r)&&(c=null),u&&a.isBefore(u,s)&&(u=null),c){if(!i(c))return c;c=a.addDays(c,1)}if(u){if(!i(u))return u;u=a.addDays(u,-1)}}return l},use=(t,e)=>{const n=t.date(e);return t.isValid(n)?n:null};function dse(t){return Fs("MuiYearPicker",t)}$r("MuiYearPicker",["root"]);const hse=t=>{const{classes:e}=t;return ni({root:["root"]},dse,e)},fse=on("div",{name:"MuiYearPicker",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",margin:"0 4px"}),pse=w.forwardRef(function(e,n){const r=Bs({props:e,name:"MuiYearPicker"}),{autoFocus:s,className:i,date:a,disabled:l,disableFuture:c,disablePast:u,isDateDisabled:h,maxDate:f,minDate:m,onChange:g,onFocusedDayChange:b,onYearChange:y,readOnly:x,shouldDisableYear:_}=r,S=r,T=hse(S),D=c0(),j=l0(),A=ms(),O=a||D,L=A.getYear(O),P=w.useContext(d0),N=w.useRef(null),[U,M]=w.useState(L),q=(re,ee,Z="finish")=>{if(x)return;const K=W=>{g(W,Z),b&&b(W||D),y&&y(W)},F=A.setYear(O,ee);if(h(F)){const W=mR({utils:A,date:F,minDate:m,maxDate:f,disablePast:!!u,disableFuture:!!c,shouldDisableDate:h});K(W||D)}else K(F)},E=w.useCallback(re=>{h(A.setYear(O,re))||M(re)},[O,h,A]),G=P==="desktop"?4:3,Q=(re,ee)=>{switch(re.key){case"ArrowUp":E(ee-G),re.preventDefault();break;case"ArrowDown":E(ee+G),re.preventDefault();break;case"ArrowLeft":E(ee+(j.direction==="ltr"?-1:1)),re.preventDefault();break;case"ArrowRight":E(ee+(j.direction==="ltr"?1:-1)),re.preventDefault();break}};return o.jsx(fse,{ref:n,className:Bn(T.root,i),ownerState:S,children:A.getYearRange(m,f).map(re=>{const ee=A.getYear(re),Z=ee===L;return o.jsx(cse,{selected:Z,value:ee,onClick:q,onKeyDown:Q,autoFocus:s&&ee===U,ref:Z?N:void 0,disabled:l||u&&A.isBeforeYear(re,D)||c&&A.isAfterYear(re,D)||_&&_(re),children:A.format(re,"year")},A.format(re,"year"))})})}),mse=typeof navigator<"u"&&/(android)/i.test(navigator.userAgent),gse=t=>Fs("MuiCalendarPicker",t);$r("MuiCalendarPicker",["root","viewTransitionContainer"]);const yse=["autoFocus","onViewChange","date","disableFuture","disablePast","defaultCalendarMonth","loading","maxDate","minDate","onChange","onMonthChange","reduceAnimations","renderLoading","shouldDisableDate","shouldDisableYear","view","views","openTo","className"],bse=t=>{const{classes:e}=t;return ni({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},gse,e)},xse=on(BT,{name:"MuiCalendarPicker",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexDirection:"column"}),vse=on(dS,{name:"MuiCalendarPicker",slot:"ViewTransitionContainer",overridesResolver:(t,e)=>e.viewTransitionContainer})({overflowY:"auto"}),_se=w.forwardRef(function(e,n){const r=Bs({props:e,name:"MuiCalendarPicker"}),{autoFocus:s,onViewChange:i,date:a,disableFuture:l=!1,disablePast:c=!1,defaultCalendarMonth:u,loading:h=!1,maxDate:f,minDate:m,onChange:g,onMonthChange:b,reduceAnimations:y=mse,renderLoading:x=()=>o.jsx("span",{children:"..."}),shouldDisableDate:_,shouldDisableYear:S,view:T,views:D=["year","day"],openTo:j="day",className:A}=r,O=Pn(r,yse),L=ms(),P=UM(),N=m??P.minDate,U=f??P.maxDate,{openView:M,setOpenView:q}=FT({view:T,views:D,openTo:j,onChange:g,onViewChange:i}),{calendarState:E,changeFocusedDay:G,changeMonth:Q,isDateDisabled:re,handleChangeMonth:ee,onMonthSwitchingAnimationEnd:Z}=Are({date:a,defaultCalendarMonth:u,reduceAnimations:y,onMonthChange:b,minDate:N,maxDate:U,shouldDisableDate:_,disablePast:c,disableFuture:l});w.useEffect(()=>{if(a&&re(a)){const me=mR({utils:L,date:a,minDate:N,maxDate:U,disablePast:c,disableFuture:l,shouldDisableDate:re});g(me,"partial")}},[]),w.useEffect(()=>{a&&Q(a)},[a]);const K=r,F=bse(K),W={className:A,date:a,disabled:O.disabled,disablePast:c,disableFuture:l,onChange:g,minDate:N,maxDate:U,onMonthChange:b,readOnly:O.readOnly};return o.jsxs(xse,{ref:n,className:Bn(F.root,A),ownerState:K,children:[o.jsx(sse,Ge({},O,{views:D,openView:M,currentMonth:E.currentMonth,onViewChange:q,onMonthChange:(me,ne)=>ee({newMonth:me,direction:ne}),minDate:N,maxDate:U,disablePast:c,disableFuture:l,reduceAnimations:y})),o.jsx(vse,{reduceAnimations:y,className:F.viewTransitionContainer,transKey:M,ownerState:K,children:o.jsxs("div",{children:[M==="year"&&o.jsx(pse,Ge({},O,{autoFocus:s,date:a,onChange:g,minDate:N,maxDate:U,disableFuture:l,disablePast:c,isDateDisabled:re,shouldDisableYear:S,onFocusedDayChange:G})),M==="month"&&o.jsx(kre,Ge({},W)),M==="day"&&o.jsx(Zre,Ge({},O,E,{autoFocus:s,onMonthSwitchingAnimationEnd:Z,onFocusedDayChange:G,reduceAnimations:y,date:a,onChange:g,isDateDisabled:re,loading:h,renderLoading:x}))]})})]})}),wse=t=>{const[,e]=w.useReducer(c=>c+1,0),n=w.useRef(null),{replace:r,append:s}=t,i=r?r(t.format(t.value)):t.format(t.value),a=w.useRef(!1),l=c=>{const u=c.target.value;n.current=[u,c.target,u.length>i.length,a.current,i===t.format(u)],e()};return w.useLayoutEffect(()=>{if(n.current==null)return;let[c,u,h,f,m]=n.current;n.current=null;const g=f&&m,y=c.slice(u.selectionStart).search(t.accept||/\d/g),x=y!==-1?y:0,_=A=>(A.match(t.accept||/\d/g)||[]).join(""),S=_(c.substr(0,u.selectionStart)),T=A=>{let O=0,L=0;for(let P=0;P!==S.length;++P){let N=A.indexOf(S[P],O)+1,U=_(A).indexOf(S[P],L)+1;U-L>1&&(N=O,U=L),L=Math.max(U,L),O=Math.max(O,N)}return O};if(t.mask===!0&&h&&!m){let A=T(c);const O=_(c.substr(A))[0];A=c.indexOf(O,A),c=`${c.substr(0,A)}${c.substr(A+1)}`}let D=t.format(c);s!=null&&u.selectionStart===c.length&&!m&&(h?D=s(D):_(D.slice(-1))===""&&(D=D.slice(0,-1)));const j=r?r(D):D;return i===j?e():t.onChange(j),()=>{let A=T(D);if(t.mask!=null&&(h||f&&!g))for(;D[A]&&_(D[A])==="";)A+=1;u.selectionStart=u.selectionEnd=A+(g?1+x:0)}}),w.useEffect(()=>{const c=h=>{h.code==="Delete"&&(a.current=!0)},u=h=>{h.code==="Delete"&&(a.current=!1)};return document.addEventListener("keydown",c),document.addEventListener("keyup",u),()=>{document.removeEventListener("keydown",c),document.removeEventListener("keyup",u)}},[]),{value:n.current!=null?n.current[0]:i,onChange:l}};function Sse(t,e){return t&&e.isValid(e.date(t))?`Choose date, selected date is ${e.format(e.date(t),"fullDate")}`:"Choose date"}const Cse=(t,e,n)=>{const r=t.date(e);return e===null?"":t.isValid(r)?t.formatByString(r,n):""},hS="_",Tse="2019-11-21T22:30:00.000",kse="2019-01-01T09:00:00.000";function Ese(t,e,n,r){const i=r.formatByString(r.date(kse),e).replace(n,hS),l=r.formatByString(r.date(Tse),e).replace(n,"_")===t&&i===t;return!l&&r.lib,l}const jse=(t,e)=>n=>n.split("").map((r,s)=>{if(e.lastIndex=0,s>t.length-1)return"";const i=t[s],a=t[s+1],l=e.test(r)?r:"",c=i===hS?l:i+l;return s===n.length-1&&a&&a!==hS?c?c+a:"":c}).join(""),Nse=({acceptRegex:t=/[\d]/gi,disabled:e,disableMaskedInput:n,ignoreInvalidInputs:r,inputFormat:s,inputProps:i,label:a,mask:l,onChange:c,rawValue:u,readOnly:h,rifmFormatter:f,TextFieldProps:m,validationError:g})=>{const b=ms(),[y,x]=w.useState(!1),_=b.getFormatHelperText(s),S=w.useMemo(()=>!l||n?!1:Ese(l,s,t,b),[t,n,s,l,b]),T=w.useMemo(()=>S&&l?jse(l,t):q=>q,[t,l,S]),D=Cse(b,u,s),[j,A]=w.useState(D),O=w.useRef(D);w.useEffect(()=>{O.current=D},[D]);const L=!y,P=O.current!==D;L&&P&&(u===null||b.isValid(u))&&D!==j&&A(D);const N=q=>{const E=q===""||q===l?"":q;A(E);const G=E===null?null:b.parse(E,s);r&&!b.isValid(G)||c(G,E||void 0)},U=wse({value:j,onChange:N,format:f||T});return Ge({label:a,disabled:e,error:g,inputProps:Ge({},S?U:{value:j,onChange:q=>{N(q.currentTarget.value)}},{disabled:e,placeholder:_,readOnly:h,type:S?"tel":"text"},i,{onFocus:nA(()=>{x(!0)},i==null?void 0:i.onFocus),onBlur:nA(()=>{x(!1)},i==null?void 0:i.onBlur)})},m)},Dse=["components","disableOpenPicker","getOpenDialogAriaText","InputAdornmentProps","InputProps","inputRef","openPicker","OpenPickerButtonProps","renderInput"],Ase=w.forwardRef(function(e,n){const{components:r={},disableOpenPicker:s,getOpenDialogAriaText:i=Sse,InputAdornmentProps:a,InputProps:l,inputRef:c,openPicker:u,OpenPickerButtonProps:h,renderInput:f}=e,m=Pn(e,Dse),g=ms(),b=Nse(m),y=(a==null?void 0:a.position)||"end",x=r.OpenPickerIcon||tR;return f(Ge({ref:n,inputRef:c},b,{InputProps:Ge({},l,{[`${y}Adornment`]:s?void 0:o.jsx(mne,Ge({position:y},a,{children:o.jsx(gp,Ge({edge:y,disabled:m.disabled||m.readOnly,"aria-label":i(m.rawValue,g)},h,{onClick:u,children:o.jsx(x,{})}))}))})}))});function cA(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}const Pse=(t,e)=>{const[n,r]=w.useState(cA);return zf(()=>{const i=()=>{r(cA())};return window.addEventListener("orientationchange",i),()=>{window.removeEventListener("orientationchange",i)}},[]),sR(t,["hours","minutes","seconds"])?!1:(e||n)==="landscape"},Ise=["autoFocus","className","date","DateInputProps","isMobileKeyboardViewOpen","onDateChange","onViewChange","openTo","orientation","showToolbar","toggleMobileKeyboardView","ToolbarComponent","toolbarFormat","toolbarPlaceholder","toolbarTitle","views"],Ose=on("div")({padding:"16px 24px"}),Mse=on("div")(({ownerState:t})=>Ge({display:"flex",flexDirection:"column"},t.isLandscape&&{flexDirection:"row"})),Rse={fullWidth:!0},uA=t=>t==="year"||t==="month"||t==="day",dA=t=>t==="hours"||t==="minutes"||t==="seconds";function Lse(t){const{autoFocus:e,date:n,DateInputProps:r,isMobileKeyboardViewOpen:s,onDateChange:i,onViewChange:a,openTo:l,orientation:c,showToolbar:u,toggleMobileKeyboardView:h,ToolbarComponent:f=()=>null,toolbarFormat:m,toolbarPlaceholder:g,toolbarTitle:b,views:y}=t,x=Pn(t,Ise),_=Pse(y,c),S=w.useContext(d0),T=typeof u>"u"?S!=="desktop":u,D=w.useCallback((P,N)=>{i(P,S,N)},[i,S]),j=w.useCallback(P=>{s&&h(),a&&a(P)},[s,a,h]),{openView:A,setOpenView:O,handleChangeAndOpenNext:L}=FT({view:void 0,views:y,openTo:l,onChange:D,onViewChange:j});return o.jsxs(Mse,{ownerState:{isLandscape:_},children:[T&&o.jsx(f,Ge({},x,{views:y,isLandscape:_,date:n,onChange:D,setOpenView:O,openView:A,toolbarTitle:b,toolbarFormat:m,toolbarPlaceholder:g,isMobileKeyboardViewOpen:s,toggleMobileKeyboardView:h})),o.jsx(BT,{children:s?o.jsx(Ose,{children:o.jsx(Ase,Ge({},r,{ignoreInvalidInputs:!0,disableOpenPicker:!0,TextFieldProps:Rse}))}):o.jsxs(w.Fragment,{children:[uA(A)&&o.jsx(_se,Ge({autoFocus:e,date:n,onViewChange:O,onChange:L,view:A,views:y.filter(uA)},x)),dA(A)&&o.jsx(bre,Ge({},x,{autoFocus:e,date:n,view:A,views:y.filter(dA),onChange:L,onViewChange:O,showViewSwitcher:S==="desktop"}))]})})]})}const Fse=({open:t,onOpen:e,onClose:n})=>{const r=w.useRef(typeof t=="boolean").current,[s,i]=w.useState(!1);w.useEffect(()=>{if(r){if(typeof t!="boolean")throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");i(t)}},[r,t]);const a=w.useCallback(l=>{r||i(l),l&&e&&e(),!l&&n&&n()},[r,e,n]);return{isOpen:s,setIsOpen:a}},Bse=(t,e)=>{const{disableCloseOnSelect:n,onAccept:r,onChange:s,value:i}=t,a=ms(),{isOpen:l,setIsOpen:c}=Fse(t);function u(P){return{committed:P,draft:P}}const h=w.useMemo(()=>e.parseInput(a,i),[e,a,i]),[f,m]=w.useState(h);w.useEffect(()=>{h!=null&&m(h)},[h]);const[g,b]=w.useReducer((P,N)=>{switch(N.type){case"reset":return u(N.payload);case"update":return Ge({},P,{draft:N.payload});default:return P}},h,u);e.areValuesEqual(a,g.committed,h)||b({type:"reset",payload:h});const[y,x]=w.useState(g.committed),[_,S]=w.useState(!1),T=w.useCallback((P,N)=>{s(P),N&&(c(!1),x(P),r&&r(P))},[r,s,c]),D=w.useMemo(()=>({open:l,onClear:()=>T(e.emptyValue,!0),onAccept:()=>T(g.draft,!0),onDismiss:()=>T(y,!0),onSetToday:()=>{const P=a.date();b({type:"update",payload:P}),T(P,!n)}}),[T,n,l,a,g.draft,e.emptyValue,y]),j=w.useMemo(()=>({date:g.draft,isMobileKeyboardViewOpen:_,toggleMobileKeyboardView:()=>S(!_),onDateChange:(P,N,U="partial")=>{b({type:"update",payload:P}),U==="partial"&&T(P,!1),U==="finish"&&T(P,!(n??N==="mobile"))}}),[T,n,_,g.draft]),A=w.useCallback((P,N)=>{const U=e.valueReducer?e.valueReducer(a,f,P):P;s(U,N)},[s,e,f,a]),O=w.useMemo(()=>({onChange:A,open:l,rawValue:i,openPicker:()=>c(!0)}),[A,l,i,c]),L={pickerProps:j,inputProps:O,wrapperProps:D};return w.useDebugValue(L,()=>({MuiPickerState:{pickerDraft:g,other:L}})),L},$se=["ToolbarComponent","value","onChange","displayStaticWrapperAs"],zse={emptyValue:null,parseInput:use,areValuesEqual:(t,e,n)=>t.isEqual(e,n)},gR=w.forwardRef(function(e,n){const r=bee(e,"MuiStaticDatePicker"),s=Nre(r)!==null,{pickerProps:i,inputProps:a}=Bse(r,zse),{ToolbarComponent:l=Nne,displayStaticWrapperAs:c="mobile"}=r,u=Pn(r,$se),h=Ge({},a,u,{ref:n,validationError:s});return o.jsx(Mne,{displayStaticWrapperAs:c,children:o.jsx(Lse,Ge({},i,{toolbarTitle:r.label||r.toolbarTitle,ToolbarComponent:l,DateInputProps:h},u))})});function Use(){var f;const[t,e]=w.useState(null),[n,r]=w.useState(!1),[s,i]=w.useState([]),[a,l]=w.useState(!1),c=vt();w.useEffect(()=>{const m=async()=>{try{const b=await c.get(`${ua}events/`);i(b.data)}catch{console.error(" ")}},g=()=>{const b=localStorage.getItem("darkMode")==="true"||window.matchMedia("(prefers-color-scheme: dark)").matches;l(b)};m(),g()},[]);const u=m=>{const g=Cl(m).format("YYYY-MM-DD"),b=s.filter(y=>y.event_date===g);e({date:g,events:b}),r(!0)},h=()=>{r(!1)};return o.jsxs(bM,{dateAdapter:gM,children:[o.jsx(gR,{displayStaticWrapperAs:"desktop",value:(t==null?void 0:t.date)||null,onChange:m=>u(m),renderInput:m=>o.jsx("div",{...m}),renderDay:(m,g,b)=>{const y=m.format("YYYY-MM-DD"),x=m.isSame(Cl(),"day"),_=s.some(M=>M.event_date===y),S=b.outsideCurrentMonth,{isAnimating:T,allowSameDateSelection:D,outsideCurrentMonth:j,disableHighlightToday:A,showDaysOutsideCurrentMonth:O,onDayFocus:L,onDaySelect:P,today:N,...U}=b;return w.createElement("div",{...U,key:y,style:{...b.style,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:_?"#940303":void 0,color:_?"white":S?"#d3d3d3":void 0,border:x?"2px solid #032794":void 0,borderRadius:"50%",width:"36px",height:"36px",margin:"auto",cursor:"pointer"},onClick:()=>u(m)},m.date())}}),o.jsx(JM,{open:n,onClose:h,children:o.jsxs(QM,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:a?"#333":"background.paper",boxShadow:24,p:4,borderRadius:"8px"},children:[o.jsxs("h3",{style:{textAlign:"center"},children:["Schedule for ",(t==null?void 0:t.date)||""]}),((f=t==null?void 0:t.events)==null?void 0:f.length)>0?o.jsx("ul",{children:t.events.map((m,g)=>o.jsxs("li",{style:{marginBottom:"10px"},children:[o.jsx("strong",{children:m.name})," - ",m.event_time," ",o.jsx("br",{}),"Platform: ",m.platform," ",o.jsx("br",{}),o.jsx("a",{href:m.invite_link,target:"_blank",rel:"noopener noreferrer",children:"Join Event"})]},m.id||g))}):o.jsx("p",{style:{textAlign:"center"},children:"No events for this day."})]})})]})}const yR=()=>{const[t,e]=w.useState(!1);return w.useEffect(()=>{(async()=>{try{const r=await vt().get("/user/appearance-settings/");if(r.data&&r.data.dark_mode!==void 0){e(r.data.dark_mode);return}}catch{}try{const r=localStorage.getItem("appearanceSettings");if(r){const s=JSON.parse(r);e(s.darkMode)}}catch(r){console.error("Error loading appearance settings from localStorage:",r)}})()},[]),o.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:t?"#121212":"rgb(255, 255, 255)"},children:[o.jsxs("svg",{className:"pl",viewBox:"0 0 200 200",width:"200",height:"200",xmlns:"http://www.w3.org/2000/svg",children:[o.jsxs("defs",{children:[o.jsxs("linearGradient",{id:"pl-grad1",x1:"1",y1:"0.5",x2:"0",y2:"0.5",children:[o.jsx("stop",{offset:"0%",stopColor:"red"}),o.jsx("stop",{offset:"100%",stopColor:"blue"})]}),o.jsxs("linearGradient",{id:"pl-grad2",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"0%",stopColor:"red"}),o.jsx("stop",{offset:"100%",stopColor:"blue"})]})]}),o.jsx("circle",{className:"pl__ring",cx:"100",cy:"100",r:"82",fill:"none",stroke:"url(#pl-grad1)",strokeWidth:"36",strokeDasharray:"0 257 1 257",strokeDashoffset:"0.01",strokeLinecap:"round",transform:"rotate(-90,100,100)"}),o.jsx("line",{className:"pl__ball",stroke:"url(#pl-grad2)",x1:"100",y1:"18",x2:"100.01",y2:"182",strokeWidth:"36",strokeDasharray:"1 165",strokeLinecap:"round"})]}),o.jsx("style",{children:`
          .pl__ring, .pl__ball {
            animation: ring 2s ease-out infinite;
          }
          .pl__ball {
            animation-name: ball;
          }
          @keyframes ring {
            from {
              stroke-dasharray: 0 257 0 0 1 0 0 258;
            }
            25% {
              stroke-dasharray: 0 0 0 0 257 0 258 0;
            }
            50%, to {
              stroke-dasharray: 0 0 0 0 0 515 0 0;
            }
          }
          @keyframes ball {
            from, 50% {
              animation-timing-function: ease-in;
              stroke-dashoffset: 1;
            }
            64% {
              animation-timing-function: ease-in;
              stroke-dashoffset: -109;
            }
            78% {
              animation-timing-function: ease-in;
              stroke-dashoffset: -145;
            }
            92% {
              animation-timing-function: ease-in;
              stroke-dashoffset: -157;
            }
            57%, 71%, 85%, 99%, to {
              animation-timing-function: ease-out;
              stroke-dashoffset: -163;
            }
          }
        `})]})},Hse=[{label:"Courses",icon:o.jsx("i",{className:"bi bi-book"}),path:"/student/courses"},{label:"Quizzes",icon:o.jsx("i",{className:"bi bi-question-circle"}),path:"/student/quiz"},{label:"Home",icon:o.jsx("i",{className:"bi bi-house"}),path:"/student/dashboard"},{label:"Messages",icon:o.jsx("i",{className:"bi bi-chat-dots"}),path:"/student/messages"}],Wse=t=>{Cn.remove("access_token"),Cn.remove("refresh_token"),t("/")},Vse=[{label:"Assignments",icon:o.jsx("i",{className:"bi bi-pencil"}),path:"/student/assignments"},{label:"Settings",icon:o.jsx("i",{className:"bi bi-gear"}),path:"/student/settings"},{label:"Logout",icon:o.jsx("i",{className:"bi bi-box-arrow-right"}),action:"logout"}];function Su(){const t=Po(),e=mr(),[n,r]=w.useState(!1),s=w.useRef();w.useEffect(()=>{function a(l){n&&s.current&&!s.current.contains(l.target)&&r(!1)}return n&&document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[n]);const i=(a,l="mobile-nav-btn",c=!0)=>a.map(u=>{const h=t.pathname.startsWith(u.path);return o.jsxs("button",{onClick:()=>{u.action==="logout"?Wse(e):u.path&&(c&&r(!1),e(u.path))},className:`${l}${h?" active":""}`,"aria-label":u.label,type:"button",children:[o.jsx("span",{className:"mobile-nav-icon",children:u.icon}),o.jsx("span",{className:"mobile-nav-label",children:u.label})]},u.path||u.label)});return o.jsxs(o.Fragment,{children:[o.jsx("nav",{className:"mobile-nav-bar",children:o.jsxs("div",{className:"mobile-nav-scroll",children:[i(Hse),o.jsxs("button",{className:`mobile-nav-btn${n?" active":""}`,"aria-label":"More",type:"button",onClick:()=>r(!0),children:[o.jsx("span",{className:"mobile-nav-icon",children:o.jsx("i",{className:"bi bi-three-dots"})}),o.jsx("span",{className:"mobile-nav-label",children:"More"})]})]})}),o.jsx("div",{ref:s,className:`mobile-nav-slide-menu${n?" open":""}`,children:o.jsxs("div",{className:"mobile-nav-slide-content",children:[i(Vse,"mobile-nav-btn",!0),o.jsxs("button",{className:"mobile-nav-btn","aria-label":"Back",type:"button",onClick:()=>r(!1),children:[o.jsx("span",{className:"mobile-nav-icon",children:o.jsx("i",{className:"bi bi-chevron-left"})}),o.jsx("span",{className:"mobile-nav-label",children:"Back"})]})]})}),o.jsx("style",{children:`
        .mobile-nav-bar {
          position: fixed;
          left: 0;
          bottom: 0;
          width: 100vw;
          height: 64px;
          background: #232323;
          border-top: 1.5px solid #23272f;
          display: flex;
          justify-content: center;
          align-items: center;
          z-index: 2000;
          box-shadow: 0 -2px 16px rgba(0,0,0,0.10);
          border-radius: 18px 18px 0 0;
          padding: 0;
          overflow: hidden;
        }
        .mobile-nav-scroll {
          display: flex;
          flex-direction: row;
          width: 100vw;
          height: 100%;
          justify-content: space-evenly;
        }
        .mobile-nav-btn {
          background: none!important;
          border: none;
          outline: none;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          color: #bdbdbd;
          font-size: 13px;
          font-weight: 500;
          min-width: 64px;
          height: 100%;
          transition: color 0.18s;
          position: relative;
          cursor: pointer;
          padding: 0 12px;
          border-radius: 10px;
        }
        .mobile-nav-btn.active {
          color: #4F8CFF;
          font-weight: 700;
        }
        .mobile-nav-btn.active .mobile-nav-icon {
          color: #4F8CFF;
        }
        .mobile-nav-btn:active {
          background: #232323;
        }
        .mobile-nav-icon {
          font-size: 20px;
          margin-bottom: 2px;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: color 0.18s;
        }
        .mobile-nav-label {
          font-size: 11px;
          margin-top: 1px;
          letter-spacing: 0.1em;
        }
        /* Slide-in More Menu */
        .mobile-nav-slide-menu {
          position: fixed;
          right: 0;
          bottom: 0;
          width: 100vw;
          height: 64px;
          background: #232323;
          border-top: 1.5px solid #23272f;
          border-radius: 18px 18px 0 0;
          z-index: 2101;
          display: flex;
          align-items: center;
          pointer-events: none;
          transform: translateX(100%);
          transition: transform 0.35s cubic-bezier(.77,0,.18,1);
          overflow: hidden;
        }
        .mobile-nav-slide-menu.open {
          transform: translateX(0%);
          pointer-events: auto;
        }
        .mobile-nav-slide-content {
          display: flex;
          flex-direction: row;
          width: 100vw;
          height: 100%;
          justify-content: space-evenly;
          align-items: center;
        }
        /* Overlay removed */
        @media (min-width: 700px) {
          .mobile-nav-bar, .mobile-nav-slide-menu {
            display: none !important;
          }
        }
      `})]})}r0.register(zb,Ub,Km,hf,oM,cM,iM,df);function qse(){const[t,e]=w.useState(!0),[n,r]=w.useState({}),[s,i]=w.useState([]),[a,l]=w.useState(null),[c,u]=w.useState(!1),[h,f]=w.useState(!1),[m,g]=w.useState([]),[b,y]=w.useState(!0),[x,_]=w.useState(!1),[S,T]=w.useState(!1),[D,j]=w.useState([]),[A,O]=w.useState(!1),L=w.useRef(null),P=w.useRef(null),N=mr(),[U,M]=w.useState(window.innerWidth<700);w.useEffect(()=>{const ne=()=>M(window.innerWidth<700);return window.addEventListener("resize",ne),()=>window.removeEventListener("resize",ne)},[]);const q=()=>{e(!t)},E=async()=>{try{const ne=await vt().get("/user/appearance-settings/");ne.data&&ne.data.dark_mode!==void 0&&T(ne.data.dark_mode)}catch{}},G=()=>{const ne=["January","February","March","April","May","June","July","August","September","October","November","December"],we=new Date().getMonth();return[ne[(we+10)%12],ne[(we+11)%12],ne[we]]},Q=async()=>{var ne;try{const ge=await vt().get(`user/profile/${(ne=Vt())==null?void 0:ne.user_id}/`);l(ge.data)}catch(ge){console.error("Error fetching profile:",ge),ge.response&&ge.response.status===401&&N("/")}},re=async()=>{var ge;const ne=(ge=Vt())==null?void 0:ge.user_id;if(!ne){N("/");return}try{const we=await vt().get(`student/summary/${ne}/`);if(!we.data||we.data.length===0)return;const je=we.data[0],Re=je.months||[],ke=["January","February","March","April","May","June","July","August","September","October","November","December"],We=Re.map(Je=>ke[Je-1]);r({total_courses:(je==null?void 0:je.total_courses)||0,incomplete_lectures:(je==null?void 0:je.incomplete_lectures)||0,pending_assignments:(je==null?void 0:je.pending_assignments)||0,available_quizzes:(je==null?void 0:je.available_quizzes)||0,monthly_quiz_activity:(je==null?void 0:je.monthly_quiz_activity)||[0,0,0],monthly_assignment_activity:(je==null?void 0:je.monthly_assignment_activity)||[0,0,0],monthly_lecture_activity:(je==null?void 0:je.monthly_lecture_activity)||[0,0,0],months:We.length===3?We:G(),daily_quiz_count:(je==null?void 0:je.daily_quiz_count)||0,daily_assignment_count:(je==null?void 0:je.daily_assignment_count)||0,daily_lecture_count:(je==null?void 0:je.daily_lecture_count)||0,daily_other_count:(je==null?void 0:je.daily_other_count)||0});try{const Je=await vt().get(`notifications/user/${ne}/`);g(Je.data)}catch{}}catch{}},ee=async()=>{_(!0),await Q(),_(!1)};if(w.useEffect(()=>{(async()=>{if(sessionStorage.getItem("refreshed_student_dashboard"))sessionStorage.removeItem("refreshed_student_dashboard"),O(!0),setTimeout(()=>{O(!1)},3e3);else{const ke=`visited_${"/student/dashboard/".replace(/\//g,"_")}`;sessionStorage.getItem(ke)==="true"&&sessionStorage.setItem("refreshed_student_dashboard","true")}await Q(),await re(),await E();const je=setTimeout(()=>{y(!1)},3e3);return()=>clearTimeout(je)})();const ge=we=>{L.current&&!L.current.contains(we.target)&&P.current&&!P.current.contains(we.target)&&(u(!1),f(!1))};return document.addEventListener("mousedown",ge),()=>{document.removeEventListener("mousedown",ge)}},[]),w.useEffect(()=>{a||ee()},[a]),b)return o.jsx(yR,{});if(x)return o.jsx("p",{children:"Refreshing user data..."});const Z=ne=>{ne.format("YYYY-MM-DD")},K={labels:n.months||G(),datasets:[{label:"Quiz Activity",data:n.monthly_quiz_activity||[],borderColor:"#6a5acd",backgroundColor:"rgba(106, 90, 205, 0.1)",tension:.4,fill:!0},{label:"Assignment Activity",data:n.monthly_assignment_activity||[],borderColor:"#ff6347",backgroundColor:"rgba(255, 99, 71, 0.1)",tension:.4,fill:!0},{label:"Lecture Activity",data:n.monthly_lecture_activity||[],borderColor:"#4bc0c0",backgroundColor:"rgba(75, 192, 192, 0.1)",tension:.4,fill:!0}]},F={responsive:!0,plugins:{legend:{display:!0,position:"top",labels:{boxWidth:12,font:{size:10},color:S?"#f0f0f0":"#666"}},tooltip:{callbacks:{label:ne=>`${ne.dataset.label}: ${ne.raw} items`}}},scales:{x:{grid:{display:!1},ticks:{color:S?"#f0f0f0":"#666"}},y:{beginAtZero:!0,grid:{color:S?"#444":"#f0f0f0"},ticks:{color:S?"#f0f0f0":"#666"}}}},W={labels:["Quizzes","Assignments","Lectures","Other"],datasets:[{data:[n.daily_quiz_count||0,n.daily_assignment_count||0,n.daily_lecture_count||0,n.daily_other_count||0],backgroundColor:["#6a5acd","#ff6347","#4bc0c0","#e0e0e0"],hoverBackgroundColor:["#483d8b","#d53f31","#3da8a8","#c3c3c3"]}]},me={responsive:!0,plugins:{legend:{display:!0,position:"right",labels:{boxWidth:12,font:{size:10},color:S?"#f0f0f0":"#666"}},tooltip:{callbacks:{label:ne=>{const ge=ne.label,we=ne.raw,je=ne.dataset.data.reduce((ke,We)=>ke+We,0),Re=je>0?Math.round(we/je*100):0;return`${ge}: ${we} (${Re}%)`}}}},cutout:"70%"};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{style:{display:"flex",minHeight:"100vh"},children:[!U&&o.jsx(Sc,{sidebarCollapsed:t}),o.jsxs("div",{style:{flex:1,marginLeft:U?0:t?"80px":"270px",transition:"margin-left 0.3s ease"},children:["          ",o.jsx(Yi,{sidebarCollapsed:t,toggleSidebar:q}),A&&o.jsx("div",{style:{position:"fixed",top:"70px",right:"20px",backgroundColor:"#4CAF50",color:"white",padding:"10px 15px",borderRadius:"4px",boxShadow:"0 2px 5px rgba(0,0,0,0.2)",zIndex:1e3,animation:"fadeIn 0.5s, fadeOut 0.5s 2.5s forwards"},children:"Dashboard refreshed with the latest data"}),o.jsx("div",{style:{padding:"20px"},children:o.jsxs("div",{className:"row mb-2",children:[o.jsxs("div",{className:"col-md-8",children:[o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-md-3",children:o.jsx("div",{className:"card shadow-sm text-center",style:{backgroundColor:S?"#333":"#e9ecef",color:S?"white":"black",border:"none",transition:"background-color 0.3s ease"},onMouseEnter:ne=>{const ge=Math.random()>.5?"#8c0101":"#034287";ne.currentTarget.style.backgroundColor=ge,ne.currentTarget.style.color="white"},onMouseLeave:ne=>{ne.currentTarget.style.backgroundColor=S?"#333":"#e9ecef",ne.currentTarget.style.color=S?"white":"black"},children:o.jsxs("div",{className:"card-body",style:{padding:"10px"},children:[o.jsx("h6",{children:"Enrolled Courses"}),o.jsx("p",{className:"display-6",children:n.total_courses||0})]})})}),o.jsx("div",{className:"col-md-3",children:o.jsx("div",{className:"card shadow-sm text-center",style:{backgroundColor:S?"#333":"#e9ecef",color:S?"white":"black",border:"none",transition:"background-color 0.3s ease"},onMouseEnter:ne=>{const ge=Math.random()>.5?"#8c0101":"#034287";ne.currentTarget.style.backgroundColor=ge,ne.currentTarget.style.color="white"},onMouseLeave:ne=>{ne.currentTarget.style.backgroundColor=S?"#333":"#e9ecef",ne.currentTarget.style.color=S?"white":"black"},children:o.jsxs("div",{className:"card-body",style:{padding:"10px"},children:[o.jsx("h6",{children:"Incomplete Lectures"}),o.jsx("p",{className:"display-6",children:n.incomplete_lectures||0})]})})}),o.jsx("div",{className:"col-md-3",children:o.jsx("div",{className:"card shadow-sm text-center",style:{backgroundColor:S?"#333":"#e9ecef",color:S?"white":"black",border:"none",transition:"background-color 0.3s ease"},onMouseEnter:ne=>{const ge=Math.random()>.5?"#8c0101":"#034287";ne.currentTarget.style.backgroundColor=ge,ne.currentTarget.style.color="white"},onMouseLeave:ne=>{ne.currentTarget.style.backgroundColor=S?"#333":"#e9ecef",ne.currentTarget.style.color=S?"white":"black"},children:o.jsxs("div",{className:"card-body",style:{padding:"10px"},children:[o.jsx("h6",{children:"Pending Assignments"}),o.jsx("p",{className:"display-6",children:n.pending_assignments||0})]})})}),o.jsx("div",{className:"col-md-3",children:o.jsx("div",{className:"card shadow-sm text-center",style:{backgroundColor:S?"#333":"#e9ecef",color:S?"white":"black",border:"none",transition:"background-color 0.3s ease"},onMouseEnter:ne=>{const ge=Math.random()>.5?"#8c0101":"#034287";ne.currentTarget.style.backgroundColor=ge,ne.currentTarget.style.color="white"},onMouseLeave:ne=>{ne.currentTarget.style.backgroundColor=S?"#333":"#e9ecef",ne.currentTarget.style.color=S?"white":"black"},children:o.jsxs("div",{className:"card-body",style:{padding:"10px"},children:[o.jsx("h6",{children:"Available Quizzes"}),o.jsx("p",{className:"display-6",children:n.available_quizzes||0})]})})})]}),o.jsxs("div",{className:"row mt-2",children:[o.jsx("div",{className:"col-md-8",children:o.jsx("div",{className:"card shadow-sm",children:o.jsxs("div",{className:"card-body",style:{padding:"10px",backgroundColor:S?"#333":"#fff",color:S?"#f0f0f0":"#333"},children:[o.jsx("h5",{children:"Monthly Course Activity"}),o.jsx(pM,{data:K,options:F})]})})}),o.jsx("div",{className:"col-md-4",children:o.jsx("div",{className:"card shadow-sm",children:o.jsxs("div",{className:"card-body",style:{padding:"10px",backgroundColor:S?"#333":"#fff",color:S?"#f0f0f0":"#333"},children:[o.jsx("h5",{children:"Daily Activity Breakdown"}),o.jsx(mM,{data:W,options:me})]})})})]})]}),o.jsx("div",{className:"col-md-3",children:o.jsx("div",{className:"card shadow-sm",children:o.jsxs("div",{className:"card-body",style:{padding:"10px",display:"flex",justifyContent:"center",alignItems:"flex-start",height:"100%",flexDirection:"column"},children:[o.jsx("h5",{style:{textAlign:"center",marginBottom:"10px"},children:"Event Calander"}),o.jsx(Use,{renderDay:(ne,ge,we)=>{const je=ne.format("YYYY-MM-DD"),Re=ne.isSame(Cl(),"day"),ke=D.some(ct=>ct.event_date===je),We=we.outsideCurrentMonth,{today:Je,...nt}=we;return w.createElement("div",{...nt,key:je,style:{...we.style,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:ke?"#ffcccc":void 0,color:We?"#d3d3d3":void 0,border:Re?"2px solid #032794":void 0,borderRadius:"50%",width:"36px",height:"36px",margin:"auto",cursor:"pointer"},onClick:()=>Z(ne)},ne.date())}})]})})})]})})]})]}),U&&o.jsx(Su,{})]})}var ew={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var hA;function Yse(){return hA||(hA=1,function(t){(function(){var e={}.hasOwnProperty;function n(){for(var i="",a=0;a<arguments.length;a++){var l=arguments[a];l&&(i=s(i,r(l)))}return i}function r(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return n.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var a="";for(var l in i)e.call(i,l)&&i[l]&&(a=s(a,l));return a}function s(i,a){return a?i?i+" "+a:i+a:i}t.exports?(n.default=n,t.exports=n):window.classNames=n})()}(ew)),ew.exports}var Gse=Yse();const gn=Jr(Gse);function fA(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function Kse(t){var e=Xse(t,"string");return typeof e=="symbol"?e:String(e)}function Xse(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Qse(t,e,n){var r=w.useRef(t!==void 0),s=w.useState(e),i=s[0],a=s[1],l=t!==void 0,c=r.current;return r.current=l,!l&&c&&i!==e&&a(e),[l?t:i,w.useCallback(function(u){for(var h=arguments.length,f=new Array(h>1?h-1:0),m=1;m<h;m++)f[m-1]=arguments[m];n&&n.apply(void 0,[u].concat(f)),a(u)},[n])]}function $T(t,e){return Object.keys(e).reduce(function(n,r){var s,i=n,a=i[fA(r)],l=i[r],c=Pn(i,[fA(r),r].map(Kse)),u=e[r],h=Qse(l,a,t[u]),f=h[0],m=h[1];return Ge({},c,(s={},s[r]=f,s[u]=m,s))},t)}const Zse=["xxl","xl","lg","md","sm","xs"],Jse="xs",h0=w.createContext({prefixes:{},breakpoints:Zse,minBreakpoint:Jse}),{Consumer:H_e,Provider:W_e}=h0;function Tn(t,e){const{prefixes:n}=w.useContext(h0);return t||n[e]||e}function bR(){const{breakpoints:t}=w.useContext(h0);return t}function xR(){const{minBreakpoint:t}=w.useContext(h0);return t}function eie(){const{dir:t}=w.useContext(h0);return t==="rtl"}function wv(t){return t&&t.ownerDocument||document}function tie(t){var e=wv(t);return e&&e.defaultView||window}function nie(t,e){return tie(t).getComputedStyle(t,e)}var rie=/([A-Z])/g;function sie(t){return t.replace(rie,"-$1").toLowerCase()}var iie=/^ms-/;function Iy(t){return sie(t).replace(iie,"-ms-")}var aie=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function oie(t){return!!(t&&aie.test(t))}function Bd(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(Iy(e))||nie(t).getPropertyValue(Iy(e));Object.keys(e).forEach(function(s){var i=e[s];!i&&i!==0?t.style.removeProperty(Iy(s)):oie(s)?r+=s+"("+i+") ":n+=Iy(s)+": "+i+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}function lie(t){return t.code==="Escape"||t.keyCode===27}function cie(){const t=w.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}function Sv(t){if(!t||typeof t=="function")return null;const{major:e}=cie();return e>=19?t.props.ref:t.ref}const yp=!!(typeof window<"u"&&window.document&&window.document.createElement);var fS=!1,pS=!1;try{var tw={get passive(){return fS=!0},get once(){return pS=fS=!0}};yp&&(window.addEventListener("test",tw,tw),window.removeEventListener("test",tw,!0))}catch{}function vR(t,e,n,r){if(r&&typeof r!="boolean"&&!pS){var s=r.once,i=r.capture,a=n;!pS&&s&&(a=n.__once||function l(c){this.removeEventListener(e,l,i),n.call(this,c)},n.__once=a),t.addEventListener(e,a,fS?r:i)}t.addEventListener(e,n,r)}function mS(t,e,n,r){var s=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,s),n.__once&&t.removeEventListener(e,n.__once,s)}function Kb(t,e,n,r){return vR(t,e,n,r),function(){mS(t,e,n,r)}}function uie(t,e,n,r){if(r===void 0&&(r=!0),t){var s=document.createEvent("HTMLEvents");s.initEvent(e,n,r),t.dispatchEvent(s)}}function die(t){var e=Bd(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function hie(t,e,n){n===void 0&&(n=5);var r=!1,s=setTimeout(function(){r||uie(t,"transitionend",!0)},e+n),i=Kb(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(s),i()}}function _R(t,e,n,r){n==null&&(n=die(t)||0);var s=hie(t,n,r),i=Kb(t,"transitionend",e);return function(){s(),i()}}function pA(t,e){const n=Bd(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function fie(t,e){const n=pA(t,"transitionDuration"),r=pA(t,"transitionDelay"),s=_R(t,i=>{i.target===t&&(s(),e(i))},n+r)}function pie(t){t.offsetHeight}const mA=t=>!t||typeof t=="function"?t:e=>{t.current=e};function mie(t,e){const n=mA(t),r=mA(e);return s=>{n&&n(s),r&&r(s)}}function wR(t,e){return w.useMemo(()=>mie(t,e),[t,e])}function gie(t){return t&&"setState"in t?Nd.findDOMNode(t):t??null}const SR=nn.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:s,onExited:i,addEndListener:a,children:l,childRef:c,...u},h)=>{const f=w.useRef(null),m=wR(f,c),g=A=>{m(gie(A))},b=A=>O=>{A&&f.current&&A(f.current,O)},y=w.useCallback(b(t),[t]),x=w.useCallback(b(e),[e]),_=w.useCallback(b(n),[n]),S=w.useCallback(b(r),[r]),T=w.useCallback(b(s),[s]),D=w.useCallback(b(i),[i]),j=w.useCallback(b(a),[a]);return o.jsx(Mo,{ref:h,...u,onEnter:y,onEntered:_,onEntering:x,onExit:S,onExited:D,onExiting:T,addEndListener:j,nodeRef:f,children:typeof l=="function"?(A,O)=>l(A,{...O,ref:g}):nn.cloneElement(l,{ref:g})})});SR.displayName="TransitionWrapper";function yie(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t},[t]),e}function Xb(t){const e=yie(t);return w.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const Cv=t=>w.forwardRef((e,n)=>o.jsx("div",{...e,ref:n,className:gn(e.className,t)})),CR=Cv("h4");CR.displayName="DivStyledAsH4";const TR=w.forwardRef(({className:t,bsPrefix:e,as:n=CR,...r},s)=>(e=Tn(e,"alert-heading"),o.jsx(n,{ref:s,className:gn(t,e),...r})));TR.displayName="AlertHeading";function bie(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t},[t]),e}function nc(t){const e=bie(t);return w.useCallback(function(...n){return e.current&&e.current(...n)},[e])}function xie(){const t=w.useRef(!0),e=w.useRef(()=>t.current);return w.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function vie(t){const e=w.useRef(null);return w.useEffect(()=>{e.current=t}),e.current}const _ie=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",wie=typeof document<"u",gA=wie||_ie?w.useLayoutEffect:w.useEffect,Sie=["as","disabled"];function Cie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Tie(t){return!t||t.trim()==="#"}function zT({tagName:t,disabled:e,href:n,target:r,rel:s,role:i,onClick:a,tabIndex:l=0,type:c}){t||(n!=null||r!=null||s!=null?t="a":t="button");const u={tagName:t};if(t==="button")return[{type:c||"button",disabled:e},u];const h=m=>{if((e||t==="a"&&Tie(n))&&m.preventDefault(),e){m.stopPropagation();return}a==null||a(m)},f=m=>{m.key===" "&&(m.preventDefault(),h(m))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:i??"button",disabled:void 0,tabIndex:e?void 0:l,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?s:void 0,onClick:h,onKeyDown:f},u]}const kR=w.forwardRef((t,e)=>{let{as:n,disabled:r}=t,s=Cie(t,Sie);const[i,{tagName:a}]=zT(Object.assign({tagName:n,disabled:r},s));return o.jsx(a,Object.assign({},s,i,{ref:e}))});kR.displayName="Button";const kie=["onKeyDown"];function Eie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jie(t){return!t||t.trim()==="#"}const UT=w.forwardRef((t,e)=>{let{onKeyDown:n}=t,r=Eie(t,kie);const[s]=zT(Object.assign({tagName:"a"},r)),i=nc(a=>{s.onKeyDown(a),n==null||n(a)});return jie(r.href)||r.role==="button"?o.jsx("a",Object.assign({ref:e},r,s,{onKeyDown:i})):o.jsx("a",Object.assign({ref:e},r,{onKeyDown:n}))});UT.displayName="Anchor";const ER=w.forwardRef(({className:t,bsPrefix:e,as:n=UT,...r},s)=>(e=Tn(e,"alert-link"),o.jsx(n,{ref:s,className:gn(t,e),...r})));ER.displayName="AlertLink";const Nie={[uu]:"show",[kd]:"show"},Kd=w.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:r,...s},i)=>{const a={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...s},l=w.useCallback((c,u)=>{pie(c),r==null||r(c,u)},[r]);return o.jsx(SR,{ref:i,addEndListener:fie,...a,onEnter:l,childRef:Sv(e),children:(c,u)=>w.cloneElement(e,{...u,className:gn("fade",t,e.props.className,Nie[c],n[c])})})});Kd.displayName="Fade";const Die={"aria-label":dn.string,onClick:dn.func,variant:dn.oneOf(["white"])},Tv=w.forwardRef(({className:t,variant:e,"aria-label":n="Close",...r},s)=>o.jsx("button",{ref:s,type:"button",className:gn("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...r}));Tv.displayName="CloseButton";Tv.propTypes=Die;const jR=w.forwardRef((t,e)=>{const{bsPrefix:n,show:r=!0,closeLabel:s="Close alert",closeVariant:i,className:a,children:l,variant:c="primary",onClose:u,dismissible:h,transition:f=Kd,...m}=$T(t,{show:"onClose"}),g=Tn(n,"alert"),b=Xb(_=>{u&&u(!1,_)}),y=f===!0?Kd:f,x=o.jsxs("div",{role:"alert",...y?void 0:m,ref:e,className:gn(a,g,c&&`${g}-${c}`,h&&`${g}-dismissible`),children:[h&&o.jsx(Tv,{onClick:b,"aria-label":s,variant:i}),l]});return y?o.jsx(y,{unmountOnExit:!0,...m,ref:void 0,in:r,children:x}):r?x:null});jR.displayName="Alert";const Wa=Object.assign(jR,{Link:ER,Heading:TR}),rr=w.forwardRef(({bsPrefix:t,bg:e="primary",pill:n=!1,text:r,className:s,as:i="span",...a},l)=>{const c=Tn(t,"badge");return o.jsx(i,{ref:l,...a,className:gn(s,c,n&&"rounded-pill",r&&`text-${r}`,e&&`bg-${e}`)})});rr.displayName="Badge";const Mt=w.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:r,active:s=!1,disabled:i=!1,className:a,...l},c)=>{const u=Tn(e,"btn"),[h,{tagName:f}]=zT({tagName:t,disabled:i,...l}),m=f;return o.jsx(m,{...h,...l,ref:c,disabled:i,className:gn(a,u,s&&"active",n&&`${u}-${n}`,r&&`${u}-${r}`,l.href&&i&&"disabled")})});Mt.displayName="Button";const HT=w.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=Tn(e,"card-body"),o.jsx(n,{ref:s,className:gn(t,e),...r})));HT.displayName="CardBody";const NR=w.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=Tn(e,"card-footer"),o.jsx(n,{ref:s,className:gn(t,e),...r})));NR.displayName="CardFooter";const WT=w.createContext(null);WT.displayName="CardHeaderContext";const DR=w.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},s)=>{const i=Tn(t,"card-header"),a=w.useMemo(()=>({cardHeaderBsPrefix:i}),[i]);return o.jsx(WT.Provider,{value:a,children:o.jsx(n,{ref:s,...r,className:gn(e,i)})})});DR.displayName="CardHeader";const AR=w.forwardRef(({bsPrefix:t,className:e,variant:n,as:r="img",...s},i)=>{const a=Tn(t,"card-img");return o.jsx(r,{ref:i,className:gn(n?`${a}-${n}`:a,e),...s})});AR.displayName="CardImg";const PR=w.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=Tn(e,"card-img-overlay"),o.jsx(n,{ref:s,className:gn(t,e),...r})));PR.displayName="CardImgOverlay";const IR=w.forwardRef(({className:t,bsPrefix:e,as:n="a",...r},s)=>(e=Tn(e,"card-link"),o.jsx(n,{ref:s,className:gn(t,e),...r})));IR.displayName="CardLink";const Aie=Cv("h6"),OR=w.forwardRef(({className:t,bsPrefix:e,as:n=Aie,...r},s)=>(e=Tn(e,"card-subtitle"),o.jsx(n,{ref:s,className:gn(t,e),...r})));OR.displayName="CardSubtitle";const MR=w.forwardRef(({className:t,bsPrefix:e,as:n="p",...r},s)=>(e=Tn(e,"card-text"),o.jsx(n,{ref:s,className:gn(t,e),...r})));MR.displayName="CardText";const Pie=Cv("h5"),RR=w.forwardRef(({className:t,bsPrefix:e,as:n=Pie,...r},s)=>(e=Tn(e,"card-title"),o.jsx(n,{ref:s,className:gn(t,e),...r})));RR.displayName="CardTitle";const LR=w.forwardRef(({bsPrefix:t,className:e,bg:n,text:r,border:s,body:i=!1,children:a,as:l="div",...c},u)=>{const h=Tn(t,"card");return o.jsx(l,{ref:u,...c,className:gn(e,h,n&&`bg-${n}`,r&&`text-${r}`,s&&`border-${s}`),children:i?o.jsx(HT,{children:a}):a})});LR.displayName="Card";const $t=Object.assign(LR,{Img:AR,Title:RR,Subtitle:OR,Body:HT,Link:IR,Text:MR,Header:DR,Footer:NR,ImgOverlay:PR});function Iie(t){const e=w.useRef(t);return e.current=t,e}function Oie(t){const e=Iie(t);w.useEffect(()=>()=>e.current(),[])}function yA(t,e){let n=0;return w.Children.map(t,r=>w.isValidElement(r)?e(r,n++):r)}function Mie(t,e){let n=0;w.Children.forEach(t,r=>{w.isValidElement(r)&&e(r,n++)})}function Rie(t,e){return w.Children.toArray(t).some(n=>w.isValidElement(n)&&n.type===e)}function Lie({as:t,bsPrefix:e,className:n,...r}){e=Tn(e,"col");const s=bR(),i=xR(),a=[],l=[];return s.forEach(c=>{const u=r[c];delete r[c];let h,f,m;typeof u=="object"&&u!=null?{span:h,offset:f,order:m}=u:h=u;const g=c!==i?`-${c}`:"";h&&a.push(h===!0?`${e}${g}`:`${e}${g}-${h}`),m!=null&&l.push(`order${g}-${m}`),f!=null&&l.push(`offset${g}-${f}`)}),[{...r,className:gn(n,...a,...l)},{as:t,bsPrefix:e,spans:a}]}const An=w.forwardRef((t,e)=>{const[{className:n,...r},{as:s="div",bsPrefix:i,spans:a}]=Lie(t);return o.jsx(s,{...r,ref:e,className:gn(n,!a.length&&i)})});An.displayName="Col";const Xd=w.forwardRef(({bsPrefix:t,fluid:e=!1,as:n="div",className:r,...s},i)=>{const a=Tn(t,"container"),l=typeof e=="string"?`-${e}`:"-fluid";return o.jsx(n,{ref:i,...s,className:gn(r,e?`${a}${l}`:a)})});Xd.displayName="Container";var Fie=Function.prototype.bind.call(Function.prototype.call,[].slice);function wd(t,e){return Fie(t.querySelectorAll(e))}function Bie(t,e,n){const r=w.useRef(t!==void 0),[s,i]=w.useState(e),a=t!==void 0,l=r.current;return r.current=a,!a&&l&&s!==e&&i(e),[a?t:s,w.useCallback((...c)=>{const[u,...h]=c;let f=n==null?void 0:n(u,...h);return i(u),f},[n])]}function $ie(){const[,t]=w.useReducer(e=>e+1,0);return t}function bA(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}const FR={prefix:String(Math.round(Math.random()*1e10)),current:0},BR=nn.createContext(FR),zie=nn.createContext(!1);let nw=new WeakMap;function Uie(t=!1){let e=w.useContext(BR),n=w.useRef(null);if(n.current===null&&!t){var r,s;let i=(s=nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||s===void 0||(r=s.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(i){let a=nw.get(i);a==null?nw.set(i,{id:e.current,state:i.memoizedState}):i.memoizedState!==a.state&&(e.current=a.id,nw.delete(i))}n.current=++e.current}return n.current}function Hie(t){let e=w.useContext(BR),n=Uie(!!t),r=`react-aria${e.prefix}`;return t||`${r}-${n}`}function Wie(t){let e=nn.useId(),[n]=w.useState(Kie()),r=n?"react-aria":`react-aria${FR.prefix}`;return t||`${r}-${e}`}const Vie=typeof nn.useId=="function"?Wie:Hie;function qie(){return!1}function Yie(){return!0}function Gie(t){return()=>{}}function Kie(){return typeof nn.useSyncExternalStore=="function"?nn.useSyncExternalStore(Gie,qie,Yie):w.useContext(zie)}const Wf=w.createContext(null),Ng=(t,e=null)=>t!=null?String(t):e||null,VT=w.createContext(null);VT.displayName="NavContext";const Xie="data-rr-ui-",Qie="rrUi";function kv(t){return`${Xie}${t}`}function Zie(t){return`${Qie}${t}`}const $R=w.createContext(yp?window:void 0);$R.Provider;function qT(){return w.useContext($R)}const zR=w.createContext(null);zR.displayName="InputGroupContext";const UR=w.createContext(null);UR.displayName="NavbarContext";const Jie={type:dn.string,tooltip:dn.bool,as:dn.elementType},Ev=w.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:r=!1,...s},i)=>o.jsx(t,{...s,ref:i,className:gn(e,`${n}-${r?"tooltip":"feedback"}`)}));Ev.displayName="Feedback";Ev.propTypes=Jie;const yc=w.createContext({}),f0=w.forwardRef(({id:t,bsPrefix:e,className:n,type:r="checkbox",isValid:s=!1,isInvalid:i=!1,as:a="input",...l},c)=>{const{controlId:u}=w.useContext(yc);return e=Tn(e,"form-check-input"),o.jsx(a,{...l,ref:c,type:r,id:t||u,className:gn(n,e,s&&"is-valid",i&&"is-invalid")})});f0.displayName="FormCheckInput";const Qb=w.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...r},s)=>{const{controlId:i}=w.useContext(yc);return t=Tn(t,"form-check-label"),o.jsx("label",{...r,ref:s,htmlFor:n||i,className:gn(e,t)})});Qb.displayName="FormCheckLabel";const HR=w.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:r=!1,reverse:s=!1,disabled:i=!1,isValid:a=!1,isInvalid:l=!1,feedbackTooltip:c=!1,feedback:u,feedbackType:h,className:f,style:m,title:g="",type:b="checkbox",label:y,children:x,as:_="input",...S},T)=>{e=Tn(e,"form-check"),n=Tn(n,"form-switch");const{controlId:D}=w.useContext(yc),j=w.useMemo(()=>({controlId:t||D}),[D,t]),A=!x&&y!=null&&y!==!1||Rie(x,Qb),O=o.jsx(f0,{...S,type:b==="switch"?"checkbox":b,ref:T,isValid:a,isInvalid:l,disabled:i,as:_});return o.jsx(yc.Provider,{value:j,children:o.jsx("div",{style:m,className:gn(f,A&&e,r&&`${e}-inline`,s&&`${e}-reverse`,b==="switch"&&n),children:x||o.jsxs(o.Fragment,{children:[O,A&&o.jsx(Qb,{title:g,children:y}),u&&o.jsx(Ev,{type:h,tooltip:c,children:u})]})})})});HR.displayName="FormCheck";const Zb=Object.assign(HR,{Input:f0,Label:Qb}),WR=w.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:r,id:s,className:i,isValid:a=!1,isInvalid:l=!1,plaintext:c,readOnly:u,as:h="input",...f},m)=>{const{controlId:g}=w.useContext(yc);return t=Tn(t,"form-control"),o.jsx(h,{...f,type:e,size:r,ref:m,readOnly:u,id:s||g,className:gn(i,c?`${t}-plaintext`:t,n&&`${t}-${n}`,e==="color"&&`${t}-color`,a&&"is-valid",l&&"is-invalid")})});WR.displayName="FormControl";const eae=Object.assign(WR,{Feedback:Ev}),VR=w.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=Tn(e,"form-floating"),o.jsx(n,{ref:s,className:gn(t,e),...r})));VR.displayName="FormFloating";const YT=w.forwardRef(({controlId:t,as:e="div",...n},r)=>{const s=w.useMemo(()=>({controlId:t}),[t]);return o.jsx(yc.Provider,{value:s,children:o.jsx(e,{...n,ref:r})})});YT.displayName="FormGroup";const qR=w.forwardRef(({as:t="label",bsPrefix:e,column:n=!1,visuallyHidden:r=!1,className:s,htmlFor:i,...a},l)=>{const{controlId:c}=w.useContext(yc);e=Tn(e,"form-label");let u="col-form-label";typeof n=="string"&&(u=`${u} ${u}-${n}`);const h=gn(s,e,r&&"visually-hidden",n&&u);return i=i||c,n?o.jsx(An,{ref:l,as:"label",className:h,htmlFor:i,...a}):o.jsx(t,{ref:l,className:h,htmlFor:i,...a})});qR.displayName="FormLabel";const YR=w.forwardRef(({bsPrefix:t,className:e,id:n,...r},s)=>{const{controlId:i}=w.useContext(yc);return t=Tn(t,"form-range"),o.jsx("input",{...r,type:"range",ref:s,className:gn(e,t),id:n||i})});YR.displayName="FormRange";const GR=w.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:r,isValid:s=!1,isInvalid:i=!1,id:a,...l},c)=>{const{controlId:u}=w.useContext(yc);return t=Tn(t,"form-select"),o.jsx("select",{...l,size:n,ref:c,className:gn(r,t,e&&`${t}-${e}`,s&&"is-valid",i&&"is-invalid"),id:a||u})});GR.displayName="FormSelect";const KR=w.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:r,...s},i)=>(t=Tn(t,"form-text"),o.jsx(n,{...s,ref:i,className:gn(e,t,r&&"text-muted")})));KR.displayName="FormText";const XR=w.forwardRef((t,e)=>o.jsx(Zb,{...t,ref:e,type:"switch"}));XR.displayName="Switch";const tae=Object.assign(XR,{Input:Zb.Input,Label:Zb.Label}),QR=w.forwardRef(({bsPrefix:t,className:e,children:n,controlId:r,label:s,...i},a)=>(t=Tn(t,"form-floating"),o.jsxs(YT,{ref:a,className:gn(e,t),controlId:r,...i,children:[n,o.jsx("label",{htmlFor:r,children:s})]})));QR.displayName="FloatingLabel";const nae={_ref:dn.any,validated:dn.bool,as:dn.elementType},GT=w.forwardRef(({className:t,validated:e,as:n="form",...r},s)=>o.jsx(n,{...r,ref:s,className:gn(t,e&&"was-validated")}));GT.displayName="Form";GT.propTypes=nae;const qe=Object.assign(GT,{Group:YT,Control:eae,Floating:VR,Check:Zb,Switch:tae,Label:qR,Text:KR,Range:YR,Select:GR,FloatingLabel:QR}),jv=w.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},s)=>(e=Tn(e,"input-group-text"),o.jsx(n,{ref:s,className:gn(t,e),...r})));jv.displayName="InputGroupText";const rae=t=>o.jsx(jv,{children:o.jsx(f0,{type:"checkbox",...t})}),sae=t=>o.jsx(jv,{children:o.jsx(f0,{type:"radio",...t})}),ZR=w.forwardRef(({bsPrefix:t,size:e,hasValidation:n,className:r,as:s="div",...i},a)=>{t=Tn(t,"input-group");const l=w.useMemo(()=>({}),[]);return o.jsx(zR.Provider,{value:l,children:o.jsx(s,{ref:a,...i,className:gn(r,t,e&&`${t}-${e}`,n&&"has-validation")})})});ZR.displayName="InputGroup";const xA=Object.assign(ZR,{Text:jv,Radio:sae,Checkbox:rae}),vA=t=>!t||typeof t=="function"?t:e=>{t.current=e};function iae(t,e){const n=vA(t),r=vA(e);return s=>{n&&n(s),r&&r(s)}}function Nv(t,e){return w.useMemo(()=>iae(t,e),[t,e])}const bp=w.createContext(null),aae=["as","active","eventKey"];function oae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function JR({key:t,onClick:e,active:n,id:r,role:s,disabled:i}){const a=w.useContext(Wf),l=w.useContext(VT),c=w.useContext(bp);let u=n;const h={role:s};if(l){!s&&l.role==="tablist"&&(h.role="tab");const f=l.getControllerId(t??null),m=l.getControlledId(t??null);h[kv("event-key")]=t,h.id=f||r,u=n==null&&t!=null?l.activeKey===t:n,(u||!(c!=null&&c.unmountOnExit)&&!(c!=null&&c.mountOnEnter))&&(h["aria-controls"]=m)}return h.role==="tab"&&(h["aria-selected"]=u,u||(h.tabIndex=-1),i&&(h.tabIndex=-1,h["aria-disabled"]=!0)),h.onClick=nc(f=>{i||(e==null||e(f),t!=null&&a&&!f.isPropagationStopped()&&a(t,f))}),[h,{isActive:u}]}const eL=w.forwardRef((t,e)=>{let{as:n=kR,active:r,eventKey:s}=t,i=oae(t,aae);const[a,l]=JR(Object.assign({key:Ng(s,i.href),active:r},i));return a[kv("active")]=l.isActive,o.jsx(n,Object.assign({},i,a,{ref:e}))});eL.displayName="NavItem";const lae=["as","onSelect","activeKey","role","onKeyDown"];function cae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const _A=()=>{},wA=kv("event-key"),tL=w.forwardRef((t,e)=>{let{as:n="div",onSelect:r,activeKey:s,role:i,onKeyDown:a}=t,l=cae(t,lae);const c=$ie(),u=w.useRef(!1),h=w.useContext(Wf),f=w.useContext(bp);let m,g;f&&(i=i||"tablist",s=f.activeKey,m=f.getControlledId,g=f.getControllerId);const b=w.useRef(null),y=T=>{const D=b.current;if(!D)return null;const j=wd(D,`[${wA}]:not([aria-disabled=true])`),A=D.querySelector("[aria-selected=true]");if(!A||A!==document.activeElement)return null;const O=j.indexOf(A);if(O===-1)return null;let L=O+T;return L>=j.length&&(L=0),L<0&&(L=j.length-1),j[L]},x=(T,D)=>{T!=null&&(r==null||r(T,D),h==null||h(T,D))},_=T=>{if(a==null||a(T),!f)return;let D;switch(T.key){case"ArrowLeft":case"ArrowUp":D=y(-1);break;case"ArrowRight":case"ArrowDown":D=y(1);break;default:return}D&&(T.preventDefault(),x(D.dataset[Zie("EventKey")]||null,T),u.current=!0,c())};w.useEffect(()=>{if(b.current&&u.current){const T=b.current.querySelector(`[${wA}][aria-selected=true]`);T==null||T.focus()}u.current=!1});const S=Nv(e,b);return o.jsx(Wf.Provider,{value:x,children:o.jsx(VT.Provider,{value:{role:i,activeKey:Ng(s),getControlledId:m||_A,getControllerId:g||_A},children:o.jsx(n,Object.assign({},l,{onKeyDown:_,ref:S,role:i}))})})});tL.displayName="Nav";const uae=Object.assign(tL,{Item:eL});var Oy;function SA(t){if((!Oy&&Oy!==0||t)&&yp){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),Oy=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Oy}function dae(){return w.useState(null)}function rw(t){t===void 0&&(t=wv());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function hae(t){const e=w.useRef(t);return e.current=t,e}function fae(t){const e=hae(t);w.useEffect(()=>()=>e.current(),[])}function pae(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const CA=kv("modal-open");class KT{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return pae(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",s=this.getElement();e.style={overflow:s.style.overflow,[r]:s.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(Bd(s,r)||"0",10)+e.scrollBarWidth}px`),s.setAttribute(CA,""),Bd(s,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(CA),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const sw=(t,e)=>yp?t==null?(e||wv()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function mae(t,e){const n=qT(),[r,s]=w.useState(()=>sw(t,n==null?void 0:n.document));if(!r){const i=sw(t);i&&s(i)}return w.useEffect(()=>{},[e,r]),w.useEffect(()=>{const i=sw(t);i!==r&&s(i)},[t,r]),r}function XT({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:s}){const i=w.useRef(null),a=w.useRef(e),l=nc(n);w.useEffect(()=>{e?a.current=!0:l(i.current)},[e,l]);const c=Nv(i,Sv(t)),u=w.cloneElement(t,{ref:c});return e?u:s||!a.current&&r?null:u}const gae=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function yae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function bae(t){let{onEnter:e,onEntering:n,onEntered:r,onExit:s,onExiting:i,onExited:a,addEndListener:l,children:c}=t,u=yae(t,gae);const h=w.useRef(null),f=Nv(h,Sv(c)),m=D=>j=>{D&&h.current&&D(h.current,j)},g=w.useCallback(m(e),[e]),b=w.useCallback(m(n),[n]),y=w.useCallback(m(r),[r]),x=w.useCallback(m(s),[s]),_=w.useCallback(m(i),[i]),S=w.useCallback(m(a),[a]),T=w.useCallback(m(l),[l]);return Object.assign({},u,{nodeRef:h},e&&{onEnter:g},n&&{onEntering:b},r&&{onEntered:y},s&&{onExit:x},i&&{onExiting:_},a&&{onExited:S},l&&{addEndListener:T},{children:typeof c=="function"?(D,j)=>c(D,Object.assign({},j,{ref:f})):w.cloneElement(c,{ref:f})})}const xae=["component"];function vae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const _ae=w.forwardRef((t,e)=>{let{component:n}=t,r=vae(t,xae);const s=bae(r);return o.jsx(n,Object.assign({ref:e},s))});function wae({in:t,onTransition:e}){const n=w.useRef(null),r=w.useRef(!0),s=nc(e);return gA(()=>{if(!n.current)return;let i=!1;return s({in:t,element:n.current,initial:r.current,isStale:()=>i}),()=>{i=!0}},[t,s]),gA(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function Sae({children:t,in:e,onExited:n,onEntered:r,transition:s}){const[i,a]=w.useState(!e);e&&i&&a(!1);const l=wae({in:!!e,onTransition:u=>{const h=()=>{u.isStale()||(u.in?r==null||r(u.element,u.initial):(a(!0),n==null||n(u.element)))};Promise.resolve(s(u)).then(h,f=>{throw u.in||a(!0),f})}}),c=Nv(l,Sv(t));return i&&!e?null:w.cloneElement(t,{ref:c})}function TA(t,e,n){return t?o.jsx(_ae,Object.assign({},n,{component:t})):e?o.jsx(Sae,Object.assign({},n,{transition:e})):o.jsx(XT,Object.assign({},n))}const Cae=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function Tae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}let iw;function kae(t){return iw||(iw=new KT({ownerDocument:t==null?void 0:t.document})),iw}function Eae(t){const e=qT(),n=t||kae(e),r=w.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:w.useCallback(s=>{r.current.dialog=s},[]),setBackdropRef:w.useCallback(s=>{r.current.backdrop=s},[])})}const nL=w.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:s,style:i,children:a,backdrop:l=!0,keyboard:c=!0,onBackdropClick:u,onEscapeKeyDown:h,transition:f,runTransition:m,backdropTransition:g,runBackdropTransition:b,autoFocus:y=!0,enforceFocus:x=!0,restoreFocus:_=!0,restoreFocusOptions:S,renderDialog:T,renderBackdrop:D=Me=>o.jsx("div",Object.assign({},Me)),manager:j,container:A,onShow:O,onHide:L=()=>{},onExit:P,onExited:N,onExiting:U,onEnter:M,onEntering:q,onEntered:E}=t,G=Tae(t,Cae);const Q=qT(),re=mae(A),ee=Eae(j),Z=xie(),K=vie(n),[F,W]=w.useState(!n),me=w.useRef(null);w.useImperativeHandle(e,()=>ee,[ee]),yp&&!K&&n&&(me.current=rw(Q==null?void 0:Q.document)),n&&F&&W(!1);const ne=nc(()=>{if(ee.add(),We.current=Kb(document,"keydown",Re),ke.current=Kb(document,"focus",()=>setTimeout(we),!0),O&&O(),y){var Me,ye;const se=rw((Me=(ye=ee.dialog)==null?void 0:ye.ownerDocument)!=null?Me:Q==null?void 0:Q.document);ee.dialog&&se&&!bA(ee.dialog,se)&&(me.current=se,ee.dialog.focus())}}),ge=nc(()=>{if(ee.remove(),We.current==null||We.current(),ke.current==null||ke.current(),_){var Me;(Me=me.current)==null||Me.focus==null||Me.focus(S),me.current=null}});w.useEffect(()=>{!n||!re||ne()},[n,re,ne]),w.useEffect(()=>{F&&ge()},[F,ge]),fae(()=>{ge()});const we=nc(()=>{if(!x||!Z()||!ee.isTopModal())return;const Me=rw(Q==null?void 0:Q.document);ee.dialog&&Me&&!bA(ee.dialog,Me)&&ee.dialog.focus()}),je=nc(Me=>{Me.target===Me.currentTarget&&(u==null||u(Me),l===!0&&L())}),Re=nc(Me=>{c&&lie(Me)&&ee.isTopModal()&&(h==null||h(Me),Me.defaultPrevented||L())}),ke=w.useRef(),We=w.useRef(),Je=(...Me)=>{W(!0),N==null||N(...Me)};if(!re)return null;const nt=Object.assign({role:r,ref:ee.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},G,{style:i,className:s,tabIndex:-1});let ct=T?T(nt):o.jsx("div",Object.assign({},nt,{children:w.cloneElement(a,{role:"document"})}));ct=TA(f,m,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:P,onExiting:U,onExited:Je,onEnter:M,onEntering:q,onEntered:E,children:ct});let X=null;return l&&(X=D({ref:ee.setBackdropRef,onClick:je}),X=TA(g,b,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:X})),o.jsx(o.Fragment,{children:Nd.createPortal(o.jsxs(o.Fragment,{children:[X,ct]}),re)})});nL.displayName="Modal";const jae=Object.assign(nL,{Manager:KT}),nf={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class Nae extends KT{adjustAndStore(e,n,r){const s=n.style[e];n.dataset[e]=s,Bd(n,{[e]:`${parseFloat(Bd(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],Bd(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(YM(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";wd(n,nf.FIXED_CONTENT).forEach(i=>this.adjustAndStore(r,i,e.scrollBarWidth)),wd(n,nf.STICKY_CONTENT).forEach(i=>this.adjustAndStore(s,i,-e.scrollBarWidth)),wd(n,nf.NAVBAR_TOGGLER).forEach(i=>this.adjustAndStore(s,i,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();GM(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";wd(n,nf.FIXED_CONTENT).forEach(i=>this.restore(r,i)),wd(n,nf.STICKY_CONTENT).forEach(i=>this.restore(s,i)),wd(n,nf.NAVBAR_TOGGLER).forEach(i=>this.restore(s,i))}}let aw;function Dae(t){return aw||(aw=new Nae(t)),aw}const rL=w.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=Tn(e,"modal-body"),o.jsx(n,{ref:s,className:gn(t,e),...r})));rL.displayName="ModalBody";const sL=w.createContext({onHide(){}}),QT=w.forwardRef(({bsPrefix:t,className:e,contentClassName:n,centered:r,size:s,fullscreen:i,children:a,scrollable:l,...c},u)=>{t=Tn(t,"modal");const h=`${t}-dialog`,f=typeof i=="string"?`${t}-fullscreen-${i}`:`${t}-fullscreen`;return o.jsx("div",{...c,ref:u,className:gn(h,e,s&&`${t}-${s}`,r&&`${h}-centered`,l&&`${h}-scrollable`,i&&f),children:o.jsx("div",{className:gn(`${t}-content`,n),children:a})})});QT.displayName="ModalDialog";const iL=w.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=Tn(e,"modal-footer"),o.jsx(n,{ref:s,className:gn(t,e),...r})));iL.displayName="ModalFooter";const aL=w.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:r,children:s,...i},a)=>{const l=w.useContext(sL),c=Xb(()=>{l==null||l.onHide(),r==null||r()});return o.jsxs("div",{ref:a,...i,children:[s,n&&o.jsx(Tv,{"aria-label":t,variant:e,onClick:c})]})});aL.displayName="AbstractModalHeader";const oL=w.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...s},i)=>(t=Tn(t,"modal-header"),o.jsx(aL,{ref:i,...s,className:gn(e,t),closeLabel:n,closeButton:r})));oL.displayName="ModalHeader";const Aae=Cv("h4"),lL=w.forwardRef(({className:t,bsPrefix:e,as:n=Aae,...r},s)=>(e=Tn(e,"modal-title"),o.jsx(n,{ref:s,className:gn(t,e),...r})));lL.displayName="ModalTitle";function Pae(t){return o.jsx(Kd,{...t,timeout:null})}function Iae(t){return o.jsx(Kd,{...t,timeout:null})}const cL=w.forwardRef(({bsPrefix:t,className:e,style:n,dialogClassName:r,contentClassName:s,children:i,dialogAs:a=QT,"data-bs-theme":l,"aria-labelledby":c,"aria-describedby":u,"aria-label":h,show:f=!1,animation:m=!0,backdrop:g=!0,keyboard:b=!0,onEscapeKeyDown:y,onShow:x,onHide:_,container:S,autoFocus:T=!0,enforceFocus:D=!0,restoreFocus:j=!0,restoreFocusOptions:A,onEntered:O,onExit:L,onExiting:P,onEnter:N,onEntering:U,onExited:M,backdropClassName:q,manager:E,...G},Q)=>{const[re,ee]=w.useState({}),[Z,K]=w.useState(!1),F=w.useRef(!1),W=w.useRef(!1),me=w.useRef(null),[ne,ge]=dae(),we=wR(Q,ge),je=Xb(_),Re=eie();t=Tn(t,"modal");const ke=w.useMemo(()=>({onHide:je}),[je]);function We(){return E||Dae({isRTL:Re})}function Je(Se){if(!yp)return;const ut=We().getScrollbarWidth()>0,pt=Se.scrollHeight>wv(Se).documentElement.clientHeight;ee({paddingRight:ut&&!pt?SA():void 0,paddingLeft:!ut&&pt?SA():void 0})}const nt=Xb(()=>{ne&&Je(ne.dialog)});Oie(()=>{mS(window,"resize",nt),me.current==null||me.current()});const ct=()=>{F.current=!0},X=Se=>{F.current&&ne&&Se.target===ne.dialog&&(W.current=!0),F.current=!1},Me=()=>{K(!0),me.current=_R(ne.dialog,()=>{K(!1)})},ye=Se=>{Se.target===Se.currentTarget&&Me()},se=Se=>{if(g==="static"){ye(Se);return}if(W.current||Se.target!==Se.currentTarget){W.current=!1;return}_==null||_()},ie=Se=>{b?y==null||y(Se):(Se.preventDefault(),g==="static"&&Me())},fe=(Se,ut)=>{Se&&Je(Se),N==null||N(Se,ut)},Te=Se=>{me.current==null||me.current(),L==null||L(Se)},he=(Se,ut)=>{U==null||U(Se,ut),vR(window,"resize",nt)},ce=Se=>{Se&&(Se.style.display=""),M==null||M(Se),mS(window,"resize",nt)},ve=w.useCallback(Se=>o.jsx("div",{...Se,className:gn(`${t}-backdrop`,q,!m&&"show")}),[m,q,t]),Ie={...n,...re};Ie.display="block";const Fe=Se=>o.jsx("div",{role:"dialog",...Se,style:Ie,className:gn(e,t,Z&&`${t}-static`,!m&&"show"),onClick:g?se:void 0,onMouseUp:X,"data-bs-theme":l,"aria-label":h,"aria-labelledby":c,"aria-describedby":u,children:o.jsx(a,{...G,onMouseDown:ct,className:r,contentClassName:s,children:i})});return o.jsx(sL.Provider,{value:ke,children:o.jsx(jae,{show:f,ref:we,backdrop:g,container:S,keyboard:!0,autoFocus:T,enforceFocus:D,restoreFocus:j,restoreFocusOptions:A,onEscapeKeyDown:ie,onShow:x,onHide:_,onEnter:fe,onEntering:he,onEntered:O,onExit:Te,onExiting:P,onExited:ce,manager:We(),transition:m?Pae:void 0,backdropTransition:m?Iae:void 0,renderBackdrop:ve,renderDialog:Fe})})});cL.displayName="Modal";const Tt=Object.assign(cL,{Body:rL,Header:oL,Title:lL,Footer:iL,Dialog:QT,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),ZT=w.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=Tn(e,"nav-item"),o.jsx(n,{ref:s,className:gn(t,e),...r})));ZT.displayName="NavItem";const JT=w.forwardRef(({bsPrefix:t,className:e,as:n=UT,active:r,eventKey:s,disabled:i=!1,...a},l)=>{t=Tn(t,"nav-link");const[c,u]=JR({key:Ng(s,a.href),active:r,disabled:i,...a});return o.jsx(n,{...a,...c,ref:l,disabled:i,className:gn(e,t,i&&"disabled",u.isActive&&"active")})});JT.displayName="NavLink";const uL=w.forwardRef((t,e)=>{const{as:n="div",bsPrefix:r,variant:s,fill:i=!1,justify:a=!1,navbar:l,navbarScroll:c,className:u,activeKey:h,...f}=$T(t,{activeKey:"onSelect"}),m=Tn(r,"nav");let g,b,y=!1;const x=w.useContext(UR),_=w.useContext(WT);return x?(g=x.bsPrefix,y=l??!0):_&&({cardHeaderBsPrefix:b}=_),o.jsx(uae,{as:n,ref:e,activeKey:h,className:gn(u,{[m]:!y,[`${g}-nav`]:y,[`${g}-nav-scroll`]:y&&c,[`${b}-${s}`]:!!b,[`${m}-${s}`]:!!s,[`${m}-fill`]:i,[`${m}-justified`]:a}),...f})});uL.displayName="Nav";const Oae=Object.assign(uL,{Item:ZT,Link:JT}),Cs=w.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},s)=>{const i=Tn(t,"row"),a=bR(),l=xR(),c=`${i}-cols`,u=[];return a.forEach(h=>{const f=r[h];delete r[h];let m;f!=null&&typeof f=="object"?{cols:m}=f:m=f;const g=h!==l?`-${h}`:"";m!=null&&u.push(`${c}${g}-${m}`)}),o.jsx(n,{ref:s,...r,className:gn(e,i,...u)})});Cs.displayName="Row";const Yr=w.forwardRef(({bsPrefix:t,variant:e,animation:n="border",size:r,as:s="div",className:i,...a},l)=>{t=Tn(t,"spinner");const c=`${t}-${n}`;return o.jsx(s,{ref:l,...a,className:gn(i,c,r&&`${c}-${r}`,e&&`text-${e}`)})});Yr.displayName="Spinner";const Mae=["active","eventKey","mountOnEnter","transition","unmountOnExit","role","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],Rae=["activeKey","getControlledId","getControllerId"],Lae=["as"];function gS(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dL(t){let{active:e,eventKey:n,mountOnEnter:r,transition:s,unmountOnExit:i,role:a="tabpanel",onEnter:l,onEntering:c,onEntered:u,onExit:h,onExiting:f,onExited:m}=t,g=gS(t,Mae);const b=w.useContext(bp);if(!b)return[Object.assign({},g,{role:a}),{eventKey:n,isActive:e,mountOnEnter:r,transition:s,unmountOnExit:i,onEnter:l,onEntering:c,onEntered:u,onExit:h,onExiting:f,onExited:m}];const{activeKey:y,getControlledId:x,getControllerId:_}=b,S=gS(b,Rae),T=Ng(n);return[Object.assign({},g,{role:a,id:x(n),"aria-labelledby":_(n)}),{eventKey:n,isActive:e==null&&T!=null?Ng(y)===T:e,transition:s||S.transition,mountOnEnter:r??S.mountOnEnter,unmountOnExit:i??S.unmountOnExit,onEnter:l,onEntering:c,onEntered:u,onExit:h,onExiting:f,onExited:m}]}const hL=w.forwardRef((t,e)=>{let{as:n="div"}=t,r=gS(t,Lae);const[s,{isActive:i,onEnter:a,onEntering:l,onEntered:c,onExit:u,onExiting:h,onExited:f,mountOnEnter:m,unmountOnExit:g,transition:b=XT}]=dL(r);return o.jsx(bp.Provider,{value:null,children:o.jsx(Wf.Provider,{value:null,children:o.jsx(b,{in:i,onEnter:a,onEntering:l,onEntered:c,onExit:u,onExiting:h,onExited:f,mountOnEnter:m,unmountOnExit:g,children:o.jsx(n,Object.assign({},s,{ref:e,hidden:!i,"aria-hidden":!i}))})})})});hL.displayName="TabPanel";const ek=t=>{const{id:e,generateChildId:n,onSelect:r,activeKey:s,defaultActiveKey:i,transition:a,mountOnEnter:l,unmountOnExit:c,children:u}=t,[h,f]=Bie(s,i,r),m=Vie(e),g=w.useMemo(()=>n||((y,x)=>m?`${m}-${x}-${y}`:null),[m,n]),b=w.useMemo(()=>({onSelect:f,activeKey:h,transition:a,mountOnEnter:l||!1,unmountOnExit:c||!1,getControlledId:y=>g(y,"tabpane"),getControllerId:y=>g(y,"tab")}),[f,h,a,l,c,g]);return o.jsx(bp.Provider,{value:b,children:o.jsx(Wf.Provider,{value:f||null,children:u})})};ek.Panel=hL;function tk(t){return typeof t=="boolean"?t?Kd:XT:t}const fL=({transition:t,...e})=>o.jsx(ek,{...e,transition:tk(t)});fL.displayName="TabContainer";const nk=w.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=Tn(e,"tab-content"),o.jsx(n,{ref:s,className:gn(t,e),...r})));nk.displayName="TabContent";const rk=w.forwardRef(({bsPrefix:t,transition:e,...n},r)=>{const[{className:s,as:i="div",...a},{isActive:l,onEnter:c,onEntering:u,onEntered:h,onExit:f,onExiting:m,onExited:g,mountOnEnter:b,unmountOnExit:y,transition:x=Kd}]=dL({...n,transition:tk(e)}),_=Tn(t,"tab-pane");return o.jsx(bp.Provider,{value:null,children:o.jsx(Wf.Provider,{value:null,children:o.jsx(x,{in:l,onEnter:c,onEntering:u,onEntered:h,onExit:f,onExiting:m,onExited:g,mountOnEnter:b,unmountOnExit:y,children:o.jsx(i,{...a,ref:r,className:gn(s,_,l&&"active")})})})})});rk.displayName="TabPane";const Fae={eventKey:dn.oneOfType([dn.string,dn.number]),title:dn.node.isRequired,disabled:dn.bool,tabClassName:dn.string,tabAttrs:dn.object},pL=()=>{throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")};pL.propTypes=Fae;const Jb=Object.assign(pL,{Container:fL,Content:nk,Pane:rk}),Vf=w.forwardRef(({bsPrefix:t,className:e,striped:n,bordered:r,borderless:s,hover:i,size:a,variant:l,responsive:c,...u},h)=>{const f=Tn(t,"table"),m=gn(e,f,l&&`${f}-${l}`,a&&`${f}-${a}`,n&&`${f}-${typeof n=="string"?`striped-${n}`:"striped"}`,r&&`${f}-bordered`,s&&`${f}-borderless`,i&&`${f}-hover`),g=o.jsx("table",{...u,className:m,ref:h});if(c){let b=`${f}-responsive`;return typeof c=="string"&&(b=`${b}-${c}`),o.jsx("div",{className:b,children:g})}return g});Vf.displayName="Table";function Bae(t){let e;return Mie(t,n=>{e==null&&(e=n.props.eventKey)}),e}function $ae(t){const{title:e,eventKey:n,disabled:r,tabClassName:s,tabAttrs:i,id:a}=t.props;return e==null?null:o.jsx(ZT,{as:"li",role:"presentation",children:o.jsx(JT,{as:"button",type:"button",eventKey:n,disabled:r,id:a,className:s,...i,children:e})})}const sk=t=>{const{id:e,onSelect:n,transition:r,mountOnEnter:s=!1,unmountOnExit:i=!1,variant:a="tabs",children:l,activeKey:c=Bae(l),...u}=$T(t,{activeKey:"onSelect"});return o.jsxs(ek,{id:e,activeKey:c,onSelect:n,transition:tk(r),mountOnEnter:s,unmountOnExit:i,children:[o.jsx(Oae,{id:e,...u,role:"tablist",as:"ul",variant:a,children:yA(l,$ae)}),o.jsx(nk,{children:yA(l,h=>{const f={...h.props};return delete f.title,delete f.disabled,delete f.tabClassName,delete f.tabAttrs,o.jsx(rk,{...f})})})]})};sk.displayName="Tabs";var ow,kA;function Dv(){if(kA)return ow;kA=1;var t;return typeof window<"u"?t=window:typeof So<"u"?t=So:typeof self<"u"?t=self:t={},ow=t,ow}var zae=Dv();const De=Jr(zae),Uae={},Hae=Object.freeze(Object.defineProperty({__proto__:null,default:Uae},Symbol.toStringTag,{value:"Module"})),Wae=qP(Hae);var lw,EA;function mL(){if(EA)return lw;EA=1;var t=typeof So<"u"?So:typeof window<"u"?window:{},e=Wae,n;return typeof document<"u"?n=document:(n=t["__GLOBAL_DOCUMENT_CACHE@4"],n||(n=t["__GLOBAL_DOCUMENT_CACHE@4"]=e)),lw=n,lw}var Vae=mL();const Pt=Jr(Vae);var My={exports:{}},cw={exports:{}},jA;function qae(){return jA||(jA=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var i in s)({}).hasOwnProperty.call(s,i)&&(n[i]=s[i])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(cw)),cw.exports}var uw,NA;function Yae(){if(NA)return uw;NA=1,uw=e;var t=Object.prototype.toString;function e(n){if(!n)return!1;var r=t.call(n);return r==="[object Function]"||typeof n=="function"&&r!=="[object RegExp]"||typeof window<"u"&&(n===window.setTimeout||n===window.alert||n===window.confirm||n===window.prompt)}return uw}var dw,DA;function Gae(){if(DA)return dw;DA=1;function t(s,i){var a=typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(a)return(a=a.call(s)).next.bind(a);if(Array.isArray(s)||(a=e(s))||i){a&&(s=a);var l=0;return function(){return l>=s.length?{done:!0}:{done:!1,value:s[l++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e(s,i){if(s){if(typeof s=="string")return n(s,i);var a=Object.prototype.toString.call(s).slice(8,-1);if(a==="Object"&&s.constructor&&(a=s.constructor.name),a==="Map"||a==="Set")return Array.from(s);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return n(s,i)}}function n(s,i){(i==null||i>s.length)&&(i=s.length);for(var a=0,l=new Array(i);a<i;a++)l[a]=s[a];return l}var r=function(){function s(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1}var i=s.prototype;return i.getIsEnabled=function(){return this.enabled_},i.enable=function(){this.enabled_=!0},i.disable=function(){this.enabled_=!1},i.reset=function(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1},i.addInterceptor=function(l,c){this.typeToInterceptorsMap_.has(l)||this.typeToInterceptorsMap_.set(l,new Set);var u=this.typeToInterceptorsMap_.get(l);return u.has(c)?!1:(u.add(c),!0)},i.removeInterceptor=function(l,c){var u=this.typeToInterceptorsMap_.get(l);return u&&u.has(c)?(u.delete(c),!0):!1},i.clearInterceptorsByType=function(l){var c=this.typeToInterceptorsMap_.get(l);return c?(this.typeToInterceptorsMap_.delete(l),this.typeToInterceptorsMap_.set(l,new Set),!0):!1},i.clear=function(){return this.typeToInterceptorsMap_.size?(this.typeToInterceptorsMap_=new Map,!0):!1},i.getForType=function(l){return this.typeToInterceptorsMap_.get(l)||new Set},i.execute=function(l,c){for(var u=this.getForType(l),h=t(u),f;!(f=h()).done;){var m=f.value;try{c=m(c)}catch{}}return c},s}();return dw=r,dw}var hw,AA;function Kae(){if(AA)return hw;AA=1;var t=function(){function n(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1}var r=n.prototype;return r.getIsEnabled=function(){return this.enabled_},r.enable=function(){this.enabled_=!0},r.disable=function(){this.enabled_=!1},r.reset=function(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1},r.getMaxAttempts=function(){return this.maxAttempts_},r.setMaxAttempts=function(i){this.maxAttempts_=i},r.getDelayFactor=function(){return this.delayFactor_},r.setDelayFactor=function(i){this.delayFactor_=i},r.getFuzzFactor=function(){return this.fuzzFactor_},r.setFuzzFactor=function(i){this.fuzzFactor_=i},r.getInitialDelay=function(){return this.initialDelay_},r.setInitialDelay=function(i){this.initialDelay_=i},r.createRetry=function(i){var a=i===void 0?{}:i,l=a.maxAttempts,c=a.delayFactor,u=a.fuzzFactor,h=a.initialDelay;return new e({maxAttempts:l||this.maxAttempts_,delayFactor:c||this.delayFactor_,fuzzFactor:u||this.fuzzFactor_,initialDelay:h||this.initialDelay_})},n}(),e=function(){function n(s){this.maxAttempts_=s.maxAttempts,this.delayFactor_=s.delayFactor,this.fuzzFactor_=s.fuzzFactor,this.currentDelay_=s.initialDelay,this.currentAttempt_=1}var r=n.prototype;return r.moveToNextAttempt=function(){this.currentAttempt_++;var i=this.currentDelay_*this.delayFactor_;this.currentDelay_=this.currentDelay_+i},r.shouldRetry=function(){return this.currentAttempt_<this.maxAttempts_},r.getCurrentDelay=function(){return this.currentDelay_},r.getCurrentMinPossibleDelay=function(){return(1-this.fuzzFactor_)*this.currentDelay_},r.getCurrentMaxPossibleDelay=function(){return(1+this.fuzzFactor_)*this.currentDelay_},r.getCurrentFuzzedDelay=function(){var i=this.getCurrentMinPossibleDelay(),a=this.getCurrentMaxPossibleDelay();return i+Math.random()*(a-i)},n}();return hw=t,hw}var fw,PA;function Xae(){if(PA)return fw;PA=1;var t=Dv(),e=function(s,i){return i===void 0&&(i=!1),function(a,l,c){if(a){s(a);return}if(l.statusCode>=400&&l.statusCode<=599){var u=c;if(i)if(t.TextDecoder){var h=n(l.headers&&l.headers["content-type"]);try{u=new TextDecoder(h).decode(c)}catch{}}else u=String.fromCharCode.apply(null,new Uint8Array(c));s({cause:u});return}s(null,c)}};function n(r){return r===void 0&&(r=""),r.toLowerCase().split(";").reduce(function(s,i){var a=i.split("="),l=a[0],c=a[1];return l.trim()==="charset"?c.trim():s},"utf-8")}return fw=e,fw}var IA;function Qae(){if(IA)return My.exports;IA=1;var t=Dv(),e=qae(),n=Yae(),r=Gae(),s=Kae();u.httpHandler=Xae(),u.requestInterceptorsStorage=new r,u.responseInterceptorsStorage=new r,u.retryManager=new s;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Bjrklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var i=function(b){var y={};return b&&b.trim().split(`
`).forEach(function(x){var _=x.indexOf(":"),S=x.slice(0,_).trim().toLowerCase(),T=x.slice(_+1).trim();typeof y[S]>"u"?y[S]=T:Array.isArray(y[S])?y[S].push(T):y[S]=[y[S],T]}),y};My.exports=u,My.exports.default=u,u.XMLHttpRequest=t.XMLHttpRequest||m,u.XDomainRequest="withCredentials"in new u.XMLHttpRequest?u.XMLHttpRequest:t.XDomainRequest,a(["get","put","post","patch","head","delete"],function(g){u[g==="delete"?"del":g]=function(b,y,x){return y=c(b,y,x),y.method=g.toUpperCase(),h(y)}});function a(g,b){for(var y=0;y<g.length;y++)b(g[y])}function l(g){for(var b in g)if(g.hasOwnProperty(b))return!1;return!0}function c(g,b,y){var x=g;return n(b)?(y=b,typeof g=="string"&&(x={uri:g})):x=e({},b,{uri:g}),x.callback=y,x}function u(g,b,y){return b=c(g,b,y),h(b)}function h(g){if(typeof g.callback>"u")throw new Error("callback argument missing");if(g.requestType&&u.requestInterceptorsStorage.getIsEnabled()){var b={uri:g.uri||g.url,headers:g.headers||{},body:g.body,metadata:g.metadata||{},retry:g.retry,timeout:g.timeout},y=u.requestInterceptorsStorage.execute(g.requestType,b);g.uri=y.uri,g.headers=y.headers,g.body=y.body,g.metadata=y.metadata,g.retry=y.retry,g.timeout=y.timeout}var x=!1,_=function(ee,Z,K){x||(x=!0,g.callback(ee,Z,K))};function S(){A.readyState===4&&!u.responseInterceptorsStorage.getIsEnabled()&&setTimeout(j,0)}function T(){var re=void 0;if(A.response?re=A.response:re=A.responseText||f(A),E)try{re=JSON.parse(re)}catch{}return re}function D(re){if(clearTimeout(G),clearTimeout(g.retryTimeout),re instanceof Error||(re=new Error(""+(re||"Unknown XMLHttpRequest Error"))),re.statusCode=0,!L&&u.retryManager.getIsEnabled()&&g.retry&&g.retry.shouldRetry()){g.retryTimeout=setTimeout(function(){g.retry.moveToNextAttempt(),g.xhr=A,h(g)},g.retry.getCurrentFuzzedDelay());return}if(g.requestType&&u.responseInterceptorsStorage.getIsEnabled()){var ee={headers:Q.headers||{},body:Q.body,responseUrl:A.responseURL,responseType:A.responseType},Z=u.responseInterceptorsStorage.execute(g.requestType,ee);Q.body=Z.body,Q.headers=Z.headers}return _(re,Q)}function j(){if(!L){var re;clearTimeout(G),clearTimeout(g.retryTimeout),g.useXDR&&A.status===void 0?re=200:re=A.status===1223?204:A.status;var ee=Q,Z=null;if(re!==0?(ee={body:T(),statusCode:re,method:N,headers:{},url:P,rawRequest:A},A.getAllResponseHeaders&&(ee.headers=i(A.getAllResponseHeaders()))):Z=new Error("Internal XMLHttpRequest Error"),g.requestType&&u.responseInterceptorsStorage.getIsEnabled()){var K={headers:ee.headers||{},body:ee.body,responseUrl:A.responseURL,responseType:A.responseType},F=u.responseInterceptorsStorage.execute(g.requestType,K);ee.body=F.body,ee.headers=F.headers}return _(Z,ee,ee.body)}}var A=g.xhr||null;A||(g.cors||g.useXDR?A=new u.XDomainRequest:A=new u.XMLHttpRequest);var O,L,P=A.url=g.uri||g.url,N=A.method=g.method||"GET",U=g.body||g.data,M=A.headers=g.headers||{},q=!!g.sync,E=!1,G,Q={body:void 0,headers:{},statusCode:0,method:N,url:P,rawRequest:A};if("json"in g&&g.json!==!1&&(E=!0,M.accept||M.Accept||(M.Accept="application/json"),N!=="GET"&&N!=="HEAD"&&(M["content-type"]||M["Content-Type"]||(M["Content-Type"]="application/json"),U=JSON.stringify(g.json===!0?U:g.json))),A.onreadystatechange=S,A.onload=j,A.onerror=D,A.onprogress=function(){},A.onabort=function(){L=!0,clearTimeout(g.retryTimeout)},A.ontimeout=D,A.open(N,P,!q,g.username,g.password),q||(A.withCredentials=!!g.withCredentials),!q&&g.timeout>0&&(G=setTimeout(function(){if(!L){L=!0,A.abort("timeout");var re=new Error("XMLHttpRequest timeout");re.code="ETIMEDOUT",D(re)}},g.timeout)),A.setRequestHeader)for(O in M)M.hasOwnProperty(O)&&A.setRequestHeader(O,M[O]);else if(g.headers&&!l(g.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in g&&(A.responseType=g.responseType),"beforeSend"in g&&typeof g.beforeSend=="function"&&g.beforeSend(A),A.send(U||null),A}function f(g){try{if(g.responseType==="document")return g.responseXML;var b=g.responseXML&&g.responseXML.documentElement.nodeName==="parsererror";if(g.responseType===""&&!b)return g.responseXML}catch{}return null}function m(){}return My.exports}var Zae=Qae();const gL=Jr(Zae);var pw={exports:{}},mw,OA;function Jae(){if(OA)return mw;OA=1;var t=mL(),e=Object.create||function(){function P(){}return function(N){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return P.prototype=N,new P}}();function n(P,N){this.name="ParsingError",this.code=P.code,this.message=N||P.message}n.prototype=e(Error.prototype),n.prototype.constructor=n,n.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function r(P){function N(M,q,E,G){return(M|0)*3600+(q|0)*60+(E|0)+(G|0)/1e3}var U=P.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return U?U[3]?N(U[1],U[2],U[3].replace(":",""),U[4]):U[1]>59?N(U[1],U[2],0,U[4]):N(0,U[1],U[2],U[4]):null}function s(){this.values=e(null)}s.prototype={set:function(P,N){!this.get(P)&&N!==""&&(this.values[P]=N)},get:function(P,N,U){return U?this.has(P)?this.values[P]:N[U]:this.has(P)?this.values[P]:N},has:function(P){return P in this.values},alt:function(P,N,U){for(var M=0;M<U.length;++M)if(N===U[M]){this.set(P,N);break}},integer:function(P,N){/^-?\d+$/.test(N)&&this.set(P,parseInt(N,10))},percent:function(P,N){return N.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(N=parseFloat(N),N>=0&&N<=100)?(this.set(P,N),!0):!1}};function i(P,N,U,M){var q=M?P.split(M):[P];for(var E in q)if(typeof q[E]=="string"){var G=q[E].split(U);if(G.length===2){var Q=G[0].trim(),re=G[1].trim();N(Q,re)}}}function a(P,N,U){var M=P;function q(){var Q=r(P);if(Q===null)throw new n(n.Errors.BadTimeStamp,"Malformed timestamp: "+M);return P=P.replace(/^[^\sa-zA-Z-]+/,""),Q}function E(Q,re){var ee=new s;i(Q,function(Z,K){switch(Z){case"region":for(var F=U.length-1;F>=0;F--)if(U[F].id===K){ee.set(Z,U[F].region);break}break;case"vertical":ee.alt(Z,K,["rl","lr"]);break;case"line":var W=K.split(","),me=W[0];ee.integer(Z,me),ee.percent(Z,me)&&ee.set("snapToLines",!1),ee.alt(Z,me,["auto"]),W.length===2&&ee.alt("lineAlign",W[1],["start","center","end"]);break;case"position":W=K.split(","),ee.percent(Z,W[0]),W.length===2&&ee.alt("positionAlign",W[1],["start","center","end"]);break;case"size":ee.percent(Z,K);break;case"align":ee.alt(Z,K,["start","center","end","left","right"]);break}},/:/,/\s/),re.region=ee.get("region",null),re.vertical=ee.get("vertical","");try{re.line=ee.get("line","auto")}catch{}re.lineAlign=ee.get("lineAlign","start"),re.snapToLines=ee.get("snapToLines",!0),re.size=ee.get("size",100);try{re.align=ee.get("align","center")}catch{re.align=ee.get("align","middle")}try{re.position=ee.get("position","auto")}catch{re.position=ee.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},re.align)}re.positionAlign=ee.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},re.align)}function G(){P=P.replace(/^\s+/,"")}if(G(),N.startTime=q(),G(),P.substr(0,3)!=="-->")throw new n(n.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+M);P=P.substr(3),G(),N.endTime=q(),G(),E(P,N)}var l=t.createElement&&t.createElement("textarea"),c={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},u={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},h={v:"title",lang:"lang"},f={rt:"ruby"};function m(P,N){function U(){if(!N)return null;function me(ge){return N=N.substr(ge.length),ge}var ne=N.match(/^([^<]*)(<[^>]*>?)?/);return me(ne[1]?ne[1]:ne[2])}function M(me){return l.innerHTML=me,me=l.textContent,l.textContent="",me}function q(me,ne){return!f[ne.localName]||f[ne.localName]===me.localName}function E(me,ne){var ge=c[me];if(!ge)return null;var we=P.document.createElement(ge),je=h[me];return je&&ne&&(we[je]=ne.trim()),we}for(var G=P.document.createElement("div"),Q=G,re,ee=[];(re=U())!==null;){if(re[0]==="<"){if(re[1]==="/"){ee.length&&ee[ee.length-1]===re.substr(2).replace(">","")&&(ee.pop(),Q=Q.parentNode);continue}var Z=r(re.substr(1,re.length-2)),K;if(Z){K=P.document.createProcessingInstruction("timestamp",Z),Q.appendChild(K);continue}var F=re.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!F||(K=E(F[1],F[3]),!K)||!q(Q,K))continue;if(F[2]){var W=F[2].split(".");W.forEach(function(me){var ne=/^bg_/.test(me),ge=ne?me.slice(3):me;if(u.hasOwnProperty(ge)){var we=ne?"background-color":"color",je=u[ge];K.style[we]=je}}),K.className=W.join(" ")}ee.push(F[1]),Q.appendChild(K),Q=K;continue}Q.appendChild(P.document.createTextNode(M(re)))}return G}var g=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function b(P){for(var N=0;N<g.length;N++){var U=g[N];if(P>=U[0]&&P<=U[1])return!0}return!1}function y(P){var N=[],U="",M;if(!P||!P.childNodes)return"ltr";function q(Q,re){for(var ee=re.childNodes.length-1;ee>=0;ee--)Q.push(re.childNodes[ee])}function E(Q){if(!Q||!Q.length)return null;var re=Q.pop(),ee=re.textContent||re.innerText;if(ee){var Z=ee.match(/^.*(\n|\r)/);return Z?(Q.length=0,Z[0]):ee}if(re.tagName==="ruby")return E(Q);if(re.childNodes)return q(Q,re),E(Q)}for(q(N,P);U=E(N);)for(var G=0;G<U.length;G++)if(M=U.charCodeAt(G),b(M))return"rtl";return"ltr"}function x(P){if(typeof P.line=="number"&&(P.snapToLines||P.line>=0&&P.line<=100))return P.line;if(!P.track||!P.track.textTrackList||!P.track.textTrackList.mediaElement)return-1;for(var N=P.track,U=N.textTrackList,M=0,q=0;q<U.length&&U[q]!==N;q++)U[q].mode==="showing"&&M++;return++M*-1}function _(){}_.prototype.applyStyles=function(P,N){N=N||this.div;for(var U in P)P.hasOwnProperty(U)&&(N.style[U]=P[U])},_.prototype.formatStyle=function(P,N){return P===0?0:P+N};function S(P,N,U){_.call(this),this.cue=N,this.cueDiv=m(P,N.text);var M={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:N.vertical===""?"horizontal-tb":N.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(M,this.cueDiv),this.div=P.document.createElement("div"),M={direction:y(this.cueDiv),writingMode:N.vertical===""?"horizontal-tb":N.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:N.align==="middle"?"center":N.align,font:U.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(M),this.div.appendChild(this.cueDiv);var q=0;switch(N.positionAlign){case"start":case"line-left":q=N.position;break;case"center":q=N.position-N.size/2;break;case"end":case"line-right":q=N.position-N.size;break}N.vertical===""?this.applyStyles({left:this.formatStyle(q,"%"),width:this.formatStyle(N.size,"%")}):this.applyStyles({top:this.formatStyle(q,"%"),height:this.formatStyle(N.size,"%")}),this.move=function(E){this.applyStyles({top:this.formatStyle(E.top,"px"),bottom:this.formatStyle(E.bottom,"px"),left:this.formatStyle(E.left,"px"),right:this.formatStyle(E.right,"px"),height:this.formatStyle(E.height,"px"),width:this.formatStyle(E.width,"px")})}}S.prototype=e(_.prototype),S.prototype.constructor=S;function T(P){var N,U,M,q;if(P.div){U=P.div.offsetHeight,M=P.div.offsetWidth,q=P.div.offsetTop;var E=(E=P.div.childNodes)&&(E=E[0])&&E.getClientRects&&E.getClientRects();P=P.div.getBoundingClientRect(),N=E?Math.max(E[0]&&E[0].height||0,P.height/E.length):0}this.left=P.left,this.right=P.right,this.top=P.top||q,this.height=P.height||U,this.bottom=P.bottom||q+(P.height||U),this.width=P.width||M,this.lineHeight=N!==void 0?N:P.lineHeight}T.prototype.move=function(P,N){switch(N=N!==void 0?N:this.lineHeight,P){case"+x":this.left+=N,this.right+=N;break;case"-x":this.left-=N,this.right-=N;break;case"+y":this.top+=N,this.bottom+=N;break;case"-y":this.top-=N,this.bottom-=N;break}},T.prototype.overlaps=function(P){return this.left<P.right&&this.right>P.left&&this.top<P.bottom&&this.bottom>P.top},T.prototype.overlapsAny=function(P){for(var N=0;N<P.length;N++)if(this.overlaps(P[N]))return!0;return!1},T.prototype.within=function(P){return this.top>=P.top&&this.bottom<=P.bottom&&this.left>=P.left&&this.right<=P.right},T.prototype.overlapsOppositeAxis=function(P,N){switch(N){case"+x":return this.left<P.left;case"-x":return this.right>P.right;case"+y":return this.top<P.top;case"-y":return this.bottom>P.bottom}},T.prototype.intersectPercentage=function(P){var N=Math.max(0,Math.min(this.right,P.right)-Math.max(this.left,P.left)),U=Math.max(0,Math.min(this.bottom,P.bottom)-Math.max(this.top,P.top)),M=N*U;return M/(this.height*this.width)},T.prototype.toCSSCompatValues=function(P){return{top:this.top-P.top,bottom:P.bottom-this.bottom,left:this.left-P.left,right:P.right-this.right,height:this.height,width:this.width}},T.getSimpleBoxPosition=function(P){var N=P.div?P.div.offsetHeight:P.tagName?P.offsetHeight:0,U=P.div?P.div.offsetWidth:P.tagName?P.offsetWidth:0,M=P.div?P.div.offsetTop:P.tagName?P.offsetTop:0;P=P.div?P.div.getBoundingClientRect():P.tagName?P.getBoundingClientRect():P;var q={left:P.left,right:P.right,top:P.top||M,height:P.height||N,bottom:P.bottom||M+(P.height||N),width:P.width||U};return q};function D(P,N,U,M){function q(ge,we){for(var je,Re=new T(ge),ke=1,We=0;We<we.length;We++){for(;ge.overlapsOppositeAxis(U,we[We])||ge.within(U)&&ge.overlapsAny(M);)ge.move(we[We]);if(ge.within(U))return ge;var Je=ge.intersectPercentage(U);ke>Je&&(je=new T(ge),ke=Je),ge=new T(Re)}return je||Re}var E=new T(N),G=N.cue,Q=x(G),re=[];if(G.snapToLines){var ee;switch(G.vertical){case"":re=["+y","-y"],ee="height";break;case"rl":re=["+x","-x"],ee="width";break;case"lr":re=["-x","+x"],ee="width";break}var Z=E.lineHeight,K=Z*Math.round(Q),F=U[ee]+Z,W=re[0];Math.abs(K)>F&&(K=K<0?-1:1,K*=Math.ceil(F/Z)*Z),Q<0&&(K+=G.vertical===""?U.height:U.width,re=re.reverse()),E.move(W,K)}else{var me=E.lineHeight/U.height*100;switch(G.lineAlign){case"center":Q-=me/2;break;case"end":Q-=me;break}switch(G.vertical){case"":N.applyStyles({top:N.formatStyle(Q,"%")});break;case"rl":N.applyStyles({left:N.formatStyle(Q,"%")});break;case"lr":N.applyStyles({right:N.formatStyle(Q,"%")});break}re=["+y","-x","+x","-y"],E=new T(N)}var ne=q(E,re);N.move(ne.toCSSCompatValues(U))}function j(){}j.StringDecoder=function(){return{decode:function(P){if(!P)return"";if(typeof P!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(P))}}},j.convertCueToDOMTree=function(P,N){return!P||!N?null:m(P,N)};var A=.05,O="sans-serif",L="1.5%";return j.processCues=function(P,N,U){if(!P||!N||!U)return null;for(;U.firstChild;)U.removeChild(U.firstChild);var M=P.document.createElement("div");M.style.position="absolute",M.style.left="0",M.style.right="0",M.style.top="0",M.style.bottom="0",M.style.margin=L,U.appendChild(M);function q(Z){for(var K=0;K<Z.length;K++)if(Z[K].hasBeenReset||!Z[K].displayState)return!0;return!1}if(!q(N)){for(var E=0;E<N.length;E++)M.appendChild(N[E].displayState);return}var G=[],Q=T.getSimpleBoxPosition(M),re=Math.round(Q.height*A*100)/100,ee={font:re+"px "+O};(function(){for(var Z,K,F=0;F<N.length;F++)K=N[F],Z=new S(P,K,ee),M.appendChild(Z.div),D(P,Z,Q,G),K.displayState=Z.div,G.push(T.getSimpleBoxPosition(Z))})()},j.Parser=function(P,N,U){U||(U=N,N={}),N||(N={}),this.window=P,this.vttjs=N,this.state="INITIAL",this.buffer="",this.decoder=U||new TextDecoder("utf8"),this.regionList=[]},j.Parser.prototype={reportOrThrowError:function(P){if(P instanceof n)this.onparsingerror&&this.onparsingerror(P);else throw P},parse:function(P){var N=this;P&&(N.buffer+=N.decoder.decode(P,{stream:!0}));function U(){for(var Z=N.buffer,K=0;K<Z.length&&Z[K]!=="\r"&&Z[K]!==`
`;)++K;var F=Z.substr(0,K);return Z[K]==="\r"&&++K,Z[K]===`
`&&++K,N.buffer=Z.substr(K),F}function M(Z){var K=new s;if(i(Z,function(W,me){switch(W){case"id":K.set(W,me);break;case"width":K.percent(W,me);break;case"lines":K.integer(W,me);break;case"regionanchor":case"viewportanchor":var ne=me.split(",");if(ne.length!==2)break;var ge=new s;if(ge.percent("x",ne[0]),ge.percent("y",ne[1]),!ge.has("x")||!ge.has("y"))break;K.set(W+"X",ge.get("x")),K.set(W+"Y",ge.get("y"));break;case"scroll":K.alt(W,me,["up"]);break}},/=/,/\s/),K.has("id")){var F=new(N.vttjs.VTTRegion||N.window.VTTRegion);F.width=K.get("width",100),F.lines=K.get("lines",3),F.regionAnchorX=K.get("regionanchorX",0),F.regionAnchorY=K.get("regionanchorY",100),F.viewportAnchorX=K.get("viewportanchorX",0),F.viewportAnchorY=K.get("viewportanchorY",100),F.scroll=K.get("scroll",""),N.onregion&&N.onregion(F),N.regionList.push({id:K.get("id"),region:F})}}function q(Z){var K=new s;i(Z,function(F,W){switch(F){case"MPEGT":K.integer(F+"S",W);break;case"LOCA":K.set(F+"L",r(W));break}},/[^\d]:/,/,/),N.ontimestampmap&&N.ontimestampmap({MPEGTS:K.get("MPEGTS"),LOCAL:K.get("LOCAL")})}function E(Z){Z.match(/X-TIMESTAMP-MAP/)?i(Z,function(K,F){switch(K){case"X-TIMESTAMP-MAP":q(F);break}},/=/):i(Z,function(K,F){switch(K){case"Region":M(F);break}},/:/)}try{var G;if(N.state==="INITIAL"){if(!/\r\n|\n/.test(N.buffer))return this;G=U();var Q=G.match(/^WEBVTT([ \t].*)?$/);if(!Q||!Q[0])throw new n(n.Errors.BadSignature);N.state="HEADER"}for(var re=!1;N.buffer;){if(!/\r\n|\n/.test(N.buffer))return this;switch(re?re=!1:G=U(),N.state){case"HEADER":/:/.test(G)?E(G):G||(N.state="ID");continue;case"NOTE":G||(N.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(G)){N.state="NOTE";break}if(!G)continue;N.cue=new(N.vttjs.VTTCue||N.window.VTTCue)(0,0,"");try{N.cue.align="center"}catch{N.cue.align="middle"}if(N.state="CUE",G.indexOf("-->")===-1){N.cue.id=G;continue}case"CUE":try{a(G,N.cue,N.regionList)}catch(Z){N.reportOrThrowError(Z),N.cue=null,N.state="BADCUE";continue}N.state="CUETEXT";continue;case"CUETEXT":var ee=G.indexOf("-->")!==-1;if(!G||ee&&(re=!0)){N.oncue&&N.oncue(N.cue),N.cue=null,N.state="ID";continue}N.cue.text&&(N.cue.text+=`
`),N.cue.text+=G.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":G||(N.state="ID");continue}}}catch(Z){N.reportOrThrowError(Z),N.state==="CUETEXT"&&N.cue&&N.oncue&&N.oncue(N.cue),N.cue=null,N.state=N.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var P=this;try{if(P.buffer+=P.decoder.decode(),(P.cue||P.state==="HEADER")&&(P.buffer+=`

`,P.parse()),P.state==="INITIAL")throw new n(n.Errors.BadSignature)}catch(N){P.reportOrThrowError(N)}return P.onflush&&P.onflush(),this}},mw=j,mw}var gw,MA;function eoe(){if(MA)return gw;MA=1;var t="auto",e={"":1,lr:1,rl:1},n={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function r(a){if(typeof a!="string")return!1;var l=e[a.toLowerCase()];return l?a.toLowerCase():!1}function s(a){if(typeof a!="string")return!1;var l=n[a.toLowerCase()];return l?a.toLowerCase():!1}function i(a,l,c){this.hasBeenReset=!1;var u="",h=!1,f=a,m=l,g=c,b=null,y="",x=!0,_="auto",S="start",T="auto",D="auto",j=100,A="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return u},set:function(O){u=""+O}},pauseOnExit:{enumerable:!0,get:function(){return h},set:function(O){h=!!O}},startTime:{enumerable:!0,get:function(){return f},set:function(O){if(typeof O!="number")throw new TypeError("Start time must be set to a number.");f=O,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return m},set:function(O){if(typeof O!="number")throw new TypeError("End time must be set to a number.");m=O,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return g},set:function(O){g=""+O,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return b},set:function(O){b=O,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return y},set:function(O){var L=r(O);if(L===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");y=L,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return x},set:function(O){x=!!O,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return _},set:function(O){if(typeof O!="number"&&O!==t)throw new SyntaxError("Line: an invalid number or illegal string was specified.");_=O,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return S},set:function(O){var L=s(O);L?(S=L,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return T},set:function(O){if(O<0||O>100)throw new Error("Position must be between 0 and 100.");T=O,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return D},set:function(O){var L=s(O);L?(D=L,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return j},set:function(O){if(O<0||O>100)throw new Error("Size must be between 0 and 100.");j=O,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return A},set:function(O){var L=s(O);if(!L)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");A=L,this.hasBeenReset=!0}}}),this.displayState=void 0}return i.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},gw=i,gw}var yw,RA;function toe(){if(RA)return yw;RA=1;var t={"":!0,up:!0};function e(s){if(typeof s!="string")return!1;var i=t[s.toLowerCase()];return i?s.toLowerCase():!1}function n(s){return typeof s=="number"&&s>=0&&s<=100}function r(){var s=100,i=3,a=0,l=100,c=0,u=100,h="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return s},set:function(f){if(!n(f))throw new Error("Width must be between 0 and 100.");s=f}},lines:{enumerable:!0,get:function(){return i},set:function(f){if(typeof f!="number")throw new TypeError("Lines must be set to a number.");i=f}},regionAnchorY:{enumerable:!0,get:function(){return l},set:function(f){if(!n(f))throw new Error("RegionAnchorX must be between 0 and 100.");l=f}},regionAnchorX:{enumerable:!0,get:function(){return a},set:function(f){if(!n(f))throw new Error("RegionAnchorY must be between 0 and 100.");a=f}},viewportAnchorY:{enumerable:!0,get:function(){return u},set:function(f){if(!n(f))throw new Error("ViewportAnchorY must be between 0 and 100.");u=f}},viewportAnchorX:{enumerable:!0,get:function(){return c},set:function(f){if(!n(f))throw new Error("ViewportAnchorX must be between 0 and 100.");c=f}},scroll:{enumerable:!0,get:function(){return h},set:function(f){var m=e(f);m===!1?console.warn("Scroll: an invalid or illegal string was specified."):h=m}}})}return yw=r,yw}var LA;function noe(){if(LA)return pw.exports;LA=1;var t=Dv(),e=pw.exports={WebVTT:Jae(),VTTCue:eoe(),VTTRegion:toe()};t.vttjs=e,t.WebVTT=e.WebVTT;var n=e.VTTCue,r=e.VTTRegion,s=t.VTTCue,i=t.VTTRegion;return e.shim=function(){t.VTTCue=n,t.VTTRegion=r},e.restore=function(){t.VTTCue=s,t.VTTRegion=i},t.VTTCue||e.shim(),pw.exports}var roe=noe();const FA=Jr(roe);var BA="https://example.com",Av=function(e,n){if(/^[a-z]+:/i.test(n))return n;/^data:/.test(e)&&(e=De.location&&De.location.href||"");var r=/^\/\//.test(e),s=!De.location&&!/\/\//i.test(e);e=new De.URL(e,De.location||BA);var i=new URL(n,e);return s?i.href.slice(BA.length):r?i.href.slice(i.protocol.length):i.href},ik=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(r,s){this.listeners[r]||(this.listeners[r]=[]),this.listeners[r].push(s)},e.off=function(r,s){if(!this.listeners[r])return!1;var i=this.listeners[r].indexOf(s);return this.listeners[r]=this.listeners[r].slice(0),this.listeners[r].splice(i,1),i>-1},e.trigger=function(r){var s=this.listeners[r];if(s)if(arguments.length===2)for(var i=s.length,a=0;a<i;++a)s[a].call(this,arguments[1]);else for(var l=Array.prototype.slice.call(arguments,1),c=s.length,u=0;u<c;++u)s[u].apply(this,l)},e.dispose=function(){this.listeners={}},e.pipe=function(r){this.on("data",function(s){r.push(s)})},t}(),soe=function(e){return De.atob?De.atob(e):Buffer.from(e,"base64").toString("binary")};function yL(t){for(var e=soe(t),n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}/*! @name m3u8-parser @version 7.2.0 @license Apache-2.0 */class ioe extends ik{constructor(){super(),this.buffer=""}push(e){let n;for(this.buffer+=e,n=this.buffer.indexOf(`
`);n>-1;n=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,n)),this.buffer=this.buffer.substring(n+1)}}const aoe="	",bw=function(t){const e=/([0-9.]*)?@?([0-9.]*)?/.exec(t||""),n={};return e[1]&&(n.length=parseInt(e[1],10)),e[2]&&(n.offset=parseInt(e[2],10)),n},ooe=function(){const n="(?:"+"[^=]*"+")=(?:"+'"[^"]*"|[^,]*'+")";return new RegExp("(?:^|,)("+n+")")},di=function(t){const e={};if(!t)return e;const n=t.split(ooe());let r=n.length,s;for(;r--;)n[r]!==""&&(s=/([^=]*)=(.*)/.exec(n[r]).slice(1),s[0]=s[0].replace(/^\s+|\s+$/g,""),s[1]=s[1].replace(/^\s+|\s+$/g,""),s[1]=s[1].replace(/^['"](.*)['"]$/g,"$1"),e[s[0]]=s[1]);return e},$A=t=>{const e=t.split("x"),n={};return e[0]&&(n.width=parseInt(e[0],10)),e[1]&&(n.height=parseInt(e[1],10)),n};class loe extends ik{constructor(){super(),this.customParsers=[],this.tagMappers=[]}push(e){let n,r;if(e=e.trim(),e.length===0)return;if(e[0]!=="#"){this.trigger("data",{type:"uri",uri:e});return}this.tagMappers.reduce((i,a)=>{const l=a(e);return l===e?i:i.concat([l])},[e]).forEach(i=>{for(let a=0;a<this.customParsers.length;a++)if(this.customParsers[a].call(this,i))return;if(i.indexOf("#EXT")!==0){this.trigger("data",{type:"comment",text:i.slice(1)});return}if(i=i.replace("\r",""),n=/^#EXTM3U/.exec(i),n){this.trigger("data",{type:"tag",tagType:"m3u"});return}if(n=/^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(i),n){r={type:"tag",tagType:"inf"},n[1]&&(r.duration=parseFloat(n[1])),n[2]&&(r.title=n[2]),this.trigger("data",r);return}if(n=/^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(i),n){r={type:"tag",tagType:"targetduration"},n[1]&&(r.duration=parseInt(n[1],10)),this.trigger("data",r);return}if(n=/^#EXT-X-VERSION:([0-9.]*)?/.exec(i),n){r={type:"tag",tagType:"version"},n[1]&&(r.version=parseInt(n[1],10)),this.trigger("data",r);return}if(n=/^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(i),n){r={type:"tag",tagType:"media-sequence"},n[1]&&(r.number=parseInt(n[1],10)),this.trigger("data",r);return}if(n=/^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(i),n){r={type:"tag",tagType:"discontinuity-sequence"},n[1]&&(r.number=parseInt(n[1],10)),this.trigger("data",r);return}if(n=/^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(i),n){r={type:"tag",tagType:"playlist-type"},n[1]&&(r.playlistType=n[1]),this.trigger("data",r);return}if(n=/^#EXT-X-BYTERANGE:(.*)?$/.exec(i),n){r=Ge(bw(n[1]),{type:"tag",tagType:"byterange"}),this.trigger("data",r);return}if(n=/^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(i),n){r={type:"tag",tagType:"allow-cache"},n[1]&&(r.allowed=!/NO/.test(n[1])),this.trigger("data",r);return}if(n=/^#EXT-X-MAP:(.*)$/.exec(i),n){if(r={type:"tag",tagType:"map"},n[1]){const a=di(n[1]);a.URI&&(r.uri=a.URI),a.BYTERANGE&&(r.byterange=bw(a.BYTERANGE))}this.trigger("data",r);return}if(n=/^#EXT-X-STREAM-INF:(.*)$/.exec(i),n){r={type:"tag",tagType:"stream-inf"},n[1]&&(r.attributes=di(n[1]),r.attributes.RESOLUTION&&(r.attributes.RESOLUTION=$A(r.attributes.RESOLUTION)),r.attributes.BANDWIDTH&&(r.attributes.BANDWIDTH=parseInt(r.attributes.BANDWIDTH,10)),r.attributes["FRAME-RATE"]&&(r.attributes["FRAME-RATE"]=parseFloat(r.attributes["FRAME-RATE"])),r.attributes["PROGRAM-ID"]&&(r.attributes["PROGRAM-ID"]=parseInt(r.attributes["PROGRAM-ID"],10))),this.trigger("data",r);return}if(n=/^#EXT-X-MEDIA:(.*)$/.exec(i),n){r={type:"tag",tagType:"media"},n[1]&&(r.attributes=di(n[1])),this.trigger("data",r);return}if(n=/^#EXT-X-ENDLIST/.exec(i),n){this.trigger("data",{type:"tag",tagType:"endlist"});return}if(n=/^#EXT-X-DISCONTINUITY/.exec(i),n){this.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(n=/^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(i),n){r={type:"tag",tagType:"program-date-time"},n[1]&&(r.dateTimeString=n[1],r.dateTimeObject=new Date(n[1])),this.trigger("data",r);return}if(n=/^#EXT-X-KEY:(.*)$/.exec(i),n){r={type:"tag",tagType:"key"},n[1]&&(r.attributes=di(n[1]),r.attributes.IV&&(r.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(r.attributes.IV=r.attributes.IV.substring(2)),r.attributes.IV=r.attributes.IV.match(/.{8}/g),r.attributes.IV[0]=parseInt(r.attributes.IV[0],16),r.attributes.IV[1]=parseInt(r.attributes.IV[1],16),r.attributes.IV[2]=parseInt(r.attributes.IV[2],16),r.attributes.IV[3]=parseInt(r.attributes.IV[3],16),r.attributes.IV=new Uint32Array(r.attributes.IV))),this.trigger("data",r);return}if(n=/^#EXT-X-START:(.*)$/.exec(i),n){r={type:"tag",tagType:"start"},n[1]&&(r.attributes=di(n[1]),r.attributes["TIME-OFFSET"]=parseFloat(r.attributes["TIME-OFFSET"]),r.attributes.PRECISE=/YES/.test(r.attributes.PRECISE)),this.trigger("data",r);return}if(n=/^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(i),n){r={type:"tag",tagType:"cue-out-cont"},n[1]?r.data=n[1]:r.data="",this.trigger("data",r);return}if(n=/^#EXT-X-CUE-OUT:(.*)?$/.exec(i),n){r={type:"tag",tagType:"cue-out"},n[1]?r.data=n[1]:r.data="",this.trigger("data",r);return}if(n=/^#EXT-X-CUE-IN:?(.*)?$/.exec(i),n){r={type:"tag",tagType:"cue-in"},n[1]?r.data=n[1]:r.data="",this.trigger("data",r);return}if(n=/^#EXT-X-SKIP:(.*)$/.exec(i),n&&n[1]){r={type:"tag",tagType:"skip"},r.attributes=di(n[1]),r.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(r.attributes["SKIPPED-SEGMENTS"]=parseInt(r.attributes["SKIPPED-SEGMENTS"],10)),r.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(r.attributes["RECENTLY-REMOVED-DATERANGES"]=r.attributes["RECENTLY-REMOVED-DATERANGES"].split(aoe)),this.trigger("data",r);return}if(n=/^#EXT-X-PART:(.*)$/.exec(i),n&&n[1]){r={type:"tag",tagType:"part"},r.attributes=di(n[1]),["DURATION"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=parseFloat(r.attributes[a]))}),["INDEPENDENT","GAP"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=/YES/.test(r.attributes[a]))}),r.attributes.hasOwnProperty("BYTERANGE")&&(r.attributes.byterange=bw(r.attributes.BYTERANGE)),this.trigger("data",r);return}if(n=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(i),n&&n[1]){r={type:"tag",tagType:"server-control"},r.attributes=di(n[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=parseFloat(r.attributes[a]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=/YES/.test(r.attributes[a]))}),this.trigger("data",r);return}if(n=/^#EXT-X-PART-INF:(.*)$/.exec(i),n&&n[1]){r={type:"tag",tagType:"part-inf"},r.attributes=di(n[1]),["PART-TARGET"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=parseFloat(r.attributes[a]))}),this.trigger("data",r);return}if(n=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(i),n&&n[1]){r={type:"tag",tagType:"preload-hint"},r.attributes=di(n[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(a){if(r.attributes.hasOwnProperty(a)){r.attributes[a]=parseInt(r.attributes[a],10);const l=a==="BYTERANGE-LENGTH"?"length":"offset";r.attributes.byterange=r.attributes.byterange||{},r.attributes.byterange[l]=r.attributes[a],delete r.attributes[a]}}),this.trigger("data",r);return}if(n=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(i),n&&n[1]){r={type:"tag",tagType:"rendition-report"},r.attributes=di(n[1]),["LAST-MSN","LAST-PART"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=parseInt(r.attributes[a],10))}),this.trigger("data",r);return}if(n=/^#EXT-X-DATERANGE:(.*)$/.exec(i),n&&n[1]){r={type:"tag",tagType:"daterange"},r.attributes=di(n[1]),["ID","CLASS"].forEach(function(l){r.attributes.hasOwnProperty(l)&&(r.attributes[l]=String(r.attributes[l]))}),["START-DATE","END-DATE"].forEach(function(l){r.attributes.hasOwnProperty(l)&&(r.attributes[l]=new Date(r.attributes[l]))}),["DURATION","PLANNED-DURATION"].forEach(function(l){r.attributes.hasOwnProperty(l)&&(r.attributes[l]=parseFloat(r.attributes[l]))}),["END-ON-NEXT"].forEach(function(l){r.attributes.hasOwnProperty(l)&&(r.attributes[l]=/YES/i.test(r.attributes[l]))}),["SCTE35-CMD"," SCTE35-OUT","SCTE35-IN"].forEach(function(l){r.attributes.hasOwnProperty(l)&&(r.attributes[l]=r.attributes[l].toString(16))});const a=/^X-([A-Z]+-)+[A-Z]+$/;for(const l in r.attributes){if(!a.test(l))continue;const c=/[0-9A-Fa-f]{6}/g.test(r.attributes[l]),u=/^\d+(\.\d+)?$/.test(r.attributes[l]);r.attributes[l]=c?r.attributes[l].toString(16):u?parseFloat(r.attributes[l]):String(r.attributes[l])}this.trigger("data",r);return}if(n=/^#EXT-X-INDEPENDENT-SEGMENTS/.exec(i),n){this.trigger("data",{type:"tag",tagType:"independent-segments"});return}if(n=/^#EXT-X-I-FRAMES-ONLY/.exec(i),n){this.trigger("data",{type:"tag",tagType:"i-frames-only"});return}if(n=/^#EXT-X-CONTENT-STEERING:(.*)$/.exec(i),n){r={type:"tag",tagType:"content-steering"},r.attributes=di(n[1]),this.trigger("data",r);return}if(n=/^#EXT-X-I-FRAME-STREAM-INF:(.*)$/.exec(i),n){r={type:"tag",tagType:"i-frame-playlist"},r.attributes=di(n[1]),r.attributes.URI&&(r.uri=r.attributes.URI),r.attributes.BANDWIDTH&&(r.attributes.BANDWIDTH=parseInt(r.attributes.BANDWIDTH,10)),r.attributes.RESOLUTION&&(r.attributes.RESOLUTION=$A(r.attributes.RESOLUTION)),r.attributes["AVERAGE-BANDWIDTH"]&&(r.attributes["AVERAGE-BANDWIDTH"]=parseInt(r.attributes["AVERAGE-BANDWIDTH"],10)),r.attributes["FRAME-RATE"]&&(r.attributes["FRAME-RATE"]=parseFloat(r.attributes["FRAME-RATE"])),this.trigger("data",r);return}if(n=/^#EXT-X-DEFINE:(.*)$/.exec(i),n){r={type:"tag",tagType:"define"},r.attributes=di(n[1]),this.trigger("data",r);return}this.trigger("data",{type:"tag",data:i.slice(4)})})}addParser({expression:e,customType:n,dataParser:r,segment:s}){typeof r!="function"&&(r=i=>i),this.customParsers.push(i=>{if(e.exec(i))return this.trigger("data",{type:"custom",data:r(i),customType:n,segment:s}),!0})}addTagMapper({expression:e,map:n}){const r=s=>e.test(s)?n(s):s;this.tagMappers.push(r)}}const coe=t=>t.toLowerCase().replace(/-(\w)/g,e=>e[1].toUpperCase()),nu=function(t){const e={};return Object.keys(t).forEach(function(n){e[coe(n)]=t[n]}),e},xw=function(t){const{serverControl:e,targetDuration:n,partTargetDuration:r}=t;if(!e)return;const s="#EXT-X-SERVER-CONTROL",i="holdBack",a="partHoldBack",l=n&&n*3,c=r&&r*2;n&&!e.hasOwnProperty(i)&&(e[i]=l,this.trigger("info",{message:`${s} defaulting HOLD-BACK to targetDuration * 3 (${l}).`})),l&&e[i]<l&&(this.trigger("warn",{message:`${s} clamping HOLD-BACK (${e[i]}) to targetDuration * 3 (${l})`}),e[i]=l),r&&!e.hasOwnProperty(a)&&(e[a]=r*3,this.trigger("info",{message:`${s} defaulting PART-HOLD-BACK to partTargetDuration * 3 (${e[a]}).`})),r&&e[a]<c&&(this.trigger("warn",{message:`${s} clamping PART-HOLD-BACK (${e[a]}) to partTargetDuration * 2 (${c}).`}),e[a]=c)};class uoe extends ik{constructor(e={}){super(),this.lineStream=new ioe,this.parseStream=new loe,this.lineStream.pipe(this.parseStream),this.mainDefinitions=e.mainDefinitions||{},this.params=new URL(e.uri,"https://a.com").searchParams,this.lastProgramDateTime=null;const n=this,r=[];let s={},i,a,l=!1;const c=function(){},u={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},h="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";let f=0;this.manifest={allowCache:!0,discontinuityStarts:[],dateRanges:[],iFramePlaylists:[],segments:[]};let m=0,g=0;const b={};this.on("end",()=>{s.uri||!s.parts&&!s.preloadHints||(!s.map&&i&&(s.map=i),!s.key&&a&&(s.key=a),!s.timeline&&typeof f=="number"&&(s.timeline=f),this.manifest.preloadSegment=s)}),this.parseStream.on("data",function(y){let x,_;if(n.manifest.definitions){for(const S in n.manifest.definitions)if(y.uri&&(y.uri=y.uri.replace(`{$${S}}`,n.manifest.definitions[S])),y.attributes)for(const T in y.attributes)typeof y.attributes[T]=="string"&&(y.attributes[T]=y.attributes[T].replace(`{$${S}}`,n.manifest.definitions[S]))}({tag(){({version(){y.version&&(this.manifest.version=y.version)},"allow-cache"(){this.manifest.allowCache=y.allowed,"allowed"in y||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange(){const S={};"length"in y&&(s.byterange=S,S.length=y.length,"offset"in y||(y.offset=m)),"offset"in y&&(s.byterange=S,S.offset=y.offset),m=S.offset+S.length},endlist(){this.manifest.endList=!0},inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),y.title&&(s.title=y.title),y.duration>0&&(s.duration=y.duration),y.duration===0&&(s.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=r},key(){if(!y.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(y.attributes.METHOD==="NONE"){a=null;return}if(!y.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(y.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:y.attributes};return}if(y.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:y.attributes.URI};return}if(y.attributes.KEYFORMAT===h){if(["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(y.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(y.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),y.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(y.attributes.KEYID&&y.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:y.attributes.KEYFORMAT,keyId:y.attributes.KEYID.substring(2)},pssh:yL(y.attributes.URI.split(",")[1])};return}y.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),a={method:y.attributes.METHOD||"AES-128",uri:y.attributes.URI},typeof y.attributes.IV<"u"&&(a.iv=y.attributes.IV)},"media-sequence"(){if(!isFinite(y.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+y.number});return}this.manifest.mediaSequence=y.number},"discontinuity-sequence"(){if(!isFinite(y.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+y.number});return}this.manifest.discontinuitySequence=y.number,f=y.number},"playlist-type"(){if(!/VOD|EVENT/.test(y.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+y.playlist});return}this.manifest.playlistType=y.playlistType},map(){i={},y.uri&&(i.uri=y.uri),y.byterange&&(i.byterange=y.byterange),a&&(i.key=a)},"stream-inf"(){if(this.manifest.playlists=r,this.manifest.mediaGroups=this.manifest.mediaGroups||u,!y.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}s.attributes||(s.attributes={}),Ge(s.attributes,y.attributes)},media(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||u,!(y.attributes&&y.attributes.TYPE&&y.attributes["GROUP-ID"]&&y.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}const S=this.manifest.mediaGroups[y.attributes.TYPE];S[y.attributes["GROUP-ID"]]=S[y.attributes["GROUP-ID"]]||{},x=S[y.attributes["GROUP-ID"]],_={default:/yes/i.test(y.attributes.DEFAULT)},_.default?_.autoselect=!0:_.autoselect=/yes/i.test(y.attributes.AUTOSELECT),y.attributes.LANGUAGE&&(_.language=y.attributes.LANGUAGE),y.attributes.URI&&(_.uri=y.attributes.URI),y.attributes["INSTREAM-ID"]&&(_.instreamId=y.attributes["INSTREAM-ID"]),y.attributes.CHARACTERISTICS&&(_.characteristics=y.attributes.CHARACTERISTICS),y.attributes.FORCED&&(_.forced=/yes/i.test(y.attributes.FORCED)),x[y.attributes.NAME]=_},discontinuity(){f+=1,s.discontinuity=!0,this.manifest.discontinuityStarts.push(r.length)},"program-date-time"(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=y.dateTimeString,this.manifest.dateTimeObject=y.dateTimeObject),s.dateTimeString=y.dateTimeString,s.dateTimeObject=y.dateTimeObject;const{lastProgramDateTime:S}=this;this.lastProgramDateTime=new Date(y.dateTimeString).getTime(),S===null&&this.manifest.segments.reduceRight((T,D)=>(D.programDateTime=T-D.duration*1e3,D.programDateTime),this.lastProgramDateTime)},targetduration(){if(!isFinite(y.duration)||y.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+y.duration});return}this.manifest.targetDuration=y.duration,xw.call(this,this.manifest)},start(){if(!y.attributes||isNaN(y.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:y.attributes["TIME-OFFSET"],precise:y.attributes.PRECISE}},"cue-out"(){s.cueOut=y.data},"cue-out-cont"(){s.cueOutCont=y.data},"cue-in"(){s.cueIn=y.data},skip(){this.manifest.skip=nu(y.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",y.attributes,["SKIPPED-SEGMENTS"])},part(){l=!0;const S=this.manifest.segments.length,T=nu(y.attributes);s.parts=s.parts||[],s.parts.push(T),T.byterange&&(T.byterange.hasOwnProperty("offset")||(T.byterange.offset=g),g=T.byterange.offset+T.byterange.length);const D=s.parts.length-1;this.warnOnMissingAttributes_(`#EXT-X-PART #${D} for segment #${S}`,y.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((j,A)=>{j.hasOwnProperty("lastPart")||this.trigger("warn",{message:`#EXT-X-RENDITION-REPORT #${A} lacks required attribute(s): LAST-PART`})})},"server-control"(){const S=this.manifest.serverControl=nu(y.attributes);S.hasOwnProperty("canBlockReload")||(S.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),xw.call(this,this.manifest),S.canSkipDateranges&&!S.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint"(){const S=this.manifest.segments.length,T=nu(y.attributes),D=T.type&&T.type==="PART";s.preloadHints=s.preloadHints||[],s.preloadHints.push(T),T.byterange&&(T.byterange.hasOwnProperty("offset")||(T.byterange.offset=D?g:0,D&&(g=T.byterange.offset+T.byterange.length)));const j=s.preloadHints.length-1;if(this.warnOnMissingAttributes_(`#EXT-X-PRELOAD-HINT #${j} for segment #${S}`,y.attributes,["TYPE","URI"]),!!T.type)for(let A=0;A<s.preloadHints.length-1;A++){const O=s.preloadHints[A];O.type&&O.type===T.type&&this.trigger("warn",{message:`#EXT-X-PRELOAD-HINT #${j} for segment #${S} has the same TYPE ${T.type} as preload hint #${A}`})}},"rendition-report"(){const S=nu(y.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(S);const T=this.manifest.renditionReports.length-1,D=["LAST-MSN","URI"];l&&D.push("LAST-PART"),this.warnOnMissingAttributes_(`#EXT-X-RENDITION-REPORT #${T}`,y.attributes,D)},"part-inf"(){this.manifest.partInf=nu(y.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",y.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),xw.call(this,this.manifest)},daterange(){this.manifest.dateRanges.push(nu(y.attributes));const S=this.manifest.dateRanges.length-1;this.warnOnMissingAttributes_(`#EXT-X-DATERANGE #${S}`,y.attributes,["ID","START-DATE"]);const T=this.manifest.dateRanges[S];T.endDate&&T.startDate&&new Date(T.endDate)<new Date(T.startDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE END-DATE must be equal to or later than the value of the START-DATE"}),T.duration&&T.duration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE DURATION must not be negative"}),T.plannedDuration&&T.plannedDuration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE PLANNED-DURATION must not be negative"});const D=!!T.endOnNext;if(D&&!T.class&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must have a CLASS attribute"}),D&&(T.duration||T.endDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must not contain DURATION or END-DATE attributes"}),T.duration&&T.endDate){const A=T.startDate.getTime()+T.duration*1e3;this.manifest.dateRanges[S].endDate=new Date(A)}if(!b[T.id])b[T.id]=T;else{for(const A in b[T.id])if(T[A]&&JSON.stringify(b[T.id][A])!==JSON.stringify(T[A])){this.trigger("warn",{message:"EXT-X-DATERANGE tags with the same ID in a playlist must have the same attributes values"});break}const j=this.manifest.dateRanges.findIndex(A=>A.id===T.id);this.manifest.dateRanges[j]=Ge(this.manifest.dateRanges[j],T),b[T.id]=Ge(b[T.id],T),this.manifest.dateRanges.pop()}},"independent-segments"(){this.manifest.independentSegments=!0},"i-frames-only"(){this.manifest.iFramesOnly=!0,this.requiredCompatibilityversion(this.manifest.version,4)},"content-steering"(){this.manifest.contentSteering=nu(y.attributes),this.warnOnMissingAttributes_("#EXT-X-CONTENT-STEERING",y.attributes,["SERVER-URI"])},define(){this.manifest.definitions=this.manifest.definitions||{};const S=(T,D)=>{if(T in this.manifest.definitions){this.trigger("error",{message:`EXT-X-DEFINE: Duplicate name ${T}`});return}this.manifest.definitions[T]=D};if("QUERYPARAM"in y.attributes){if("NAME"in y.attributes||"IMPORT"in y.attributes){this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"});return}const T=this.params.get(y.attributes.QUERYPARAM);if(!T){this.trigger("error",{message:`EXT-X-DEFINE: No query param ${y.attributes.QUERYPARAM}`});return}S(y.attributes.QUERYPARAM,decodeURIComponent(T));return}if("NAME"in y.attributes){if("IMPORT"in y.attributes){this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"});return}if(!("VALUE"in y.attributes)||typeof y.attributes.VALUE!="string"){this.trigger("error",{message:`EXT-X-DEFINE: No value for ${y.attributes.NAME}`});return}S(y.attributes.NAME,y.attributes.VALUE);return}if("IMPORT"in y.attributes){if(!this.mainDefinitions[y.attributes.IMPORT]){this.trigger("error",{message:`EXT-X-DEFINE: No value ${y.attributes.IMPORT} to import, or IMPORT used on main playlist`});return}S(y.attributes.IMPORT,this.mainDefinitions[y.attributes.IMPORT]);return}this.trigger("error",{message:"EXT-X-DEFINE: No attribute"})},"i-frame-playlist"(){this.manifest.iFramePlaylists.push({attributes:y.attributes,uri:y.uri,timeline:f}),this.warnOnMissingAttributes_("#EXT-X-I-FRAME-STREAM-INF",y.attributes,["BANDWIDTH","URI"])}}[y.tagType]||c).call(n)},uri(){s.uri=y.uri,r.push(s),this.manifest.targetDuration&&!("duration"in s)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),s.duration=this.manifest.targetDuration),a&&(s.key=a),s.timeline=f,i&&(s.map=i),g=0,this.lastProgramDateTime!==null&&(s.programDateTime=this.lastProgramDateTime,this.lastProgramDateTime+=s.duration*1e3),s={}},comment(){},custom(){y.segment?(s.custom=s.custom||{},s.custom[y.customType]=y.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[y.customType]=y.data)}})[y.type].call(n)})}requiredCompatibilityversion(e,n){(e<n||!e)&&this.trigger("warn",{message:`manifest must be at least version ${n}`})}warnOnMissingAttributes_(e,n,r){const s=[];r.forEach(function(i){n.hasOwnProperty(i)||s.push(i)}),s.length&&this.trigger("warn",{message:`${e} lacks required attribute(s): ${s.join(", ")}`})}push(e){this.lineStream.push(e)}end(){this.lineStream.push(`
`),this.manifest.dateRanges.length&&this.lastProgramDateTime===null&&this.trigger("warn",{message:"A playlist with EXT-X-DATERANGE tag must contain atleast one EXT-X-PROGRAM-DATE-TIME tag"}),this.lastProgramDateTime=null,this.trigger("end")}addParser(e){this.parseStream.addParser(e)}addTagMapper(e){this.parseStream.addTagMapper(e)}}var $d={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},doe=["video","audio","text"],zA=["Video","Audio","Text"],bL=function(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(n,r,s){var i=("00"+Number(r).toString(16)).slice(-2),a=("00"+Number(s).toString(16)).slice(-2);return"avc1."+i+"00"+a})},ll=function(e){e===void 0&&(e="");var n=e.split(","),r=[];return n.forEach(function(s){s=s.trim();var i;doe.forEach(function(a){var l=$d[a].exec(s.toLowerCase());if(!(!l||l.length<=1)){i=a;var c=s.substring(0,l[1].length),u=s.replace(c,"");r.push({type:c,details:u,mediaType:a})}}),i||r.push({type:s,details:"",mediaType:"unknown"})}),r},hoe=function(e,n){if(!e.mediaGroups.AUDIO||!n)return null;var r=e.mediaGroups.AUDIO[n];if(!r)return null;for(var s in r){var i=r[s];if(i.default&&i.playlists)return ll(i.playlists[0].attributes.CODECS)}return null},xL=function(e){return e===void 0&&(e=""),$d.audio.test(e.trim().toLowerCase())},foe=function(e){return e===void 0&&(e=""),$d.text.test(e.trim().toLowerCase())},qf=function(e){if(!(!e||typeof e!="string")){var n=e.toLowerCase().split(",").map(function(i){return bL(i.trim())}),r="video";n.length===1&&xL(n[0])?r="audio":n.length===1&&foe(n[0])&&(r="application");var s="mp4";return n.every(function(i){return $d.mp4.test(i)})?s="mp4":n.every(function(i){return $d.webm.test(i)})?s="webm":n.every(function(i){return $d.ogg.test(i)})&&(s="ogg"),r+"/"+s+';codecs="'+e+'"'}},Zm=function(e,n){return e===void 0&&(e=""),n===void 0&&(n=!1),De.MediaSource&&De.MediaSource.isTypeSupported&&De.MediaSource.isTypeSupported(qf(e))||n&&De.ManagedMediaSource&&De.ManagedMediaSource.isTypeSupported&&De.ManagedMediaSource.isTypeSupported(qf(e))||!1},vw=function(e){return e===void 0&&(e=""),e.toLowerCase().split(",").every(function(n){n=n.trim();for(var r=0;r<zA.length;r++){var s=zA[r];if($d["muxer"+s].test(n))return!0}return!1})},UA="mp4a.40.2",poe="avc1.4d400d",moe=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,goe=/^application\/dash\+xml/i,vL=function(e){return moe.test(e)?"hls":goe.test(e)?"dash":e==="application/vnd.videojs.vhs+json"?"vhs-json":null},yoe=function(e){return e.toString(2).length},boe=function(e){return Math.ceil(yoe(e)/8)},_L=function(e){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},xoe=function(e){return _L(e)},hn=function(e){return e instanceof Uint8Array?e:(!Array.isArray(e)&&!xoe(e)&&!(e instanceof ArrayBuffer)&&(typeof e!="number"||typeof e=="number"&&e!==e?e=0:e=[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},Ms=De.BigInt||Number,yS=[Ms("0x1"),Ms("0x100"),Ms("0x10000"),Ms("0x1000000"),Ms("0x100000000"),Ms("0x10000000000"),Ms("0x1000000000000"),Ms("0x100000000000000"),Ms("0x10000000000000000")];(function(){var t=new Uint16Array([65484]),e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"})();var voe=function(e,n){var r=n===void 0?{}:n,s=r.signed,i=s===void 0?!1:s,a=r.le,l=a===void 0?!1:a;e=hn(e);var c=l?"reduce":"reduceRight",u=e[c]?e[c]:Array.prototype[c],h=u.call(e,function(m,g,b){var y=l?b:Math.abs(b+1-e.length);return m+Ms(g)*yS[y]},Ms(0));if(i){var f=yS[e.length]/Ms(2)-Ms(1);h=Ms(h),h>f&&(h-=f,h-=f,h-=Ms(2))}return Number(h)},_oe=function(e,n){var r={},s=r.le,i=s===void 0?!1:s;(typeof e!="bigint"&&typeof e!="number"||typeof e=="number"&&e!==e)&&(e=0),e=Ms(e);for(var a=boe(e),l=new Uint8Array(new ArrayBuffer(a)),c=0;c<a;c++){var u=i?c:Math.abs(c+1-l.length);l[u]=Number(e/yS[c]&Ms(255)),e<0&&(l[u]=Math.abs(~l[u]),l[u]-=c===0?1:2)}return l},wL=function(e,n){if(typeof e!="string"&&e&&typeof e.toString=="function"&&(e=e.toString()),typeof e!="string")return new Uint8Array;n||(e=unescape(encodeURIComponent(e)));for(var r=new Uint8Array(e.length),s=0;s<e.length;s++)r[s]=e.charCodeAt(s);return r},woe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n=n.filter(function(l){return l&&(l.byteLength||l.length)&&typeof l!="string"}),n.length<=1)return hn(n[0]);var s=n.reduce(function(l,c,u){return l+(c.byteLength||c.length)},0),i=new Uint8Array(s),a=0;return n.forEach(function(l){l=hn(l),i.set(l,a),a+=l.byteLength}),i},Dr=function(e,n,r){var s=r===void 0?{}:r,i=s.offset,a=i===void 0?0:i,l=s.mask,c=l===void 0?[]:l;e=hn(e),n=hn(n);var u=n.every?n.every:Array.prototype.every;return n.length&&e.length-a>=n.length&&u.call(n,function(h,f){var m=c[f]?c[f]&e[a+f]:e[a+f];return h===m})},Soe=function(e,n,r){n.forEach(function(s){for(var i in e.mediaGroups[s])for(var a in e.mediaGroups[s][i]){var l=e.mediaGroups[s][i][a];r(l,s,i,a)}})},_m={},Ql={},gd={},HA;function Pv(){if(HA)return gd;HA=1;function t(i,a,l){if(l===void 0&&(l=Array.prototype),i&&typeof l.find=="function")return l.find.call(i,a);for(var c=0;c<i.length;c++)if(Object.prototype.hasOwnProperty.call(i,c)){var u=i[c];if(a.call(void 0,u,c,i))return u}}function e(i,a){return a===void 0&&(a=Object),a&&typeof a.freeze=="function"?a.freeze(i):i}function n(i,a){if(i===null||typeof i!="object")throw new TypeError("target is not an object");for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(i[l]=a[l]);return i}var r=e({HTML:"text/html",isHTML:function(i){return i===r.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),s=e({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(i){return i===s.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return gd.assign=n,gd.find=t,gd.freeze=e,gd.MIME_TYPE=r,gd.NAMESPACE=s,gd}var WA;function SL(){if(WA)return Ql;WA=1;var t=Pv(),e=t.find,n=t.NAMESPACE;function r(te){return te!==""}function s(te){return te?te.split(/[\t\n\f\r ]+/).filter(r):[]}function i(te,le){return te.hasOwnProperty(le)||(te[le]=!0),te}function a(te){if(!te)return[];var le=s(te);return Object.keys(le.reduce(i,{}))}function l(te){return function(le){return te&&te.indexOf(le)!==-1}}function c(te,le){for(var be in te)Object.prototype.hasOwnProperty.call(te,be)&&(le[be]=te[be])}function u(te,le){var be=te.prototype;if(!(be instanceof le)){let ue=function(){};ue.prototype=le.prototype,ue=new ue,c(be,ue),te.prototype=be=ue}be.constructor!=te&&(typeof te!="function"&&console.error("unknown Class:"+te),be.constructor=te)}var h={},f=h.ELEMENT_NODE=1,m=h.ATTRIBUTE_NODE=2,g=h.TEXT_NODE=3,b=h.CDATA_SECTION_NODE=4,y=h.ENTITY_REFERENCE_NODE=5,x=h.ENTITY_NODE=6,_=h.PROCESSING_INSTRUCTION_NODE=7,S=h.COMMENT_NODE=8,T=h.DOCUMENT_NODE=9,D=h.DOCUMENT_TYPE_NODE=10,j=h.DOCUMENT_FRAGMENT_NODE=11,A=h.NOTATION_NODE=12,O={},L={};O.INDEX_SIZE_ERR=(L[1]="Index size error",1),O.DOMSTRING_SIZE_ERR=(L[2]="DOMString size error",2);var P=O.HIERARCHY_REQUEST_ERR=(L[3]="Hierarchy request error",3);O.WRONG_DOCUMENT_ERR=(L[4]="Wrong document",4),O.INVALID_CHARACTER_ERR=(L[5]="Invalid character",5),O.NO_DATA_ALLOWED_ERR=(L[6]="No data allowed",6),O.NO_MODIFICATION_ALLOWED_ERR=(L[7]="No modification allowed",7);var N=O.NOT_FOUND_ERR=(L[8]="Not found",8);O.NOT_SUPPORTED_ERR=(L[9]="Not supported",9);var U=O.INUSE_ATTRIBUTE_ERR=(L[10]="Attribute in use",10);O.INVALID_STATE_ERR=(L[11]="Invalid state",11),O.SYNTAX_ERR=(L[12]="Syntax error",12),O.INVALID_MODIFICATION_ERR=(L[13]="Invalid modification",13),O.NAMESPACE_ERR=(L[14]="Invalid namespace",14),O.INVALID_ACCESS_ERR=(L[15]="Invalid access",15);function M(te,le){if(le instanceof Error)var be=le;else be=this,Error.call(this,L[te]),this.message=L[te],Error.captureStackTrace&&Error.captureStackTrace(this,M);return be.code=te,le&&(this.message=this.message+": "+le),be}M.prototype=Error.prototype,c(O,M);function q(){}q.prototype={length:0,item:function(te){return te>=0&&te<this.length?this[te]:null},toString:function(te,le){for(var be=[],ue=0;ue<this.length;ue++)Ye(this[ue],be,te,le);return be.join("")},filter:function(te){return Array.prototype.filter.call(this,te)},indexOf:function(te){return Array.prototype.indexOf.call(this,te)}};function E(te,le){this._node=te,this._refresh=le,G(this)}function G(te){var le=te._node._inc||te._node.ownerDocument._inc;if(te._inc!==le){var be=te._refresh(te._node);if(it(te,"length",be.length),!te.$$length||be.length<te.$$length)for(var ue=be.length;ue in te;ue++)Object.prototype.hasOwnProperty.call(te,ue)&&delete te[ue];c(be,te),te._inc=le}}E.prototype.item=function(te){return G(this),this[te]||null},u(E,q);function Q(){}function re(te,le){for(var be=te.length;be--;)if(te[be]===le)return be}function ee(te,le,be,ue){if(ue?le[re(le,ue)]=be:le[le.length++]=be,te){be.ownerElement=te;var Oe=te.ownerDocument;Oe&&(ue&&we(Oe,te,ue),ge(Oe,te,be))}}function Z(te,le,be){var ue=re(le,be);if(ue>=0){for(var Oe=le.length-1;ue<Oe;)le[ue]=le[++ue];if(le.length=Oe,te){var wt=te.ownerDocument;wt&&(we(wt,te,be),be.ownerElement=null)}}else throw new M(N,new Error(te.tagName+"@"+be))}Q.prototype={length:0,item:q.prototype.item,getNamedItem:function(te){for(var le=this.length;le--;){var be=this[le];if(be.nodeName==te)return be}},setNamedItem:function(te){var le=te.ownerElement;if(le&&le!=this._ownerElement)throw new M(U);var be=this.getNamedItem(te.nodeName);return ee(this._ownerElement,this,te,be),be},setNamedItemNS:function(te){var le=te.ownerElement,be;if(le&&le!=this._ownerElement)throw new M(U);return be=this.getNamedItemNS(te.namespaceURI,te.localName),ee(this._ownerElement,this,te,be),be},removeNamedItem:function(te){var le=this.getNamedItem(te);return Z(this._ownerElement,this,le),le},removeNamedItemNS:function(te,le){var be=this.getNamedItemNS(te,le);return Z(this._ownerElement,this,be),be},getNamedItemNS:function(te,le){for(var be=this.length;be--;){var ue=this[be];if(ue.localName==le&&ue.namespaceURI==te)return ue}return null}};function K(){}K.prototype={hasFeature:function(te,le){return!0},createDocument:function(te,le,be){var ue=new ne;if(ue.implementation=this,ue.childNodes=new q,ue.doctype=be||null,be&&ue.appendChild(be),le){var Oe=ue.createElementNS(te,le);ue.appendChild(Oe)}return ue},createDocumentType:function(te,le,be){var ue=new ut;return ue.name=te,ue.nodeName=te,ue.publicId=le||"",ue.systemId=be||"",ue}};function F(){}F.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(te,le){return fe(this,te,le)},replaceChild:function(te,le){fe(this,te,le,ie),le&&this.removeChild(le)},removeChild:function(te){return Re(this,te)},appendChild:function(te){return this.insertBefore(te,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(te){return Ze(this.ownerDocument||this,this,te)},normalize:function(){for(var te=this.firstChild;te;){var le=te.nextSibling;le&&le.nodeType==g&&te.nodeType==g?(this.removeChild(le),te.appendData(le.data)):(te.normalize(),te=le)}},isSupported:function(te,le){return this.ownerDocument.implementation.hasFeature(te,le)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(te){for(var le=this;le;){var be=le._nsMap;if(be){for(var ue in be)if(Object.prototype.hasOwnProperty.call(be,ue)&&be[ue]===te)return ue}le=le.nodeType==m?le.ownerDocument:le.parentNode}return null},lookupNamespaceURI:function(te){for(var le=this;le;){var be=le._nsMap;if(be&&Object.prototype.hasOwnProperty.call(be,te))return be[te];le=le.nodeType==m?le.ownerDocument:le.parentNode}return null},isDefaultNamespace:function(te){var le=this.lookupPrefix(te);return le==null}};function W(te){return te=="<"&&"&lt;"||te==">"&&"&gt;"||te=="&"&&"&amp;"||te=='"'&&"&quot;"||"&#"+te.charCodeAt()+";"}c(h,F),c(h,F.prototype);function me(te,le){if(le(te))return!0;if(te=te.firstChild)do if(me(te,le))return!0;while(te=te.nextSibling)}function ne(){this.ownerDocument=this}function ge(te,le,be){te&&te._inc++;var ue=be.namespaceURI;ue===n.XMLNS&&(le._nsMap[be.prefix?be.localName:""]=be.value)}function we(te,le,be,ue){te&&te._inc++;var Oe=be.namespaceURI;Oe===n.XMLNS&&delete le._nsMap[be.prefix?be.localName:""]}function je(te,le,be){if(te&&te._inc){te._inc++;var ue=le.childNodes;if(be)ue[ue.length++]=be;else{for(var Oe=le.firstChild,wt=0;Oe;)ue[wt++]=Oe,Oe=Oe.nextSibling;ue.length=wt,delete ue[ue.length]}}}function Re(te,le){var be=le.previousSibling,ue=le.nextSibling;return be?be.nextSibling=ue:te.firstChild=ue,ue?ue.previousSibling=be:te.lastChild=be,le.parentNode=null,le.previousSibling=null,le.nextSibling=null,je(te.ownerDocument,te),le}function ke(te){return te&&(te.nodeType===F.DOCUMENT_NODE||te.nodeType===F.DOCUMENT_FRAGMENT_NODE||te.nodeType===F.ELEMENT_NODE)}function We(te){return te&&(nt(te)||ct(te)||Je(te)||te.nodeType===F.DOCUMENT_FRAGMENT_NODE||te.nodeType===F.COMMENT_NODE||te.nodeType===F.PROCESSING_INSTRUCTION_NODE)}function Je(te){return te&&te.nodeType===F.DOCUMENT_TYPE_NODE}function nt(te){return te&&te.nodeType===F.ELEMENT_NODE}function ct(te){return te&&te.nodeType===F.TEXT_NODE}function X(te,le){var be=te.childNodes||[];if(e(be,nt)||Je(le))return!1;var ue=e(be,Je);return!(le&&ue&&be.indexOf(ue)>be.indexOf(le))}function Me(te,le){var be=te.childNodes||[];function ue(wt){return nt(wt)&&wt!==le}if(e(be,ue))return!1;var Oe=e(be,Je);return!(le&&Oe&&be.indexOf(Oe)>be.indexOf(le))}function ye(te,le,be){if(!ke(te))throw new M(P,"Unexpected parent node type "+te.nodeType);if(be&&be.parentNode!==te)throw new M(N,"child not in parent");if(!We(le)||Je(le)&&te.nodeType!==F.DOCUMENT_NODE)throw new M(P,"Unexpected node type "+le.nodeType+" for parent node type "+te.nodeType)}function se(te,le,be){var ue=te.childNodes||[],Oe=le.childNodes||[];if(le.nodeType===F.DOCUMENT_FRAGMENT_NODE){var wt=Oe.filter(nt);if(wt.length>1||e(Oe,ct))throw new M(P,"More than one element or text in fragment");if(wt.length===1&&!X(te,be))throw new M(P,"Element in fragment can not be inserted before doctype")}if(nt(le)&&!X(te,be))throw new M(P,"Only one element can be added and only after doctype");if(Je(le)){if(e(ue,Je))throw new M(P,"Only one doctype is allowed");var At=e(ue,nt);if(be&&ue.indexOf(At)<ue.indexOf(be))throw new M(P,"Doctype can only be inserted before an element");if(!be&&At)throw new M(P,"Doctype can not be appended since element is present")}}function ie(te,le,be){var ue=te.childNodes||[],Oe=le.childNodes||[];if(le.nodeType===F.DOCUMENT_FRAGMENT_NODE){var wt=Oe.filter(nt);if(wt.length>1||e(Oe,ct))throw new M(P,"More than one element or text in fragment");if(wt.length===1&&!Me(te,be))throw new M(P,"Element in fragment can not be inserted before doctype")}if(nt(le)&&!Me(te,be))throw new M(P,"Only one element can be added and only after doctype");if(Je(le)){if(e(ue,function(Ct){return Je(Ct)&&Ct!==be}))throw new M(P,"Only one doctype is allowed");var At=e(ue,nt);if(be&&ue.indexOf(At)<ue.indexOf(be))throw new M(P,"Doctype can only be inserted before an element")}}function fe(te,le,be,ue){ye(te,le,be),te.nodeType===F.DOCUMENT_NODE&&(ue||se)(te,le,be);var Oe=le.parentNode;if(Oe&&Oe.removeChild(le),le.nodeType===j){var wt=le.firstChild;if(wt==null)return le;var At=le.lastChild}else wt=At=le;var Ut=be?be.previousSibling:te.lastChild;wt.previousSibling=Ut,At.nextSibling=be,Ut?Ut.nextSibling=wt:te.firstChild=wt,be==null?te.lastChild=At:be.previousSibling=At;do wt.parentNode=te;while(wt!==At&&(wt=wt.nextSibling));return je(te.ownerDocument||te,te),le.nodeType==j&&(le.firstChild=le.lastChild=null),le}function Te(te,le){return le.parentNode&&le.parentNode.removeChild(le),le.parentNode=te,le.previousSibling=te.lastChild,le.nextSibling=null,le.previousSibling?le.previousSibling.nextSibling=le:te.firstChild=le,te.lastChild=le,je(te.ownerDocument,te,le),le}ne.prototype={nodeName:"#document",nodeType:T,doctype:null,documentElement:null,_inc:1,insertBefore:function(te,le){if(te.nodeType==j){for(var be=te.firstChild;be;){var ue=be.nextSibling;this.insertBefore(be,le),be=ue}return te}return fe(this,te,le),te.ownerDocument=this,this.documentElement===null&&te.nodeType===f&&(this.documentElement=te),te},removeChild:function(te){return this.documentElement==te&&(this.documentElement=null),Re(this,te)},replaceChild:function(te,le){fe(this,te,le,ie),te.ownerDocument=this,le&&this.removeChild(le),nt(te)&&(this.documentElement=te)},importNode:function(te,le){return _t(this,te,le)},getElementById:function(te){var le=null;return me(this.documentElement,function(be){if(be.nodeType==f&&be.getAttribute("id")==te)return le=be,!0}),le},getElementsByClassName:function(te){var le=a(te);return new E(this,function(be){var ue=[];return le.length>0&&me(be.documentElement,function(Oe){if(Oe!==be&&Oe.nodeType===f){var wt=Oe.getAttribute("class");if(wt){var At=te===wt;if(!At){var Ut=a(wt);At=le.every(l(Ut))}At&&ue.push(Oe)}}}),ue})},createElement:function(te){var le=new he;le.ownerDocument=this,le.nodeName=te,le.tagName=te,le.localName=te,le.childNodes=new q;var be=le.attributes=new Q;return be._ownerElement=le,le},createDocumentFragment:function(){var te=new Qe;return te.ownerDocument=this,te.childNodes=new q,te},createTextNode:function(te){var le=new Ie;return le.ownerDocument=this,le.appendData(te),le},createComment:function(te){var le=new Fe;return le.ownerDocument=this,le.appendData(te),le},createCDATASection:function(te){var le=new Se;return le.ownerDocument=this,le.appendData(te),le},createProcessingInstruction:function(te,le){var be=new ot;return be.ownerDocument=this,be.tagName=be.nodeName=be.target=te,be.nodeValue=be.data=le,be},createAttribute:function(te){var le=new ce;return le.ownerDocument=this,le.name=te,le.nodeName=te,le.localName=te,le.specified=!0,le},createEntityReference:function(te){var le=new Ue;return le.ownerDocument=this,le.nodeName=te,le},createElementNS:function(te,le){var be=new he,ue=le.split(":"),Oe=be.attributes=new Q;return be.childNodes=new q,be.ownerDocument=this,be.nodeName=le,be.tagName=le,be.namespaceURI=te,ue.length==2?(be.prefix=ue[0],be.localName=ue[1]):be.localName=le,Oe._ownerElement=be,be},createAttributeNS:function(te,le){var be=new ce,ue=le.split(":");return be.ownerDocument=this,be.nodeName=le,be.name=le,be.namespaceURI=te,be.specified=!0,ue.length==2?(be.prefix=ue[0],be.localName=ue[1]):be.localName=le,be}},u(ne,F);function he(){this._nsMap={}}he.prototype={nodeType:f,hasAttribute:function(te){return this.getAttributeNode(te)!=null},getAttribute:function(te){var le=this.getAttributeNode(te);return le&&le.value||""},getAttributeNode:function(te){return this.attributes.getNamedItem(te)},setAttribute:function(te,le){var be=this.ownerDocument.createAttribute(te);be.value=be.nodeValue=""+le,this.setAttributeNode(be)},removeAttribute:function(te){var le=this.getAttributeNode(te);le&&this.removeAttributeNode(le)},appendChild:function(te){return te.nodeType===j?this.insertBefore(te,null):Te(this,te)},setAttributeNode:function(te){return this.attributes.setNamedItem(te)},setAttributeNodeNS:function(te){return this.attributes.setNamedItemNS(te)},removeAttributeNode:function(te){return this.attributes.removeNamedItem(te.nodeName)},removeAttributeNS:function(te,le){var be=this.getAttributeNodeNS(te,le);be&&this.removeAttributeNode(be)},hasAttributeNS:function(te,le){return this.getAttributeNodeNS(te,le)!=null},getAttributeNS:function(te,le){var be=this.getAttributeNodeNS(te,le);return be&&be.value||""},setAttributeNS:function(te,le,be){var ue=this.ownerDocument.createAttributeNS(te,le);ue.value=ue.nodeValue=""+be,this.setAttributeNode(ue)},getAttributeNodeNS:function(te,le){return this.attributes.getNamedItemNS(te,le)},getElementsByTagName:function(te){return new E(this,function(le){var be=[];return me(le,function(ue){ue!==le&&ue.nodeType==f&&(te==="*"||ue.tagName==te)&&be.push(ue)}),be})},getElementsByTagNameNS:function(te,le){return new E(this,function(be){var ue=[];return me(be,function(Oe){Oe!==be&&Oe.nodeType===f&&(te==="*"||Oe.namespaceURI===te)&&(le==="*"||Oe.localName==le)&&ue.push(Oe)}),ue})}},ne.prototype.getElementsByTagName=he.prototype.getElementsByTagName,ne.prototype.getElementsByTagNameNS=he.prototype.getElementsByTagNameNS,u(he,F);function ce(){}ce.prototype.nodeType=m,u(ce,F);function ve(){}ve.prototype={data:"",substringData:function(te,le){return this.data.substring(te,te+le)},appendData:function(te){te=this.data+te,this.nodeValue=this.data=te,this.length=te.length},insertData:function(te,le){this.replaceData(te,0,le)},appendChild:function(te){throw new Error(L[P])},deleteData:function(te,le){this.replaceData(te,le,"")},replaceData:function(te,le,be){var ue=this.data.substring(0,te),Oe=this.data.substring(te+le);be=ue+be+Oe,this.nodeValue=this.data=be,this.length=be.length}},u(ve,F);function Ie(){}Ie.prototype={nodeName:"#text",nodeType:g,splitText:function(te){var le=this.data,be=le.substring(te);le=le.substring(0,te),this.data=this.nodeValue=le,this.length=le.length;var ue=this.ownerDocument.createTextNode(be);return this.parentNode&&this.parentNode.insertBefore(ue,this.nextSibling),ue}},u(Ie,ve);function Fe(){}Fe.prototype={nodeName:"#comment",nodeType:S},u(Fe,ve);function Se(){}Se.prototype={nodeName:"#cdata-section",nodeType:b},u(Se,ve);function ut(){}ut.prototype.nodeType=D,u(ut,F);function pt(){}pt.prototype.nodeType=A,u(pt,F);function Le(){}Le.prototype.nodeType=x,u(Le,F);function Ue(){}Ue.prototype.nodeType=y,u(Ue,F);function Qe(){}Qe.prototype.nodeName="#document-fragment",Qe.prototype.nodeType=j,u(Qe,F);function ot(){}ot.prototype.nodeType=_,u(ot,F);function Ke(){}Ke.prototype.serializeToString=function(te,le,be){return xt.call(te,le,be)},F.prototype.toString=xt;function xt(te,le){var be=[],ue=this.nodeType==9&&this.documentElement||this,Oe=ue.prefix,wt=ue.namespaceURI;if(wt&&Oe==null){var Oe=ue.lookupPrefix(wt);if(Oe==null)var At=[{namespace:wt,prefix:null}]}return Ye(this,be,te,le,At),be.join("")}function ae(te,le,be){var ue=te.prefix||"",Oe=te.namespaceURI;if(!Oe||ue==="xml"&&Oe===n.XML||Oe===n.XMLNS)return!1;for(var wt=be.length;wt--;){var At=be[wt];if(At.prefix===ue)return At.namespace!==Oe}return!0}function Be(te,le,be){te.push(" ",le,'="',be.replace(/[<>&"\t\n\r]/g,W),'"')}function Ye(te,le,be,ue,Oe){if(Oe||(Oe=[]),ue)if(te=ue(te),te){if(typeof te=="string"){le.push(te);return}}else return;switch(te.nodeType){case f:var wt=te.attributes,At=wt.length,Hn=te.firstChild,Ut=te.tagName;be=n.isHTML(te.namespaceURI)||be;var Ct=Ut;if(!be&&!te.prefix&&te.namespaceURI){for(var en,qn=0;qn<wt.length;qn++)if(wt.item(qn).name==="xmlns"){en=wt.item(qn).value;break}if(!en)for(var vr=Oe.length-1;vr>=0;vr--){var Un=Oe[vr];if(Un.prefix===""&&Un.namespace===te.namespaceURI){en=Un.namespace;break}}if(en!==te.namespaceURI)for(var vr=Oe.length-1;vr>=0;vr--){var Un=Oe[vr];if(Un.namespace===te.namespaceURI){Un.prefix&&(Ct=Un.prefix+":"+Ut);break}}}le.push("<",Ct);for(var Jt=0;Jt<At;Jt++){var yn=wt.item(Jt);yn.prefix=="xmlns"?Oe.push({prefix:yn.localName,namespace:yn.value}):yn.nodeName=="xmlns"&&Oe.push({prefix:"",namespace:yn.value})}for(var Jt=0;Jt<At;Jt++){var yn=wt.item(Jt);if(ae(yn,be,Oe)){var Ir=yn.prefix||"",js=yn.namespaceURI;Be(le,Ir?"xmlns:"+Ir:"xmlns",js),Oe.push({prefix:Ir,namespace:js})}Ye(yn,le,be,ue,Oe)}if(Ut===Ct&&ae(te,be,Oe)){var Ir=te.prefix||"",js=te.namespaceURI;Be(le,Ir?"xmlns:"+Ir:"xmlns",js),Oe.push({prefix:Ir,namespace:js})}if(Hn||be&&!/^(?:meta|link|img|br|hr|input)$/i.test(Ut)){if(le.push(">"),be&&/^script$/i.test(Ut))for(;Hn;)Hn.data?le.push(Hn.data):Ye(Hn,le,be,ue,Oe.slice()),Hn=Hn.nextSibling;else for(;Hn;)Ye(Hn,le,be,ue,Oe.slice()),Hn=Hn.nextSibling;le.push("</",Ct,">")}else le.push("/>");return;case T:case j:for(var Hn=te.firstChild;Hn;)Ye(Hn,le,be,ue,Oe.slice()),Hn=Hn.nextSibling;return;case m:return Be(le,te.name,te.value);case g:return le.push(te.data.replace(/[<&>]/g,W));case b:return le.push("<![CDATA[",te.data,"]]>");case S:return le.push("<!--",te.data,"-->");case D:var zr=te.publicId,as=te.systemId;if(le.push("<!DOCTYPE ",te.name),zr)le.push(" PUBLIC ",zr),as&&as!="."&&le.push(" ",as),le.push(">");else if(as&&as!=".")le.push(" SYSTEM ",as,">");else{var vn=te.internalSubset;vn&&le.push(" [",vn,"]"),le.push(">")}return;case _:return le.push("<?",te.target," ",te.data,"?>");case y:return le.push("&",te.nodeName,";");default:le.push("??",te.nodeName)}}function _t(te,le,be){var ue;switch(le.nodeType){case f:ue=le.cloneNode(!1),ue.ownerDocument=te;case j:break;case m:be=!0;break}if(ue||(ue=le.cloneNode(!1)),ue.ownerDocument=te,ue.parentNode=null,be)for(var Oe=le.firstChild;Oe;)ue.appendChild(_t(te,Oe,be)),Oe=Oe.nextSibling;return ue}function Ze(te,le,be){var ue=new le.constructor;for(var Oe in le)if(Object.prototype.hasOwnProperty.call(le,Oe)){var wt=le[Oe];typeof wt!="object"&&wt!=ue[Oe]&&(ue[Oe]=wt)}switch(le.childNodes&&(ue.childNodes=new q),ue.ownerDocument=te,ue.nodeType){case f:var At=le.attributes,Ut=ue.attributes=new Q,Ct=At.length;Ut._ownerElement=ue;for(var en=0;en<Ct;en++)ue.setAttributeNode(Ze(te,At.item(en),!0));break;case m:be=!0}if(be)for(var qn=le.firstChild;qn;)ue.appendChild(Ze(te,qn,be)),qn=qn.nextSibling;return ue}function it(te,le,be){te[le]=be}try{if(Object.defineProperty){let te=function(le){switch(le.nodeType){case f:case j:var be=[];for(le=le.firstChild;le;)le.nodeType!==7&&le.nodeType!==8&&be.push(te(le)),le=le.nextSibling;return be.join("");default:return le.nodeValue}};Object.defineProperty(E.prototype,"length",{get:function(){return G(this),this.$$length}}),Object.defineProperty(F.prototype,"textContent",{get:function(){return te(this)},set:function(le){switch(this.nodeType){case f:case j:for(;this.firstChild;)this.removeChild(this.firstChild);(le||String(le))&&this.appendChild(this.ownerDocument.createTextNode(le));break;default:this.data=le,this.value=le,this.nodeValue=le}}}),it=function(le,be,ue){le["$$"+be]=ue}}}catch{}return Ql.DocumentType=ut,Ql.DOMException=M,Ql.DOMImplementation=K,Ql.Element=he,Ql.Node=F,Ql.NodeList=q,Ql.XMLSerializer=Ke,Ql}var wm={},_w={},VA;function Coe(){return VA||(VA=1,function(t){var e=Pv().freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),t.entityMap=t.HTML_ENTITIES}(_w)),_w}var Ry={},qA;function Toe(){if(qA)return Ry;qA=1;var t=Pv().NAMESPACE,e=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,n=new RegExp("[\\-\\.0-9"+e.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),r=new RegExp("^"+e.source+n.source+"*(?::"+e.source+n.source+"*)?$"),s=0,i=1,a=2,l=3,c=4,u=5,h=6,f=7;function m(P,N){this.message=P,this.locator=N,Error.captureStackTrace&&Error.captureStackTrace(this,m)}m.prototype=new Error,m.prototype.name=m.name;function g(){}g.prototype={parse:function(P,N,U){var M=this.domBuilder;M.startDocument(),D(N,N={}),b(P,N,U,M,this.errorHandler),M.endDocument()}};function b(P,N,U,M,q){function E(he){if(he>65535){he-=65536;var ce=55296+(he>>10),ve=56320+(he&1023);return String.fromCharCode(ce,ve)}else return String.fromCharCode(he)}function G(he){var ce=he.slice(1,-1);return Object.hasOwnProperty.call(U,ce)?U[ce]:ce.charAt(0)==="#"?E(parseInt(ce.substr(1).replace("x","0x"))):(q.error("entity not found:"+he),he)}function Q(he){if(he>ne){var ce=P.substring(ne,he).replace(/&#?\w+;/g,G);F&&re(ne),M.characters(ce,0,he-ne),ne=he}}function re(he,ce){for(;he>=Z&&(ce=K.exec(P));)ee=ce.index,Z=ee+ce[0].length,F.lineNumber++;F.columnNumber=he-ee+1}for(var ee=0,Z=0,K=/.*(?:\r\n?|\n)|.*$/g,F=M.locator,W=[{currentNSMap:N}],me={},ne=0;;){try{var ge=P.indexOf("<",ne);if(ge<0){if(!P.substr(ne).match(/^\s*$/)){var we=M.doc,je=we.createTextNode(P.substr(ne));we.appendChild(je),M.currentElement=je}return}switch(ge>ne&&Q(ge),P.charAt(ge+1)){case"/":var ye=P.indexOf(">",ge+3),Re=P.substring(ge+2,ye).replace(/[ \t\n\r]+$/g,""),ke=W.pop();ye<0?(Re=P.substring(ge+2).replace(/[\s<].*/,""),q.error("end tag name: "+Re+" is not complete:"+ke.tagName),ye=ge+1+Re.length):Re.match(/\s</)&&(Re=Re.replace(/[\s<].*/,""),q.error("end tag name: "+Re+" maybe not complete"),ye=ge+1+Re.length);var We=ke.localNSMap,Je=ke.tagName==Re,nt=Je||ke.tagName&&ke.tagName.toLowerCase()==Re.toLowerCase();if(nt){if(M.endElement(ke.uri,ke.localName,Re),We)for(var ct in We)Object.prototype.hasOwnProperty.call(We,ct)&&M.endPrefixMapping(ct);Je||q.fatalError("end tag name: "+Re+" is not match the current start tagName:"+ke.tagName)}else W.push(ke);ye++;break;case"?":F&&re(ge),ye=A(P,ge,M);break;case"!":F&&re(ge),ye=j(P,ge,M,q);break;default:F&&re(ge);var X=new O,Me=W[W.length-1].currentNSMap,ye=x(P,ge,X,Me,G,q),se=X.length;if(!X.closed&&T(P,ye,X.tagName,me)&&(X.closed=!0,U.nbsp||q.warning("unclosed xml attribute")),F&&se){for(var ie=y(F,{}),fe=0;fe<se;fe++){var Te=X[fe];re(Te.offset),Te.locator=y(F,{})}M.locator=ie,_(X,M,Me)&&W.push(X),M.locator=F}else _(X,M,Me)&&W.push(X);t.isHTML(X.uri)&&!X.closed?ye=S(P,ye,X.tagName,G,M):ye++}}catch(he){if(he instanceof m)throw he;q.error("element parse error: "+he),ye=-1}ye>ne?ne=ye:Q(Math.max(ge,ne)+1)}}function y(P,N){return N.lineNumber=P.lineNumber,N.columnNumber=P.columnNumber,N}function x(P,N,U,M,q,E){function G(F,W,me){U.attributeNames.hasOwnProperty(F)&&E.fatalError("Attribute "+F+" redefined"),U.addValue(F,W.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,q),me)}for(var Q,re,ee=++N,Z=s;;){var K=P.charAt(ee);switch(K){case"=":if(Z===i)Q=P.slice(N,ee),Z=l;else if(Z===a)Z=l;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(Z===l||Z===i)if(Z===i&&(E.warning('attribute value must after "="'),Q=P.slice(N,ee)),N=ee+1,ee=P.indexOf(K,N),ee>0)re=P.slice(N,ee),G(Q,re,N-1),Z=u;else throw new Error("attribute value no end '"+K+"' match");else if(Z==c)re=P.slice(N,ee),G(Q,re,N),E.warning('attribute "'+Q+'" missed start quot('+K+")!!"),N=ee+1,Z=u;else throw new Error('attribute value must after "="');break;case"/":switch(Z){case s:U.setTagName(P.slice(N,ee));case u:case h:case f:Z=f,U.closed=!0;case c:case i:break;case a:U.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return E.error("unexpected end of input"),Z==s&&U.setTagName(P.slice(N,ee)),ee;case">":switch(Z){case s:U.setTagName(P.slice(N,ee));case u:case h:case f:break;case c:case i:re=P.slice(N,ee),re.slice(-1)==="/"&&(U.closed=!0,re=re.slice(0,-1));case a:Z===a&&(re=Q),Z==c?(E.warning('attribute "'+re+'" missed quot(")!'),G(Q,re,N)):((!t.isHTML(M[""])||!re.match(/^(?:disabled|checked|selected)$/i))&&E.warning('attribute "'+re+'" missed value!! "'+re+'" instead!!'),G(re,re,N));break;case l:throw new Error("attribute value missed!!")}return ee;case"":K=" ";default:if(K<=" ")switch(Z){case s:U.setTagName(P.slice(N,ee)),Z=h;break;case i:Q=P.slice(N,ee),Z=a;break;case c:var re=P.slice(N,ee);E.warning('attribute "'+re+'" missed quot(")!!'),G(Q,re,N);case u:Z=h;break}else switch(Z){case a:U.tagName,(!t.isHTML(M[""])||!Q.match(/^(?:disabled|checked|selected)$/i))&&E.warning('attribute "'+Q+'" missed value!! "'+Q+'" instead2!!'),G(Q,Q,N),N=ee,Z=i;break;case u:E.warning('attribute space is required"'+Q+'"!!');case h:Z=i,N=ee;break;case l:Z=c,N=ee;break;case f:throw new Error("elements closed character '/' and '>' must be connected to")}}ee++}}function _(P,N,U){for(var M=P.tagName,q=null,K=P.length;K--;){var E=P[K],G=E.qName,Q=E.value,F=G.indexOf(":");if(F>0)var re=E.prefix=G.slice(0,F),ee=G.slice(F+1),Z=re==="xmlns"&&ee;else ee=G,re=null,Z=G==="xmlns"&&"";E.localName=ee,Z!==!1&&(q==null&&(q={},D(U,U={})),U[Z]=q[Z]=Q,E.uri=t.XMLNS,N.startPrefixMapping(Z,Q))}for(var K=P.length;K--;){E=P[K];var re=E.prefix;re&&(re==="xml"&&(E.uri=t.XML),re!=="xmlns"&&(E.uri=U[re||""]))}var F=M.indexOf(":");F>0?(re=P.prefix=M.slice(0,F),ee=P.localName=M.slice(F+1)):(re=null,ee=P.localName=M);var W=P.uri=U[re||""];if(N.startElement(W,ee,M,P),P.closed){if(N.endElement(W,ee,M),q)for(re in q)Object.prototype.hasOwnProperty.call(q,re)&&N.endPrefixMapping(re)}else return P.currentNSMap=U,P.localNSMap=q,!0}function S(P,N,U,M,q){if(/^(?:script|textarea)$/i.test(U)){var E=P.indexOf("</"+U+">",N),G=P.substring(N+1,E);if(/[&<]/.test(G))return/^script$/i.test(U)?(q.characters(G,0,G.length),E):(G=G.replace(/&#?\w+;/g,M),q.characters(G,0,G.length),E)}return N+1}function T(P,N,U,M){var q=M[U];return q==null&&(q=P.lastIndexOf("</"+U+">"),q<N&&(q=P.lastIndexOf("</"+U)),M[U]=q),q<N}function D(P,N){for(var U in P)Object.prototype.hasOwnProperty.call(P,U)&&(N[U]=P[U])}function j(P,N,U,M){var q=P.charAt(N+2);switch(q){case"-":if(P.charAt(N+3)==="-"){var E=P.indexOf("-->",N+4);return E>N?(U.comment(P,N+4,E-N-4),E+3):(M.error("Unclosed comment"),-1)}else return-1;default:if(P.substr(N+3,6)=="CDATA["){var E=P.indexOf("]]>",N+9);return U.startCDATA(),U.characters(P,N+9,E-N-9),U.endCDATA(),E+3}var G=L(P,N),Q=G.length;if(Q>1&&/!doctype/i.test(G[0][0])){var re=G[1][0],ee=!1,Z=!1;Q>3&&(/^public$/i.test(G[2][0])?(ee=G[3][0],Z=Q>4&&G[4][0]):/^system$/i.test(G[2][0])&&(Z=G[3][0]));var K=G[Q-1];return U.startDTD(re,ee,Z),U.endDTD(),K.index+K[0].length}}return-1}function A(P,N,U){var M=P.indexOf("?>",N);if(M){var q=P.substring(N,M).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return q?(q[0].length,U.processingInstruction(q[1],q[2]),M+2):-1}return-1}function O(){this.attributeNames={}}O.prototype={setTagName:function(P){if(!r.test(P))throw new Error("invalid tagName:"+P);this.tagName=P},addValue:function(P,N,U){if(!r.test(P))throw new Error("invalid attribute:"+P);this.attributeNames[P]=this.length,this[this.length++]={qName:P,value:N,offset:U}},length:0,getLocalName:function(P){return this[P].localName},getLocator:function(P){return this[P].locator},getQName:function(P){return this[P].qName},getURI:function(P){return this[P].uri},getValue:function(P){return this[P].value}};function L(P,N){var U,M=[],q=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(q.lastIndex=N,q.exec(P);U=q.exec(P);)if(M.push(U),U[1])return M}return Ry.XMLReader=g,Ry.ParseError=m,Ry}var YA;function koe(){if(YA)return wm;YA=1;var t=Pv(),e=SL(),n=Coe(),r=Toe(),s=e.DOMImplementation,i=t.NAMESPACE,a=r.ParseError,l=r.XMLReader;function c(x){return x.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function u(x){this.options=x||{locator:{}}}u.prototype.parseFromString=function(x,_){var S=this.options,T=new l,D=S.domBuilder||new f,j=S.errorHandler,A=S.locator,O=S.xmlns||{},L=/\/x?html?$/.test(_),P=L?n.HTML_ENTITIES:n.XML_ENTITIES;A&&D.setDocumentLocator(A),T.errorHandler=h(j,D,A),T.domBuilder=S.domBuilder||D,L&&(O[""]=i.HTML),O.xml=O.xml||i.XML;var N=S.normalizeLineEndings||c;return x&&typeof x=="string"?T.parse(N(x),O,P):T.errorHandler.error("invalid doc source"),D.doc};function h(x,_,S){if(!x){if(_ instanceof f)return _;x=_}var T={},D=x instanceof Function;S=S||{};function j(A){var O=x[A];!O&&D&&(O=x.length==2?function(L){x(A,L)}:x),T[A]=O&&function(L){O("[xmldom "+A+"]	"+L+g(S))}||function(){}}return j("warning"),j("error"),j("fatalError"),T}function f(){this.cdata=!1}function m(x,_){_.lineNumber=x.lineNumber,_.columnNumber=x.columnNumber}f.prototype={startDocument:function(){this.doc=new s().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(x,_,S,T){var D=this.doc,j=D.createElementNS(x,S||_),A=T.length;y(this,j),this.currentElement=j,this.locator&&m(this.locator,j);for(var O=0;O<A;O++){var x=T.getURI(O),L=T.getValue(O),S=T.getQName(O),P=D.createAttributeNS(x,S);this.locator&&m(T.getLocator(O),P),P.value=P.nodeValue=L,j.setAttributeNode(P)}},endElement:function(x,_,S){var T=this.currentElement;T.tagName,this.currentElement=T.parentNode},startPrefixMapping:function(x,_){},endPrefixMapping:function(x){},processingInstruction:function(x,_){var S=this.doc.createProcessingInstruction(x,_);this.locator&&m(this.locator,S),y(this,S)},ignorableWhitespace:function(x,_,S){},characters:function(x,_,S){if(x=b.apply(this,arguments),x){if(this.cdata)var T=this.doc.createCDATASection(x);else var T=this.doc.createTextNode(x);this.currentElement?this.currentElement.appendChild(T):/^\s*$/.test(x)&&this.doc.appendChild(T),this.locator&&m(this.locator,T)}},skippedEntity:function(x){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(x){(this.locator=x)&&(x.lineNumber=0)},comment:function(x,_,S){x=b.apply(this,arguments);var T=this.doc.createComment(x);this.locator&&m(this.locator,T),y(this,T)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(x,_,S){var T=this.doc.implementation;if(T&&T.createDocumentType){var D=T.createDocumentType(x,_,S);this.locator&&m(this.locator,D),y(this,D),this.doc.doctype=D}},warning:function(x){console.warn("[xmldom warning]	"+x,g(this.locator))},error:function(x){console.error("[xmldom error]	"+x,g(this.locator))},fatalError:function(x){throw new a(x,this.locator)}};function g(x){if(x)return`
@`+(x.systemId||"")+"#[line:"+x.lineNumber+",col:"+x.columnNumber+"]"}function b(x,_,S){return typeof x=="string"?x.substr(_,S):x.length>=_+S||_?new java.lang.String(x,_,S)+"":x}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(x){f.prototype[x]=function(){return null}});function y(x,_){x.currentElement?x.currentElement.appendChild(_):x.doc.appendChild(_)}return wm.__DOMHandler=f,wm.normalizeLineEndings=c,wm.DOMParser=u,wm}var GA;function Eoe(){if(GA)return _m;GA=1;var t=SL();return _m.DOMImplementation=t.DOMImplementation,_m.XMLSerializer=t.XMLSerializer,_m.DOMParser=koe().DOMParser,_m}var joe=Eoe();/*! @name mpd-parser @version 1.3.1 @license Apache-2.0 */const KA=t=>!!t&&typeof t=="object",Ss=(...t)=>t.reduce((e,n)=>(typeof n!="object"||Object.keys(n).forEach(r=>{Array.isArray(e[r])&&Array.isArray(n[r])?e[r]=e[r].concat(n[r]):KA(e[r])&&KA(n[r])?e[r]=Ss(e[r],n[r]):e[r]=n[r]}),e),{}),CL=t=>Object.keys(t).map(e=>t[e]),Noe=(t,e)=>{const n=[];for(let r=t;r<e;r++)n.push(r);return n},Yf=t=>t.reduce((e,n)=>e.concat(n),[]),TL=t=>{if(!t.length)return[];const e=[];for(let n=0;n<t.length;n++)e.push(t[n]);return e},Doe=(t,e)=>t.reduce((n,r,s)=>(r[e]&&n.push(s),n),[]),Aoe=(t,e)=>CL(t.reduce((n,r)=>(r.forEach(s=>{n[e(s)]=s}),n),{}));var Gf={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"};const Dg=({baseUrl:t="",source:e="",range:n="",indexRange:r=""})=>{const s={uri:e,resolvedUri:Av(t||"",e)};if(n||r){const a=(n||r).split("-");let l=De.BigInt?De.BigInt(a[0]):parseInt(a[0],10),c=De.BigInt?De.BigInt(a[1]):parseInt(a[1],10);l<Number.MAX_SAFE_INTEGER&&typeof l=="bigint"&&(l=Number(l)),c<Number.MAX_SAFE_INTEGER&&typeof c=="bigint"&&(c=Number(c));let u;typeof c=="bigint"||typeof l=="bigint"?u=De.BigInt(c)-De.BigInt(l)+De.BigInt(1):u=c-l+1,typeof u=="bigint"&&u<Number.MAX_SAFE_INTEGER&&(u=Number(u)),s.byterange={length:u,offset:l}}return s},Poe=t=>{let e;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=De.BigInt(t.offset)+De.BigInt(t.length)-De.BigInt(1):e=t.offset+t.length-1,`${t.offset}-${e}`},XA=t=>(t&&typeof t!="number"&&(t=parseInt(t,10)),isNaN(t)?null:t),Ioe={static(t){const{duration:e,timescale:n=1,sourceDuration:r,periodDuration:s}=t,i=XA(t.endNumber),a=e/n;return typeof i=="number"?{start:0,end:i}:typeof s=="number"?{start:0,end:s/a}:{start:0,end:r/a}},dynamic(t){const{NOW:e,clientOffset:n,availabilityStartTime:r,timescale:s=1,duration:i,periodStart:a=0,minimumUpdatePeriod:l=0,timeShiftBufferDepth:c=1/0}=t,u=XA(t.endNumber),h=(e+n)/1e3,f=r+a,g=h+l-f,b=Math.ceil(g*s/i),y=Math.floor((h-f-c)*s/i),x=Math.floor((h-f)*s/i);return{start:Math.max(0,y),end:typeof u=="number"?u:Math.min(b,x)}}},Ooe=t=>e=>{const{duration:n,timescale:r=1,periodStart:s,startNumber:i=1}=t;return{number:i+e,duration:n/r,timeline:s,time:e*n}},ak=t=>{const{type:e,duration:n,timescale:r=1,periodDuration:s,sourceDuration:i}=t,{start:a,end:l}=Ioe[e](t),c=Noe(a,l).map(Ooe(t));if(e==="static"){const u=c.length-1,h=typeof s=="number"?s:i;c[u].duration=h-n/r*u}return c},kL=t=>{const{baseUrl:e,initialization:n={},sourceDuration:r,indexRange:s="",periodStart:i,presentationTime:a,number:l=0,duration:c}=t;if(!e)throw new Error(Gf.NO_BASE_URL);const u=Dg({baseUrl:e,source:n.sourceURL,range:n.range}),h=Dg({baseUrl:e,source:e,indexRange:s});if(h.map=u,c){const f=ak(t);f.length&&(h.duration=f[0].duration,h.timeline=f[0].timeline)}else r&&(h.duration=r,h.timeline=i);return h.presentationTime=a||i,h.number=l,[h]},ok=(t,e,n)=>{const r=t.sidx.map?t.sidx.map:null,s=t.sidx.duration,i=t.timeline||0,a=t.sidx.byterange,l=a.offset+a.length,c=e.timescale,u=e.references.filter(x=>x.referenceType!==1),h=[],f=t.endList?"static":"dynamic",m=t.sidx.timeline;let g=m,b=t.mediaSequence||0,y;typeof e.firstOffset=="bigint"?y=De.BigInt(l)+e.firstOffset:y=l+e.firstOffset;for(let x=0;x<u.length;x++){const _=e.references[x],S=_.referencedSize,T=_.subsegmentDuration;let D;typeof y=="bigint"?D=y+De.BigInt(S)-De.BigInt(1):D=y+S-1;const j=`${y}-${D}`,O=kL({baseUrl:n,timescale:c,timeline:i,periodStart:m,presentationTime:g,number:b,duration:T,sourceDuration:s,indexRange:j,type:f})[0];r&&(O.map=r),h.push(O),typeof y=="bigint"?y+=De.BigInt(S):y+=S,g+=T/c,b++}return t.segments=h,t},Moe=["AUDIO","SUBTITLES"],Roe=1/60,EL=t=>Aoe(t,({timeline:e})=>e).sort((e,n)=>e.timeline>n.timeline?1:-1),Loe=(t,e)=>{for(let n=0;n<t.length;n++)if(t[n].attributes.NAME===e)return t[n];return null},QA=t=>{let e=[];return Soe(t,Moe,(n,r,s,i)=>{e=e.concat(n.playlists||[])}),e},ZA=({playlist:t,mediaSequence:e})=>{t.mediaSequence=e,t.segments.forEach((n,r)=>{n.number=t.mediaSequence+r})},Foe=({oldPlaylists:t,newPlaylists:e,timelineStarts:n})=>{e.forEach(r=>{r.discontinuitySequence=n.findIndex(function({timeline:c}){return c===r.timeline});const s=Loe(t,r.attributes.NAME);if(!s||r.sidx)return;const i=r.segments[0],a=s.segments.findIndex(function(c){return Math.abs(c.presentationTime-i.presentationTime)<Roe});if(a===-1){ZA({playlist:r,mediaSequence:s.mediaSequence+s.segments.length}),r.segments[0].discontinuity=!0,r.discontinuityStarts.unshift(0),(!s.segments.length&&r.timeline>s.timeline||s.segments.length&&r.timeline>s.segments[s.segments.length-1].timeline)&&r.discontinuitySequence--;return}s.segments[a].discontinuity&&!i.discontinuity&&(i.discontinuity=!0,r.discontinuityStarts.unshift(0),r.discontinuitySequence--),ZA({playlist:r,mediaSequence:s.segments[a].number})})},Boe=({oldManifest:t,newManifest:e})=>{const n=t.playlists.concat(QA(t)),r=e.playlists.concat(QA(e));return e.timelineStarts=EL([t.timelineStarts,e.timelineStarts]),Foe({oldPlaylists:n,newPlaylists:r,timelineStarts:e.timelineStarts}),e},Iv=t=>t&&t.uri+"-"+Poe(t.byterange),ww=t=>{const e=t.reduce(function(r,s){return r[s.attributes.baseUrl]||(r[s.attributes.baseUrl]=[]),r[s.attributes.baseUrl].push(s),r},{});let n=[];return Object.values(e).forEach(r=>{const s=CL(r.reduce((i,a)=>{const l=a.attributes.id+(a.attributes.lang||"");return i[l]?(a.segments&&(a.segments[0]&&(a.segments[0].discontinuity=!0),i[l].segments.push(...a.segments)),a.attributes.contentProtection&&(i[l].attributes.contentProtection=a.attributes.contentProtection)):(i[l]=a,i[l].attributes.timelineStarts=[]),i[l].attributes.timelineStarts.push({start:a.attributes.periodStart,timeline:a.attributes.periodStart}),i},{}));n=n.concat(s)}),n.map(r=>(r.discontinuityStarts=Doe(r.segments||[],"discontinuity"),r))},lk=(t,e)=>{const n=Iv(t.sidx),r=n&&e[n]&&e[n].sidx;return r&&ok(t,r,t.sidx.resolvedUri),t},$oe=(t,e={})=>{if(!Object.keys(e).length)return t;for(const n in t)t[n]=lk(t[n],e);return t},zoe=({attributes:t,segments:e,sidx:n,mediaSequence:r,discontinuitySequence:s,discontinuityStarts:i},a)=>{const l={attributes:{NAME:t.id,BANDWIDTH:t.bandwidth,CODECS:t.codecs,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuitySequence:s,discontinuityStarts:i,timelineStarts:t.timelineStarts,mediaSequence:r,segments:e};return t.contentProtection&&(l.contentProtection=t.contentProtection),t.serviceLocation&&(l.attributes.serviceLocation=t.serviceLocation),n&&(l.sidx=n),a&&(l.attributes.AUDIO="audio",l.attributes.SUBTITLES="subs"),l},Uoe=({attributes:t,segments:e,mediaSequence:n,discontinuityStarts:r,discontinuitySequence:s})=>{typeof e>"u"&&(e=[{uri:t.baseUrl,timeline:t.periodStart,resolvedUri:t.baseUrl||"",duration:t.sourceDuration,number:0}],t.duration=t.sourceDuration);const i={NAME:t.id,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1};t.codecs&&(i.CODECS=t.codecs);const a={attributes:i,uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,timelineStarts:t.timelineStarts,discontinuityStarts:r,discontinuitySequence:s,mediaSequence:n,segments:e};return t.serviceLocation&&(a.attributes.serviceLocation=t.serviceLocation),a},Hoe=(t,e={},n=!1)=>{let r;const s=t.reduce((i,a)=>{const l=a.attributes.role&&a.attributes.role.value||"",c=a.attributes.lang||"";let u=a.attributes.label||"main";if(c&&!a.attributes.label){const f=l?` (${l})`:"";u=`${a.attributes.lang}${f}`}i[u]||(i[u]={language:c,autoselect:!0,default:l==="main",playlists:[],uri:""});const h=lk(zoe(a,n),e);return i[u].playlists.push(h),typeof r>"u"&&l==="main"&&(r=a,r.default=!0),i},{});if(!r){const i=Object.keys(s)[0];s[i].default=!0}return s},Woe=(t,e={})=>t.reduce((n,r)=>{const s=r.attributes.label||r.attributes.lang||"text",i=r.attributes.lang||"und";return n[s]||(n[s]={language:i,default:!1,autoselect:!1,playlists:[],uri:""}),n[s].playlists.push(lk(Uoe(r),e)),n},{}),Voe=t=>t.reduce((e,n)=>(n&&n.forEach(r=>{const{channel:s,language:i}=r;e[i]={autoselect:!1,default:!1,instreamId:s,language:i},r.hasOwnProperty("aspectRatio")&&(e[i].aspectRatio=r.aspectRatio),r.hasOwnProperty("easyReader")&&(e[i].easyReader=r.easyReader),r.hasOwnProperty("3D")&&(e[i]["3D"]=r["3D"])}),e),{}),qoe=({attributes:t,segments:e,sidx:n,discontinuityStarts:r})=>{const s={attributes:{NAME:t.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:t.width,height:t.height},CODECS:t.codecs,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuityStarts:r,timelineStarts:t.timelineStarts,segments:e};return t.frameRate&&(s.attributes["FRAME-RATE"]=t.frameRate),t.contentProtection&&(s.contentProtection=t.contentProtection),t.serviceLocation&&(s.attributes.serviceLocation=t.serviceLocation),n&&(s.sidx=n),s},Yoe=({attributes:t})=>t.mimeType==="video/mp4"||t.mimeType==="video/webm"||t.contentType==="video",Goe=({attributes:t})=>t.mimeType==="audio/mp4"||t.mimeType==="audio/webm"||t.contentType==="audio",Koe=({attributes:t})=>t.mimeType==="text/vtt"||t.contentType==="text",Xoe=(t,e)=>{t.forEach(n=>{n.mediaSequence=0,n.discontinuitySequence=e.findIndex(function({timeline:r}){return r===n.timeline}),n.segments&&n.segments.forEach((r,s)=>{r.number=s})})},JA=t=>t?Object.keys(t).reduce((e,n)=>{const r=t[n];return e.concat(r.playlists)},[]):[],Qoe=({dashPlaylists:t,locations:e,contentSteering:n,sidxMapping:r={},previousManifest:s,eventStream:i})=>{if(!t.length)return{};const{sourceDuration:a,type:l,suggestedPresentationDelay:c,minimumUpdatePeriod:u}=t[0].attributes,h=ww(t.filter(Yoe)).map(qoe),f=ww(t.filter(Goe)),m=ww(t.filter(Koe)),g=t.map(D=>D.attributes.captionServices).filter(Boolean),b={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:"",duration:a,playlists:$oe(h,r)};u>=0&&(b.minimumUpdatePeriod=u*1e3),e&&(b.locations=e),n&&(b.contentSteering=n),l==="dynamic"&&(b.suggestedPresentationDelay=c),i&&i.length>0&&(b.eventStream=i);const y=b.playlists.length===0,x=f.length?Hoe(f,r,y):null,_=m.length?Woe(m,r):null,S=h.concat(JA(x),JA(_)),T=S.map(({timelineStarts:D})=>D);return b.timelineStarts=EL(T),Xoe(S,b.timelineStarts),x&&(b.mediaGroups.AUDIO.audio=x),_&&(b.mediaGroups.SUBTITLES.subs=_),g.length&&(b.mediaGroups["CLOSED-CAPTIONS"].cc=Voe(g)),s?Boe({oldManifest:s,newManifest:b}):b},Zoe=(t,e,n)=>{const{NOW:r,clientOffset:s,availabilityStartTime:i,timescale:a=1,periodStart:l=0,minimumUpdatePeriod:c=0}=t,u=(r+s)/1e3,h=i+l,m=u+c-h;return Math.ceil((m*a-e)/n)},jL=(t,e)=>{const{type:n,minimumUpdatePeriod:r=0,media:s="",sourceDuration:i,timescale:a=1,startNumber:l=1,periodStart:c}=t,u=[];let h=-1;for(let f=0;f<e.length;f++){const m=e[f],g=m.d,b=m.r||0,y=m.t||0;h<0&&(h=y),y&&y>h&&(h=y);let x;if(b<0){const T=f+1;T===e.length?n==="dynamic"&&r>0&&s.indexOf("$Number$")>0?x=Zoe(t,h,g):x=(i*a-h)/g:x=(e[T].t-h)/g}else x=b+1;const _=l+u.length+x;let S=l+u.length;for(;S<_;)u.push({number:S,duration:g/a,time:h,timeline:c}),h+=g,S++}return u},Joe=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,ele=t=>(e,n,r,s)=>{if(e==="$$")return"$";if(typeof t[n]>"u")return e;const i=""+t[n];return n==="RepresentationID"||(r?s=parseInt(s,10):s=1,i.length>=s)?i:`${new Array(s-i.length+1).join("0")}${i}`},e5=(t,e)=>t.replace(Joe,ele(e)),tle=(t,e)=>!t.duration&&!e?[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodStart}]:t.duration?ak(t):jL(t,e),nle=(t,e)=>{const n={RepresentationID:t.id,Bandwidth:t.bandwidth||0},{initialization:r={sourceURL:"",range:""}}=t,s=Dg({baseUrl:t.baseUrl,source:e5(r.sourceURL,n),range:r.range});return tle(t,e).map(a=>{n.Number=a.number,n.Time=a.time;const l=e5(t.media||"",n),c=t.timescale||1,u=t.presentationTimeOffset||0,h=t.periodStart+(a.time-u)/c;return{uri:l,timeline:a.timeline,duration:a.duration,resolvedUri:Av(t.baseUrl||"",l),map:s,number:a.number,presentationTime:h}})},rle=(t,e)=>{const{baseUrl:n,initialization:r={}}=t,s=Dg({baseUrl:n,source:r.sourceURL,range:r.range}),i=Dg({baseUrl:n,source:e.media,range:e.mediaRange});return i.map=s,i},sle=(t,e)=>{const{duration:n,segmentUrls:r=[],periodStart:s}=t;if(!n&&!e||n&&e)throw new Error(Gf.SEGMENT_TIME_UNSPECIFIED);const i=r.map(c=>rle(t,c));let a;return n&&(a=ak(t)),e&&(a=jL(t,e)),a.map((c,u)=>{if(i[u]){const h=i[u],f=t.timescale||1,m=t.presentationTimeOffset||0;return h.timeline=c.timeline,h.duration=c.duration,h.number=c.number,h.presentationTime=s+(c.time-m)/f,h}}).filter(c=>c)},ile=({attributes:t,segmentInfo:e})=>{let n,r;e.template?(r=nle,n=Ss(t,e.template)):e.base?(r=kL,n=Ss(t,e.base)):e.list&&(r=sle,n=Ss(t,e.list));const s={attributes:t};if(!r)return s;const i=r(n,e.segmentTimeline);if(n.duration){const{duration:a,timescale:l=1}=n;n.duration=a/l}else i.length?n.duration=i.reduce((a,l)=>Math.max(a,Math.ceil(l.duration)),0):n.duration=0;return s.attributes=n,s.segments=i,e.base&&n.indexRange&&(s.sidx=i[0],s.segments=[]),s},ale=t=>t.map(ile),Pr=(t,e)=>TL(t.childNodes).filter(({tagName:n})=>n===e),p0=t=>t.textContent.trim(),ole=t=>parseFloat(t.split("/").reduce((e,n)=>e/n)),rf=t=>{const l=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(t);if(!l)return 0;const[c,u,h,f,m,g]=l.slice(1);return parseFloat(c||0)*31536e3+parseFloat(u||0)*2592e3+parseFloat(h||0)*86400+parseFloat(f||0)*3600+parseFloat(m||0)*60+parseFloat(g||0)},lle=t=>(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t)&&(t+="Z"),Date.parse(t)),t5={mediaPresentationDuration(t){return rf(t)},availabilityStartTime(t){return lle(t)/1e3},minimumUpdatePeriod(t){return rf(t)},suggestedPresentationDelay(t){return rf(t)},type(t){return t},timeShiftBufferDepth(t){return rf(t)},start(t){return rf(t)},width(t){return parseInt(t,10)},height(t){return parseInt(t,10)},bandwidth(t){return parseInt(t,10)},frameRate(t){return ole(t)},startNumber(t){return parseInt(t,10)},timescale(t){return parseInt(t,10)},presentationTimeOffset(t){return parseInt(t,10)},duration(t){const e=parseInt(t,10);return isNaN(e)?rf(t):e},d(t){return parseInt(t,10)},t(t){return parseInt(t,10)},r(t){return parseInt(t,10)},presentationTime(t){return parseInt(t,10)},DEFAULT(t){return t}},ss=t=>t&&t.attributes?TL(t.attributes).reduce((e,n)=>{const r=t5[n.name]||t5.DEFAULT;return e[n.name]=r(n.value),e},{}):{},cle={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime","urn:mpeg:dash:mp4protection:2011":"mp4protection"},Ov=(t,e)=>e.length?Yf(t.map(function(n){return e.map(function(r){const s=p0(r),i=Av(n.baseUrl,s),a=Ss(ss(r),{baseUrl:i});return i!==s&&!a.serviceLocation&&n.serviceLocation&&(a.serviceLocation=n.serviceLocation),a})})):t,ck=t=>{const e=Pr(t,"SegmentTemplate")[0],n=Pr(t,"SegmentList")[0],r=n&&Pr(n,"SegmentURL").map(f=>Ss({tag:"SegmentURL"},ss(f))),s=Pr(t,"SegmentBase")[0],i=n||e,a=i&&Pr(i,"SegmentTimeline")[0],l=n||s||e,c=l&&Pr(l,"Initialization")[0],u=e&&ss(e);u&&c?u.initialization=c&&ss(c):u&&u.initialization&&(u.initialization={sourceURL:u.initialization});const h={template:u,segmentTimeline:a&&Pr(a,"S").map(f=>ss(f)),list:n&&Ss(ss(n),{segmentUrls:r,initialization:ss(c)}),base:s&&Ss(ss(s),{initialization:ss(c)})};return Object.keys(h).forEach(f=>{h[f]||delete h[f]}),h},ule=(t,e,n)=>r=>{const s=Pr(r,"BaseURL"),i=Ov(e,s),a=Ss(t,ss(r)),l=ck(r);return i.map(c=>({segmentInfo:Ss(n,l),attributes:Ss(a,c)}))},dle=t=>t.reduce((e,n)=>{const r=ss(n);r.schemeIdUri&&(r.schemeIdUri=r.schemeIdUri.toLowerCase());const s=cle[r.schemeIdUri];if(s){e[s]={attributes:r};const i=Pr(n,"cenc:pssh")[0];if(i){const a=p0(i);e[s].pssh=a&&yL(a)}}return e},{}),hle=t=>{if(t.schemeIdUri==="urn:scte:dash:cc:cea-608:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(n=>{let r,s;return s=n,/^CC\d=/.test(n)?[r,s]=n.split("="):/^CC\d$/.test(n)&&(r=n),{channel:r,language:s}});if(t.schemeIdUri==="urn:scte:dash:cc:cea-708:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(n=>{const r={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(n)){const[s,i=""]=n.split("=");r.channel=s,r.language=n,i.split(",").forEach(a=>{const[l,c]=a.split(":");l==="lang"?r.language=c:l==="er"?r.easyReader=Number(c):l==="war"?r.aspectRatio=Number(c):l==="3D"&&(r["3D"]=Number(c))})}else r.language=n;return r.channel&&(r.channel="SERVICE"+r.channel),r})},fle=t=>Yf(Pr(t.node,"EventStream").map(e=>{const n=ss(e),r=n.schemeIdUri;return Pr(e,"Event").map(s=>{const i=ss(s),a=i.presentationTime||0,l=n.timescale||1,c=i.duration||0,u=a/l+t.attributes.start;return{schemeIdUri:r,value:n.value,id:i.id,start:u,end:u+c/l,messageData:p0(s)||i.messageData,contentEncoding:n.contentEncoding,presentationTimeOffset:n.presentationTimeOffset||0}})})),ple=(t,e,n)=>r=>{const s=ss(r),i=Ov(e,Pr(r,"BaseURL")),a=Pr(r,"Role")[0],l={role:ss(a)};let c=Ss(t,s,l);const u=Pr(r,"Accessibility")[0],h=hle(ss(u));h&&(c=Ss(c,{captionServices:h}));const f=Pr(r,"Label")[0];if(f&&f.childNodes.length){const x=f.childNodes[0].nodeValue.trim();c=Ss(c,{label:x})}const m=dle(Pr(r,"ContentProtection"));Object.keys(m).length&&(c=Ss(c,{contentProtection:m}));const g=ck(r),b=Pr(r,"Representation"),y=Ss(n,g);return Yf(b.map(ule(c,i,y)))},mle=(t,e)=>(n,r)=>{const s=Ov(e,Pr(n.node,"BaseURL")),i=Ss(t,{periodStart:n.attributes.start});typeof n.attributes.duration=="number"&&(i.periodDuration=n.attributes.duration);const a=Pr(n.node,"AdaptationSet"),l=ck(n.node);return Yf(a.map(ple(i,s,l)))},gle=(t,e)=>{if(t.length>1&&e({type:"warn",message:"The MPD manifest should contain no more than one ContentSteering tag"}),!t.length)return null;const n=Ss({serverURL:p0(t[0])},ss(t[0]));return n.queryBeforeStart=n.queryBeforeStart==="true",n},yle=({attributes:t,priorPeriodAttributes:e,mpdType:n})=>typeof t.start=="number"?t.start:e&&typeof e.start=="number"&&typeof e.duration=="number"?e.start+e.duration:!e&&n==="static"?0:null,ble=(t,e={})=>{const{manifestUri:n="",NOW:r=Date.now(),clientOffset:s=0,eventHandler:i=function(){}}=e,a=Pr(t,"Period");if(!a.length)throw new Error(Gf.INVALID_NUMBER_OF_PERIOD);const l=Pr(t,"Location"),c=ss(t),u=Ov([{baseUrl:n}],Pr(t,"BaseURL")),h=Pr(t,"ContentSteering");c.type=c.type||"static",c.sourceDuration=c.mediaPresentationDuration||0,c.NOW=r,c.clientOffset=s,l.length&&(c.locations=l.map(p0));const f=[];return a.forEach((m,g)=>{const b=ss(m),y=f[g-1];b.start=yle({attributes:b,priorPeriodAttributes:y?y.attributes:null,mpdType:c.type}),f.push({node:m,attributes:b})}),{locations:c.locations,contentSteeringInfo:gle(h,i),representationInfo:Yf(f.map(mle(c,u))),eventStream:Yf(f.map(fle))}},NL=t=>{if(t==="")throw new Error(Gf.DASH_EMPTY_MANIFEST);const e=new joe.DOMParser;let n,r;try{n=e.parseFromString(t,"application/xml"),r=n&&n.documentElement.tagName==="MPD"?n.documentElement:null}catch{}if(!r||r&&r.getElementsByTagName("parsererror").length>0)throw new Error(Gf.DASH_INVALID_XML);return r},xle=t=>{const e=Pr(t,"UTCTiming")[0];if(!e)return null;const n=ss(e);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(Gf.UNSUPPORTED_UTC_TIMING_SCHEME)}return n},vle=(t,e={})=>{const n=ble(NL(t),e),r=ale(n.representationInfo);return Qoe({dashPlaylists:r,locations:n.locations,contentSteering:n.contentSteeringInfo,sidxMapping:e.sidxMapping,previousManifest:e.previousManifest,eventStream:n.eventStream})},_le=t=>xle(NL(t));var Sw,n5;function wle(){if(n5)return Sw;n5=1;var t=Math.pow(2,32),e=function(n){var r=new DataView(n.buffer,n.byteOffset,n.byteLength),s;return r.getBigUint64?(s=r.getBigUint64(0),s<Number.MAX_SAFE_INTEGER?Number(s):s):r.getUint32(0)*t+r.getUint32(4)};return Sw={getUint64:e,MAX_UINT32:t},Sw}var Cw,r5;function Sle(){if(r5)return Cw;r5=1;var t=wle().getUint64,e=function(n){var r=new DataView(n.buffer,n.byteOffset,n.byteLength),s={version:n[0],flags:new Uint8Array(n.subarray(1,4)),references:[],referenceId:r.getUint32(4),timescale:r.getUint32(8)},i=12;s.version===0?(s.earliestPresentationTime=r.getUint32(i),s.firstOffset=r.getUint32(i+4),i+=8):(s.earliestPresentationTime=t(n.subarray(i)),s.firstOffset=t(n.subarray(i+8)),i+=16),i+=2;var a=r.getUint16(i);for(i+=2;a>0;i+=12,a--)s.references.push({referenceType:(n[i]&128)>>>7,referencedSize:r.getUint32(i)&2147483647,subsegmentDuration:r.getUint32(i+4),startsWithSap:!!(n[i+8]&128),sapType:(n[i+8]&112)>>>4,sapDeltaTime:r.getUint32(i+8)&268435455});return s};return Cw=e,Cw}var Cle=Sle();const Tle=Jr(Cle);var kle=hn([73,68,51]),Ele=function(e,n){n===void 0&&(n=0),e=hn(e);var r=e[n+5],s=e[n+6]<<21|e[n+7]<<14|e[n+8]<<7|e[n+9],i=(r&16)>>4;return i?s+20:s+10},Bm=function t(e,n){return n===void 0&&(n=0),e=hn(e),e.length-n<10||!Dr(e,kle,{offset:n})?n:(n+=Ele(e,n),t(e,n))},s5=function(e){return typeof e=="string"?wL(e):e},jle=function(e){return Array.isArray(e)?e.map(function(n){return s5(n)}):[s5(e)]},Nle=function t(e,n,r){r===void 0&&(r=!1),n=jle(n),e=hn(e);var s=[];if(!n.length)return s;for(var i=0;i<e.length;){var a=(e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3])>>>0,l=e.subarray(i+4,i+8);if(a===0)break;var c=i+a;if(c>e.length){if(r)break;c=e.length}var u=e.subarray(i+8,c);Dr(l,n[0])&&(n.length===1?s.push(u):s.push.apply(s,t(u,n.slice(1),r))),i=c}return s},Ly={EBML:hn([26,69,223,163]),DocType:hn([66,130]),Segment:hn([24,83,128,103]),SegmentInfo:hn([21,73,169,102]),Tracks:hn([22,84,174,107]),Track:hn([174]),TrackNumber:hn([215]),DefaultDuration:hn([35,227,131]),TrackEntry:hn([174]),TrackType:hn([131]),FlagDefault:hn([136]),CodecID:hn([134]),CodecPrivate:hn([99,162]),VideoTrack:hn([224]),AudioTrack:hn([225]),Cluster:hn([31,67,182,117]),Timestamp:hn([231]),TimestampScale:hn([42,215,177]),BlockGroup:hn([160]),BlockDuration:hn([155]),Block:hn([161]),SimpleBlock:hn([163])},bS=[128,64,32,16,8,4,2,1],Dle=function(e){for(var n=1,r=0;r<bS.length&&!(e&bS[r]);r++)n++;return n},ex=function(e,n,r,s){r===void 0&&(r=!0),s===void 0&&(s=!1);var i=Dle(e[n]),a=e.subarray(n,n+i);return r&&(a=Array.prototype.slice.call(e,n,n+i),a[0]^=bS[i-1]),{length:i,value:voe(a,{signed:s}),bytes:a}},i5=function t(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(n){return t(n)}):typeof e=="number"?_oe(e):e},Ale=function(e){return Array.isArray(e)?e.map(function(n){return i5(n)}):[i5(e)]},Ple=function t(e,n,r){if(r>=n.length)return n.length;var s=ex(n,r,!1);if(Dr(e.bytes,s.bytes))return r;var i=ex(n,r+s.length);return t(e,n,r+i.length+i.value+s.length)},a5=function t(e,n){n=Ale(n),e=hn(e);var r=[];if(!n.length)return r;for(var s=0;s<e.length;){var i=ex(e,s,!1),a=ex(e,s+i.length),l=s+i.length+a.length;a.value===127&&(a.value=Ple(i,e,l),a.value!==e.length&&(a.value-=l));var c=l+a.value>e.length?e.length:l+a.value,u=e.subarray(l,c);Dr(n[0],i.bytes)&&(n.length===1?r.push(u):r=r.concat(t(u,n.slice(1))));var h=i.length+a.length+u.length;s+=h}return r},Ile=hn([0,0,0,1]),Ole=hn([0,0,1]),Mle=hn([0,0,3]),Rle=function(e){for(var n=[],r=1;r<e.length-2;)Dr(e.subarray(r,r+3),Mle)&&(n.push(r+2),r++),r++;if(n.length===0)return e;var s=e.length-n.length,i=new Uint8Array(s),a=0;for(r=0;r<s;a++,r++)a===n[0]&&(a++,n.shift()),i[r]=e[a];return i},DL=function(e,n,r,s){e=hn(e),r=[].concat(r);for(var i=0,a,l=0;i<e.length&&(l<s||a);){var c=void 0;if(Dr(e.subarray(i),Ile)?c=4:Dr(e.subarray(i),Ole)&&(c=3),!c){i++;continue}if(l++,a)return Rle(e.subarray(a,i));var u=void 0;n==="h264"?u=e[i+c]&31:n==="h265"&&(u=e[i+c]>>1&63),r.indexOf(u)!==-1&&(a=i+c),i+=c+(n==="h264"?1:2)}return e.subarray(0,0)},Lle=function(e,n,r){return DL(e,"h264",n,r)},Fle=function(e,n,r){return DL(e,"h265",n,r)},hi={webm:hn([119,101,98,109]),matroska:hn([109,97,116,114,111,115,107,97]),flac:hn([102,76,97,67]),ogg:hn([79,103,103,83]),ac3:hn([11,119]),riff:hn([82,73,70,70]),avi:hn([65,86,73]),wav:hn([87,65,86,69]),"3gp":hn([102,116,121,112,51,103]),mp4:hn([102,116,121,112]),fmp4:hn([115,116,121,112]),mov:hn([102,116,121,112,113,116]),moov:hn([109,111,111,118]),moof:hn([109,111,111,102])},Kf={aac:function(e){var n=Bm(e);return Dr(e,[255,16],{offset:n,mask:[255,22]})},mp3:function(e){var n=Bm(e);return Dr(e,[255,2],{offset:n,mask:[255,6]})},webm:function(e){var n=a5(e,[Ly.EBML,Ly.DocType])[0];return Dr(n,hi.webm)},mkv:function(e){var n=a5(e,[Ly.EBML,Ly.DocType])[0];return Dr(n,hi.matroska)},mp4:function(e){if(Kf["3gp"](e)||Kf.mov(e))return!1;if(Dr(e,hi.mp4,{offset:4})||Dr(e,hi.fmp4,{offset:4})||Dr(e,hi.moof,{offset:4})||Dr(e,hi.moov,{offset:4}))return!0},mov:function(e){return Dr(e,hi.mov,{offset:4})},"3gp":function(e){return Dr(e,hi["3gp"],{offset:4})},ac3:function(e){var n=Bm(e);return Dr(e,hi.ac3,{offset:n})},ts:function(e){if(e.length<189&&e.length>=1)return e[0]===71;for(var n=0;n+188<e.length&&n<188;){if(e[n]===71&&e[n+188]===71)return!0;n+=1}return!1},flac:function(e){var n=Bm(e);return Dr(e,hi.flac,{offset:n})},ogg:function(e){return Dr(e,hi.ogg)},avi:function(e){return Dr(e,hi.riff)&&Dr(e,hi.avi,{offset:8})},wav:function(e){return Dr(e,hi.riff)&&Dr(e,hi.wav,{offset:8})},h264:function(e){return Lle(e,7,3).length},h265:function(e){return Fle(e,[32,33],3).length}},xS=Object.keys(Kf).filter(function(t){return t!=="ts"&&t!=="h264"&&t!=="h265"}).concat(["ts","h264","h265"]);xS.forEach(function(t){var e=Kf[t];Kf[t]=function(n){return e(hn(n))}});var Ble=Kf,uk=function(e){e=hn(e);for(var n=0;n<xS.length;n++){var r=xS[n];if(Ble[r](e))return r}return""},$le=function(e){return Nle(e,["moof"]).length>0},Tw,o5;function zle(){if(o5)return Tw;o5=1;var t=9e4,e,n,r,s,i,a,l;return e=function(c){return c*t},n=function(c,u){return c*u},r=function(c){return c/t},s=function(c,u){return c/u},i=function(c,u){return e(s(c,u))},a=function(c,u){return n(r(c),u)},l=function(c,u,h){return r(h?c:c-u)},Tw={ONE_SECOND_IN_TS:t,secondsToVideoTs:e,secondsToAudioTs:n,videoTsToSeconds:r,audioTsToSeconds:s,audioTsToVideoTs:i,videoTsToAudioTs:a,metadataTsToSeconds:l},Tw}var Id=zle();/**
 * @license
 * Video.js 8.23.3 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var vS="8.23.3";const rc={},ju=function(t,e){return rc[t]=rc[t]||[],e&&(rc[t]=rc[t].concat(e)),rc[t]},Ule=function(t,e){ju(t,e)},AL=function(t,e){const n=ju(t).indexOf(e);return n<=-1?!1:(rc[t]=rc[t].slice(),rc[t].splice(n,1),!0)},Hle=function(t,e){ju(t,[].concat(e).map(n=>{const r=(...s)=>(AL(t,r),n(...s));return r}))},tx={prefixed:!0},yb=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"]],l5=yb[0];let $m;for(let t=0;t<yb.length;t++)if(yb[t][1]in Pt){$m=yb[t];break}if($m){for(let t=0;t<$m.length;t++)tx[l5[t]]=$m[t];tx.prefixed=$m[0]!==l5[0]}let Bi=[];const Wle=(t,e,n)=>(r,s,i)=>{const a=e.levels[s],l=new RegExp(`^(${a})$`);let c=t;if(r!=="log"&&i.unshift(r.toUpperCase()+":"),n&&(c=`%c${t}`,i.unshift(n)),i.unshift(c+":"),Bi){Bi.push([].concat(i));const h=Bi.length-1e3;Bi.splice(0,h>0?h:0)}if(!De.console)return;let u=De.console[r];!u&&r==="debug"&&(u=De.console.info||De.console.log),!(!u||!a||!l.test(r))&&u[Array.isArray(i)?"apply":"call"](De.console,i)};function _S(t,e=":",n=""){let r="info",s;function i(...a){s("log",r,a)}return s=Wle(t,i,n),i.createLogger=(a,l,c)=>{const u=l!==void 0?l:e,h=c!==void 0?c:n,f=`${t} ${u} ${a}`;return _S(f,u,h)},i.createNewLogger=(a,l,c)=>_S(a,l,c),i.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:r},i.level=a=>{if(typeof a=="string"){if(!i.levels.hasOwnProperty(a))throw new Error(`"${a}" in not a valid log level`);r=a}return r},i.history=()=>Bi?[].concat(Bi):[],i.history.filter=a=>(Bi||[]).filter(l=>new RegExp(`.*${a}.*`).test(l[0])),i.history.clear=()=>{Bi&&(Bi.length=0)},i.history.disable=()=>{Bi!==null&&(Bi.length=0,Bi=null)},i.history.enable=()=>{Bi===null&&(Bi=[])},i.error=(...a)=>s("error",r,a),i.warn=(...a)=>s("warn",r,a),i.debug=(...a)=>s("debug",r,a),i}const In=_S("VIDEOJS"),PL=In.createLogger,Vle=Object.prototype.toString,IL=function(t){return Tl(t)?Object.keys(t):[]};function Ef(t,e){IL(t).forEach(n=>e(t[n],n))}function OL(t,e,n=0){return IL(t).reduce((r,s)=>e(r,t[s],s),n)}function Tl(t){return!!t&&typeof t=="object"}function Xf(t){return Tl(t)&&Vle.call(t)==="[object Object]"&&t.constructor===Object}function hr(...t){const e={};return t.forEach(n=>{n&&Ef(n,(r,s)=>{if(!Xf(r)){e[s]=r;return}Xf(e[s])||(e[s]={}),e[s]=hr(e[s],r)})}),e}function ML(t={}){const e=[];for(const n in t)if(t.hasOwnProperty(n)){const r=t[n];e.push(r)}return e}function Mv(t,e,n,r=!0){const s=a=>Object.defineProperty(t,e,{value:a,enumerable:!0,writable:!0}),i={configurable:!0,enumerable:!0,get(){const a=n();return s(a),a}};return r&&(i.set=s),Object.defineProperty(t,e,i)}var qle=Object.freeze({__proto__:null,each:Ef,reduce:OL,isObject:Tl,isPlain:Xf,merge:hr,values:ML,defineLazyProperty:Mv});let dk=!1,RL=null,Ao=!1,LL,FL=!1,jf=!1,Nf=!1,kl=!1,hk=null,Rv=null;const Yle=!!(De.cast&&De.cast.framework&&De.cast.framework.CastReceiverContext);let BL=null,nx=!1,Lv=!1,rx=!1,Fv=!1,sx=!1,ix=!1,ax=!1;const Ag=!!(xp()&&("ontouchstart"in De||De.navigator.maxTouchPoints||De.DocumentTouch&&De.document instanceof De.DocumentTouch)),ru=De.navigator&&De.navigator.userAgentData;ru&&ru.platform&&ru.brands&&(Ao=ru.platform==="Android",jf=!!ru.brands.find(t=>t.brand==="Microsoft Edge"),Nf=!!ru.brands.find(t=>t.brand==="Chromium"),kl=!jf&&Nf,hk=Rv=(ru.brands.find(t=>t.brand==="Chromium")||{}).version||null,Lv=ru.platform==="Windows");if(!Nf){const t=De.navigator&&De.navigator.userAgent||"";dk=/iPod/i.test(t),RL=function(){const e=t.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),Ao=/Android/i.test(t),LL=function(){const e=t.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;const n=e[1]&&parseFloat(e[1]),r=e[2]&&parseFloat(e[2]);return n&&r?parseFloat(e[1]+"."+e[2]):n||null}(),FL=/Firefox/i.test(t),jf=/Edg/i.test(t),Nf=/Chrome/i.test(t)||/CriOS/i.test(t),kl=!jf&&Nf,hk=Rv=function(){const e=t.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),BL=function(){const e=/MSIE\s(\d+)\.\d/.exec(t);let n=e&&parseFloat(e[1]);return!n&&/Trident\/7.0/i.test(t)&&/rv:11.0/.test(t)&&(n=11),n}(),sx=/Tizen/i.test(t),ix=/Web0S/i.test(t),ax=sx||ix,nx=/Safari/i.test(t)&&!kl&&!Ao&&!jf&&!ax,Lv=/Windows/i.test(t),rx=/iPad/i.test(t)||nx&&Ag&&!/iPhone/i.test(t),Fv=/iPhone/i.test(t)&&!rx}const Zs=Fv||rx||dk,Bv=(nx||Zs)&&!kl;var $L=Object.freeze({__proto__:null,get IS_IPOD(){return dk},get IOS_VERSION(){return RL},get IS_ANDROID(){return Ao},get ANDROID_VERSION(){return LL},get IS_FIREFOX(){return FL},get IS_EDGE(){return jf},get IS_CHROMIUM(){return Nf},get IS_CHROME(){return kl},get CHROMIUM_VERSION(){return hk},get CHROME_VERSION(){return Rv},IS_CHROMECAST_RECEIVER:Yle,get IE_VERSION(){return BL},get IS_SAFARI(){return nx},get IS_WINDOWS(){return Lv},get IS_IPAD(){return rx},get IS_IPHONE(){return Fv},get IS_TIZEN(){return sx},get IS_WEBOS(){return ix},get IS_SMART_TV(){return ax},TOUCH_ENABLED:Ag,IS_IOS:Zs,IS_ANY_SAFARI:Bv});function c5(t){return typeof t=="string"&&!!t.trim()}function Gle(t){if(t.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function xp(){return Pt===De.document}function vp(t){return Tl(t)&&t.nodeType===1}function zL(){try{return De.parent!==De.self}catch{return!0}}function UL(t){return function(e,n){if(!c5(e))return Pt[t](null);c5(n)&&(n=Pt.querySelector(n));const r=vp(n)?n:Pt;return r[t]&&r[t](e)}}function bn(t="div",e={},n={},r){const s=Pt.createElement(t);return Object.getOwnPropertyNames(e).forEach(function(i){const a=e[i];i==="textContent"?Lu(s,a):(s[i]!==a||i==="tabIndex")&&(s[i]=a)}),Object.getOwnPropertyNames(n).forEach(function(i){s.setAttribute(i,n[i])}),r&&fk(s,r),s}function Lu(t,e){return typeof t.textContent>"u"?t.innerText=e:t.textContent=e,t}function wS(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function Jm(t,e){return Gle(e),t.classList.contains(e)}function zd(t,...e){return t.classList.add(...e.reduce((n,r)=>n.concat(r.split(/\s+/)),[])),t}function $v(t,...e){return t?(t.classList.remove(...e.reduce((n,r)=>n.concat(r.split(/\s+/)),[])),t):(In.warn("removeClass was called with an element that doesn't exist"),null)}function HL(t,e,n){return typeof n=="function"&&(n=n(t,e)),typeof n!="boolean"&&(n=void 0),e.split(/\s+/).forEach(r=>t.classList.toggle(r,n)),t}function WL(t,e){Object.getOwnPropertyNames(e).forEach(function(n){const r=e[n];r===null||typeof r>"u"||r===!1?t.removeAttribute(n):t.setAttribute(n,r===!0?"":r)})}function du(t){const e={},n=["autoplay","controls","playsinline","loop","muted","default","defaultMuted"];if(t&&t.attributes&&t.attributes.length>0){const r=t.attributes;for(let s=r.length-1;s>=0;s--){const i=r[s].name;let a=r[s].value;n.includes(i)&&(a=a!==null),e[i]=a}}return e}function VL(t,e){return t.getAttribute(e)}function Qf(t,e,n){t.setAttribute(e,n)}function zv(t,e){t.removeAttribute(e)}function qL(){Pt.body.focus(),Pt.onselectstart=function(){return!1}}function YL(){Pt.onselectstart=function(){return!0}}function Zf(t){if(t&&t.getBoundingClientRect&&t.parentNode){const e=t.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach(r=>{e[r]!==void 0&&(n[r]=e[r])}),n.height||(n.height=parseFloat(Jf(t,"height"))),n.width||(n.width=parseFloat(Jf(t,"width"))),n}}function Pg(t){if(!t||t&&!t.offsetParent)return{left:0,top:0,width:0,height:0};const e=t.offsetWidth,n=t.offsetHeight;let r=0,s=0;for(;t.offsetParent&&t!==Pt[tx.fullscreenElement];)r+=t.offsetLeft,s+=t.offsetTop,t=t.offsetParent;return{left:r,top:s,width:e,height:n}}function Uv(t,e){const n={x:0,y:0};if(Zs){let h=t;for(;h&&h.nodeName.toLowerCase()!=="html";){const f=Jf(h,"transform");if(/^matrix/.test(f)){const m=f.slice(7,-1).split(/,\s/).map(Number);n.x+=m[4],n.y+=m[5]}else if(/^matrix3d/.test(f)){const m=f.slice(9,-1).split(/,\s/).map(Number);n.x+=m[12],n.y+=m[13]}if(h.assignedSlot&&h.assignedSlot.parentElement&&De.WebKitCSSMatrix){const m=De.getComputedStyle(h.assignedSlot.parentElement).transform,g=new De.WebKitCSSMatrix(m);n.x+=g.m41,n.y+=g.m42}h=h.parentNode||h.host}}const r={},s=Pg(e.target),i=Pg(t),a=i.width,l=i.height;let c=e.offsetY-(i.top-s.top),u=e.offsetX-(i.left-s.left);return e.changedTouches&&(u=e.changedTouches[0].pageX-i.left,c=e.changedTouches[0].pageY+i.top,Zs&&(u-=n.x,c-=n.y)),r.y=1-Math.max(0,Math.min(1,c/l)),r.x=Math.max(0,Math.min(1,u/a)),r}function GL(t){return Tl(t)&&t.nodeType===3}function Hv(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function KL(t){return typeof t=="function"&&(t=t()),(Array.isArray(t)?t:[t]).map(e=>{if(typeof e=="function"&&(e=e()),vp(e)||GL(e))return e;if(typeof e=="string"&&/\S/.test(e))return Pt.createTextNode(e)}).filter(e=>e)}function fk(t,e){return KL(e).forEach(n=>t.appendChild(n)),t}function XL(t,e){return fk(Hv(t),e)}function Ig(t){return t.button===void 0&&t.buttons===void 0||t.button===0&&t.buttons===void 0||t.type==="mouseup"&&t.button===0&&t.buttons===0||t.type==="mousedown"&&t.button===0&&t.buttons===0?!0:!(t.button!==0||t.buttons!==1)}const Nu=UL("querySelector"),QL=UL("querySelectorAll");function Jf(t,e){if(!t||!e)return"";if(typeof De.getComputedStyle=="function"){let n;try{n=De.getComputedStyle(t)}catch{return""}return n?n.getPropertyValue(e)||n[e]:""}return""}function ZL(t){[...Pt.styleSheets].forEach(e=>{try{const n=[...e.cssRules].map(s=>s.cssText).join(""),r=Pt.createElement("style");r.textContent=n,t.document.head.appendChild(r)}catch{const r=Pt.createElement("link");r.rel="stylesheet",r.type=e.type,r.media=e.media.mediaText,r.href=e.href,t.document.head.appendChild(r)}})}var JL=Object.freeze({__proto__:null,isReal:xp,isEl:vp,isInFrame:zL,createEl:bn,textContent:Lu,prependTo:wS,hasClass:Jm,addClass:zd,removeClass:$v,toggleClass:HL,setAttributes:WL,getAttributes:du,getAttribute:VL,setAttribute:Qf,removeAttribute:zv,blockTextSelection:qL,unblockTextSelection:YL,getBoundingClientRect:Zf,findPosition:Pg,getPointerPosition:Uv,isTextNode:GL,emptyEl:Hv,normalizeContent:KL,appendContent:fk,insertContent:XL,isSingleLeftClick:Ig,$:Nu,$$:QL,computedStyle:Jf,copyStyleSheetsToWindow:ZL});let e6=!1,SS;const Kle=function(){if(SS.options.autoSetup===!1)return;const t=Array.prototype.slice.call(Pt.getElementsByTagName("video")),e=Array.prototype.slice.call(Pt.getElementsByTagName("audio")),n=Array.prototype.slice.call(Pt.getElementsByTagName("video-js")),r=t.concat(e,n);if(r&&r.length>0)for(let s=0,i=r.length;s<i;s++){const a=r[s];if(a&&a.getAttribute)a.player===void 0&&a.getAttribute("data-setup")!==null&&SS(a);else{CS(1);break}}else e6||CS(1)};function CS(t,e){xp()&&(e&&(SS=e),De.setTimeout(Kle,t))}function TS(){e6=!0,De.removeEventListener("load",TS)}xp()&&(Pt.readyState==="complete"?TS():De.addEventListener("load",TS));const t6=function(t){const e=Pt.createElement("style");return e.className=t,e},n6=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e};var vi=new WeakMap;const Xle=3;let Qle=Xle;function Qa(){return Qle++}function u5(t,e){if(!vi.has(t))return;const n=vi.get(t);n.handlers[e].length===0&&(delete n.handlers[e],t.removeEventListener?t.removeEventListener(e,n.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),Object.getOwnPropertyNames(n).length===0&&vi.delete(t)}function pk(t,e,n,r){n.forEach(function(s){t(e,s,r)})}function Wv(t){if(t.fixed_)return t;function e(){return!0}function n(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){const r=t||De.event;t={};const s=["layerX","layerY","keyLocation","path","webkitMovementX","webkitMovementY","mozPressure","mozInputSource"];for(const i in r)s.includes(i)||i==="returnValue"&&r.preventDefault||(t[i]=r[i]);if(t.target||(t.target=t.srcElement||Pt),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){r.preventDefault&&r.preventDefault(),t.returnValue=!1,r.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),t.cancelBubble=!0,r.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=n,t.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=n,t.clientX!==null&&t.clientX!==void 0){const i=Pt.documentElement,a=Pt.body;t.pageX=t.clientX+(i&&i.scrollLeft||a&&a.scrollLeft||0)-(i&&i.clientLeft||a&&a.clientLeft||0),t.pageY=t.clientY+(i&&i.scrollTop||a&&a.scrollTop||0)-(i&&i.clientTop||a&&a.clientTop||0)}t.which=t.charCode||t.keyCode,t.button!==null&&t.button!==void 0&&(t.button=t.button&1?0:t.button&4?1:t.button&2?2:0)}return t.fixed_=!0,t}let Fy;const Zle=function(){if(typeof Fy!="boolean"){Fy=!1;try{const t=Object.defineProperty({},"passive",{get(){Fy=!0}});De.addEventListener("test",null,t),De.removeEventListener("test",null,t)}catch{}}return Fy},Jle=["touchstart","touchmove"];function pa(t,e,n){if(Array.isArray(e))return pk(pa,t,e,n);vi.has(t)||vi.set(t,{});const r=vi.get(t);if(r.handlers||(r.handlers={}),r.handlers[e]||(r.handlers[e]=[]),n.guid||(n.guid=Qa()),r.handlers[e].push(n),r.dispatcher||(r.disabled=!1,r.dispatcher=function(s,i){if(r.disabled)return;s=Wv(s);const a=r.handlers[s.type];if(a){const l=a.slice(0);for(let c=0,u=l.length;c<u&&!s.isImmediatePropagationStopped();c++)try{l[c].call(t,s,i)}catch(h){In.error(h)}}}),r.handlers[e].length===1)if(t.addEventListener){let s=!1;Zle()&&Jle.indexOf(e)>-1&&(s={passive:!0}),t.addEventListener(e,r.dispatcher,s)}else t.attachEvent&&t.attachEvent("on"+e,r.dispatcher)}function Js(t,e,n){if(!vi.has(t))return;const r=vi.get(t);if(!r.handlers)return;if(Array.isArray(e))return pk(Js,t,e,n);const s=function(a,l){r.handlers[l]=[],u5(a,l)};if(e===void 0){for(const a in r.handlers)Object.prototype.hasOwnProperty.call(r.handlers||{},a)&&s(t,a);return}const i=r.handlers[e];if(i){if(!n){s(t,e);return}if(n.guid)for(let a=0;a<i.length;a++)i[a].guid===n.guid&&i.splice(a--,1);u5(t,e)}}function _p(t,e,n){const r=vi.has(t)?vi.get(t):{},s=t.parentNode||t.ownerDocument;if(typeof e=="string"?e={type:e,target:t}:e.target||(e.target=t),e=Wv(e),r.dispatcher&&r.dispatcher.call(t,e,n),s&&!e.isPropagationStopped()&&e.bubbles===!0)_p.call(null,s,e,n);else if(!s&&!e.defaultPrevented&&e.target&&e.target[e.type]){vi.has(e.target)||vi.set(e.target,{});const i=vi.get(e.target);e.target[e.type]&&(i.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),i.disabled=!1)}return!e.defaultPrevented}function Vv(t,e,n){if(Array.isArray(e))return pk(Vv,t,e,n);const r=function(){Js(t,e,r),n.apply(this,arguments)};r.guid=n.guid=n.guid||Qa(),pa(t,e,r)}function mk(t,e,n){const r=function(){Js(t,e,r),n.apply(this,arguments)};r.guid=n.guid=n.guid||Qa(),pa(t,e,r)}var ece=Object.freeze({__proto__:null,fixEvent:Wv,on:pa,off:Js,trigger:_p,one:Vv,any:mk});const Za=30,xr=function(t,e,n){e.guid||(e.guid=Qa());const r=e.bind(t);return r.guid=n?n+"_"+e.guid:e.guid,r},El=function(t,e){let n=De.performance.now();return function(...s){const i=De.performance.now();i-n>=e&&(t(...s),n=i)}},r6=function(t,e,n,r=De){let s;const i=()=>{r.clearTimeout(s),s=null},a=function(){const l=this,c=arguments;let u=function(){s=null,u=null,n||t.apply(l,c)};!s&&n&&t.apply(l,c),r.clearTimeout(s),s=r.setTimeout(u,e)};return a.cancel=i,a};var tce=Object.freeze({__proto__:null,UPDATE_REFRESH_INTERVAL:Za,bind_:xr,throttle:El,debounce:r6});let Sm;class ma{on(e,n){const r=this.addEventListener;this.addEventListener=()=>{},pa(this,e,n),this.addEventListener=r}off(e,n){Js(this,e,n)}one(e,n){const r=this.addEventListener;this.addEventListener=()=>{},Vv(this,e,n),this.addEventListener=r}any(e,n){const r=this.addEventListener;this.addEventListener=()=>{},mk(this,e,n),this.addEventListener=r}trigger(e){const n=e.type||e;typeof e=="string"&&(e={type:n}),e=Wv(e),this.allowedEvents_[n]&&this["on"+n]&&this["on"+n](e),_p(this,e)}queueTrigger(e){Sm||(Sm=new Map);const n=e.type||e;let r=Sm.get(this);r||(r=new Map,Sm.set(this,r));const s=r.get(n);r.delete(n),De.clearTimeout(s);const i=De.setTimeout(()=>{r.delete(n),r.size===0&&(r=null,Sm.delete(this)),this.trigger(e)},0);r.set(n,i)}}ma.prototype.allowedEvents_={};ma.prototype.addEventListener=ma.prototype.on;ma.prototype.removeEventListener=ma.prototype.off;ma.prototype.dispatchEvent=ma.prototype.trigger;const qv=t=>typeof t.name=="function"?t.name():typeof t.name=="string"?t.name:t.name_?t.name_:t.constructor&&t.constructor.name?t.constructor.name:typeof t,hc=t=>t instanceof ma||!!t.eventBusEl_&&["on","one","off","trigger"].every(e=>typeof t[e]=="function"),nce=(t,e)=>{hc(t)?e():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(e))},kS=t=>typeof t=="string"&&/\S/.test(t)||Array.isArray(t)&&!!t.length,ox=(t,e,n)=>{if(!t||!t.nodeName&&!hc(t))throw new Error(`Invalid target for ${qv(e)}#${n}; must be a DOM node or evented object.`)},s6=(t,e,n)=>{if(!kS(t))throw new Error(`Invalid event type for ${qv(e)}#${n}; must be a non-empty string or array.`)},i6=(t,e,n)=>{if(typeof t!="function")throw new Error(`Invalid listener for ${qv(e)}#${n}; must be a function.`)},kw=(t,e,n)=>{const r=e.length<3||e[0]===t||e[0]===t.eventBusEl_;let s,i,a;return r?(s=t.eventBusEl_,e.length>=3&&e.shift(),[i,a]=e):(s=e[0],i=e[1],a=e[2]),ox(s,t,n),s6(i,t,n),i6(a,t,n),a=xr(t,a),{isTargetingSelf:r,target:s,type:i,listener:a}},yd=(t,e,n,r)=>{ox(t,t,e),t.nodeName?ece[e](t,n,r):t[e](n,r)},rce={on(...t){const{isTargetingSelf:e,target:n,type:r,listener:s}=kw(this,t,"on");if(yd(n,"on",r,s),!e){const i=()=>this.off(n,r,s);i.guid=s.guid;const a=()=>this.off("dispose",i);a.guid=s.guid,yd(this,"on","dispose",i),yd(n,"on","dispose",a)}},one(...t){const{isTargetingSelf:e,target:n,type:r,listener:s}=kw(this,t,"one");if(e)yd(n,"one",r,s);else{const i=(...a)=>{this.off(n,r,i),s.apply(null,a)};i.guid=s.guid,yd(n,"one",r,i)}},any(...t){const{isTargetingSelf:e,target:n,type:r,listener:s}=kw(this,t,"any");if(e)yd(n,"any",r,s);else{const i=(...a)=>{this.off(n,r,i),s.apply(null,a)};i.guid=s.guid,yd(n,"any",r,i)}},off(t,e,n){if(!t||kS(t))Js(this.eventBusEl_,t,e);else{const r=t,s=e;ox(r,this,"off"),s6(s,this,"off"),i6(n,this,"off"),n=xr(this,n),this.off("dispose",n),r.nodeName?(Js(r,s,n),Js(r,"dispose",n)):hc(r)&&(r.off(s,n),r.off("dispose",n))}},trigger(t,e){ox(this.eventBusEl_,this,"trigger");const n=t&&typeof t!="string"?t.type:t;if(!kS(n))throw new Error(`Invalid event type for ${qv(this)}#trigger; must be a non-empty string or object with a type key that has a non-empty value.`);return _p(this.eventBusEl_,t,e)}};function gk(t,e={}){const{eventBusKey:n}=e;if(n){if(!t[n].nodeName)throw new Error(`The eventBusKey "${n}" does not refer to an element.`);t.eventBusEl_=t[n]}else t.eventBusEl_=bn("span",{className:"vjs-event-bus"});return Object.assign(t,rce),t.eventedCallbacks&&t.eventedCallbacks.forEach(r=>{r()}),t.on("dispose",()=>{t.off(),[t,t.el_,t.eventBusEl_].forEach(function(r){r&&vi.has(r)&&vi.delete(r)}),De.setTimeout(()=>{t.eventBusEl_=null},0)}),t}const sce={state:{},setState(t){typeof t=="function"&&(t=t());let e;return Ef(t,(n,r)=>{this.state[r]!==n&&(e=e||{},e[r]={from:this.state[r],to:n}),this.state[r]=n}),e&&hc(this)&&this.trigger({changes:e,type:"statechanged"}),e}};function a6(t,e){return Object.assign(t,sce),t.state=Object.assign({},t.state,e),typeof t.handleStateChanged=="function"&&hc(t)&&t.on("statechanged",t.handleStateChanged),t}const eg=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toLowerCase())},qr=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},o6=function(t,e){return qr(t)===qr(e)};var ice=Object.freeze({__proto__:null,toLowerCase:eg,toTitleCase:qr,titleCaseEquals:o6});class yt{constructor(e,n,r){if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=hr({},this.options_),n=this.options_=hr(this.options_,n),this.id_=n.id||n.el&&n.el.id,!this.id_){const s=e&&e.id&&e.id()||"no_player";this.id_=`${s}_component_${Qa()}`}this.name_=n.name||null,n.el?this.el_=n.el:n.createEl!==!1&&(this.el_=this.createEl()),n.className&&this.el_&&n.className.split(" ").forEach(s=>this.addClass(s)),["on","off","one","any","trigger"].forEach(s=>{this[s]=void 0}),n.evented!==!1&&(gk(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),a6(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set,this.setIntervalIds_=new Set,this.rafIds_=new Set,this.namedRafs_=new Map,this.clearingTimersOnDispose_=!1,n.initChildren!==!1&&this.initChildren(),this.ready(r),n.reportTouchActivity!==!1&&this.enableTouchActivity()}dispose(e={}){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(let n=this.children_.length-1;n>=0;n--)this.children_[n].dispose&&this.children_[n].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(e.restoreEl?this.el_.parentNode.replaceChild(e.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}}isDisposed(){return!!this.isDisposed_}player(){return this.player_}options(e){return e?(this.options_=hr(this.options_,e),this.options_):this.options_}el(){return this.el_}createEl(e,n,r){return bn(e,n,r)}localize(e,n,r=e){const s=this.player_.language&&this.player_.language(),i=this.player_.languages&&this.player_.languages(),a=i&&i[s],l=s&&s.split("-")[0],c=i&&i[l];let u=r;return a&&a[e]?u=a[e]:c&&c[e]&&(u=c[e]),n&&(u=u.replace(/\{(\d+)\}/g,function(h,f){const m=n[f-1];let g=m;return typeof m>"u"&&(g=h),g})),u}handleLanguagechange(){}contentEl(){return this.contentEl_||this.el_}id(){return this.id_}name(){return this.name_}children(){return this.children_}getChildById(e){return this.childIndex_[e]}getChild(e){if(e)return this.childNameIndex_[e]}getDescendant(...e){e=e.reduce((r,s)=>r.concat(s),[]);let n=this;for(let r=0;r<e.length;r++)if(n=n.getChild(e[r]),!n||!n.getChild)return;return n}setIcon(e,n=this.el()){if(!this.player_.options_.experimentalSvgIcons)return;const r="http://www.w3.org/2000/svg",s=bn("span",{className:"vjs-icon-placeholder vjs-svg-icon"},{"aria-hidden":"true"}),i=Pt.createElementNS(r,"svg");i.setAttributeNS(null,"viewBox","0 0 512 512");const a=Pt.createElementNS(r,"use");return i.appendChild(a),a.setAttributeNS(null,"href",`#vjs-icon-${e}`),s.appendChild(i),this.iconIsSet_?n.replaceChild(s,n.querySelector(".vjs-icon-placeholder")):n.appendChild(s),this.iconIsSet_=!0,s}addChild(e,n={},r=this.children_.length){let s,i;if(typeof e=="string"){i=qr(e);const a=n.componentClass||i;n.name=i;const l=yt.getComponent(a);if(!l)throw new Error(`Component ${a} does not exist`);if(typeof l!="function")return null;s=new l(this.player_||this,n)}else s=e;if(s.parentComponent_&&s.parentComponent_.removeChild(s),this.children_.splice(r,0,s),s.parentComponent_=this,typeof s.id=="function"&&(this.childIndex_[s.id()]=s),i=i||s.name&&qr(s.name()),i&&(this.childNameIndex_[i]=s,this.childNameIndex_[eg(i)]=s),typeof s.el=="function"&&s.el()){let a=null;this.children_[r+1]&&(this.children_[r+1].el_?a=this.children_[r+1].el_:vp(this.children_[r+1])&&(a=this.children_[r+1])),this.contentEl().insertBefore(s.el(),a)}return s}removeChild(e){if(typeof e=="string"&&(e=this.getChild(e)),!e||!this.children_)return;let n=!1;for(let s=this.children_.length-1;s>=0;s--)if(this.children_[s]===e){n=!0,this.children_.splice(s,1);break}if(!n)return;e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[qr(e.name())]=null,this.childNameIndex_[eg(e.name())]=null;const r=e.el();r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}initChildren(){const e=this.options_.children;if(e){const n=this.options_,r=a=>{const l=a.name;let c=a.opts;if(n[l]!==void 0&&(c=n[l]),c===!1)return;c===!0&&(c={}),c.playerOptions=this.options_.playerOptions;const u=this.addChild(l,c);u&&(this[l]=u)};let s;const i=yt.getComponent("Tech");Array.isArray(e)?s=e:s=Object.keys(e),s.concat(Object.keys(this.options_).filter(function(a){return!s.some(function(l){return typeof l=="string"?a===l:a===l.name})})).map(a=>{let l,c;return typeof a=="string"?(l=a,c=e[l]||this.options_[l]||{}):(l=a.name,c=a),{name:l,opts:c}}).filter(a=>{const l=yt.getComponent(a.opts.componentClass||qr(a.name));return l&&!i.isTech(l)}).forEach(r)}}buildCSSClass(){return""}ready(e,n=!1){if(e){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e);return}n?e.call(this):this.setTimeout(e,1)}}triggerReady(){this.isReady_=!0,this.setTimeout(function(){const e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(n){n.call(this)},this),this.trigger("ready")},1)}$(e,n){return Nu(e,n||this.contentEl())}$$(e,n){return QL(e,n||this.contentEl())}hasClass(e){return Jm(this.el_,e)}addClass(...e){zd(this.el_,...e)}removeClass(...e){$v(this.el_,...e)}toggleClass(e,n){HL(this.el_,e,n)}show(){this.removeClass("vjs-hidden")}hide(){this.addClass("vjs-hidden")}lockShowing(){this.addClass("vjs-lock-showing")}unlockShowing(){this.removeClass("vjs-lock-showing")}getAttribute(e){return VL(this.el_,e)}setAttribute(e,n){Qf(this.el_,e,n)}removeAttribute(e){zv(this.el_,e)}width(e,n){return this.dimension("width",e,n)}height(e,n){return this.dimension("height",e,n)}dimensions(e,n){this.width(e,!0),this.height(n)}dimension(e,n,r){if(n!==void 0){(n===null||n!==n)&&(n=0),(""+n).indexOf("%")!==-1||(""+n).indexOf("px")!==-1?this.el_.style[e]=n:n==="auto"?this.el_.style[e]="":this.el_.style[e]=n+"px",r||this.trigger("componentresize");return}if(!this.el_)return 0;const s=this.el_.style[e],i=s.indexOf("px");return parseInt(i!==-1?s.slice(0,i):this.el_["offset"+qr(e)],10)}currentDimension(e){let n=0;if(e!=="width"&&e!=="height")throw new Error("currentDimension only accepts width or height value");if(n=Jf(this.el_,e),n=parseFloat(n),n===0||isNaN(n)){const r=`offset${qr(e)}`;n=this.el_[r]}return n}currentDimensions(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}}currentWidth(){return this.currentDimension("width")}currentHeight(){return this.currentDimension("height")}getPositions(){const e=this.el_.getBoundingClientRect(),n={x:e.x,y:e.y,width:e.width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left},r={x:e.left+e.width/2,y:e.top+e.height/2,width:0,height:0,top:e.top+e.height/2,right:e.left+e.width/2,bottom:e.top+e.height/2,left:e.left+e.width/2};return{boundingClientRect:n,center:r}}focus(){this.el_.focus()}blur(){this.el_.blur()}handleKeyDown(e){this.player_&&(e.key!=="Tab"&&!(this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled)&&e.stopPropagation(),this.player_.handleKeyDown(e))}handleKeyPress(e){this.handleKeyDown(e)}emitTapEvents(){let e=0,n=null;const r=10,s=200;let i;this.on("touchstart",function(l){l.touches.length===1&&(n={pageX:l.touches[0].pageX,pageY:l.touches[0].pageY},e=De.performance.now(),i=!0)}),this.on("touchmove",function(l){if(l.touches.length>1)i=!1;else if(n){const c=l.touches[0].pageX-n.pageX,u=l.touches[0].pageY-n.pageY;Math.sqrt(c*c+u*u)>r&&(i=!1)}});const a=function(){i=!1};this.on("touchleave",a),this.on("touchcancel",a),this.on("touchend",function(l){n=null,i===!0&&De.performance.now()-e<s&&(l.preventDefault(),this.trigger("tap"))})}enableTouchActivity(){if(!this.player()||!this.player().reportUserActivity)return;const e=xr(this.player(),this.player().reportUserActivity);let n;this.on("touchstart",function(){e(),this.clearInterval(n),n=this.setInterval(e,250)});const r=function(s){e(),this.clearInterval(n)};this.on("touchmove",e),this.on("touchend",r),this.on("touchcancel",r)}setTimeout(e,n){var r;return e=xr(this,e),this.clearTimersOnDispose_(),r=De.setTimeout(()=>{this.setTimeoutIds_.has(r)&&this.setTimeoutIds_.delete(r),e()},n),this.setTimeoutIds_.add(r),r}clearTimeout(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),De.clearTimeout(e)),e}setInterval(e,n){e=xr(this,e),this.clearTimersOnDispose_();const r=De.setInterval(e,n);return this.setIntervalIds_.add(r),r}clearInterval(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),De.clearInterval(e)),e}requestAnimationFrame(e){this.clearTimersOnDispose_();var n;return e=xr(this,e),n=De.requestAnimationFrame(()=>{this.rafIds_.has(n)&&this.rafIds_.delete(n),e()}),this.rafIds_.add(n),n}requestNamedAnimationFrame(e,n){this.namedRafs_.has(e)&&this.cancelNamedAnimationFrame(e),this.clearTimersOnDispose_(),n=xr(this,n);const r=this.requestAnimationFrame(()=>{n(),this.namedRafs_.has(e)&&this.namedRafs_.delete(e)});return this.namedRafs_.set(e,r),e}cancelNamedAnimationFrame(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))}cancelAnimationFrame(e){return this.rafIds_.has(e)&&(this.rafIds_.delete(e),De.cancelAnimationFrame(e)),e}clearTimersOnDispose_(){this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",()=>{[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(([e,n])=>{this[e].forEach((r,s)=>this[n](s))}),this.clearingTimersOnDispose_=!1}))}getIsDisabled(){return!!this.el_.disabled}getIsExpresslyInert(){return this.el_.inert&&!this.el_.ownerDocument.documentElement.inert}getIsFocusable(e){return(e||this.el_).tabIndex>=0&&!(this.getIsDisabled()||this.getIsExpresslyInert())}getIsAvailableToBeFocused(e){function n(i){const a=De.getComputedStyle(i,null),l=a.getPropertyValue("visibility");return a.getPropertyValue("display")!=="none"&&!["hidden","collapse"].includes(l)}function r(i){return!(!n(i.parentElement)||!n(i)||i.style.opacity==="0"||De.getComputedStyle(i).height==="0px"||De.getComputedStyle(i).width==="0px")}function s(i){if(i.offsetWidth+i.offsetHeight+i.getBoundingClientRect().height+i.getBoundingClientRect().width===0)return!1;const a={x:i.getBoundingClientRect().left+i.offsetWidth/2,y:i.getBoundingClientRect().top+i.offsetHeight/2};if(a.x<0||a.x>(Pt.documentElement.clientWidth||De.innerWidth)||a.y<0||a.y>(Pt.documentElement.clientHeight||De.innerHeight))return!1;let l=Pt.elementFromPoint(a.x,a.y);for(;l;){if(l===i)return!0;if(l.parentNode)l=l.parentNode;else return!1}}return e||(e=this.el()),!!(s(e)&&r(e)&&(!e.parentElement||e.tabIndex>=0))}static registerComponent(e,n){if(typeof e!="string"||!e)throw new Error(`Illegal component name, "${e}"; must be a non-empty string.`);const r=yt.getComponent("Tech"),s=r&&r.isTech(n),i=yt===n||yt.prototype.isPrototypeOf(n.prototype);if(s||!i){let l;throw s?l="techs must be registered using Tech.registerTech()":l="must be a Component subclass",new Error(`Illegal component, "${e}"; ${l}.`)}e=qr(e),yt.components_||(yt.components_={});const a=yt.getComponent("Player");if(e==="Player"&&a&&a.players){const l=a.players,c=Object.keys(l);if(l&&c.length>0){for(let u=0;u<c.length;u++)if(l[c[u]]!==null)throw new Error("Can not register Player component after player has been created.")}}return yt.components_[e]=n,yt.components_[eg(e)]=n,n}static getComponent(e){if(!(!e||!yt.components_))return yt.components_[e]}}yt.registerComponent("Component",yt);function ace(t,e,n){if(typeof e!="number"||e<0||e>n)throw new Error(`Failed to execute '${t}' on 'TimeRanges': The index provided (${e}) is non-numeric or out of bounds (0-${n}).`)}function d5(t,e,n,r){return ace(t,r,n.length-1),n[r][e]}function Ew(t){let e;return t===void 0||t.length===0?e={length:0,start(){throw new Error("This TimeRanges object is empty")},end(){throw new Error("This TimeRanges object is empty")}}:e={length:t.length,start:d5.bind(null,"start",0,t),end:d5.bind(null,"end",1,t)},De.Symbol&&De.Symbol.iterator&&(e[De.Symbol.iterator]=()=>(t||[]).values()),e}function jo(t,e){return Array.isArray(t)?Ew(t):t===void 0||e===void 0?Ew():Ew([[t,e]])}const l6=function(t,e){t=t<0?0:t;let n=Math.floor(t%60),r=Math.floor(t/60%60),s=Math.floor(t/3600);const i=Math.floor(e/60%60),a=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(s=r=n="-"),s=s>0||a>0?s+":":"",r=((s||i>=10)&&r<10?"0"+r:r)+":",n=n<10?"0"+n:n,s+r+n};let yk=l6;function c6(t){yk=t}function u6(){yk=l6}function Qd(t,e=t){return yk(t,e)}var oce=Object.freeze({__proto__:null,createTimeRanges:jo,createTimeRange:jo,setFormatTime:c6,resetFormatTime:u6,formatTime:Qd});function d6(t,e){let n=0,r,s;if(!e)return 0;(!t||!t.length)&&(t=jo(0,0));for(let i=0;i<t.length;i++)r=t.start(i),s=t.end(i),s>e&&(s=e),n+=s-r;return n/e}function Br(t){if(t instanceof Br)return t;typeof t=="number"?this.code=t:typeof t=="string"?this.message=t:Tl(t)&&(typeof t.code=="number"&&(this.code=t.code),Object.assign(this,t)),this.message||(this.message=Br.defaultMessages[this.code]||"")}Br.prototype.code=0;Br.prototype.message="";Br.prototype.status=null;Br.prototype.metadata=null;Br.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];Br.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};Br.MEDIA_ERR_CUSTOM=0;Br.prototype.MEDIA_ERR_CUSTOM=0;Br.MEDIA_ERR_ABORTED=1;Br.prototype.MEDIA_ERR_ABORTED=1;Br.MEDIA_ERR_NETWORK=2;Br.prototype.MEDIA_ERR_NETWORK=2;Br.MEDIA_ERR_DECODE=3;Br.prototype.MEDIA_ERR_DECODE=3;Br.MEDIA_ERR_SRC_NOT_SUPPORTED=4;Br.prototype.MEDIA_ERR_SRC_NOT_SUPPORTED=4;Br.MEDIA_ERR_ENCRYPTED=5;Br.prototype.MEDIA_ERR_ENCRYPTED=5;function tg(t){return t!=null&&typeof t.then=="function"}function ml(t){tg(t)&&t.then(null,e=>{})}const ES=function(t){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((n,r,s)=>(t[r]&&(n[r]=t[r]),n),{cues:t.cues&&Array.prototype.map.call(t.cues,function(n){return{startTime:n.startTime,endTime:n.endTime,text:n.text,id:n.id}})})},lce=function(t){const e=t.$$("track"),n=Array.prototype.map.call(e,s=>s.track);return Array.prototype.map.call(e,function(s){const i=ES(s.track);return s.src&&(i.src=s.src),i}).concat(Array.prototype.filter.call(t.textTracks(),function(s){return n.indexOf(s)===-1}).map(ES))},cce=function(t,e){return t.forEach(function(n){const r=e.addRemoteTextTrack(n).track;!n.src&&n.cues&&n.cues.forEach(s=>r.addCue(s))}),e.textTracks()};var jS={textTracksToJson:lce,jsonToTextTracks:cce,trackToJson:ES};const jw="vjs-modal-dialog";class wp extends yt{constructor(e,n){super(e,n),this.handleKeyDown_=r=>this.handleKeyDown(r),this.close_=r=>this.close(r),this.opened_=this.hasBeenOpened_=this.hasBeenFilled_=!1,this.closeable(!this.options_.uncloseable),this.content(this.options_.content),this.contentEl_=bn("div",{className:`${jw}-content`},{role:"document"}),this.descEl_=bn("p",{className:`${jw}-description vjs-control-text`,id:this.el().getAttribute("aria-describedby")}),Lu(this.descEl_,this.description()),this.el_.appendChild(this.descEl_),this.el_.appendChild(this.contentEl_)}createEl(){return super.createEl("div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":`${this.id()}_description`,"aria-hidden":"true","aria-label":this.label(),role:"dialog","aria-live":"polite"})}dispose(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,super.dispose()}buildCSSClass(){return`${jw} vjs-hidden ${super.buildCSSClass()}`}label(){return this.localize(this.options_.label||"Modal Window")}description(){let e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e}open(){if(this.opened_){this.options_.fillAlways&&this.fill();return}const e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}opened(e){return typeof e=="boolean"&&this[e?"open":"close"](),this.opened_}close(){if(!this.opened_)return;const e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger({type:"modalclose",bubbles:!0}),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}closeable(e){if(typeof e=="boolean"){const n=this.closeable_=!!e;let r=this.getChild("closeButton");if(n&&!r){const s=this.contentEl_;this.contentEl_=this.el_,r=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=s,this.on(r,"close",this.close_)}!n&&r&&(this.off(r,"close",this.close_),this.removeChild(r),r.dispose())}return this.closeable_}fill(){this.fillWith(this.content())}fillWith(e){const n=this.contentEl(),r=n.parentNode,s=n.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,r.removeChild(n),this.empty(),XL(n,e),this.trigger("modalfill"),s?r.insertBefore(n,s):r.appendChild(n);const i=this.getChild("closeButton");i&&r.appendChild(i.el_),this.trigger("aftermodalfill")}empty(){this.trigger("beforemodalempty"),Hv(this.contentEl()),this.trigger("modalempty")}content(e){return typeof e<"u"&&(this.content_=e),this.content_}conditionalFocus_(){const e=Pt.activeElement,n=this.player_.el_;this.previouslyActiveEl_=null,(n.contains(e)||n===e)&&(this.previouslyActiveEl_=e,this.focus())}conditionalBlur_(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)}handleKeyDown(e){if(this.trigger({type:"modalKeydown",originalEvent:e,target:this,bubbles:!0}),e.stopPropagation(),e.key==="Escape"&&this.closeable()){e.preventDefault(),this.close();return}if(e.key!=="Tab")return;const n=this.focusableEls_(),r=this.el_.querySelector(":focus");let s;for(let i=0;i<n.length;i++)if(r===n[i]){s=i;break}Pt.activeElement===this.el_&&(s=0),e.shiftKey&&s===0?(n[n.length-1].focus(),e.preventDefault()):!e.shiftKey&&s===n.length-1&&(n[0].focus(),e.preventDefault())}focusableEls_(){const e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,n=>(n instanceof De.HTMLAnchorElement||n instanceof De.HTMLAreaElement)&&n.hasAttribute("href")||(n instanceof De.HTMLInputElement||n instanceof De.HTMLSelectElement||n instanceof De.HTMLTextAreaElement||n instanceof De.HTMLButtonElement)&&!n.hasAttribute("disabled")||n instanceof De.HTMLIFrameElement||n instanceof De.HTMLObjectElement||n instanceof De.HTMLEmbedElement||n.hasAttribute("tabindex")&&n.getAttribute("tabindex")!==-1||n.hasAttribute("contenteditable"))}}wp.prototype.options_={pauseOnOpen:!0,temporary:!0};yt.registerComponent("ModalDialog",wp);class Zd extends ma{constructor(e=[]){super(),this.tracks_=[],Object.defineProperty(this,"length",{get(){return this.tracks_.length}});for(let n=0;n<e.length;n++)this.addTrack(e[n])}addTrack(e){const n=this.tracks_.length;""+n in this||Object.defineProperty(this,n,{get(){return this.tracks_[n]}}),this.tracks_.indexOf(e)===-1&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=()=>{this.trigger({track:e,type:"labelchange",target:this})},hc(e)&&e.addEventListener("labelchange",e.labelchange_)}removeTrack(e){let n;for(let r=0,s=this.length;r<s;r++)if(this[r]===e){n=this[r],n.off&&n.off(),this.tracks_.splice(r,1);break}n&&this.trigger({track:n,type:"removetrack",target:this})}getTrackById(e){let n=null;for(let r=0,s=this.length;r<s;r++){const i=this[r];if(i.id===e){n=i;break}}return n}}Zd.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(const t in Zd.prototype.allowedEvents_)Zd.prototype["on"+t]=null;const Nw=function(t,e){for(let n=0;n<t.length;n++)!Object.keys(t[n]).length||e.id===t[n].id||(t[n].enabled=!1)};class h6 extends Zd{constructor(e=[]){for(let n=e.length-1;n>=0;n--)if(e[n].enabled){Nw(e,e[n]);break}super(e),this.changing_=!1}addTrack(e){e.enabled&&Nw(this,e),super.addTrack(e),e.addEventListener&&(e.enabledChange_=()=>{this.changing_||(this.changing_=!0,Nw(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)}}const Dw=function(t,e){for(let n=0;n<t.length;n++)!Object.keys(t[n]).length||e.id===t[n].id||(t[n].selected=!1)};class f6 extends Zd{constructor(e=[]){for(let n=e.length-1;n>=0;n--)if(e[n].selected){Dw(e,e[n]);break}super(e),this.changing_=!1,Object.defineProperty(this,"selectedIndex",{get(){for(let n=0;n<this.length;n++)if(this[n].selected)return n;return-1},set(){}})}addTrack(e){e.selected&&Dw(this,e),super.addTrack(e),e.addEventListener&&(e.selectedChange_=()=>{this.changing_||(this.changing_=!0,Dw(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)}}class bk extends Zd{addTrack(e){super.addTrack(e),this.queueChange_||(this.queueChange_=()=>this.queueTrigger("change")),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=()=>this.trigger("selectedlanguagechange")),e.addEventListener("modechange",this.queueChange_),["metadata","chapters"].indexOf(e.kind)===-1&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)}removeTrack(e){super.removeTrack(e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))}toJSON(){return this.tracks_.map(e=>e.toJSON())}}class uce{constructor(e=[]){this.trackElements_=[],Object.defineProperty(this,"length",{get(){return this.trackElements_.length}});for(let n=0,r=e.length;n<r;n++)this.addTrackElement_(e[n])}addTrackElement_(e){const n=this.trackElements_.length;""+n in this||Object.defineProperty(this,n,{get(){return this.trackElements_[n]}}),this.trackElements_.indexOf(e)===-1&&this.trackElements_.push(e)}getTrackElementByTrack_(e){let n;for(let r=0,s=this.trackElements_.length;r<s;r++)if(e===this.trackElements_[r].track){n=this.trackElements_[r];break}return n}removeTrackElement_(e){for(let n=0,r=this.trackElements_.length;n<r;n++)if(e===this.trackElements_[n]){this.trackElements_[n].track&&typeof this.trackElements_[n].track.off=="function"&&this.trackElements_[n].track.off(),typeof this.trackElements_[n].off=="function"&&this.trackElements_[n].off(),this.trackElements_.splice(n,1);break}}}class lx{constructor(e){lx.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get(){return this.length_}})}setCues_(e){const n=this.length||0;let r=0;const s=e.length;this.cues_=e,this.length_=e.length;const i=function(a){""+a in this||Object.defineProperty(this,""+a,{get(){return this.cues_[a]}})};if(n<s)for(r=n;r<s;r++)i.call(this,r)}getCueById(e){let n=null;for(let r=0,s=this.length;r<s;r++){const i=this[r];if(i.id===e){n=i;break}}return n}}const dce={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},hce={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},fce={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},h5={disabled:"disabled",hidden:"hidden",showing:"showing"};class xk extends ma{constructor(e={}){super();const n={id:e.id||"vjs_track_"+Qa(),kind:e.kind||"",language:e.language||""};let r=e.label||"";for(const s in n)Object.defineProperty(this,s,{get(){return n[s]},set(){}});Object.defineProperty(this,"label",{get(){return r},set(s){s!==r&&(r=s,this.trigger("labelchange"))}})}}const vk=function(t){return new URL(t,Pt.baseURI)},p6=function(t){return new URL(t,Pt.baseURI).href},_k=function(t){if(typeof t=="string"){const n=t.split("?")[0].replace(/\/+$/,"").match(/\.([^.\/]+)$/);return n?n[1].toLowerCase():""}return""},Yv=function(t,e=De.location){return vk(t).origin!==e.origin};var pce=Object.freeze({__proto__:null,parseUrl:vk,getAbsoluteURL:p6,getFileExtension:_k,isCrossOrigin:Yv});const f5=function(t,e){const n=new De.WebVTT.Parser(De,De.vttjs,De.WebVTT.StringDecoder()),r=[];n.oncue=function(s){e.addCue(s)},n.onparsingerror=function(s){r.push(s)},n.onflush=function(){e.trigger({type:"loadeddata",target:e})},n.parse(t),r.length>0&&(De.console&&De.console.groupCollapsed&&De.console.groupCollapsed(`Text Track parsing errors for ${e.src}`),r.forEach(s=>In.error(s)),De.console&&De.console.groupEnd&&De.console.groupEnd()),n.flush()},p5=function(t,e){const n={uri:t},r=Yv(t);r&&(n.cors=r);const s=e.tech_.crossOrigin()==="use-credentials";s&&(n.withCredentials=s),gL(n,xr(this,function(i,a,l){if(i)return In.error(i,a);e.loaded_=!0,typeof De.WebVTT!="function"?e.tech_&&e.tech_.any(["vttjsloaded","vttjserror"],c=>{if(c.type==="vttjserror"){In.error(`vttjs failed to load, stopping trying to process ${e.src}`);return}return f5(l,e)}):f5(l,e)}))};class m0 extends xk{constructor(e={}){if(!e.tech)throw new Error("A tech was not provided.");const n=hr(e,{kind:fce[e.kind]||"subtitles",language:e.language||e.srclang||""});let r=h5[n.mode]||"disabled";const s=n.default;(n.kind==="metadata"||n.kind==="chapters")&&(r="hidden"),super(n),this.tech_=n.tech,this.cues_=[],this.activeCues_=[],this.preload_=this.tech_.preloadTextTracks!==!1;const i=new lx(this.cues_),a=new lx(this.activeCues_);let l=!1;this.timeupdateHandler=xr(this,function(u={}){if(!this.tech_.isDisposed()){if(!this.tech_.isReady_){u.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler));return}this.activeCues=this.activeCues,l&&(this.trigger("cuechange"),l=!1),u.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}});const c=()=>{this.stopTracking()};this.tech_.one("dispose",c),r!=="disabled"&&this.startTracking(),Object.defineProperties(this,{default:{get(){return s},set(){}},mode:{get(){return r},set(u){h5[u]&&r!==u&&(r=u,!this.preload_&&r!=="disabled"&&this.cues.length===0&&p5(this.src,this),this.stopTracking(),r!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get(){return this.loaded_?i:null},set(){}},activeCues:{get(){if(!this.loaded_)return null;if(this.cues.length===0)return a;const u=this.tech_.currentTime(),h=[];for(let f=0,m=this.cues.length;f<m;f++){const g=this.cues[f];g.startTime<=u&&g.endTime>=u&&h.push(g)}if(l=!1,h.length!==this.activeCues_.length)l=!0;else for(let f=0;f<h.length;f++)this.activeCues_.indexOf(h[f])===-1&&(l=!0);return this.activeCues_=h,a.setCues_(this.activeCues_),a},set(){}}}),n.src?(this.src=n.src,this.preload_||(this.loaded_=!0),(this.preload_||n.kind!=="subtitles"&&n.kind!=="captions")&&p5(this.src,this)):this.loaded_=!0}startTracking(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)}stopTracking(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)}addCue(e){let n=e;if(!("getCueAsHTML"in n)){n=new De.vttjs.VTTCue(e.startTime,e.endTime,e.text);for(const s in e)s in n||(n[s]=e[s]);n.id=e.id,n.originalCue_=e}const r=this.tech_.textTracks();for(let s=0;s<r.length;s++)r[s]!==this&&r[s].removeCue(n);this.cues_.push(n),this.cues.setCues_(this.cues_)}toJSON(){return jS.trackToJson(this)}removeCue(e){let n=this.cues_.length;for(;n--;){const r=this.cues_[n];if(r===e||r.originalCue_&&r.originalCue_===e){this.cues_.splice(n,1),this.cues.setCues_(this.cues_);break}}}}m0.prototype.allowedEvents_={cuechange:"cuechange"};class m6 extends xk{constructor(e={}){const n=hr(e,{kind:hce[e.kind]||""});super(n);let r=!1;Object.defineProperty(this,"enabled",{get(){return r},set(s){typeof s!="boolean"||s===r||(r=s,this.trigger("enabledchange"))}}),n.enabled&&(this.enabled=n.enabled),this.loaded_=!0}}class g6 extends xk{constructor(e={}){const n=hr(e,{kind:dce[e.kind]||""});super(n);let r=!1;Object.defineProperty(this,"selected",{get(){return r},set(s){typeof s!="boolean"||s===r||(r=s,this.trigger("selectedchange"))}}),n.selected&&(this.selected=n.selected)}}class bc extends ma{constructor(e={}){super();let n;const r=new m0(e);this.kind=r.kind,this.src=r.src,this.srclang=r.language,this.label=r.label,this.default=r.default,Object.defineProperties(this,{readyState:{get(){return n}},track:{get(){return r}}}),n=bc.NONE,r.addEventListener("loadeddata",()=>{n=bc.LOADED,this.trigger({type:"load",target:this})})}}bc.prototype.allowedEvents_={load:"load"};bc.NONE=0;bc.LOADING=1;bc.LOADED=2;bc.ERROR=3;const qa={audio:{ListClass:h6,TrackClass:m6,capitalName:"Audio"},video:{ListClass:f6,TrackClass:g6,capitalName:"Video"},text:{ListClass:bk,TrackClass:m0,capitalName:"Text"}};Object.keys(qa).forEach(function(t){qa[t].getterName=`${t}Tracks`,qa[t].privateName=`${t}Tracks_`});const ep={remoteText:{ListClass:bk,TrackClass:m0,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:uce,TrackClass:bc,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},xi=Object.assign({},qa,ep);ep.names=Object.keys(ep);qa.names=Object.keys(qa);xi.names=[].concat(ep.names).concat(qa.names);function mce(t,e,n,r,s={}){const i=t.textTracks();s.kind=e,n&&(s.label=n),r&&(s.language=r),s.tech=t;const a=new xi.text.TrackClass(s);return i.addTrack(a),a}class kn extends yt{constructor(e={},n=function(){}){e.reportTouchActivity=!1,super(null,e,n),this.onDurationChange_=r=>this.onDurationChange(r),this.trackProgress_=r=>this.trackProgress(r),this.trackCurrentTime_=r=>this.trackCurrentTime(r),this.stopTrackingCurrentTime_=r=>this.stopTrackingCurrentTime(r),this.disposeSourceHandler_=r=>this.disposeSourceHandler(r),this.queuedHanders_=new Set,this.hasStarted_=!1,this.on("playing",function(){this.hasStarted_=!0}),this.on("loadstart",function(){this.hasStarted_=!1}),xi.names.forEach(r=>{const s=xi[r];e&&e[s.getterName]&&(this[s.privateName]=e[s.getterName])}),this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(r=>{e[`native${r}Tracks`]===!1&&(this[`featuresNative${r}Tracks`]=!1)}),e.nativeCaptions===!1||e.nativeTextTracks===!1?this.featuresNativeTextTracks=!1:(e.nativeCaptions===!0||e.nativeTextTracks===!0)&&(this.featuresNativeTextTracks=!0),this.featuresNativeTextTracks||this.emulateTextTracks(),this.preloadTextTracks=e.preloadTextTracks!==!1,this.autoRemoteTextTracks_=new xi.text.ListClass,this.initTrackListeners(),e.nativeControlsForTouch||this.emitTapEvents(),this.constructor&&(this.name_=this.constructor.name||"Unknown Tech")}triggerSourceset(e){this.isReady_||this.one("ready",()=>this.setTimeout(()=>this.triggerSourceset(e),1)),this.trigger({src:e,type:"sourceset"})}manualProgressOn(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)}manualProgressOff(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)}trackProgress(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(xr(this,function(){const n=this.bufferedPercent();this.bufferedPercent_!==n&&this.trigger("progress"),this.bufferedPercent_=n,n===1&&this.stopTrackingProgress()}),500)}onDurationChange(e){this.duration_=this.duration()}buffered(){return jo(0,0)}bufferedPercent(){return d6(this.buffered(),this.duration_)}stopTrackingProgress(){this.clearInterval(this.progressInterval)}manualTimeUpdatesOn(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)}manualTimeUpdatesOff(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)}trackCurrentTime(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)}stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}dispose(){this.clearTracks(qa.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),super.dispose()}clearTracks(e){e=[].concat(e),e.forEach(n=>{const r=this[`${n}Tracks`]()||[];let s=r.length;for(;s--;){const i=r[s];n==="text"&&this.removeRemoteTextTrack(i),r.removeTrack(i)}})}cleanupAutoTextTracks(){const e=this.autoRemoteTextTracks_||[];let n=e.length;for(;n--;){const r=e[n];this.removeRemoteTextTrack(r)}}reset(){}crossOrigin(){}setCrossOrigin(){}error(e){return e!==void 0&&(this.error_=new Br(e),this.trigger("error")),this.error_}played(){return this.hasStarted_?jo(0,0):jo()}play(){}setScrubbing(e){}scrubbing(){}setCurrentTime(e){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}initTrackListeners(){qa.names.forEach(e=>{const n=qa[e],r=()=>{this.trigger(`${e}trackchange`)},s=this[n.getterName]();s.addEventListener("removetrack",r),s.addEventListener("addtrack",r),this.on("dispose",()=>{s.removeEventListener("removetrack",r),s.removeEventListener("addtrack",r)})})}addWebVttScript_(){if(!De.WebVTT)if(Pt.body.contains(this.el())){if(!this.options_["vtt.js"]&&Xf(FA)&&Object.keys(FA).length>0){this.trigger("vttjsloaded");return}const e=Pt.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=()=>{this.trigger("vttjsloaded")},e.onerror=()=>{this.trigger("vttjserror")},this.on("dispose",()=>{e.onload=null,e.onerror=null}),De.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)}emulateTextTracks(){const e=this.textTracks(),n=this.remoteTextTracks(),r=l=>e.addTrack(l.track),s=l=>e.removeTrack(l.track);n.on("addtrack",r),n.on("removetrack",s),this.addWebVttScript_();const i=()=>this.trigger("texttrackchange"),a=()=>{i();for(let l=0;l<e.length;l++){const c=e[l];c.removeEventListener("cuechange",i),c.mode==="showing"&&c.addEventListener("cuechange",i)}};a(),e.addEventListener("change",a),e.addEventListener("addtrack",a),e.addEventListener("removetrack",a),this.on("dispose",function(){n.off("addtrack",r),n.off("removetrack",s),e.removeEventListener("change",a),e.removeEventListener("addtrack",a),e.removeEventListener("removetrack",a);for(let l=0;l<e.length;l++)e[l].removeEventListener("cuechange",i)})}addTextTrack(e,n,r){if(!e)throw new Error("TextTrack kind is required but was not provided");return mce(this,e,n,r)}createRemoteTextTrack(e){const n=hr(e,{tech:this});return new ep.remoteTextEl.TrackClass(n)}addRemoteTextTrack(e={},n){const r=this.createRemoteTextTrack(e);return typeof n!="boolean"&&(n=!1),this.remoteTextTrackEls().addTrackElement_(r),this.remoteTextTracks().addTrack(r.track),n===!1&&this.ready(()=>this.autoRemoteTextTracks_.addTrack(r.track)),r}removeRemoteTextTrack(e){const n=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(n),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)}getVideoPlaybackQuality(){return{}}requestPictureInPicture(){return Promise.reject()}disablePictureInPicture(){return!0}setDisablePictureInPicture(){}requestVideoFrameCallback(e){const n=Qa();return!this.isReady_||this.paused()?(this.queuedHanders_.add(n),this.one("playing",()=>{this.queuedHanders_.has(n)&&(this.queuedHanders_.delete(n),e())})):this.requestNamedAnimationFrame(n,e),n}cancelVideoFrameCallback(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)}setPoster(){}playsinline(){}setPlaysinline(){}overrideNativeAudioTracks(e){}overrideNativeVideoTracks(e){}canPlayType(e){return""}static canPlayType(e){return""}static canPlaySource(e,n){return kn.canPlayType(e.type)}static isTech(e){return e.prototype instanceof kn||e instanceof kn||e===kn}static registerTech(e,n){if(kn.techs_||(kn.techs_={}),!kn.isTech(n))throw new Error(`Tech ${e} must be a Tech`);if(!kn.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!kn.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=qr(e),kn.techs_[e]=n,kn.techs_[eg(e)]=n,e!=="Tech"&&kn.defaultTechOrder_.push(e),n}static getTech(e){if(e){if(kn.techs_&&kn.techs_[e])return kn.techs_[e];if(e=qr(e),De&&De.videojs&&De.videojs[e])return In.warn(`The ${e} tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)`),De.videojs[e]}}}xi.names.forEach(function(t){const e=xi[t];kn.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}});kn.prototype.featuresVolumeControl=!0;kn.prototype.featuresMuteControl=!0;kn.prototype.featuresFullscreenResize=!1;kn.prototype.featuresPlaybackRate=!1;kn.prototype.featuresProgressEvents=!1;kn.prototype.featuresSourceset=!1;kn.prototype.featuresTimeupdateEvents=!1;kn.prototype.featuresNativeTextTracks=!1;kn.prototype.featuresVideoFrameCallback=!1;kn.withSourceHandlers=function(t){t.registerSourceHandler=function(n,r){let s=t.sourceHandlers;s||(s=t.sourceHandlers=[]),r===void 0&&(r=s.length),s.splice(r,0,n)},t.canPlayType=function(n){const r=t.sourceHandlers||[];let s;for(let i=0;i<r.length;i++)if(s=r[i].canPlayType(n),s)return s;return""},t.selectSourceHandler=function(n,r){const s=t.sourceHandlers||[];let i;for(let a=0;a<s.length;a++)if(i=s[a].canHandleSource(n,r),i)return s[a];return null},t.canPlaySource=function(n,r){const s=t.selectSourceHandler(n,r);return s?s.canHandleSource(n,r):""},["seekable","seeking","duration"].forEach(function(n){const r=this[n];typeof r=="function"&&(this[n]=function(){return this.sourceHandler_&&this.sourceHandler_[n]?this.sourceHandler_[n].apply(this.sourceHandler_,arguments):r.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(n){let r=t.selectSourceHandler(n,this.options_);r||(t.nativeSourceHandler?r=t.nativeSourceHandler:In.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),r!==t.nativeSourceHandler&&(this.currentSource_=n),this.sourceHandler_=r.handleSource(n,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};yt.registerComponent("Tech",kn);kn.registerTech("Tech",kn);kn.defaultTechOrder_=[];const Ud={},cx={},ux={};function gce(t,e){Ud[t]=Ud[t]||[],Ud[t].push(e)}function yce(t,e,n){t.setTimeout(()=>Sd(e,Ud[e.type],n,t),1)}function bce(t,e){t.forEach(n=>n.setTech&&n.setTech(e))}function xce(t,e,n){return t.reduceRight(wk(n),e[n]())}function vce(t,e,n,r){return e[n](t.reduce(wk(n),r))}function m5(t,e,n,r=null){const s="call"+qr(n),i=t.reduce(wk(s),r),a=i===ux,l=a?null:e[n](i);return Sce(t,n,l,a),l}const _ce={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},wce={setCurrentTime:1,setMuted:1,setVolume:1},g5={play:1,pause:1};function wk(t){return(e,n)=>e===ux?ux:n[t]?n[t](e):e}function Sce(t,e,n,r){for(let s=t.length-1;s>=0;s--){const i=t[s];i[e]&&i[e](r,n)}}function Cce(t){cx.hasOwnProperty(t.id())&&delete cx[t.id()]}function Tce(t,e){const n=cx[t.id()];let r=null;if(n==null)return r=e(t),cx[t.id()]=[[e,r]],r;for(let s=0;s<n.length;s++){const[i,a]=n[s];i===e&&(r=a)}return r===null&&(r=e(t),n.push([e,r])),r}function Sd(t={},e=[],n,r,s=[],i=!1){const[a,...l]=e;if(typeof a=="string")Sd(t,Ud[a],n,r,s,i);else if(a){const c=Tce(r,a);if(!c.setSource)return s.push(c),Sd(t,l,n,r,s,i);c.setSource(Object.assign({},t),function(u,h){if(u)return Sd(t,l,n,r,s,i);s.push(c),Sd(h,t.type===h.type?l:Ud[h.type],n,r,s,i)})}else l.length?Sd(t,l,n,r,s,i):i?n(t,s):Sd(t,Ud["*"],n,r,s,!0)}const kce={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},dx=function(t=""){const e=_k(t);return kce[e.toLowerCase()]||""},Ece=(t,e)=>{if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;const n=t.cache_.sources.filter(s=>s.src===e);if(n.length)return n[0].type;const r=t.$$("source");for(let s=0;s<r.length;s++){const i=r[s];if(i.type&&i.src&&i.src===e)return i.type}return dx(e)},y6=function(t){if(Array.isArray(t)){let e=[];t.forEach(function(n){n=y6(n),Array.isArray(n)?e=e.concat(n):Tl(n)&&e.push(n)}),t=e}else typeof t=="string"&&t.trim()?t=[y5({src:t})]:Tl(t)&&typeof t.src=="string"&&t.src&&t.src.trim()?t=[y5(t)]:t=[];return t};function y5(t){if(!t.type){const e=dx(t.src);e&&(t.type=e)}return t}var jce=`<svg xmlns="http://www.w3.org/2000/svg">
  <defs>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play">
      <path d="M16 10v28l22-14z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-pause">
      <path d="M12 38h8V10h-8v28zm16-28v28h8V10h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-audio">
      <path d="M24 2C14.06 2 6 10.06 6 20v14c0 3.31 2.69 6 6 6h6V24h-8v-4c0-7.73 6.27-14 14-14s14 6.27 14 14v4h-8v16h6c3.31 0 6-2.69 6-6V20c0-9.94-8.06-18-18-18z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-captions">
      <path d="M38 8H10c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM22 22h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2zm14 0h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-subtitles">
      <path d="M40 8H8c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM8 24h8v4H8v-4zm20 12H8v-4h20v4zm12 0h-8v-4h8v4zm0-8H20v-4h20v4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-enter">
      <path d="M14 28h-4v10h10v-4h-6v-6zm-4-8h4v-6h6v-4H10v10zm24 14h-6v4h10V28h-4v6zm-6-24v4h6v6h4V10H28z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-exit">
      <path d="M10 32h6v6h4V28H10v4zm6-16h-6v4h10V10h-4v6zm12 22h4v-6h6v-4H28v10zm4-22v-6h-4v10h10v-4h-6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play-circle">
      <path d="M20 33l12-9-12-9v18zm4-29C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-mute">
      <path d="M33 24c0-3.53-2.04-6.58-5-8.05v4.42l4.91 4.91c.06-.42.09-.85.09-1.28zm5 0c0 1.88-.41 3.65-1.08 5.28l3.03 3.03C41.25 29.82 42 27 42 24c0-8.56-5.99-15.72-14-17.54v4.13c5.78 1.72 10 7.07 10 13.41zM8.55 6L6 8.55 15.45 18H6v12h8l10 10V26.55l8.51 8.51c-1.34 1.03-2.85 1.86-4.51 2.36v4.13a17.94 17.94 0 0 0 7.37-3.62L39.45 42 42 39.45l-18-18L8.55 6zM24 8l-4.18 4.18L24 16.36V8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-low">
      <path d="M14 18v12h8l10 10V8L22 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-medium">
      <path d="M37 24c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zm-27-6v12h8l10 10V8L18 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-high">
      <path d="M6 18v12h8l10 10V8L14 18H6zm27 6c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zM28 6.46v4.13c5.78 1.72 10 7.07 10 13.41s-4.22 11.69-10 13.41v4.13c8.01-1.82 14-8.97 14-17.54S36.01 8.28 28 6.46z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-spinner">
      <path d="M18.8 21l9.53-16.51C26.94 4.18 25.49 4 24 4c-4.8 0-9.19 1.69-12.64 4.51l7.33 12.69.11-.2zm24.28-3c-1.84-5.85-6.3-10.52-11.99-12.68L23.77 18h19.31zm.52 2H28.62l.58 1 9.53 16.5C41.99 33.94 44 29.21 44 24c0-1.37-.14-2.71-.4-4zm-26.53 4l-7.8-13.5C6.01 14.06 4 18.79 4 24c0 1.37.14 2.71.4 4h14.98l-2.31-4zM4.92 30c1.84 5.85 6.3 10.52 11.99 12.68L24.23 30H4.92zm22.54 0l-7.8 13.51c1.4.31 2.85.49 4.34.49 4.8 0 9.19-1.69 12.64-4.51L29.31 26.8 27.46 30z"></path>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-hd">
      <path d="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm2-6h4c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1h-4V9zm1.5 4.5h2v-3h-2v3z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-chapters">
      <path d="M6 26h4v-4H6v4zm0 8h4v-4H6v4zm0-16h4v-4H6v4zm8 8h28v-4H14v4zm0 8h28v-4H14v4zm0-20v4h28v-4H14z"></path>
    </symbol>
    <symbol viewBox="0 0 40 40" id="vjs-icon-downloading">
      <path d="M18.208 36.875q-3.208-.292-5.979-1.729-2.771-1.438-4.812-3.729-2.042-2.292-3.188-5.229-1.146-2.938-1.146-6.23 0-6.583 4.334-11.416 4.333-4.834 10.833-5.5v3.166q-5.167.75-8.583 4.646Q6.25 14.75 6.25 19.958q0 5.209 3.396 9.104 3.396 3.896 8.562 4.646zM20 28.417L11.542 20l2.083-2.083 4.917 4.916v-11.25h2.916v11.25l4.875-4.916L28.417 20zm1.792 8.458v-3.167q1.833-.25 3.541-.958 1.709-.708 3.167-1.875l2.333 2.292q-1.958 1.583-4.25 2.541-2.291.959-4.791 1.167zm6.791-27.792q-1.541-1.125-3.25-1.854-1.708-.729-3.541-1.021V3.042q2.5.25 4.77 1.208 2.271.958 4.271 2.5zm4.584 21.584l-2.25-2.25q1.166-1.5 1.854-3.209.687-1.708.937-3.541h3.209q-.292 2.5-1.229 4.791-.938 2.292-2.521 4.209zm.541-12.417q-.291-1.833-.958-3.562-.667-1.73-1.833-3.188l2.375-2.208q1.541 1.916 2.458 4.208.917 2.292 1.167 4.75z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download">
      <path d="M10.8 40.55q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h26.35v-7.7h3.4v7.7q0 1.4-1 2.4t-2.4 1zM24 32.1L13.9 22.05l2.45-2.45 5.95 5.95V7.15h3.4v18.4l5.95-5.95 2.45 2.45z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-done">
      <path d="M9.8 40.5v-3.45h28.4v3.45zm9.2-9.05L7.4 19.85l2.45-2.35L19 26.65l19.2-19.2 2.4 2.4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-off">
      <path d="M4.9 4.75L43.25 43.1 41 45.3l-4.75-4.75q-.05.05-.075.025-.025-.025-.075-.025H10.8q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h22.05l-7-7-1.85 1.8L13.9 21.9l1.85-1.85L2.7 7zm26.75 14.7l2.45 2.45-3.75 3.8-2.45-2.5zM25.7 7.15V21.1l-3.4-3.45V7.15z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-share">
      <path d="M36 32.17c-1.52 0-2.89.59-3.93 1.54L17.82 25.4c.11-.45.18-.92.18-1.4s-.07-.95-.18-1.4l14.1-8.23c1.07 1 2.5 1.62 4.08 1.62 3.31 0 6-2.69 6-6s-2.69-6-6-6-6 2.69-6 6c0 .48.07.95.18 1.4l-14.1 8.23c-1.07-1-2.5-1.62-4.08-1.62-3.31 0-6 2.69-6 6s2.69 6 6 6c1.58 0 3.01-.62 4.08-1.62l14.25 8.31c-.1.42-.16.86-.16 1.31A5.83 5.83 0 1 0 36 32.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cog">
      <path d="M38.86 25.95c.08-.64.14-1.29.14-1.95s-.06-1.31-.14-1.95l4.23-3.31c.38-.3.49-.84.24-1.28l-4-6.93c-.25-.43-.77-.61-1.22-.43l-4.98 2.01c-1.03-.79-2.16-1.46-3.38-1.97L29 4.84c-.09-.47-.5-.84-1-.84h-8c-.5 0-.91.37-.99.84l-.75 5.3a14.8 14.8 0 0 0-3.38 1.97L9.9 10.1a1 1 0 0 0-1.22.43l-4 6.93c-.25.43-.14.97.24 1.28l4.22 3.31C9.06 22.69 9 23.34 9 24s.06 1.31.14 1.95l-4.22 3.31c-.38.3-.49.84-.24 1.28l4 6.93c.25.43.77.61 1.22.43l4.98-2.01c1.03.79 2.16 1.46 3.38 1.97l.75 5.3c.08.47.49.84.99.84h8c.5 0 .91-.37.99-.84l.75-5.3a14.8 14.8 0 0 0 3.38-1.97l4.98 2.01a1 1 0 0 0 1.22-.43l4-6.93c.25-.43.14-.97-.24-1.28l-4.22-3.31zM24 31c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-square">
      <path d="M36 8H12c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h24c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm0 28H12V12h24v24z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle">
      <circle cx="24" cy="24" r="20"></circle>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-outline">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-inner-circle">
      <path d="M24 4C12.97 4 4 12.97 4 24s8.97 20 20 20 20-8.97 20-20S35.03 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16zm6-16c0 3.31-2.69 6-6 6s-6-2.69-6-6 2.69-6 6-6 6 2.69 6 6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cancel">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm10 27.17L31.17 34 24 26.83 16.83 34 14 31.17 21.17 24 14 16.83 16.83 14 24 21.17 31.17 14 34 16.83 26.83 24 34 31.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-replay">
      <path d="M24 10V2L14 12l10 10v-8c6.63 0 12 5.37 12 12s-5.37 12-12 12-12-5.37-12-12H8c0 8.84 7.16 16 16 16s16-7.16 16-16-7.16-16-16-16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-repeat">
      <path d="M14 14h20v6l8-8-8-8v6H10v12h4v-8zm20 20H14v-6l-8 8 8 8v-6h24V26h-4v8z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-5">
      <path d="M17.689 98l-8.697 8.696 8.697 8.697 2.486-2.485-4.32-4.319h1.302c4.93 0 9.071 1.722 12.424 5.165 3.352 3.443 5.029 7.638 5.029 12.584h3.55c0-2.958-.553-5.73-1.658-8.313-1.104-2.583-2.622-4.841-4.555-6.774-1.932-1.932-4.19-3.45-6.773-4.555-2.584-1.104-5.355-1.657-8.313-1.657H15.5l4.615-4.615zm-8.08 21.659v13.861h11.357v5.008H9.609V143h12.7c.834 0 1.55-.298 2.146-.894.596-.597.895-1.31.895-2.145v-7.781c0-.835-.299-1.55-.895-2.147a2.929 2.929 0 0 0-2.147-.894h-8.227v-5.096H25.35v-4.384z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-10">
      <path d="M42.315 125.63c0-4.997-1.694-9.235-5.08-12.713-3.388-3.479-7.571-5.218-12.552-5.218h-1.315l4.363 4.363-2.51 2.51-8.787-8.786L25.221 97l2.45 2.45-4.662 4.663h1.375c2.988 0 5.788.557 8.397 1.673 2.61 1.116 4.892 2.65 6.844 4.602 1.953 1.953 3.487 4.234 4.602 6.844 1.116 2.61 1.674 5.41 1.674 8.398zM8.183 142v-19.657H3.176V117.8h9.643V142zm13.63 0c-1.156 0-2.127-.393-2.912-1.178-.778-.778-1.168-1.746-1.168-2.902v-16.04c0-1.156.393-2.127 1.178-2.912.779-.779 1.746-1.168 2.902-1.168h7.696c1.156 0 2.126.392 2.911 1.177.779.78 1.168 1.747 1.168 2.903v16.04c0 1.156-.392 2.127-1.177 2.912-.779.779-1.746 1.168-2.902 1.168zm.556-4.636h6.583v-15.02H22.37z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-30">
      <path d="M26.047 97l-8.733 8.732 8.733 8.733 2.496-2.494-4.336-4.338h1.307c4.95 0 9.108 1.73 12.474 5.187 3.367 3.458 5.051 7.668 5.051 12.635h3.565c0-2.97-.556-5.751-1.665-8.346-1.109-2.594-2.633-4.862-4.574-6.802-1.94-1.941-4.208-3.466-6.803-4.575-2.594-1.109-5.375-1.664-8.345-1.664H23.85l4.634-4.634zM2.555 117.531v4.688h10.297v5.25H5.873v4.687h6.979v5.156H2.555V142H13.36c1.061 0 1.95-.395 2.668-1.186.718-.79 1.076-1.772 1.076-2.94v-16.218c0-1.168-.358-2.149-1.076-2.94-.717-.79-1.607-1.185-2.668-1.185zm22.482.14c-1.149 0-2.11.39-2.885 1.165-.78.78-1.172 1.744-1.172 2.893v15.943c0 1.149.388 2.11 1.163 2.885.78.78 1.745 1.172 2.894 1.172h7.649c1.148 0 2.11-.388 2.884-1.163.78-.78 1.17-1.745 1.17-2.894v-15.943c0-1.15-.386-2.111-1.16-2.885-.78-.78-1.746-1.172-2.894-1.172zm.553 4.518h6.545v14.93H25.59z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-5">
      <path d="M29.508 97l-2.431 2.43 4.625 4.625h-1.364c-2.965 0-5.742.554-8.332 1.66-2.589 1.107-4.851 2.629-6.788 4.566-1.937 1.937-3.458 4.2-4.565 6.788-1.107 2.59-1.66 5.367-1.66 8.331h3.557c0-4.957 1.68-9.16 5.04-12.611 3.36-3.45 7.51-5.177 12.451-5.177h1.304l-4.326 4.33 2.49 2.49 8.715-8.716zm-9.783 21.61v13.89h11.382v5.018H19.725V142h12.727a2.93 2.93 0 0 0 2.15-.896 2.93 2.93 0 0 0 .896-2.15v-7.798c0-.837-.299-1.554-.896-2.152a2.93 2.93 0 0 0-2.15-.896h-8.245V123h11.29v-4.392z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-10">
      <path d="M23.119 97l-2.386 2.383 4.538 4.538h-1.339c-2.908 0-5.633.543-8.173 1.63-2.54 1.085-4.76 2.577-6.66 4.478-1.9 1.9-3.392 4.12-4.478 6.66-1.085 2.54-1.629 5.264-1.629 8.172h3.49c0-4.863 1.648-8.986 4.944-12.372 3.297-3.385 7.368-5.078 12.216-5.078h1.279l-4.245 4.247 2.443 2.442 8.55-8.55zm-9.52 21.45v4.42h4.871V142h4.513v-23.55zm18.136 0c-1.125 0-2.066.377-2.824 1.135-.764.764-1.148 1.709-1.148 2.834v15.612c0 1.124.38 2.066 1.139 2.824.764.764 1.708 1.145 2.833 1.145h7.489c1.125 0 2.066-.378 2.824-1.136.764-.764 1.145-1.709 1.145-2.833v-15.612c0-1.125-.378-2.067-1.136-2.825-.764-.764-1.708-1.145-2.833-1.145zm.54 4.42h6.408v14.617h-6.407z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-30">
      <path d="M25.549 97l-2.437 2.434 4.634 4.635H26.38c-2.97 0-5.753.555-8.347 1.664-2.594 1.109-4.861 2.633-6.802 4.574-1.94 1.94-3.465 4.207-4.574 6.802-1.109 2.594-1.664 5.377-1.664 8.347h3.565c0-4.967 1.683-9.178 5.05-12.636 3.366-3.458 7.525-5.187 12.475-5.187h1.307l-4.335 4.338 2.495 2.494 8.732-8.732zm-11.553 20.53v4.689h10.297v5.249h-6.978v4.688h6.978v5.156H13.996V142h10.808c1.06 0 1.948-.395 2.666-1.186.718-.79 1.077-1.771 1.077-2.94v-16.217c0-1.169-.36-2.15-1.077-2.94-.718-.79-1.605-1.186-2.666-1.186zm21.174.168c-1.149 0-2.11.389-2.884 1.163-.78.78-1.172 1.745-1.172 2.894v15.942c0 1.15.388 2.11 1.162 2.885.78.78 1.745 1.17 2.894 1.17h7.649c1.149 0 2.11-.386 2.885-1.16.78-.78 1.17-1.746 1.17-2.895v-15.942c0-1.15-.387-2.11-1.161-2.885-.78-.78-1.745-1.172-2.894-1.172zm.552 4.516h6.542v14.931h-6.542z"></path>
    </symbol>
    <symbol viewBox="0 0 512 512" id="vjs-icon-audio-description">
      <g fill-rule="evenodd"><path d="M227.29 381.351V162.993c50.38-1.017 89.108-3.028 117.631 17.126 27.374 19.342 48.734 56.965 44.89 105.325-4.067 51.155-41.335 94.139-89.776 98.475-24.085 2.155-71.972 0-71.972 0s-.84-1.352-.773-2.568m48.755-54.804c31.43 1.26 53.208-16.633 56.495-45.386 4.403-38.51-21.188-63.552-58.041-60.796v103.612c-.036 1.466.575 2.22 1.546 2.57"></path><path d="M383.78 381.328c13.336 3.71 17.387-11.06 23.215-21.408 12.722-22.571 22.294-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.226 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M425.154 381.328c13.336 3.71 17.384-11.061 23.215-21.408 12.721-22.571 22.291-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.511c-.586 3.874 2.226 7.315 3.866 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M466.26 381.328c13.337 3.71 17.385-11.061 23.216-21.408 12.722-22.571 22.292-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.225 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894M4.477 383.005H72.58l18.573-28.484 64.169-.135s.065 19.413.065 28.62h48.756V160.307h-58.816c-5.653 9.537-140.85 222.697-140.85 222.697zm152.667-145.282v71.158l-40.453-.27 40.453-70.888z"></path></g>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-next-item">
      <path d="M12 36l17-12-17-12v24zm20-24v24h4V12h-4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-previous-item">
      <path d="M12 12h4v24h-4zm7 12l17 12V12z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-shuffle">
      <path d="M21.17 18.34L10.83 8 8 10.83l10.34 10.34 2.83-2.83zM29 8l4.09 4.09L8 37.17 10.83 40l25.09-25.09L40 19V8H29zm.66 18.83l-2.83 2.83 6.26 6.26L29 40h11V29l-4.09 4.09-6.25-6.26z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cast">
      <path d="M42 6H6c-2.21 0-4 1.79-4 4v6h4v-6h36v28H28v4h14c2.21 0 4-1.79 4-4V10c0-2.21-1.79-4-4-4zM2 36v6h6c0-3.31-2.69-6-6-6zm0-8v4c5.52 0 10 4.48 10 10h4c0-7.73-6.27-14-14-14zm0-8v4c9.94 0 18 8.06 18 18h4c0-12.15-9.85-22-22-22z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-picture-in-picture-enter">
      <path d="M38 22H22v11.99h16V22zm8 16V9.96C46 7.76 44.2 6 42 6H6C3.8 6 2 7.76 2 9.96V38c0 2.2 1.8 4 4 4h36c2.2 0 4-1.8 4-4zm-4 .04H6V9.94h36v28.1z"></path>
    </symbol>
    <symbol viewBox="0 0 22 18" id="vjs-icon-picture-in-picture-exit">
      <path d="M18 4H4v10h14V4zm4 12V1.98C22 .88 21.1 0 20 0H2C.9 0 0 .88 0 1.98V16c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H2V1.97h18v14.05z"></path>
      <path fill="none" d="M-1-3h24v24H-1z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-facebook">
      <path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759H734V905H479V609h255V391q0-186 104-288.5T1115 0q147 0 228 12z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-linkedin">
      <path d="M477 625v991H147V625h330zm21-306q1 73-50.5 122T312 490h-2q-82 0-132-49t-50-122q0-74 51.5-122.5T314 148t133 48.5T498 319zm1166 729v568h-329v-530q0-105-40.5-164.5T1168 862q-63 0-105.5 34.5T999 982q-11 30-11 81v553H659q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5T1285 602q171 0 275 113.5t104 332.5z"></path>
    </symbol>
    <symbol viewBox="0 0 1200 1227" id="vjs-icon-twitter">
      <path d="M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z"/>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-tumblr">
      <path d="M1328 1329l80 237q-23 35-111 66t-177 32q-104 2-190.5-26T787 1564t-95-106-55.5-120-16.5-118V676H452V461q72-26 129-69.5t91-90 58-102 34-99T779 12q1-5 4.5-8.5T791 0h244v424h333v252h-334v518q0 30 6.5 56t22.5 52.5 49.5 41.5 81.5 14q78-2 134-29z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-pinterest">
      <path d="M1664 896q0 209-103 385.5T1281.5 1561 896 1664q-111 0-218-32 59-93 78-164 9-34 54-211 20 39 73 67.5t114 28.5q121 0 216-68.5t147-188.5 52-270q0-114-59.5-214T1180 449t-255-63q-105 0-196 29t-154.5 77-109 110.5-67 129.5T377 866q0 104 40 183t117 111q30 12 38-20 2-7 8-31t8-30q6-23-11-43-51-61-51-151 0-151 104.5-259.5T904 517q151 0 235.5 82t84.5 213q0 170-68.5 289T980 1220q-61 0-98-43.5T859 1072q8-35 26.5-93.5t30-103T927 800q0-50-27-83t-77-33q-62 0-105 57t-43 142q0 73 25 122l-99 418q-17 70-13 177-206-91-333-281T128 896q0-209 103-385.5T510.5 231 896 128t385.5 103T1561 510.5 1664 896z"></path>
    </symbol>
  </defs>
</svg>`;const b5=sx?10009:ix?461:8,sf={codes:{play:415,pause:19,ff:417,rw:412,back:b5},names:{415:"play",19:"pause",417:"ff",412:"rw",[b5]:"back"},isEventKey(t,e){return e=e.toLowerCase(),!!(this.names[t.keyCode]&&this.names[t.keyCode]===e)},getEventName(t){if(this.names[t.keyCode])return this.names[t.keyCode];if(this.codes[t.code]){const e=this.codes[t.code];return this.names[e]}return null}},x5=5;class Nce extends ma{constructor(e){super(),this.player_=e,this.focusableComponents=[],this.isListening_=!1,this.isPaused_=!1,this.onKeyDown_=this.onKeyDown_.bind(this),this.lastFocusedComponent_=null}start(){this.isListening_||(this.player_.on("keydown",this.onKeyDown_),this.player_.on("modalKeydown",this.onKeyDown_),this.player_.on("loadedmetadata",()=>{this.focus(this.updateFocusableComponents()[0])}),this.player_.on("modalclose",()=>{this.refocusComponent()}),this.player_.on("focusin",this.handlePlayerFocus_.bind(this)),this.player_.on("focusout",this.handlePlayerBlur_.bind(this)),this.isListening_=!0,this.player_.errorDisplay&&this.player_.errorDisplay.on("aftermodalfill",()=>{this.updateFocusableComponents(),this.focusableComponents.length&&(this.focusableComponents.length>1?this.focusableComponents[1].focus():this.focusableComponents[0].focus())}))}stop(){this.player_.off("keydown",this.onKeyDown_),this.isListening_=!1}onKeyDown_(e){const n=e.originalEvent?e.originalEvent:e;if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(n.key)){if(this.isPaused_)return;n.preventDefault();const r=n.key.substring(5).toLowerCase();this.move(r)}else if(sf.isEventKey(n,"play")||sf.isEventKey(n,"pause")||sf.isEventKey(n,"ff")||sf.isEventKey(n,"rw")){n.preventDefault();const r=sf.getEventName(n);this.performMediaAction_(r)}else sf.isEventKey(n,"Back")&&e.target&&typeof e.target.closeable=="function"&&e.target.closeable()&&(n.preventDefault(),e.target.close())}performMediaAction_(e){if(this.player_)switch(e){case"play":this.player_.paused()&&this.player_.play();break;case"pause":this.player_.paused()||this.player_.pause();break;case"ff":this.userSeek_(this.player_.currentTime()+x5);break;case"rw":this.userSeek_(this.player_.currentTime()-x5);break}}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}pause(){this.isPaused_=!0}resume(){this.isPaused_=!1}handlePlayerBlur_(e){const n=e.relatedTarget;let r=null;const s=this.getCurrentComponent(e.target);n&&(r=!!n.closest(".video-js"),n.classList.contains("vjs-text-track-settings")&&!this.isPaused_&&this.searchForTrackSelect_()),(!e.currentTarget.contains(e.relatedTarget)&&!r||!n)&&(s&&s.name()==="CloseButton"?this.refocusComponent():(this.pause(),s&&s.el()&&(this.lastFocusedComponent_=s)))}handlePlayerFocus_(){this.getCurrentComponent()&&this.getCurrentComponent().getIsFocusable()&&this.resume()}updateFocusableComponents(){const e=this.player_,n=[];function r(s){for(const i of s)i.hasOwnProperty("el_")&&i.getIsFocusable()&&i.getIsAvailableToBeFocused(i.el())&&n.push(i),i.hasOwnProperty("children_")&&i.children_.length>0&&r(i.children_)}return e.children_.forEach(s=>{if(s.hasOwnProperty("el_"))if(s.getIsFocusable&&s.getIsAvailableToBeFocused&&s.getIsFocusable()&&s.getIsAvailableToBeFocused(s.el())){n.push(s);return}else s.hasOwnProperty("children_")&&s.children_.length>0?r(s.children_):s.hasOwnProperty("items")&&s.items.length>0?r(s.items):this.findSuitableDOMChild(s)&&n.push(s);if(s.name_==="ErrorDisplay"&&s.opened_){const i=s.el_.querySelector(".vjs-errors-ok-button-container");i&&i.querySelectorAll("button").forEach((l,c)=>{n.push({name:()=>"ModalButton"+(c+1),el:()=>l,getPositions:()=>{const u=l.getBoundingClientRect(),h={x:u.x,y:u.y,width:u.width,height:u.height,top:u.top,right:u.right,bottom:u.bottom,left:u.left},f={x:u.left+u.width/2,y:u.top+u.height/2,width:0,height:0,top:u.top+u.height/2,right:u.left+u.width/2,bottom:u.top+u.height/2,left:u.left+u.width/2};return{boundingClientRect:h,center:f}},getIsAvailableToBeFocused:()=>!0,getIsFocusable:u=>!0,focus:()=>l.focus()})})}}),this.focusableComponents=n,this.focusableComponents}findSuitableDOMChild(e){function n(r){if(e.getIsFocusable(r)&&e.getIsAvailableToBeFocused(r))return r;for(let s=0;s<r.children.length;s++){const i=r.children[s],a=n(i);if(a)return a}return null}return e.el()?n(e.el()):null}getCurrentComponent(e){this.updateFocusableComponents();const n=e||document.activeElement;if(this.focusableComponents.length){for(const r of this.focusableComponents)if(r.el()===n)return r}}add(e){const n=[...this.focusableComponents];e.hasOwnProperty("el_")&&e.getIsFocusable()&&e.getIsAvailableToBeFocused(e.el())&&n.push(e),this.focusableComponents=n,this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents})}remove(e){for(let n=0;n<this.focusableComponents.length;n++)if(this.focusableComponents[n].name()===e.name()){this.focusableComponents.splice(n,1),this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents});return}}clear(){this.focusableComponents.length>0&&(this.focusableComponents=[],this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents}))}move(e){const n=this.getCurrentComponent();if(!n)return;const r=n.getPositions(),s=this.focusableComponents.filter(a=>a!==n&&this.isInDirection_(r.boundingClientRect,a.getPositions().boundingClientRect,e)),i=this.findBestCandidate_(r.center,s,e);i?this.focus(i):this.trigger({type:"endOfFocusableComponents",direction:e,focusedComponent:n})}findBestCandidate_(e,n,r){let s=1/0,i=null;for(const a of n){const l=a.getPositions().center,c=this.calculateDistance_(e,l,r);c<s&&(s=c,i=a)}return i}isInDirection_(e,n,r){switch(r){case"right":return n.left>=e.right;case"left":return n.right<=e.left;case"down":return n.top>=e.bottom;case"up":return n.bottom<=e.top;default:return!1}}refocusComponent(){if(this.lastFocusedComponent_){this.player_.userActive()||this.player_.userActive(!0),this.updateFocusableComponents();for(let e=0;e<this.focusableComponents.length;e++)if(this.focusableComponents[e].name()===this.lastFocusedComponent_.name()){this.focus(this.focusableComponents[e]);return}}else this.focus(this.updateFocusableComponents()[0])}focus(e){typeof e=="object"&&(e.getIsAvailableToBeFocused(e.el())?e.focus():this.findSuitableDOMChild(e)&&this.findSuitableDOMChild(e).focus())}calculateDistance_(e,n,r){const s=Math.abs(e.x-n.x),i=Math.abs(e.y-n.y);let a;switch(r){case"right":case"left":a=s+i*100;break;case"up":a=i*2+s*.5;break;case"down":a=i*5+s;break;default:a=s+i}return a}searchForTrackSelect_(){const e=this;for(const n of e.updateFocusableComponents())if(n.constructor.name==="TextTrackSelect"){e.focus(n);break}}}class Dce extends yt{constructor(e,n,r){const s=hr({createEl:!1},n);if(super(e,s,r),!n.playerOptions.sources||n.playerOptions.sources.length===0)for(let i=0,a=n.playerOptions.techOrder;i<a.length;i++){const l=qr(a[i]);let c=kn.getTech(l);if(l||(c=yt.getComponent(l)),c&&c.isSupported()){e.loadTech_(l);break}}else e.src(n.playerOptions.sources)}}yt.registerComponent("MediaLoader",Dce);class Gv extends yt{constructor(e,n){super(e,n),this.options_.controlText&&this.controlText(this.options_.controlText),this.handleMouseOver_=r=>this.handleMouseOver(r),this.handleMouseOut_=r=>this.handleMouseOut(r),this.handleClick_=r=>this.handleClick(r),this.handleKeyDown_=r=>this.handleKeyDown(r),this.emitTapEvents(),this.enable()}createEl(e="div",n={},r={}){n=Object.assign({className:this.buildCSSClass(),tabIndex:0},n),e==="button"&&In.error(`Creating a ClickableComponent with an HTML element of ${e} is not supported; use a Button instead.`),r=Object.assign({role:"button"},r),this.tabIndex_=n.tabIndex;const s=bn(e,n,r);return this.player_.options_.experimentalSvgIcons||s.appendChild(bn("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(s),s}dispose(){this.controlTextEl_=null,super.dispose()}createControlTextEl(e){return this.controlTextEl_=bn("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_}controlText(e,n=this.el()){if(e===void 0)return this.controlText_||"Need Text";const r=this.localize(e);this.controlText_=e,Lu(this.controlTextEl_,r),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&n.setAttribute("title",r)}buildCSSClass(){return`vjs-control vjs-button ${super.buildCSSClass()}`}enable(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))}disable(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)}handleLanguagechange(){this.controlText(this.controlText_)}handleClick(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)}handleKeyDown(e){e.key===" "||e.key==="Enter"?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}yt.registerComponent("ClickableComponent",Gv);class NS extends Gv{constructor(e,n){super(e,n),this.update(),this.update_=r=>this.update(r),e.on("posterchange",this.update_)}dispose(){this.player().off("posterchange",this.update_),super.dispose()}createEl(){return bn("div",{className:"vjs-poster"})}crossOrigin(e){if(typeof e>"u")return this.$("img")?this.$("img").crossOrigin:this.player_.tech_&&this.player_.tech_.isReady_?this.player_.crossOrigin():this.player_.options_.crossOrigin||this.player_.options_.crossorigin||null;if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){this.player_.log.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.$("img")&&(this.$("img").crossOrigin=e)}update(e){const n=this.player().poster();this.setSrc(n),n?this.show():this.hide()}setSrc(e){if(!e){this.el_.textContent="";return}this.$("img")||this.el_.appendChild(bn("picture",{className:"vjs-poster",tabIndex:-1},{},bn("img",{loading:"lazy",crossOrigin:this.crossOrigin()},{alt:""}))),this.$("img").src=e}handleClick(e){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?ml(this.player_.play()):this.player_.pause())}}NS.prototype.crossorigin=NS.prototype.crossOrigin;yt.registerComponent("PosterImage",NS);const La="#222",v5="#ccc",Ace={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function Aw(t,e){let n;if(t.length===4)n=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else if(t.length===7)n=t.slice(1);else throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+e+")"}function il(t,e,n){try{t.style[e]=n}catch{return}}function _5(t){return t?`${t}px`:""}class Pce extends yt{constructor(e,n,r){super(e,n,r);const s=a=>this.updateDisplay(a),i=a=>{this.updateDisplayOverlay(),this.updateDisplay(a)};e.on("loadstart",a=>this.toggleDisplay(a)),e.on("useractive",s),e.on("userinactive",s),e.on("texttrackchange",s),e.on("loadedmetadata",a=>{this.updateDisplayOverlay(),this.preselectTrack(a)}),e.ready(xr(this,function(){if(e.tech_&&e.tech_.featuresNativeTextTracks){this.hide();return}e.on("fullscreenchange",i),e.on("playerresize",i);const a=De.screen.orientation||De,l=De.screen.orientation?"change":"orientationchange";a.addEventListener(l,i),e.on("dispose",()=>a.removeEventListener(l,i));const c=this.options_.playerOptions.tracks||[];for(let u=0;u<c.length;u++)this.player_.addRemoteTextTrack(c[u],!0);this.preselectTrack()}))}preselectTrack(){const e={captions:1,subtitles:1},n=this.player_.textTracks(),r=this.player_.cache_.selectedLanguage;let s,i,a;for(let l=0;l<n.length;l++){const c=n[l];r&&r.enabled&&r.language&&r.language===c.language&&c.kind in e?c.kind===r.kind?a=c:a||(a=c):r&&!r.enabled?(a=null,s=null,i=null):c.default&&(c.kind==="descriptions"&&!s?s=c:c.kind in e&&!i&&(i=c))}a?a.mode="showing":i?i.mode="showing":s&&(s.mode="showing")}toggleDisplay(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()}createEl(){return super.createEl("div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})}clearDisplay(){typeof De.WebVTT=="function"&&De.WebVTT.processCues(De,[],this.el_)}updateDisplay(){const e=this.player_.textTracks(),n=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),n){const a=[];for(let l=0;l<e.length;++l){const c=e[l];c.mode==="showing"&&a.push(c)}this.updateForTrack(a);return}let r=null,s=null,i=e.length;for(;i--;){const a=e[i];a.mode==="showing"&&(a.kind==="descriptions"?r=a:s=a)}if(s?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(s)):r&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(r)),!De.CSS.supports("inset","10px")){const a=this.el_,l=a.querySelectorAll(".vjs-text-track-cue"),c=this.player_.controlBar.el_.getBoundingClientRect().height,u=this.player_.el_.getBoundingClientRect().height;a.style="",il(a,"position","relative"),il(a,"height",u-c+"px"),il(a,"top","unset"),ax?il(a,"bottom",u+"px"):il(a,"bottom","0px"),l.length>0&&l.forEach(h=>{if(h.style.inset){const f=h.style.inset.split(" ");f.length===3&&Object.assign(h.style,{top:f[0],right:f[1],bottom:f[2],left:"unset"})}})}}updateDisplayOverlay(){if(!this.player_.videoHeight()||!De.CSS.supports("inset-inline: 10px"))return;const e=this.player_.currentWidth(),n=this.player_.currentHeight(),r=e/n,s=this.player_.videoWidth()/this.player_.videoHeight();let i=0,a=0;Math.abs(r-s)>.1&&(r>s?i=Math.round((e-n*s)/2):a=Math.round((n-e/s)/2)),il(this.el_,"insetInline",_5(i)),il(this.el_,"insetBlock",_5(a))}updateDisplayState(e){const n=this.player_.textTrackSettings.getValues(),r=e.activeCues;let s=r.length;for(;s--;){const i=r[s];if(!i)continue;const a=i.displayState;if(n.color&&(a.firstChild.style.color=n.color),n.textOpacity&&il(a.firstChild,"color",Aw(n.color||"#fff",n.textOpacity)),n.backgroundColor&&(a.firstChild.style.backgroundColor=n.backgroundColor),n.backgroundOpacity&&il(a.firstChild,"backgroundColor",Aw(n.backgroundColor||"#000",n.backgroundOpacity)),n.windowColor&&(n.windowOpacity?il(a,"backgroundColor",Aw(n.windowColor,n.windowOpacity)):a.style.backgroundColor=n.windowColor),n.edgeStyle&&(n.edgeStyle==="dropshadow"?a.firstChild.style.textShadow=`2px 2px 3px ${La}, 2px 2px 4px ${La}, 2px 2px 5px ${La}`:n.edgeStyle==="raised"?a.firstChild.style.textShadow=`1px 1px ${La}, 2px 2px ${La}, 3px 3px ${La}`:n.edgeStyle==="depressed"?a.firstChild.style.textShadow=`1px 1px ${v5}, 0 1px ${v5}, -1px -1px ${La}, 0 -1px ${La}`:n.edgeStyle==="uniform"&&(a.firstChild.style.textShadow=`0 0 4px ${La}, 0 0 4px ${La}, 0 0 4px ${La}, 0 0 4px ${La}`)),n.fontPercent&&n.fontPercent!==1){const l=De.parseFloat(a.style.fontSize);a.style.fontSize=l*n.fontPercent+"px",a.style.height="auto",a.style.top="auto"}n.fontFamily&&n.fontFamily!=="default"&&(n.fontFamily==="small-caps"?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=Ace[n.fontFamily])}}updateForTrack(e){if(Array.isArray(e)||(e=[e]),typeof De.WebVTT!="function"||e.every(r=>!r.activeCues))return;const n=[];for(let r=0;r<e.length;++r){const s=e[r];for(let i=0;i<s.activeCues.length;++i)n.push(s.activeCues[i])}De.WebVTT.processCues(De,n,this.el_);for(let r=0;r<e.length;++r){const s=e[r];for(let i=0;i<s.activeCues.length;++i){const a=s.activeCues[i].displayState;zd(a,"vjs-text-track-cue","vjs-text-track-cue-"+(s.language?s.language:r)),s.language&&Qf(a,"lang",s.language)}this.player_.textTrackSettings&&this.updateDisplayState(s)}}}yt.registerComponent("TextTrackDisplay",Pce);class Ice extends yt{createEl(){const e=this.player_.isAudio(),n=this.localize(e?"Audio Player":"Video Player"),r=bn("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[n])}),s=super.createEl("div",{className:"vjs-loading-spinner",dir:"ltr"});return s.appendChild(r),s}handleLanguagechange(){this.$(".vjs-control-text").textContent=this.localize("{1} is loading.",[this.player_.isAudio()?"Audio Player":"Video Player"])}}yt.registerComponent("LoadingSpinner",Ice);class ei extends Gv{createEl(e,n={},r={}){e="button",n=Object.assign({className:this.buildCSSClass()},n),r=Object.assign({type:"button"},r);const s=bn(e,n,r);return this.player_.options_.experimentalSvgIcons||s.appendChild(bn("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(s),s}addChild(e,n={}){const r=this.constructor.name;return In.warn(`Adding an actionable (user controllable) child to a Button (${r}) is not supported; use a ClickableComponent instead.`),yt.prototype.addChild.call(this,e,n)}enable(){super.enable(),this.el_.removeAttribute("disabled")}disable(){super.disable(),this.el_.setAttribute("disabled","disabled")}handleKeyDown(e){if(e.key===" "||e.key==="Enter"){e.stopPropagation();return}super.handleKeyDown(e)}}yt.registerComponent("Button",ei);class b6 extends ei{constructor(e,n){super(e,n),this.mouseused_=!1,this.setIcon("play"),this.on("mousedown",r=>this.handleMouseDown(r))}buildCSSClass(){return"vjs-big-play-button"}handleClick(e){const n=this.player_.play();if(e.type==="tap"||this.mouseused_&&"clientX"in e&&"clientY"in e){ml(n),this.player_.tech(!0)&&this.player_.tech(!0).focus();return}const r=this.player_.getChild("controlBar"),s=r&&r.getChild("playToggle");if(!s){this.player_.tech(!0).focus();return}const i=()=>s.focus();tg(n)?n.then(i,()=>{}):this.setTimeout(i,1)}handleKeyDown(e){this.mouseused_=!1,super.handleKeyDown(e)}handleMouseDown(e){this.mouseused_=!0}}b6.prototype.controlText_="Play Video";yt.registerComponent("BigPlayButton",b6);class Oce extends ei{constructor(e,n){super(e,n),this.setIcon("cancel"),this.controlText(n&&n.controlText||this.localize("Close"))}buildCSSClass(){return`vjs-close-button ${super.buildCSSClass()}`}handleClick(e){this.trigger({type:"close",bubbles:!1})}handleKeyDown(e){e.key==="Escape"?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}yt.registerComponent("CloseButton",Oce);class x6 extends ei{constructor(e,n={}){super(e,n),n.replay=n.replay===void 0||n.replay,this.setIcon("play"),this.on(e,"play",r=>this.handlePlay(r)),this.on(e,"pause",r=>this.handlePause(r)),n.replay&&this.on(e,"ended",r=>this.handleEnded(r))}buildCSSClass(){return`vjs-play-control ${super.buildCSSClass()}`}handleClick(e){this.player_.paused()?ml(this.player_.play()):this.player_.pause()}handleSeeked(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)}handlePlay(e){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.setIcon("pause"),this.controlText("Pause")}handlePause(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.setIcon("play"),this.controlText("Play")}handleEnded(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.setIcon("replay"),this.controlText("Replay"),this.one(this.player_,"seeked",n=>this.handleSeeked(n))}}x6.prototype.controlText_="Play";yt.registerComponent("PlayToggle",x6);class Sp extends yt{constructor(e,n){super(e,n),this.on(e,["timeupdate","ended","seeking"],r=>this.update(r)),this.updateTextNode_()}createEl(){const e=this.buildCSSClass(),n=super.createEl("div",{className:`${e} vjs-time-control vjs-control`}),r=bn("span",{className:"vjs-control-text",textContent:`${this.localize(this.labelText_)}`},{role:"presentation"});return n.appendChild(r),this.contentEl_=bn("span",{className:`${e}-display`},{role:"presentation"}),n.appendChild(this.contentEl_),n}dispose(){this.contentEl_=null,this.textNode_=null,super.dispose()}update(e){!this.player_.options_.enableSmoothSeeking&&e.type==="seeking"||this.updateContent(e)}updateTextNode_(e=0){e=Qd(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",()=>{if(!this.contentEl_)return;let n=this.textNode_;n&&this.contentEl_.firstChild!==n&&(n=null,In.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),this.textNode_=Pt.createTextNode(this.formattedTime_),this.textNode_&&(n?this.contentEl_.replaceChild(this.textNode_,n):this.contentEl_.appendChild(this.textNode_))}))}updateContent(e){}}Sp.prototype.labelText_="Time";Sp.prototype.controlText_="Time";yt.registerComponent("TimeDisplay",Sp);class Sk extends Sp{buildCSSClass(){return"vjs-current-time"}updateContent(e){let n;this.player_.ended()?n=this.player_.duration():e&&e.target&&typeof e.target.pendingSeekTime=="function"?n=e.target.pendingSeekTime():n=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(n)}}Sk.prototype.labelText_="Current Time";Sk.prototype.controlText_="Current Time";yt.registerComponent("CurrentTimeDisplay",Sk);class Ck extends Sp{constructor(e,n){super(e,n);const r=s=>this.updateContent(s);this.on(e,"durationchange",r),this.on(e,"loadstart",r),this.on(e,"loadedmetadata",r)}buildCSSClass(){return"vjs-duration"}updateContent(e){const n=this.player_.duration();this.updateTextNode_(n)}}Ck.prototype.labelText_="Duration";Ck.prototype.controlText_="Duration";yt.registerComponent("DurationDisplay",Ck);class Mce extends yt{createEl(){const e=super.createEl("div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),n=super.createEl("div"),r=super.createEl("span",{textContent:"/"});return n.appendChild(r),e.appendChild(n),e}}yt.registerComponent("TimeDivider",Mce);class Tk extends Sp{constructor(e,n){super(e,n),this.on(e,"durationchange",r=>this.updateContent(r))}buildCSSClass(){return"vjs-remaining-time"}createEl(){const e=super.createEl();return this.options_.displayNegative!==!1&&e.insertBefore(bn("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e}updateContent(e){if(typeof this.player_.duration()!="number")return;let n;this.player_.ended()?n=0:this.player_.remainingTimeDisplay?n=this.player_.remainingTimeDisplay():n=this.player_.remainingTime(),this.updateTextNode_(n)}}Tk.prototype.labelText_="Remaining Time";Tk.prototype.controlText_="Remaining Time";yt.registerComponent("RemainingTimeDisplay",Tk);class Rce extends yt{constructor(e,n){super(e,n),this.updateShowing(),this.on(this.player(),"durationchange",r=>this.updateShowing(r))}createEl(){const e=super.createEl("div",{className:"vjs-live-control vjs-control"});return this.contentEl_=bn("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(bn("span",{className:"vjs-control-text",textContent:`${this.localize("Stream Type")}`})),this.contentEl_.appendChild(Pt.createTextNode(this.localize("LIVE"))),e.appendChild(this.contentEl_),e}dispose(){this.contentEl_=null,super.dispose()}updateShowing(e){this.player().duration()===1/0?this.show():this.hide()}}yt.registerComponent("LiveDisplay",Rce);class v6 extends ei{constructor(e,n){super(e,n),this.updateLiveEdgeStatus(),this.player_.liveTracker&&(this.updateLiveEdgeStatusHandler_=r=>this.updateLiveEdgeStatus(r),this.on(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_))}createEl(){const e=super.createEl("button",{className:"vjs-seek-to-live-control vjs-control"});return this.setIcon("circle",e),this.textEl_=bn("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e}updateLiveEdgeStatus(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))}handleClick(){this.player_.liveTracker.seekToLiveEdge()}dispose(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,super.dispose()}}v6.prototype.controlText_="Seek to live, currently playing live";yt.registerComponent("SeekToLive",v6);function g0(t,e,n){return t=Number(t),Math.min(n,Math.max(e,isNaN(t)?e:t))}var Lce=Object.freeze({__proto__:null,clamp:g0});class kk extends yt{constructor(e,n){super(e,n),this.handleMouseDown_=r=>this.handleMouseDown(r),this.handleMouseUp_=r=>this.handleMouseUp(r),this.handleKeyDown_=r=>this.handleKeyDown(r),this.handleClick_=r=>this.handleClick(r),this.handleMouseMove_=r=>this.handleMouseMove(r),this.update_=r=>this.update(r),this.bar=this.getChild(this.options_.barName),this.vertical(!!this.options_.vertical),this.enable()}enabled(){return this.enabled_}enable(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)}disable(){if(!this.enabled())return;const e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}createEl(e,n={},r={}){return n.className=n.className+" vjs-slider",n=Object.assign({tabIndex:0},n),r=Object.assign({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100},r),super.createEl(e,n,r)}handleMouseDown(e){const n=this.bar.el_.ownerDocument;e.type==="mousedown"&&e.preventDefault(),e.type==="touchstart"&&!kl&&e.preventDefault(),qL(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(n,"mousemove",this.handleMouseMove_),this.on(n,"mouseup",this.handleMouseUp_),this.on(n,"touchmove",this.handleMouseMove_),this.on(n,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)}handleMouseMove(e){}handleMouseUp(e){const n=this.bar.el_.ownerDocument;YL(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(n,"mousemove",this.handleMouseMove_),this.off(n,"mouseup",this.handleMouseUp_),this.off(n,"touchmove",this.handleMouseMove_),this.off(n,"touchend",this.handleMouseUp_),this.update()}update(){if(!this.el_||!this.bar)return;const e=this.getProgress();return e===this.progress_||(this.progress_=e,this.requestNamedAnimationFrame("Slider#update",()=>{const n=this.vertical()?"height":"width";this.bar.el().style[n]=(e*100).toFixed(2)+"%"})),e}getProgress(){return Number(g0(this.getPercent(),0,1).toFixed(4))}calculateDistance(e){const n=Uv(this.el_,e);return this.vertical()?n.y:n.x}handleKeyDown(e){const n=this.options_.playerOptions.spatialNavigation,r=n&&n.enabled,s=n&&n.horizontalSeek;r?s&&e.key==="ArrowLeft"||!s&&e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepBack()):s&&e.key==="ArrowRight"||!s&&e.key==="ArrowUp"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(this.pendingSeekTime()&&(this.pendingSeekTime(null),this.userSeek_(this.player_.currentTime())),super.handleKeyDown(e)):e.key==="ArrowLeft"||e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepBack()):e.key==="ArrowUp"||e.key==="ArrowRight"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e)}handleClick(e){e.stopPropagation(),e.preventDefault()}vertical(e){if(e===void 0)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")}}yt.registerComponent("Slider",kk);const Pw=(t,e)=>g0(t/e*100,0,100).toFixed(2)+"%";class Fce extends yt{constructor(e,n){super(e,n),this.partEls_=[],this.on(e,"progress",r=>this.update(r))}createEl(){const e=super.createEl("div",{className:"vjs-load-progress"}),n=bn("span",{className:"vjs-control-text"}),r=bn("span",{textContent:this.localize("Loaded")}),s=Pt.createTextNode(": ");return this.percentageEl_=bn("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(n),n.appendChild(r),n.appendChild(s),n.appendChild(this.percentageEl_),e}dispose(){this.partEls_=null,this.percentageEl_=null,super.dispose()}update(e){this.requestNamedAnimationFrame("LoadProgressBar#update",()=>{const n=this.player_.liveTracker,r=this.player_.buffered(),s=n&&n.isLive()?n.seekableEnd():this.player_.duration(),i=this.player_.bufferedEnd(),a=this.partEls_,l=Pw(i,s);this.percent_!==l&&(this.el_.style.width=l,Lu(this.percentageEl_,l),this.percent_=l);for(let c=0;c<r.length;c++){const u=r.start(c),h=r.end(c);let f=a[c];f||(f=this.el_.appendChild(bn()),a[c]=f),!(f.dataset.start===u&&f.dataset.end===h)&&(f.dataset.start=u,f.dataset.end=h,f.style.left=Pw(u,i),f.style.width=Pw(h-u,i))}for(let c=a.length;c>r.length;c--)this.el_.removeChild(a[c-1]);a.length=r.length})}}yt.registerComponent("LoadProgressBar",Fce);class Bce extends yt{constructor(e,n){super(e,n),this.update=El(xr(this,this.update),Za)}createEl(){return super.createEl("div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})}update(e,n,r){const s=Pg(this.el_),i=Zf(this.player_.el()),a=e.width*n;if(!i||!s)return;let l=e.left-i.left+a,c=e.width-a+(i.right-e.right);c||(c=e.width-a,l=a);let u=s.width/2;l<u?u+=u-l:c<u&&(u=c),u<0?u=0:u>s.width&&(u=s.width),u=Math.round(u),this.el_.style.right=`-${u}px`,this.write(r)}write(e){Lu(this.el_,e)}updateTime(e,n,r,s){this.requestNamedAnimationFrame("TimeTooltip#updateTime",()=>{let i;const a=this.player_.duration();if(this.player_.liveTracker&&this.player_.liveTracker.isLive()){const l=this.player_.liveTracker.liveWindow(),c=l-n*l;i=(c<1?"":"-")+Qd(c,l)}else i=Qd(r,a);this.update(e,n,i),s&&s()})}}yt.registerComponent("TimeTooltip",Bce);class Ek extends yt{constructor(e,n){super(e,n),this.setIcon("circle"),this.update=El(xr(this,this.update),Za)}createEl(){return super.createEl("div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})}update(e,n,r){const s=this.getChild("timeTooltip");if(!s)return;const i=r&&r.target&&typeof r.target.pendingSeekTime=="function"?r.target.pendingSeekTime():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();s.updateTime(e,n,i)}}Ek.prototype.options_={children:[]};!Zs&&!Ao&&Ek.prototype.options_.children.push("timeTooltip");yt.registerComponent("PlayProgressBar",Ek);class _6 extends yt{constructor(e,n){super(e,n),this.update=El(xr(this,this.update),Za)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,n){const r=n*this.player_.duration();this.getChild("timeTooltip").updateTime(e,n,r,()=>{this.el_.style.left=`${e.width*n}px`})}}_6.prototype.options_={children:["timeTooltip"]};yt.registerComponent("MouseTimeDisplay",_6);class Kv extends kk{constructor(e,n){n=hr(Kv.prototype.options_,n),n.children=[...n.children];const r=e.options_.disableSeekWhileScrubbingOnMobile&&(Zs||Ao)||e.options_.disableSeekWhileScrubbingOnSTV;(!Zs&&!Ao||r)&&n.children.splice(1,0,"mouseTimeDisplay"),super(e,n),this.shouldDisableSeekWhileScrubbing_=r,this.pendingSeekTime_=null,this.setEventHandlers_()}setEventHandlers_(){this.update_=xr(this,this.update),this.update=El(this.update_,Za),this.on(this.player_,["durationchange","timeupdate"],this.update),this.on(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=e=>this.enableInterval_(e),this.disableIntervalHandler_=e=>this.disableInterval_(e),this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Pt&&"visibilityState"in Pt&&this.on(Pt,"visibilitychange",this.toggleVisibility_)}toggleVisibility_(e){Pt.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())}enableInterval_(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,Za))}disableInterval_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&e.type!=="ended"||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)}createEl(){return super.createEl("div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})}update(e){if(Pt.visibilityState==="hidden")return;const n=super.update();return this.requestNamedAnimationFrame("SeekBar#update",()=>{const r=this.player_.ended()?this.player_.duration():this.getCurrentTime_(),s=this.player_.liveTracker;let i=this.player_.duration();s&&s.isLive()&&(i=this.player_.liveTracker.liveCurrentTime()),this.percent_!==n&&(this.el_.setAttribute("aria-valuenow",(n*100).toFixed(2)),this.percent_=n),(this.currentTime_!==r||this.duration_!==i)&&(this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[Qd(r,i),Qd(i,i)],"{1} of {2}")),this.currentTime_=r,this.duration_=i),this.bar&&this.bar.update(Zf(this.el()),this.getProgress(),e)}),n}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}getCurrentTime_(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()}pendingSeekTime(e){if(e!==void 0)if(e!==null){const n=this.player_.duration();this.pendingSeekTime_=Math.max(0,Math.min(e,n))}else this.pendingSeekTime_=null;return this.pendingSeekTime_}getPercent(){if(this.pendingSeekTime()!==null)return this.pendingSeekTime()/this.player_.duration();const e=this.getCurrentTime_();let n;const r=this.player_.liveTracker;return r&&r.isLive()?(n=(e-r.seekableStart())/r.liveWindow(),r.atLiveEdge()&&(n=1)):n=e/this.player_.duration(),n}handleMouseDown(e){Ig(e)&&(e.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.shouldDisableSeekWhileScrubbing_||this.player_.pause(),super.handleMouseDown(e))}handleMouseMove(e,n=!1){if(!Ig(e)||isNaN(this.player_.duration()))return;!n&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);let r;const s=this.calculateDistance(e),i=this.player_.liveTracker;if(!i||!i.isLive())r=s*this.player_.duration(),r===this.player_.duration()&&(r=r-.1);else{if(s>=.99){i.seekToLiveEdge();return}const a=i.seekableStart(),l=i.liveCurrentTime();if(r=a+s*i.liveWindow(),r>=l&&(r=l),r<=a&&(r=a+.1),r===1/0)return}this.shouldDisableSeekWhileScrubbing_?this.pendingSeekTime(r):this.userSeek_(r),this.player_.options_.enableSmoothSeeking&&this.update()}enable(){super.enable();const e=this.getChild("mouseTimeDisplay");e&&e.show()}disable(){super.disable();const e=this.getChild("mouseTimeDisplay");e&&e.hide()}handleMouseUp(e){super.handleMouseUp(e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.pendingSeekTime()!==null&&(this.userSeek_(this.pendingSeekTime()),this.pendingSeekTime(null)),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?ml(this.player_.play()):this.update_()}handlePendingSeek_(e){this.player_.paused()||this.player_.pause();const n=this.pendingSeekTime()!==null?this.pendingSeekTime():this.player_.currentTime();this.pendingSeekTime(n+e),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}stepForward(){this.shouldDisableSeekWhileScrubbing_?this.handlePendingSeek_(this.options().stepSeconds):this.userSeek_(this.player_.currentTime()+this.options().stepSeconds)}stepBack(){this.shouldDisableSeekWhileScrubbing_?this.handlePendingSeek_(-this.options().stepSeconds):this.userSeek_(this.player_.currentTime()-this.options().stepSeconds)}handleAction(e){this.pendingSeekTime()!==null&&(this.userSeek_(this.pendingSeekTime()),this.pendingSeekTime(null)),this.player_.paused()?this.player_.play():this.player_.pause()}handleKeyDown(e){const n=this.player_.liveTracker;if(e.key===" "||e.key==="Enter")e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(e.key==="Home")e.preventDefault(),e.stopPropagation(),this.userSeek_(0);else if(e.key==="End")e.preventDefault(),e.stopPropagation(),n&&n.isLive()?this.userSeek_(n.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(e.key)){e.preventDefault(),e.stopPropagation();const r=parseInt(e.key,10)*.1;n&&n.isLive()?this.userSeek_(n.seekableStart()+n.liveWindow()*r):this.userSeek_(this.player_.duration()*r)}else e.key==="PageDown"?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-this.options().stepSeconds*this.options().pageMultiplier)):e.key==="PageUp"?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+this.options().stepSeconds*this.options().pageMultiplier)):super.handleKeyDown(e)}dispose(){this.disableInterval_(),this.off(this.player_,["durationchange","timeupdate"],this.update),this.off(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Pt&&"visibilityState"in Pt&&this.off(Pt,"visibilitychange",this.toggleVisibility_),super.dispose()}}Kv.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar",stepSeconds:5,pageMultiplier:12};yt.registerComponent("SeekBar",Kv);class w6 extends yt{constructor(e,n){super(e,n),this.handleMouseMove=El(xr(this,this.handleMouseMove),Za),this.throttledHandleMouseSeek=El(xr(this,this.handleMouseSeek),Za),this.handleMouseUpHandler_=r=>this.handleMouseUp(r),this.handleMouseDownHandler_=r=>this.handleMouseDown(r),this.enable()}createEl(){return super.createEl("div",{className:"vjs-progress-control vjs-control"})}handleMouseMove(e){const n=this.getChild("seekBar");if(!n)return;const r=n.getChild("playProgressBar"),s=n.getChild("mouseTimeDisplay");if(!r&&!s)return;const i=n.el(),a=Pg(i);let l=Uv(i,e).x;l=g0(l,0,1),s&&s.update(a,l),r&&r.update(a,n.getProgress())}handleMouseSeek(e){const n=this.getChild("seekBar");n&&n.handleMouseMove(e)}enabled(){return this.enabled_}disable(){if(this.children().forEach(e=>e.disable&&e.disable()),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,["mousemove","touchmove"],this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){const e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&ml(this.player_.play())}}enable(){this.children().forEach(e=>e.enable&&e.enable()),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,["mousemove","touchmove"],this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)}removeListenersAddedOnMousedownAndTouchstart(){const e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)}handleMouseDown(e){const n=this.el_.ownerDocument,r=this.getChild("seekBar");r&&r.handleMouseDown(e),this.on(n,"mousemove",this.throttledHandleMouseSeek),this.on(n,"touchmove",this.throttledHandleMouseSeek),this.on(n,"mouseup",this.handleMouseUpHandler_),this.on(n,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const n=this.getChild("seekBar");n&&n.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()}}w6.prototype.options_={children:["seekBar"]};yt.registerComponent("ProgressControl",w6);class S6 extends ei{constructor(e,n){super(e,n),this.setIcon("picture-in-picture-enter"),this.on(e,["enterpictureinpicture","leavepictureinpicture"],r=>this.handlePictureInPictureChange(r)),this.on(e,["disablepictureinpicturechanged","loadedmetadata"],r=>this.handlePictureInPictureEnabledChange(r)),this.on(e,["loadedmetadata","audioonlymodechange","audiopostermodechange"],()=>this.handlePictureInPictureAudioModeChange()),this.disable()}buildCSSClass(){return`vjs-picture-in-picture-control vjs-hidden ${super.buildCSSClass()}`}handlePictureInPictureAudioModeChange(){if(!(this.player_.currentType().substring(0,5)==="audio"||this.player_.audioPosterMode()||this.player_.audioOnlyMode())){this.show();return}this.player_.isInPictureInPicture()&&this.player_.exitPictureInPicture(),this.hide()}handlePictureInPictureEnabledChange(){Pt.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1||this.player_.options_.enableDocumentPictureInPicture&&"documentPictureInPicture"in De?this.enable():this.disable()}handlePictureInPictureChange(e){this.player_.isInPictureInPicture()?(this.setIcon("picture-in-picture-exit"),this.controlText("Exit Picture-in-Picture")):(this.setIcon("picture-in-picture-enter"),this.controlText("Picture-in-Picture")),this.handlePictureInPictureEnabledChange()}handleClick(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()}show(){typeof Pt.exitPictureInPicture=="function"&&super.show()}}S6.prototype.controlText_="Picture-in-Picture";yt.registerComponent("PictureInPictureToggle",S6);class C6 extends ei{constructor(e,n){super(e,n),this.setIcon("fullscreen-enter"),this.on(e,"fullscreenchange",r=>this.handleFullscreenChange(r)),Pt[e.fsApi_.fullscreenEnabled]===!1&&this.disable()}buildCSSClass(){return`vjs-fullscreen-control ${super.buildCSSClass()}`}handleFullscreenChange(e){this.player_.isFullscreen()?(this.controlText("Exit Fullscreen"),this.setIcon("fullscreen-exit")):(this.controlText("Fullscreen"),this.setIcon("fullscreen-enter"))}handleClick(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()}}C6.prototype.controlText_="Fullscreen";yt.registerComponent("FullscreenToggle",C6);const $ce=function(t,e){e.tech_&&!e.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class zce extends yt{createEl(){const e=super.createEl("div",{className:"vjs-volume-level"});return this.setIcon("circle",e),e.appendChild(super.createEl("span",{className:"vjs-control-text"})),e}}yt.registerComponent("VolumeLevel",zce);class Uce extends yt{constructor(e,n){super(e,n),this.update=El(xr(this,this.update),Za)}createEl(){return super.createEl("div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})}update(e,n,r,s){if(!r){const i=Zf(this.el_),a=Zf(this.player_.el()),l=e.width*n;if(!a||!i)return;const c=e.left-a.left+l,u=e.width-l+(a.right-e.right);let h=i.width/2;c<h?h+=h-c:u<h&&(h=u),h<0?h=0:h>i.width&&(h=i.width),this.el_.style.right=`-${h}px`}this.write(`${s}%`)}write(e){Lu(this.el_,e)}updateVolume(e,n,r,s,i){this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",()=>{this.update(e,n,r,s.toFixed(0)),i&&i()})}}yt.registerComponent("VolumeLevelTooltip",Uce);class T6 extends yt{constructor(e,n){super(e,n),this.update=El(xr(this,this.update),Za)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,n,r){const s=100*n;this.getChild("volumeLevelTooltip").updateVolume(e,n,r,s,()=>{r?this.el_.style.bottom=`${e.height*n}px`:this.el_.style.left=`${e.width*n}px`})}}T6.prototype.options_={children:["volumeLevelTooltip"]};yt.registerComponent("MouseVolumeLevelDisplay",T6);class Xv extends kk{constructor(e,n){super(e,n),this.on("slideractive",r=>this.updateLastVolume_(r)),this.on(e,"volumechange",r=>this.updateARIAAttributes(r)),e.ready(()=>this.updateARIAAttributes())}createEl(){return super.createEl("div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})}handleMouseDown(e){Ig(e)&&super.handleMouseDown(e)}handleMouseMove(e){const n=this.getChild("mouseVolumeLevelDisplay");if(n){const r=this.el(),s=Zf(r),i=this.vertical();let a=Uv(r,e);a=i?a.y:a.x,a=g0(a,0,1),n.update(s,a,i)}Ig(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))}checkMuted(){this.player_.muted()&&this.player_.muted(!1)}getPercent(){return this.player_.muted()?0:this.player_.volume()}stepForward(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)}stepBack(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)}updateARIAAttributes(e){const n=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",n),this.el_.setAttribute("aria-valuetext",n+"%")}volumeAsPercentage_(){return Math.round(this.player_.volume()*100)}updateLastVolume_(){const e=this.player_.volume();this.one("sliderinactive",()=>{this.player_.volume()===0&&this.player_.lastVolume_(e)})}}Xv.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!Zs&&!Ao&&Xv.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");Xv.prototype.playerEvent="volumechange";yt.registerComponent("VolumeBar",Xv);class k6 extends yt{constructor(e,n={}){n.vertical=n.vertical||!1,(typeof n.volumeBar>"u"||Xf(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical),super(e,n),$ce(this,e),this.throttledHandleMouseMove=El(xr(this,this.handleMouseMove),Za),this.handleMouseUpHandler_=r=>this.handleMouseUp(r),this.on("mousedown",r=>this.handleMouseDown(r)),this.on("touchstart",r=>this.handleMouseDown(r)),this.on("mousemove",r=>this.handleMouseMove(r)),this.on(this.volumeBar,["focus","slideractive"],()=>{this.volumeBar.addClass("vjs-slider-active"),this.addClass("vjs-slider-active"),this.trigger("slideractive")}),this.on(this.volumeBar,["blur","sliderinactive"],()=>{this.volumeBar.removeClass("vjs-slider-active"),this.removeClass("vjs-slider-active"),this.trigger("sliderinactive")})}createEl(){let e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),super.createEl("div",{className:`vjs-volume-control vjs-control ${e}`})}handleMouseDown(e){const n=this.el_.ownerDocument;this.on(n,"mousemove",this.throttledHandleMouseMove),this.on(n,"touchmove",this.throttledHandleMouseMove),this.on(n,"mouseup",this.handleMouseUpHandler_),this.on(n,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const n=this.el_.ownerDocument;this.off(n,"mousemove",this.throttledHandleMouseMove),this.off(n,"touchmove",this.throttledHandleMouseMove),this.off(n,"mouseup",this.handleMouseUpHandler_),this.off(n,"touchend",this.handleMouseUpHandler_)}handleMouseMove(e){this.volumeBar.handleMouseMove(e)}}k6.prototype.options_={children:["volumeBar"]};yt.registerComponent("VolumeControl",k6);const Hce=function(t,e){e.tech_&&!e.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class E6 extends ei{constructor(e,n){super(e,n),Hce(this,e),this.on(e,["loadstart","volumechange"],r=>this.update(r))}buildCSSClass(){return`vjs-mute-control ${super.buildCSSClass()}`}handleClick(e){const n=this.player_.volume(),r=this.player_.lastVolume_();if(n===0){const s=r<.1?.1:r;this.player_.volume(s),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())}update(e){this.updateIcon_(),this.updateControlText_()}updateIcon_(){const e=this.player_.volume();let n=3;this.setIcon("volume-high"),Zs&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),e===0||this.player_.muted()?(this.setIcon("volume-mute"),n=0):e<.33?(this.setIcon("volume-low"),n=1):e<.67&&(this.setIcon("volume-medium"),n=2),$v(this.el_,[0,1,2,3].reduce((r,s)=>r+`${s?" ":""}vjs-vol-${s}`,"")),zd(this.el_,`vjs-vol-${n}`)}updateControlText_(){const n=this.player_.muted()||this.player_.volume()===0?"Unmute":"Mute";this.controlText()!==n&&this.controlText(n)}}E6.prototype.controlText_="Mute";yt.registerComponent("MuteToggle",E6);class j6 extends yt{constructor(e,n={}){typeof n.inline<"u"?n.inline=n.inline:n.inline=!0,(typeof n.volumeControl>"u"||Xf(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline),super(e,n),this.handleKeyPressHandler_=r=>this.handleKeyPress(r),this.on(e,["loadstart"],r=>this.volumePanelState_(r)),this.on(this.muteToggle,"keyup",r=>this.handleKeyPress(r)),this.on(this.volumeControl,"keyup",r=>this.handleVolumeControlKeyUp(r)),this.on("keydown",r=>this.handleKeyPress(r)),this.on("mouseover",r=>this.handleMouseOver(r)),this.on("mouseout",r=>this.handleMouseOut(r)),this.on(this.volumeControl,["slideractive"],this.sliderActive_),this.on(this.volumeControl,["sliderinactive"],this.sliderInactive_)}sliderActive_(){this.addClass("vjs-slider-active")}sliderInactive_(){this.removeClass("vjs-slider-active")}volumePanelState_(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")}createEl(){let e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),super.createEl("div",{className:`vjs-volume-panel vjs-control ${e}`})}dispose(){this.handleMouseOut(),super.dispose()}handleVolumeControlKeyUp(e){e.key==="Escape"&&this.muteToggle.focus()}handleMouseOver(e){this.addClass("vjs-hover"),pa(Pt,"keyup",this.handleKeyPressHandler_)}handleMouseOut(e){this.removeClass("vjs-hover"),Js(Pt,"keyup",this.handleKeyPressHandler_)}handleKeyPress(e){e.key==="Escape"&&this.handleMouseOut()}}j6.prototype.options_={children:["muteToggle","volumeControl"]};yt.registerComponent("VolumePanel",j6);class N6 extends ei{constructor(e,n){super(e,n),this.validOptions=[5,10,30],this.skipTime=this.getSkipForwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`forward-${this.skipTime}`),this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipForwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.forward}buildCSSClass(){return`vjs-skip-forward-${this.getSkipForwardTime()} ${super.buildCSSClass()}`}handleClick(e){if(isNaN(this.player_.duration()))return;const n=this.player_.currentTime(),r=this.player_.liveTracker,s=r&&r.isLive()?r.seekableEnd():this.player_.duration();let i;n+this.skipTime<=s?i=n+this.skipTime:i=s,this.player_.currentTime(i)}handleLanguagechange(){this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime]))}}N6.prototype.controlText_="Skip Forward";yt.registerComponent("SkipForward",N6);class D6 extends ei{constructor(e,n){super(e,n),this.validOptions=[5,10,30],this.skipTime=this.getSkipBackwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`replay-${this.skipTime}`),this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipBackwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.backward}buildCSSClass(){return`vjs-skip-backward-${this.getSkipBackwardTime()} ${super.buildCSSClass()}`}handleClick(e){const n=this.player_.currentTime(),r=this.player_.liveTracker,s=r&&r.isLive()&&r.seekableStart();let i;s&&n-this.skipTime<=s?i=s:n>=this.skipTime?i=n-this.skipTime:i=0,this.player_.currentTime(i)}handleLanguagechange(){this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime]))}}D6.prototype.controlText_="Skip Backward";yt.registerComponent("SkipBackward",D6);class A6 extends yt{constructor(e,n){super(e,n),n&&(this.menuButton_=n.menuButton),this.focusedChild_=-1,this.on("keydown",r=>this.handleKeyDown(r)),this.boundHandleBlur_=r=>this.handleBlur(r),this.boundHandleTapClick_=r=>this.handleTapClick(r)}addEventListenerForItem(e){e instanceof yt&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))}removeEventListenerForItem(e){e instanceof yt&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))}removeChild(e){typeof e=="string"&&(e=this.getChild(e)),this.removeEventListenerForItem(e),super.removeChild(e)}addItem(e){const n=this.addChild(e);n&&this.addEventListenerForItem(n)}createEl(){const e=this.options_.contentElType||"ul";this.contentEl_=bn(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");const n=super.createEl("div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),pa(n,"click",function(r){r.preventDefault(),r.stopImmediatePropagation()}),n}dispose(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,super.dispose()}handleBlur(e){const n=e.relatedTarget||Pt.activeElement;if(!this.children().some(r=>r.el()===n)){const r=this.menuButton_;r&&r.buttonPressed_&&n!==r.el().firstChild&&r.unpressButton()}}handleTapClick(e){if(this.menuButton_){this.menuButton_.unpressButton();const n=this.children();if(!Array.isArray(n))return;const r=n.filter(s=>s.el()===e.target)[0];if(!r)return;r.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}}handleKeyDown(e){e.key==="ArrowLeft"||e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(e.key==="ArrowRight"||e.key==="ArrowUp")&&(e.preventDefault(),e.stopPropagation(),this.stepBack())}stepForward(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_+1),this.focus(e)}stepBack(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_-1),this.focus(e)}focus(e=0){const n=this.children().slice();n.length&&n[0].hasClass("vjs-menu-title")&&n.shift(),n.length>0&&(e<0?e=0:e>=n.length&&(e=n.length-1),this.focusedChild_=e,n[e].el_.focus())}}yt.registerComponent("Menu",A6);class jk extends yt{constructor(e,n={}){super(e,n),this.menuButton_=new ei(e,n),this.menuButton_.controlText(this.controlText_),this.menuButton_.el_.setAttribute("aria-haspopup","true");const r=ei.prototype.buildCSSClass();this.menuButton_.el_.className=this.buildCSSClass()+" "+r,this.menuButton_.removeClass("vjs-control"),this.addChild(this.menuButton_),this.update(),this.enabled_=!0;const s=i=>this.handleClick(i);this.handleMenuKeyUp_=i=>this.handleMenuKeyUp(i),this.on(this.menuButton_,"tap",s),this.on(this.menuButton_,"click",s),this.on(this.menuButton_,"keydown",i=>this.handleKeyDown(i)),this.on(this.menuButton_,"mouseenter",()=>{this.addClass("vjs-hover"),this.menu.show(),pa(Pt,"keyup",this.handleMenuKeyUp_)}),this.on("mouseleave",i=>this.handleMouseLeave(i)),this.on("keydown",i=>this.handleSubmenuKeyDown(i))}update(){const e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))}createMenu(){const e=new A6(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){const n=bn("li",{className:"vjs-menu-title",textContent:qr(this.options_.title),tabIndex:-1}),r=new yt(this.player_,{el:n});e.addItem(r)}if(this.items=this.createItems(),this.items)for(let n=0;n<this.items.length;n++)e.addItem(this.items[n]);return e}createItems(){}createEl(){return super.createEl("div",{className:this.buildWrapperCSSClass()},{})}setIcon(e){super.setIcon(e,this.menuButton_.el_)}buildWrapperCSSClass(){let e="vjs-menu-button";this.options_.inline===!0?e+="-inline":e+="-popup";const n=ei.prototype.buildCSSClass();return`vjs-menu-button ${e} ${n} ${super.buildCSSClass()}`}buildCSSClass(){let e="vjs-menu-button";return this.options_.inline===!0?e+="-inline":e+="-popup",`vjs-menu-button ${e} ${super.buildCSSClass()}`}controlText(e,n=this.menuButton_.el()){return this.menuButton_.controlText(e,n)}dispose(){this.handleMouseLeave(),super.dispose()}handleClick(e){this.buttonPressed_?this.unpressButton():this.pressButton()}handleMouseLeave(e){this.removeClass("vjs-hover"),Js(Pt,"keyup",this.handleMenuKeyUp_)}focus(){this.menuButton_.focus()}blur(){this.menuButton_.blur()}handleKeyDown(e){e.key==="Escape"||e.key==="Tab"?(this.buttonPressed_&&this.unpressButton(),!e.key==="Tab"&&(e.preventDefault(),this.menuButton_.focus())):(e.key==="Up"||e.key==="Down"&&!(this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))}handleMenuKeyUp(e){(e.key==="Escape"||e.key==="Tab")&&this.removeClass("vjs-hover")}handleSubmenuKeyPress(e){this.handleSubmenuKeyDown(e)}handleSubmenuKeyDown(e){(e.key==="Escape"||e.key==="Tab")&&(this.buttonPressed_&&this.unpressButton(),!e.key==="Tab"&&(e.preventDefault(),this.menuButton_.focus()))}pressButton(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Zs&&zL())return;this.menu.focus()}}unpressButton(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))}disable(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()}enable(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()}}yt.registerComponent("MenuButton",jk);class Nk extends jk{constructor(e,n){const r=n.tracks;if(super(e,n),this.items.length<=1&&this.hide(),!r)return;const s=xr(this,this.update);r.addEventListener("removetrack",s),r.addEventListener("addtrack",s),r.addEventListener("labelchange",s),this.player_.on("ready",s),this.player_.on("dispose",function(){r.removeEventListener("removetrack",s),r.removeEventListener("addtrack",s),r.removeEventListener("labelchange",s)})}}yt.registerComponent("TrackButton",Nk);class y0 extends Gv{constructor(e,n){super(e,n),this.selectable=n.selectable,this.isSelected_=n.selected||!1,this.multiSelectable=n.multiSelectable,this.selected(this.isSelected_),this.selectable?this.multiSelectable?this.el_.setAttribute("role","menuitemcheckbox"):this.el_.setAttribute("role","menuitemradio"):this.el_.setAttribute("role","menuitem")}createEl(e,n,r){this.nonIconControl=!0;const s=super.createEl("li",Object.assign({className:"vjs-menu-item",tabIndex:-1},n),r),i=bn("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)});return this.player_.options_.experimentalSvgIcons?s.appendChild(i):s.replaceChild(i,s.querySelector(".vjs-icon-placeholder")),s}handleKeyDown(e){["Tab","Escape","ArrowUp","ArrowLeft","ArrowRight","ArrowDown"].includes(e.key)||super.handleKeyDown(e)}handleClick(e){this.selected(!0)}selected(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))}}yt.registerComponent("MenuItem",y0);class b0 extends y0{constructor(e,n){const r=n.track,s=e.textTracks();n.label=r.label||r.language||"Unknown",n.selected=r.mode==="showing",super(e,n),this.track=r,this.kinds=(n.kinds||[n.kind||this.track.kind]).filter(Boolean);const i=(...l)=>{this.handleTracksChange.apply(this,l)},a=(...l)=>{this.handleSelectedLanguageChange.apply(this,l)};if(e.on(["loadstart","texttrackchange"],i),s.addEventListener("change",i),s.addEventListener("selectedlanguagechange",a),this.on("dispose",function(){e.off(["loadstart","texttrackchange"],i),s.removeEventListener("change",i),s.removeEventListener("selectedlanguagechange",a)}),s.onchange===void 0){let l;this.on(["tap","click"],function(){if(typeof De.Event!="object")try{l=new De.Event("change")}catch{}l||(l=Pt.createEvent("Event"),l.initEvent("change",!0,!0)),s.dispatchEvent(l)})}this.handleTracksChange()}handleClick(e){const n=this.track,r=this.player_.textTracks();if(super.handleClick(e),!!r)for(let s=0;s<r.length;s++){const i=r[s];this.kinds.indexOf(i.kind)!==-1&&(i===n?i.mode!=="showing"&&(i.mode="showing"):i.mode!=="disabled"&&(i.mode="disabled"))}}handleTracksChange(e){const n=this.track.mode==="showing";n!==this.isSelected_&&this.selected(n)}handleSelectedLanguageChange(e){if(this.track.mode==="showing"){const n=this.player_.cache_.selectedLanguage;if(n&&n.enabled&&n.language===this.track.language&&n.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}}dispose(){this.track=null,super.dispose()}}yt.registerComponent("TextTrackMenuItem",b0);class P6 extends b0{constructor(e,n){n.track={player:e,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.label?n.track.label=n.label:n.track.label=n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,super(e,n)}handleTracksChange(e){const n=this.player().textTracks();let r=!0;for(let s=0,i=n.length;s<i;s++){const a=n[s];if(this.options_.kinds.indexOf(a.kind)>-1&&a.mode==="showing"){r=!1;break}}r!==this.isSelected_&&this.selected(r)}handleSelectedLanguageChange(e){const n=this.player().textTracks();let r=!0;for(let s=0,i=n.length;s<i;s++){const a=n[s];if(["captions","descriptions","subtitles"].indexOf(a.kind)>-1&&a.mode==="showing"){r=!1;break}}r&&(this.player_.cache_.selectedLanguage={enabled:!1})}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.label),super.handleLanguagechange()}}yt.registerComponent("OffTextTrackMenuItem",P6);class Cp extends Nk{constructor(e,n={}){n.tracks=e.textTracks(),super(e,n)}createItems(e=[],n=b0){let r;this.label_&&(r=`${this.label_} off`),e.push(new P6(this.player_,{kinds:this.kinds_,kind:this.kind_,label:r})),this.hideThreshold_+=1;const s=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(let i=0;i<s.length;i++){const a=s[i];if(this.kinds_.indexOf(a.kind)>-1){const l=new n(this.player_,{track:a,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});l.addClass(`vjs-${a.kind}-menu-item`),e.push(l)}}return e}}yt.registerComponent("TextTrackButton",Cp);class I6 extends y0{constructor(e,n){const r=n.track,s=n.cue,i=e.currentTime();n.selectable=!0,n.multiSelectable=!1,n.label=s.text,n.selected=s.startTime<=i&&i<s.endTime,super(e,n),this.track=r,this.cue=s}handleClick(e){super.handleClick(),this.player_.currentTime(this.cue.startTime)}}yt.registerComponent("ChaptersTrackMenuItem",I6);class Dk extends Cp{constructor(e,n,r){super(e,n,r),this.setIcon("chapters"),this.selectCurrentItem_=()=>{this.items.forEach(s=>{s.selected(this.track_.activeCues[0]===s.cue)})}}buildCSSClass(){return`vjs-chapters-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-chapters-button ${super.buildWrapperCSSClass()}`}update(e){if(e&&e.track&&e.track.kind!=="chapters")return;const n=this.findChaptersTrack();n!==this.track_?(this.setTrack(n),super.update()):(!this.items||n&&n.cues&&n.cues.length!==this.items.length)&&super.update()}setTrack(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){const n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";const n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}}findChaptersTrack(){const e=this.player_.textTracks()||[];for(let n=e.length-1;n>=0;n--){const r=e[n];if(r.kind===this.kind_)return r}}getMenuCaption(){return this.track_&&this.track_.label?this.track_.label:this.localize(qr(this.kind_))}createMenu(){return this.options_.title=this.getMenuCaption(),super.createMenu()}createItems(){const e=[];if(!this.track_)return e;const n=this.track_.cues;if(!n)return e;for(let r=0,s=n.length;r<s;r++){const i=n[r],a=new I6(this.player_,{track:this.track_,cue:i});e.push(a)}return e}}Dk.prototype.kind_="chapters";Dk.prototype.controlText_="Chapters";yt.registerComponent("ChaptersButton",Dk);class Ak extends Cp{constructor(e,n,r){super(e,n,r),this.setIcon("audio-description");const s=e.textTracks(),i=xr(this,this.handleTracksChange);s.addEventListener("change",i),this.on("dispose",function(){s.removeEventListener("change",i)})}handleTracksChange(e){const n=this.player().textTracks();let r=!1;for(let s=0,i=n.length;s<i;s++){const a=n[s];if(a.kind!==this.kind_&&a.mode==="showing"){r=!0;break}}r?this.disable():this.enable()}buildCSSClass(){return`vjs-descriptions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-descriptions-button ${super.buildWrapperCSSClass()}`}}Ak.prototype.kind_="descriptions";Ak.prototype.controlText_="Descriptions";yt.registerComponent("DescriptionsButton",Ak);class Pk extends Cp{constructor(e,n,r){super(e,n,r),this.setIcon("subtitles")}buildCSSClass(){return`vjs-subtitles-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subtitles-button ${super.buildWrapperCSSClass()}`}}Pk.prototype.kind_="subtitles";Pk.prototype.controlText_="Subtitles";yt.registerComponent("SubtitlesButton",Pk);class Ik extends b0{constructor(e,n){n.track={player:e,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,n.name="CaptionSettingsMenuItem",super(e,n),this.addClass("vjs-texttrack-settings"),this.controlText(", opens "+n.kind+" settings dialog")}handleClick(e){this.player().getChild("textTrackSettings").open()}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.kind+" settings"),super.handleLanguagechange()}}yt.registerComponent("CaptionSettingsMenuItem",Ik);class Ok extends Cp{constructor(e,n,r){super(e,n,r),this.setIcon("captions")}buildCSSClass(){return`vjs-captions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-captions-button ${super.buildWrapperCSSClass()}`}createItems(){const e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new Ik(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),super.createItems(e)}}Ok.prototype.kind_="captions";Ok.prototype.controlText_="Captions";yt.registerComponent("CaptionsButton",Ok);class O6 extends b0{createEl(e,n,r){const s=super.createEl(e,n,r),i=s.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(this.player_.options_.experimentalSvgIcons?this.setIcon("captions",s):i.appendChild(bn("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),i.appendChild(bn("span",{className:"vjs-control-text",textContent:` ${this.localize("Captions")}`}))),s}}yt.registerComponent("SubsCapsMenuItem",O6);class Mk extends Cp{constructor(e,n={}){super(e,n),this.label_="subtitles",this.setIcon("subtitles"),["en","en-us","en-ca","fr-ca"].indexOf(this.player_.language_)>-1&&(this.label_="captions",this.setIcon("captions")),this.menuButton_.controlText(qr(this.label_))}buildCSSClass(){return`vjs-subs-caps-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subs-caps-button ${super.buildWrapperCSSClass()}`}createItems(){let e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new Ik(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=super.createItems(e,O6),e}}Mk.prototype.kinds_=["captions","subtitles"];Mk.prototype.controlText_="Subtitles";yt.registerComponent("SubsCapsButton",Mk);class M6 extends y0{constructor(e,n){const r=n.track,s=e.audioTracks();n.label=r.label||r.language||"Unknown",n.selected=r.enabled,super(e,n),this.track=r,this.addClass(`vjs-${r.kind}-menu-item`);const i=(...a)=>{this.handleTracksChange.apply(this,a)};s.addEventListener("change",i),this.on("dispose",()=>{s.removeEventListener("change",i)})}createEl(e,n,r){const s=super.createEl(e,n,r),i=s.querySelector(".vjs-menu-item-text");return["main-desc","descriptions"].indexOf(this.options_.track.kind)>=0&&(i.appendChild(bn("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),i.appendChild(bn("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),s}handleClick(e){if(super.handleClick(e),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks){const n=this.player_.audioTracks();for(let r=0;r<n.length;r++){const s=n[r];s!==this.track&&(s.enabled=s===this.track)}}}handleTracksChange(e){this.selected(this.track.enabled)}}yt.registerComponent("AudioTrackMenuItem",M6);class R6 extends Nk{constructor(e,n={}){n.tracks=e.audioTracks(),super(e,n),this.setIcon("audio")}buildCSSClass(){return`vjs-audio-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-audio-button ${super.buildWrapperCSSClass()}`}createItems(e=[]){this.hideThreshold_=1;const n=this.player_.audioTracks();for(let r=0;r<n.length;r++){const s=n[r];e.push(new M6(this.player_,{track:s,selectable:!0,multiSelectable:!1}))}return e}}R6.prototype.controlText_="Audio Track";yt.registerComponent("AudioTrackButton",R6);class Rk extends y0{constructor(e,n){const r=n.rate,s=parseFloat(r,10);n.label=r,n.selected=s===e.playbackRate(),n.selectable=!0,n.multiSelectable=!1,super(e,n),this.label=r,this.rate=s,this.on(e,"ratechange",i=>this.update(i))}handleClick(e){super.handleClick(),this.player().playbackRate(this.rate)}update(e){this.selected(this.player().playbackRate()===this.rate)}}Rk.prototype.contentElType="button";yt.registerComponent("PlaybackRateMenuItem",Rk);class L6 extends jk{constructor(e,n){super(e,n),this.menuButton_.el_.setAttribute("aria-describedby",this.labelElId_),this.updateVisibility(),this.updateLabel(),this.on(e,"loadstart",r=>this.updateVisibility(r)),this.on(e,"ratechange",r=>this.updateLabel(r)),this.on(e,"playbackrateschange",r=>this.handlePlaybackRateschange(r))}createEl(){const e=super.createEl();return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=bn("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),e.appendChild(this.labelEl_),e}dispose(){this.labelEl_=null,super.dispose()}buildCSSClass(){return`vjs-playback-rate ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-playback-rate ${super.buildWrapperCSSClass()}`}createItems(){const e=this.playbackRates(),n=[];for(let r=e.length-1;r>=0;r--)n.push(new Rk(this.player(),{rate:e[r]+"x"}));return n}handlePlaybackRateschange(e){this.update()}playbackRates(){const e=this.player();return e.playbackRates&&e.playbackRates()||[]}playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0}updateVisibility(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")}updateLabel(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")}}L6.prototype.controlText_="Playback Rate";yt.registerComponent("PlaybackRateMenuButton",L6);class F6 extends yt{buildCSSClass(){return`vjs-spacer ${super.buildCSSClass()}`}createEl(e="div",n={},r={}){return n.className||(n.className=this.buildCSSClass()),super.createEl(e,n,r)}}yt.registerComponent("Spacer",F6);class Wce extends F6{buildCSSClass(){return`vjs-custom-control-spacer ${super.buildCSSClass()}`}createEl(){return super.createEl("div",{className:this.buildCSSClass(),textContent:""})}}yt.registerComponent("CustomControlSpacer",Wce);class B6 extends yt{createEl(){return super.createEl("div",{className:"vjs-control-bar",dir:"ltr"})}}B6.prototype.options_={children:["playToggle","skipBackward","skipForward","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","pictureInPictureToggle","fullscreenToggle"]};yt.registerComponent("ControlBar",B6);class $6 extends wp{constructor(e,n){super(e,n),this.on(e,"error",r=>{this.open(r)})}buildCSSClass(){return`vjs-error-display ${super.buildCSSClass()}`}content(){const e=this.player().error();return e?this.localize(e.message):""}}$6.prototype.options_=Object.assign({},wp.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});yt.registerComponent("ErrorDisplay",$6);class z6 extends yt{constructor(e,n={}){super(e,n),this.el_.setAttribute("aria-labelledby",this.selectLabelledbyIds)}createEl(){return this.selectLabelledbyIds=[this.options_.legendId,this.options_.labelId].join(" ").trim(),bn("select",{id:this.options_.id},{},this.options_.SelectOptions.map(n=>{const r=(this.options_.labelId?this.options_.labelId:`vjs-track-option-${Qa()}`)+"-"+n[1].replace(/\W+/g,""),s=bn("option",{id:r,value:this.localize(n[0]),textContent:this.localize(n[1])});return s.setAttribute("aria-labelledby",`${this.selectLabelledbyIds} ${r}`),s}))}}yt.registerComponent("TextTrackSelect",z6);class Hd extends yt{constructor(e,n={}){super(e,n);const r=bn("legend",{textContent:this.localize(this.options_.legendText),id:this.options_.legendId});this.el().appendChild(r);const s=this.options_.selects;for(const i of s){const a=this.options_.selectConfigs[i],l=a.className,c=a.id.replace("%s",this.options_.id_);let u=null;const h=`vjs_select_${Qa()}`;if(this.options_.type==="colors"){u=bn("span",{className:l});const m=bn("label",{id:c,className:"vjs-label",textContent:this.localize(a.label)});m.setAttribute("for",h),u.appendChild(m)}const f=new z6(e,{SelectOptions:a.options,legendId:this.options_.legendId,id:h,labelId:c});this.addChild(f),this.options_.type==="colors"&&(u.appendChild(f.el()),this.el().appendChild(u))}}createEl(){return bn("fieldset",{className:this.options_.className})}}yt.registerComponent("TextTrackFieldset",Hd);class U6 extends yt{constructor(e,n={}){super(e,n);const r=this.options_.textTrackComponentid,s=new Hd(e,{id_:r,legendId:`captions-text-legend-${r}`,legendText:this.localize("Text"),className:"vjs-fg vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(s);const i=new Hd(e,{id_:r,legendId:`captions-background-${r}`,legendText:this.localize("Text Background"),className:"vjs-bg vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(i);const a=new Hd(e,{id_:r,legendId:`captions-window-${r}`,legendText:this.localize("Caption Area Background"),className:"vjs-window vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(a)}createEl(){return bn("div",{className:"vjs-track-settings-colors"})}}yt.registerComponent("TextTrackSettingsColors",U6);class H6 extends yt{constructor(e,n={}){super(e,n);const r=this.options_.textTrackComponentid,s=new Hd(e,{id_:r,legendId:`captions-font-size-${r}`,legendText:"Font Size",className:"vjs-font-percent vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(s);const i=new Hd(e,{id_:r,legendId:`captions-edge-style-${r}`,legendText:this.localize("Text Edge Style"),className:"vjs-edge-style vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(i);const a=new Hd(e,{id_:r,legendId:`captions-font-family-${r}`,legendText:this.localize("Font Family"),className:"vjs-font-family vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(a)}createEl(){return bn("div",{className:"vjs-track-settings-font"})}}yt.registerComponent("TextTrackSettingsFont",H6);class W6 extends yt{constructor(e,n={}){super(e,n);const r=new ei(e,{controlText:this.localize("restore all settings to the default values"),className:"vjs-default-button"});r.el().classList.remove("vjs-control","vjs-button"),r.el().textContent=this.localize("Reset"),this.addChild(r);const s=this.localize("Done"),i=new ei(e,{controlText:s,className:"vjs-done-button"});i.el().classList.remove("vjs-control","vjs-button"),i.el().textContent=s,this.addChild(i)}createEl(){return bn("div",{className:"vjs-track-settings-controls"})}}yt.registerComponent("TrackSettingsControls",W6);const Iw="vjs-text-track-settings",w5=["#000","Black"],S5=["#00F","Blue"],C5=["#0FF","Cyan"],T5=["#0F0","Green"],k5=["#F0F","Magenta"],E5=["#F00","Red"],j5=["#FFF","White"],N5=["#FF0","Yellow"],Ow=["1","Opaque"],Mw=["0.5","Semi-Transparent"],D5=["0","Transparent"],hu={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[w5,j5,E5,T5,S5,N5,k5,C5],className:"vjs-bg-color"},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Opacity",options:[Ow,Mw,D5],className:"vjs-bg-opacity vjs-opacity"},color:{selector:".vjs-text-color > select",id:"captions-foreground-color-%s",label:"Color",options:[j5,w5,E5,T5,S5,N5,k5,C5],className:"vjs-text-color"},edgeStyle:{selector:".vjs-edge-style > select",id:"",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Drop shadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:t=>t==="1.00"?null:Number(t)},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Opacity",options:[Ow,Mw],className:"vjs-text-opacity vjs-opacity"},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color",className:"vjs-window-color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Opacity",options:[D5,Mw,Ow],className:"vjs-window-opacity vjs-opacity"}};hu.windowColor.options=hu.backgroundColor.options;function V6(t,e){if(e&&(t=e(t)),t&&t!=="none")return t}function Vce(t,e){const n=t.options[t.options.selectedIndex].value;return V6(n,e)}function qce(t,e,n){if(e){for(let r=0;r<t.options.length;r++)if(V6(t.options[r].value,n)===e){t.selectedIndex=r;break}}}class Yce extends wp{constructor(e,n){n.temporary=!1,super(e,n),this.updateDisplay=this.updateDisplay.bind(this),this.fill(),this.hasBeenOpened_=this.hasBeenFilled_=!0,this.renderModalComponents(e),this.endDialog=bn("p",{className:"vjs-control-text",textContent:this.localize("End of dialog window.")}),this.el().appendChild(this.endDialog),this.setDefaults(),n.persistTextTrackSettings===void 0&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings),this.bindFunctionsToSelectsAndButtons(),this.options_.persistTextTrackSettings&&this.restoreSettings()}renderModalComponents(e){const n=new U6(e,{textTrackComponentid:this.id_,selectConfigs:hu,fieldSets:[["color","textOpacity"],["backgroundColor","backgroundOpacity"],["windowColor","windowOpacity"]]});this.addChild(n);const r=new H6(e,{textTrackComponentid:this.id_,selectConfigs:hu,fieldSets:[["fontPercent"],["edgeStyle"],["fontFamily"]]});this.addChild(r);const s=new W6(e);this.addChild(s)}bindFunctionsToSelectsAndButtons(){this.on(this.$(".vjs-done-button"),["click","tap"],()=>{this.saveSettings(),this.close()}),this.on(this.$(".vjs-default-button"),["click","tap"],()=>{this.setDefaults(),this.updateDisplay()}),Ef(hu,e=>{this.on(this.$(e.selector),"change",this.updateDisplay)})}dispose(){this.endDialog=null,super.dispose()}label(){return this.localize("Caption Settings Dialog")}description(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")}buildCSSClass(){return super.buildCSSClass()+" vjs-text-track-settings"}getValues(){return OL(hu,(e,n,r)=>{const s=Vce(this.$(n.selector),n.parser);return s!==void 0&&(e[r]=s),e},{})}setValues(e){Ef(hu,(n,r)=>{qce(this.$(n.selector),e[r],n.parser)})}setDefaults(){Ef(hu,e=>{const n=e.hasOwnProperty("default")?e.default:0;this.$(e.selector).selectedIndex=n})}restoreSettings(){let e;try{e=JSON.parse(De.localStorage.getItem(Iw))}catch(n){In.warn(n)}e&&this.setValues(e)}saveSettings(){if(!this.options_.persistTextTrackSettings)return;const e=this.getValues();try{Object.keys(e).length?De.localStorage.setItem(Iw,JSON.stringify(e)):De.localStorage.removeItem(Iw)}catch(n){In.warn(n)}}updateDisplay(){const e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()}handleLanguagechange(){this.fill(),this.renderModalComponents(this.player_),this.bindFunctionsToSelectsAndButtons()}}yt.registerComponent("TextTrackSettings",Yce);class Gce extends yt{constructor(e,n){let r=n.ResizeObserver||De.ResizeObserver;n.ResizeObserver===null&&(r=!1);const s=hr({createEl:!r,reportTouchActivity:!1},n);super(e,s),this.ResizeObserver=n.ResizeObserver||De.ResizeObserver,this.loadListener_=null,this.resizeObserver_=null,this.debouncedHandler_=r6(()=>{this.resizeHandler()},100,!1,this),r?(this.resizeObserver_=new this.ResizeObserver(this.debouncedHandler_),this.resizeObserver_.observe(e.el())):(this.loadListener_=()=>{if(!this.el_||!this.el_.contentWindow)return;const i=this.debouncedHandler_;let a=this.unloadListener_=function(){Js(this,"resize",i),Js(this,"unload",a),a=null};pa(this.el_.contentWindow,"unload",a),pa(this.el_.contentWindow,"resize",i)},this.one("load",this.loadListener_))}createEl(){return super.createEl("iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})}resizeHandler(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")}dispose(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,super.dispose()}}yt.registerComponent("ResizeManager",Gce);const Kce={trackingThreshold:20,liveTolerance:15};class Xce extends yt{constructor(e,n){const r=hr(Kce,n,{createEl:!1});super(e,r),this.trackLiveHandler_=()=>this.trackLive_(),this.handlePlay_=s=>this.handlePlay(s),this.handleFirstTimeupdate_=s=>this.handleFirstTimeupdate(s),this.handleSeeked_=s=>this.handleSeeked(s),this.seekToLiveEdge_=s=>this.seekToLiveEdge(s),this.reset_(),this.on(this.player_,"durationchange",s=>this.handleDurationchange(s)),this.on(this.player_,"canplay",()=>this.toggleTracking())}trackLive_(){const e=this.player_.seekable();if(!e||!e.length)return;const n=Number(De.performance.now().toFixed(4)),r=this.lastTime_===-1?0:(n-this.lastTime_)/1e3;this.lastTime_=n,this.pastSeekEnd_=this.pastSeekEnd()+r;const s=this.liveCurrentTime(),i=this.player_.currentTime();let a=this.player_.paused()||this.seekedBehindLive_||Math.abs(s-i)>this.options_.liveTolerance;(!this.timeupdateSeen_||s===1/0)&&(a=!1),a!==this.behindLiveEdge_&&(this.behindLiveEdge_=a,this.trigger("liveedgechange"))}handleDurationchange(){this.toggleTracking()}toggleTracking(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())}startTracking(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,Za),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))}handleFirstTimeupdate(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)}handleSeeked(){const e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()}handlePlay(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)}reset_(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)}nextSeekedFromUser(){this.nextSeekedFromUser_=!0}stopTracking(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))}seekableEnd(){const e=this.player_.seekable(),n=[];let r=e?e.length:0;for(;r--;)n.push(e.end(r));return n.length?n.sort()[n.length-1]:1/0}seekableStart(){const e=this.player_.seekable(),n=[];let r=e?e.length:0;for(;r--;)n.push(e.start(r));return n.length?n.sort()[0]:0}liveWindow(){const e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()}isLive(){return this.isTracking()}atLiveEdge(){return!this.behindLiveEdge()}liveCurrentTime(){return this.pastSeekEnd()+this.seekableEnd()}pastSeekEnd(){const e=this.seekableEnd();return this.lastSeekEnd_!==-1&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_}behindLiveEdge(){return this.behindLiveEdge_}isTracking(){return typeof this.trackingInterval_=="number"}seekToLiveEdge(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))}dispose(){this.stopTracking(),super.dispose()}}yt.registerComponent("LiveTracker",Xce);class Qce extends yt{constructor(e,n){super(e,n),this.on("statechanged",r=>this.updateDom_()),this.updateDom_()}createEl(){return this.els={title:bn("div",{className:"vjs-title-bar-title",id:`vjs-title-bar-title-${Qa()}`}),description:bn("div",{className:"vjs-title-bar-description",id:`vjs-title-bar-description-${Qa()}`})},bn("div",{className:"vjs-title-bar"},{},ML(this.els))}updateDom_(){const e=this.player_.tech_,n=e&&e.el_,r={title:"aria-labelledby",description:"aria-describedby"};["title","description"].forEach(s=>{const i=this.state[s],a=this.els[s],l=r[s];Hv(a),i&&Lu(a,i),n&&(n.removeAttribute(l),i&&n.setAttribute(l,a.id))}),this.state.title||this.state.description?this.show():this.hide()}update(e){this.setState(e)}dispose(){const e=this.player_.tech_,n=e&&e.el_;n&&(n.removeAttribute("aria-labelledby"),n.removeAttribute("aria-describedby")),super.dispose(),this.els=null}}yt.registerComponent("TitleBar",Qce);const Zce={initialDisplay:4e3,position:[],takeFocus:!1};class Jce extends ei{constructor(e,n){n=hr(Zce,n),super(e,n),this.controlText(n.controlText),this.hide(),this.on(this.player_,["useractive","userinactive"],r=>{this.removeClass("force-display")})}buildCSSClass(){return`vjs-transient-button focus-visible ${this.options_.position.map(e=>`vjs-${e}`).join(" ")}`}createEl(){const e=bn("button",{},{type:"button",class:this.buildCSSClass()},bn("span"));return this.controlTextEl_=e.querySelector("span"),e}show(){super.show(),this.addClass("force-display"),this.options_.takeFocus&&this.el().focus({preventScroll:!0}),this.forceDisplayTimeout=this.player_.setTimeout(()=>{this.removeClass("force-display")},this.options_.initialDisplay)}hide(){this.removeClass("force-display"),super.hide()}dispose(){this.player_.clearTimeout(this.forceDisplayTimeout),super.dispose()}}yt.registerComponent("TransientButton",Jce);const DS=t=>{const e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),!0;const n=t.$$("source"),r=[];let s="";if(!n.length)return!1;for(let i=0;i<n.length;i++){const a=n[i].src;a&&r.indexOf(a)===-1&&r.push(a)}return r.length?(r.length===1&&(s=r[0]),t.triggerSourceset(s),!0):!1},eue=Object.defineProperty({},"innerHTML",{get(){return this.cloneNode(!0).innerHTML},set(t){const e=Pt.createElement(this.nodeName.toLowerCase());e.innerHTML=t;const n=Pt.createDocumentFragment();for(;e.childNodes.length;)n.appendChild(e.childNodes[0]);return this.innerText="",De.Element.prototype.appendChild.call(this,n),this.innerHTML}}),q6=(t,e)=>{let n={};for(let r=0;r<t.length&&(n=Object.getOwnPropertyDescriptor(t[r],e),!(n&&n.set&&n.get));r++);return n.enumerable=!0,n.configurable=!0,n},tue=t=>q6([t.el(),De.HTMLMediaElement.prototype,De.Element.prototype,eue],"innerHTML"),A5=function(t){const e=t.el();if(e.resetSourceWatch_)return;const n={},r=tue(t),s=i=>(...a)=>{const l=i.apply(e,a);return DS(t),l};["append","appendChild","insertAdjacentHTML"].forEach(i=>{e[i]&&(n[i]=e[i],e[i]=s(n[i]))}),Object.defineProperty(e,"innerHTML",hr(r,{set:s(r.set)})),e.resetSourceWatch_=()=>{e.resetSourceWatch_=null,Object.keys(n).forEach(i=>{e[i]=n[i]}),Object.defineProperty(e,"innerHTML",r)},t.one("sourceset",e.resetSourceWatch_)},nue=Object.defineProperty({},"src",{get(){return this.hasAttribute("src")?p6(De.Element.prototype.getAttribute.call(this,"src")):""},set(t){return De.Element.prototype.setAttribute.call(this,"src",t),t}}),rue=t=>q6([t.el(),De.HTMLMediaElement.prototype,nue],"src"),sue=function(t){if(!t.featuresSourceset)return;const e=t.el();if(e.resetSourceset_)return;const n=rue(t),r=e.setAttribute,s=e.load;Object.defineProperty(e,"src",hr(n,{set:i=>{const a=n.set.call(e,i);return t.triggerSourceset(e.src),a}})),e.setAttribute=(i,a)=>{const l=r.call(e,i,a);return/src/i.test(i)&&t.triggerSourceset(e.src),l},e.load=()=>{const i=s.call(e);return DS(t)||(t.triggerSourceset(""),A5(t)),i},e.currentSrc?t.triggerSourceset(e.currentSrc):DS(t)||A5(t),e.resetSourceset_=()=>{e.resetSourceset_=null,e.load=s,e.setAttribute=r,Object.defineProperty(e,"src",n),e.resetSourceWatch_&&e.resetSourceWatch_()}};class qt extends kn{constructor(e,n){super(e,n);const r=e.source;let s=!1;if(this.featuresVideoFrameCallback=this.featuresVideoFrameCallback&&this.el_.tagName==="VIDEO",r&&(this.el_.currentSrc!==r.src||e.tag&&e.tag.initNetworkState_===3)?this.setSource(r):this.handleLateInit_(this.el_),e.enableSourceset&&this.setupSourcesetHandling_(),this.isScrubbing_=!1,this.el_.hasChildNodes()){const i=this.el_.childNodes;let a=i.length;const l=[];for(;a--;){const c=i[a];c.nodeName.toLowerCase()==="track"&&(this.featuresNativeTextTracks?(this.remoteTextTrackEls().addTrackElement_(c),this.remoteTextTracks().addTrack(c.track),this.textTracks().addTrack(c.track),!s&&!this.el_.hasAttribute("crossorigin")&&Yv(c.src)&&(s=!0)):l.push(c))}for(let c=0;c<l.length;c++)this.el_.removeChild(l[c])}this.proxyNativeTracks_(),this.featuresNativeTextTracks&&s&&In.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),this.restoreMetadataTracksInIOSNativePlayer_(),(Ag||Fv)&&e.nativeControlsForTouch===!0&&this.setControls(!0),this.proxyWebkitFullscreen_(),this.triggerReady()}dispose(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),qt.disposeMediaElement(this.el_),this.options_=null,super.dispose()}setupSourcesetHandling_(){sue(this)}restoreMetadataTracksInIOSNativePlayer_(){const e=this.textTracks();let n;const r=()=>{n=[];for(let i=0;i<e.length;i++){const a=e[i];a.kind==="metadata"&&n.push({track:a,storedMode:a.mode})}};r(),e.addEventListener("change",r),this.on("dispose",()=>e.removeEventListener("change",r));const s=()=>{for(let i=0;i<n.length;i++){const a=n[i];a.track.mode==="disabled"&&a.track.mode!==a.storedMode&&(a.track.mode=a.storedMode)}e.removeEventListener("change",s)};this.on("webkitbeginfullscreen",()=>{e.removeEventListener("change",r),e.removeEventListener("change",s),e.addEventListener("change",s)}),this.on("webkitendfullscreen",()=>{e.removeEventListener("change",r),e.addEventListener("change",r),e.removeEventListener("change",s)})}overrideNative_(e,n){if(n!==this[`featuresNative${e}Tracks`])return;const r=e.toLowerCase();this[`${r}TracksListeners_`]&&Object.keys(this[`${r}TracksListeners_`]).forEach(s=>{this.el()[`${r}Tracks`].removeEventListener(s,this[`${r}TracksListeners_`][s])}),this[`featuresNative${e}Tracks`]=!n,this[`${r}TracksListeners_`]=null,this.proxyNativeTracksForType_(r)}overrideNativeAudioTracks(e){this.overrideNative_("Audio",e)}overrideNativeVideoTracks(e){this.overrideNative_("Video",e)}proxyNativeTracksForType_(e){const n=qa[e],r=this.el()[n.getterName],s=this[n.getterName]();if(!this[`featuresNative${n.capitalName}Tracks`]||!r||!r.addEventListener)return;const i={change:l=>{const c={type:"change",target:s,currentTarget:s,srcElement:s};s.trigger(c),e==="text"&&this[ep.remoteText.getterName]().trigger(c)},addtrack(l){s.addTrack(l.track)},removetrack(l){s.removeTrack(l.track)}},a=function(){const l=[];for(let c=0;c<s.length;c++){let u=!1;for(let h=0;h<r.length;h++)if(r[h]===s[c]){u=!0;break}u||l.push(s[c])}for(;l.length;)s.removeTrack(l.shift())};this[n.getterName+"Listeners_"]=i,Object.keys(i).forEach(l=>{const c=i[l];r.addEventListener(l,c),this.on("dispose",u=>r.removeEventListener(l,c))}),this.on("loadstart",a),this.on("dispose",l=>this.off("loadstart",a))}proxyNativeTracks_(){qa.names.forEach(e=>{this.proxyNativeTracksForType_(e)})}createEl(){let e=this.options_.tag;if(!e||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(e){const r=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(r,e),qt.disposeMediaElement(e),e=r}else{e=Pt.createElement("video");const r=this.options_.tag&&du(this.options_.tag),s=hr({},r);(!Ag||this.options_.nativeControlsForTouch!==!0)&&delete s.controls,WL(e,Object.assign(s,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&Qf(e,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);const n=["loop","muted","playsinline","autoplay"];for(let r=0;r<n.length;r++){const s=n[r],i=this.options_[s];typeof i<"u"&&(i?Qf(e,s,s):zv(e,s),e[s]=i)}return e}handleLateInit_(e){if(e.networkState===0||e.networkState===3)return;if(e.readyState===0){let r=!1;const s=function(){r=!0};this.on("loadstart",s);const i=function(){r||this.trigger("loadstart")};this.on("loadedmetadata",i),this.ready(function(){this.off("loadstart",s),this.off("loadedmetadata",i),r||this.trigger("loadstart")});return}const n=["loadstart"];n.push("loadedmetadata"),e.readyState>=2&&n.push("loadeddata"),e.readyState>=3&&n.push("canplay"),e.readyState>=4&&n.push("canplaythrough"),this.ready(function(){n.forEach(function(r){this.trigger(r)},this)})}setScrubbing(e){this.isScrubbing_=e}scrubbing(){return this.isScrubbing_}setCurrentTime(e){try{this.isScrubbing_&&this.el_.fastSeek&&Bv?this.el_.fastSeek(e):this.el_.currentTime=e}catch(n){In(n,"Video is not ready. (Video.js)")}}duration(){if(this.el_.duration===1/0&&Ao&&kl&&this.el_.currentTime===0){const e=()=>{this.el_.currentTime>0&&(this.el_.duration===1/0&&this.trigger("durationchange"),this.off("timeupdate",e))};return this.on("timeupdate",e),NaN}return this.el_.duration||NaN}width(){return this.el_.offsetWidth}height(){return this.el_.offsetHeight}proxyWebkitFullscreen_(){if(!("webkitDisplayingFullscreen"in this.el_))return;const e=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},n=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",()=>{this.off("webkitbeginfullscreen",n),this.off("webkitendfullscreen",e)})}supportsFullScreen(){return typeof this.el_.webkitEnterFullScreen=="function"}enterFullScreen(){const e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)ml(this.el_.play()),this.setTimeout(function(){e.pause();try{e.webkitEnterFullScreen()}catch(n){this.trigger("fullscreenerror",n)}},0);else try{e.webkitEnterFullScreen()}catch(n){this.trigger("fullscreenerror",n)}}exitFullScreen(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()}requestPictureInPicture(){return this.el_.requestPictureInPicture()}requestVideoFrameCallback(e){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(e):super.requestVideoFrameCallback(e)}cancelVideoFrameCallback(e){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(e):super.cancelVideoFrameCallback(e)}src(e){if(e===void 0)return this.el_.src;this.setSrc(e)}addSourceElement(e,n){if(!e)return In.error("Invalid source URL."),!1;const r={src:e};n&&(r.type=n);const s=bn("source",{},r);return this.el_.appendChild(s),!0}removeSourceElement(e){if(!e)return In.error("Source URL is required to remove the source element."),!1;const n=this.el_.querySelectorAll("source");for(const r of n)if(r.src===e)return this.el_.removeChild(r),!0;return In.warn(`No matching source element found with src: ${e}`),!1}reset(){qt.resetMediaElement(this.el_)}currentSrc(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc}setControls(e){this.el_.controls=!!e}addTextTrack(e,n,r){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,n,r):super.addTextTrack(e,n,r)}createRemoteTextTrack(e){if(!this.featuresNativeTextTracks)return super.createRemoteTextTrack(e);const n=Pt.createElement("track");return e.kind&&(n.kind=e.kind),e.label&&(n.label=e.label),(e.language||e.srclang)&&(n.srclang=e.language||e.srclang),e.default&&(n.default=e.default),e.id&&(n.id=e.id),e.src&&(n.src=e.src),n}addRemoteTextTrack(e,n){const r=super.addRemoteTextTrack(e,n);return this.featuresNativeTextTracks&&this.el().appendChild(r),r}removeRemoteTextTrack(e){if(super.removeRemoteTextTrack(e),this.featuresNativeTextTracks){const n=this.$$("track");let r=n.length;for(;r--;)(e===n[r]||e===n[r].track)&&this.el().removeChild(n[r])}}getVideoPlaybackQuality(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();const e={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),De.performance&&(e.creationTime=De.performance.now()),e}}Mv(qt,"TEST_VID",function(){if(!xp())return;const t=Pt.createElement("video"),e=Pt.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",t.appendChild(e),t});qt.isSupported=function(){try{qt.TEST_VID.volume=.5}catch{return!1}return!!(qt.TEST_VID&&qt.TEST_VID.canPlayType)};qt.canPlayType=function(t){return qt.TEST_VID.canPlayType(t)};qt.canPlaySource=function(t,e){return qt.canPlayType(t.type)};qt.canControlVolume=function(){try{const t=qt.TEST_VID.volume;qt.TEST_VID.volume=t/2+.1;const e=t!==qt.TEST_VID.volume;return e&&Zs?(De.setTimeout(()=>{qt&&qt.prototype&&(qt.prototype.featuresVolumeControl=t!==qt.TEST_VID.volume)}),!1):e}catch{return!1}};qt.canMuteVolume=function(){try{const t=qt.TEST_VID.muted;return qt.TEST_VID.muted=!t,qt.TEST_VID.muted?Qf(qt.TEST_VID,"muted","muted"):zv(qt.TEST_VID,"muted","muted"),t!==qt.TEST_VID.muted}catch{return!1}};qt.canControlPlaybackRate=function(){if(Ao&&kl&&Rv<58)return!1;try{const t=qt.TEST_VID.playbackRate;return qt.TEST_VID.playbackRate=t/2+.1,t!==qt.TEST_VID.playbackRate}catch{return!1}};qt.canOverrideAttributes=function(){try{const t=()=>{};Object.defineProperty(Pt.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(Pt.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(Pt.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(Pt.createElement("audio"),"innerHTML",{get:t,set:t})}catch{return!1}return!0};qt.supportsNativeTextTracks=function(){return Bv||Zs&&kl};qt.supportsNativeVideoTracks=function(){return!!(qt.TEST_VID&&qt.TEST_VID.videoTracks)};qt.supportsNativeAudioTracks=function(){return!!(qt.TEST_VID&&qt.TEST_VID.audioTracks)};qt.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function([t,e]){Mv(qt.prototype,t,()=>qt[e](),!0)});qt.prototype.featuresVolumeControl=qt.canControlVolume();qt.prototype.movingMediaElementInDOM=!Zs;qt.prototype.featuresFullscreenResize=!0;qt.prototype.featuresProgressEvents=!0;qt.prototype.featuresTimeupdateEvents=!0;qt.prototype.featuresVideoFrameCallback=!!(qt.TEST_VID&&qt.TEST_VID.requestVideoFrameCallback);qt.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()}};qt.resetMediaElement=function(t){if(!t)return;const e=t.querySelectorAll("source");let n=e.length;for(;n--;)t.removeChild(e[n]);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){qt.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){qt.prototype["set"+qr(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(t){qt.prototype[t]=function(){return this.el_[t]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(t){qt.prototype["set"+qr(t)]=function(e){this.el_[t]=e}});["pause","load","play"].forEach(function(t){qt.prototype[t]=function(){return this.el_[t]()}});kn.withSourceHandlers(qt);qt.nativeSourceHandler={};qt.nativeSourceHandler.canPlayType=function(t){try{return qt.TEST_VID.canPlayType(t)}catch{return""}};qt.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return qt.nativeSourceHandler.canPlayType(t.type);if(t.src){const n=_k(t.src);return qt.nativeSourceHandler.canPlayType(`video/${n}`)}return""};qt.nativeSourceHandler.handleSource=function(t,e,n){e.setSrc(t.src)};qt.nativeSourceHandler.dispose=function(){};qt.registerSourceHandler(qt.nativeSourceHandler);kn.registerTech("Html5",qt);const Y6=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Rw={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},AS=["tiny","xsmall","small","medium","large","xlarge","huge"],bb={};AS.forEach(t=>{const e=t.charAt(0)==="x"?`x-${t.substring(1)}`:t;bb[t]=`vjs-layout-${e}`});const iue={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0};class sr extends yt{constructor(e,n,r){if(e.id=e.id||n.id||`vjs_video_${Qa()}`,n=Object.assign(sr.getTagSettings(e),n),n.initChildren=!1,n.createEl=!1,n.evented=!1,n.reportTouchActivity=!1,!n.language){const a=e.closest("[lang]");a&&(n.language=a.getAttribute("lang"))}if(super(null,n,r),this.boundDocumentFullscreenChange_=a=>this.documentFullscreenChange_(a),this.boundFullWindowOnEscKey_=a=>this.fullWindowOnEscKey(a),this.boundUpdateStyleEl_=a=>this.updateStyleEl_(a),this.boundApplyInitTime_=a=>this.applyInitTime_(a),this.boundUpdateCurrentBreakpoint_=a=>this.updateCurrentBreakpoint_(a),this.boundHandleTechClick_=a=>this.handleTechClick_(a),this.boundHandleTechDoubleClick_=a=>this.handleTechDoubleClick_(a),this.boundHandleTechTouchStart_=a=>this.handleTechTouchStart_(a),this.boundHandleTechTouchMove_=a=>this.handleTechTouchMove_(a),this.boundHandleTechTouchEnd_=a=>this.handleTechTouchEnd_(a),this.boundHandleTechTap_=a=>this.handleTechTap_(a),this.boundUpdatePlayerHeightOnAudioOnlyMode_=a=>this.updatePlayerHeightOnAudioOnlyMode_(a),this.isFullscreen_=!1,this.log=PL(this.id_),this.fsApi_=tx,this.isPosterFromTech_=!1,this.queuedCallbacks_=[],this.isReady_=!1,this.hasStarted_=!1,this.userActive_=!1,this.debugEnabled_=!1,this.audioOnlyMode_=!1,this.audioPosterMode_=!1,this.audioOnlyCache_={controlBarHeight:null,playerHeight:null,hiddenChildren:[]},!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(this.tag=e,this.tagAttributes=e&&du(e),this.language(this.options_.language),n.languages){const a={};Object.getOwnPropertyNames(n.languages).forEach(function(l){a[l.toLowerCase()]=n.languages[l]}),this.languages_=a}else this.languages_=sr.prototype.options_.languages;this.resetCache_(),this.poster_=n.poster||"",this.controls_=!!n.controls,e.controls=!1,e.removeAttribute("controls"),this.changingSrc_=!1,this.playCallbacks_=[],this.playTerminatedQueue_=[],e.hasAttribute("autoplay")?this.autoplay(!0):this.autoplay(this.options_.autoplay),n.plugins&&Object.keys(n.plugins).forEach(a=>{if(typeof this[a]!="function")throw new Error(`plugin "${a}" does not exist`)}),this.scrubbing_=!1,this.el_=this.createEl(),gk(this,{eventBusKey:"el_"}),this.fsApi_.requestFullscreen&&(pa(Pt,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.on(this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_)),this.fluid_&&this.on(["playerreset","resize"],this.boundUpdateStyleEl_);const s=hr(this.options_);if(n.plugins&&Object.keys(n.plugins).forEach(a=>{this[a](n.plugins[a])}),n.debug&&this.debug(!0),this.options_.playerOptions=s,this.middleware_=[],this.playbackRates(n.playbackRates),n.experimentalSvgIcons){const l=new De.DOMParser().parseFromString(jce,"image/svg+xml");if(l.querySelector("parsererror"))In.warn("Failed to load SVG Icons. Falling back to Font Icons."),this.options_.experimentalSvgIcons=null;else{const u=l.documentElement;u.style.display="none",this.el_.appendChild(u),this.addClass("vjs-svg-icons-enabled")}}this.initChildren(),this.isAudio(e.nodeName.toLowerCase()==="audio"),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.el_.setAttribute("role","region"),this.isAudio()?this.el_.setAttribute("aria-label",this.localize("Audio Player")):this.el_.setAttribute("aria-label",this.localize("Video Player")),this.isAudio()&&this.addClass("vjs-audio"),n.spatialNavigation&&n.spatialNavigation.enabled&&(this.spatialNavigation=new Nce(this),this.addClass("vjs-spatial-navigation-enabled")),Ag&&this.addClass("vjs-touch-enabled"),Zs||this.addClass("vjs-workinghover"),sr.players[this.id_]=this;const i=vS.split(".")[0];this.addClass(`vjs-v${i}`),this.userActive(!0),this.reportUserActivity(),this.one("play",a=>this.listenForUserActivity_(a)),this.on("keydown",a=>this.handleKeyDown(a)),this.on("languagechange",a=>this.handleLanguagechange(a)),this.breakpoints(this.options_.breakpoints),this.responsive(this.options_.responsive),this.on("ready",()=>{this.audioPosterMode(this.options_.audioPosterMode),this.audioOnlyMode(this.options_.audioOnlyMode)})}dispose(){this.trigger("dispose"),this.off("dispose"),Js(Pt,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),Js(Pt,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),sr.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),Cce(this),xi.names.forEach(e=>{const n=xi[e],r=this[n.getterName]();r&&r.off&&r.off()}),super.dispose({restoreEl:this.options_.restoreEl})}createEl(){let e=this.tag,n,r=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-vjs-player");const s=this.tag.tagName.toLowerCase()==="video-js";r?n=this.el_=e.parentNode:s||(n=this.el_=super.createEl("div"));const i=du(e);if(s){for(n=this.el_=e,e=this.tag=Pt.createElement("video");n.children.length;)e.appendChild(n.firstChild);Jm(n,"video-js")||zd(n,"video-js"),n.appendChild(e),r=this.playerElIngest_=n,Object.keys(n).forEach(c=>{try{e[c]=n[c]}catch{}})}e.setAttribute("tabindex","-1"),i.tabindex="-1",kl&&Lv&&(e.setAttribute("role","application"),i.role="application"),e.removeAttribute("width"),e.removeAttribute("height"),"width"in i&&delete i.width,"height"in i&&delete i.height,Object.getOwnPropertyNames(i).forEach(function(c){s&&c==="class"||n.setAttribute(c,i[c]),s&&e.setAttribute(c,i[c])}),e.playerId=e.id,e.id+="_html5_api",e.className="vjs-tech",e.player=n.player=this,this.addClass("vjs-paused");const a=["IS_SMART_TV","IS_TIZEN","IS_WEBOS","IS_ANDROID","IS_IPAD","IS_IPHONE","IS_CHROMECAST_RECEIVER"].filter(c=>$L[c]).map(c=>"vjs-device-"+c.substring(3).toLowerCase().replace(/\_/g,"-"));if(this.addClass(...a),De.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=t6("vjs-styles-dimensions");const c=Nu(".vjs-styles-defaults"),u=Nu("head");u.insertBefore(this.styleEl_,c?c.nextSibling:u.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);const l=e.getElementsByTagName("a");for(let c=0;c<l.length;c++){const u=l.item(c);zd(u,"vjs-hidden"),u.setAttribute("hidden","hidden")}return e.initNetworkState_=e.networkState,e.parentNode&&!r&&e.parentNode.insertBefore(n,e),wS(e,n),this.children_.unshift(e),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=n,n}crossOrigin(e){if(typeof e>"u")return this.techGet_("crossOrigin");if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){In.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.techCall_("setCrossOrigin",e),this.posterImage&&this.posterImage.crossOrigin(e)}width(e){return this.dimension("width",e)}height(e){return this.dimension("height",e)}dimension(e,n){const r=e+"_";if(n===void 0)return this[r]||0;if(n===""||n==="auto"){this[r]=void 0,this.updateStyleEl_();return}const s=parseFloat(n);if(isNaN(s)){In.error(`Improper value "${n}" supplied for for ${e}`);return}this[r]=s,this.updateStyleEl_()}fluid(e){if(e===void 0)return!!this.fluid_;this.fluid_=!!e,hc(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),nce(this,()=>{this.on(["playerreset","resize"],this.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()}fill(e){if(e===void 0)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")}aspectRatio(e){if(e===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()}updateStyleEl_(){if(De.VIDEOJS_NO_DYNAMIC_STYLE===!0){const l=typeof this.width_=="number"?this.width_:this.options_.width,c=typeof this.height_=="number"?this.height_:this.options_.height,u=this.tech_&&this.tech_.el();u&&(l>=0&&(u.width=l),c>=0&&(u.height=c));return}let e,n,r,s;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?r=this.aspectRatio_:this.videoWidth()>0?r=this.videoWidth()+":"+this.videoHeight():r="16:9";const i=r.split(":"),a=i[1]/i[0];this.width_!==void 0?e=this.width_:this.height_!==void 0?e=this.height_/a:e=this.videoWidth()||300,this.height_!==void 0?n=this.height_:n=e*a,/^[^a-zA-Z]/.test(this.id())?s="dimensions-"+this.id():s=this.id()+"-dimensions",this.addClass(s),n6(this.styleEl_,`
      .${s} {
        width: ${e}px;
        height: ${n}px;
      }

      .${s}.vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: ${a*100}%;
      }
    `)}loadTech_(e,n){this.tech_&&this.unloadTech_();const r=qr(e),s=e.charAt(0).toLowerCase()+e.slice(1);r!=="Html5"&&this.tag&&(kn.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=r,this.isReady_=!1;let i=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(i=!1);const a={source:n,autoplay:i,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:`${this.id()}_${s}_api`,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};xi.names.forEach(c=>{const u=xi[c];a[u.getterName]=this[u.privateName]}),Object.assign(a,this.options_[r]),Object.assign(a,this.options_[s]),Object.assign(a,this.options_[e.toLowerCase()]),this.tag&&(a.tag=this.tag),n&&n.src===this.cache_.src&&this.cache_.currentTime>0&&(a.startTime=this.cache_.currentTime);const l=kn.getTech(e);if(!l)throw new Error(`No Tech named '${r}' exists! '${r}' should be registered using videojs.registerTech()'`);this.tech_=new l(a),this.tech_.ready(xr(this,this.handleTechReady_),!0),jS.jsonToTextTracks(this.textTracksJson_||[],this.tech_),Y6.forEach(c=>{this.on(this.tech_,c,u=>this[`handleTech${qr(c)}_`](u))}),Object.keys(Rw).forEach(c=>{this.on(this.tech_,c,u=>{if(this.tech_.playbackRate()===0&&this.tech_.seeking()){this.queuedCallbacks_.push({callback:this[`handleTech${Rw[c]}_`].bind(this),event:u});return}this[`handleTech${Rw[c]}_`](u)})}),this.on(this.tech_,"loadstart",c=>this.handleTechLoadStart_(c)),this.on(this.tech_,"sourceset",c=>this.handleTechSourceset_(c)),this.on(this.tech_,"waiting",c=>this.handleTechWaiting_(c)),this.on(this.tech_,"ended",c=>this.handleTechEnded_(c)),this.on(this.tech_,"seeking",c=>this.handleTechSeeking_(c)),this.on(this.tech_,"play",c=>this.handleTechPlay_(c)),this.on(this.tech_,"pause",c=>this.handleTechPause_(c)),this.on(this.tech_,"durationchange",c=>this.handleTechDurationChange_(c)),this.on(this.tech_,"fullscreenchange",(c,u)=>this.handleTechFullscreenChange_(c,u)),this.on(this.tech_,"fullscreenerror",(c,u)=>this.handleTechFullscreenError_(c,u)),this.on(this.tech_,"enterpictureinpicture",c=>this.handleTechEnterPictureInPicture_(c)),this.on(this.tech_,"leavepictureinpicture",c=>this.handleTechLeavePictureInPicture_(c)),this.on(this.tech_,"error",c=>this.handleTechError_(c)),this.on(this.tech_,"posterchange",c=>this.handleTechPosterChange_(c)),this.on(this.tech_,"textdata",c=>this.handleTechTextData_(c)),this.on(this.tech_,"ratechange",c=>this.handleTechRateChange_(c)),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(r!=="Html5"||!this.tag)&&wS(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)}unloadTech_(){xi.names.forEach(e=>{const n=xi[e];this[n.privateName]=this[n.getterName]()}),this.textTracksJson_=jS.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1}tech(e){return e===void 0&&In.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_}version(){return{"video.js":vS}}addTechControlsListeners_(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)}removeTechControlsListeners_(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)}handleTechReady_(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()}handleTechLoadStart_(){this.removeClass("vjs-ended","vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):this.trigger("loadstart"),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())}manualAutoplay_(e){if(!this.tech_||typeof e!="string")return;const n=()=>{const s=this.muted();this.muted(!0);const i=()=>{this.muted(s)};this.playTerminatedQueue_.push(i);const a=this.play();if(tg(a))return a.catch(l=>{throw i(),new Error(`Rejection at manualAutoplay. Restoring muted value. ${l||""}`)})};let r;if(e==="any"&&!this.muted()?(r=this.play(),tg(r)&&(r=r.catch(n))):e==="muted"&&!this.muted()?r=n():r=this.play(),!!tg(r))return r.then(()=>{this.trigger({type:"autoplay-success",autoplay:e})}).catch(()=>{this.trigger({type:"autoplay-failure",autoplay:e})})}updateSourceCaches_(e=""){let n=e,r="";typeof n!="string"&&(n=e.src,r=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],n&&!r&&(r=Ece(this,n)),this.cache_.source=hr({},e,{src:n,type:r});const s=this.cache_.sources.filter(c=>c.src&&c.src===n),i=[],a=this.$$("source"),l=[];for(let c=0;c<a.length;c++){const u=du(a[c]);i.push(u),u.src&&u.src===n&&l.push(u.src)}l.length&&!s.length?this.cache_.sources=i:s.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=n}handleTechSourceset_(e){if(!this.changingSrc_){let n=i=>this.updateSourceCaches_(i);const r=this.currentSource().src,s=e.src;r&&!/^blob:/.test(r)&&/^blob:/.test(s)&&(!this.lastSource_||this.lastSource_.tech!==s&&this.lastSource_.player!==r)&&(n=()=>{}),n(s),e.src||this.tech_.any(["sourceset","loadstart"],i=>{if(i.type==="sourceset")return;const a=this.techGet_("currentSrc");this.lastSource_.tech=a,this.updateSourceCaches_(a)})}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})}hasStarted(e){if(e===void 0)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?this.addClass("vjs-has-started"):this.removeClass("vjs-has-started"))}handleTechPlay_(){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")}handleTechRateChange_(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(e=>e.callback(e.event)),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")}handleTechWaiting_(){this.addClass("vjs-waiting"),this.trigger("waiting");const e=this.currentTime(),n=()=>{e!==this.currentTime()&&(this.removeClass("vjs-waiting"),this.off("timeupdate",n))};this.on("timeupdate",n)}handleTechCanPlay_(){this.removeClass("vjs-waiting"),this.trigger("canplay")}handleTechCanPlayThrough_(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")}handleTechPlaying_(){this.removeClass("vjs-waiting"),this.trigger("playing")}handleTechSeeking_(){this.addClass("vjs-seeking"),this.trigger("seeking")}handleTechSeeked_(){this.removeClass("vjs-seeking","vjs-ended"),this.trigger("seeked")}handleTechPause_(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")}handleTechEnded_(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")}handleTechDurationChange_(){this.duration(this.techGet_("duration"))}handleTechClick_(e){this.controls_&&(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,e):this.paused()?ml(this.play()):this.pause())}handleTechDoubleClick_(e){if(!this.controls_)return;Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),r=>r.contains(e.target))||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,e):this.isInPictureInPicture()&&!Pt.pictureInPictureElement?this.exitPictureInPicture():this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}handleTechTap_(){this.userActive(!this.userActive())}handleTechTouchStart_(){this.userWasActive=this.userActive()}handleTechTouchMove_(){this.userWasActive&&this.reportUserActivity()}handleTechTouchEnd_(e){e.cancelable&&e.preventDefault()}toggleFullscreenClass_(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")}documentFullscreenChange_(e){const n=e.target.player;if(n&&n!==this)return;const r=this.el();let s=Pt[this.fsApi_.fullscreenElement]===r;!s&&r.matches&&(s=r.matches(":"+this.fsApi_.fullscreen)),this.isFullscreen(s)}handleTechFullscreenChange_(e,n){n&&(n.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",()=>{this.removeClass("vjs-ios-native-fs")})),this.isFullscreen(n.isFullscreen))}handleTechFullscreenError_(e,n){this.trigger("fullscreenerror",n)}togglePictureInPictureClass_(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")}handleTechEnterPictureInPicture_(e){this.isInPictureInPicture(!0)}handleTechLeavePictureInPicture_(e){this.isInPictureInPicture(!1)}handleTechError_(){const e=this.tech_.error();e&&this.error(e)}handleTechTextData_(){let e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)}getCache(){return this.cache_}resetCache_(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}}techCall_(e,n){this.ready(function(){if(e in wce)return vce(this.middleware_,this.tech_,e,n);if(e in g5)return m5(this.middleware_,this.tech_,e,n);try{this.tech_&&this.tech_[e](n)}catch(r){throw In(r),r}},!0)}techGet_(e){if(!(!this.tech_||!this.tech_.isReady_)){if(e in _ce)return xce(this.middleware_,this.tech_,e);if(e in g5)return m5(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(n){throw this.tech_[e]===void 0?(In(`Video.js: ${e} method not defined for ${this.techName_} playback technology.`,n),n):n.name==="TypeError"?(In(`Video.js: ${e} unavailable on ${this.techName_} playback technology element.`,n),this.tech_.isReady_=!1,n):(In(n),n)}}}play(){return new Promise(e=>{this.play_(e)})}play_(e=ml){this.playCallbacks_.push(e);const n=!!(!this.changingSrc_&&(this.src()||this.currentSrc())),r=!!(Bv||Zs);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!n){this.waitToPlay_=a=>{this.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!n&&r&&this.load();return}const s=this.techGet_("play");r&&this.hasClass("vjs-ended")&&this.resetProgressBar_(),s===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(s)}runPlayTerminatedQueue_(){const e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(n){n()})}runPlayCallbacks_(e){const n=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],n.forEach(function(r){r(e)})}pause(){this.techCall_("pause")}paused(){return this.techGet_("paused")!==!1}played(){return this.techGet_("played")||jo(0,0)}scrubbing(e){if(typeof e>"u")return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")}currentTime(e){if(e===void 0)return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime;if(e<0&&(e=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",e),this.cache_.initTime=0,isFinite(e)&&(this.cache_.currentTime=Number(e))}applyInitTime_(){this.currentTime(this.cache_.initTime)}duration(e){if(e===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;e=parseFloat(e),e<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))}remainingTime(){return this.duration()-this.currentTime()}remainingTimeDisplay(){return Math.floor(this.duration())-Math.floor(this.currentTime())}buffered(){let e=this.techGet_("buffered");return(!e||!e.length)&&(e=jo(0,0)),e}seekable(){let e=this.techGet_("seekable");return(!e||!e.length)&&(e=jo(0,0)),e}seeking(){return this.techGet_("seeking")}ended(){return this.techGet_("ended")}networkState(){return this.techGet_("networkState")}readyState(){return this.techGet_("readyState")}bufferedPercent(){return d6(this.buffered(),this.duration())}bufferedEnd(){const e=this.buffered(),n=this.duration();let r=e.end(e.length-1);return r>n&&(r=n),r}volume(e){let n;if(e!==void 0){n=Math.max(0,Math.min(1,e)),this.cache_.volume=n,this.techCall_("setVolume",n),n>0&&this.lastVolume_(n);return}return n=parseFloat(this.techGet_("volume")),isNaN(n)?1:n}muted(e){if(e!==void 0){this.techCall_("setMuted",e);return}return this.techGet_("muted")||!1}defaultMuted(e){return e!==void 0&&this.techCall_("setDefaultMuted",e),this.techGet_("defaultMuted")||!1}lastVolume_(e){if(e!==void 0&&e!==0){this.cache_.lastVolume=e;return}return this.cache_.lastVolume}supportsFullScreen(){return this.techGet_("supportsFullScreen")||!1}isFullscreen(e){if(e!==void 0){const n=this.isFullscreen_;this.isFullscreen_=!!e,this.isFullscreen_!==n&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_}requestFullscreen(e){this.isInPictureInPicture()&&this.exitPictureInPicture();const n=this;return new Promise((r,s)=>{function i(){n.off("fullscreenerror",l),n.off("fullscreenchange",a)}function a(){i(),r()}function l(u,h){i(),s(h)}n.one("fullscreenchange",a),n.one("fullscreenerror",l);const c=n.requestFullscreenHelper_(e);c&&(c.then(i,i),c.then(r,s))})}requestFullscreenHelper_(e){let n;if(this.fsApi_.prefixed||(n=this.options_.fullscreen&&this.options_.fullscreen.options||{},e!==void 0&&(n=e)),this.fsApi_.requestFullscreen){const r=this.el_[this.fsApi_.requestFullscreen](n);return r&&r.then(()=>this.isFullscreen(!0),()=>this.isFullscreen(!1)),r}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()}exitFullscreen(){const e=this;return new Promise((n,r)=>{function s(){e.off("fullscreenerror",a),e.off("fullscreenchange",i)}function i(){s(),n()}function a(c,u){s(),r(u)}e.one("fullscreenchange",i),e.one("fullscreenerror",a);const l=e.exitFullscreenHelper_();l&&(l.then(s,s),l.then(n,r))})}exitFullscreenHelper_(){if(this.fsApi_.requestFullscreen){const e=Pt[this.fsApi_.exitFullscreen]();return e&&ml(e.then(()=>this.isFullscreen(!1))),e}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()}enterFullWindow(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=Pt.documentElement.style.overflow,pa(Pt,"keydown",this.boundFullWindowOnEscKey_),Pt.documentElement.style.overflow="hidden",zd(Pt.body,"vjs-full-window"),this.trigger("enterFullWindow")}fullWindowOnEscKey(e){e.key==="Escape"&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())}exitFullWindow(){this.isFullscreen(!1),this.isFullWindow=!1,Js(Pt,"keydown",this.boundFullWindowOnEscKey_),Pt.documentElement.style.overflow=this.docOrigOverflow,$v(Pt.body,"vjs-full-window"),this.trigger("exitFullWindow")}disablePictureInPicture(e){if(e===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")}isInPictureInPicture(e){if(e!==void 0){this.isInPictureInPicture_=!!e,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_}requestPictureInPicture(){if(this.options_.enableDocumentPictureInPicture&&De.documentPictureInPicture){const e=Pt.createElement(this.el().tagName);return e.classList=this.el().classList,e.classList.add("vjs-pip-container"),this.posterImage&&e.appendChild(this.posterImage.el().cloneNode(!0)),this.titleBar&&e.appendChild(this.titleBar.el().cloneNode(!0)),e.appendChild(bn("p",{className:"vjs-pip-text"},{},this.localize("Playing in picture-in-picture"))),De.documentPictureInPicture.requestWindow({width:this.videoWidth(),height:this.videoHeight()}).then(n=>(ZL(n),this.el_.parentNode.insertBefore(e,this.el_),n.document.body.appendChild(this.el_),n.document.body.classList.add("vjs-pip-window"),this.player_.isInPictureInPicture(!0),this.player_.trigger({type:"enterpictureinpicture",pipWindow:n}),n.addEventListener("pagehide",r=>{const s=r.target.querySelector(".video-js");e.parentNode.replaceChild(s,e),this.player_.isInPictureInPicture(!1),this.player_.trigger("leavepictureinpicture")}),n))}return"pictureInPictureEnabled"in Pt&&this.disablePictureInPicture()===!1?this.techGet_("requestPictureInPicture"):Promise.reject("No PiP mode is available")}exitPictureInPicture(){if(De.documentPictureInPicture&&De.documentPictureInPicture.window)return De.documentPictureInPicture.window.close(),Promise.resolve();if("pictureInPictureEnabled"in Pt)return Pt.exitPictureInPicture()}handleKeyDown(e){const{userActions:n}=this.options_;!n||!n.hotkeys||(s=>{const i=s.tagName.toLowerCase();if(s.isContentEditable)return!0;const a=["button","checkbox","hidden","radio","reset","submit"];return i==="input"?a.indexOf(s.type)===-1:["textarea"].indexOf(i)!==-1})(this.el_.ownerDocument.activeElement)||(typeof n.hotkeys=="function"?n.hotkeys.call(this,e):this.handleHotkeys(e))}handleHotkeys(e){const n=this.options_.userActions?this.options_.userActions.hotkeys:{},{fullscreenKey:r=a=>e.key.toLowerCase()==="f",muteKey:s=a=>e.key.toLowerCase()==="m",playPauseKey:i=a=>e.key.toLowerCase()==="k"||e.key.toLowerCase()===" "}=n;if(r.call(this,e)){e.preventDefault(),e.stopPropagation();const a=yt.getComponent("FullscreenToggle");Pt[this.fsApi_.fullscreenEnabled]!==!1&&a.prototype.handleClick.call(this,e)}else s.call(this,e)?(e.preventDefault(),e.stopPropagation(),yt.getComponent("MuteToggle").prototype.handleClick.call(this,e)):i.call(this,e)&&(e.preventDefault(),e.stopPropagation(),yt.getComponent("PlayToggle").prototype.handleClick.call(this,e))}canPlayType(e){let n;for(let r=0,s=this.options_.techOrder;r<s.length;r++){const i=s[r];let a=kn.getTech(i);if(a||(a=yt.getComponent(i)),!a){In.error(`The "${i}" tech is undefined. Skipped browser support check for that tech.`);continue}if(a.isSupported()&&(n=a.canPlayType(e),n))return n}return""}selectSource(e){const n=this.options_.techOrder.map(l=>[l,kn.getTech(l)]).filter(([l,c])=>c?c.isSupported():(In.error(`The "${l}" tech is undefined. Skipped browser support check for that tech.`),!1)),r=function(l,c,u){let h;return l.some(f=>c.some(m=>{if(h=u(f,m),h)return!0})),h};let s;const i=l=>(c,u)=>l(u,c),a=([l,c],u)=>{if(c.canPlaySource(u,this.options_[l.toLowerCase()]))return{source:u,tech:l}};return this.options_.sourceOrder?s=r(e,n,i(a)):s=r(n,e,a),s||!1}handleSrc_(e,n){if(typeof e>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();const r=y6(e);if(!r.length){this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0);return}if(this.changingSrc_=!0,n||(this.cache_.sources=r),this.updateSourceCaches_(r[0]),yce(this,r[0],(s,i)=>{if(this.middleware_=i,n||(this.cache_.sources=r),this.updateSourceCaches_(s),this.src_(s)){if(r.length>1)return this.handleSrc_(r.slice(1));this.changingSrc_=!1,this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),this.triggerReady();return}bce(i,this.tech_)}),r.length>1){const s=()=>{this.error(null),this.handleSrc_(r.slice(1),!0)},i=()=>{this.off("error",s)};this.one("error",s),this.one("playing",i),this.resetRetryOnError_=()=>{this.off("error",s),this.off("playing",i)}}}src(e){return this.handleSrc_(e,!1)}src_(e){const n=this.selectSource([e]);return n?o6(n.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(n.tech,n.source),this.tech_.ready(()=>{this.changingSrc_=!1}),!1):!0}addSourceElement(e,n){return this.tech_?this.tech_.addSourceElement(e,n):!1}removeSourceElement(e){return this.tech_?this.tech_.removeSourceElement(e):!1}load(){if(this.tech_&&this.tech_.vhs){this.src(this.currentSource());return}this.techCall_("load")}reset(){if(this.paused())this.doReset_();else{const e=this.play();ml(e.then(()=>this.doReset_()))}}doReset_(){this.tech_&&this.tech_.clearTracks("text"),this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),this.error(null),this.titleBar&&this.titleBar.update({title:void 0,description:void 0}),hc(this)&&this.trigger("playerreset")}resetControlBarUI_(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()}resetProgressBar_(){this.currentTime(0);const{currentTimeDisplay:e,durationDisplay:n,progressControl:r,remainingTimeDisplay:s}=this.controlBar||{},{seekBar:i}=r||{};e&&e.updateContent(),n&&n.updateContent(),s&&s.updateContent(),i&&(i.update(),i.loadProgressBar&&i.loadProgressBar.update())}resetPlaybackRate_(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()}resetVolumeBar_(){this.volume(1),this.trigger("volumechange")}currentSources(){const e=this.currentSource(),n=[];return Object.keys(e).length!==0&&n.push(e),this.cache_.sources||n}currentSource(){return this.cache_.source||{}}currentSrc(){return this.currentSource()&&this.currentSource().src||""}currentType(){return this.currentSource()&&this.currentSource().type||""}preload(e){if(e!==void 0){this.techCall_("setPreload",e),this.options_.preload=e;return}return this.techGet_("preload")}autoplay(e){if(e===void 0)return this.options_.autoplay||!1;let n;typeof e=="string"&&/(any|play|muted)/.test(e)||e===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_(typeof e=="string"?e:"play"),n=!1):e?this.options_.autoplay=!0:this.options_.autoplay=!1,n=typeof n>"u"?this.options_.autoplay:n,this.tech_&&this.techCall_("setAutoplay",n)}playsinline(e){return e!==void 0&&(this.techCall_("setPlaysinline",e),this.options_.playsinline=e),this.techGet_("playsinline")}loop(e){if(e!==void 0){this.techCall_("setLoop",e),this.options_.loop=e;return}return this.techGet_("loop")}poster(e){if(e===void 0)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))}handleTechPosterChange_(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){const e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}}controls(e){if(e===void 0)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))}usingNativeControls(e){if(e===void 0)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))}error(e){if(e===void 0)return this.error_||null;if(ju("beforeerror").forEach(n=>{const r=n(this,e);if(!(Tl(r)&&!Array.isArray(r)||typeof r=="string"||typeof r=="number"||r===null)){this.log.error("please return a value that MediaError expects in beforeerror hooks");return}e=r}),this.options_.suppressNotSupportedError&&e&&e.code===4){const n=function(){this.error(e)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],n),this.one("loadstart",function(){this.off(["click","touchstart"],n)});return}if(e===null){this.error_=null,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new Br(e),this.addClass("vjs-error"),In.error(`(CODE:${this.error_.code} ${Br.errorTypes[this.error_.code]})`,this.error_.message,this.error_),this.trigger("error"),ju("error").forEach(n=>n(this,this.error_))}reportUserActivity(e){this.userActivity_=!0}userActive(e){if(e===void 0)return this.userActive_;if(e=!!e,e!==this.userActive_){if(this.userActive_=e,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(n){n.stopPropagation(),n.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}}listenForUserActivity_(){let e,n,r;const s=xr(this,this.reportUserActivity),i=function(f){(f.screenX!==n||f.screenY!==r)&&(n=f.screenX,r=f.screenY,s())},a=function(){s(),this.clearInterval(e),e=this.setInterval(s,250)},l=function(f){s(),this.clearInterval(e)};this.on("mousedown",a),this.on("mousemove",i),this.on("mouseup",l),this.on("mouseleave",l);const c=this.getChild("controlBar");c&&!Zs&&!Ao&&(c.on("mouseenter",function(f){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),c.on("mouseleave",function(f){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",s),this.on("keyup",s);let u;const h=function(){if(!this.userActivity_)return;this.userActivity_=!1,this.userActive(!0),this.clearTimeout(u);const f=this.options_.inactivityTimeout;f<=0||(u=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},f))};this.setInterval(h,250)}playbackRate(e){if(e!==void 0){this.techCall_("setPlaybackRate",e);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1}defaultPlaybackRate(e){return e!==void 0?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1}isAudio(e){if(e!==void 0){this.isAudio_=!!e;return}return!!this.isAudio_}updatePlayerHeightOnAudioOnlyMode_(){const e=this.getChild("ControlBar");!e||this.audioOnlyCache_.controlBarHeight===e.currentHeight()||(this.audioOnlyCache_.controlBarHeight=e.currentHeight(),this.height(this.audioOnlyCache_.controlBarHeight))}enableAudioOnlyUI_(){this.addClass("vjs-audio-only-mode");const e=this.children(),n=this.getChild("ControlBar"),r=n&&n.currentHeight();e.forEach(s=>{s!==n&&s.el_&&!s.hasClass("vjs-hidden")&&(s.hide(),this.audioOnlyCache_.hiddenChildren.push(s))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.audioOnlyCache_.controlBarHeight=r,this.on("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.height(r),this.trigger("audioonlymodechange")}disableAudioOnlyUI_(){this.removeClass("vjs-audio-only-mode"),this.off("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.audioOnlyCache_.hiddenChildren.forEach(e=>e.show()),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")}audioOnlyMode(e){if(typeof e!="boolean"||e===this.audioOnlyMode_)return this.audioOnlyMode_;if(this.audioOnlyMode_=e,e){const n=[];return this.isInPictureInPicture()&&n.push(this.exitPictureInPicture()),this.isFullscreen()&&n.push(this.exitFullscreen()),this.audioPosterMode()&&n.push(this.audioPosterMode(!1)),Promise.all(n).then(()=>this.enableAudioOnlyUI_())}return Promise.resolve().then(()=>this.disableAudioOnlyUI_())}enablePosterModeUI_(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}disablePosterModeUI_(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}audioPosterMode(e){return typeof e!="boolean"||e===this.audioPosterMode_?this.audioPosterMode_:(this.audioPosterMode_=e,e?this.audioOnlyMode()?this.audioOnlyMode(!1).then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.disablePosterModeUI_()}))}addTextTrack(e,n,r){if(this.tech_)return this.tech_.addTextTrack(e,n,r)}addRemoteTextTrack(e,n){if(this.tech_)return this.tech_.addRemoteTextTrack(e,n)}removeRemoteTextTrack(e={}){let{track:n}=e;if(n||(n=e),this.tech_)return this.tech_.removeRemoteTextTrack(n)}getVideoPlaybackQuality(){return this.techGet_("getVideoPlaybackQuality")}videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0}videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0}language(e){if(e===void 0)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),hc(this)&&this.trigger("languagechange"))}languages(){return hr(sr.prototype.options_.languages,this.languages_)}toJSON(){const e=hr(this.options_),n=e.tracks;e.tracks=[];for(let r=0;r<n.length;r++){let s=n[r];s=hr(s),s.player=void 0,e.tracks[r]=s}return e}createModal(e,n){n=n||{},n.content=e||"";const r=new wp(this,n);return this.addChild(r),r.on("dispose",()=>{this.removeChild(r)}),r.open(),r}updateCurrentBreakpoint_(){if(!this.responsive())return;const e=this.currentBreakpoint(),n=this.currentWidth();for(let r=0;r<AS.length;r++){const s=AS[r],i=this.breakpoints_[s];if(n<=i){if(e===s)return;e&&this.removeClass(bb[e]),this.addClass(bb[s]),this.breakpoint_=s;break}}}removeCurrentBreakpoint_(){const e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)}breakpoints(e){return e===void 0?Object.assign(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=Object.assign({},iue,e),this.updateCurrentBreakpoint_(),Object.assign(this.breakpoints_))}responsive(e){if(e===void 0)return this.responsive_;e=!!e;const n=this.responsive_;if(e!==n)return this.responsive_=e,e?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e}currentBreakpoint(){return this.breakpoint_}currentBreakpointClass(){return bb[this.breakpoint_]||""}loadMedia(e,n){if(!e||typeof e!="object")return;const r=this.crossOrigin();this.reset(),this.cache_.media=hr(e);const{artist:s,artwork:i,description:a,poster:l,src:c,textTracks:u,title:h}=this.cache_.media;!i&&l&&(this.cache_.media.artwork=[{src:l,type:dx(l)}]),r&&this.crossOrigin(r),c&&this.src(c),l&&this.poster(l),Array.isArray(u)&&u.forEach(f=>this.addRemoteTextTrack(f,!1)),this.titleBar&&this.titleBar.update({title:h,description:a||s||""}),this.ready(n)}getMedia(){if(!this.cache_.media){const e=this.poster(),n=this.currentSources(),r=Array.prototype.map.call(this.remoteTextTracks(),i=>({kind:i.kind,label:i.label,language:i.language,src:i.src})),s={src:n,textTracks:r};return e&&(s.poster=e,s.artwork=[{src:s.poster,type:dx(s.poster)}]),s}return hr(this.cache_.media)}static getTagSettings(e){const n={sources:[],tracks:[]},r=du(e),s=r["data-setup"];if(Jm(e,"vjs-fill")&&(r.fill=!0),Jm(e,"vjs-fluid")&&(r.fluid=!0),s!==null)try{Object.assign(r,JSON.parse(s||"{}"))}catch(i){In.error("data-setup",i)}if(Object.assign(n,r),e.hasChildNodes()){const i=e.childNodes;for(let a=0,l=i.length;a<l;a++){const c=i[a],u=c.nodeName.toLowerCase();u==="source"?n.sources.push(du(c)):u==="track"&&n.tracks.push(du(c))}}return n}debug(e){if(e===void 0)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)}playbackRates(e){if(e===void 0)return this.cache_.playbackRates;Array.isArray(e)&&e.every(n=>typeof n=="number")&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))}}sr.prototype.videoTracks=()=>{};sr.prototype.audioTracks=()=>{};sr.prototype.textTracks=()=>{};sr.prototype.remoteTextTracks=()=>{};sr.prototype.remoteTextTrackEls=()=>{};xi.names.forEach(function(t){const e=xi[t];sr.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}});sr.prototype.crossorigin=sr.prototype.crossOrigin;sr.players={};const Cm=De.navigator;sr.prototype.options_={techOrder:kn.defaultTechOrder_,html5:{},enableSourceset:!0,inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","titleBar","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Cm&&(Cm.languages&&Cm.languages[0]||Cm.userLanguage||Cm.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1,spatialNavigation:{enabled:!1,horizontalSeek:!1},enableSmoothSeeking:!1,disableSeekWhileScrubbingOnMobile:!1,disableSeekWhileScrubbingOnSTV:!1};Y6.forEach(function(t){sr.prototype[`handleTech${qr(t)}_`]=function(){return this.trigger(t)}});yt.registerComponent("Player",sr);const hx="plugin",Df="activePlugins_",pf={},fx=t=>pf.hasOwnProperty(t),xb=t=>fx(t)?pf[t]:void 0,G6=(t,e)=>{t[Df]=t[Df]||{},t[Df][e]=!0},px=(t,e,n)=>{const r=(n?"before":"")+"pluginsetup";t.trigger(r,e),t.trigger(r+":"+e.name,e)},aue=function(t,e){const n=function(){px(this,{name:t,plugin:e,instance:null},!0);const r=e.apply(this,arguments);return G6(this,t),px(this,{name:t,plugin:e,instance:r}),r};return Object.keys(e).forEach(function(r){n[r]=e[r]}),n},P5=(t,e)=>(e.prototype.name=t,function(...n){px(this,{name:t,plugin:e,instance:null},!0);const r=new e(this,...n);return this[t]=()=>r,px(this,r.getEventHash()),r});class Vi{constructor(e){if(this.constructor===Vi)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,this.log||(this.log=this.player.log.createLogger(this.name)),gk(this),delete this.trigger,a6(this,this.constructor.defaultState),G6(e,this.name),this.dispose=this.dispose.bind(this),e.on("dispose",this.dispose)}version(){return this.constructor.VERSION}getEventHash(e={}){return e.name=this.name,e.plugin=this.constructor,e.instance=this,e}trigger(e,n={}){return _p(this.eventBusEl_,e,this.getEventHash(n))}handleStateChanged(e){}dispose(){const{name:e,player:n}=this;this.trigger("dispose"),this.off(),n.off("dispose",this.dispose),n[Df][e]=!1,this.player=this.state=null,n[e]=P5(e,pf[e])}static isBasic(e){const n=typeof e=="string"?xb(e):e;return typeof n=="function"&&!Vi.prototype.isPrototypeOf(n.prototype)}static registerPlugin(e,n){if(typeof e!="string")throw new Error(`Illegal plugin name, "${e}", must be a string, was ${typeof e}.`);if(fx(e))In.warn(`A plugin named "${e}" already exists. You may want to avoid re-registering plugins!`);else if(sr.prototype.hasOwnProperty(e))throw new Error(`Illegal plugin name, "${e}", cannot share a name with an existing player method!`);if(typeof n!="function")throw new Error(`Illegal plugin for "${e}", must be a function, was ${typeof n}.`);return pf[e]=n,e!==hx&&(Vi.isBasic(n)?sr.prototype[e]=aue(e,n):sr.prototype[e]=P5(e,n)),n}static deregisterPlugin(e){if(e===hx)throw new Error("Cannot de-register base plugin.");fx(e)&&(delete pf[e],delete sr.prototype[e])}static getPlugins(e=Object.keys(pf)){let n;return e.forEach(r=>{const s=xb(r);s&&(n=n||{},n[r]=s)}),n}static getPluginVersion(e){const n=xb(e);return n&&n.VERSION||""}}Vi.getPlugin=xb;Vi.BASE_PLUGIN_NAME=hx;Vi.registerPlugin(hx,Vi);sr.prototype.usingPlugin=function(t){return!!this[Df]&&this[Df][t]===!0};sr.prototype.hasPlugin=function(t){return!!fx(t)};function oue(t,e){let n=!1;return function(...r){return n||In.warn(t),n=!0,e.apply(this,r)}}function Ro(t,e,n,r){return oue(`${e} is deprecated and will be removed in ${t}.0; please use ${n} instead.`,r)}var lue={NetworkBadStatus:"networkbadstatus",NetworkRequestFailed:"networkrequestfailed",NetworkRequestAborted:"networkrequestaborted",NetworkRequestTimeout:"networkrequesttimeout",NetworkBodyParserFailed:"networkbodyparserfailed",StreamingHlsPlaylistParserError:"streaminghlsplaylistparsererror",StreamingDashManifestParserError:"streamingdashmanifestparsererror",StreamingContentSteeringParserError:"streamingcontentsteeringparsererror",StreamingVttParserError:"streamingvttparsererror",StreamingFailedToSelectNextSegment:"streamingfailedtoselectnextsegment",StreamingFailedToDecryptSegment:"streamingfailedtodecryptsegment",StreamingFailedToTransmuxSegment:"streamingfailedtotransmuxsegment",StreamingFailedToAppendSegment:"streamingfailedtoappendsegment",StreamingCodecsChangeError:"streamingcodecschangeerror"};const K6=t=>t.indexOf("#")===0?t.slice(1):t;function tt(t,e,n){let r=tt.getPlayer(t);if(r)return e&&In.warn(`Player "${t}" is already initialised. Options will not be applied.`),n&&r.ready(n),r;const s=typeof t=="string"?Nu("#"+K6(t)):t;if(!vp(s))throw new TypeError("The element or ID supplied is not valid. (videojs)");const a=("getRootNode"in s?s.getRootNode()instanceof De.ShadowRoot:!1)?s.getRootNode():s.ownerDocument.body;(!s.ownerDocument.defaultView||!a.contains(s))&&In.warn("The element supplied is not included in the DOM"),e=e||{},e.restoreEl===!0&&(e.restoreEl=(s.parentNode&&s.parentNode.hasAttribute&&s.parentNode.hasAttribute("data-vjs-player")?s.parentNode:s).cloneNode(!0)),ju("beforesetup").forEach(c=>{const u=c(s,hr(e));if(!Tl(u)||Array.isArray(u)){In.error("please return an object in beforesetup hooks");return}e=hr(e,u)});const l=yt.getComponent("Player");return r=new l(s,e,n),ju("setup").forEach(c=>c(r)),r}tt.hooks_=rc;tt.hooks=ju;tt.hook=Ule;tt.hookOnce=Hle;tt.removeHook=AL;if(De.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&xp()){let t=Nu(".vjs-styles-defaults");if(!t){t=t6("vjs-styles-defaults");const e=Nu("head");e&&e.insertBefore(t,e.firstChild),n6(t,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: 56.25%
      }
    `)}}CS(1,tt);tt.VERSION=vS;tt.options=sr.prototype.options_;tt.getPlayers=()=>sr.players;tt.getPlayer=t=>{const e=sr.players;let n;if(typeof t=="string"){const r=K6(t),s=e[r];if(s)return s;n=Nu("#"+r)}else n=t;if(vp(n)){const{player:r,playerId:s}=n;if(r||e[s])return r||e[s]}};tt.getAllPlayers=()=>Object.keys(sr.players).map(t=>sr.players[t]).filter(Boolean);tt.players=sr.players;tt.getComponent=yt.getComponent;tt.registerComponent=(t,e)=>(kn.isTech(e)&&In.warn(`The ${t} tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)`),yt.registerComponent.call(yt,t,e));tt.getTech=kn.getTech;tt.registerTech=kn.registerTech;tt.use=gce;Object.defineProperty(tt,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(tt.middleware,"TERMINATOR",{value:ux,writeable:!1,enumerable:!0});tt.browser=$L;tt.obj=qle;tt.mergeOptions=Ro(9,"videojs.mergeOptions","videojs.obj.merge",hr);tt.defineLazyProperty=Ro(9,"videojs.defineLazyProperty","videojs.obj.defineLazyProperty",Mv);tt.bind=Ro(9,"videojs.bind","native Function.prototype.bind",xr);tt.registerPlugin=Vi.registerPlugin;tt.deregisterPlugin=Vi.deregisterPlugin;tt.plugin=(t,e)=>(In.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Vi.registerPlugin(t,e));tt.getPlugins=Vi.getPlugins;tt.getPlugin=Vi.getPlugin;tt.getPluginVersion=Vi.getPluginVersion;tt.addLanguage=function(t,e){return t=(""+t).toLowerCase(),tt.options.languages=hr(tt.options.languages,{[t]:e}),tt.options.languages[t]};tt.log=In;tt.createLogger=PL;tt.time=oce;tt.createTimeRange=Ro(9,"videojs.createTimeRange","videojs.time.createTimeRanges",jo);tt.createTimeRanges=Ro(9,"videojs.createTimeRanges","videojs.time.createTimeRanges",jo);tt.formatTime=Ro(9,"videojs.formatTime","videojs.time.formatTime",Qd);tt.setFormatTime=Ro(9,"videojs.setFormatTime","videojs.time.setFormatTime",c6);tt.resetFormatTime=Ro(9,"videojs.resetFormatTime","videojs.time.resetFormatTime",u6);tt.parseUrl=Ro(9,"videojs.parseUrl","videojs.url.parseUrl",vk);tt.isCrossOrigin=Ro(9,"videojs.isCrossOrigin","videojs.url.isCrossOrigin",Yv);tt.EventTarget=ma;tt.any=mk;tt.on=pa;tt.one=Vv;tt.off=Js;tt.trigger=_p;tt.xhr=gL;tt.TrackList=Zd;tt.TextTrack=m0;tt.TextTrackList=bk;tt.AudioTrack=m6;tt.AudioTrackList=h6;tt.VideoTrack=g6;tt.VideoTrackList=f6;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(t=>{tt[t]=function(){return In.warn(`videojs.${t}() is deprecated; use videojs.dom.${t}() instead`),JL[t].apply(null,arguments)}});tt.computedStyle=Ro(9,"videojs.computedStyle","videojs.dom.computedStyle",Jf);tt.dom=JL;tt.fn=tce;tt.num=Lce;tt.str=ice;tt.url=pce;tt.Error=lue;/*! @name videojs-contrib-quality-levels @version 4.1.0 @license Apache-2.0 */class cue{constructor(e){let n=this;return n.id=e.id,n.label=n.id,n.width=e.width,n.height=e.height,n.bitrate=e.bandwidth,n.frameRate=e.frameRate,n.enabled_=e.enabled,Object.defineProperty(n,"enabled",{get(){return n.enabled_()},set(r){n.enabled_(r)}}),n}}class mx extends tt.EventTarget{constructor(){super();let e=this;return e.levels_=[],e.selectedIndex_=-1,Object.defineProperty(e,"selectedIndex",{get(){return e.selectedIndex_}}),Object.defineProperty(e,"length",{get(){return e.levels_.length}}),e[Symbol.iterator]=()=>e.levels_.values(),e}addQualityLevel(e){let n=this.getQualityLevelById(e.id);if(n)return n;const r=this.levels_.length;return n=new cue(e),""+r in this||Object.defineProperty(this,r,{get(){return this.levels_[r]}}),this.levels_.push(n),this.trigger({qualityLevel:n,type:"addqualitylevel"}),n}removeQualityLevel(e){let n=null;for(let r=0,s=this.length;r<s;r++)if(this[r]===e){n=this.levels_.splice(r,1)[0],this.selectedIndex_===r?this.selectedIndex_=-1:this.selectedIndex_>r&&this.selectedIndex_--;break}return n&&this.trigger({qualityLevel:e,type:"removequalitylevel"}),n}getQualityLevelById(e){for(let n=0,r=this.length;n<r;n++){const s=this[n];if(s.id===e)return s}return null}dispose(){this.selectedIndex_=-1,this.levels_.length=0}}mx.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"};for(const t in mx.prototype.allowedEvents_)mx.prototype["on"+t]=null;var X6="4.1.0";const uue=function(t,e){const n=t.qualityLevels,r=new mx,s=function(){r.dispose(),t.qualityLevels=n,t.off("dispose",s)};return t.on("dispose",s),t.qualityLevels=()=>r,t.qualityLevels.VERSION=X6,r},Q6=function(t){return uue(this,tt.obj.merge({},t))};tt.registerPlugin("qualityLevels",Q6);Q6.VERSION=X6;/*! @name @videojs/http-streaming @version 3.17.0 @license Apache-2.0 */const $i=Av,gx=(t,e)=>e&&e.responseURL&&t!==e.responseURL?e.responseURL:t,ro=t=>tt.log.debug?tt.log.debug.bind(tt,"VHS:",`${t} >`):function(){};function ir(...t){const e=tt.obj||tt;return(e.merge||e.mergeOptions).apply(e,t)}function Ts(...t){const e=tt.time||tt;return(e.createTimeRanges||e.createTimeRanges).apply(e,t)}function due(t){if(t.length===0)return"Buffered Ranges are empty";let e=`Buffered Ranges: 
`;for(let n=0;n<t.length;n++){const r=t.start(n),s=t.end(n);e+=`${r} --> ${s}. Duration (${s-r})
`}return e}const gl=1/30,yl=gl*3,Z6=function(t,e){const n=[];let r;if(t&&t.length)for(r=0;r<t.length;r++)e(t.start(r),t.end(r))&&n.push([t.start(r),t.end(r)]);return Ts(n)},mf=function(t,e){return Z6(t,function(n,r){return n-yl<=e&&r+yl>=e})},By=function(t,e){return Z6(t,function(n){return n-gl>=e})},hue=function(t){if(t.length<2)return Ts();const e=[];for(let n=1;n<t.length;n++){const r=t.end(n-1),s=t.start(n);e.push([r,s])}return Ts(e)},fue=function(t,e){let n=null,r=null,s=0;const i=[],a=[];if(!t||!t.length||!e||!e.length)return Ts();let l=t.length;for(;l--;)i.push({time:t.start(l),type:"start"}),i.push({time:t.end(l),type:"end"});for(l=e.length;l--;)i.push({time:e.start(l),type:"start"}),i.push({time:e.end(l),type:"end"});for(i.sort(function(c,u){return c.time-u.time}),l=0;l<i.length;l++)i[l].type==="start"?(s++,s===2&&(n=i[l].time)):i[l].type==="end"&&(s--,s===1&&(r=i[l].time)),n!==null&&r!==null&&(a.push([n,r]),n=null,r=null);return Ts(a)},J6=t=>{const e=[];if(!t||!t.length)return"";for(let n=0;n<t.length;n++)e.push(t.start(n)+" => "+t.end(n));return e.join(", ")},pue=function(t,e,n=1){return((t.length?t.end(t.length-1):0)-e)/n},Od=t=>{const e=[];for(let n=0;n<t.length;n++)e.push({start:t.start(n),end:t.end(n)});return e},mue=function(t,e){if(t===e)return!1;if(!t&&e||!e&&t||t.length!==e.length)return!0;for(let n=0;n<t.length;n++)if(t.start(n)!==e.start(n)||t.end(n)!==e.end(n))return!0;return!1},Lw=function(t){if(!(!t||!t.length||!t.end))return t.end(t.length-1)},Lk=function(t,e){let n=0;if(!t||!t.length)return n;for(let r=0;r<t.length;r++){const s=t.start(r),i=t.end(r);if(!(e>i)){if(e>s&&e<=i){n+=i-e;continue}n+=i-s}}return n},Fk=(t,e)=>{if(!e.preload)return e.duration;let n=0;return(e.parts||[]).forEach(function(r){n+=r.duration}),(e.preloadHints||[]).forEach(function(r){r.type==="PART"&&(n+=t.partTargetDuration)}),n},PS=t=>(t.segments||[]).reduce((e,n,r)=>(n.parts?n.parts.forEach(function(s,i){e.push({duration:s.duration,segmentIndex:r,partIndex:i,part:s,segment:n})}):e.push({duration:n.duration,segmentIndex:r,partIndex:null,segment:n,part:null}),e),[]),e8=t=>{const e=t.segments&&t.segments.length&&t.segments[t.segments.length-1];return e&&e.parts||[]},t8=({preloadSegment:t})=>{if(!t)return;const{parts:e,preloadHints:n}=t;let r=(n||[]).reduce((s,i)=>s+(i.type==="PART"?1:0),0);return r+=e&&e.length?e.length:0,r},n8=(t,e)=>{if(e.endList)return 0;if(t&&t.suggestedPresentationDelay)return t.suggestedPresentationDelay;const n=e8(e).length>0;return n&&e.serverControl&&e.serverControl.partHoldBack?e.serverControl.partHoldBack:n&&e.partTargetDuration?e.partTargetDuration*3:e.serverControl&&e.serverControl.holdBack?e.serverControl.holdBack:e.targetDuration?e.targetDuration*3:0},gue=function(t,e){let n=0,r=e-t.mediaSequence,s=t.segments[r];if(s){if(typeof s.start<"u")return{result:s.start,precise:!0};if(typeof s.end<"u")return{result:s.end-s.duration,precise:!0}}for(;r--;){if(s=t.segments[r],typeof s.end<"u")return{result:n+s.end,precise:!0};if(n+=Fk(t,s),typeof s.start<"u")return{result:n+s.start,precise:!0}}return{result:n,precise:!1}},yue=function(t,e){let n=0,r,s=e-t.mediaSequence;for(;s<t.segments.length;s++){if(r=t.segments[s],typeof r.start<"u")return{result:r.start-n,precise:!0};if(n+=Fk(t,r),typeof r.end<"u")return{result:r.end-n,precise:!0}}return{result:-1,precise:!1}},r8=function(t,e,n){if(typeof e>"u"&&(e=t.mediaSequence+t.segments.length),e<t.mediaSequence)return 0;const r=gue(t,e);if(r.precise)return r.result;const s=yue(t,e);return s.precise?s.result:r.result+n},s8=function(t,e,n){if(!t)return 0;if(typeof n!="number"&&(n=0),typeof e>"u"){if(t.totalDuration)return t.totalDuration;if(!t.endList)return De.Infinity}return r8(t,e,n)},ng=function({defaultDuration:t,durationList:e,startIndex:n,endIndex:r}){let s=0;if(n>r&&([n,r]=[r,n]),n<0){for(let i=n;i<Math.min(0,r);i++)s+=t;n=0}for(let i=n;i<r;i++)s+=e[i].duration;return s},i8=function(t,e,n,r){if(!t||!t.segments)return null;if(t.endList)return s8(t);if(e===null)return null;e=e||0;let s=r8(t,t.mediaSequence+t.segments.length,e);return n&&(r=typeof r=="number"?r:n8(null,t),s-=r),Math.max(0,s)},bue=function(t,e,n){const s=e||0;let i=i8(t,e,!0,n);return i===null?Ts():(i<s&&(i=s),Ts(s,i))},xue=function({playlist:t,currentTime:e,startingSegmentIndex:n,startingPartIndex:r,startTime:s,exactManifestTimings:i}){let a=e-s;const l=PS(t);let c=0;for(let u=0;u<l.length;u++){const h=l[u];if(n===h.segmentIndex&&!(typeof r=="number"&&typeof h.partIndex=="number"&&r!==h.partIndex)){c=u;break}}if(a<0){if(c>0)for(let u=c-1;u>=0;u--){const h=l[u];if(a+=h.duration,i){if(a<0)continue}else if(a+gl<=0)continue;return{partIndex:h.partIndex,segmentIndex:h.segmentIndex,startTime:s-ng({defaultDuration:t.targetDuration,durationList:l,startIndex:c,endIndex:u})}}return{partIndex:l[0]&&l[0].partIndex||null,segmentIndex:l[0]&&l[0].segmentIndex||0,startTime:e}}if(c<0){for(let u=c;u<0;u++)if(a-=t.targetDuration,a<0)return{partIndex:l[0]&&l[0].partIndex||null,segmentIndex:l[0]&&l[0].segmentIndex||0,startTime:e};c=0}for(let u=c;u<l.length;u++){const h=l[u];a-=h.duration;const f=h.duration>gl,m=a===0,g=f&&a+gl>=0;if(!((m||g)&&u!==l.length-1)){if(i){if(a>0)continue}else if(a-gl>=0)continue;return{partIndex:h.partIndex,segmentIndex:h.segmentIndex,startTime:s+ng({defaultDuration:t.targetDuration,durationList:l,startIndex:c,endIndex:u})}}}return{segmentIndex:l[l.length-1].segmentIndex,partIndex:l[l.length-1].partIndex,startTime:e}},a8=function(t){return t.excludeUntil&&t.excludeUntil>Date.now()},Bk=function(t){return t.excludeUntil&&t.excludeUntil===1/0},Qv=function(t){const e=a8(t);return!t.disabled&&!e},vue=function(t){return t.disabled},_ue=function(t){for(let e=0;e<t.segments.length;e++)if(t.segments[e].key)return!0;return!1},o8=function(t,e){return e.attributes&&e.attributes[t]},wue=function(t,e,n,r=0){return o8("BANDWIDTH",n)?(t*n.attributes.BANDWIDTH-r*8)/e:NaN},IS=(t,e)=>{if(t.playlists.length===1)return!0;const n=e.attributes.BANDWIDTH||Number.MAX_VALUE;return t.playlists.filter(r=>Qv(r)?(r.attributes.BANDWIDTH||0)<n:!1).length===0},$k=(t,e)=>!t&&!e||!t&&e||t&&!e?!1:!!(t===e||t.id&&e.id&&t.id===e.id||t.resolvedUri&&e.resolvedUri&&t.resolvedUri===e.resolvedUri||t.uri&&e.uri&&t.uri===e.uri),I5=function(t,e){const n=t&&t.mediaGroups&&t.mediaGroups.AUDIO||{};let r=!1;for(const s in n){for(const i in n[s])if(r=e(n[s][i]),r)break;if(r)break}return!!r},x0=t=>{if(!t||!t.playlists||!t.playlists.length)return I5(t,n=>n.playlists&&n.playlists.length||n.uri);for(let e=0;e<t.playlists.length;e++){const n=t.playlists[e],r=n.attributes&&n.attributes.CODECS;if(!(r&&r.split(",").every(i=>xL(i))||I5(t,i=>$k(n,i))))return!1}return!0};var Ui={liveEdgeDelay:n8,duration:s8,seekable:bue,getMediaInfoForTime:xue,isEnabled:Qv,isDisabled:vue,isExcluded:a8,isIncompatible:Bk,playlistEnd:i8,isAes:_ue,hasAttribute:o8,estimateSegmentRequestTime:wue,isLowestEnabledRendition:IS,isAudioOnly:x0,playlistMatch:$k,segmentDurationWithParts:Fk};const{log:l8}=tt,Af=(t,e)=>`${t}-${e}`,c8=(t,e,n)=>`placeholder-uri-${t}-${e}-${n}`,Sue=({onwarn:t,oninfo:e,manifestString:n,customTagParsers:r=[],customTagMappers:s=[],llhls:i})=>{const a=new uoe;t&&a.on("warn",t),e&&a.on("info",e),r.forEach(u=>a.addParser(u)),s.forEach(u=>a.addTagMapper(u)),a.push(n),a.end();const l=a.manifest;if(i||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(u){l.hasOwnProperty(u)&&delete l[u]}),l.segments&&l.segments.forEach(function(u){["parts","preloadHints"].forEach(function(h){u.hasOwnProperty(h)&&delete u[h]})})),!l.targetDuration){let u=10;l.segments&&l.segments.length&&(u=l.segments.reduce((h,f)=>Math.max(h,f.duration),0)),t&&t({message:`manifest has no targetDuration defaulting to ${u}`}),l.targetDuration=u}const c=e8(l);if(c.length&&!l.partTargetDuration){const u=c.reduce((h,f)=>Math.max(h,f.duration),0);t&&(t({message:`manifest has no partTargetDuration defaulting to ${u}`}),l8.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),l.partTargetDuration=u}return l},Tp=(t,e)=>{t.mediaGroups&&["AUDIO","SUBTITLES"].forEach(n=>{if(t.mediaGroups[n])for(const r in t.mediaGroups[n])for(const s in t.mediaGroups[n][r]){const i=t.mediaGroups[n][r][s];e(i,n,r,s)}})},u8=({playlist:t,uri:e,id:n})=>{t.id=n,t.playlistErrors_=0,e&&(t.uri=e),t.attributes=t.attributes||{}},Cue=t=>{let e=t.playlists.length;for(;e--;){const n=t.playlists[e];u8({playlist:n,id:Af(e,n.uri)}),n.resolvedUri=$i(t.uri,n.uri),t.playlists[n.id]=n,t.playlists[n.uri]=n,n.attributes.BANDWIDTH||l8.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},Tue=t=>{Tp(t,e=>{e.uri&&(e.resolvedUri=$i(t.uri,e.uri))})},kue=(t,e)=>{const n=Af(0,e),r={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:De.location.href,resolvedUri:De.location.href,playlists:[{uri:e,id:n,resolvedUri:e,attributes:{}}]};return r.playlists[n]=r.playlists[0],r.playlists[e]=r.playlists[0],r},d8=(t,e,n=c8)=>{t.uri=e;for(let s=0;s<t.playlists.length;s++)if(!t.playlists[s].uri){const i=`placeholder-uri-${s}`;t.playlists[s].uri=i}const r=x0(t);Tp(t,(s,i,a,l)=>{if(!s.playlists||!s.playlists.length){if(r&&i==="AUDIO"&&!s.uri)for(let c=0;c<t.playlists.length;c++){const u=t.playlists[c];if(u.attributes&&u.attributes.AUDIO&&u.attributes.AUDIO===a)return}s.playlists=[Ge({},s)]}s.playlists.forEach(function(c,u){const h=n(i,a,l,c),f=Af(u,h);c.uri?c.resolvedUri=c.resolvedUri||$i(t.uri,c.uri):(c.uri=u===0?h:f,c.resolvedUri=c.uri),c.id=c.id||f,c.attributes=c.attributes||{},t.playlists[c.id]=c,t.playlists[c.uri]=c})}),Cue(t),Tue(t)};class O5{constructor(){this.offset_=null,this.pendingDateRanges_=new Map,this.processedDateRanges_=new Map}setOffset(e=[]){if(this.offset_!==null||!e.length)return;const[n]=e;n.programDateTime!==void 0&&(this.offset_=n.programDateTime/1e3)}setPendingDateRanges(e=[]){if(!e.length)return;const[n]=e,r=n.startDate.getTime();this.trimProcessedDateRanges_(r),this.pendingDateRanges_=e.reduce((s,i)=>(s.set(i.id,i),s),new Map)}processDateRange(e){this.pendingDateRanges_.delete(e.id),this.processedDateRanges_.set(e.id,e)}getDateRangesToProcess(){if(this.offset_===null)return[];const e={},n=[];this.pendingDateRanges_.forEach((r,s)=>{if(!this.processedDateRanges_.has(s)&&(r.startTime=r.startDate.getTime()/1e3-this.offset_,r.processDateRange=()=>this.processDateRange(r),n.push(r),!!r.class))if(e[r.class]){const i=e[r.class].push(r);r.classListIndex=i-1}else e[r.class]=[r],r.classListIndex=0});for(const r of n){const s=e[r.class]||[];r.endDate?r.endTime=r.endDate.getTime()/1e3-this.offset_:r.endOnNext&&s[r.classListIndex+1]?r.endTime=s[r.classListIndex+1].startTime:r.duration?r.endTime=r.startTime+r.duration:r.plannedDuration?r.endTime=r.startTime+r.plannedDuration:r.endTime=r.startTime}return n}trimProcessedDateRanges_(e){new Map(this.processedDateRanges_).forEach((r,s)=>{r.startDate.getTime()<e&&this.processedDateRanges_.delete(s)})}}const h8=22,Wd=({requestType:t,request:e,error:n,parseFailure:r})=>{const s=e.status<200||e.status>299,i=e.status>=400&&e.status<=499,a={uri:e.uri,requestType:t},l=s&&!i||r;if(n&&i)a.error=Ge({},n),a.errorType=tt.Error.NetworkRequestFailed;else if(e.aborted)a.errorType=tt.Error.NetworkRequestAborted;else if(e.timedout)a.erroType=tt.Error.NetworkRequestTimeout;else if(l){const c=r?tt.Error.NetworkBodyParserFailed:tt.Error.NetworkBadStatus;a.errorType=c,a.status=e.status,a.headers=e.headers}return a},Eue=ro("CodecUtils"),f8=function(t){const e=t.attributes||{};if(e.CODECS)return ll(e.CODECS)},p8=(t,e)=>{const n=e.attributes||{};return t&&t.mediaGroups&&t.mediaGroups.AUDIO&&n.AUDIO&&t.mediaGroups.AUDIO[n.AUDIO]},jue=(t,e)=>{if(!p8(t,e))return!0;const n=e.attributes||{},r=t.mediaGroups.AUDIO[n.AUDIO];for(const s in r)if(!r[s].uri&&!r[s].playlists)return!0;return!1},Og=function(t){const e={};return t.forEach(({mediaType:n,type:r,details:s})=>{e[n]=e[n]||[],e[n].push(bL(`${r}${s}`))}),Object.keys(e).forEach(function(n){if(e[n].length>1){Eue(`multiple ${n} codecs found as attributes: ${e[n].join(", ")}. Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs.`),e[n]=null;return}e[n]=e[n][0]}),e},M5=function(t){let e=0;return t.audio&&e++,t.video&&e++,e},rg=function(t,e){const n=e.attributes||{},r=Og(f8(e)||[]);if(p8(t,e)&&!r.audio&&!jue(t,e)){const s=Og(hoe(t,n.AUDIO)||[]);s.audio&&(r.audio=s.audio)}return r},{EventTarget:Nue}=tt,Due=(t,e)=>{if(e.endList||!e.serverControl)return t;const n={};if(e.serverControl.canBlockReload){const{preloadSegment:r}=e;let s=e.mediaSequence+e.segments.length;if(r){const i=r.parts||[],a=t8(e)-1;a>-1&&a!==i.length-1&&(n._HLS_part=a),(a>-1||i.length)&&s--}n._HLS_msn=s}if(e.serverControl&&e.serverControl.canSkipUntil&&(n._HLS_skip=e.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(n).length){const r=new De.URL(t);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(s){n.hasOwnProperty(s)&&r.searchParams.set(s,n[s])}),t=r.toString()}return t},Aue=(t,e)=>{if(!t)return e;const n=ir(t,e);if(t.preloadHints&&!e.preloadHints&&delete n.preloadHints,t.parts&&!e.parts)delete n.parts;else if(t.parts&&e.parts)for(let r=0;r<e.parts.length;r++)t.parts&&t.parts[r]&&(n.parts[r]=ir(t.parts[r],e.parts[r]));return!t.skipped&&e.skipped&&(n.skipped=!1),t.preload&&!e.preload&&(n.preload=!1),n},Pue=(t,e,n)=>{const r=t.slice(),s=e.slice();n=n||0;const i=[];let a;for(let l=0;l<s.length;l++){const c=r[l+n],u=s[l];c?(a=c.map||a,i.push(Aue(c,u))):(a&&!u.map&&(u.map=a),i.push(u))}return i},m8=(t,e)=>{!t.resolvedUri&&t.uri&&(t.resolvedUri=$i(e,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=$i(e,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=$i(e,t.map.uri)),t.map&&t.map.key&&!t.map.key.resolvedUri&&(t.map.key.resolvedUri=$i(e,t.map.key.uri)),t.parts&&t.parts.length&&t.parts.forEach(n=>{n.resolvedUri||(n.resolvedUri=$i(e,n.uri))}),t.preloadHints&&t.preloadHints.length&&t.preloadHints.forEach(n=>{n.resolvedUri||(n.resolvedUri=$i(e,n.uri))})},g8=function(t){const e=t.segments||[],n=t.preloadSegment;if(n&&n.parts&&n.parts.length){if(n.preloadHints){for(let r=0;r<n.preloadHints.length;r++)if(n.preloadHints[r].type==="MAP")return e}n.duration=t.targetDuration,n.preload=!0,e.push(n)}return e},y8=(t,e)=>t===e||t.segments&&e.segments&&t.segments.length===e.segments.length&&t.endList===e.endList&&t.mediaSequence===e.mediaSequence&&t.preloadSegment===e.preloadSegment,OS=(t,e,n=y8)=>{const r=ir(t,{}),s=r.playlists[e.id];if(!s||n(s,e))return null;e.segments=g8(e);const i=ir(s,e);if(i.preloadSegment&&!e.preloadSegment&&delete i.preloadSegment,s.segments){if(e.skip){e.segments=e.segments||[];for(let a=0;a<e.skip.skippedSegments;a++)e.segments.unshift({skipped:!0})}i.segments=Pue(s.segments,e.segments,e.mediaSequence-s.mediaSequence)}i.segments.forEach(a=>{m8(a,i.resolvedUri)});for(let a=0;a<r.playlists.length;a++)r.playlists[a].id===e.id&&(r.playlists[a]=i);return r.playlists[e.id]=i,r.playlists[e.uri]=i,Tp(t,(a,l,c,u)=>{if(a.playlists)for(let h=0;h<a.playlists.length;h++)e.id===a.playlists[h].id&&(a.playlists[h]=i)}),r},MS=(t,e)=>{const n=t.segments||[],r=n[n.length-1],s=r&&r.parts&&r.parts[r.parts.length-1],i=s&&s.duration||r&&r.duration;return e&&i?i*1e3:(t.partTargetDuration||t.targetDuration||10)*500},R5=(t,e,n)=>{if(!t)return;const r=[];return t.forEach(s=>{if(!s.attributes)return;const{BANDWIDTH:i,RESOLUTION:a,CODECS:l}=s.attributes;r.push({id:s.id,bandwidth:i,resolution:a,codecs:l})}),{type:e,isLive:n,renditions:r}};class gf extends Nue{constructor(e,n,r={}){if(super(),!e)throw new Error("A non-empty playlist URL or object is required");this.logger_=ro("PlaylistLoader");const{withCredentials:s=!1}=r;this.src=e,this.vhs_=n,this.withCredentials=s,this.addDateRangesToTextTrack_=r.addDateRangesToTextTrack;const i=n.options_;this.customTagParsers=i&&i.customTagParsers||[],this.customTagMappers=i&&i.customTagMappers||[],this.llhls=i&&i.llhls,this.dateRangesStorage_=new O5,this.state="HAVE_NOTHING",this.handleMediaupdatetimeout_=this.handleMediaupdatetimeout_.bind(this),this.on("mediaupdatetimeout",this.handleMediaupdatetimeout_),this.on("loadedplaylist",this.handleLoadedPlaylist_.bind(this))}handleLoadedPlaylist_(){const e=this.media();if(!e)return;this.dateRangesStorage_.setOffset(e.segments),this.dateRangesStorage_.setPendingDateRanges(e.dateRanges);const n=this.dateRangesStorage_.getDateRangesToProcess();!n.length||!this.addDateRangesToTextTrack_||this.addDateRangesToTextTrack_(n)}handleMediaupdatetimeout_(){if(this.state!=="HAVE_METADATA")return;const e=this.media();let n=$i(this.main.uri,e.uri);this.llhls&&(n=Due(n,e)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:n,withCredentials:this.withCredentials,requestType:"hls-playlist"},(r,s)=>{if(this.request){if(r)return this.playlistRequestError(this.request,this.media(),"HAVE_METADATA");this.haveMetadata({playlistString:this.request.responseText,url:this.media().uri,id:this.media().id})}})}playlistRequestError(e,n,r){const{uri:s,id:i}=n;this.request=null,r&&(this.state=r),this.error={playlist:this.main.playlists[i],status:e.status,message:`HLS playlist request error at URL: ${s}.`,responseText:e.responseText,code:e.status>=500?4:2,metadata:Wd({requestType:e.requestType,request:e,error:e.error})},this.trigger("error")}parseManifest_({url:e,manifestString:n}){try{const r=Sue({onwarn:({message:s})=>this.logger_(`m3u8-parser warn for ${e}: ${s}`),oninfo:({message:s})=>this.logger_(`m3u8-parser info for ${e}: ${s}`),manifestString:n,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,llhls:this.llhls});return!r.playlists||!r.playlists.length||this.excludeAudioOnlyVariants(r.playlists),r}catch(r){this.error=r,this.error.metadata={errorType:tt.Error.StreamingHlsPlaylistParserError,error:r}}}excludeAudioOnlyVariants(e){const n=r=>{const s=r.attributes||{},{width:i,height:a}=s.RESOLUTION||{};if(i&&a)return!0;const l=f8(r)||[];return!!Og(l).video};e.some(n)&&e.forEach(r=>{n(r)||(r.excludeUntil=1/0)})}haveMetadata({playlistString:e,playlistObject:n,url:r,id:s}){this.request=null,this.state="HAVE_METADATA";const i={playlistInfo:{type:"media",uri:r}};this.trigger({type:"playlistparsestart",metadata:i});const a=n||this.parseManifest_({url:r,manifestString:e});a.lastRequest=Date.now(),u8({playlist:a,uri:r,id:s});const l=OS(this.main,a);this.targetDuration=a.partTargetDuration||a.targetDuration,this.pendingMedia_=null,l?(this.main=l,this.media_=this.main.playlists[s]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(MS(this.media(),!!l)),i.parsedPlaylist=R5(this.main.playlists,i.playlistInfo.type,!this.media_.endList),this.trigger({type:"playlistparsecomplete",metadata:i}),this.trigger("loadedplaylist")}dispose(){this.trigger("dispose"),this.stopRequest(),De.clearTimeout(this.mediaUpdateTimeout),De.clearTimeout(this.finalRenditionTimeout),this.dateRangesStorage_=new O5,this.off()}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e,n){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof e=="string"){if(!this.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.main.playlists[e]}if(De.clearTimeout(this.finalRenditionTimeout),n){const l=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=De.setTimeout(this.media.bind(this,e,!1),l);return}const r=this.state,s=!this.media_||e.id!==this.media_.id,i=this.main.playlists[e.id];if(i&&i.endList||e.endList&&e.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,s&&(this.trigger("mediachanging"),r==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(MS(e,!0)),!s)return;if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e;const a={playlistInfo:{type:"media",uri:e.uri}};this.trigger({type:"playlistrequeststart",metadata:a}),this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials,requestType:"hls-playlist"},(l,c)=>{if(this.request){if(e.lastRequest=Date.now(),e.resolvedUri=gx(e.resolvedUri,c),l)return this.playlistRequestError(this.request,e,r);this.trigger({type:"playlistrequestcomplete",metadata:a}),this.haveMetadata({playlistString:c.responseText,url:e.uri,id:e.id}),r==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}})}pause(){this.mediaUpdateTimeout&&(De.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MAIN_MANIFEST":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")}load(e){this.mediaUpdateTimeout&&(De.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);const n=this.media();if(e){const r=n?(n.partTargetDuration||n.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=De.setTimeout(()=>{this.mediaUpdateTimeout=null,this.load()},r);return}if(!this.started){this.start();return}n&&!n.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")}updateMediaUpdateTimeout_(e){this.mediaUpdateTimeout&&(De.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=De.setTimeout(()=>{this.mediaUpdateTimeout=null,this.trigger("mediaupdatetimeout"),this.updateMediaUpdateTimeout_(e)},e))}start(){if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=De.location.href),this.src.resolvedUri=this.src.uri,setTimeout(()=>{this.setupInitialPlaylist(this.src)},0);return}const e={playlistInfo:{type:"multivariant",uri:this.src}};this.trigger({type:"playlistrequeststart",metadata:e}),this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials,requestType:"hls-playlist"},(n,r)=>{if(!this.request)return;if(this.request=null,n)return this.error={status:r.status,message:`HLS playlist request error at URL: ${this.src}.`,responseText:r.responseText,code:2,metadata:Wd({requestType:r.requestType,request:r,error:n})},this.state==="HAVE_NOTHING"&&(this.started=!1),this.trigger("error");this.trigger({type:"playlistrequestcomplete",metadata:e}),this.src=gx(this.src,r),this.trigger({type:"playlistparsestart",metadata:e});const s=this.parseManifest_({manifestString:r.responseText,url:this.src});e.parsedPlaylist=R5(s.playlists,e.playlistInfo.type,!1),this.trigger({type:"playlistparsecomplete",metadata:e}),this.setupInitialPlaylist(s)})}srcUri(){return typeof this.src=="string"?this.src:this.src.uri}setupInitialPlaylist(e){if(this.state="HAVE_MAIN_MANIFEST",e.playlists){this.main=e,d8(this.main,this.srcUri()),e.playlists.forEach(r=>{r.segments=g8(r),r.segments.forEach(s=>{m8(s,r.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.main.playlists[0]);return}const n=this.srcUri()||De.location.href;this.main=kue(e,n),this.haveMetadata({playlistObject:e,url:n,id:this.main.playlists[0].id}),this.trigger("loadedmetadata")}updateOrDeleteClone(e,n){const r=this.main,s=e.ID;let i=r.playlists.length;for(;i--;){const a=r.playlists[i];if(a.attributes["PATHWAY-ID"]===s){const l=a.resolvedUri,c=a.id;if(n){const u=this.createCloneURI_(a.resolvedUri,e),h=Af(s,u),f=this.createCloneAttributes_(s,a.attributes),m=this.createClonePlaylist_(a,h,e,f);r.playlists[i]=m,r.playlists[h]=m,r.playlists[u]=m}else r.playlists.splice(i,1);delete r.playlists[c],delete r.playlists[l]}}this.updateOrDeleteCloneMedia(e,n)}updateOrDeleteCloneMedia(e,n){const r=this.main,s=e.ID;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(i=>{if(!(!r.mediaGroups[i]||!r.mediaGroups[i][s])){for(const a in r.mediaGroups[i])if(a===s){for(const l in r.mediaGroups[i][a])r.mediaGroups[i][a][l].playlists.forEach((u,h)=>{const f=r.playlists[u.id],m=f.id,g=f.resolvedUri;delete r.playlists[m],delete r.playlists[g]});delete r.mediaGroups[i][a]}}}),n&&this.createClonedMediaGroups_(e)}addClonePathway(e,n={}){const r=this.main,s=r.playlists.length,i=this.createCloneURI_(n.resolvedUri,e),a=Af(e.ID,i),l=this.createCloneAttributes_(e.ID,n.attributes),c=this.createClonePlaylist_(n,a,e,l);r.playlists[s]=c,r.playlists[a]=c,r.playlists[i]=c,this.createClonedMediaGroups_(e)}createClonedMediaGroups_(e){const n=e.ID,r=e["BASE-ID"],s=this.main;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(i=>{if(!(!s.mediaGroups[i]||s.mediaGroups[i][n]))for(const a in s.mediaGroups[i]){if(a===r)s.mediaGroups[i][n]={};else continue;for(const l in s.mediaGroups[i][a]){const c=s.mediaGroups[i][a][l];s.mediaGroups[i][n][l]=Ge({},c);const u=s.mediaGroups[i][n][l],h=this.createCloneURI_(c.resolvedUri,e);u.resolvedUri=h,u.uri=h,u.playlists=[],c.playlists.forEach((f,m)=>{const g=s.playlists[f.id],b=c8(i,n,l),y=Af(n,b);if(g&&!s.playlists[y]){const x=this.createClonePlaylist_(g,y,e),_=x.resolvedUri;s.playlists[y]=x,s.playlists[_]=x}u.playlists[m]=this.createClonePlaylist_(f,y,e)})}}})}createClonePlaylist_(e,n,r,s){const i=this.createCloneURI_(e.resolvedUri,r),a={resolvedUri:i,uri:i,id:n};return e.segments&&(a.segments=[]),s&&(a.attributes=s),ir(e,a)}createCloneURI_(e,n){const r=new URL(e);r.hostname=n["URI-REPLACEMENT"].HOST;const s=n["URI-REPLACEMENT"].PARAMS;for(const i of Object.keys(s))r.searchParams.set(i,s[i]);return r.href}createCloneAttributes_(e,n){const r={"PATHWAY-ID":e};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(s=>{n[s]&&(r[s]=e)}),r}getKeyIdSet(e){if(e.contentProtection){const n=new Set;for(const r in e.contentProtection){const s=e.contentProtection[r].attributes.keyId;s&&n.add(s.toLowerCase())}return n}}}const RS=function(t,e,n,r){const s=t.responseType==="arraybuffer"?t.response:t.responseText;!e&&s&&(t.responseTime=Date.now(),t.roundTripTime=t.responseTime-t.requestTime,t.bytesReceived=s.byteLength||s.length,t.bandwidth||(t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8*1e3))),n.headers&&(t.responseHeaders=n.headers),e&&e.code==="ETIMEDOUT"&&(t.timedout=!0),!e&&!t.aborted&&n.statusCode!==200&&n.statusCode!==206&&n.statusCode!==0&&(e=new Error("XHR Failed with a response of: "+(t&&(s||t.responseText)))),r(e,t)},Iue=(t,e)=>{if(!t||!t.size)return;let n=e;return t.forEach(r=>{n=r(n)}),n},Oue=(t,e,n,r)=>{!t||!t.size||t.forEach(s=>{s(e,n,r)})},b8=function(){const t=function e(n,r){n=ir({timeout:45e3},n);const s=e.beforeRequest||tt.Vhs.xhr.beforeRequest,i=e._requestCallbackSet||tt.Vhs.xhr._requestCallbackSet||new Set,a=e._responseCallbackSet||tt.Vhs.xhr._responseCallbackSet;s&&typeof s=="function"&&(tt.log.warn("beforeRequest is deprecated, use onRequest instead."),i.add(s));const l=tt.Vhs.xhr.original===!0?tt.xhr:tt.Vhs.xhr,c=Iue(i,n);i.delete(s);const u=l(c||n,function(f,m){return Oue(a,u,f,m),RS(u,f,m,r)}),h=u.abort;return u.abort=function(){return u.aborted=!0,h.apply(u,arguments)},u.uri=n.uri,u.requestType=n.requestType,u.requestTime=Date.now(),u};return t.original=!0,t},Mue=function(t){let e;const n=t.offset;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=De.BigInt(t.offset)+De.BigInt(t.length)-De.BigInt(1):e=t.offset+t.length-1,"bytes="+n+"-"+e},LS=function(t){const e={};return t.byterange&&(e.Range=Mue(t.byterange)),e},Rue=function(t,e){return t.start(e)+"-"+t.end(e)},Lue=function(t,e){const n=t.toString(16);return"00".substring(0,2-n.length)+n+(e%2?" ":"")},Fue=function(t){return t>=32&&t<126?String.fromCharCode(t):"."},x8=function(t){const e={};return Object.keys(t).forEach(n=>{const r=t[n];_L(r)?e[n]={bytes:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength}:e[n]=r}),e},yx=function(t){const e=t.byterange||{length:1/0,offset:0};return[e.length,e.offset,t.resolvedUri].join(",")},v8=function(t){return t.resolvedUri},_8=t=>{const e=Array.prototype.slice.call(t),n=16;let r="",s,i;for(let a=0;a<e.length/n;a++)s=e.slice(a*n,a*n+n).map(Lue).join(""),i=e.slice(a*n,a*n+n).map(Fue).join(""),r+=s+" "+i+`
`;return r},Bue=({bytes:t})=>_8(t),$ue=t=>{let e="",n;for(n=0;n<t.length;n++)e+=Rue(t,n)+" ";return e};var zue=Object.freeze({__proto__:null,createTransferableMessage:x8,initSegmentId:yx,segmentKeyId:v8,hexDump:_8,tagDump:Bue,textRanges:$ue});const w8=.25,Uue=(t,e)=>{if(!e.dateTimeObject)return null;const n=e.videoTimingInfo.transmuxerPrependedSeconds,s=e.videoTimingInfo.transmuxedPresentationStart+n,i=t-s;return new Date(e.dateTimeObject.getTime()+i*1e3)},Hue=t=>t.transmuxedPresentationEnd-t.transmuxedPresentationStart-t.transmuxerPrependedSeconds,Wue=(t,e)=>{let n;try{n=new Date(t)}catch{return null}if(!e||!e.segments||e.segments.length===0)return null;let r=e.segments[0];if(n<new Date(r.dateTimeObject))return null;for(let c=0;c<e.segments.length-1;c++){r=e.segments[c];const u=new Date(e.segments[c+1].dateTimeObject);if(n<u)break}const s=e.segments[e.segments.length-1],i=s.dateTimeObject,a=s.videoTimingInfo?Hue(s.videoTimingInfo):s.duration+s.duration*w8,l=new Date(i.getTime()+a*1e3);return n>l?null:(n>new Date(i)&&(r=s),{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:Ui.duration(e,e.mediaSequence+e.segments.indexOf(r)),type:r.videoTimingInfo?"accurate":"estimate"})},Vue=(t,e)=>{if(!e||!e.segments||e.segments.length===0)return null;let n=0,r;for(let i=0;i<e.segments.length&&(r=e.segments[i],n=r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationEnd:n+r.duration,!(t<=n));i++);const s=e.segments[e.segments.length-1];if(s.videoTimingInfo&&s.videoTimingInfo.transmuxedPresentationEnd<t)return null;if(t>n){if(t>n+s.duration*w8)return null;r=s}return{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:n-r.duration,type:r.videoTimingInfo?"accurate":"estimate"}},que=(t,e)=>{let n,r;try{n=new Date(t),r=new Date(e)}catch{}const s=n.getTime();return(r.getTime()-s)/1e3},Yue=t=>{if(!t.segments||t.segments.length===0)return!1;for(let e=0;e<t.segments.length;e++)if(!t.segments[e].dateTimeObject)return!1;return!0},Gue=({playlist:t,time:e=void 0,callback:n})=>{if(!n)throw new Error("getProgramTime: callback must be provided");if(!t||e===void 0)return n({message:"getProgramTime: playlist and time must be provided"});const r=Vue(e,t);if(!r)return n({message:"valid programTime was not found"});if(r.type==="estimate")return n({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:r.estimatedStart});const s={mediaSeconds:e},i=Uue(e,r.segment);return i&&(s.programDateTime=i.toISOString()),n(null,s)},S8=({programTime:t,playlist:e,retryCount:n=2,seekTo:r,pauseAfterSeek:s=!0,tech:i,callback:a})=>{if(!a)throw new Error("seekToProgramTime: callback must be provided");if(typeof t>"u"||!e||!r)return a({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!e.endList&&!i.hasStarted_)return a({message:"player must be playing a live stream to start buffering"});if(!Yue(e))return a({message:"programDateTime tags must be provided in the manifest "+e.resolvedUri});const l=Wue(t,e);if(!l)return a({message:`${t} was not found in the stream`});const c=l.segment,u=que(c.dateTimeObject,t);if(l.type==="estimate"){if(n===0)return a({message:`${t} is not buffered yet. Try again`});r(l.estimatedStart+u),i.one("seeked",()=>{S8({programTime:t,playlist:e,retryCount:n-1,seekTo:r,pauseAfterSeek:s,tech:i,callback:a})});return}const h=c.start+u,f=()=>a(null,i.currentTime());i.one("seeked",f),s&&i.pause(),r(h)},Fw=(t,e)=>{if(t.readyState===4)return e()},Kue=(t,e,n,r)=>{let s=[],i,a=!1;const l=function(f,m,g,b){return m.abort(),a=!0,n(f,m,g,b)},c=function(f,m){if(a)return;if(f)return f.metadata=Wd({requestType:r,request:m,error:f}),l(f,m,"",s);const g=m.responseText.substring(s&&s.byteLength||0,m.responseText.length);if(s=woe(s,wL(g,!0)),i=i||Bm(s),s.length<10||i&&s.length<i+2)return Fw(m,()=>l(f,m,"",s));const b=uk(s);return b==="ts"&&s.length<188?Fw(m,()=>l(f,m,"",s)):!b&&s.length<376?Fw(m,()=>l(f,m,"",s)):l(null,m,b,s)},h=e({uri:t,beforeSend(f){f.overrideMimeType("text/plain; charset=x-user-defined"),f.addEventListener("progress",function({total:m,loaded:g}){return RS(f,null,{statusCode:f.status},c)})}},function(f,m){return RS(h,f,m,c)});return h},{EventTarget:Xue}=tt,L5=function(t,e){if(!y8(t,e)||t.sidx&&e.sidx&&(t.sidx.offset!==e.sidx.offset||t.sidx.length!==e.sidx.length))return!1;if(!t.sidx&&e.sidx||t.sidx&&!e.sidx||t.segments&&!e.segments||!t.segments&&e.segments)return!1;if(!t.segments&&!e.segments)return!0;for(let n=0;n<t.segments.length;n++){const r=t.segments[n],s=e.segments[n];if(r.uri!==s.uri)return!1;if(!r.byterange&&!s.byterange)continue;const i=r.byterange,a=s.byterange;if(i&&!a||!i&&a||i.offset!==a.offset||i.length!==a.length)return!1}return!0},Que=(t,e,n,r)=>{const s=r.attributes.NAME||n;return`placeholder-uri-${t}-${e}-${s}`},Zue=({mainXml:t,srcUrl:e,clientOffset:n,sidxMapping:r,previousManifest:s})=>{const i=vle(t,{manifestUri:e,clientOffset:n,sidxMapping:r,previousManifest:s});return d8(i,e,Que),i},Jue=(t,e)=>{Tp(t,(n,r,s,i)=>{(!e.mediaGroups[r][s]||!(i in e.mediaGroups[r][s]))&&delete t.mediaGroups[r][s][i]})},ede=(t,e,n)=>{let r=!0,s=ir(t,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod,timelineStarts:e.timelineStarts});for(let i=0;i<e.playlists.length;i++){const a=e.playlists[i];if(a.sidx){const c=Iv(a.sidx);n&&n[c]&&n[c].sidx&&ok(a,n[c].sidx,a.sidx.resolvedUri)}const l=OS(s,a,L5);l&&(s=l,r=!1)}return Tp(e,(i,a,l,c)=>{if(i.playlists&&i.playlists.length){const u=i.playlists[0].id,h=OS(s,i.playlists[0],L5);h&&(s=h,c in s.mediaGroups[a][l]||(s.mediaGroups[a][l][c]=i),s.mediaGroups[a][l][c].playlists[0]=s.playlists[u],r=!1)}}),Jue(s,e),e.minimumUpdatePeriod!==t.minimumUpdatePeriod&&(r=!1),r?null:s},tde=(t,e)=>(!t.map&&!e.map||!!(t.map&&e.map&&t.map.byterange.offset===e.map.byterange.offset&&t.map.byterange.length===e.map.byterange.length))&&t.uri===e.uri&&t.byterange.offset===e.byterange.offset&&t.byterange.length===e.byterange.length,F5=(t,e)=>{const n={};for(const r in t){const i=t[r].sidx;if(i){const a=Iv(i);if(!e[a])break;const l=e[a].sidxInfo;tde(l,i)&&(n[a]=e[a])}}return n},nde=(t,e)=>{let r=F5(t.playlists,e);return Tp(t,(s,i,a,l)=>{if(s.playlists&&s.playlists.length){const c=s.playlists;r=ir(r,F5(c,e))}}),r};class FS extends Xue{constructor(e,n,r={},s){super(),this.isPaused_=!0,this.mainPlaylistLoader_=s||this,s||(this.isMain_=!0);const{withCredentials:i=!1}=r;if(this.vhs_=n,this.withCredentials=i,this.addMetadataToTextTrack=r.addMetadataToTextTrack,!e)throw new Error("A non-empty playlist URL or object is required");this.on("minimumUpdatePeriod",()=>{this.refreshXml_()}),this.on("mediaupdatetimeout",()=>{this.refreshMedia_(this.media().id)}),this.state="HAVE_NOTHING",this.loadedPlaylists_={},this.logger_=ro("DashPlaylistLoader"),this.isMain_?(this.mainPlaylistLoader_.srcUrl=e,this.mainPlaylistLoader_.sidxMapping_={}):this.childPlaylist_=e}get isPaused(){return this.isPaused_}requestErrored_(e,n,r){if(!this.request)return!0;if(this.request=null,e)return this.error=typeof e=="object"&&!(e instanceof Error)?e:{status:n.status,message:"DASH request error at URL: "+n.uri,response:n.response,code:2,metadata:e.metadata},r&&(this.state=r),this.trigger("error"),!0}addSidxSegments_(e,n,r){const s=e.sidx&&Iv(e.sidx);if(!e.sidx||!s||this.mainPlaylistLoader_.sidxMapping_[s]){De.clearTimeout(this.mediaRequest_),this.mediaRequest_=De.setTimeout(()=>r(!1),0);return}const i=gx(e.sidx.resolvedUri),a=(c,u)=>{if(this.requestErrored_(c,u,n))return;const h=this.mainPlaylistLoader_.sidxMapping_,{requestType:f}=u;let m;try{m=Tle(hn(u.response).subarray(8))}catch(g){g.metadata=Wd({requestType:f,request:u,parseFailure:!0}),this.requestErrored_(g,u,n);return}return h[s]={sidxInfo:e.sidx,sidx:m},ok(e,m,e.sidx.resolvedUri),r(!0)},l="dash-sidx";this.request=Kue(i,this.vhs_.xhr,(c,u,h,f)=>{if(c)return a(c,u);if(!h||h!=="mp4"){const b=h||"unknown";return a({status:u.status,message:`Unsupported ${b} container type for sidx segment at URL: ${i}`,response:"",playlist:e,internal:!0,playlistExclusionDuration:1/0,code:2},u)}const{offset:m,length:g}=e.sidx.byterange;if(f.length>=g+m)return a(c,{response:f.subarray(m,m+g),status:u.status,uri:u.uri});this.request=this.vhs_.xhr({uri:i,responseType:"arraybuffer",requestType:"dash-sidx",headers:LS({byterange:e.sidx.byterange})},a)},l)}dispose(){this.isPaused_=!0,this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},De.clearTimeout(this.minimumUpdatePeriodTimeout_),De.clearTimeout(this.mediaRequest_),De.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.off()}hasPendingRequest(){return this.request||this.mediaRequest_}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);const n=this.state;if(typeof e=="string"){if(!this.mainPlaylistLoader_.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.mainPlaylistLoader_.main.playlists[e]}const r=!this.media_||e.id!==this.media_.id;if(r&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList){this.state="HAVE_METADATA",this.media_=e,r&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}r&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,n,s=>{this.haveMetadata({startingState:n,playlist:e})}))}haveMetadata({startingState:e,playlist:n}){this.state="HAVE_METADATA",this.loadedPlaylists_[n.id]=n,De.clearTimeout(this.mediaRequest_),this.mediaRequest_=null,this.refreshMedia_(n.id),e==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}pause(){this.isPaused_=!0,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),De.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMain_&&(De.clearTimeout(this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_),this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)}load(e){this.isPaused_=!1,De.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;const n=this.media();if(e){const r=n?n.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=De.setTimeout(()=>this.load(),r);return}if(!this.started){this.start();return}n&&!n.endList?(this.isMain_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")}start(){if(this.started=!0,!this.isMain_){De.clearTimeout(this.mediaRequest_),this.mediaRequest_=De.setTimeout(()=>this.haveMain_(),0);return}this.requestMain_((e,n)=>{this.haveMain_(),!this.hasPendingRequest()&&!this.media_&&this.media(this.mainPlaylistLoader_.main.playlists[0])})}requestMain_(e){const n={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestrequeststart",metadata:n}),this.request=this.vhs_.xhr({uri:this.mainPlaylistLoader_.srcUrl,withCredentials:this.withCredentials,requestType:"dash-manifest"},(r,s)=>{if(r){const{requestType:a}=s;r.metadata=Wd({requestType:a,request:s,error:r})}if(this.requestErrored_(r,s)){this.state==="HAVE_NOTHING"&&(this.started=!1);return}this.trigger({type:"manifestrequestcomplete",metadata:n});const i=s.responseText!==this.mainPlaylistLoader_.mainXml_;if(this.mainPlaylistLoader_.mainXml_=s.responseText,s.responseHeaders&&s.responseHeaders.date?this.mainLoaded_=Date.parse(s.responseHeaders.date):this.mainLoaded_=Date.now(),this.mainPlaylistLoader_.srcUrl=gx(this.mainPlaylistLoader_.srcUrl,s),i){this.handleMain_(),this.syncClientServerClock_(()=>e(s,i));return}return e(s,i)})}syncClientServerClock_(e){const n=_le(this.mainPlaylistLoader_.mainXml_);if(n===null)return this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e();if(n.method==="DIRECT")return this.mainPlaylistLoader_.clientOffset_=n.value-Date.now(),e();this.request=this.vhs_.xhr({uri:$i(this.mainPlaylistLoader_.srcUrl,n.value),method:n.method,withCredentials:this.withCredentials,requestType:"dash-clock-sync"},(r,s)=>{if(!this.request)return;if(r){const{requestType:a}=s;return this.error.metadata=Wd({requestType:a,request:s,error:r}),this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e()}let i;n.method==="HEAD"?!s.responseHeaders||!s.responseHeaders.date?i=this.mainLoaded_:i=Date.parse(s.responseHeaders.date):i=Date.parse(s.responseText),this.mainPlaylistLoader_.clientOffset_=i-Date.now(),e()})}haveMain_(){this.state="HAVE_MAIN_MANIFEST",this.isMain_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)}handleMain_(){De.clearTimeout(this.mediaRequest_),this.mediaRequest_=null;const e=this.mainPlaylistLoader_.main,n={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestparsestart",metadata:n});let r;try{r=Zue({mainXml:this.mainPlaylistLoader_.mainXml_,srcUrl:this.mainPlaylistLoader_.srcUrl,clientOffset:this.mainPlaylistLoader_.clientOffset_,sidxMapping:this.mainPlaylistLoader_.sidxMapping_,previousManifest:e})}catch(i){this.error=i,this.error.metadata={errorType:tt.Error.StreamingDashManifestParserError,error:i},this.trigger("error")}e&&(r=ede(e,r,this.mainPlaylistLoader_.sidxMapping_)),this.mainPlaylistLoader_.main=r||e;const s=this.mainPlaylistLoader_.main.locations&&this.mainPlaylistLoader_.main.locations[0];if(s&&s!==this.mainPlaylistLoader_.srcUrl&&(this.mainPlaylistLoader_.srcUrl=s),(!e||r&&r.minimumUpdatePeriod!==e.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),this.addEventStreamToMetadataTrack_(r),r){const{duration:i,endList:a}=r,l=[];r.playlists.forEach(u=>{l.push({id:u.id,bandwidth:u.attributes.BANDWIDTH,resolution:u.attributes.RESOLUTION,codecs:u.attributes.CODECS})});const c={duration:i,isLive:!a,renditions:l};n.parsedManifest=c,this.trigger({type:"manifestparsecomplete",metadata:n})}return!!r}updateMinimumUpdatePeriodTimeout_(){const e=this.mainPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(De.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);let n=e.main&&e.main.minimumUpdatePeriod;if(n===0&&(e.media()?n=e.media().targetDuration*1e3:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),typeof n!="number"||n<=0){n<0&&this.logger_(`found invalid minimumUpdatePeriod of ${n}, not setting a timeout`);return}this.createMUPTimeout_(n)}createMUPTimeout_(e){const n=this.mainPlaylistLoader_;n.minimumUpdatePeriodTimeout_=De.setTimeout(()=>{n.minimumUpdatePeriodTimeout_=null,n.trigger("minimumUpdatePeriod"),n.createMUPTimeout_(e)},e)}refreshXml_(){this.requestMain_((e,n)=>{n&&(this.media_&&(this.media_=this.mainPlaylistLoader_.main.playlists[this.media_.id]),this.mainPlaylistLoader_.sidxMapping_=nde(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.sidxMapping_),this.addSidxSegments_(this.media(),this.state,r=>{this.refreshMedia_(this.media().id)}))})}refreshMedia_(e){if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMain_&&this.handleMain_();const n=this.mainPlaylistLoader_.main.playlists,r=!this.media_||this.media_!==n[e];if(r?this.media_=n[e]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){const s=()=>{this.media().endList||(this.mediaUpdateTimeout=De.setTimeout(()=>{this.trigger("mediaupdatetimeout"),s()},MS(this.media(),!!r)))};s()}this.trigger("loadedplaylist")}addEventStreamToMetadataTrack_(e){if(e&&this.mainPlaylistLoader_.main.eventStream){const n=this.mainPlaylistLoader_.main.eventStream.map(r=>({cueTime:r.start,frames:[{data:r.messageData}]}));this.addMetadataToTextTrack("EventStream",n,this.mainPlaylistLoader_.main.duration)}}getKeyIdSet(e){if(e.contentProtection){const n=new Set;for(const r in e.contentProtection){const s=e.contentProtection[r].attributes["cenc:default_KID"];s&&n.add(s.replace(/-/g,"").toLowerCase())}return n}}}var _s={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30};const rde=t=>{const e=new Uint8Array(new ArrayBuffer(t.length));for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e.buffer},C8=function(t){return t.on=t.addEventListener,t.off=t.removeEventListener,t},sde=function(t){try{return URL.createObjectURL(new Blob([t],{type:"application/javascript"}))}catch{const n=new BlobBuilder;return n.append(t),URL.createObjectURL(n.getBlob())}},T8=function(t){return function(){const e=sde(t),n=C8(new Worker(e));n.objURL=e;const r=n.terminate;return n.on=n.addEventListener,n.off=n.removeEventListener,n.terminate=function(){return URL.revokeObjectURL(e),r.call(this)},n}},k8=function(t){return`var browserWorkerPolyFill = ${C8.toString()};
browserWorkerPolyFill(self);
`+t},E8=function(t){return t.toString().replace(/^function.+?{/,"").slice(0,-1)},ide=k8(E8(function(){var t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=function(){this.init=function(){var C={};this.on=function(I,B){C[I]||(C[I]=[]),C[I]=C[I].concat(B)},this.off=function(I,B){var R;return C[I]?(R=C[I].indexOf(B),C[I]=C[I].slice(),C[I].splice(R,1),R>-1):!1},this.trigger=function(I){var B,R,V,J;if(B=C[I],!!B)if(arguments.length===2)for(V=B.length,R=0;R<V;++R)B[R].call(this,arguments[1]);else{for(J=[],R=arguments.length,R=1;R<arguments.length;++R)J.push(arguments[R]);for(V=B.length,R=0;R<V;++R)B[R].apply(this,J)}},this.dispose=function(){C={}}}};e.prototype.pipe=function(C){return this.on("data",function(I){C.push(I)}),this.on("done",function(I){C.flush(I)}),this.on("partialdone",function(I){C.partialFlush(I)}),this.on("endedtimeline",function(I){C.endTimeline(I)}),this.on("reset",function(I){C.reset(I)}),C},e.prototype.push=function(C){this.trigger("data",C)},e.prototype.flush=function(C){this.trigger("done",C)},e.prototype.partialFlush=function(C){this.trigger("partialdone",C)},e.prototype.endTimeline=function(C){this.trigger("endedtimeline",C)},e.prototype.reset=function(C){this.trigger("reset",C)};var n=e,r=Math.pow(2,32),s=function(C){var I=new DataView(C.buffer,C.byteOffset,C.byteLength),B;return I.getBigUint64?(B=I.getBigUint64(0),B<Number.MAX_SAFE_INTEGER?Number(B):B):I.getUint32(0)*r+I.getUint32(4)},i={getUint64:s,MAX_UINT32:r},a=i.MAX_UINT32,l,c,u,h,f,m,g,b,y,x,_,S,T,D,j,A,O,L,P,N,U,M,q,E,G,Q,re,ee,Z,K,F,W,me,ne,ge,we;(function(){var C;if(q={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(C in q)q.hasOwnProperty(C)&&(q[C]=[C.charCodeAt(0),C.charCodeAt(1),C.charCodeAt(2),C.charCodeAt(3)]);E=new Uint8Array([105,115,111,109]),Q=new Uint8Array([97,118,99,49]),G=new Uint8Array([0,0,0,1]),re=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),ee=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),Z={video:re,audio:ee},W=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),F=new Uint8Array([0,0,0,0,0,0,0,0]),me=new Uint8Array([0,0,0,0,0,0,0,0]),ne=me,ge=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),we=me,K=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),l=function(C){var I=[],B=0,R,V,J;for(R=1;R<arguments.length;R++)I.push(arguments[R]);for(R=I.length;R--;)B+=I[R].byteLength;for(V=new Uint8Array(B+8),J=new DataView(V.buffer,V.byteOffset,V.byteLength),J.setUint32(0,V.byteLength),V.set(C,4),R=0,B=8;R<I.length;R++)V.set(I[R],B),B+=I[R].byteLength;return V},c=function(){return l(q.dinf,l(q.dref,W))},u=function(C){return l(q.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,C.audioobjecttype<<3|C.samplingfrequencyindex>>>1,C.samplingfrequencyindex<<7|C.channelcount<<3,6,1,2]))},h=function(){return l(q.ftyp,E,G,E,Q)},A=function(C){return l(q.hdlr,Z[C])},f=function(C){return l(q.mdat,C)},j=function(C){var I=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,C.duration>>>24&255,C.duration>>>16&255,C.duration>>>8&255,C.duration&255,85,196,0,0]);return C.samplerate&&(I[12]=C.samplerate>>>24&255,I[13]=C.samplerate>>>16&255,I[14]=C.samplerate>>>8&255,I[15]=C.samplerate&255),l(q.mdhd,I)},D=function(C){return l(q.mdia,j(C),A(C.type),g(C))},m=function(C){return l(q.mfhd,new Uint8Array([0,0,0,0,(C&4278190080)>>24,(C&16711680)>>16,(C&65280)>>8,C&255]))},g=function(C){return l(q.minf,C.type==="video"?l(q.vmhd,K):l(q.smhd,F),c(),L(C))},b=function(C,I){for(var B=[],R=I.length;R--;)B[R]=N(I[R]);return l.apply(null,[q.moof,m(C)].concat(B))},y=function(C){for(var I=C.length,B=[];I--;)B[I]=S(C[I]);return l.apply(null,[q.moov,_(4294967295)].concat(B).concat(x(C)))},x=function(C){for(var I=C.length,B=[];I--;)B[I]=U(C[I]);return l.apply(null,[q.mvex].concat(B))},_=function(C){var I=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(C&4278190080)>>24,(C&16711680)>>16,(C&65280)>>8,C&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return l(q.mvhd,I)},O=function(C){var I=C.samples||[],B=new Uint8Array(4+I.length),R,V;for(V=0;V<I.length;V++)R=I[V].flags,B[V+4]=R.dependsOn<<4|R.isDependedOn<<2|R.hasRedundancy;return l(q.sdtp,B)},L=function(C){return l(q.stbl,P(C),l(q.stts,we),l(q.stsc,ne),l(q.stsz,ge),l(q.stco,me))},function(){var C,I;P=function(B){return l(q.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),B.type==="video"?C(B):I(B))},C=function(B){var R=B.sps||[],V=B.pps||[],J=[],xe=[],_e,Ee;for(_e=0;_e<R.length;_e++)J.push((R[_e].byteLength&65280)>>>8),J.push(R[_e].byteLength&255),J=J.concat(Array.prototype.slice.call(R[_e]));for(_e=0;_e<V.length;_e++)xe.push((V[_e].byteLength&65280)>>>8),xe.push(V[_e].byteLength&255),xe=xe.concat(Array.prototype.slice.call(V[_e]));if(Ee=[q.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(B.width&65280)>>8,B.width&255,(B.height&65280)>>8,B.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),l(q.avcC,new Uint8Array([1,B.profileIdc,B.profileCompatibility,B.levelIdc,255].concat([R.length],J,[V.length],xe))),l(q.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],B.sarRatio){var Ne=B.sarRatio[0],$e=B.sarRatio[1];Ee.push(l(q.pasp,new Uint8Array([(Ne&4278190080)>>24,(Ne&16711680)>>16,(Ne&65280)>>8,Ne&255,($e&4278190080)>>24,($e&16711680)>>16,($e&65280)>>8,$e&255])))}return l.apply(null,Ee)},I=function(B){return l(q.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(B.channelcount&65280)>>8,B.channelcount&255,(B.samplesize&65280)>>8,B.samplesize&255,0,0,0,0,(B.samplerate&65280)>>8,B.samplerate&255,0,0]),u(B))}}(),T=function(C){var I=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(C.id&4278190080)>>24,(C.id&16711680)>>16,(C.id&65280)>>8,C.id&255,0,0,0,0,(C.duration&4278190080)>>24,(C.duration&16711680)>>16,(C.duration&65280)>>8,C.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(C.width&65280)>>8,C.width&255,0,0,(C.height&65280)>>8,C.height&255,0,0]);return l(q.tkhd,I)},N=function(C){var I,B,R,V,J,xe,_e;return I=l(q.tfhd,new Uint8Array([0,0,0,58,(C.id&4278190080)>>24,(C.id&16711680)>>16,(C.id&65280)>>8,C.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),xe=Math.floor(C.baseMediaDecodeTime/a),_e=Math.floor(C.baseMediaDecodeTime%a),B=l(q.tfdt,new Uint8Array([1,0,0,0,xe>>>24&255,xe>>>16&255,xe>>>8&255,xe&255,_e>>>24&255,_e>>>16&255,_e>>>8&255,_e&255])),J=92,C.type==="audio"?(R=M(C,J),l(q.traf,I,B,R)):(V=O(C),R=M(C,V.length+J),l(q.traf,I,B,R,V))},S=function(C){return C.duration=C.duration||4294967295,l(q.trak,T(C),D(C))},U=function(C){var I=new Uint8Array([0,0,0,0,(C.id&4278190080)>>24,(C.id&16711680)>>16,(C.id&65280)>>8,C.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return C.type!=="video"&&(I[I.length-1]=0),l(q.trex,I)},function(){var C,I,B;B=function(R,V){var J=0,xe=0,_e=0,Ee=0;return R.length&&(R[0].duration!==void 0&&(J=1),R[0].size!==void 0&&(xe=2),R[0].flags!==void 0&&(_e=4),R[0].compositionTimeOffset!==void 0&&(Ee=8)),[0,0,J|xe|_e|Ee,1,(R.length&4278190080)>>>24,(R.length&16711680)>>>16,(R.length&65280)>>>8,R.length&255,(V&4278190080)>>>24,(V&16711680)>>>16,(V&65280)>>>8,V&255]},I=function(R,V){var J,xe,_e,Ee,Ne,$e;for(Ee=R.samples||[],V+=20+16*Ee.length,_e=B(Ee,V),xe=new Uint8Array(_e.length+Ee.length*16),xe.set(_e),J=_e.length,$e=0;$e<Ee.length;$e++)Ne=Ee[$e],xe[J++]=(Ne.duration&4278190080)>>>24,xe[J++]=(Ne.duration&16711680)>>>16,xe[J++]=(Ne.duration&65280)>>>8,xe[J++]=Ne.duration&255,xe[J++]=(Ne.size&4278190080)>>>24,xe[J++]=(Ne.size&16711680)>>>16,xe[J++]=(Ne.size&65280)>>>8,xe[J++]=Ne.size&255,xe[J++]=Ne.flags.isLeading<<2|Ne.flags.dependsOn,xe[J++]=Ne.flags.isDependedOn<<6|Ne.flags.hasRedundancy<<4|Ne.flags.paddingValue<<1|Ne.flags.isNonSyncSample,xe[J++]=Ne.flags.degradationPriority&61440,xe[J++]=Ne.flags.degradationPriority&15,xe[J++]=(Ne.compositionTimeOffset&4278190080)>>>24,xe[J++]=(Ne.compositionTimeOffset&16711680)>>>16,xe[J++]=(Ne.compositionTimeOffset&65280)>>>8,xe[J++]=Ne.compositionTimeOffset&255;return l(q.trun,xe)},C=function(R,V){var J,xe,_e,Ee,Ne,$e;for(Ee=R.samples||[],V+=20+8*Ee.length,_e=B(Ee,V),J=new Uint8Array(_e.length+Ee.length*8),J.set(_e),xe=_e.length,$e=0;$e<Ee.length;$e++)Ne=Ee[$e],J[xe++]=(Ne.duration&4278190080)>>>24,J[xe++]=(Ne.duration&16711680)>>>16,J[xe++]=(Ne.duration&65280)>>>8,J[xe++]=Ne.duration&255,J[xe++]=(Ne.size&4278190080)>>>24,J[xe++]=(Ne.size&16711680)>>>16,J[xe++]=(Ne.size&65280)>>>8,J[xe++]=Ne.size&255;return l(q.trun,J)},M=function(R,V){return R.type==="audio"?C(R,V):I(R,V)}}();var je={ftyp:h,mdat:f,moof:b,moov:y,initSegment:function(C){var I=h(),B=y(C),R;return R=new Uint8Array(I.byteLength+B.byteLength),R.set(I),R.set(B,I.byteLength),R}},Re=function(C){var I,B,R=[],V=[];for(V.byteLength=0,V.nalCount=0,V.duration=0,R.byteLength=0,I=0;I<C.length;I++)B=C[I],B.nalUnitType==="access_unit_delimiter_rbsp"?(R.length&&(R.duration=B.dts-R.dts,V.byteLength+=R.byteLength,V.nalCount+=R.length,V.duration+=R.duration,V.push(R)),R=[B],R.byteLength=B.data.byteLength,R.pts=B.pts,R.dts=B.dts):(B.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(R.keyFrame=!0),R.duration=B.dts-R.dts,R.byteLength+=B.data.byteLength,R.push(B));return V.length&&(!R.duration||R.duration<=0)&&(R.duration=V[V.length-1].duration),V.byteLength+=R.byteLength,V.nalCount+=R.length,V.duration+=R.duration,V.push(R),V},ke=function(C){var I,B,R=[],V=[];for(R.byteLength=0,R.nalCount=0,R.duration=0,R.pts=C[0].pts,R.dts=C[0].dts,V.byteLength=0,V.nalCount=0,V.duration=0,V.pts=C[0].pts,V.dts=C[0].dts,I=0;I<C.length;I++)B=C[I],B.keyFrame?(R.length&&(V.push(R),V.byteLength+=R.byteLength,V.nalCount+=R.nalCount,V.duration+=R.duration),R=[B],R.nalCount=B.length,R.byteLength=B.byteLength,R.pts=B.pts,R.dts=B.dts,R.duration=B.duration):(R.duration+=B.duration,R.nalCount+=B.length,R.byteLength+=B.byteLength,R.push(B));return V.length&&R.duration<=0&&(R.duration=V[V.length-1].duration),V.byteLength+=R.byteLength,V.nalCount+=R.nalCount,V.duration+=R.duration,V.push(R),V},We=function(C){var I;return!C[0][0].keyFrame&&C.length>1&&(I=C.shift(),C.byteLength-=I.byteLength,C.nalCount-=I.nalCount,C[0][0].dts=I.dts,C[0][0].pts=I.pts,C[0][0].duration+=I.duration),C},Je=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},nt=function(C,I){var B=Je();return B.dataOffset=I,B.compositionTimeOffset=C.pts-C.dts,B.duration=C.duration,B.size=4*C.length,B.size+=C.byteLength,C.keyFrame&&(B.flags.dependsOn=2,B.flags.isNonSyncSample=0),B},ct=function(C,I){var B,R,V,J,xe,_e=I||0,Ee=[];for(B=0;B<C.length;B++)for(J=C[B],R=0;R<J.length;R++)xe=J[R],V=nt(xe,_e),_e+=V.size,Ee.push(V);return Ee},X=function(C){var I,B,R,V,J,xe,_e=0,Ee=C.byteLength,Ne=C.nalCount,$e=Ee+4*Ne,rt=new Uint8Array($e),Rt=new DataView(rt.buffer);for(I=0;I<C.length;I++)for(V=C[I],B=0;B<V.length;B++)for(J=V[B],R=0;R<J.length;R++)xe=J[R],Rt.setUint32(_e,xe.data.byteLength),_e+=4,rt.set(xe.data,_e),_e+=xe.data.byteLength;return rt},Me=function(C,I){var B,R=I||0,V=[];return B=nt(C,R),V.push(B),V},ye=function(C){var I,B,R=0,V=C.byteLength,J=C.length,xe=V+4*J,_e=new Uint8Array(xe),Ee=new DataView(_e.buffer);for(I=0;I<C.length;I++)B=C[I],Ee.setUint32(R,B.data.byteLength),R+=4,_e.set(B.data,R),R+=B.data.byteLength;return _e},se={groupNalsIntoFrames:Re,groupFramesIntoGops:ke,extendFirstKeyFrame:We,generateSampleTable:ct,concatenateNalData:X,generateSampleTableForFrame:Me,concatenateNalDataForFrame:ye},ie=[33,16,5,32,164,27],fe=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],Te=function(C){for(var I=[];C--;)I.push(0);return I},he=function(C){return Object.keys(C).reduce(function(I,B){return I[B]=new Uint8Array(C[B].reduce(function(R,V){return R.concat(V)},[])),I},{})},ce,ve=function(){if(!ce){var C={96e3:[ie,[227,64],Te(154),[56]],88200:[ie,[231],Te(170),[56]],64e3:[ie,[248,192],Te(240),[56]],48e3:[ie,[255,192],Te(268),[55,148,128],Te(54),[112]],44100:[ie,[255,192],Te(268),[55,163,128],Te(84),[112]],32e3:[ie,[255,192],Te(268),[55,234],Te(226),[112]],24e3:[ie,[255,192],Te(268),[55,255,128],Te(268),[111,112],Te(126),[224]],16e3:[ie,[255,192],Te(268),[55,255,128],Te(268),[111,255],Te(269),[223,108],Te(195),[1,192]],12e3:[fe,Te(268),[3,127,248],Te(268),[6,255,240],Te(268),[13,255,224],Te(268),[27,253,128],Te(259),[56]],11025:[fe,Te(268),[3,127,248],Te(268),[6,255,240],Te(268),[13,255,224],Te(268),[27,255,192],Te(268),[55,175,128],Te(108),[112]],8e3:[fe,Te(268),[3,121,16],Te(47),[7]]};ce=he(C)}return ce},Ie=9e4,Fe,Se,ut,pt,Le,Ue,Qe;Fe=function(C){return C*Ie},Se=function(C,I){return C*I},ut=function(C){return C/Ie},pt=function(C,I){return C/I},Le=function(C,I){return Fe(pt(C,I))},Ue=function(C,I){return Se(ut(C),I)},Qe=function(C,I,B){return ut(B?C:C-I)};var ot={ONE_SECOND_IN_TS:Ie,secondsToVideoTs:Fe,secondsToAudioTs:Se,videoTsToSeconds:ut,audioTsToSeconds:pt,audioTsToVideoTs:Le,videoTsToAudioTs:Ue,metadataTsToSeconds:Qe},Ke=ve,xt=ot,ae=function(C){var I,B,R=0;for(I=0;I<C.length;I++)B=C[I],R+=B.data.byteLength;return R},Be=function(C,I,B,R){var V,J=0,xe=0,_e=0,Ee=0,Ne,$e,rt;if(I.length&&(V=xt.audioTsToVideoTs(C.baseMediaDecodeTime,C.samplerate),J=Math.ceil(xt.ONE_SECOND_IN_TS/(C.samplerate/1024)),B&&R&&(xe=V-Math.max(B,R),_e=Math.floor(xe/J),Ee=_e*J),!(_e<1||Ee>xt.ONE_SECOND_IN_TS/2))){for(Ne=Ke()[C.samplerate],Ne||(Ne=I[0].data),$e=0;$e<_e;$e++)rt=I[0],I.splice(0,0,{data:Ne,dts:rt.dts-J,pts:rt.pts-J});return C.baseMediaDecodeTime-=Math.floor(xt.videoTsToAudioTs(Ee,C.samplerate)),Ee}},Ye=function(C,I,B){return I.minSegmentDts>=B?C:(I.minSegmentDts=1/0,C.filter(function(R){return R.dts>=B?(I.minSegmentDts=Math.min(I.minSegmentDts,R.dts),I.minSegmentPts=I.minSegmentDts,!0):!1}))},_t=function(C){var I,B,R=[];for(I=0;I<C.length;I++)B=C[I],R.push({size:B.data.byteLength,duration:1024});return R},Ze=function(C){var I,B,R=0,V=new Uint8Array(ae(C));for(I=0;I<C.length;I++)B=C[I],V.set(B.data,R),R+=B.data.byteLength;return V},it={prefixWithSilence:Be,trimAdtsFramesByEarliestDts:Ye,generateSampleTable:_t,concatenateFrameData:Ze},te=ot.ONE_SECOND_IN_TS,le=function(C,I){typeof I.pts=="number"&&(C.timelineStartInfo.pts===void 0&&(C.timelineStartInfo.pts=I.pts),C.minSegmentPts===void 0?C.minSegmentPts=I.pts:C.minSegmentPts=Math.min(C.minSegmentPts,I.pts),C.maxSegmentPts===void 0?C.maxSegmentPts=I.pts:C.maxSegmentPts=Math.max(C.maxSegmentPts,I.pts)),typeof I.dts=="number"&&(C.timelineStartInfo.dts===void 0&&(C.timelineStartInfo.dts=I.dts),C.minSegmentDts===void 0?C.minSegmentDts=I.dts:C.minSegmentDts=Math.min(C.minSegmentDts,I.dts),C.maxSegmentDts===void 0?C.maxSegmentDts=I.dts:C.maxSegmentDts=Math.max(C.maxSegmentDts,I.dts))},be=function(C){delete C.minSegmentDts,delete C.maxSegmentDts,delete C.minSegmentPts,delete C.maxSegmentPts},ue=function(C,I){var B,R,V=C.minSegmentDts;return I||(V-=C.timelineStartInfo.dts),B=C.timelineStartInfo.baseMediaDecodeTime,B+=V,B=Math.max(0,B),C.type==="audio"&&(R=C.samplerate/te,B*=R,B=Math.floor(B)),B},Oe={clearDtsInfo:be,calculateTrackBaseMediaDecodeTime:ue,collectDtsInfo:le},wt=4,At=128,Ut=function(C){for(var I=0,B={payloadType:-1,payloadSize:0},R=0,V=0;I<C.byteLength&&C[I]!==At;){for(;C[I]===255;)R+=255,I++;for(R+=C[I++];C[I]===255;)V+=255,I++;if(V+=C[I++],!B.payload&&R===wt){var J=String.fromCharCode(C[I+3],C[I+4],C[I+5],C[I+6]);if(J==="GA94"){B.payloadType=R,B.payloadSize=V,B.payload=C.subarray(I,I+V);break}else B.payload=void 0}I+=V,R=0,V=0}return B},Ct=function(C){return C.payload[0]!==181||(C.payload[1]<<8|C.payload[2])!==49||String.fromCharCode(C.payload[3],C.payload[4],C.payload[5],C.payload[6])!=="GA94"||C.payload[7]!==3?null:C.payload.subarray(8,C.payload.length-1)},en=function(C,I){var B=[],R,V,J,xe;if(!(I[0]&64))return B;for(V=I[0]&31,R=0;R<V;R++)J=R*3,xe={type:I[J+2]&3,pts:C},I[J+2]&4&&(xe.ccData=I[J+3]<<8|I[J+4],B.push(xe));return B},qn=function(C){for(var I=C.byteLength,B=[],R=1,V,J;R<I-2;)C[R]===0&&C[R+1]===0&&C[R+2]===3?(B.push(R+2),R+=2):R++;if(B.length===0)return C;V=I-B.length,J=new Uint8Array(V);var xe=0;for(R=0;R<V;xe++,R++)xe===B[0]&&(xe++,B.shift()),J[R]=C[xe];return J},vr={parseSei:Ut,parseUserData:Ct,parseCaptionPackets:en,discardEmulationPreventionBytes:qn,USER_DATA_REGISTERED_ITU_T_T35:wt},Un=n,Jt=vr,yn=function(C){C=C||{},yn.prototype.init.call(this),this.parse708captions_=typeof C.parse708captions=="boolean"?C.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new wn(0,0),new wn(0,1),new wn(1,0),new wn(1,1)],this.parse708captions_&&(this.cc708Stream_=new vn({captionServices:C.captionServices})),this.reset(),this.ccStreams_.forEach(function(I){I.on("data",this.trigger.bind(this,"data")),I.on("partialdone",this.trigger.bind(this,"partialdone")),I.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};yn.prototype=new Un,yn.prototype.push=function(C){var I,B,R;if(C.nalUnitType==="sei_rbsp"&&(I=Jt.parseSei(C.escapedRBSP),!!I.payload&&I.payloadType===Jt.USER_DATA_REGISTERED_ITU_T_T35&&(B=Jt.parseUserData(I),!!B))){if(C.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(C.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}R=Jt.parseCaptionPackets(C.pts,B),this.captionPackets_=this.captionPackets_.concat(R),this.latestDts_!==C.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=C.dts}},yn.prototype.flushCCStreams=function(C){this.ccStreams_.forEach(function(I){return C==="flush"?I.flush():I.partialFlush()},this)},yn.prototype.flushStream=function(C){if(!this.captionPackets_.length){this.flushCCStreams(C);return}this.captionPackets_.forEach(function(I,B){I.presortIndex=B}),this.captionPackets_.sort(function(I,B){return I.pts===B.pts?I.presortIndex-B.presortIndex:I.pts-B.pts}),this.captionPackets_.forEach(function(I){I.type<2?this.dispatchCea608Packet(I):this.dispatchCea708Packet(I)},this),this.captionPackets_.length=0,this.flushCCStreams(C)},yn.prototype.flush=function(){return this.flushStream("flush")},yn.prototype.partialFlush=function(){return this.flushStream("partialFlush")},yn.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(C){C.reset()})},yn.prototype.dispatchCea608Packet=function(C){this.setsTextOrXDSActive(C)?this.activeCea608Channel_[C.type]=null:this.setsChannel1Active(C)?this.activeCea608Channel_[C.type]=0:this.setsChannel2Active(C)&&(this.activeCea608Channel_[C.type]=1),this.activeCea608Channel_[C.type]!==null&&this.ccStreams_[(C.type<<1)+this.activeCea608Channel_[C.type]].push(C)},yn.prototype.setsChannel1Active=function(C){return(C.ccData&30720)===4096},yn.prototype.setsChannel2Active=function(C){return(C.ccData&30720)===6144},yn.prototype.setsTextOrXDSActive=function(C){return(C.ccData&28928)===256||(C.ccData&30974)===4138||(C.ccData&30974)===6186},yn.prototype.dispatchCea708Packet=function(C){this.parse708captions_&&this.cc708Stream_.push(C)};var Ir={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},js=function(C){var I=Ir[C]||C;return C&4096&&C===I?"":String.fromCharCode(I)},Hn=function(C){return 32<=C&&C<=127||160<=C&&C<=255},zr=function(C){this.windowNum=C,this.reset()};zr.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},zr.prototype.getText=function(){return this.rows.join(`
`)},zr.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},zr.prototype.newLine=function(C){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(C),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},zr.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},zr.prototype.addText=function(C){this.rows[this.rowIdx]+=C},zr.prototype.backspace=function(){if(!this.isEmpty()){var C=this.rows[this.rowIdx];this.rows[this.rowIdx]=C.substr(0,C.length-1)}};var as=function(C,I,B){this.serviceNum=C,this.text="",this.currentWindow=new zr(-1),this.windows=[],this.stream=B,typeof I=="string"&&this.createTextDecoder(I)};as.prototype.init=function(C,I){this.startPts=C;for(var B=0;B<8;B++)this.windows[B]=new zr(B),typeof I=="function"&&(this.windows[B].beforeRowOverflow=I)},as.prototype.setCurrentWindow=function(C){this.currentWindow=this.windows[C]},as.prototype.createTextDecoder=function(C){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(C)}catch(I){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+C+" encoding. "+I})}};var vn=function(C){C=C||{},vn.prototype.init.call(this);var I=this,B=C.captionServices||{},R={},V;Object.keys(B).forEach(J=>{V=B[J],/^SERVICE/.test(J)&&(R[J]=V.encoding)}),this.serviceEncodings=R,this.current708Packet=null,this.services={},this.push=function(J){J.type===3?(I.new708Packet(),I.add708Bytes(J)):(I.current708Packet===null&&I.new708Packet(),I.add708Bytes(J))}};vn.prototype=new Un,vn.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},vn.prototype.add708Bytes=function(C){var I=C.ccData,B=I>>>8,R=I&255;this.current708Packet.ptsVals.push(C.pts),this.current708Packet.data.push(B),this.current708Packet.data.push(R)},vn.prototype.push708Packet=function(){var C=this.current708Packet,I=C.data,B=null,R=null,V=0,J=I[V++];for(C.seq=J>>6,C.sizeCode=J&63;V<I.length;V++)J=I[V++],B=J>>5,R=J&31,B===7&&R>0&&(J=I[V++],B=J),this.pushServiceBlock(B,V,R),R>0&&(V+=R-1)},vn.prototype.pushServiceBlock=function(C,I,B){var R,V=I,J=this.current708Packet.data,xe=this.services[C];for(xe||(xe=this.initService(C,V));V<I+B&&V<J.length;V++)R=J[V],Hn(R)?V=this.handleText(V,xe):R===24?V=this.multiByteCharacter(V,xe):R===16?V=this.extendedCommands(V,xe):128<=R&&R<=135?V=this.setCurrentWindow(V,xe):152<=R&&R<=159?V=this.defineWindow(V,xe):R===136?V=this.clearWindows(V,xe):R===140?V=this.deleteWindows(V,xe):R===137?V=this.displayWindows(V,xe):R===138?V=this.hideWindows(V,xe):R===139?V=this.toggleWindows(V,xe):R===151?V=this.setWindowAttributes(V,xe):R===144?V=this.setPenAttributes(V,xe):R===145?V=this.setPenColor(V,xe):R===146?V=this.setPenLocation(V,xe):R===143?xe=this.reset(V,xe):R===8?xe.currentWindow.backspace():R===12?xe.currentWindow.clearText():R===13?xe.currentWindow.pendingNewLine=!0:R===14?xe.currentWindow.clearText():R===141&&V++},vn.prototype.extendedCommands=function(C,I){var B=this.current708Packet.data,R=B[++C];return Hn(R)&&(C=this.handleText(C,I,{isExtended:!0})),C},vn.prototype.getPts=function(C){return this.current708Packet.ptsVals[Math.floor(C/2)]},vn.prototype.initService=function(C,I){var R="SERVICE"+C,B=this,R,V;return R in this.serviceEncodings&&(V=this.serviceEncodings[R]),this.services[C]=new as(C,V,B),this.services[C].init(this.getPts(I),function(J){B.flushDisplayed(J,B.services[C])}),this.services[C]},vn.prototype.handleText=function(C,I,B){var R=B&&B.isExtended,V=B&&B.isMultiByte,J=this.current708Packet.data,xe=R?4096:0,_e=J[C],Ee=J[C+1],Ne=I.currentWindow,$e,rt;function Rt(mt){return mt.map(Kt=>("0"+(Kt&255).toString(16)).slice(-2)).join("")}if(V?(rt=[_e,Ee],C++):rt=[_e],I.textDecoder_&&!R)$e=I.textDecoder_.decode(new Uint8Array(rt));else if(V){const mt=Rt(rt);$e=String.fromCharCode(parseInt(mt,16))}else $e=js(xe|_e);return Ne.pendingNewLine&&!Ne.isEmpty()&&Ne.newLine(this.getPts(C)),Ne.pendingNewLine=!1,Ne.addText($e),C},vn.prototype.multiByteCharacter=function(C,I){var B=this.current708Packet.data,R=B[C+1],V=B[C+2];return Hn(R)&&Hn(V)&&(C=this.handleText(++C,I,{isMultiByte:!0})),C},vn.prototype.setCurrentWindow=function(C,I){var B=this.current708Packet.data,R=B[C],V=R&7;return I.setCurrentWindow(V),C},vn.prototype.defineWindow=function(C,I){var B=this.current708Packet.data,R=B[C],V=R&7;I.setCurrentWindow(V);var J=I.currentWindow;return R=B[++C],J.visible=(R&32)>>5,J.rowLock=(R&16)>>4,J.columnLock=(R&8)>>3,J.priority=R&7,R=B[++C],J.relativePositioning=(R&128)>>7,J.anchorVertical=R&127,R=B[++C],J.anchorHorizontal=R,R=B[++C],J.anchorPoint=(R&240)>>4,J.rowCount=R&15,R=B[++C],J.columnCount=R&63,R=B[++C],J.windowStyle=(R&56)>>3,J.penStyle=R&7,J.virtualRowCount=J.rowCount+1,C},vn.prototype.setWindowAttributes=function(C,I){var B=this.current708Packet.data,R=B[C],V=I.currentWindow.winAttr;return R=B[++C],V.fillOpacity=(R&192)>>6,V.fillRed=(R&48)>>4,V.fillGreen=(R&12)>>2,V.fillBlue=R&3,R=B[++C],V.borderType=(R&192)>>6,V.borderRed=(R&48)>>4,V.borderGreen=(R&12)>>2,V.borderBlue=R&3,R=B[++C],V.borderType+=(R&128)>>5,V.wordWrap=(R&64)>>6,V.printDirection=(R&48)>>4,V.scrollDirection=(R&12)>>2,V.justify=R&3,R=B[++C],V.effectSpeed=(R&240)>>4,V.effectDirection=(R&12)>>2,V.displayEffect=R&3,C},vn.prototype.flushDisplayed=function(C,I){for(var B=[],R=0;R<8;R++)I.windows[R].visible&&!I.windows[R].isEmpty()&&B.push(I.windows[R].getText());I.endPts=C,I.text=B.join(`

`),this.pushCaption(I),I.startPts=C},vn.prototype.pushCaption=function(C){C.text!==""&&(this.trigger("data",{startPts:C.startPts,endPts:C.endPts,text:C.text,stream:"cc708_"+C.serviceNum}),C.text="",C.startPts=C.endPts)},vn.prototype.displayWindows=function(C,I){var B=this.current708Packet.data,R=B[++C],V=this.getPts(C);this.flushDisplayed(V,I);for(var J=0;J<8;J++)R&1<<J&&(I.windows[J].visible=1);return C},vn.prototype.hideWindows=function(C,I){var B=this.current708Packet.data,R=B[++C],V=this.getPts(C);this.flushDisplayed(V,I);for(var J=0;J<8;J++)R&1<<J&&(I.windows[J].visible=0);return C},vn.prototype.toggleWindows=function(C,I){var B=this.current708Packet.data,R=B[++C],V=this.getPts(C);this.flushDisplayed(V,I);for(var J=0;J<8;J++)R&1<<J&&(I.windows[J].visible^=1);return C},vn.prototype.clearWindows=function(C,I){var B=this.current708Packet.data,R=B[++C],V=this.getPts(C);this.flushDisplayed(V,I);for(var J=0;J<8;J++)R&1<<J&&I.windows[J].clearText();return C},vn.prototype.deleteWindows=function(C,I){var B=this.current708Packet.data,R=B[++C],V=this.getPts(C);this.flushDisplayed(V,I);for(var J=0;J<8;J++)R&1<<J&&I.windows[J].reset();return C},vn.prototype.setPenAttributes=function(C,I){var B=this.current708Packet.data,R=B[C],V=I.currentWindow.penAttr;return R=B[++C],V.textTag=(R&240)>>4,V.offset=(R&12)>>2,V.penSize=R&3,R=B[++C],V.italics=(R&128)>>7,V.underline=(R&64)>>6,V.edgeType=(R&56)>>3,V.fontStyle=R&7,C},vn.prototype.setPenColor=function(C,I){var B=this.current708Packet.data,R=B[C],V=I.currentWindow.penColor;return R=B[++C],V.fgOpacity=(R&192)>>6,V.fgRed=(R&48)>>4,V.fgGreen=(R&12)>>2,V.fgBlue=R&3,R=B[++C],V.bgOpacity=(R&192)>>6,V.bgRed=(R&48)>>4,V.bgGreen=(R&12)>>2,V.bgBlue=R&3,R=B[++C],V.edgeRed=(R&48)>>4,V.edgeGreen=(R&12)>>2,V.edgeBlue=R&3,C},vn.prototype.setPenLocation=function(C,I){var B=this.current708Packet.data,R=B[C],V=I.currentWindow.penLoc;return I.currentWindow.pendingNewLine=!0,R=B[++C],V.row=R&15,R=B[++C],V.column=R&63,C},vn.prototype.reset=function(C,I){var B=this.getPts(C);return this.flushDisplayed(B,I),this.initService(I.serviceNum,C)};var Fo={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Ns=function(C){return C===null?"":(C=Fo[C]||C,String.fromCharCode(C))},zs=14,Gi=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],os=function(){for(var C=[],I=zs+1;I--;)C.push({text:"",indent:0,offset:0});return C},wn=function(C,I){wn.prototype.init.call(this),this.field_=C||0,this.dataChannel_=I||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(B){var R,V,J,xe,_e;if(R=B.ccData&32639,R===this.lastControlCode_){this.lastControlCode_=null;return}if((R&61440)===4096?this.lastControlCode_=R:R!==this.PADDING_&&(this.lastControlCode_=null),J=R>>>8,xe=R&255,R!==this.PADDING_)if(R===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(R===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(B.pts),this.flushDisplayed(B.pts),V=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=V,this.startPts_=B.pts;else if(R===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(B.pts);else if(R===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(B.pts);else if(R===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(B.pts);else if(R===this.CARRIAGE_RETURN_)this.clearFormatting(B.pts),this.flushDisplayed(B.pts),this.shiftRowsUp_(),this.startPts_=B.pts;else if(R===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1);else if(R===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(B.pts),this.displayed_=os();else if(R===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=os();else if(R===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(B.pts),this.displayed_=os()),this.mode_="paintOn",this.startPts_=B.pts;else if(this.isSpecialCharacter(J,xe))J=(J&3)<<8,_e=Ns(J|xe),this[this.mode_](B.pts,_e),this.column_++;else if(this.isExtCharacter(J,xe))this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1),J=(J&3)<<8,_e=Ns(J|xe),this[this.mode_](B.pts,_e),this.column_++;else if(this.isMidRowCode(J,xe))this.clearFormatting(B.pts),this[this.mode_](B.pts," "),this.column_++,(xe&14)===14&&this.addFormatting(B.pts,["i"]),(xe&1)===1&&this.addFormatting(B.pts,["u"]);else if(this.isOffsetControlCode(J,xe)){const Ne=xe&3;this.nonDisplayed_[this.row_].offset=Ne,this.column_+=Ne}else if(this.isPAC(J,xe)){var Ee=Gi.indexOf(R&7968);if(this.mode_==="rollUp"&&(Ee-this.rollUpRows_+1<0&&(Ee=this.rollUpRows_-1),this.setRollUp(B.pts,Ee)),Ee!==this.row_&&Ee>=0&&Ee<=14&&(this.clearFormatting(B.pts),this.row_=Ee),xe&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(B.pts,["u"]),(R&16)===16){const Ne=(R&14)>>1;this.column_=Ne*4,this.nonDisplayed_[this.row_].indent+=Ne}this.isColorPAC(xe)&&(xe&14)===14&&this.addFormatting(B.pts,["i"])}else this.isNormalChar(J)&&(xe===0&&(xe=null),_e=Ns(J),_e+=Ns(xe),this[this.mode_](B.pts,_e),this.column_+=_e.length)}};wn.prototype=new Un,wn.prototype.flushDisplayed=function(C){const I=R=>{this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+R+"."})},B=[];this.displayed_.forEach((R,V)=>{if(R&&R.text&&R.text.length){try{R.text=R.text.trim()}catch{I(V)}R.text.length&&B.push({text:R.text,line:V+1,position:10+Math.min(70,R.indent*10)+R.offset*2.5})}else R==null&&I(V)}),B.length&&this.trigger("data",{startPts:this.startPts_,endPts:C,content:B,stream:this.name_})},wn.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=os(),this.nonDisplayed_=os(),this.lastControlCode_=null,this.column_=0,this.row_=zs,this.rollUpRows_=2,this.formatting_=[]},wn.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},wn.prototype.isSpecialCharacter=function(C,I){return C===this.EXT_&&I>=48&&I<=63},wn.prototype.isExtCharacter=function(C,I){return(C===this.EXT_+1||C===this.EXT_+2)&&I>=32&&I<=63},wn.prototype.isMidRowCode=function(C,I){return C===this.EXT_&&I>=32&&I<=47},wn.prototype.isOffsetControlCode=function(C,I){return C===this.OFFSET_&&I>=33&&I<=35},wn.prototype.isPAC=function(C,I){return C>=this.BASE_&&C<this.BASE_+8&&I>=64&&I<=127},wn.prototype.isColorPAC=function(C){return C>=64&&C<=79||C>=96&&C<=127},wn.prototype.isNormalChar=function(C){return C>=32&&C<=127},wn.prototype.setRollUp=function(C,I){if(this.mode_!=="rollUp"&&(this.row_=zs,this.mode_="rollUp",this.flushDisplayed(C),this.nonDisplayed_=os(),this.displayed_=os()),I!==void 0&&I!==this.row_)for(var B=0;B<this.rollUpRows_;B++)this.displayed_[I-B]=this.displayed_[this.row_-B],this.displayed_[this.row_-B]={text:"",indent:0,offset:0};I===void 0&&(I=this.row_),this.topRow_=I-this.rollUpRows_+1},wn.prototype.addFormatting=function(C,I){this.formatting_=this.formatting_.concat(I);var B=I.reduce(function(R,V){return R+"<"+V+">"},"");this[this.mode_](C,B)},wn.prototype.clearFormatting=function(C){if(this.formatting_.length){var I=this.formatting_.reverse().reduce(function(B,R){return B+"</"+R+">"},"");this.formatting_=[],this[this.mode_](C,I)}},wn.prototype.popOn=function(C,I){var B=this.nonDisplayed_[this.row_].text;B+=I,this.nonDisplayed_[this.row_].text=B},wn.prototype.rollUp=function(C,I){var B=this.displayed_[this.row_].text;B+=I,this.displayed_[this.row_].text=B},wn.prototype.shiftRowsUp_=function(){var C;for(C=0;C<this.topRow_;C++)this.displayed_[C]={text:"",indent:0,offset:0};for(C=this.row_+1;C<zs+1;C++)this.displayed_[C]={text:"",indent:0,offset:0};for(C=this.topRow_;C<this.row_;C++)this.displayed_[C]=this.displayed_[C+1];this.displayed_[this.row_]={text:"",indent:0,offset:0}},wn.prototype.paintOn=function(C,I){var B=this.displayed_[this.row_].text;B+=I,this.displayed_[this.row_].text=B};var so={CaptionStream:yn,Cea608Stream:wn,Cea708Stream:vn},ba={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Ki=n,er=8589934592,io=4294967296,xa="shared",ri=function(C,I){var B=1;for(C>I&&(B=-1);Math.abs(I-C)>io;)C+=B*er;return C},Ds=function(C){var I,B;Ds.prototype.init.call(this),this.type_=C||xa,this.push=function(R){if(R.type==="metadata"){this.trigger("data",R);return}this.type_!==xa&&R.type!==this.type_||(B===void 0&&(B=R.dts),R.dts=ri(R.dts,B),R.pts=ri(R.pts,B),I=R.dts,this.trigger("data",R))},this.flush=function(){B=I,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){B=void 0,I=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Ds.prototype=new Ki;var ao={TimestampRolloverStream:Ds,handleRollover:ri},si=(C,I,B)=>{if(!C)return-1;for(var R=B;R<C.length;R++)if(C[R]===I)return R;return-1},va={typedArrayIndexOf:si},_r=va.typedArrayIndexOf,Si={Utf8:3},Ur=function(C,I,B){var R,V="";for(R=I;R<B;R++)V+="%"+("00"+C[R].toString(16)).slice(-2);return V},Ci=function(C,I,B){return decodeURIComponent(Ur(C,I,B))},Xi=function(C,I,B){return unescape(Ur(C,I,B))},Ti=function(C){return C[0]<<21|C[1]<<14|C[2]<<7|C[3]},ts={APIC:function(C){var I=1,B,R,V="-->";C.data[0]===Si.Utf8&&(B=_r(C.data,0,I),!(B<0)&&(C.mimeType=Xi(C.data,I,B),I=B+1,C.pictureType=C.data[I],I++,R=_r(C.data,0,I),!(R<0)&&(C.description=Ci(C.data,I,R),I=R+1,C.mimeType===V?C.url=Xi(C.data,I,C.data.length):C.pictureData=C.data.subarray(I,C.data.length))))},"T*":function(C){C.data[0]===Si.Utf8&&(C.value=Ci(C.data,1,C.data.length).replace(/\0*$/,""),C.values=C.value.split("\0"))},TXXX:function(C){var I;C.data[0]===Si.Utf8&&(I=_r(C.data,0,1),I!==-1&&(C.description=Ci(C.data,1,I),C.value=Ci(C.data,I+1,C.data.length).replace(/\0*$/,""),C.data=C.value))},"W*":function(C){C.url=Xi(C.data,0,C.data.length).replace(/\0.*$/,"")},WXXX:function(C){var I;C.data[0]===Si.Utf8&&(I=_r(C.data,0,1),I!==-1&&(C.description=Ci(C.data,1,I),C.url=Xi(C.data,I+1,C.data.length).replace(/\0.*$/,"")))},PRIV:function(C){var I;for(I=0;I<C.data.length;I++)if(C.data[I]===0){C.owner=Xi(C.data,0,I);break}C.privateData=C.data.subarray(I+1),C.data=C.privateData}},Qi=function(C){var I,B,R=10,V=0,J=[];if(!(C.length<10||C[0]!==73||C[1]!==68||C[2]!==51)){V=Ti(C.subarray(6,10)),V+=10;var xe=C[5]&64;xe&&(R+=4,R+=Ti(C.subarray(10,14)),V-=Ti(C.subarray(16,20)));do{if(I=Ti(C.subarray(R+4,R+8)),I<1)break;B=String.fromCharCode(C[R],C[R+1],C[R+2],C[R+3]);var _e={id:B,data:C.subarray(R+10,R+I+10)};_e.key=_e.id,ts[_e.id]?ts[_e.id](_e):_e.id[0]==="T"?ts["T*"](_e):_e.id[0]==="W"&&ts["W*"](_e),J.push(_e),R+=10,R+=I}while(R<V);return J}},ki={parseId3Frames:Qi,parseSyncSafeInteger:Ti,frameParsers:ts},_a=n,Bo=ba,gs=ki,Ce;Ce=function(C){var I={descriptor:C&&C.descriptor},B=0,R=[],V=0,J;if(Ce.prototype.init.call(this),this.dispatchType=Bo.METADATA_STREAM_TYPE.toString(16),I.descriptor)for(J=0;J<I.descriptor.length;J++)this.dispatchType+=("00"+I.descriptor[J].toString(16)).slice(-2);this.push=function(xe){var _e,Ee,Ne,$e,rt,Rt;if(xe.type==="timed-metadata"){if(xe.dataAlignmentIndicator&&(V=0,R.length=0),R.length===0&&(xe.data.length<10||xe.data[0]!==73||xe.data[1]!==68||xe.data[2]!==51)){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(R.push(xe),V+=xe.data.byteLength,R.length===1&&(B=gs.parseSyncSafeInteger(xe.data.subarray(6,10)),B+=10),!(V<B)){for(_e={data:new Uint8Array(B),frames:[],pts:R[0].pts,dts:R[0].dts},rt=0;rt<B;)_e.data.set(R[0].data.subarray(0,B-rt),rt),rt+=R[0].data.byteLength,V-=R[0].data.byteLength,R.shift();Ee=10,_e.data[5]&64&&(Ee+=4,Ee+=gs.parseSyncSafeInteger(_e.data.subarray(10,14)),B-=gs.parseSyncSafeInteger(_e.data.subarray(16,20)));do{if(Ne=gs.parseSyncSafeInteger(_e.data.subarray(Ee+4,Ee+8)),Ne<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping remaining metadata parsing."});break}if(Rt=String.fromCharCode(_e.data[Ee],_e.data[Ee+1],_e.data[Ee+2],_e.data[Ee+3]),$e={id:Rt,data:_e.data.subarray(Ee+10,Ee+Ne+10)},$e.key=$e.id,gs.frameParsers[$e.id]?gs.frameParsers[$e.id]($e):$e.id[0]==="T"?gs.frameParsers["T*"]($e):$e.id[0]==="W"&&gs.frameParsers["W*"]($e),$e.owner==="com.apple.streaming.transportStreamTimestamp"){var mt=$e.data,Kt=(mt[3]&1)<<30|mt[4]<<22|mt[5]<<14|mt[6]<<6|mt[7]>>>2;Kt*=4,Kt+=mt[7]&3,$e.timeStamp=Kt,_e.pts===void 0&&_e.dts===void 0&&(_e.pts=$e.timeStamp,_e.dts=$e.timeStamp),this.trigger("timestamp",$e)}_e.frames.push($e),Ee+=10,Ee+=Ne}while(Ee<B);this.trigger("data",_e)}}}},Ce.prototype=new _a;var at=Ce,Xe=n,bt=so,pe=ba,He=ao.TimestampRolloverStream,et,St,jt,Nt=188,Ft=71;et=function(){var C=new Uint8Array(Nt),I=0;et.prototype.init.call(this),this.push=function(B){var R=0,V=Nt,J;for(I?(J=new Uint8Array(B.byteLength+I),J.set(C.subarray(0,I)),J.set(B,I),I=0):J=B;V<J.byteLength;){if(J[R]===Ft&&J[V]===Ft){this.trigger("data",J.subarray(R,V)),R+=Nt,V+=Nt;continue}R++,V++}R<J.byteLength&&(C.set(J.subarray(R),0),I=J.byteLength-R)},this.flush=function(){I===Nt&&C[0]===Ft&&(this.trigger("data",C),I=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){I=0,this.trigger("reset")}},et.prototype=new Xe,St=function(){var C,I,B,R;St.prototype.init.call(this),R=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,C=function(V,J){var xe=0;J.payloadUnitStartIndicator&&(xe+=V[xe]+1),J.type==="pat"?I(V.subarray(xe),J):B(V.subarray(xe),J)},I=function(V,J){J.section_number=V[7],J.last_section_number=V[8],R.pmtPid=(V[10]&31)<<8|V[11],J.pmtPid=R.pmtPid},B=function(V,J){var xe,_e,Ee,Ne;if(V[5]&1){for(R.programMapTable={video:null,audio:null,"timed-metadata":{}},xe=(V[1]&15)<<8|V[2],_e=3+xe-4,Ee=(V[10]&15)<<8|V[11],Ne=12+Ee;Ne<_e;){var $e=V[Ne],rt=(V[Ne+1]&31)<<8|V[Ne+2];$e===pe.H264_STREAM_TYPE&&R.programMapTable.video===null?R.programMapTable.video=rt:$e===pe.ADTS_STREAM_TYPE&&R.programMapTable.audio===null?R.programMapTable.audio=rt:$e===pe.METADATA_STREAM_TYPE&&(R.programMapTable["timed-metadata"][rt]=$e),Ne+=((V[Ne+3]&15)<<8|V[Ne+4])+5}J.programMapTable=R.programMapTable}},this.push=function(V){var J={},xe=4;if(J.payloadUnitStartIndicator=!!(V[1]&64),J.pid=V[1]&31,J.pid<<=8,J.pid|=V[2],(V[3]&48)>>>4>1&&(xe+=V[xe]+1),J.pid===0)J.type="pat",C(V.subarray(xe),J),this.trigger("data",J);else if(J.pid===this.pmtPid)for(J.type="pmt",C(V.subarray(xe),J),this.trigger("data",J);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([V,xe,J]):this.processPes_(V,xe,J)},this.processPes_=function(V,J,xe){xe.pid===this.programMapTable.video?xe.streamType=pe.H264_STREAM_TYPE:xe.pid===this.programMapTable.audio?xe.streamType=pe.ADTS_STREAM_TYPE:xe.streamType=this.programMapTable["timed-metadata"][xe.pid],xe.type="pes",xe.data=V.subarray(J),this.trigger("data",xe)}},St.prototype=new Xe,St.STREAM_TYPES={h264:27,adts:15},jt=function(){var C=this,I=!1,B={data:[],size:0},R={data:[],size:0},V={data:[],size:0},J,xe=function(Ee,Ne){var $e;const rt=Ee[0]<<16|Ee[1]<<8|Ee[2];Ne.data=new Uint8Array,rt===1&&(Ne.packetLength=6+(Ee[4]<<8|Ee[5]),Ne.dataAlignmentIndicator=(Ee[6]&4)!==0,$e=Ee[7],$e&192&&(Ne.pts=(Ee[9]&14)<<27|(Ee[10]&255)<<20|(Ee[11]&254)<<12|(Ee[12]&255)<<5|(Ee[13]&254)>>>3,Ne.pts*=4,Ne.pts+=(Ee[13]&6)>>>1,Ne.dts=Ne.pts,$e&64&&(Ne.dts=(Ee[14]&14)<<27|(Ee[15]&255)<<20|(Ee[16]&254)<<12|(Ee[17]&255)<<5|(Ee[18]&254)>>>3,Ne.dts*=4,Ne.dts+=(Ee[18]&6)>>>1)),Ne.data=Ee.subarray(9+Ee[8]))},_e=function(Ee,Ne,$e){var rt=new Uint8Array(Ee.size),Rt={type:Ne},mt=0,Kt=0,xn=!1,wr;if(!(!Ee.data.length||Ee.size<9)){for(Rt.trackId=Ee.data[0].pid,mt=0;mt<Ee.data.length;mt++)wr=Ee.data[mt],rt.set(wr.data,Kt),Kt+=wr.data.byteLength;xe(rt,Rt),xn=Ne==="video"||Rt.packetLength<=Ee.size,($e||xn)&&(Ee.size=0,Ee.data.length=0),xn&&C.trigger("data",Rt)}};jt.prototype.init.call(this),this.push=function(Ee){({pat:function(){},pes:function(){var Ne,$e;switch(Ee.streamType){case pe.H264_STREAM_TYPE:Ne=B,$e="video";break;case pe.ADTS_STREAM_TYPE:Ne=R,$e="audio";break;case pe.METADATA_STREAM_TYPE:Ne=V,$e="timed-metadata";break;default:return}Ee.payloadUnitStartIndicator&&_e(Ne,$e,!0),Ne.data.push(Ee),Ne.size+=Ee.data.byteLength},pmt:function(){var Ne={type:"metadata",tracks:[]};J=Ee.programMapTable,J.video!==null&&Ne.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+J.video,codec:"avc",type:"video"}),J.audio!==null&&Ne.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+J.audio,codec:"adts",type:"audio"}),I=!0,C.trigger("data",Ne)}})[Ee.type]()},this.reset=function(){B.size=0,B.data.length=0,R.size=0,R.data.length=0,this.trigger("reset")},this.flushStreams_=function(){_e(B,"video"),_e(R,"audio"),_e(V,"timed-metadata")},this.flush=function(){if(!I&&J){var Ee={type:"metadata",tracks:[]};J.video!==null&&Ee.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+J.video,codec:"avc",type:"video"}),J.audio!==null&&Ee.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+J.audio,codec:"adts",type:"audio"}),C.trigger("data",Ee)}I=!1,this.flushStreams_(),this.trigger("done")}},jt.prototype=new Xe;var cn={PAT_PID:0,MP2T_PACKET_LENGTH:Nt,TransportPacketStream:et,TransportParseStream:St,ElementaryStream:jt,TimestampRolloverStream:He,CaptionStream:bt.CaptionStream,Cea608Stream:bt.Cea608Stream,Cea708Stream:bt.Cea708Stream,MetadataStream:at};for(var mn in pe)pe.hasOwnProperty(mn)&&(cn[mn]=pe[mn]);var Wt=cn,Xt=n,Sn=ot.ONE_SECOND_IN_TS,Nn,On=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];Nn=function(C){var I,B=0;Nn.prototype.init.call(this),this.skipWarn_=function(R,V){this.trigger("log",{level:"warn",message:`adts skiping bytes ${R} to ${V} in frame ${B} outside syncword`})},this.push=function(R){var V=0,J,xe,_e,Ee,Ne;if(C||(B=0),R.type==="audio"){I&&I.length?(_e=I,I=new Uint8Array(_e.byteLength+R.data.byteLength),I.set(_e),I.set(R.data,_e.byteLength)):I=R.data;for(var $e;V+7<I.length;){if(I[V]!==255||(I[V+1]&246)!==240){typeof $e!="number"&&($e=V),V++;continue}if(typeof $e=="number"&&(this.skipWarn_($e,V),$e=null),xe=(~I[V+1]&1)*2,J=(I[V+3]&3)<<11|I[V+4]<<3|(I[V+5]&224)>>5,Ee=((I[V+6]&3)+1)*1024,Ne=Ee*Sn/On[(I[V+2]&60)>>>2],I.byteLength-V<J)break;this.trigger("data",{pts:R.pts+B*Ne,dts:R.dts+B*Ne,sampleCount:Ee,audioobjecttype:(I[V+2]>>>6&3)+1,channelcount:(I[V+2]&1)<<2|(I[V+3]&192)>>>6,samplerate:On[(I[V+2]&60)>>>2],samplingfrequencyindex:(I[V+2]&60)>>>2,samplesize:16,data:I.subarray(V+7+xe,V+J)}),B++,V+=J}typeof $e=="number"&&(this.skipWarn_($e,V),$e=null),I=I.subarray(V)}},this.flush=function(){B=0,this.trigger("done")},this.reset=function(){I=void 0,this.trigger("reset")},this.endTimeline=function(){I=void 0,this.trigger("endedtimeline")}},Nn.prototype=new Xt;var Yn=Nn,Or;Or=function(C){var I=C.byteLength,B=0,R=0;this.length=function(){return 8*I},this.bitsAvailable=function(){return 8*I+R},this.loadWord=function(){var V=C.byteLength-I,J=new Uint8Array(4),xe=Math.min(4,I);if(xe===0)throw new Error("no bytes available");J.set(C.subarray(V,V+xe)),B=new DataView(J.buffer).getUint32(0),R=xe*8,I-=xe},this.skipBits=function(V){var J;R>V?(B<<=V,R-=V):(V-=R,J=Math.floor(V/8),V-=J*8,I-=J,this.loadWord(),B<<=V,R-=V)},this.readBits=function(V){var J=Math.min(R,V),xe=B>>>32-J;return R-=J,R>0?B<<=J:I>0&&this.loadWord(),J=V-J,J>0?xe<<J|this.readBits(J):xe},this.skipLeadingZeros=function(){var V;for(V=0;V<R;++V)if(B&2147483648>>>V)return B<<=V,R-=V,V;return this.loadWord(),V+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var V=this.skipLeadingZeros();return this.readBits(V+1)-1},this.readExpGolomb=function(){var V=this.readUnsignedExpGolomb();return 1&V?1+V>>>1:-1*(V>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var Mr=Or,ah=n,oh=Mr,wa,Tc,kc;Tc=function(){var C=0,I,B;Tc.prototype.init.call(this),this.push=function(R){var V;B?(V=new Uint8Array(B.byteLength+R.data.byteLength),V.set(B),V.set(R.data,B.byteLength),B=V):B=R.data;for(var J=B.byteLength;C<J-3;C++)if(B[C+2]===1){I=C+5;break}for(;I<J;)switch(B[I]){case 0:if(B[I-1]!==0){I+=2;break}else if(B[I-2]!==0){I++;break}C+3!==I-2&&this.trigger("data",B.subarray(C+3,I-2));do I++;while(B[I]!==1&&I<J);C=I-2,I+=3;break;case 1:if(B[I-1]!==0||B[I-2]!==0){I+=3;break}this.trigger("data",B.subarray(C+3,I-2)),C=I-2,I+=3;break;default:I+=3;break}B=B.subarray(C),I-=C,C=0},this.reset=function(){B=null,C=0,this.trigger("reset")},this.flush=function(){B&&B.byteLength>3&&this.trigger("data",B.subarray(C+3)),B=null,C=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},Tc.prototype=new ah,kc={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},wa=function(){var C=new Tc,I,B,R,V,J,xe,_e;wa.prototype.init.call(this),I=this,this.push=function(Ee){Ee.type==="video"&&(B=Ee.trackId,R=Ee.pts,V=Ee.dts,C.push(Ee))},C.on("data",function(Ee){var Ne={trackId:B,pts:R,dts:V,data:Ee,nalUnitTypeCode:Ee[0]&31};switch(Ne.nalUnitTypeCode){case 5:Ne.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:Ne.nalUnitType="sei_rbsp",Ne.escapedRBSP=J(Ee.subarray(1));break;case 7:Ne.nalUnitType="seq_parameter_set_rbsp",Ne.escapedRBSP=J(Ee.subarray(1)),Ne.config=xe(Ne.escapedRBSP);break;case 8:Ne.nalUnitType="pic_parameter_set_rbsp";break;case 9:Ne.nalUnitType="access_unit_delimiter_rbsp";break}I.trigger("data",Ne)}),C.on("done",function(){I.trigger("done")}),C.on("partialdone",function(){I.trigger("partialdone")}),C.on("reset",function(){I.trigger("reset")}),C.on("endedtimeline",function(){I.trigger("endedtimeline")}),this.flush=function(){C.flush()},this.partialFlush=function(){C.partialFlush()},this.reset=function(){C.reset()},this.endTimeline=function(){C.endTimeline()},_e=function(Ee,Ne){var $e=8,rt=8,Rt,mt;for(Rt=0;Rt<Ee;Rt++)rt!==0&&(mt=Ne.readExpGolomb(),rt=($e+mt+256)%256),$e=rt===0?$e:rt},J=function(Ee){for(var Ne=Ee.byteLength,$e=[],rt=1,Rt,mt;rt<Ne-2;)Ee[rt]===0&&Ee[rt+1]===0&&Ee[rt+2]===3?($e.push(rt+2),rt+=2):rt++;if($e.length===0)return Ee;Rt=Ne-$e.length,mt=new Uint8Array(Rt);var Kt=0;for(rt=0;rt<Rt;Kt++,rt++)Kt===$e[0]&&(Kt++,$e.shift()),mt[rt]=Ee[Kt];return mt},xe=function(Ee){var Ne=0,$e=0,rt=0,Rt=0,mt,Kt,xn,wr,dr,ta,Uc,Hc,Jo,Wc,Ai,tr=[1,1],Ul,Pi;if(mt=new oh(Ee),Kt=mt.readUnsignedByte(),wr=mt.readUnsignedByte(),xn=mt.readUnsignedByte(),mt.skipUnsignedExpGolomb(),kc[Kt]&&(dr=mt.readUnsignedExpGolomb(),dr===3&&mt.skipBits(1),mt.skipUnsignedExpGolomb(),mt.skipUnsignedExpGolomb(),mt.skipBits(1),mt.readBoolean()))for(Ai=dr!==3?8:12,Pi=0;Pi<Ai;Pi++)mt.readBoolean()&&(Pi<6?_e(16,mt):_e(64,mt));if(mt.skipUnsignedExpGolomb(),ta=mt.readUnsignedExpGolomb(),ta===0)mt.readUnsignedExpGolomb();else if(ta===1)for(mt.skipBits(1),mt.skipExpGolomb(),mt.skipExpGolomb(),Uc=mt.readUnsignedExpGolomb(),Pi=0;Pi<Uc;Pi++)mt.skipExpGolomb();if(mt.skipUnsignedExpGolomb(),mt.skipBits(1),Hc=mt.readUnsignedExpGolomb(),Jo=mt.readUnsignedExpGolomb(),Wc=mt.readBits(1),Wc===0&&mt.skipBits(1),mt.skipBits(1),mt.readBoolean()&&(Ne=mt.readUnsignedExpGolomb(),$e=mt.readUnsignedExpGolomb(),rt=mt.readUnsignedExpGolomb(),Rt=mt.readUnsignedExpGolomb()),mt.readBoolean()&&mt.readBoolean()){switch(Ul=mt.readUnsignedByte(),Ul){case 1:tr=[1,1];break;case 2:tr=[12,11];break;case 3:tr=[10,11];break;case 4:tr=[16,11];break;case 5:tr=[40,33];break;case 6:tr=[24,11];break;case 7:tr=[20,11];break;case 8:tr=[32,11];break;case 9:tr=[80,33];break;case 10:tr=[18,11];break;case 11:tr=[15,11];break;case 12:tr=[64,33];break;case 13:tr=[160,99];break;case 14:tr=[4,3];break;case 15:tr=[3,2];break;case 16:tr=[2,1];break;case 255:{tr=[mt.readUnsignedByte()<<8|mt.readUnsignedByte(),mt.readUnsignedByte()<<8|mt.readUnsignedByte()];break}}tr&&tr[0]/tr[1]}return{profileIdc:Kt,levelIdc:xn,profileCompatibility:wr,width:(Hc+1)*16-Ne*2-$e*2,height:(2-Wc)*(Jo+1)*16-rt*2-Rt*2,sarRatio:tr}}},wa.prototype=new ah;var Ec={H264Stream:wa},Dl=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],lh=function(C,I){var B=C[I+6]<<21|C[I+7]<<14|C[I+8]<<7|C[I+9],R=C[I+5],V=(R&16)>>4;return B=B>=0?B:0,V?B+20:B+10},$o=function(C,I){return C.length-I<10||C[I]!==73||C[I+1]!==68||C[I+2]!==51?I:(I+=lh(C,I),$o(C,I))},Al=function(C){var I=$o(C,0);return C.length>=I+2&&(C[I]&255)===255&&(C[I+1]&240)===240&&(C[I+1]&22)===16},ii=function(C){return C[0]<<21|C[1]<<14|C[2]<<7|C[3]},jc=function(C,I,B){var R,V="";for(R=I;R<B;R++)V+="%"+("00"+C[R].toString(16)).slice(-2);return V},Dp=function(C,I,B){return unescape(jc(C,I,B))},Ap=function(C,I){var B=(C[I+5]&224)>>5,R=C[I+4]<<3,V=C[I+3]&6144;return V|R|B},Nc=function(C,I){return C[I]===73&&C[I+1]===68&&C[I+2]===51?"timed-metadata":C[I]&!0&&(C[I+1]&240)===240?"audio":null},Pl=function(C){for(var I=0;I+5<C.length;){if(C[I]!==255||(C[I+1]&246)!==240){I++;continue}return Dl[(C[I+2]&60)>>>2]}return null},Dc=function(C){var I,B,R,V;I=10,C[5]&64&&(I+=4,I+=ii(C.subarray(10,14)));do{if(B=ii(C.subarray(I+4,I+8)),B<1)return null;if(V=String.fromCharCode(C[I],C[I+1],C[I+2],C[I+3]),V==="PRIV"){R=C.subarray(I+10,I+B+10);for(var J=0;J<R.byteLength;J++)if(R[J]===0){var xe=Dp(R,0,J);if(xe==="com.apple.streaming.transportStreamTimestamp"){var _e=R.subarray(J+1),Ee=(_e[3]&1)<<30|_e[4]<<22|_e[5]<<14|_e[6]<<6|_e[7]>>>2;return Ee*=4,Ee+=_e[7]&3,Ee}break}}I+=10,I+=B}while(I<C.byteLength);return null},Ac={isLikelyAacData:Al,parseId3TagSize:lh,parseAdtsSize:Ap,parseType:Nc,parseSampleRate:Pl,parseAacTimestamp:Dc},Sa=n,Pc=Ac,oo;oo=function(){var C=new Uint8Array,I=0;oo.prototype.init.call(this),this.setTimestamp=function(B){I=B},this.push=function(B){var R=0,V=0,J,xe,_e,Ee;for(C.length?(Ee=C.length,C=new Uint8Array(B.byteLength+Ee),C.set(C.subarray(0,Ee)),C.set(B,Ee)):C=B;C.length-V>=3;){if(C[V]===73&&C[V+1]===68&&C[V+2]===51){if(C.length-V<10||(R=Pc.parseId3TagSize(C,V),V+R>C.length))break;xe={type:"timed-metadata",data:C.subarray(V,V+R)},this.trigger("data",xe),V+=R;continue}else if((C[V]&255)===255&&(C[V+1]&240)===240){if(C.length-V<7||(R=Pc.parseAdtsSize(C,V),V+R>C.length))break;_e={type:"audio",data:C.subarray(V,V+R),pts:I,dts:I},this.trigger("data",_e),V+=R;continue}V++}J=C.length-V,J>0?C=C.subarray(V):C=new Uint8Array},this.reset=function(){C=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){C=new Uint8Array,this.trigger("endedtimeline")}},oo.prototype=new Sa;var ch=oo,Ic=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Zi=Ic,uh=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],As=uh,Ji=n,Ca=je,Ei=se,zo=it,Ps=Oe,ai=Wt,Ta=ot,Il=Yn,dh=Ec.H264Stream,Pp=ch,Ip=Ac.isLikelyAacData,Op=ot.ONE_SECOND_IN_TS,Ol=Zi,Oc=As,Ml,ji,Mc,lo,hh=function(C,I){I.stream=C,this.trigger("log",I)},fh=function(C,I){for(var B=Object.keys(I),R=0;R<B.length;R++){var V=B[R];V==="headOfPipeline"||!I[V].on||I[V].on("log",hh.bind(C,V))}},ph=function(C,I){var B;if(C.length!==I.length)return!1;for(B=0;B<C.length;B++)if(C[B]!==I[B])return!1;return!0},mh=function(C,I,B,R,V,J){var xe=B-I,_e=R-I,Ee=V-B;return{start:{dts:C,pts:C+xe},end:{dts:C+_e,pts:C+Ee},prependedContentDuration:J,baseMediaDecodeTime:C}};ji=function(C,I){var B=[],R,V=0,J=0,xe=1/0;I=I||{},R=I.firstSequenceNumber||0,ji.prototype.init.call(this),this.push=function(_e){Ps.collectDtsInfo(C,_e),C&&Ol.forEach(function(Ee){C[Ee]=_e[Ee]}),B.push(_e)},this.setEarliestDts=function(_e){V=_e},this.setVideoBaseMediaDecodeTime=function(_e){xe=_e},this.setAudioAppendStart=function(_e){J=_e},this.flush=function(){var _e,Ee,Ne,$e,rt,Rt,mt;if(B.length===0){this.trigger("done","AudioSegmentStream");return}_e=zo.trimAdtsFramesByEarliestDts(B,C,V),C.baseMediaDecodeTime=Ps.calculateTrackBaseMediaDecodeTime(C,I.keepOriginalTimestamps),mt=zo.prefixWithSilence(C,_e,J,xe),C.samples=zo.generateSampleTable(_e),Ne=Ca.mdat(zo.concatenateFrameData(_e)),B=[],Ee=Ca.moof(R,[C]),$e=new Uint8Array(Ee.byteLength+Ne.byteLength),R++,$e.set(Ee),$e.set(Ne,Ee.byteLength),Ps.clearDtsInfo(C),rt=Math.ceil(Op*1024/C.samplerate),_e.length&&(Rt=_e.length*rt,this.trigger("segmentTimingInfo",mh(Ta.audioTsToVideoTs(C.baseMediaDecodeTime,C.samplerate),_e[0].dts,_e[0].pts,_e[0].dts+Rt,_e[0].pts+Rt,mt||0)),this.trigger("timingInfo",{start:_e[0].pts,end:_e[0].pts+Rt})),this.trigger("data",{track:C,boxes:$e}),this.trigger("done","AudioSegmentStream")},this.reset=function(){Ps.clearDtsInfo(C),B=[],this.trigger("reset")}},ji.prototype=new Ji,Ml=function(C,I){var B,R=[],V=[],J,xe;I=I||{},B=I.firstSequenceNumber||0,Ml.prototype.init.call(this),delete C.minPTS,this.gopCache_=[],this.push=function(_e){Ps.collectDtsInfo(C,_e),_e.nalUnitType==="seq_parameter_set_rbsp"&&!J&&(J=_e.config,C.sps=[_e.data],Oc.forEach(function(Ee){C[Ee]=J[Ee]},this)),_e.nalUnitType==="pic_parameter_set_rbsp"&&!xe&&(xe=_e.data,C.pps=[_e.data]),R.push(_e)},this.flush=function(){for(var _e,Ee,Ne,$e,rt,Rt,mt=0,Kt,xn;R.length&&R[0].nalUnitType!=="access_unit_delimiter_rbsp";)R.shift();if(R.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(_e=Ei.groupNalsIntoFrames(R),Ne=Ei.groupFramesIntoGops(_e),Ne[0][0].keyFrame||(Ee=this.getGopForFusion_(R[0],C),Ee?(mt=Ee.duration,Ne.unshift(Ee),Ne.byteLength+=Ee.byteLength,Ne.nalCount+=Ee.nalCount,Ne.pts=Ee.pts,Ne.dts=Ee.dts,Ne.duration+=Ee.duration):Ne=Ei.extendFirstKeyFrame(Ne)),V.length){var wr;if(I.alignGopsAtEnd?wr=this.alignGopsAtEnd_(Ne):wr=this.alignGopsAtStart_(Ne),!wr){this.gopCache_.unshift({gop:Ne.pop(),pps:C.pps,sps:C.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),R=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}Ps.clearDtsInfo(C),Ne=wr}Ps.collectDtsInfo(C,Ne),C.samples=Ei.generateSampleTable(Ne),rt=Ca.mdat(Ei.concatenateNalData(Ne)),C.baseMediaDecodeTime=Ps.calculateTrackBaseMediaDecodeTime(C,I.keepOriginalTimestamps),this.trigger("processedGopsInfo",Ne.map(function(dr){return{pts:dr.pts,dts:dr.dts,byteLength:dr.byteLength}})),Kt=Ne[0],xn=Ne[Ne.length-1],this.trigger("segmentTimingInfo",mh(C.baseMediaDecodeTime,Kt.dts,Kt.pts,xn.dts+xn.duration,xn.pts+xn.duration,mt)),this.trigger("timingInfo",{start:Ne[0].pts,end:Ne[Ne.length-1].pts+Ne[Ne.length-1].duration}),this.gopCache_.unshift({gop:Ne.pop(),pps:C.pps,sps:C.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),R=[],this.trigger("baseMediaDecodeTime",C.baseMediaDecodeTime),this.trigger("timelineStartInfo",C.timelineStartInfo),$e=Ca.moof(B,[C]),Rt=new Uint8Array($e.byteLength+rt.byteLength),B++,Rt.set($e),Rt.set(rt,$e.byteLength),this.trigger("data",{track:C,boxes:Rt}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),R=[],this.gopCache_.length=0,V.length=0,this.trigger("reset")},this.resetStream_=function(){Ps.clearDtsInfo(C),J=void 0,xe=void 0},this.getGopForFusion_=function(_e){var Ee=45e3,Ne=1/0,$e,rt,Rt,mt,Kt;for(Kt=0;Kt<this.gopCache_.length;Kt++)mt=this.gopCache_[Kt],Rt=mt.gop,!(!(C.pps&&ph(C.pps[0],mt.pps[0]))||!(C.sps&&ph(C.sps[0],mt.sps[0])))&&(Rt.dts<C.timelineStartInfo.dts||($e=_e.dts-Rt.dts-Rt.duration,$e>=-1e4&&$e<=Ee&&(!rt||Ne>$e)&&(rt=mt,Ne=$e)));return rt?rt.gop:null},this.alignGopsAtStart_=function(_e){var Ee,Ne,$e,rt,Rt,mt,Kt,xn;for(Rt=_e.byteLength,mt=_e.nalCount,Kt=_e.duration,Ee=Ne=0;Ee<V.length&&Ne<_e.length&&($e=V[Ee],rt=_e[Ne],$e.pts!==rt.pts);){if(rt.pts>$e.pts){Ee++;continue}Ne++,Rt-=rt.byteLength,mt-=rt.nalCount,Kt-=rt.duration}return Ne===0?_e:Ne===_e.length?null:(xn=_e.slice(Ne),xn.byteLength=Rt,xn.duration=Kt,xn.nalCount=mt,xn.pts=xn[0].pts,xn.dts=xn[0].dts,xn)},this.alignGopsAtEnd_=function(_e){var Ee,Ne,$e,rt,Rt,mt;for(Ee=V.length-1,Ne=_e.length-1,Rt=null,mt=!1;Ee>=0&&Ne>=0;){if($e=V[Ee],rt=_e[Ne],$e.pts===rt.pts){mt=!0;break}if($e.pts>rt.pts){Ee--;continue}Ee===V.length-1&&(Rt=Ne),Ne--}if(!mt&&Rt===null)return null;var Kt;if(mt?Kt=Ne:Kt=Rt,Kt===0)return _e;var xn=_e.slice(Kt),wr=xn.reduce(function(dr,ta){return dr.byteLength+=ta.byteLength,dr.duration+=ta.duration,dr.nalCount+=ta.nalCount,dr},{byteLength:0,duration:0,nalCount:0});return xn.byteLength=wr.byteLength,xn.duration=wr.duration,xn.nalCount=wr.nalCount,xn.pts=xn[0].pts,xn.dts=xn[0].dts,xn},this.alignGopsWith=function(_e){V=_e}},Ml.prototype=new Ji,lo=function(C,I){this.numberOfTracks=0,this.metadataStream=I,C=C||{},typeof C.remux<"u"?this.remuxTracks=!!C.remux:this.remuxTracks=!0,typeof C.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=C.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,lo.prototype.init.call(this),this.push=function(B){if(B.content||B.text)return this.pendingCaptions.push(B);if(B.frames)return this.pendingMetadata.push(B);this.pendingTracks.push(B.track),this.pendingBytes+=B.boxes.byteLength,B.track.type==="video"&&(this.videoTrack=B.track,this.pendingBoxes.push(B.boxes)),B.track.type==="audio"&&(this.audioTrack=B.track,this.pendingBoxes.unshift(B.boxes))}},lo.prototype=new Ji,lo.prototype.flush=function(C){var I=0,B={captions:[],captionStreams:{},metadata:[],info:{}},R,V,J,xe=0,_e;if(this.pendingTracks.length<this.numberOfTracks){if(C!=="VideoSegmentStream"&&C!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(xe=this.videoTrack.timelineStartInfo.pts,Oc.forEach(function(Ee){B.info[Ee]=this.videoTrack[Ee]},this)):this.audioTrack&&(xe=this.audioTrack.timelineStartInfo.pts,Ol.forEach(function(Ee){B.info[Ee]=this.audioTrack[Ee]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?B.type=this.pendingTracks[0].type:B.type="combined",this.emittedTracks+=this.pendingTracks.length,J=Ca.initSegment(this.pendingTracks),B.initSegment=new Uint8Array(J.byteLength),B.initSegment.set(J),B.data=new Uint8Array(this.pendingBytes),_e=0;_e<this.pendingBoxes.length;_e++)B.data.set(this.pendingBoxes[_e],I),I+=this.pendingBoxes[_e].byteLength;for(_e=0;_e<this.pendingCaptions.length;_e++)R=this.pendingCaptions[_e],R.startTime=Ta.metadataTsToSeconds(R.startPts,xe,this.keepOriginalTimestamps),R.endTime=Ta.metadataTsToSeconds(R.endPts,xe,this.keepOriginalTimestamps),B.captionStreams[R.stream]=!0,B.captions.push(R);for(_e=0;_e<this.pendingMetadata.length;_e++)V=this.pendingMetadata[_e],V.cueTime=Ta.metadataTsToSeconds(V.pts,xe,this.keepOriginalTimestamps),B.metadata.push(V);for(B.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",B),_e=0;_e<B.captions.length;_e++)R=B.captions[_e],this.trigger("caption",R);for(_e=0;_e<B.metadata.length;_e++)V=B.metadata[_e],this.trigger("id3Frame",V)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},lo.prototype.setRemux=function(C){this.remuxTracks=C},Mc=function(C){var I=this,B=!0,R,V;Mc.prototype.init.call(this),C=C||{},this.baseMediaDecodeTime=C.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var J={};this.transmuxPipeline_=J,J.type="aac",J.metadataStream=new ai.MetadataStream,J.aacStream=new Pp,J.audioTimestampRolloverStream=new ai.TimestampRolloverStream("audio"),J.timedMetadataTimestampRolloverStream=new ai.TimestampRolloverStream("timed-metadata"),J.adtsStream=new Il,J.coalesceStream=new lo(C,J.metadataStream),J.headOfPipeline=J.aacStream,J.aacStream.pipe(J.audioTimestampRolloverStream).pipe(J.adtsStream),J.aacStream.pipe(J.timedMetadataTimestampRolloverStream).pipe(J.metadataStream).pipe(J.coalesceStream),J.metadataStream.on("timestamp",function(xe){J.aacStream.setTimestamp(xe.timeStamp)}),J.aacStream.on("data",function(xe){xe.type!=="timed-metadata"&&xe.type!=="audio"||J.audioSegmentStream||(V=V||{timelineStartInfo:{baseMediaDecodeTime:I.baseMediaDecodeTime},codec:"adts",type:"audio"},J.coalesceStream.numberOfTracks++,J.audioSegmentStream=new ji(V,C),J.audioSegmentStream.on("log",I.getLogTrigger_("audioSegmentStream")),J.audioSegmentStream.on("timingInfo",I.trigger.bind(I,"audioTimingInfo")),J.adtsStream.pipe(J.audioSegmentStream).pipe(J.coalesceStream),I.trigger("trackinfo",{hasAudio:!!V,hasVideo:!!R}))}),J.coalesceStream.on("data",this.trigger.bind(this,"data")),J.coalesceStream.on("done",this.trigger.bind(this,"done")),fh(this,J)},this.setupTsPipeline=function(){var J={};this.transmuxPipeline_=J,J.type="ts",J.metadataStream=new ai.MetadataStream,J.packetStream=new ai.TransportPacketStream,J.parseStream=new ai.TransportParseStream,J.elementaryStream=new ai.ElementaryStream,J.timestampRolloverStream=new ai.TimestampRolloverStream,J.adtsStream=new Il,J.h264Stream=new dh,J.captionStream=new ai.CaptionStream(C),J.coalesceStream=new lo(C,J.metadataStream),J.headOfPipeline=J.packetStream,J.packetStream.pipe(J.parseStream).pipe(J.elementaryStream).pipe(J.timestampRolloverStream),J.timestampRolloverStream.pipe(J.h264Stream),J.timestampRolloverStream.pipe(J.adtsStream),J.timestampRolloverStream.pipe(J.metadataStream).pipe(J.coalesceStream),J.h264Stream.pipe(J.captionStream).pipe(J.coalesceStream),J.elementaryStream.on("data",function(xe){var _e;if(xe.type==="metadata"){for(_e=xe.tracks.length;_e--;)!R&&xe.tracks[_e].type==="video"?(R=xe.tracks[_e],R.timelineStartInfo.baseMediaDecodeTime=I.baseMediaDecodeTime):!V&&xe.tracks[_e].type==="audio"&&(V=xe.tracks[_e],V.timelineStartInfo.baseMediaDecodeTime=I.baseMediaDecodeTime);R&&!J.videoSegmentStream&&(J.coalesceStream.numberOfTracks++,J.videoSegmentStream=new Ml(R,C),J.videoSegmentStream.on("log",I.getLogTrigger_("videoSegmentStream")),J.videoSegmentStream.on("timelineStartInfo",function(Ee){V&&!C.keepOriginalTimestamps&&(V.timelineStartInfo=Ee,J.audioSegmentStream.setEarliestDts(Ee.dts-I.baseMediaDecodeTime))}),J.videoSegmentStream.on("processedGopsInfo",I.trigger.bind(I,"gopInfo")),J.videoSegmentStream.on("segmentTimingInfo",I.trigger.bind(I,"videoSegmentTimingInfo")),J.videoSegmentStream.on("baseMediaDecodeTime",function(Ee){V&&J.audioSegmentStream.setVideoBaseMediaDecodeTime(Ee)}),J.videoSegmentStream.on("timingInfo",I.trigger.bind(I,"videoTimingInfo")),J.h264Stream.pipe(J.videoSegmentStream).pipe(J.coalesceStream)),V&&!J.audioSegmentStream&&(J.coalesceStream.numberOfTracks++,J.audioSegmentStream=new ji(V,C),J.audioSegmentStream.on("log",I.getLogTrigger_("audioSegmentStream")),J.audioSegmentStream.on("timingInfo",I.trigger.bind(I,"audioTimingInfo")),J.audioSegmentStream.on("segmentTimingInfo",I.trigger.bind(I,"audioSegmentTimingInfo")),J.adtsStream.pipe(J.audioSegmentStream).pipe(J.coalesceStream)),I.trigger("trackinfo",{hasAudio:!!V,hasVideo:!!R})}}),J.coalesceStream.on("data",this.trigger.bind(this,"data")),J.coalesceStream.on("id3Frame",function(xe){xe.dispatchType=J.metadataStream.dispatchType,I.trigger("id3Frame",xe)}),J.coalesceStream.on("caption",this.trigger.bind(this,"caption")),J.coalesceStream.on("done",this.trigger.bind(this,"done")),fh(this,J)},this.setBaseMediaDecodeTime=function(J){var xe=this.transmuxPipeline_;C.keepOriginalTimestamps||(this.baseMediaDecodeTime=J),V&&(V.timelineStartInfo.dts=void 0,V.timelineStartInfo.pts=void 0,Ps.clearDtsInfo(V),xe.audioTimestampRolloverStream&&xe.audioTimestampRolloverStream.discontinuity()),R&&(xe.videoSegmentStream&&(xe.videoSegmentStream.gopCache_=[]),R.timelineStartInfo.dts=void 0,R.timelineStartInfo.pts=void 0,Ps.clearDtsInfo(R),xe.captionStream.reset()),xe.timestampRolloverStream&&xe.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(J){V&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(J)},this.setRemux=function(J){var xe=this.transmuxPipeline_;C.remux=J,xe&&xe.coalesceStream&&xe.coalesceStream.setRemux(J)},this.alignGopsWith=function(J){R&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(J)},this.getLogTrigger_=function(J){var xe=this;return function(_e){_e.stream=J,xe.trigger("log",_e)}},this.push=function(J){if(B){var xe=Ip(J);xe&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!xe&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),B=!1}this.transmuxPipeline_.headOfPipeline.push(J)},this.flush=function(){B=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},Mc.prototype=new Ji;var Mp={Transmuxer:Mc},Bu=function(C){return C>>>0},Rp=function(C){return("00"+C.toString(16)).slice(-2)},Uo={toUnsigned:Bu,toHexString:Rp},gh=function(C){var I="";return I+=String.fromCharCode(C[0]),I+=String.fromCharCode(C[1]),I+=String.fromCharCode(C[2]),I+=String.fromCharCode(C[3]),I},$u=gh,Lp=Uo.toUnsigned,Fp=$u,zu=function(C,I){var B=[],R,V,J,xe,_e;if(!I.length)return null;for(R=0;R<C.byteLength;)V=Lp(C[R]<<24|C[R+1]<<16|C[R+2]<<8|C[R+3]),J=Fp(C.subarray(R+4,R+8)),xe=V>1?R+V:C.byteLength,J===I[0]&&(I.length===1?B.push(C.subarray(R+8,xe)):(_e=zu(C.subarray(R+8,xe),I.slice(1)),_e.length&&(B=B.concat(_e)))),R=xe;return B},Uu=zu,Hu=Uo.toUnsigned,yh=i.getUint64,bh=function(C){var I={version:C[0],flags:new Uint8Array(C.subarray(1,4))};return I.version===1?I.baseMediaDecodeTime=yh(C.subarray(4)):I.baseMediaDecodeTime=Hu(C[4]<<24|C[5]<<16|C[6]<<8|C[7]),I},co=bh,Rl=function(C){var I=new DataView(C.buffer,C.byteOffset,C.byteLength),B={version:C[0],flags:new Uint8Array(C.subarray(1,4)),trackId:I.getUint32(4)},R=B.flags[2]&1,V=B.flags[2]&2,J=B.flags[2]&8,xe=B.flags[2]&16,_e=B.flags[2]&32,Ee=B.flags[0]&65536,Ne=B.flags[0]&131072,$e;return $e=8,R&&($e+=4,B.baseDataOffset=I.getUint32(12),$e+=4),V&&(B.sampleDescriptionIndex=I.getUint32($e),$e+=4),J&&(B.defaultSampleDuration=I.getUint32($e),$e+=4),xe&&(B.defaultSampleSize=I.getUint32($e),$e+=4),_e&&(B.defaultSampleFlags=I.getUint32($e)),Ee&&(B.durationIsEmpty=!0),!R&&Ne&&(B.baseDataOffsetIsMoof=!0),B},xh=Rl,vh=function(C){return{isLeading:(C[0]&12)>>>2,dependsOn:C[0]&3,isDependedOn:(C[1]&192)>>>6,hasRedundancy:(C[1]&48)>>>4,paddingValue:(C[1]&14)>>>1,isNonSyncSample:C[1]&1,degradationPriority:C[2]<<8|C[3]}},Ll=vh,Wu=Ll,_h=function(C){var I={version:C[0],flags:new Uint8Array(C.subarray(1,4)),samples:[]},B=new DataView(C.buffer,C.byteOffset,C.byteLength),R=I.flags[2]&1,V=I.flags[2]&4,J=I.flags[1]&1,xe=I.flags[1]&2,_e=I.flags[1]&4,Ee=I.flags[1]&8,Ne=B.getUint32(4),$e=8,rt;for(R&&(I.dataOffset=B.getInt32($e),$e+=4),V&&Ne&&(rt={flags:Wu(C.subarray($e,$e+4))},$e+=4,J&&(rt.duration=B.getUint32($e),$e+=4),xe&&(rt.size=B.getUint32($e),$e+=4),Ee&&(I.version===1?rt.compositionTimeOffset=B.getInt32($e):rt.compositionTimeOffset=B.getUint32($e),$e+=4),I.samples.push(rt),Ne--);Ne--;)rt={},J&&(rt.duration=B.getUint32($e),$e+=4),xe&&(rt.size=B.getUint32($e),$e+=4),_e&&(rt.flags=Wu(C.subarray($e,$e+4)),$e+=4),Ee&&(I.version===1?rt.compositionTimeOffset=B.getInt32($e):rt.compositionTimeOffset=B.getUint32($e),$e+=4),I.samples.push(rt);return I},Vu=_h,uo={tfdt:co,trun:Vu},qu={parseTfdt:uo.tfdt,parseTrun:uo.trun},Bp=function(C){for(var I=0,B=String.fromCharCode(C[I]),R="";B!=="\0";)R+=B,I++,B=String.fromCharCode(C[I]);return R+=B,R},$p={uint8ToCString:Bp},Fl=$p.uint8ToCString,wh=i.getUint64,Ho=function(C){var I=4,B=C[0],R,V,J,xe,_e,Ee,Ne,$e;if(B===0){R=Fl(C.subarray(I)),I+=R.length,V=Fl(C.subarray(I)),I+=V.length;var rt=new DataView(C.buffer);J=rt.getUint32(I),I+=4,_e=rt.getUint32(I),I+=4,Ee=rt.getUint32(I),I+=4,Ne=rt.getUint32(I),I+=4}else if(B===1){var rt=new DataView(C.buffer);J=rt.getUint32(I),I+=4,xe=wh(C.subarray(I)),I+=8,Ee=rt.getUint32(I),I+=4,Ne=rt.getUint32(I),I+=4,R=Fl(C.subarray(I)),I+=R.length,V=Fl(C.subarray(I)),I+=V.length}$e=new Uint8Array(C.subarray(I,C.byteLength));var Rt={scheme_id_uri:R,value:V,timescale:J||1,presentation_time:xe,presentation_time_delta:_e,event_duration:Ee,id:Ne,message_data:$e};return zp(B,Rt)?Rt:void 0},Wo=function(C,I,B,R){return C||C===0?C/I:R+B/I},zp=function(C,I){var B=I.scheme_id_uri!=="\0",R=C===0&&Bl(I.presentation_time_delta)&&B,V=C===1&&Bl(I.presentation_time)&&B;return!(C>1)&&R||V},Bl=function(C){return C!==void 0||C!==null},Up={parseEmsgBox:Ho,scaleTime:Wo},ho;typeof window<"u"?ho=window:typeof t<"u"?ho=t:typeof self<"u"?ho=self:ho={};var Vo=ho,qo=Uo.toUnsigned,Yo=Uo.toHexString,gr=Uu,fo=$u,Rc=Up,Hp=xh,Wp=Vu,Vp=co,qp=i.getUint64,Us,Go,Yu,Gu,Ku,Ni,$l,Xu=Vo,Sh=ki.parseId3Frames;Us=function(C){var I={},B=gr(C,["moov","trak"]);return B.reduce(function(R,V){var J,xe,_e,Ee,Ne;return J=gr(V,["tkhd"])[0],!J||(xe=J[0],_e=xe===0?12:20,Ee=qo(J[_e]<<24|J[_e+1]<<16|J[_e+2]<<8|J[_e+3]),Ne=gr(V,["mdia","mdhd"])[0],!Ne)?null:(xe=Ne[0],_e=xe===0?12:20,R[Ee]=qo(Ne[_e]<<24|Ne[_e+1]<<16|Ne[_e+2]<<8|Ne[_e+3]),R)},I)},Go=function(C,I){var B;B=gr(I,["moof","traf"]);var R=B.reduce(function(V,J){var xe=gr(J,["tfhd"])[0],_e=qo(xe[4]<<24|xe[5]<<16|xe[6]<<8|xe[7]),Ee=C[_e]||9e4,Ne=gr(J,["tfdt"])[0],$e=new DataView(Ne.buffer,Ne.byteOffset,Ne.byteLength),rt;Ne[0]===1?rt=qp(Ne.subarray(4,12)):rt=$e.getUint32(4);let Rt;return typeof rt=="bigint"?Rt=rt/Xu.BigInt(Ee):typeof rt=="number"&&!isNaN(rt)&&(Rt=rt/Ee),Rt<Number.MAX_SAFE_INTEGER&&(Rt=Number(Rt)),Rt<V&&(V=Rt),V},1/0);return typeof R=="bigint"||isFinite(R)?R:0},Yu=function(C,I){var B=gr(I,["moof","traf"]),R=0,V=0,J;if(B&&B.length){var xe=gr(B[0],["tfhd"])[0],_e=gr(B[0],["trun"])[0],Ee=gr(B[0],["tfdt"])[0];if(xe){var Ne=Hp(xe);J=Ne.trackId}if(Ee){var $e=Vp(Ee);R=$e.baseMediaDecodeTime}if(_e){var rt=Wp(_e);rt.samples&&rt.samples.length&&(V=rt.samples[0].compositionTimeOffset||0)}}var Rt=C[J]||9e4;typeof R=="bigint"&&(V=Xu.BigInt(V),Rt=Xu.BigInt(Rt));var mt=(R+V)/Rt;return typeof mt=="bigint"&&mt<Number.MAX_SAFE_INTEGER&&(mt=Number(mt)),mt},Gu=function(C){var I=gr(C,["moov","trak"]),B=[];return I.forEach(function(R){var V=gr(R,["mdia","hdlr"]),J=gr(R,["tkhd"]);V.forEach(function(xe,_e){var Ee=fo(xe.subarray(8,12)),Ne=J[_e],$e,rt,Rt;Ee==="vide"&&($e=new DataView(Ne.buffer,Ne.byteOffset,Ne.byteLength),rt=$e.getUint8(0),Rt=rt===0?$e.getUint32(12):$e.getUint32(20),B.push(Rt))})}),B},Ni=function(C){var I=C[0],B=I===0?12:20;return qo(C[B]<<24|C[B+1]<<16|C[B+2]<<8|C[B+3])},Ku=function(C){var I=gr(C,["moov","trak"]),B=[];return I.forEach(function(R){var V={},J=gr(R,["tkhd"])[0],xe,_e;J&&(xe=new DataView(J.buffer,J.byteOffset,J.byteLength),_e=xe.getUint8(0),V.id=_e===0?xe.getUint32(12):xe.getUint32(20));var Ee=gr(R,["mdia","hdlr"])[0];if(Ee){var Ne=fo(Ee.subarray(8,12));Ne==="vide"?V.type="video":Ne==="soun"?V.type="audio":V.type=Ne}var $e=gr(R,["mdia","minf","stbl","stsd"])[0];if($e){var rt=$e.subarray(8);V.codec=fo(rt.subarray(4,8));var Rt=gr(rt,[V.codec])[0],mt,Kt;Rt&&(/^[asm]vc[1-9]$/i.test(V.codec)?(mt=Rt.subarray(78),Kt=fo(mt.subarray(4,8)),Kt==="avcC"&&mt.length>11?(V.codec+=".",V.codec+=Yo(mt[9]),V.codec+=Yo(mt[10]),V.codec+=Yo(mt[11])):V.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(V.codec)?(mt=Rt.subarray(28),Kt=fo(mt.subarray(4,8)),Kt==="esds"&&mt.length>20&&mt[19]!==0?(V.codec+="."+Yo(mt[19]),V.codec+="."+Yo(mt[20]>>>2&63).replace(/^0/,"")):V.codec="mp4a.40.2"):V.codec=V.codec.toLowerCase())}var xn=gr(R,["mdia","mdhd"])[0];xn&&(V.timescale=Ni(xn)),B.push(V)}),B},$l=function(C,I=0){var B=gr(C,["emsg"]);return B.map(R=>{var V=Rc.parseEmsgBox(new Uint8Array(R)),J=Sh(V.message_data);return{cueTime:Rc.scaleTime(V.presentation_time,V.timescale,V.presentation_time_delta,I),duration:Rc.scaleTime(V.event_duration,V.timescale),frames:J}})};var Di={findBox:gr,parseType:fo,timescale:Us,startTime:Go,compositionStartTime:Yu,videoTrackIds:Gu,tracks:Ku,getTimescaleFromMediaHeader:Ni,getEmsgID3:$l};const{parseTrun:Qu}=qu,{findBox:Ko}=Di;var zl=Vo,Ch=function(C){var I=Ko(C,["moof","traf"]),B=Ko(C,["mdat"]),R=[];return B.forEach(function(V,J){var xe=I[J];R.push({mdat:V,traf:xe})}),R},Lc=function(C,I,B){var R=I,V=B.defaultSampleDuration||0,J=B.defaultSampleSize||0,xe=B.trackId,_e=[];return C.forEach(function(Ee){var Ne=Qu(Ee),$e=Ne.samples;$e.forEach(function(rt){rt.duration===void 0&&(rt.duration=V),rt.size===void 0&&(rt.size=J),rt.trackId=xe,rt.dts=R,rt.compositionTimeOffset===void 0&&(rt.compositionTimeOffset=0),typeof R=="bigint"?(rt.pts=R+zl.BigInt(rt.compositionTimeOffset),R+=zl.BigInt(rt.duration)):(rt.pts=R+rt.compositionTimeOffset,R+=rt.duration)}),_e=_e.concat($e)}),_e},po={getMdatTrafPairs:Ch,parseSamples:Lc},Hs=vr.discardEmulationPreventionBytes,mo=so.CaptionStream,Xo=Uu,Th=co,kh=xh,{getMdatTrafPairs:Eh,parseSamples:jh}=po,Nh=function(C,I){for(var B=C,R=0;R<I.length;R++){var V=I[R];if(B<V.size)return V;B-=V.size}return null},Dh=function(C,I,B){var R=new DataView(C.buffer,C.byteOffset,C.byteLength),V={logs:[],seiNals:[]},J,xe,_e,Ee;for(xe=0;xe+4<C.length;xe+=_e)if(_e=R.getUint32(xe),xe+=4,!(_e<=0))switch(C[xe]&31){case 6:var Ne=C.subarray(xe+1,xe+1+_e),$e=Nh(xe,I);if(J={nalUnitType:"sei_rbsp",size:_e,data:Ne,escapedRBSP:Hs(Ne),trackId:B},$e)J.pts=$e.pts,J.dts=$e.dts,Ee=$e;else if(Ee)J.pts=Ee.pts,J.dts=Ee.dts;else{V.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+xe+" for trackId "+B+". See mux.js#223."});break}V.seiNals.push(J);break}return V},oi=function(C,I){var B={},R=Eh(C);return R.forEach(function(V){var J=V.mdat,xe=V.traf,_e=Xo(xe,["tfhd"]),Ee=kh(_e[0]),Ne=Ee.trackId,$e=Xo(xe,["tfdt"]),rt=$e.length>0?Th($e[0]).baseMediaDecodeTime:0,Rt=Xo(xe,["trun"]),mt,Kt;I===Ne&&Rt.length>0&&(mt=jh(Rt,rt,Ee),Kt=Dh(J,mt,Ne),B[Ne]||(B[Ne]={seiNals:[],logs:[]}),B[Ne].seiNals=B[Ne].seiNals.concat(Kt.seiNals),B[Ne].logs=B[Ne].logs.concat(Kt.logs))}),B},z=function(C,I,B){var R;if(I===null)return null;R=oi(C,I);var V=R[I]||{};return{seiNals:V.seiNals,logs:V.logs,timescale:B}},H=function(){var C=!1,I,B,R,V,J,xe;this.isInitialized=function(){return C},this.init=function(_e){I=new mo,C=!0,xe=_e?_e.isPartial:!1,I.on("data",function(Ee){Ee.startTime=Ee.startPts/V,Ee.endTime=Ee.endPts/V,J.captions.push(Ee),J.captionStreams[Ee.stream]=!0}),I.on("log",function(Ee){J.logs.push(Ee)})},this.isNewInit=function(_e,Ee){return _e&&_e.length===0||Ee&&typeof Ee=="object"&&Object.keys(Ee).length===0?!1:R!==_e[0]||V!==Ee[R]},this.parse=function(_e,Ee,Ne){var $e;if(this.isInitialized()){if(!Ee||!Ne)return null;if(this.isNewInit(Ee,Ne))R=Ee[0],V=Ne[R];else if(R===null||!V)return B.push(_e),null}else return null;for(;B.length>0;){var rt=B.shift();this.parse(rt,Ee,Ne)}return $e=z(_e,R,V),$e&&$e.logs&&(J.logs=J.logs.concat($e.logs)),$e===null||!$e.seiNals?J.logs.length?{logs:J.logs,captions:[],captionStreams:[]}:null:(this.pushNals($e.seiNals),this.flushStream(),J)},this.pushNals=function(_e){if(!this.isInitialized()||!_e||_e.length===0)return null;_e.forEach(function(Ee){I.push(Ee)})},this.flushStream=function(){if(!this.isInitialized())return null;xe?I.partialFlush():I.flush()},this.clearParsedCaptions=function(){J.captions=[],J.captionStreams={},J.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;I.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){B=[],R=null,V=null,J?this.clearParsedCaptions():J={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},oe=H;const{parseTfdt:Ae}=qu,ft=Uu,{getTimescaleFromMediaHeader:Gt}=Di,{parseSamples:yr,getMdatTrafPairs:li}=po;var ea=function(){let C=9e4;this.init=function(I){const B=ft(I,["moov","trak","mdia","mdhd"])[0];B&&(C=Gt(B))},this.parseSegment=function(I){const B=[],R=li(I);let V=0;return R.forEach(function(J){const xe=J.mdat,_e=J.traf,Ee=ft(_e,["tfdt"])[0],Ne=ft(_e,["tfhd"])[0],$e=ft(_e,["trun"]);if(Ee&&(V=Ae(Ee).baseMediaDecodeTime),$e.length&&Ne){const rt=yr($e,V,Ne);let Rt=0;rt.forEach(function(mt){const Kt="utf-8",xn=new TextDecoder(Kt),wr=xe.slice(Rt,Rt+mt.size);if(ft(wr,["vtte"])[0]){Rt+=mt.size;return}ft(wr,["vttc"]).forEach(function(Uc){const Hc=ft(Uc,["payl"])[0],Jo=ft(Uc,["sttg"])[0],Wc=mt.pts/C,Ai=(mt.pts+mt.duration)/C;let tr,Ul;if(Hc)try{tr=xn.decode(Hc)}catch(Pi){console.error(Pi)}if(Jo)try{Ul=xn.decode(Jo)}catch(Pi){console.error(Pi)}mt.duration&&tr&&B.push({cueText:tr,start:Wc,end:Ai,settings:Ul})}),Rt+=mt.size})}}),B}},ka=ba,Fc=function(C){var I=C[1]&31;return I<<=8,I|=C[2],I},Zu=function(C){return!!(C[1]&64)},Bc=function(C){var I=0;return(C[3]&48)>>>4>1&&(I+=C[4]+1),I},Ju=function(C,I){var B=Fc(C);return B===0?"pat":B===I?"pmt":I?"pes":null},Ah=function(C){var I=Zu(C),B=4+Bc(C);return I&&(B+=C[B]+1),(C[B+10]&31)<<8|C[B+11]},$c=function(C){var I={},B=Zu(C),R=4+Bc(C);if(B&&(R+=C[R]+1),!!(C[R+5]&1)){var V,J,xe;V=(C[R+1]&15)<<8|C[R+2],J=3+V-4,xe=(C[R+10]&15)<<8|C[R+11];for(var _e=12+xe;_e<J;){var Ee=R+_e;I[(C[Ee+1]&31)<<8|C[Ee+2]]=C[Ee],_e+=((C[Ee+3]&15)<<8|C[Ee+4])+5}return I}},T0=function(C,I){var B=Fc(C),R=I[B];switch(R){case ka.H264_STREAM_TYPE:return"video";case ka.ADTS_STREAM_TYPE:return"audio";case ka.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},p1=function(C){var I=Zu(C);if(!I)return null;var B=4+Bc(C);if(B>=C.byteLength)return null;var R=null,V;return V=C[B+7],V&192&&(R={},R.pts=(C[B+9]&14)<<27|(C[B+10]&255)<<20|(C[B+11]&254)<<12|(C[B+12]&255)<<5|(C[B+13]&254)>>>3,R.pts*=4,R.pts+=(C[B+13]&6)>>>1,R.dts=R.pts,V&64&&(R.dts=(C[B+14]&14)<<27|(C[B+15]&255)<<20|(C[B+16]&254)<<12|(C[B+17]&255)<<5|(C[B+18]&254)>>>3,R.dts*=4,R.dts+=(C[B+18]&6)>>>1)),R},Yp=function(C){switch(C){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},k0=function(C){for(var I=4+Bc(C),B=C.subarray(I),R=0,V=0,J=!1,xe;V<B.byteLength-3;V++)if(B[V+2]===1){R=V+5;break}for(;R<B.byteLength;)switch(B[R]){case 0:if(B[R-1]!==0){R+=2;break}else if(B[R-2]!==0){R++;break}V+3!==R-2&&(xe=Yp(B[V+3]&31),xe==="slice_layer_without_partitioning_rbsp_idr"&&(J=!0));do R++;while(B[R]!==1&&R<B.length);V=R-2,R+=3;break;case 1:if(B[R-1]!==0||B[R-2]!==0){R+=3;break}xe=Yp(B[V+3]&31),xe==="slice_layer_without_partitioning_rbsp_idr"&&(J=!0),V=R-2,R+=3;break;default:R+=3;break}return B=B.subarray(V),R-=V,V=0,B&&B.byteLength>3&&(xe=Yp(B[V+3]&31),xe==="slice_layer_without_partitioning_rbsp_idr"&&(J=!0)),J},Ph={parseType:Ju,parsePat:Ah,parsePmt:$c,parsePayloadUnitStartIndicator:Zu,parsePesType:T0,parsePesTime:p1,videoPacketContainsKeyFrame:k0},ed=ba,Qo=ao.handleRollover,Wn={};Wn.ts=Ph,Wn.aac=Ac;var go=ot.ONE_SECOND_IN_TS,ls=188,Ea=71,E0=function(C,I){for(var B=0,R=ls,V,J;R<C.byteLength;){if(C[B]===Ea&&C[R]===Ea){switch(V=C.subarray(B,R),J=Wn.ts.parseType(V,I.pid),J){case"pat":I.pid=Wn.ts.parsePat(V);break;case"pmt":var xe=Wn.ts.parsePmt(V);I.table=I.table||{},Object.keys(xe).forEach(function(_e){I.table[_e]=xe[_e]});break}B+=ls,R+=ls;continue}B++,R++}},j0=function(C,I,B){for(var R=0,V=ls,J,xe,_e,Ee,Ne,$e=!1;V<=C.byteLength;){if(C[R]===Ea&&(C[V]===Ea||V===C.byteLength)){switch(J=C.subarray(R,V),xe=Wn.ts.parseType(J,I.pid),xe){case"pes":_e=Wn.ts.parsePesType(J,I.table),Ee=Wn.ts.parsePayloadUnitStartIndicator(J),_e==="audio"&&Ee&&(Ne=Wn.ts.parsePesTime(J),Ne&&(Ne.type="audio",B.audio.push(Ne),$e=!0));break}if($e)break;R+=ls,V+=ls;continue}R++,V++}for(V=C.byteLength,R=V-ls,$e=!1;R>=0;){if(C[R]===Ea&&(C[V]===Ea||V===C.byteLength)){switch(J=C.subarray(R,V),xe=Wn.ts.parseType(J,I.pid),xe){case"pes":_e=Wn.ts.parsePesType(J,I.table),Ee=Wn.ts.parsePayloadUnitStartIndicator(J),_e==="audio"&&Ee&&(Ne=Wn.ts.parsePesTime(J),Ne&&(Ne.type="audio",B.audio.push(Ne),$e=!0));break}if($e)break;R-=ls,V-=ls;continue}R--,V--}},m1=function(C,I,B){for(var R=0,V=ls,J,xe,_e,Ee,Ne,$e,rt,Rt,mt=!1,Kt={data:[],size:0};V<C.byteLength;){if(C[R]===Ea&&C[V]===Ea){switch(J=C.subarray(R,V),xe=Wn.ts.parseType(J,I.pid),xe){case"pes":if(_e=Wn.ts.parsePesType(J,I.table),Ee=Wn.ts.parsePayloadUnitStartIndicator(J),_e==="video"&&(Ee&&!mt&&(Ne=Wn.ts.parsePesTime(J),Ne&&(Ne.type="video",B.video.push(Ne),mt=!0)),!B.firstKeyFrame)){if(Ee&&Kt.size!==0){for($e=new Uint8Array(Kt.size),rt=0;Kt.data.length;)Rt=Kt.data.shift(),$e.set(Rt,rt),rt+=Rt.byteLength;if(Wn.ts.videoPacketContainsKeyFrame($e)){var xn=Wn.ts.parsePesTime($e);xn?(B.firstKeyFrame=xn,B.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}Kt.size=0}Kt.data.push(J),Kt.size+=J.byteLength}break}if(mt&&B.firstKeyFrame)break;R+=ls,V+=ls;continue}R++,V++}for(V=C.byteLength,R=V-ls,mt=!1;R>=0;){if(C[R]===Ea&&C[V]===Ea){switch(J=C.subarray(R,V),xe=Wn.ts.parseType(J,I.pid),xe){case"pes":_e=Wn.ts.parsePesType(J,I.table),Ee=Wn.ts.parsePayloadUnitStartIndicator(J),_e==="video"&&Ee&&(Ne=Wn.ts.parsePesTime(J),Ne&&(Ne.type="video",B.video.push(Ne),mt=!0));break}if(mt)break;R-=ls,V-=ls;continue}R--,V--}},Gp=function(C,I){if(C.audio&&C.audio.length){var B=I;(typeof B>"u"||isNaN(B))&&(B=C.audio[0].dts),C.audio.forEach(function(J){J.dts=Qo(J.dts,B),J.pts=Qo(J.pts,B),J.dtsTime=J.dts/go,J.ptsTime=J.pts/go})}if(C.video&&C.video.length){var R=I;if((typeof R>"u"||isNaN(R))&&(R=C.video[0].dts),C.video.forEach(function(J){J.dts=Qo(J.dts,R),J.pts=Qo(J.pts,R),J.dtsTime=J.dts/go,J.ptsTime=J.pts/go}),C.firstKeyFrame){var V=C.firstKeyFrame;V.dts=Qo(V.dts,R),V.pts=Qo(V.pts,R),V.dtsTime=V.dts/go,V.ptsTime=V.pts/go}}},Zo=function(C){for(var I=!1,B=0,R=null,V=null,J=0,xe=0,_e;C.length-xe>=3;){var Ee=Wn.aac.parseType(C,xe);switch(Ee){case"timed-metadata":if(C.length-xe<10){I=!0;break}if(J=Wn.aac.parseId3TagSize(C,xe),J>C.length){I=!0;break}V===null&&(_e=C.subarray(xe,xe+J),V=Wn.aac.parseAacTimestamp(_e)),xe+=J;break;case"audio":if(C.length-xe<7){I=!0;break}if(J=Wn.aac.parseAdtsSize(C,xe),J>C.length){I=!0;break}R===null&&(_e=C.subarray(xe,xe+J),R=Wn.aac.parseSampleRate(_e)),B++,xe+=J;break;default:xe++;break}if(I)return null}if(R===null||V===null)return null;var Ne=go/R,$e={audio:[{type:"audio",dts:V,pts:V},{type:"audio",dts:V+B*1024*Ne,pts:V+B*1024*Ne}]};return $e},N0=function(C){var I={pid:null,table:null},B={};E0(C,I);for(var R in I.table)if(I.table.hasOwnProperty(R)){var V=I.table[R];switch(V){case ed.H264_STREAM_TYPE:B.video=[],m1(C,I,B),B.video.length===0&&delete B.video;break;case ed.ADTS_STREAM_TYPE:B.audio=[],j0(C,I,B),B.audio.length===0&&delete B.audio;break}}return B},zc=function(C,I){var B=Wn.aac.isLikelyAacData(C),R;return B?R=Zo(C):R=N0(C),!R||!R.audio&&!R.video?null:(Gp(R,I),R)},ja={inspect:zc,parseAudioPes_:j0};const td=function(C,I){I.on("data",function(B){const R=B.initSegment;B.initSegment={data:R.buffer,byteOffset:R.byteOffset,byteLength:R.byteLength};const V=B.data;B.data=V.buffer,C.postMessage({action:"data",segment:B,byteOffset:V.byteOffset,byteLength:V.byteLength},[B.data])}),I.on("done",function(B){C.postMessage({action:"done"})}),I.on("gopInfo",function(B){C.postMessage({action:"gopInfo",gopInfo:B})}),I.on("videoSegmentTimingInfo",function(B){const R={start:{decode:ot.videoTsToSeconds(B.start.dts),presentation:ot.videoTsToSeconds(B.start.pts)},end:{decode:ot.videoTsToSeconds(B.end.dts),presentation:ot.videoTsToSeconds(B.end.pts)},baseMediaDecodeTime:ot.videoTsToSeconds(B.baseMediaDecodeTime)};B.prependedContentDuration&&(R.prependedContentDuration=ot.videoTsToSeconds(B.prependedContentDuration)),C.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:R})}),I.on("audioSegmentTimingInfo",function(B){const R={start:{decode:ot.videoTsToSeconds(B.start.dts),presentation:ot.videoTsToSeconds(B.start.pts)},end:{decode:ot.videoTsToSeconds(B.end.dts),presentation:ot.videoTsToSeconds(B.end.pts)},baseMediaDecodeTime:ot.videoTsToSeconds(B.baseMediaDecodeTime)};B.prependedContentDuration&&(R.prependedContentDuration=ot.videoTsToSeconds(B.prependedContentDuration)),C.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:R})}),I.on("id3Frame",function(B){C.postMessage({action:"id3Frame",id3Frame:B})}),I.on("caption",function(B){C.postMessage({action:"caption",caption:B})}),I.on("trackinfo",function(B){C.postMessage({action:"trackinfo",trackInfo:B})}),I.on("audioTimingInfo",function(B){C.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:ot.videoTsToSeconds(B.start),end:ot.videoTsToSeconds(B.end)}})}),I.on("videoTimingInfo",function(B){C.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:ot.videoTsToSeconds(B.start),end:ot.videoTsToSeconds(B.end)}})}),I.on("log",function(B){C.postMessage({action:"log",log:B})})};class Na{constructor(I,B){this.options=B||{},this.self=I,this.init()}init(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new Mp.Transmuxer(this.options),td(this.self,this.transmuxer)}pushMp4Captions(I){this.captionParser||(this.captionParser=new oe,this.captionParser.init());const B=new Uint8Array(I.data,I.byteOffset,I.byteLength),R=this.captionParser.parse(B,I.trackIds,I.timescales);this.self.postMessage({action:"mp4Captions",captions:R&&R.captions||[],logs:R&&R.logs||[],data:B.buffer},[B.buffer])}initMp4WebVttParser(I){this.webVttParser||(this.webVttParser=new ea);const B=new Uint8Array(I.data,I.byteOffset,I.byteLength);this.webVttParser.init(B)}getMp4WebVttText(I){this.webVttParser||(this.webVttParser=new ea);const B=new Uint8Array(I.data,I.byteOffset,I.byteLength),R=this.webVttParser.parseSegment(B);this.self.postMessage({action:"getMp4WebVttText",mp4VttCues:R||[],data:B.buffer},[B.buffer])}probeMp4StartTime({timescales:I,data:B}){const R=Di.startTime(I,B);this.self.postMessage({action:"probeMp4StartTime",startTime:R,data:B},[B.buffer])}probeMp4Tracks({data:I}){const B=Di.tracks(I);this.self.postMessage({action:"probeMp4Tracks",tracks:B,data:I},[I.buffer])}probeEmsgID3({data:I,offset:B}){const R=Di.getEmsgID3(I,B);this.self.postMessage({action:"probeEmsgID3",id3Frames:R,emsgData:I},[I.buffer])}probeTs({data:I,baseStartTime:B}){const R=typeof B=="number"&&!isNaN(B)?B*ot.ONE_SECOND_IN_TS:void 0,V=ja.inspect(I,R);let J=null;V&&(J={hasVideo:V.video&&V.video.length===2||!1,hasAudio:V.audio&&V.audio.length===2||!1},J.hasVideo&&(J.videoStart=V.video[0].ptsTime),J.hasAudio&&(J.audioStart=V.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:J,data:I},[I.buffer])}clearAllMp4Captions(){this.captionParser&&this.captionParser.clearAllCaptions()}clearParsedMp4Captions(){this.captionParser&&this.captionParser.clearParsedCaptions()}push(I){const B=new Uint8Array(I.data,I.byteOffset,I.byteLength);this.transmuxer.push(B)}reset(){this.transmuxer.reset()}setTimestampOffset(I){const B=I.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(ot.secondsToVideoTs(B)))}setAudioAppendStart(I){this.transmuxer.setAudioAppendStart(Math.ceil(ot.secondsToVideoTs(I.appendStart)))}setRemux(I){this.transmuxer.setRemux(I.remux)}flush(I){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})}endTimeline(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})}alignGopsWith(I){this.transmuxer.alignGopsWith(I.gopsToAlignWith.slice())}}self.onmessage=function(C){if(C.data.action==="init"&&C.data.options){this.messageHandlers=new Na(self,C.data.options);return}this.messageHandlers||(this.messageHandlers=new Na(self)),C.data&&C.data.action&&C.data.action!=="init"&&this.messageHandlers[C.data.action]&&this.messageHandlers[C.data.action](C.data)}}));var ade=T8(ide);const ode=(t,e,n)=>{const{type:r,initSegment:s,captions:i,captionStreams:a,metadata:l,videoFrameDtsTime:c,videoFramePtsTime:u}=t.data.segment;e.buffer.push({captions:i,captionStreams:a,metadata:l});const h=t.data.segment.boxes||{data:t.data.segment.data},f={type:r,data:new Uint8Array(h.data,h.data.byteOffset,h.data.byteLength),initSegment:new Uint8Array(s.data,s.byteOffset,s.byteLength)};typeof c<"u"&&(f.videoFrameDtsTime=c),typeof u<"u"&&(f.videoFramePtsTime=u),n(f)},lde=({transmuxedData:t,callback:e})=>{t.buffer=[],e(t)},cde=(t,e)=>{e.gopInfo=t.data.gopInfo},j8=t=>{const{transmuxer:e,bytes:n,audioAppendStart:r,gopsToAlignWith:s,remux:i,onData:a,onTrackInfo:l,onAudioTimingInfo:c,onVideoTimingInfo:u,onVideoSegmentTimingInfo:h,onAudioSegmentTimingInfo:f,onId3:m,onCaptions:g,onDone:b,onEndedTimeline:y,onTransmuxerLog:x,isEndOfTimeline:_,segment:S,triggerSegmentEventFn:T}=t,D={buffer:[]};let j=_;const A=L=>{e.currentTransmux===t&&(L.data.action==="data"&&ode(L,D,a),L.data.action==="trackinfo"&&l(L.data.trackInfo),L.data.action==="gopInfo"&&cde(L,D),L.data.action==="audioTimingInfo"&&c(L.data.audioTimingInfo),L.data.action==="videoTimingInfo"&&u(L.data.videoTimingInfo),L.data.action==="videoSegmentTimingInfo"&&h(L.data.videoSegmentTimingInfo),L.data.action==="audioSegmentTimingInfo"&&f(L.data.audioSegmentTimingInfo),L.data.action==="id3Frame"&&m([L.data.id3Frame],L.data.id3Frame.dispatchType),L.data.action==="caption"&&g(L.data.caption),L.data.action==="endedtimeline"&&(j=!1,y()),L.data.action==="log"&&x(L.data.log),L.data.type==="transmuxed"&&(j||(e.onmessage=null,lde({transmuxedData:D,callback:b}),N8(e))))},O=()=>{const L={message:"Received an error message from the transmuxer worker",metadata:{errorType:tt.Error.StreamingFailedToTransmuxSegment,segmentInfo:Ed({segment:S})}};b(null,L)};if(e.onmessage=A,e.onerror=O,r&&e.postMessage({action:"setAudioAppendStart",appendStart:r}),Array.isArray(s)&&e.postMessage({action:"alignGopsWith",gopsToAlignWith:s}),typeof i<"u"&&e.postMessage({action:"setRemux",remux:i}),n.byteLength){const L=n instanceof ArrayBuffer?n:n.buffer,P=n instanceof ArrayBuffer?0:n.byteOffset;T({type:"segmenttransmuxingstart",segment:S}),e.postMessage({action:"push",data:L,byteOffset:P,byteLength:n.byteLength},[L])}_&&e.postMessage({action:"endTimeline"}),e.postMessage({action:"flush"})},N8=t=>{t.currentTransmux=null,t.transmuxQueue.length&&(t.currentTransmux=t.transmuxQueue.shift(),typeof t.currentTransmux=="function"?t.currentTransmux():j8(t.currentTransmux))},B5=(t,e)=>{t.postMessage({action:e}),N8(t)},D8=(t,e)=>{if(!e.currentTransmux){e.currentTransmux=t,B5(e,t);return}e.transmuxQueue.push(B5.bind(null,e,t))},ude=t=>{D8("reset",t)},dde=t=>{D8("endTimeline",t)},A8=t=>{if(!t.transmuxer.currentTransmux){t.transmuxer.currentTransmux=t,j8(t);return}t.transmuxer.transmuxQueue.push(t)},hde=t=>{const e=new ade;e.currentTransmux=null,e.transmuxQueue=[];const n=e.terminate;return e.terminate=()=>(e.currentTransmux=null,e.transmuxQueue.length=0,n.call(e)),e.postMessage({action:"init",options:t}),e};var Bw={reset:ude,endTimeline:dde,transmux:A8,createTransmuxer:hde};const Pf=function(t){const e=t.transmuxer,n=t.endAction||t.action,r=t.callback,s=Ge({},t,{endAction:null,transmuxer:null,callback:null}),i=a=>{a.data.action===n&&(e.removeEventListener("message",i),a.data.data&&(a.data.data=new Uint8Array(a.data.data,t.byteOffset||0,t.byteLength||a.data.data.byteLength),t.data&&(t.data=a.data.data)),r(a.data))};if(e.addEventListener("message",i),t.data){const a=t.data instanceof ArrayBuffer;s.byteOffset=a?0:t.data.byteOffset,s.byteLength=t.data.byteLength;const l=[a?t.data:t.data.buffer];e.postMessage(s,l)}else e.postMessage(s)},bl={FAILURE:2,TIMEOUT:-101,ABORTED:-102},P8="wvtt",BS=t=>{t.forEach(e=>{e.abort()})},fde=t=>({bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}),pde=t=>{const e=t.target,r={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-e.requestTime||0};return r.bytesReceived=t.loaded,r.bandwidth=Math.floor(r.bytesReceived/r.roundTripTime*8*1e3),r},zk=(t,e)=>{const{requestType:n}=e,r=Wd({requestType:n,request:e,error:t});return e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:bl.TIMEOUT,xhr:e,metadata:r}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:bl.ABORTED,xhr:e,metadata:r}:t?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:bl.FAILURE,xhr:e,metadata:r}:e.responseType==="arraybuffer"&&e.response.byteLength===0?{status:e.status,message:"Empty HLS response at URL: "+e.uri,code:bl.FAILURE,xhr:e,metadata:r}:null},$5=(t,e,n,r)=>(s,i)=>{const a=i.response,l=zk(s,i);if(l)return n(l,t);if(a.byteLength!==16)return n({status:i.status,message:"Invalid HLS key at URL: "+i.uri,code:bl.FAILURE,xhr:i},t);const c=new DataView(a),u=new Uint32Array([c.getUint32(0),c.getUint32(4),c.getUint32(8),c.getUint32(12)]);for(let f=0;f<e.length;f++)e[f].bytes=u;const h={uri:i.uri};return r({type:"segmentkeyloadcomplete",segment:t,keyInfo:h}),n(null,t)},mde=(t,e)=>{e===P8&&t.transmuxer.postMessage({action:"initMp4WebVttParser",data:t.map.bytes})},gde=(t,e,n)=>{e===P8&&Pf({action:"getMp4WebVttText",data:t.bytes,transmuxer:t.transmuxer,callback:({data:r,mp4VttCues:s})=>{t.bytes=r,n(null,t,{mp4VttCues:s})}})},I8=(t,e)=>{const n=uk(t.map.bytes);if(n!=="mp4"){const r=t.map.resolvedUri||t.map.uri,s=n||"unknown";return e({internal:!0,message:`Found unsupported ${s} container for initialization segment at URL: ${r}`,code:bl.FAILURE,metadata:{mediaType:s}})}Pf({action:"probeMp4Tracks",data:t.map.bytes,transmuxer:t.transmuxer,callback:({tracks:r,data:s})=>(t.map.bytes=s,r.forEach(function(i){t.map.tracks=t.map.tracks||{},!t.map.tracks[i.type]&&(t.map.tracks[i.type]=i,typeof i.id=="number"&&i.timescale&&(t.map.timescales=t.map.timescales||{},t.map.timescales[i.id]=i.timescale),i.type==="text"&&mde(t,i.codec))}),e(null))})},yde=({segment:t,finishProcessingFn:e,triggerSegmentEventFn:n})=>(r,s)=>{const i=zk(r,s);if(i)return e(i,t);const a=new Uint8Array(s.response);if(n({type:"segmentloaded",segment:t}),t.map.key)return t.map.encryptedBytes=a,e(null,t);t.map.bytes=a,I8(t,function(l){if(l)return l.xhr=s,l.status=s.status,e(l,t);e(null,t)})},bde=({segment:t,finishProcessingFn:e,responseType:n,triggerSegmentEventFn:r})=>(s,i)=>{const a=zk(s,i);if(a)return e(a,t);r({type:"segmentloaded",segment:t});const l=n==="arraybuffer"||!i.responseText?i.response:rde(i.responseText.substring(t.lastReachedChar||0));return t.stats=fde(i),t.key?t.encryptedBytes=new Uint8Array(l):t.bytes=new Uint8Array(l),e(null,t)},xde=({segment:t,bytes:e,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:i,id3Fn:a,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:u,dataFn:h,doneFn:f,onTransmuxerLog:m,triggerSegmentEventFn:g})=>{const b=t.map&&t.map.tracks||{},y=!!(b.audio&&b.video);let x=r.bind(null,t,"audio","start");const _=r.bind(null,t,"audio","end");let S=r.bind(null,t,"video","start");const T=r.bind(null,t,"video","end"),D=()=>A8({bytes:e,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,remux:y,onData:j=>{j.type=j.type==="combined"?"video":j.type,h(t,j)},onTrackInfo:j=>{n&&(y&&(j.isMuxed=!0),n(t,j))},onAudioTimingInfo:j=>{x&&typeof j.start<"u"&&(x(j.start),x=null),_&&typeof j.end<"u"&&_(j.end)},onVideoTimingInfo:j=>{S&&typeof j.start<"u"&&(S(j.start),S=null),T&&typeof j.end<"u"&&T(j.end)},onVideoSegmentTimingInfo:j=>{const A={pts:{start:j.start.presentation,end:j.end.presentation},dts:{start:j.start.decode,end:j.end.decode}};g({type:"segmenttransmuxingtiminginfoavailable",segment:t,timingInfo:A}),s(j)},onAudioSegmentTimingInfo:j=>{const A={pts:{start:j.start.pts,end:j.end.pts},dts:{start:j.start.dts,end:j.end.dts}};g({type:"segmenttransmuxingtiminginfoavailable",segment:t,timingInfo:A}),i(j)},onId3:(j,A)=>{a(t,j,A)},onCaptions:j=>{l(t,[j])},isEndOfTimeline:c,onEndedTimeline:()=>{u()},onTransmuxerLog:m,onDone:(j,A)=>{f&&(j.type=j.type==="combined"?"video":j.type,g({type:"segmenttransmuxingcomplete",segment:t}),f(A,t,j))},segment:t,triggerSegmentEventFn:g});Pf({action:"probeTs",transmuxer:t.transmuxer,data:e,baseStartTime:t.baseStartTime,callback:j=>{t.bytes=e=j.data;const A=j.result;A&&(n(t,{hasAudio:A.hasAudio,hasVideo:A.hasVideo,isMuxed:y}),n=null),D()}})},O8=({segment:t,bytes:e,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:i,id3Fn:a,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:u,dataFn:h,doneFn:f,onTransmuxerLog:m,triggerSegmentEventFn:g})=>{let b=new Uint8Array(e);if($le(b)){t.isFmp4=!0;const{tracks:y}=t.map;if(y.text&&(!y.audio||!y.video)){h(t,{data:b,type:"text"}),gde(t,y.text.codec,f);return}const _={isFmp4:!0,hasVideo:!!y.video,hasAudio:!!y.audio};y.audio&&y.audio.codec&&y.audio.codec!=="enca"&&(_.audioCodec=y.audio.codec),y.video&&y.video.codec&&y.video.codec!=="encv"&&(_.videoCodec=y.video.codec),y.video&&y.audio&&(_.isMuxed=!0),n(t,_);const S=(T,D)=>{h(t,{data:b,type:_.hasAudio&&!_.isMuxed?"audio":"video"}),D&&D.length&&a(t,D),T&&T.length&&l(t,T),f(null,t,{})};Pf({action:"probeMp4StartTime",timescales:t.map.timescales,data:b,transmuxer:t.transmuxer,callback:({data:T,startTime:D})=>{e=T.buffer,t.bytes=b=T,_.hasAudio&&!_.isMuxed&&r(t,"audio","start",D),_.hasVideo&&r(t,"video","start",D),Pf({action:"probeEmsgID3",data:b,transmuxer:t.transmuxer,offset:D,callback:({emsgData:j,id3Frames:A})=>{if(e=j.buffer,t.bytes=b=j,!y.video||!j.byteLength||!t.transmuxer){S(void 0,A);return}Pf({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:t.transmuxer,data:b,timescales:t.map.timescales,trackIds:[y.video.id],callback:O=>{e=O.data.buffer,t.bytes=b=O.data,O.logs.forEach(function(L){m(ir(L,{stream:"mp4CaptionParser"}))}),S(O.captions,A)}})}})}});return}if(!t.transmuxer){f(null,t,{});return}if(typeof t.container>"u"&&(t.container=uk(b)),t.container!=="ts"&&t.container!=="aac"){n(t,{hasAudio:!1,hasVideo:!1}),f(null,t,{});return}xde({segment:t,bytes:e,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:i,id3Fn:a,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:u,dataFn:h,doneFn:f,onTransmuxerLog:m,triggerSegmentEventFn:g})},M8=function({id:t,key:e,encryptedBytes:n,decryptionWorker:r,segment:s,doneFn:i},a){const l=u=>{if(u.data.source===t){r.removeEventListener("message",l);const h=u.data.decrypted;a(new Uint8Array(h.bytes,h.byteOffset,h.byteLength))}};r.onerror=()=>{const u="An error occurred in the decryption worker",h=Ed({segment:s}),f={message:u,metadata:{error:new Error(u),errorType:tt.Error.StreamingFailedToDecryptSegment,segmentInfo:h,keyInfo:{uri:s.key.resolvedUri||s.map.key.resolvedUri}}};i(f,s)},r.addEventListener("message",l);let c;e.bytes.slice?c=e.bytes.slice():c=new Uint32Array(Array.prototype.slice.call(e.bytes)),r.postMessage(x8({source:t,encrypted:n,key:c,iv:e.iv}),[n.buffer,c.buffer])},vde=({decryptionWorker:t,segment:e,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:i,id3Fn:a,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:u,dataFn:h,doneFn:f,onTransmuxerLog:m,triggerSegmentEventFn:g})=>{g({type:"segmentdecryptionstart"}),M8({id:e.requestId,key:e.key,encryptedBytes:e.encryptedBytes,decryptionWorker:t,segment:e,doneFn:f},b=>{e.bytes=b,g({type:"segmentdecryptioncomplete",segment:e}),O8({segment:e,bytes:e.bytes,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:i,id3Fn:a,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:u,dataFn:h,doneFn:f,onTransmuxerLog:m,triggerSegmentEventFn:g})})},_de=({activeXhrs:t,decryptionWorker:e,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:i,id3Fn:a,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:u,dataFn:h,doneFn:f,onTransmuxerLog:m,triggerSegmentEventFn:g})=>{let b=0,y=!1;return(x,_)=>{if(!y){if(x)return y=!0,BS(t),f(x,_);if(b+=1,b===t.length){const S=function(){if(_.encryptedBytes)return vde({decryptionWorker:e,segment:_,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:i,id3Fn:a,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:u,dataFn:h,doneFn:f,onTransmuxerLog:m,triggerSegmentEventFn:g});O8({segment:_,bytes:_.bytes,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:i,id3Fn:a,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:u,dataFn:h,doneFn:f,onTransmuxerLog:m,triggerSegmentEventFn:g})};if(_.endOfAllRequests=Date.now(),_.map&&_.map.encryptedBytes&&!_.map.bytes)return g({type:"segmentdecryptionstart",segment:_}),M8({decryptionWorker:e,id:_.requestId+"-init",encryptedBytes:_.map.encryptedBytes,key:_.map.key,segment:_,doneFn:f},T=>{_.map.bytes=T,g({type:"segmentdecryptioncomplete",segment:_}),I8(_,D=>{if(D)return BS(t),f(D,_);S()})});S()}}}},wde=({loadendState:t,abortFn:e})=>n=>{n.target.aborted&&e&&!t.calledAbortFn&&(e(),t.calledAbortFn=!0)},Sde=({segment:t,progressFn:e,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:i,id3Fn:a,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:u,dataFn:h})=>f=>{if(!f.target.aborted)return t.stats=ir(t.stats,pde(f)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),e(f,t)},Cde=({xhr:t,xhrOptions:e,decryptionWorker:n,segment:r,abortFn:s,progressFn:i,trackInfoFn:a,timingInfoFn:l,videoSegmentTimingInfoFn:c,audioSegmentTimingInfoFn:u,id3Fn:h,captionsFn:f,isEndOfTimeline:m,endedTimelineFn:g,dataFn:b,doneFn:y,onTransmuxerLog:x,triggerSegmentEventFn:_})=>{const S=[],T=_de({activeXhrs:S,decryptionWorker:n,trackInfoFn:a,timingInfoFn:l,videoSegmentTimingInfoFn:c,audioSegmentTimingInfoFn:u,id3Fn:h,captionsFn:f,isEndOfTimeline:m,endedTimelineFn:g,dataFn:b,doneFn:y,onTransmuxerLog:x,triggerSegmentEventFn:_});if(r.key&&!r.key.bytes){const L=[r.key];r.map&&!r.map.bytes&&r.map.key&&r.map.key.resolvedUri===r.key.resolvedUri&&L.push(r.map.key);const P=ir(e,{uri:r.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),N=$5(r,L,T,_),U={uri:r.key.resolvedUri};_({type:"segmentkeyloadstart",segment:r,keyInfo:U});const M=t(P,N);S.push(M)}if(r.map&&!r.map.bytes){if(r.map.key&&(!r.key||r.key.resolvedUri!==r.map.key.resolvedUri)){const M=ir(e,{uri:r.map.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),q=$5(r,[r.map.key],T,_),E={uri:r.map.key.resolvedUri};_({type:"segmentkeyloadstart",segment:r,keyInfo:E});const G=t(M,q);S.push(G)}const P=ir(e,{uri:r.map.resolvedUri,responseType:"arraybuffer",headers:LS(r.map),requestType:"segment-media-initialization"}),N=yde({segment:r,finishProcessingFn:T,triggerSegmentEventFn:_});_({type:"segmentloadstart",segment:r});const U=t(P,N);S.push(U)}const D=ir(e,{uri:r.part&&r.part.resolvedUri||r.resolvedUri,responseType:"arraybuffer",headers:LS(r),requestType:"segment"}),j=bde({segment:r,finishProcessingFn:T,responseType:D.responseType,triggerSegmentEventFn:_});_({type:"segmentloadstart",segment:r});const A=t(D,j);A.addEventListener("progress",Sde({segment:r,progressFn:i,trackInfoFn:a,timingInfoFn:l,videoSegmentTimingInfoFn:c,audioSegmentTimingInfoFn:u,id3Fn:h,captionsFn:f,isEndOfTimeline:m,endedTimelineFn:g,dataFn:b})),S.push(A);const O={};return S.forEach(L=>{L.addEventListener("loadend",wde({loadendState:O,abortFn:s}))}),()=>BS(S)},$y=ro("PlaylistSelector"),z5=function(t){if(!t||!t.playlist)return;const e=t.playlist;return JSON.stringify({id:e.id,bandwidth:t.bandwidth,width:t.width,height:t.height,codecs:e.attributes&&e.attributes.CODECS||""})},If=function(t,e){if(!t)return"";const n=De.getComputedStyle(t);return n?n[e]:""},Of=function(t,e){const n=t.slice();t.sort(function(r,s){const i=e(r,s);return i===0?n.indexOf(r)-n.indexOf(s):i})},Uk=function(t,e){let n,r;return t.attributes.BANDWIDTH&&(n=t.attributes.BANDWIDTH),n=n||De.Number.MAX_VALUE,e.attributes.BANDWIDTH&&(r=e.attributes.BANDWIDTH),r=r||De.Number.MAX_VALUE,n-r},Tde=function(t,e){let n,r;return t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(n=t.attributes.RESOLUTION.width),n=n||De.Number.MAX_VALUE,e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(r=e.attributes.RESOLUTION.width),r=r||De.Number.MAX_VALUE,n===r&&t.attributes.BANDWIDTH&&e.attributes.BANDWIDTH?t.attributes.BANDWIDTH-e.attributes.BANDWIDTH:n-r};let R8=function(t){const{main:e,bandwidth:n,playerWidth:r,playerHeight:s,playerObjectFit:i,limitRenditionByPlayerDimensions:a,playlistController:l}=t;if(!e)return;const c={bandwidth:n,width:r,height:s,limitRenditionByPlayerDimensions:a};let u=e.playlists;Ui.isAudioOnly(e)&&(u=l.getAudioTrackPlaylists_(),c.audioOnly=!0);let h=u.map(O=>{let L;const P=O.attributes&&O.attributes.RESOLUTION&&O.attributes.RESOLUTION.width,N=O.attributes&&O.attributes.RESOLUTION&&O.attributes.RESOLUTION.height;return L=O.attributes&&O.attributes.BANDWIDTH,L=L||De.Number.MAX_VALUE,{bandwidth:L,width:P,height:N,playlist:O}});Of(h,(O,L)=>O.bandwidth-L.bandwidth),h=h.filter(O=>!Ui.isIncompatible(O.playlist));let f=h.filter(O=>Ui.isEnabled(O.playlist));f.length||(f=h.filter(O=>!Ui.isDisabled(O.playlist)));const m=f.filter(O=>O.bandwidth*_s.BANDWIDTH_VARIANCE<n);let g=m[m.length-1];const b=m.filter(O=>O.bandwidth===g.bandwidth)[0];if(a===!1){const O=b||f[0]||h[0];if(O&&O.playlist){let L="sortedPlaylistReps";return b&&(L="bandwidthBestRep"),f[0]&&(L="enabledPlaylistReps"),$y(`choosing ${z5(O)} using ${L} with options`,c),O.playlist}return $y("could not choose a playlist with options",c),null}const y=m.filter(O=>O.width&&O.height);Of(y,(O,L)=>O.width-L.width);const x=y.filter(O=>O.width===r&&O.height===s);g=x[x.length-1];const _=x.filter(O=>O.bandwidth===g.bandwidth)[0];let S,T,D;_||(S=y.filter(O=>i==="cover"?O.width>r&&O.height>s:O.width>r||O.height>s),T=S.filter(O=>O.width===S[0].width&&O.height===S[0].height),g=T[T.length-1],D=T.filter(O=>O.bandwidth===g.bandwidth)[0]);let j;if(l.leastPixelDiffSelector){const O=y.map(L=>(L.pixelDiff=Math.abs(L.width-r)+Math.abs(L.height-s),L));Of(O,(L,P)=>L.pixelDiff===P.pixelDiff?P.bandwidth-L.bandwidth:L.pixelDiff-P.pixelDiff),j=O[0]}const A=j||D||_||b||f[0]||h[0];if(A&&A.playlist){let O="sortedPlaylistReps";return j?O="leastPixelDiffRep":D?O="resolutionPlusOneRep":_?O="resolutionBestRep":b?O="bandwidthBestRep":f[0]&&(O="enabledPlaylistReps"),$y(`choosing ${z5(A)} using ${O} with options`,c),A.playlist}return $y("could not choose a playlist with options",c),null};const U5=function(){let t=this.useDevicePixelRatio&&De.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(t=this.customPixelRatio),R8({main:this.playlists.main,bandwidth:this.systemBandwidth,playerWidth:parseInt(If(this.tech_.el(),"width"),10)*t,playerHeight:parseInt(If(this.tech_.el(),"height"),10)*t,playerObjectFit:this.usePlayerObjectFit?If(this.tech_.el(),"objectFit"):"",limitRenditionByPlayerDimensions:this.limitRenditionByPlayerDimensions,playlistController:this.playlistController_})},kde=function(t){let e=-1,n=-1;if(t<0||t>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){let r=this.useDevicePixelRatio&&De.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(r=this.customPixelRatio),e<0&&(e=this.systemBandwidth,n=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==n&&(e=t*this.systemBandwidth+(1-t)*e,n=this.systemBandwidth),R8({main:this.playlists.main,bandwidth:e,playerWidth:parseInt(If(this.tech_.el(),"width"),10)*r,playerHeight:parseInt(If(this.tech_.el(),"height"),10)*r,playerObjectFit:this.usePlayerObjectFit?If(this.tech_.el(),"objectFit"):"",limitRenditionByPlayerDimensions:this.limitRenditionByPlayerDimensions,playlistController:this.playlistController_})}},Ede=function(t){const{main:e,currentTime:n,bandwidth:r,duration:s,segmentDuration:i,timeUntilRebuffer:a,currentTimeline:l,syncController:c}=t,u=e.playlists.filter(b=>!Ui.isIncompatible(b));let h=u.filter(Ui.isEnabled);h.length||(h=u.filter(b=>!Ui.isDisabled(b)));const m=h.filter(Ui.hasAttribute.bind(null,"BANDWIDTH")).map(b=>{const x=c.getSyncPoint(b,s,l,n)?1:2,S=Ui.estimateSegmentRequestTime(i,r,b)*x-a;return{playlist:b,rebufferingImpact:S}}),g=m.filter(b=>b.rebufferingImpact<=0);return Of(g,(b,y)=>Uk(y.playlist,b.playlist)),g.length?g[0]:(Of(m,(b,y)=>b.rebufferingImpact-y.rebufferingImpact),m[0]||null)},jde=function(){const t=this.playlists.main.playlists.filter(Ui.isEnabled);return Of(t,(n,r)=>Uk(n,r)),t.filter(n=>!!rg(this.playlists.main,n).video)[0]||null},Nde=t=>{let e=0,n;return t.bytes&&(n=new Uint8Array(t.bytes),t.segments.forEach(r=>{n.set(r,e),e+=r.byteLength})),n};function L8(t){try{return new URL(t).pathname.split("/").slice(-2).join("/")}catch{return""}}const Dde=function(t,e,n){if(!t[n]){e.trigger({type:"usage",name:"vhs-608"});let r=n;/^cc708_/.test(n)&&(r="SERVICE"+n.split("_")[1]);const s=e.textTracks().getTrackById(r);if(s)t[n]=s;else{const i=e.options_.vhs&&e.options_.vhs.captionServices||{};let a=n,l=n,c=!1;const u=i[r];u&&(a=u.label,l=u.language,c=u.default),t[n]=e.addRemoteTextTrack({kind:"captions",id:r,default:c,label:a,language:l},!1).track}}},Ade=function({inbandTextTracks:t,captionArray:e,timestampOffset:n}){if(!e)return;const r=De.WebKitDataCue||De.VTTCue;e.forEach(s=>{const i=s.stream;s.content?s.content.forEach(a=>{const l=new r(s.startTime+n,s.endTime+n,a.text);l.line=a.line,l.align="left",l.position=a.position,l.positionAlign="line-left",t[i].addCue(l)}):t[i].addCue(new r(s.startTime+n,s.endTime+n,s.text))})},Pde=function(t){Object.defineProperties(t.frame,{id:{get(){return tt.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get(){return tt.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get(){return tt.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})},Ide=({inbandTextTracks:t,metadataArray:e,timestampOffset:n,videoDuration:r})=>{if(!e)return;const s=De.WebKitDataCue||De.VTTCue,i=t.metadataTrack_;if(!i||(e.forEach(h=>{const f=h.cueTime+n;typeof f!="number"||De.isNaN(f)||f<0||!(f<1/0)||!h.frames||!h.frames.length||h.frames.forEach(m=>{const g=new s(f,f,m.value||m.url||m.data||"");g.frame=m,g.value=m,Pde(g),i.addCue(g)})}),!i.cues||!i.cues.length))return;const a=i.cues,l=[];for(let h=0;h<a.length;h++)a[h]&&l.push(a[h]);const c=l.reduce((h,f)=>{const m=h[f.startTime]||[];return m.push(f),h[f.startTime]=m,h},{}),u=Object.keys(c).sort((h,f)=>Number(h)-Number(f));u.forEach((h,f)=>{const m=c[h],g=isFinite(r)?r:h,b=Number(u[f+1])||g;m.forEach(y=>{y.endTime=b})})},Ode={id:"ID",class:"CLASS",startDate:"START-DATE",duration:"DURATION",endDate:"END-DATE",endOnNext:"END-ON-NEXT",plannedDuration:"PLANNED-DURATION",scte35Out:"SCTE35-OUT",scte35In:"SCTE35-IN"},Mde=new Set(["id","class","startDate","duration","endDate","endOnNext","startTime","endTime","processDateRange"]),Rde=({inbandTextTracks:t,dateRanges:e})=>{const n=t.metadataTrack_;if(!n)return;const r=De.WebKitDataCue||De.VTTCue;e.forEach(s=>{for(const i of Object.keys(s)){if(Mde.has(i))continue;const a=new r(s.startTime,s.endTime,"");a.id=s.id,a.type="com.apple.quicktime.HLS",a.value={key:Ode[i],data:s[i]},(i==="scte35Out"||i==="scte35In")&&(a.value.data=new Uint8Array(a.value.data.match(/[\da-f]{2}/gi)).buffer),n.addCue(a)}s.processDateRange()})},H5=(t,e,n)=>{t.metadataTrack_||(t.metadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,tt.browser.IS_ANY_SAFARI||(t.metadataTrack_.inBandMetadataTrackDispatchType=e))},zm=function(t,e,n){let r,s;if(n&&n.cues)for(r=n.cues.length;r--;)s=n.cues[r],s.startTime>=t&&s.endTime<=e&&n.removeCue(s)},Lde=function(t){const e=t.cues;if(!e)return;const n={};for(let r=e.length-1;r>=0;r--){const s=e[r],i=`${s.startTime}-${s.endTime}-${s.text}`;n[i]?t.removeCue(s):n[i]=s}},Fde=(t,e,n)=>{if(typeof e>"u"||e===null||!t.length)return[];const r=Math.ceil((e-n+3)*Id.ONE_SECOND_IN_TS);let s;for(s=0;s<t.length&&!(t[s].pts>r);s++);return t.slice(s)},Bde=(t,e,n)=>{if(!e.length)return t;if(n)return e.slice();const r=e[0].pts;let s=0;for(s;s<t.length&&!(t[s].pts>=r);s++);return t.slice(0,s).concat(e)},$de=(t,e,n,r)=>{const s=Math.ceil((e-r)*Id.ONE_SECOND_IN_TS),i=Math.ceil((n-r)*Id.ONE_SECOND_IN_TS),a=t.slice();let l=t.length;for(;l--&&!(t[l].pts<=i););if(l===-1)return a;let c=l+1;for(;c--&&!(t[c].pts<=s););return c=Math.max(c,0),a.splice(c,l-c+1),a},zde=function(t,e){if(!t&&!e||!t&&e||t&&!e)return!1;if(t===e)return!0;const n=Object.keys(t).sort(),r=Object.keys(e).sort();if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++){const i=n[s];if(i!==r[s]||t[i]!==e[i])return!1}return!0},Ude=function(t,e,n){e=e||[];const r=[];let s=0;for(let i=0;i<e.length;i++){const a=e[i];if(t===a.timeline&&(r.push(i),s+=a.duration,s>n))return i}return r.length===0?0:r[r.length-1]},Tm=1,Hde=500,W5=t=>typeof t=="number"&&isFinite(t),zy=1/60,Wde=(t,e,n)=>t!=="main"||!e||!n?null:!n.hasAudio&&!n.hasVideo?"Neither audio nor video found in segment.":e.hasVideo&&!n.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!e.hasVideo&&n.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null,Vde=(t,e,n)=>{let r=e-_s.BACK_BUFFER_LENGTH;t.length&&(r=Math.max(r,t.start(0)));const s=e-n;return Math.min(s,r)},af=t=>{const{startOfSegment:e,duration:n,segment:r,part:s,playlist:{mediaSequence:i,id:a,segments:l=[]},mediaIndex:c,partIndex:u,timeline:h}=t,f=l.length-1;let m="mediaIndex/partIndex increment";t.getMediaInfoForTime?m=`getMediaInfoForTime (${t.getMediaInfoForTime})`:t.isSyncRequest&&(m="getSyncSegmentCandidate (isSyncRequest)"),t.independent&&(m+=` with independent ${t.independent}`);const g=typeof u=="number",b=t.segment.uri?"segment":"pre-segment",y=g?t8({preloadSegment:r})-1:0;return`${b} [${i+c}/${i+f}]`+(g?` part [${u}/${y}]`:"")+` segment start/end [${r.start} => ${r.end}]`+(g?` part start/end [${s.start} => ${s.end}]`:"")+` startOfSegment [${e}] duration [${n}] timeline [${h}] selected by [${m}] playlist [${a}]`},V5=t=>`${t}TimingInfo`,qde=({segmentTimeline:t,currentTimeline:e,startOfSegment:n,buffered:r,overrideCheck:s})=>!s&&t===e?null:t<e?n:r.length?r.end(r.length-1):n,$S=({timelineChangeController:t,currentTimeline:e,segmentTimeline:n,loaderType:r,audioDisabled:s})=>{if(e===n)return!1;if(r==="audio"){const i=t.lastTimelineChange({type:"main"});return!i||i.to!==n}if(r==="main"&&s){const i=t.pendingTimelineChange({type:"audio"});return!(i&&i.to===n)}return!1},Yde=t=>{if(!t)return!1;const e=t.pendingTimelineChange({type:"audio"}),n=t.pendingTimelineChange({type:"main"}),r=e&&n,s=r&&e.to!==n.to;return!!(r&&e.from!==-1&&n.from!==-1&&s)},Gde=t=>{const e=t.timelineChangeController_.pendingTimelineChange({type:"audio"}),n=t.timelineChangeController_.pendingTimelineChange({type:"main"});return e&&n&&e.to<n.to},su=t=>{const e=t.pendingSegment_;if(!e)return;if($S({timelineChangeController:t.timelineChangeController_,currentTimeline:t.currentTimeline_,segmentTimeline:e.timeline,loaderType:t.loaderType_,audioDisabled:t.audioDisabled_})&&Yde(t.timelineChangeController_)){if(Gde(t)){t.timelineChangeController_.trigger("audioTimelineBehind");return}t.timelineChangeController_.trigger("fixBadTimelineChange")}},Kde=t=>{let e=0;return["video","audio"].forEach(function(n){const r=t[`${n}TimingInfo`];if(!r)return;const{start:s,end:i}=r;let a;typeof s=="bigint"||typeof i=="bigint"?a=De.BigInt(i)-De.BigInt(s):typeof s=="number"&&typeof i=="number"&&(a=i-s),typeof a<"u"&&a>e&&(e=a)}),typeof e=="bigint"&&e<Number.MAX_SAFE_INTEGER&&(e=Number(e)),e},q5=({segmentDuration:t,maxDuration:e})=>t?Math.round(t)>e+gl:!1,Xde=(t,e)=>{if(e!=="hls")return null;const n=Kde({audioTimingInfo:t.audioTimingInfo,videoTimingInfo:t.videoTimingInfo});if(!n)return null;const r=t.playlist.targetDuration,s=q5({segmentDuration:n,maxDuration:r*2}),i=q5({segmentDuration:n,maxDuration:r}),a=`Segment with index ${t.mediaIndex} from playlist ${t.playlist.id} has a duration of ${n} when the reported duration is ${t.duration} and the target duration is ${r}. For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1`;return s||i?{severity:s?"warn":"info",message:a}:null},Ed=({type:t,segment:e})=>{if(!e)return;const n=!!(e.key||e.map&&e.map.ke),r=!!(e.map&&!e.map.bytes),s=e.startOfSegment===void 0?e.start:e.startOfSegment;return{type:t||e.type,uri:e.resolvedUri||e.uri,start:s,duration:e.duration,isEncrypted:n,isMediaInitialization:r}};class zS extends tt.EventTarget{constructor(e,n={}){if(super(),!e)throw new TypeError("Initialization settings are required");if(typeof e.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");this.bandwidth=e.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.partIndex=null,this.hasPlayed_=e.hasPlayed,this.currentTime_=e.currentTime,this.seekable_=e.seekable,this.seeking_=e.seeking,this.duration_=e.duration,this.mediaSource_=e.mediaSource,this.vhs_=e.vhs,this.loaderType_=e.loaderType,this.currentMediaInfo_=void 0,this.startingMediaInfo_=void 0,this.segmentMetadataTrack_=e.segmentMetadataTrack,this.goalBufferLength_=e.goalBufferLength,this.sourceType_=e.sourceType,this.sourceUpdater_=e.sourceUpdater,this.inbandTextTracks_=e.inbandTextTracks,this.state_="INIT",this.timelineChangeController_=e.timelineChangeController,this.shouldSaveSegmentTimingInfo_=!0,this.parse708captions_=e.parse708captions,this.useDtsForTimestampOffset_=e.useDtsForTimestampOffset,this.captionServices_=e.captionServices,this.exactManifestTimings=e.exactManifestTimings,this.addMetadataToTextTrack=e.addMetadataToTextTrack,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.shouldForceTimestampOffsetAfterResync_=!1,this.pendingSegment_=null,this.xhrOptions_=null,this.pendingSegments_=[],this.audioDisabled_=!1,this.isPendingTimestampOffset_=!1,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=!1,this.appendInitSegment_={audio:!0,video:!0},this.playlistOfLastInitSegment_={audio:null,video:null},this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_={id3:[],caption:[]},this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.cacheEncryptionKeys_=e.cacheEncryptionKeys,this.keyCache_={},this.decrypter_=e.decrypter,this.syncController_=e.syncController,this.syncPoint_={segmentIndex:0,time:0},this.transmuxer_=this.createTransmuxer_(),this.triggerSyncInfoUpdate_=()=>this.trigger("syncinfoupdate"),this.syncController_.on("syncinfoupdate",this.triggerSyncInfoUpdate_),this.mediaSource_.addEventListener("sourceopen",()=>{this.isEndOfStream_()||(this.ended_=!1)}),this.fetchAtBuffer_=!1,this.logger_=ro(`SegmentLoader[${this.loaderType_}]`),Object.defineProperty(this,"state",{get(){return this.state_},set(r){r!==this.state_&&(this.logger_(`${this.state_} -> ${r}`),this.state_=r,this.trigger("statechange"))}}),this.sourceUpdater_.on("ready",()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():su(this)}),this.sourceUpdater_.on("codecschange",r=>{this.trigger(Ge({type:"codecschange"},r))}),this.loaderType_==="main"&&this.timelineChangeController_.on("pendingtimelinechange",()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():su(this)}),this.loaderType_==="audio"&&this.timelineChangeController_.on("timelinechange",r=>{this.trigger(Ge({type:"timelinechange"},r)),this.hasEnoughInfoToLoad_()?this.processLoadQueue_():su(this),this.hasEnoughInfoToAppend_()?this.processCallQueue_():su(this)})}get mediaSequenceSync_(){return this.syncController_.getMediaSequenceSync(this.loaderType_)}createTransmuxer_(){return Bw.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})}resetStats_(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0}dispose(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&De.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()}setAudio(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())}abort(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null),this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()}abort_(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,De.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null}checkForAbort_(e){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==e}error(e){return typeof e<"u"&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_}endOfStream(){this.ended_=!0,this.transmuxer_&&Bw.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")}buffered_(){const e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return Ts();if(this.loaderType_==="main"){const{hasAudio:n,hasVideo:r,isMuxed:s}=e;if(r&&n&&!this.audioDisabled_&&!s)return this.sourceUpdater_.buffered();if(r)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()}initSegmentForMap(e,n=!1){if(!e)return null;const r=yx(e);let s=this.initSegments_[r];return n&&!s&&e.bytes&&(this.initSegments_[r]=s={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),s||e}segmentKey(e,n=!1){if(!e)return null;const r=v8(e);let s=this.keyCache_[r];this.cacheEncryptionKeys_&&n&&!s&&e.bytes&&(this.keyCache_[r]=s={resolvedUri:e.resolvedUri,bytes:e.bytes});const i={resolvedUri:(s||e).resolvedUri};return s&&(i.bytes=s.bytes),i}couldBeginLoading_(){return this.playlist_&&!this.paused()}load(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}playlist(e,n={}){if(!e||this.playlist_&&this.playlist_.endList&&e.endList&&this.playlist_.uri===e.uri)return;const r=this.playlist_,s=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=n,this.state==="INIT"&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(e));let i=null;if(r&&(r.id?i=r.id:r.uri&&(i=r.uri)),this.logger_(`playlist update [${i} => ${e.id||e.uri}]`),this.mediaSequenceSync_&&(this.mediaSequenceSync_.update(e,this.currentTime_()),this.logger_(`Playlist update:
currentTime: ${this.currentTime_()}
bufferedEnd: ${Lw(this.buffered_())}
`,this.mediaSequenceSync_.diagnostics)),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!r||r.uri!==e.uri){this.mediaIndex!==null&&(!e.endList&&typeof e.partTargetDuration=="number"?this.resetLoader():this.resyncLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}const a=e.mediaSequence-r.mediaSequence;if(this.logger_(`live window shift [${a}]`),this.mediaIndex!==null)if(this.mediaIndex-=a,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{const l=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!l.parts||!l.parts.length||!l.parts[this.partIndex])){const c=this.mediaIndex;this.logger_(`currently processing part (index ${this.partIndex}) no longer exists.`),this.resetLoader(),this.mediaIndex=c}}s&&(s.mediaIndex-=a,s.mediaIndex<0?(s.mediaIndex=null,s.partIndex=null):(s.mediaIndex>=0&&(s.segment=e.segments[s.mediaIndex]),s.partIndex>=0&&s.segment.parts&&(s.part=s.segment.parts[s.partIndex]))),this.syncController_.saveExpiredSegmentInfo(r,e)}pause(){this.checkBufferTimeout_&&(De.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}paused(){return this.checkBufferTimeout_===null}resetEverything(e){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))}resetLoader(){this.fetchAtBuffer_=!1,this.mediaSequenceSync_&&this.mediaSequenceSync_.resetAppendedStatus(),this.resyncLoader()}resyncLoader(){this.transmuxer_&&Bw.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1;const e=this.currentMediaInfo_&&this.currentMediaInfo_.isFmp4;this.sourceType_==="hls"&&!e&&(this.shouldForceTimestampOffsetAfterResync_=!0),this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}remove(e,n,r=()=>{},s=!1){if(n===1/0&&(n=this.duration_()),n<=e){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}let i=1;const a=()=>{i--,i===0&&r()};(s||!this.audioDisabled_)&&(i++,this.sourceUpdater_.removeAudio(e,n,a)),(s||this.loaderType_==="main")&&(this.gopBuffer_=$de(this.gopBuffer_,e,n,this.timeMapping_),i++,this.sourceUpdater_.removeVideo(e,n,a));for(const l in this.inbandTextTracks_)zm(e,n,this.inbandTextTracks_[l]);zm(e,n,this.segmentMetadataTrack_),a()}monitorBuffer_(){this.checkBufferTimeout_&&De.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=De.setTimeout(this.monitorBufferTick_.bind(this),1)}monitorBufferTick_(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&De.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=De.setTimeout(this.monitorBufferTick_.bind(this),Hde)}fillBuffer_(){if(this.sourceUpdater_.updating())return;const e=this.chooseNextRequest_();if(!e)return;const n={segmentInfo:Ed({type:this.loaderType_,segment:e})};this.trigger({type:"segmentselected",metadata:n}),typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e)}isEndOfStream_(e=this.mediaIndex,n=this.playlist_,r=this.partIndex){if(!n||!this.mediaSource_)return!1;const s=typeof e=="number"&&n.segments[e],i=e+1===n.segments.length,a=!s||!s.parts||r+1===s.parts.length;return n.endList&&this.mediaSource_.readyState==="open"&&i&&a}chooseNextRequest_(){const e=this.buffered_(),n=Lw(e)||0,r=Lk(e,this.currentTime_()),s=!this.hasPlayed_()&&r>=1,i=r>=this.goalBufferLength_(),a=this.playlist_.segments;if(!a.length||s||i)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_(),this.loaderType_);const l={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:!this.syncPoint_};if(l.isSyncRequest)l.mediaIndex=Ude(this.currentTimeline_,a,n),this.logger_(`choose next request. Can not find sync point. Fallback to media Index: ${l.mediaIndex}`);else if(this.mediaIndex!==null){const m=a[this.mediaIndex],g=typeof this.partIndex=="number"?this.partIndex:-1;l.startOfSegment=m.end?m.end:n,m.parts&&m.parts[g+1]?(l.mediaIndex=this.mediaIndex,l.partIndex=g+1):l.mediaIndex=this.mediaIndex+1}else{let m,g,b;const y=this.fetchAtBuffer_?n:this.currentTime_();if(this.mediaSequenceSync_&&this.logger_(`chooseNextRequest_ request after Quality Switch:
For TargetTime: ${y}.
CurrentTime: ${this.currentTime_()}
BufferedEnd: ${n}
Fetch At Buffer: ${this.fetchAtBuffer_}
`,this.mediaSequenceSync_.diagnostics),this.mediaSequenceSync_&&this.mediaSequenceSync_.isReliable){const x=this.getSyncInfoFromMediaSequenceSync_(y);if(!x){const _="No sync info found while using media sequence sync";return this.error({message:_,metadata:{errorType:tt.Error.StreamingFailedToSelectNextSegment,error:new Error(_)}}),this.logger_("chooseNextRequest_ - no sync info found using media sequence sync"),null}this.logger_(`chooseNextRequest_ mediaSequence syncInfo (${x.start} --> ${x.end})`),m=x.segmentIndex,g=x.partIndex,b=x.start}else{this.logger_("chooseNextRequest_ - fallback to a regular segment selection algorithm, based on a syncPoint.");const x=Ui.getMediaInfoForTime({exactManifestTimings:this.exactManifestTimings,playlist:this.playlist_,currentTime:y,startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time});m=x.segmentIndex,g=x.partIndex,b=x.startTime}l.getMediaInfoForTime=this.fetchAtBuffer_?`bufferedEnd ${y}`:`currentTime ${y}`,l.mediaIndex=m,l.startOfSegment=b,l.partIndex=g,this.logger_(`choose next request. Playlist switched and we have a sync point. Media Index: ${l.mediaIndex} `)}const c=a[l.mediaIndex];let u=c&&typeof l.partIndex=="number"&&c.parts&&c.parts[l.partIndex];if(!c||typeof l.partIndex=="number"&&!u)return null;typeof l.partIndex!="number"&&c.parts&&(l.partIndex=0,u=c.parts[0]);const h=this.vhs_.playlists&&this.vhs_.playlists.main&&this.vhs_.playlists.main.independentSegments||this.playlist_.independentSegments;if(!r&&u&&!h&&!u.independent)if(l.partIndex===0){const m=a[l.mediaIndex-1],g=m.parts&&m.parts.length&&m.parts[m.parts.length-1];g&&g.independent&&(l.mediaIndex-=1,l.partIndex=m.parts.length-1,l.independent="previous segment")}else c.parts[l.partIndex-1].independent&&(l.partIndex-=1,l.independent="previous part");const f=this.mediaSource_&&this.mediaSource_.readyState==="ended";return l.mediaIndex>=a.length-1&&f&&!this.seeking_()?null:(this.shouldForceTimestampOffsetAfterResync_&&(this.shouldForceTimestampOffsetAfterResync_=!1,l.forceTimestampOffset=!0,this.logger_("choose next request. Force timestamp offset after loader resync")),this.generateSegmentInfo_(l))}getSyncInfoFromMediaSequenceSync_(e){if(!this.mediaSequenceSync_)return null;const n=Math.max(e,this.mediaSequenceSync_.start);e!==n&&this.logger_(`getSyncInfoFromMediaSequenceSync_. Pulled target time from ${e} to ${n}`);const r=this.mediaSequenceSync_.getSyncInfoForTime(n);if(!r)return null;if(!r.isAppended)return r;const s=this.mediaSequenceSync_.getSyncInfoForTime(r.end);return s?(s.isAppended&&this.logger_("getSyncInfoFromMediaSequenceSync_: We encounter unexpected scenario where next media sequence sync info is also appended!"),s):null}generateSegmentInfo_(e){const{independent:n,playlist:r,mediaIndex:s,startOfSegment:i,isSyncRequest:a,partIndex:l,forceTimestampOffset:c,getMediaInfoForTime:u}=e,h=r.segments[s],f=typeof l=="number"&&h.parts[l],m={requestId:"segment-loader-"+Math.random(),uri:f&&f.resolvedUri||h.resolvedUri,mediaIndex:s,partIndex:f?l:null,isSyncRequest:a,startOfSegment:i,playlist:r,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:h.timeline,duration:f&&f.duration||h.duration,segment:h,part:f,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:u,independent:n},g=typeof c<"u"?c:this.isPendingTimestampOffset_;m.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:h.timeline,currentTimeline:this.currentTimeline_,startOfSegment:i,buffered:this.buffered_(),overrideCheck:g});const b=Lw(this.sourceUpdater_.audioBuffered());return typeof b=="number"&&(m.audioAppendStart=b-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(m.gopsToAlignWith=Fde(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),m}timestampOffsetForSegment_(e){return qde(e)}earlyAbortWhenNeeded_(e){if(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH||Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return;const n=this.currentTime_(),r=e.bandwidth,s=this.pendingSegment_.duration,i=Ui.estimateSegmentRequestTime(s,r,this.playlist_,e.bytesReceived),a=pue(this.buffered_(),n,this.vhs_.tech_.playbackRate())-1;if(i<=a)return;const l=Ede({main:this.vhs_.playlists.main,currentTime:n,bandwidth:r,duration:this.duration_(),segmentDuration:s,timeUntilRebuffer:a,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!l)return;const u=i-a-l.rebufferingImpact;let h=.5;a<=gl&&(h=1),!(!l.playlist||l.playlist.uri===this.playlist_.uri||u<h)&&(this.bandwidth=l.playlist.attributes.BANDWIDTH*_s.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}handleAbort_(e){this.logger_(`Aborting ${af(e)}`),this.mediaRequestsAborted+=1}handleProgress_(e,n){this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)&&this.trigger("progress")}handleTrackInfo_(e,n){const{hasAudio:r,hasVideo:s}=n,i={segmentInfo:Ed({type:this.loaderType_,segment:e}),trackInfo:{hasAudio:r,hasVideo:s}};this.trigger({type:"segmenttransmuxingtrackinfoavailable",metadata:i}),this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)&&(this.checkForIllegalMediaSwitch(n)||(n=n||{},zde(this.currentMediaInfo_,n)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=n,this.currentMediaInfo_=n,this.logger_("trackinfo update",n),this.trigger("trackinfo")),!this.checkForAbort_(e.requestId)&&(this.pendingSegment_.trackInfo=n,this.hasEnoughInfoToAppend_()?this.processCallQueue_():su(this))))}handleTimingInfo_(e,n,r,s){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;const i=this.pendingSegment_,a=V5(n);i[a]=i[a]||{},i[a][r]=s,this.logger_(`timinginfo: ${n} - ${r} - ${s}`),this.hasEnoughInfoToAppend_()?this.processCallQueue_():su(this)}handleCaptions_(e,n){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(n.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,n));return}const s=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),i={};n.forEach(a=>{i[a.stream]=i[a.stream]||{startTime:1/0,captions:[],endTime:0};const l=i[a.stream];l.startTime=Math.min(l.startTime,a.startTime+s),l.endTime=Math.max(l.endTime,a.endTime+s),l.captions.push(a)}),Object.keys(i).forEach(a=>{const{startTime:l,endTime:c,captions:u}=i[a],h=this.inbandTextTracks_;this.logger_(`adding cues from ${l} -> ${c} for ${a}`),Dde(h,this.vhs_.tech_,a),zm(l,c,h[a]),Ade({captionArray:u,inbandTextTracks:h,timestampOffset:s})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}handleId3_(e,n,r){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,n,r));return}this.addMetadataToTextTrack(r,n,this.duration_())}processMetadataQueue_(){this.metadataQueue_.id3.forEach(e=>e()),this.metadataQueue_.caption.forEach(e=>e()),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]}processCallQueue_(){const e=this.callQueue_;this.callQueue_=[],e.forEach(n=>n())}processLoadQueue_(){const e=this.loadQueue_;this.loadQueue_=[],e.forEach(n=>n())}hasEnoughInfoToLoad_(){if(this.loaderType_!=="audio")return!0;const e=this.pendingSegment_;return e?this.getCurrentMediaInfo_()?!$S({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1}getCurrentMediaInfo_(e=this.pendingSegment_){return e&&e.trackInfo||this.currentMediaInfo_}getMediaInfo_(e=this.pendingSegment_){return this.getCurrentMediaInfo_(e)||this.startingMediaInfo_}getPendingSegmentPlaylist(){return this.pendingSegment_?this.pendingSegment_.playlist:null}hasEnoughInfoToAppend_(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;const e=this.pendingSegment_,n=this.getCurrentMediaInfo_();if(!e||!n)return!1;const{hasAudio:r,hasVideo:s,isMuxed:i}=n;return!(s&&!e.videoTimingInfo||r&&!this.audioDisabled_&&!i&&!e.audioTimingInfo||$S({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}handleData_(e,n){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){su(this),this.callQueue_.push(this.handleData_.bind(this,e,n));return}const r=this.pendingSegment_;if(this.setTimeMapping_(r.timeline),this.updateMediaSecondsLoaded_(r.part||r.segment),this.mediaSource_.readyState!=="closed"){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),r.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),r.isFmp4=e.isFmp4,r.timingInfo=r.timingInfo||{},r.isFmp4)this.trigger("fmp4"),r.timingInfo.start=r[V5(n.type)].start;else{const s=this.getCurrentMediaInfo_(),i=this.loaderType_==="main"&&s&&s.hasVideo;let a;i&&(a=r.videoTimingInfo.start),r.timingInfo.start=this.trueSegmentStart_({currentStart:r.timingInfo.start,playlist:r.playlist,mediaIndex:r.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:i,firstVideoFrameTimeForData:a,videoTimingInfo:r.videoTimingInfo,audioTimingInfo:r.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(r,n.type),this.updateSourceBufferTimestampOffset_(r),r.isSyncRequest){this.updateTimingInfoEnd_(r),this.syncController_.saveSegmentTimingInfo({segmentInfo:r,shouldSaveTimelineMapping:this.loaderType_==="main"});const s=this.chooseNextRequest_();if(s.mediaIndex!==r.mediaIndex||s.partIndex!==r.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}r.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(r,n)}}updateAppendInitSegmentStatus(e,n){this.loaderType_==="main"&&typeof e.timestampOffset=="number"&&!e.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[n]!==e.playlist&&(this.appendInitSegment_[n]=!0)}getInitSegmentAndUpdateState_({type:e,initSegment:n,map:r,playlist:s}){if(r){const i=yx(r);if(this.activeInitSegmentId_===i)return null;n=this.initSegmentForMap(r,!0).bytes,this.activeInitSegmentId_=i}return n&&this.appendInitSegment_[e]?(this.playlistOfLastInitSegment_[e]=s,this.appendInitSegment_[e]=!1,this.activeInitSegmentId_=null,n):null}handleQuotaExceededError_({segmentInfo:e,type:n,bytes:r},s){const i=this.sourceUpdater_.audioBuffered(),a=this.sourceUpdater_.videoBuffered();i.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+Od(i).join(", ")),a.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+Od(a).join(", "));const l=i.length?i.start(0):0,c=i.length?i.end(i.length-1):0,u=a.length?a.start(0):0,h=a.length?a.end(a.length-1):0;if(c-l<=Tm&&h-u<=Tm){this.logger_(`On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: ${r.byteLength}, audio buffer: ${Od(i).join(", ")}, video buffer: ${Od(a).join(", ")}, `),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:e,type:n,bytes:r}));const m=this.currentTime_()-Tm;this.logger_(`On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to ${m}`),this.remove(0,m,()=>{this.logger_(`On QUOTA_EXCEEDED_ERR, retrying append in ${Tm}s`),this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=De.setTimeout(()=>{this.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),this.quotaExceededErrorRetryTimeout_=null,this.processCallQueue_()},Tm*1e3)},!0)}handleAppendError_({segmentInfo:e,type:n,bytes:r},s){if(s){if(s.code===h8){this.handleQuotaExceededError_({segmentInfo:e,type:n,bytes:r});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",s),this.error({message:`${n} append of ${r.length}b failed for segment #${e.mediaIndex} in playlist ${e.playlist.id}`,metadata:{errorType:tt.Error.StreamingFailedToAppendSegment}}),this.trigger("appenderror")}}appendToSourceBuffer_({segmentInfo:e,type:n,initSegment:r,data:s,bytes:i}){if(!i){const l=[s];let c=s.byteLength;r&&(l.unshift(r),c+=r.byteLength),i=Nde({bytes:c,segments:l})}const a={segmentInfo:Ed({type:this.loaderType_,segment:e})};this.trigger({type:"segmentappendstart",metadata:a}),this.sourceUpdater_.appendBuffer({segmentInfo:e,type:n,bytes:i},this.handleAppendError_.bind(this,{segmentInfo:e,type:n,bytes:i}))}handleSegmentTimingInfo_(e,n,r){if(!this.pendingSegment_||n!==this.pendingSegment_.requestId)return;const s=this.pendingSegment_.segment,i=`${e}TimingInfo`;s[i]||(s[i]={}),s[i].transmuxerPrependedSeconds=r.prependedContentDuration||0,s[i].transmuxedPresentationStart=r.start.presentation,s[i].transmuxedDecodeStart=r.start.decode,s[i].transmuxedPresentationEnd=r.end.presentation,s[i].transmuxedDecodeEnd=r.end.decode,s[i].baseMediaDecodeTime=r.baseMediaDecodeTime}appendData_(e,n){const{type:r,data:s}=n;if(!s||!s.byteLength||r==="audio"&&this.audioDisabled_)return;const i=this.getInitSegmentAndUpdateState_({type:r,initSegment:n.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:r,initSegment:i,data:s})}loadSegment_(e){if(this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),typeof e.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){su(this),this.loadQueue_.push(()=>{const n=Ge({},e,{forceTimestampOffset:!0});Ge(e,this.generateSegmentInfo_(n)),this.isPendingTimestampOffset_=!1,this.updateTransmuxerAndRequestSegment_(e)});return}this.updateTransmuxerAndRequestSegment_(e)}updateTransmuxerAndRequestSegment_(e){this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));const n=this.createSimplifiedSegmentObj_(e),r=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex),s=this.mediaIndex!==null,i=e.timeline!==this.currentTimeline_&&e.timeline>0,a=r||s&&i;this.logger_(`Requesting
${L8(e.uri)}
${af(e)}`),n.map&&!n.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=Cde({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:n,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:a,endedTimelineFn:()=>{this.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:({message:l,level:c,stream:u})=>{this.logger_(`${af(e)} logged from transmuxer stream ${u} as a ${c}: ${l}`)},triggerSegmentEventFn:({type:l,segment:c,keyInfo:u,trackInfo:h,timingInfo:f})=>{const g={segmentInfo:Ed({segment:c})};u&&(g.keyInfo=u),h&&(g.trackInfo=h),f&&(g.timingInfo=f),this.trigger({type:l,metadata:g})}})}trimBackBuffer_(e){const n=Vde(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);n>0&&this.remove(0,n)}createSimplifiedSegmentObj_(e){const n=e.segment,r=e.part,s=e.segment.key||e.segment.map&&e.segment.map.key,i=e.segment.map&&!e.segment.map.bytes,a={resolvedUri:r?r.resolvedUri:n.resolvedUri,byterange:r?r.byterange:n.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part,type:this.loaderType_,start:e.startOfSegment,duration:e.duration,isEncrypted:s,isMediaInitialization:i},l=e.playlist.segments[e.mediaIndex-1];if(l&&l.timeline===n.timeline&&(l.videoTimingInfo?a.baseStartTime=l.videoTimingInfo.transmuxedDecodeEnd:l.audioTimingInfo&&(a.baseStartTime=l.audioTimingInfo.transmuxedDecodeEnd)),n.key){const c=n.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);a.key=this.segmentKey(n.key),a.key.iv=c}return n.map&&(a.map=this.initSegmentForMap(n.map)),a}saveTransferStats_(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)}saveBandwidthRelatedStats_(e,n){if(this.pendingSegment_.byteLength=n.bytesReceived,e<zy){this.logger_(`Ignoring segment's bandwidth because its duration of ${e} is less than the min to record ${zy}`);return}const r={bandwidthInfo:{from:this.bandwidth,to:n.bandwidth}};this.trigger({type:"bandwidthupdated",metadata:r}),this.bandwidth=n.bandwidth,this.roundTrip=n.roundTripTime}handleTimeout_(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")}segmentRequestFinished_(e,n,r){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,n,r));return}if(this.saveTransferStats_(n.stats),!this.pendingSegment_||n.requestId!==this.pendingSegment_.requestId)return;if(e){if(this.pendingSegment_=null,this.state="READY",e.code===bl.ABORTED)return;if(this.pause(),e.code===bl.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(e),this.trigger("error");return}const s=this.pendingSegment_;this.saveBandwidthRelatedStats_(s.duration,n.stats),s.endOfAllRequests=n.endOfAllRequests,r.gopInfo&&(this.gopBuffer_=Bde(this.gopBuffer_,r.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(s)}setTimeMapping_(e){const n=this.syncController_.mappingForTimeline(e);n!==null&&(this.timeMapping_=n)}updateMediaSecondsLoaded_(e){typeof e.start=="number"&&typeof e.end=="number"?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration}shouldUpdateTransmuxerTimestampOffset_(e){return e===null?!1:this.loaderType_==="main"&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset()}trueSegmentStart_({currentStart:e,playlist:n,mediaIndex:r,firstVideoFrameTimeForData:s,currentVideoTimestampOffset:i,useVideoTimingInfo:a,videoTimingInfo:l,audioTimingInfo:c}){if(typeof e<"u")return e;if(!a)return c.start;const u=n.segments[r-1];return r===0||!u||typeof u.start>"u"||u.end!==s+i?s:l.start}waitForAppendsToComplete_(e){const n=this.getCurrentMediaInfo_(e);if(!n){this.error({message:"No starting media returned, likely due to an unsupported media format.",playlistExclusionDuration:1/0}),this.trigger("error");return}const{hasAudio:r,hasVideo:s,isMuxed:i}=n,a=this.loaderType_==="main"&&s,l=!this.audioDisabled_&&r&&!i;if(e.waitingOnAppends=0,!e.hasAppendedData_){!e.timingInfo&&typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),this.checkAppendsDone_(e);return}a&&e.waitingOnAppends++,l&&e.waitingOnAppends++,a&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),l&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))}checkAppendsDone_(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,e.waitingOnAppends===0&&this.handleAppendsDone_())}checkForIllegalMediaSwitch(e){const n=Wde(this.loaderType_,this.getCurrentMediaInfo_(),e);return n?(this.error({message:n,playlistExclusionDuration:1/0}),this.trigger("error"),!0):!1}updateSourceBufferTimestampOffset_(e){if(e.timestampOffset===null||typeof e.timingInfo.start!="number"||e.changedTimestampOffset||this.loaderType_!=="main")return;let n=!1;e.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e.segment.videoTimingInfo,audioTimingInfo:e.segment.audioTimingInfo,timingInfo:e.timingInfo}),e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),n=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),n=!0),n&&this.trigger("timestampoffset")}getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e,audioTimingInfo:n,timingInfo:r}){return this.useDtsForTimestampOffset_?e&&typeof e.transmuxedDecodeStart=="number"?e.transmuxedDecodeStart:n&&typeof n.transmuxedDecodeStart=="number"?n.transmuxedDecodeStart:r.start:r.start}updateTimingInfoEnd_(e){e.timingInfo=e.timingInfo||{};const n=this.getMediaInfo_(),s=this.loaderType_==="main"&&n&&n.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;s&&(e.timingInfo.end=typeof s.end=="number"?s.end:s.start+e.duration)}handleAppendsDone_(){if(this.pendingSegment_){const c={segmentInfo:Ed({type:this.loaderType_,segment:this.pendingSegment_})};this.trigger({type:"appendsdone",metadata:c})}if(!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}const e=this.pendingSegment_;e.part&&e.part.syncInfo?e.part.syncInfo.markAppended():e.segment.syncInfo&&e.segment.syncInfo.markAppended(),this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:this.loaderType_==="main"});const n=Xde(e,this.sourceType_);if(n&&(n.severity==="warn"?tt.log.warn(n.message):this.logger_(n.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",e.isSyncRequest&&(this.trigger("syncinfoupdate"),!e.hasAppendedData_)){this.logger_(`Throwing away un-appended sync request ${af(e)}`);return}this.logger_(`Appended ${af(e)}`),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");const r=e.segment,s=e.part,i=r.end&&this.currentTime_()-r.end>e.playlist.targetDuration*3,a=s&&s.end&&this.currentTime_()-s.end>e.playlist.partTargetDuration*3;if(i||a){this.logger_(`bad ${i?"segment":"part"} ${af(e)}`),this.resetEverything();return}this.mediaIndex!==null&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}recordThroughput_(e){if(e.duration<zy){this.logger_(`Ignoring segment's throughput because its duration of ${e.duration} is less than the min to record ${zy}`);return}const n=this.throughput.rate,r=Date.now()-e.endOfAllRequests+1,s=Math.floor(e.byteLength/r*8*1e3);this.throughput.rate+=(s-n)/++this.throughput.count}addSegmentMetadataCue_(e){if(!this.segmentMetadataTrack_)return;const n=e.segment,r=n.start,s=n.end;if(!W5(r)||!W5(s))return;zm(r,s,this.segmentMetadataTrack_);const i=De.WebKitDataCue||De.VTTCue,a={custom:n.custom,dateTimeObject:n.dateTimeObject,dateTimeString:n.dateTimeString,programDateTime:n.programDateTime,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:r,end:s},l=JSON.stringify(a),c=new i(r,s,l);c.value=a,this.segmentMetadataTrack_.addCue(c)}}function sc(){}const F8=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},Qde=["video","audio"],US=(t,e)=>{const n=e[`${t}Buffer`];return n&&n.updating||e.queuePending[t]},Zde=(t,e)=>{for(let n=0;n<e.length;n++){const r=e[n];if(r.type==="mediaSource")return null;if(r.type===t)return n}return null},Mf=(t,e)=>{if(e.queue.length===0)return;let n=0,r=e.queue[n];if(r.type==="mediaSource"){!e.updating()&&e.mediaSource.readyState!=="closed"&&(e.queue.shift(),r.action(e),r.doneFn&&r.doneFn(),Mf("audio",e),Mf("video",e));return}if(t!=="mediaSource"&&!(!e.ready()||e.mediaSource.readyState==="closed"||US(t,e))){if(r.type!==t){if(n=Zde(t,e.queue),n===null)return;r=e.queue[n]}if(e.queue.splice(n,1),e.queuePending[t]=r,r.action(t,e),!r.doneFn){e.queuePending[t]=null,Mf(t,e);return}}},B8=(t,e)=>{const n=e[`${t}Buffer`],r=F8(t);n&&(n.removeEventListener("updateend",e[`on${r}UpdateEnd_`]),n.removeEventListener("error",e[`on${r}Error_`]),e.codecs[t]=null,e[`${t}Buffer`]=null)},dl=(t,e)=>t&&e&&Array.prototype.indexOf.call(t.sourceBuffers,e)!==-1,ia={appendBuffer:(t,e,n)=>(r,s)=>{const i=s[`${r}Buffer`];if(dl(s.mediaSource,i)){s.logger_(`Appending segment ${e.mediaIndex}'s ${t.length} bytes to ${r}Buffer`);try{i.appendBuffer(t)}catch(a){s.logger_(`Error with code ${a.code} `+(a.code===h8?"(QUOTA_EXCEEDED_ERR) ":"")+`when appending segment ${e.mediaIndex} to ${r}Buffer`),s.queuePending[r]=null,n(a)}}},remove:(t,e)=>(n,r)=>{const s=r[`${n}Buffer`];if(dl(r.mediaSource,s)){r.logger_(`Removing ${t} to ${e} from ${n}Buffer`);try{s.remove(t,e)}catch{r.logger_(`Remove ${t} to ${e} from ${n}Buffer failed`)}}},timestampOffset:t=>(e,n)=>{const r=n[`${e}Buffer`];dl(n.mediaSource,r)&&(n.logger_(`Setting ${e}timestampOffset to ${t}`),r.timestampOffset=t)},callback:t=>(e,n)=>{t()},endOfStream:t=>e=>{if(e.mediaSource.readyState==="open"){e.logger_(`Calling mediaSource endOfStream(${t||""})`);try{e.mediaSource.endOfStream(t)}catch(n){tt.log.warn("Failed to call media source endOfStream",n)}}},duration:t=>e=>{e.logger_(`Setting mediaSource duration to ${t}`);try{e.mediaSource.duration=t}catch(n){tt.log.warn("Failed to set media source duration",n)}},abort:()=>(t,e)=>{if(e.mediaSource.readyState!=="open")return;const n=e[`${t}Buffer`];if(dl(e.mediaSource,n)){e.logger_(`calling abort on ${t}Buffer`);try{n.abort()}catch(r){tt.log.warn(`Failed to abort on ${t}Buffer`,r)}}},addSourceBuffer:(t,e)=>n=>{const r=F8(t),s=qf(e);n.logger_(`Adding ${t}Buffer with codec ${e} to mediaSource`);const i=n.mediaSource.addSourceBuffer(s);i.addEventListener("updateend",n[`on${r}UpdateEnd_`]),i.addEventListener("error",n[`on${r}Error_`]),n.codecs[t]=e,n[`${t}Buffer`]=i},removeSourceBuffer:t=>e=>{const n=e[`${t}Buffer`];if(B8(t,e),!!dl(e.mediaSource,n)){e.logger_(`Removing ${t}Buffer with codec ${e.codecs[t]} from mediaSource`);try{e.mediaSource.removeSourceBuffer(n)}catch(r){tt.log.warn(`Failed to removeSourceBuffer ${t}Buffer`,r)}}},changeType:t=>(e,n)=>{const r=n[`${e}Buffer`],s=qf(t);if(!dl(n.mediaSource,r))return;const i=t.substring(0,t.indexOf(".")),a=n.codecs[e];if(a.substring(0,a.indexOf("."))===i)return;const c={codecsChangeInfo:{from:a,to:t}};n.trigger({type:"codecschange",metadata:c}),n.logger_(`changing ${e}Buffer codec from ${a} to ${t}`);try{r.changeType(s),n.codecs[e]=t}catch(u){c.errorType=tt.Error.StreamingCodecsChangeError,c.error=u,u.metadata=c,n.error_=u,n.trigger("error"),tt.log.warn(`Failed to changeType on ${e}Buffer`,u)}}},aa=({type:t,sourceUpdater:e,action:n,doneFn:r,name:s})=>{e.queue.push({type:t,action:n,doneFn:r,name:s}),Mf(t,e)},Y5=(t,e)=>n=>{const r=e[`${t}Buffered`](),s=due(r);if(e.logger_(`received "updateend" event for ${t} Source Buffer: `,s),e.queuePending[t]){const i=e.queuePending[t].doneFn;e.queuePending[t]=null,i&&i(e[`${t}Error_`])}Mf(t,e)};class $8 extends tt.EventTarget{constructor(e){super(),this.mediaSource=e,this.sourceopenListener_=()=>Mf("mediaSource",this),this.mediaSource.addEventListener("sourceopen",this.sourceopenListener_),this.logger_=ro("SourceUpdater"),this.audioTimestampOffset_=0,this.videoTimestampOffset_=0,this.queue=[],this.queuePending={audio:null,video:null},this.delayedAudioAppendQueue_=[],this.videoAppendQueued_=!1,this.codecs={},this.onVideoUpdateEnd_=Y5("video",this),this.onAudioUpdateEnd_=Y5("audio",this),this.onVideoError_=n=>{this.videoError_=n},this.onAudioError_=n=>{this.audioError_=n},this.createdSourceBuffers_=!1,this.initializedEme_=!1,this.triggeredReady_=!1}initializedEme(){this.initializedEme_=!0,this.triggerReady()}hasCreatedSourceBuffers(){return this.createdSourceBuffers_}hasInitializedAnyEme(){return this.initializedEme_}ready(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()}createSourceBuffers(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())}triggerReady(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))}addSourceBuffer(e,n){aa({type:"mediaSource",sourceUpdater:this,action:ia.addSourceBuffer(e,n),name:"addSourceBuffer"})}abort(e){aa({type:e,sourceUpdater:this,action:ia.abort(e),name:"abort"})}removeSourceBuffer(e){if(!this.canRemoveSourceBuffer()){tt.log.error("removeSourceBuffer is not supported!");return}aa({type:"mediaSource",sourceUpdater:this,action:ia.removeSourceBuffer(e),name:"removeSourceBuffer"})}canRemoveSourceBuffer(){return!tt.browser.IS_FIREFOX&&De.MediaSource&&De.MediaSource.prototype&&typeof De.MediaSource.prototype.removeSourceBuffer=="function"}static canChangeType(){return De.SourceBuffer&&De.SourceBuffer.prototype&&typeof De.SourceBuffer.prototype.changeType=="function"}canChangeType(){return this.constructor.canChangeType()}changeType(e,n){if(!this.canChangeType()){tt.log.error("changeType is not supported!");return}aa({type:e,sourceUpdater:this,action:ia.changeType(n),name:"changeType"})}addOrChangeSourceBuffers(e){if(!e||typeof e!="object"||Object.keys(e).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach(n=>{const r=e[n];if(!this.hasCreatedSourceBuffers())return this.addSourceBuffer(n,r);this.canChangeType()&&this.changeType(n,r)})}appendBuffer(e,n){const{segmentInfo:r,type:s,bytes:i}=e;if(this.processedAppend_=!0,s==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([e,n]),this.logger_(`delayed audio append of ${i.length} until video append`);return}const a=n;if(aa({type:s,sourceUpdater:this,action:ia.appendBuffer(i,r||{mediaIndex:-1},a),doneFn:n,name:"appendBuffer"}),s==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;const l=this.delayedAudioAppendQueue_.slice();this.logger_(`queuing delayed audio ${l.length} appendBuffers`),this.delayedAudioAppendQueue_.length=0,l.forEach(c=>{this.appendBuffer.apply(this,c)})}}audioBuffered(){return dl(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:Ts()}videoBuffered(){return dl(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:Ts()}buffered(){const e=dl(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,n=dl(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return n&&!e?this.audioBuffered():e&&!n?this.videoBuffered():fue(this.audioBuffered(),this.videoBuffered())}setDuration(e,n=sc){aa({type:"mediaSource",sourceUpdater:this,action:ia.duration(e),name:"duration",doneFn:n})}endOfStream(e=null,n=sc){typeof e!="string"&&(e=void 0),aa({type:"mediaSource",sourceUpdater:this,action:ia.endOfStream(e),name:"endOfStream",doneFn:n})}removeAudio(e,n,r=sc){if(!this.audioBuffered().length||this.audioBuffered().end(0)===0){r();return}aa({type:"audio",sourceUpdater:this,action:ia.remove(e,n),doneFn:r,name:"remove"})}removeVideo(e,n,r=sc){if(!this.videoBuffered().length||this.videoBuffered().end(0)===0){r();return}aa({type:"video",sourceUpdater:this,action:ia.remove(e,n),doneFn:r,name:"remove"})}updating(){return!!(US("audio",this)||US("video",this))}audioTimestampOffset(e){return typeof e<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(aa({type:"audio",sourceUpdater:this,action:ia.timestampOffset(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_}videoTimestampOffset(e){return typeof e<"u"&&this.videoBuffer&&this.videoTimestampOffset_!==e&&(aa({type:"video",sourceUpdater:this,action:ia.timestampOffset(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_}audioQueueCallback(e){this.audioBuffer&&aa({type:"audio",sourceUpdater:this,action:ia.callback(e),name:"callback"})}videoQueueCallback(e){this.videoBuffer&&aa({type:"video",sourceUpdater:this,action:ia.callback(e),name:"callback"})}dispose(){this.trigger("dispose"),Qde.forEach(e=>{this.abort(e),this.canRemoveSourceBuffer()?this.removeSourceBuffer(e):this[`${e}QueueCallback`](()=>B8(e,this))}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()}}const G5=t=>decodeURIComponent(escape(String.fromCharCode.apply(null,t))),Jde=t=>{const e=new Uint8Array(t);return Array.from(e).map(n=>n.toString(16).padStart(2,"0")).join("")},K5=new Uint8Array(`

`.split("").map(t=>t.charCodeAt(0)));class ehe extends Error{constructor(){super("Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")}}class the extends zS{constructor(e,n={}){super(e,n),this.mediaSource_=null,this.subtitlesTrack_=null,this.featuresNativeTextTracks_=e.featuresNativeTextTracks,this.loadVttJs=e.loadVttJs,this.shouldSaveSegmentTimingInfo_=!1}buffered_(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return Ts();const e=this.subtitlesTrack_.cues,n=e[0].startTime,r=e[e.length-1].startTime;return Ts([[n,r]])}initSegmentForMap(e,n=!1){if(!e)return null;const r=yx(e);let s=this.initSegments_[r];if(n&&!s&&e.bytes){const i=K5.byteLength+e.bytes.byteLength,a=new Uint8Array(i);a.set(e.bytes),a.set(K5,e.bytes.byteLength),this.initSegments_[r]=s={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:a}}return s||e}couldBeginLoading_(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}track(e){return typeof e>"u"?this.subtitlesTrack_:(this.subtitlesTrack_=e,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}remove(e,n){zm(e,n,this.subtitlesTrack_)}fillBuffer_(){const e=this.chooseNextRequest_();if(e){if(this.syncController_.timestampOffsetForTimeline(e.timeline)===null){const n=()=>{this.state="READY",this.paused()||this.monitorBuffer_()};this.syncController_.one("timestampoffset",n),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(e)}}timestampOffsetForSegment_(){return null}chooseNextRequest_(){return this.skipEmptySegments_(super.chooseNextRequest_())}skipEmptySegments_(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e}stopForError(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")}segmentRequestFinished_(e,n,r){if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(n.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(e){e.code===bl.TIMEOUT&&this.handleTimeout_(),e.code===bl.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(e);return}const s=this.pendingSegment_,i=r.mp4VttCues&&r.mp4VttCues.length;i&&(s.mp4VttCues=r.mp4VttCues),this.saveBandwidthRelatedStats_(s.duration,n.stats),n.key&&this.segmentKey(n.key,!0),this.state="APPENDING",this.trigger("appending");const a=s.segment;if(a.map&&(a.map.bytes=n.map.bytes),s.bytes=n.bytes,typeof De.WebVTT!="function"&&typeof this.loadVttJs=="function"){this.state="WAITING_ON_VTTJS",this.loadVttJs().then(()=>this.segmentRequestFinished_(e,n,r),()=>this.stopForError({message:"Error loading vtt.js"}));return}a.requested=!0;try{this.parseVTTCues_(s)}catch(l){this.stopForError({message:l.message,metadata:{errorType:tt.Error.StreamingVttParserError,error:l}});return}if(i||this.updateTimeMapping_(s,this.syncController_.timelines[s.timeline],this.playlist_),s.cues.length?s.timingInfo={start:s.cues[0].startTime,end:s.cues[s.cues.length-1].endTime}:s.timingInfo={start:s.startOfSegment,end:s.startOfSegment+s.duration},s.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}s.byteLength=s.bytes.byteLength,this.mediaSecondsLoaded+=a.duration,s.cues.forEach(l=>{this.subtitlesTrack_.addCue(this.featuresNativeTextTracks_?new De.VTTCue(l.startTime,l.endTime,l.text):l)}),Lde(this.subtitlesTrack_),this.handleAppendsDone_()}handleData_(e,n){const r=e&&e.type==="vtt",s=n&&n.type==="text";r&&s&&super.handleData_(e,n)}updateTimingInfoEnd_(){}parseMp4VttCues_(e){const n=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();e.mp4VttCues.forEach(r=>{const s=r.start+n,i=r.end+n,a=new De.VTTCue(s,i,r.cueText);r.settings&&r.settings.split(" ").forEach(l=>{const c=l.split(":"),u=c[0],h=c[1];a[u]=isNaN(h)?h:Number(h)}),e.cues.push(a)})}parseVTTCues_(e){let n,r=!1;if(typeof De.WebVTT!="function")throw new ehe;if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},e.mp4VttCues){this.parseMp4VttCues_(e);return}typeof De.TextDecoder=="function"?n=new De.TextDecoder("utf8"):(n=De.WebVTT.StringDecoder(),r=!0);const s=new De.WebVTT.Parser(De,De.vttjs,n);if(s.oncue=e.cues.push.bind(e.cues),s.ontimestampmap=a=>{e.timestampmap=a},s.onparsingerror=a=>{tt.log.warn("Error encountered when parsing cues: "+a.message)},e.segment.map){let a=e.segment.map.bytes;r&&(a=G5(a)),s.parse(a)}let i=e.bytes;r&&(i=G5(i)),s.parse(i),s.flush()}updateTimeMapping_(e,n,r){const s=e.segment;if(!n)return;if(!e.cues.length){s.empty=!0;return}const{MPEGTS:i,LOCAL:a}=e.timestampmap,c=i/Id.ONE_SECOND_IN_TS-a+n.mapping;if(e.cues.forEach(u=>{const h=u.endTime-u.startTime,f=this.handleRollover_(u.startTime+c,n.time);u.startTime=Math.max(f,0),u.endTime=Math.max(f+h,0)}),!r.syncInfo){const u=e.cues[0].startTime,h=e.cues[e.cues.length-1].startTime;r.syncInfo={mediaSequence:r.mediaSequence+e.mediaIndex,time:Math.min(u,h-s.duration)}}}handleRollover_(e,n){if(n===null)return e;let r=e*Id.ONE_SECOND_IN_TS;const s=n*Id.ONE_SECOND_IN_TS;let i;for(s<r?i=-8589934592:i=8589934592;Math.abs(r-s)>4294967296;)r+=i;return r/Id.ONE_SECOND_IN_TS}}const nhe=function(t,e){const n=t.cues;for(let r=0;r<n.length;r++){const s=n[r];if(e>=s.adStartTime&&e<=s.adEndTime)return s}return null},rhe=function(t,e,n=0){if(!t.segments)return;let r=n,s;for(let i=0;i<t.segments.length;i++){const a=t.segments[i];if(s||(s=nhe(e,r+a.duration/2)),s){if("cueIn"in a){s.endTime=r,s.adEndTime=r,r+=a.duration,s=null;continue}if(r<s.endTime){r+=a.duration;continue}s.endTime+=a.duration}else if("cueOut"in a&&(s=new De.VTTCue(r,r+a.duration,a.cueOut),s.adStartTime=r,s.adEndTime=r+parseFloat(a.cueOut),e.addCue(s)),"cueOutCont"in a){const[l,c]=a.cueOutCont.split("/").map(parseFloat);s=new De.VTTCue(r,r+a.duration,""),s.adStartTime=r-l,s.adEndTime=s.adStartTime+c,e.addCue(s)}r+=a.duration}};class X5{constructor({start:e,end:n,segmentIndex:r,partIndex:s=null,appended:i=!1}){this.start_=e,this.end_=n,this.segmentIndex_=r,this.partIndex_=s,this.appended_=i}isInRange(e){return e>=this.start&&e<this.end}markAppended(){this.appended_=!0}resetAppendedStatus(){this.appended_=!1}get isAppended(){return this.appended_}get start(){return this.start_}get end(){return this.end_}get segmentIndex(){return this.segmentIndex_}get partIndex(){return this.partIndex_}}class she{constructor(e,n=[]){this.segmentSyncInfo_=e,this.partsSyncInfo_=n}get segmentSyncInfo(){return this.segmentSyncInfo_}get partsSyncInfo(){return this.partsSyncInfo_}get hasPartsSyncInfo(){return this.partsSyncInfo_.length>0}resetAppendStatus(){this.segmentSyncInfo_.resetAppendedStatus(),this.partsSyncInfo_.forEach(e=>e.resetAppendedStatus())}}class z8{constructor(){this.storage_=new Map,this.diagnostics_="",this.isReliable_=!1,this.start_=-1/0,this.end_=1/0}get start(){return this.start_}get end(){return this.end_}get diagnostics(){return this.diagnostics_}get isReliable(){return this.isReliable_}resetAppendedStatus(){this.storage_.forEach(e=>e.resetAppendStatus())}update(e,n){const{mediaSequence:r,segments:s}=e;if(this.isReliable_=this.isReliablePlaylist_(r,s),!!this.isReliable_)return this.updateStorage_(s,r,this.calculateBaseTime_(r,s,n))}getSyncInfoForTime(e){for(const{segmentSyncInfo:n,partsSyncInfo:r}of this.storage_.values())if(r.length){for(const s of r)if(s.isInRange(e))return s}else if(n.isInRange(e))return n;return null}getSyncInfoForMediaSequence(e){return this.storage_.get(e)}updateStorage_(e,n,r){const s=new Map;let i=`
`,a=r,l=n;this.start_=a,e.forEach((c,u)=>{const h=this.storage_.get(l),f=a,m=f+c.duration,g=!!(h&&h.segmentSyncInfo&&h.segmentSyncInfo.isAppended),b=new X5({start:f,end:m,appended:g,segmentIndex:u});c.syncInfo=b;let y=a;const x=(c.parts||[]).map((_,S)=>{const T=y,D=y+_.duration,j=!!(h&&h.partsSyncInfo&&h.partsSyncInfo[S]&&h.partsSyncInfo[S].isAppended),A=new X5({start:T,end:D,appended:j,segmentIndex:u,partIndex:S});return y=D,i+=`Media Sequence: ${l}.${S} | Range: ${T} --> ${D} | Appended: ${j}
`,_.syncInfo=A,A});s.set(l,new she(b,x)),i+=`${L8(c.resolvedUri)} | Media Sequence: ${l} | Range: ${f} --> ${m} | Appended: ${g}
`,l++,a=m}),this.end_=a,this.storage_=s,this.diagnostics_=i}calculateBaseTime_(e,n,r){if(!this.storage_.size)return 0;if(this.storage_.has(e))return this.storage_.get(e).segmentSyncInfo.start;const s=Math.min(...this.storage_.keys());if(e<s){const i=s-e;let a=this.storage_.get(s).segmentSyncInfo.start;for(let l=0;l<i;l++){const c=n[l];a-=c.duration}return a}return r}isReliablePlaylist_(e,n){return e!=null&&Array.isArray(n)&&n.length}}class Q5 extends z8{constructor(e){super(),this.parent_=e}calculateBaseTime_(e,n,r){if(!this.storage_.size){const s=this.parent_.getSyncInfoForMediaSequence(e);return s?s.segmentSyncInfo.start:0}return super.calculateBaseTime_(e,n,r)}}const ihe=86400,$w=[{name:"VOD",run:(t,e,n,r,s)=>n!==1/0?{time:0,segmentIndex:0,partIndex:null}:null},{name:"MediaSequence",run:(t,e,n,r,s,i)=>{const a=t.getMediaSequenceSync(i);if(!a||!a.isReliable)return null;const l=a.getSyncInfoForTime(s);return l?{time:l.start,partIndex:l.partIndex,segmentIndex:l.segmentIndex}:null}},{name:"ProgramDateTime",run:(t,e,n,r,s)=>{if(!Object.keys(t.timelineToDatetimeMappings).length)return null;let i=null,a=null;const l=PS(e);s=s||0;for(let c=0;c<l.length;c++){const u=e.endList||s===0?c:l.length-(c+1),h=l[u],f=h.segment,m=t.timelineToDatetimeMappings[f.timeline];if(!m||!f.dateTimeObject)continue;let b=f.dateTimeObject.getTime()/1e3+m;if(f.parts&&typeof h.partIndex=="number")for(let x=0;x<h.partIndex;x++)b+=f.parts[x].duration;const y=Math.abs(s-b);if(a!==null&&(y===0||a<y))break;a=y,i={time:b,segmentIndex:h.segmentIndex,partIndex:h.partIndex}}return i}},{name:"Segment",run:(t,e,n,r,s)=>{let i=null,a=null;s=s||0;const l=PS(e);for(let c=0;c<l.length;c++){const u=e.endList||s===0?c:l.length-(c+1),h=l[u],f=h.segment,m=h.part&&h.part.start||f&&f.start;if(f.timeline===r&&typeof m<"u"){const g=Math.abs(s-m);if(a!==null&&a<g)break;(!i||a===null||a>=g)&&(a=g,i={time:m,segmentIndex:h.segmentIndex,partIndex:h.partIndex})}}return i}},{name:"Discontinuity",run:(t,e,n,r,s)=>{let i=null;if(s=s||0,e.discontinuityStarts&&e.discontinuityStarts.length){let a=null;for(let l=0;l<e.discontinuityStarts.length;l++){const c=e.discontinuityStarts[l],u=e.discontinuitySequence+l+1,h=t.discontinuities[u];if(h){const f=Math.abs(s-h.time);if(a!==null&&a<f)break;(!i||a===null||a>=f)&&(a=f,i={time:h.time,segmentIndex:c,partIndex:null})}}}return i}},{name:"Playlist",run:(t,e,n,r,s)=>e.syncInfo?{time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence,partIndex:null}:null}];class ahe extends tt.EventTarget{constructor(e={}){super(),this.timelines=[],this.discontinuities=[],this.timelineToDatetimeMappings={};const n=new z8,r=new Q5(n),s=new Q5(n);this.mediaSequenceStorage_={main:n,audio:r,vtt:s},this.logger_=ro("SyncController")}getMediaSequenceSync(e){return this.mediaSequenceStorage_[e]||null}getSyncPoint(e,n,r,s,i){if(n!==1/0)return $w.find(({name:c})=>c==="VOD").run(this,e,n);const a=this.runStrategies_(e,n,r,s,i);if(!a.length)return null;for(const l of a){const{syncPoint:c,strategy:u}=l,{segmentIndex:h,time:f}=c;if(h<0)continue;const m=e.segments[h],g=f,b=g+m.duration;if(this.logger_(`Strategy: ${u}. Current time: ${s}. selected segment: ${h}. Time: [${g} -> ${b}]}`),s>=g&&s<b)return this.logger_("Found sync point with exact match: ",c),c}return this.selectSyncPoint_(a,{key:"time",value:s})}getExpiredTime(e,n){if(!e||!e.segments)return null;const r=this.runStrategies_(e,n,e.discontinuitySequence,0);if(!r.length)return null;const s=this.selectSyncPoint_(r,{key:"segmentIndex",value:0});return s.segmentIndex>0&&(s.time*=-1),Math.abs(s.time+ng({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:s.segmentIndex,endIndex:0}))}runStrategies_(e,n,r,s,i){const a=[];for(let l=0;l<$w.length;l++){const c=$w[l],u=c.run(this,e,n,r,s,i);u&&(u.strategy=c.name,a.push({strategy:c.name,syncPoint:u}))}return a}selectSyncPoint_(e,n){let r=e[0].syncPoint,s=Math.abs(e[0].syncPoint[n.key]-n.value),i=e[0].strategy;for(let a=1;a<e.length;a++){const l=Math.abs(e[a].syncPoint[n.key]-n.value);l<s&&(s=l,r=e[a].syncPoint,i=e[a].strategy)}return this.logger_(`syncPoint for [${n.key}: ${n.value}] chosen with strategy [${i}]: [time:${r.time}, segmentIndex:${r.segmentIndex}`+(typeof r.partIndex=="number"?`,partIndex:${r.partIndex}`:"")+"]"),r}saveExpiredSegmentInfo(e,n){const r=n.mediaSequence-e.mediaSequence;if(r>ihe){tt.log.warn(`Not saving expired segment info. Media sequence gap ${r} is too large.`);return}for(let s=r-1;s>=0;s--){const i=e.segments[s];if(i&&typeof i.start<"u"){n.syncInfo={mediaSequence:e.mediaSequence+s,time:i.start},this.logger_(`playlist refresh sync: [time:${n.syncInfo.time}, mediaSequence: ${n.syncInfo.mediaSequence}]`),this.trigger("syncinfoupdate");break}}}setDateTimeMappingForStart(e){if(this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject){const n=e.segments[0],r=n.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[n.timeline]=-r}}saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:n}){const r=this.calculateSegmentTimeMapping_(e,e.timingInfo,n),s=e.segment;r&&(this.saveDiscontinuitySyncInfo_(e),e.playlist.syncInfo||(e.playlist.syncInfo={mediaSequence:e.playlist.mediaSequence+e.mediaIndex,time:s.start}));const i=s.dateTimeObject;s.discontinuity&&n&&i&&(this.timelineToDatetimeMappings[s.timeline]=-(i.getTime()/1e3))}timestampOffsetForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].time}mappingForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].mapping}calculateSegmentTimeMapping_(e,n,r){const s=e.segment,i=e.part;let a=this.timelines[e.timeline],l,c;if(typeof e.timestampOffset=="number")a={time:e.startOfSegment,mapping:e.startOfSegment-n.start},r&&(this.timelines[e.timeline]=a,this.trigger("timestampoffset"),this.logger_(`time mapping for timeline ${e.timeline}: [time: ${a.time}] [mapping: ${a.mapping}]`)),l=e.startOfSegment,c=n.end+a.mapping;else if(a)l=n.start+a.mapping,c=n.end+a.mapping;else return!1;return i&&(i.start=l,i.end=c),(!s.start||l<s.start)&&(s.start=l),s.end=c,!0}saveDiscontinuitySyncInfo_(e){const n=e.playlist,r=e.segment;if(r.discontinuity)this.discontinuities[r.timeline]={time:r.start,accuracy:0};else if(n.discontinuityStarts&&n.discontinuityStarts.length)for(let s=0;s<n.discontinuityStarts.length;s++){const i=n.discontinuityStarts[s],a=n.discontinuitySequence+s+1,l=i-e.mediaIndex,c=Math.abs(l);if(!this.discontinuities[a]||this.discontinuities[a].accuracy>c){let u;l<0?u=r.start-ng({defaultDuration:n.targetDuration,durationList:n.segments,startIndex:e.mediaIndex,endIndex:i}):u=r.end+ng({defaultDuration:n.targetDuration,durationList:n.segments,startIndex:e.mediaIndex+1,endIndex:i}),this.discontinuities[a]={time:u,accuracy:c}}}}dispose(){this.trigger("dispose"),this.off()}}class ohe extends tt.EventTarget{constructor(){super(),this.pendingTimelineChanges_={},this.lastTimelineChanges_={}}clearPendingTimelineChange(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")}pendingTimelineChange({type:e,from:n,to:r}){return typeof n=="number"&&typeof r=="number"&&(this.pendingTimelineChanges_[e]={type:e,from:n,to:r},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[e]}lastTimelineChange({type:e,from:n,to:r}){if(typeof n=="number"&&typeof r=="number"){this.lastTimelineChanges_[e]={type:e,from:n,to:r},delete this.pendingTimelineChanges_[e];const s={timelineChangeInfo:{from:n,to:r}};this.trigger({type:"timelinechange",metadata:s})}return this.lastTimelineChanges_[e]}dispose(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()}}const lhe=k8(E8(function(){var t=function(){function y(){this.listeners={}}var x=y.prototype;return x.on=function(S,T){this.listeners[S]||(this.listeners[S]=[]),this.listeners[S].push(T)},x.off=function(S,T){if(!this.listeners[S])return!1;var D=this.listeners[S].indexOf(T);return this.listeners[S]=this.listeners[S].slice(0),this.listeners[S].splice(D,1),D>-1},x.trigger=function(S){var T=this.listeners[S];if(T)if(arguments.length===2)for(var D=T.length,j=0;j<D;++j)T[j].call(this,arguments[1]);else for(var A=Array.prototype.slice.call(arguments,1),O=T.length,L=0;L<O;++L)T[L].apply(this,A)},x.dispose=function(){this.listeners={}},x.pipe=function(S){this.on("data",function(T){S.push(T)})},y}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function e(y){return y.subarray(0,y.byteLength-y[y.byteLength-1])}/*! @name aes-decrypter @version 4.0.2 @license Apache-2.0 */const n=function(){const y=[[[],[],[],[],[]],[[],[],[],[],[]]],x=y[0],_=y[1],S=x[4],T=_[4];let D,j,A;const O=[],L=[];let P,N,U,M,q,E;for(D=0;D<256;D++)L[(O[D]=D<<1^(D>>7)*283)^D]=D;for(j=A=0;!S[j];j^=P||1,A=L[A]||1)for(M=A^A<<1^A<<2^A<<3^A<<4,M=M>>8^M&255^99,S[j]=M,T[M]=j,U=O[N=O[P=O[j]]],E=U*16843009^N*65537^P*257^j*16843008,q=O[M]*257^M*16843008,D=0;D<4;D++)x[D][j]=q=q<<24^q>>>8,_[D][M]=E=E<<24^E>>>8;for(D=0;D<5;D++)x[D]=x[D].slice(0),_[D]=_[D].slice(0);return y};let r=null;class s{constructor(x){r||(r=n()),this._tables=[[r[0][0].slice(),r[0][1].slice(),r[0][2].slice(),r[0][3].slice(),r[0][4].slice()],[r[1][0].slice(),r[1][1].slice(),r[1][2].slice(),r[1][3].slice(),r[1][4].slice()]];let _,S,T;const D=this._tables[0][4],j=this._tables[1],A=x.length;let O=1;if(A!==4&&A!==6&&A!==8)throw new Error("Invalid aes key size");const L=x.slice(0),P=[];for(this._key=[L,P],_=A;_<4*A+28;_++)T=L[_-1],(_%A===0||A===8&&_%A===4)&&(T=D[T>>>24]<<24^D[T>>16&255]<<16^D[T>>8&255]<<8^D[T&255],_%A===0&&(T=T<<8^T>>>24^O<<24,O=O<<1^(O>>7)*283)),L[_]=L[_-A]^T;for(S=0;_;S++,_--)T=L[S&3?_:_-4],_<=4||S<4?P[S]=T:P[S]=j[0][D[T>>>24]]^j[1][D[T>>16&255]]^j[2][D[T>>8&255]]^j[3][D[T&255]]}decrypt(x,_,S,T,D,j){const A=this._key[1];let O=x^A[0],L=T^A[1],P=S^A[2],N=_^A[3],U,M,q;const E=A.length/4-2;let G,Q=4;const re=this._tables[1],ee=re[0],Z=re[1],K=re[2],F=re[3],W=re[4];for(G=0;G<E;G++)U=ee[O>>>24]^Z[L>>16&255]^K[P>>8&255]^F[N&255]^A[Q],M=ee[L>>>24]^Z[P>>16&255]^K[N>>8&255]^F[O&255]^A[Q+1],q=ee[P>>>24]^Z[N>>16&255]^K[O>>8&255]^F[L&255]^A[Q+2],N=ee[N>>>24]^Z[O>>16&255]^K[L>>8&255]^F[P&255]^A[Q+3],Q+=4,O=U,L=M,P=q;for(G=0;G<4;G++)D[(3&-G)+j]=W[O>>>24]<<24^W[L>>16&255]<<16^W[P>>8&255]<<8^W[N&255]^A[Q++],U=O,O=L,L=P,P=N,N=U}}class i extends t{constructor(){super(t),this.jobs=[],this.delay=1,this.timeout_=null}processJob_(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}push(x){this.jobs.push(x),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}const a=function(y){return y<<24|(y&65280)<<8|(y&16711680)>>8|y>>>24},l=function(y,x,_){const S=new Int32Array(y.buffer,y.byteOffset,y.byteLength>>2),T=new s(Array.prototype.slice.call(x)),D=new Uint8Array(y.byteLength),j=new Int32Array(D.buffer);let A,O,L,P,N,U,M,q,E;for(A=_[0],O=_[1],L=_[2],P=_[3],E=0;E<S.length;E+=4)N=a(S[E]),U=a(S[E+1]),M=a(S[E+2]),q=a(S[E+3]),T.decrypt(N,U,M,q,j,E),j[E]=a(j[E]^A),j[E+1]=a(j[E+1]^O),j[E+2]=a(j[E+2]^L),j[E+3]=a(j[E+3]^P),A=N,O=U,L=M,P=q;return D};class c{constructor(x,_,S,T){const D=c.STEP,j=new Int32Array(x.buffer),A=new Uint8Array(x.byteLength);let O=0;for(this.asyncStream_=new i,this.asyncStream_.push(this.decryptChunk_(j.subarray(O,O+D),_,S,A)),O=D;O<j.length;O+=D)S=new Uint32Array([a(j[O-4]),a(j[O-3]),a(j[O-2]),a(j[O-1])]),this.asyncStream_.push(this.decryptChunk_(j.subarray(O,O+D),_,S,A));this.asyncStream_.push(function(){T(null,e(A))})}static get STEP(){return 32e3}decryptChunk_(x,_,S,T){return function(){const D=l(x,_,S);T.set(D,x.byteOffset)}}}var u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},h;typeof window<"u"?h=window:typeof u<"u"?h=u:typeof self<"u"?h=self:h={};var f=h,m=function(x){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(x):x&&x.buffer instanceof ArrayBuffer},g=f.BigInt||Number;g("0x1"),g("0x100"),g("0x10000"),g("0x1000000"),g("0x100000000"),g("0x10000000000"),g("0x1000000000000"),g("0x100000000000000"),g("0x10000000000000000"),function(){var y=new Uint16Array([65484]),x=new Uint8Array(y.buffer,y.byteOffset,y.byteLength);return x[0]===255?"big":x[0]===204?"little":"unknown"}();const b=function(y){const x={};return Object.keys(y).forEach(_=>{const S=y[_];m(S)?x[_]={bytes:S.buffer,byteOffset:S.byteOffset,byteLength:S.byteLength}:x[_]=S}),x};self.onmessage=function(y){const x=y.data,_=new Uint8Array(x.encrypted.bytes,x.encrypted.byteOffset,x.encrypted.byteLength),S=new Uint32Array(x.key.bytes,x.key.byteOffset,x.key.byteLength/4),T=new Uint32Array(x.iv.bytes,x.iv.byteOffset,x.iv.byteLength/4);new c(_,S,T,function(D,j){self.postMessage(b({source:x.source,decrypted:j}),[j.buffer])})}}));var che=T8(lhe);const uhe=t=>{let e=t.default?"main":"alternative";return t.characteristics&&t.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},U8=(t,e)=>{t.abort(),t.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)},HS=(t,e)=>{e.activePlaylistLoader=t,t.load()},dhe=(t,e)=>()=>{const{segmentLoaders:{[t]:n,main:r},mediaTypes:{[t]:s}}=e,i=s.activeTrack(),a=s.getActiveGroup(),l=s.activePlaylistLoader,c=s.lastGroup_;if(!(a&&c&&a.id===c.id)&&(s.lastGroup_=a,s.lastTrack_=i,U8(n,s),!(!a||a.isMainPlaylist))){if(!a.playlistLoader){l&&r.resetEverything();return}n.resyncLoader(),HS(a.playlistLoader,s)}},hhe=(t,e)=>()=>{const{segmentLoaders:{[t]:n},mediaTypes:{[t]:r}}=e;r.lastGroup_=null,n.abort(),n.pause()},fhe=(t,e)=>()=>{const{mainPlaylistLoader:n,segmentLoaders:{[t]:r,main:s},mediaTypes:{[t]:i}}=e,a=i.activeTrack(),l=i.getActiveGroup(),c=i.activePlaylistLoader,u=i.lastTrack_;if(!(u&&a&&u.id===a.id)&&(i.lastGroup_=l,i.lastTrack_=a,U8(r,i),!!l)){if(l.isMainPlaylist){if(!a||!u||a.id===u.id)return;const h=e.vhs.playlistController_,f=h.selectPlaylist();if(h.media()===f)return;i.logger_(`track change. Switching main audio from ${u.id} to ${a.id}`),n.pause(),s.resetEverything(),h.fastQualityChange_(f);return}if(t==="AUDIO"){if(!l.playlistLoader){s.setAudio(!0),s.resetEverything();return}r.setAudio(!0),s.setAudio(!1)}if(c===l.playlistLoader){HS(l.playlistLoader,i);return}r.track&&r.track(a),r.resetEverything(),HS(l.playlistLoader,i)}},bx={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:n},excludePlaylist:r}=e,s=n.activeTrack(),i=n.activeGroup(),a=(i.filter(c=>c.default)[0]||i[0]).id,l=n.tracks[a];if(s===l){r({error:{message:"Problem encountered loading the default audio track."}});return}tt.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(const c in n.tracks)n.tracks[c].enabled=n.tracks[c]===l;n.onTrackChanged()},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:n}}=e;tt.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track.");const r=n.activeTrack();r&&(r.mode="disabled"),n.onTrackChanged()}},Z5={AUDIO:(t,e,n)=>{if(!e)return;const{tech:r,requestOptions:s,segmentLoaders:{[t]:i}}=n;e.on("loadedmetadata",()=>{const a=e.media();i.playlist(a,s),(!r.paused()||a.endList&&r.preload()!=="none")&&i.load()}),e.on("loadedplaylist",()=>{i.playlist(e.media(),s),r.paused()||i.load()}),e.on("error",bx[t](t,n))},SUBTITLES:(t,e,n)=>{const{tech:r,requestOptions:s,segmentLoaders:{[t]:i},mediaTypes:{[t]:a}}=n;e.on("loadedmetadata",()=>{const l=e.media();i.playlist(l,s),i.track(a.activeTrack()),(!r.paused()||l.endList&&r.preload()!=="none")&&i.load()}),e.on("loadedplaylist",()=>{i.playlist(e.media(),s),r.paused()||i.load()}),e.on("error",bx[t](t,n))}},phe={AUDIO:(t,e)=>{const{vhs:n,sourceType:r,segmentLoaders:{[t]:s},requestOptions:i,main:{mediaGroups:a},mediaTypes:{[t]:{groups:l,tracks:c,logger_:u}},mainPlaylistLoader:h}=e,f=x0(h.main);(!a[t]||Object.keys(a[t]).length===0)&&(a[t]={main:{default:{default:!0}}},f&&(a[t].main.default.playlists=h.main.playlists));for(const m in a[t]){l[m]||(l[m]=[]);for(const g in a[t][m]){let b=a[t][m][g],y;if(f?(u(`AUDIO group '${m}' label '${g}' is a main playlist`),b.isMainPlaylist=!0,y=null):r==="vhs-json"&&b.playlists?y=new gf(b.playlists[0],n,i):b.resolvedUri?y=new gf(b.resolvedUri,n,i):b.playlists&&r==="dash"?y=new FS(b.playlists[0],n,i,h):y=null,b=ir({id:g,playlistLoader:y},b),Z5[t](t,b.playlistLoader,e),l[m].push(b),typeof c[g]>"u"){const x=new tt.AudioTrack({id:g,kind:uhe(b),enabled:!1,language:b.language,default:b.default,label:g});c[g]=x}}}s.on("error",bx[t](t,e))},SUBTITLES:(t,e)=>{const{tech:n,vhs:r,sourceType:s,segmentLoaders:{[t]:i},requestOptions:a,main:{mediaGroups:l},mediaTypes:{[t]:{groups:c,tracks:u}},mainPlaylistLoader:h}=e;for(const f in l[t]){c[f]||(c[f]=[]);for(const m in l[t][f]){if(!r.options_.useForcedSubtitles&&l[t][f][m].forced)continue;let g=l[t][f][m],b;if(s==="hls")b=new gf(g.resolvedUri,r,a);else if(s==="dash"){if(!g.playlists.filter(x=>x.excludeUntil!==1/0).length)return;b=new FS(g.playlists[0],r,a,h)}else s==="vhs-json"&&(b=new gf(g.playlists?g.playlists[0]:g.resolvedUri,r,a));if(g=ir({id:m,playlistLoader:b},g),Z5[t](t,g.playlistLoader,e),c[f].push(g),typeof u[m]>"u"){const y=n.addRemoteTextTrack({id:m,kind:"subtitles",default:g.default&&g.autoselect,language:g.language,label:m},!1).track;u[m]=y}}}i.on("error",bx[t](t,e))},"CLOSED-CAPTIONS":(t,e)=>{const{tech:n,main:{mediaGroups:r},mediaTypes:{[t]:{groups:s,tracks:i}}}=e;for(const a in r[t]){s[a]||(s[a]=[]);for(const l in r[t][a]){const c=r[t][a][l];if(!/^(?:CC|SERVICE)/.test(c.instreamId))continue;const u=n.options_.vhs&&n.options_.vhs.captionServices||{};let h={label:l,language:c.language,instreamId:c.instreamId,default:c.default&&c.autoselect};if(u[h.instreamId]&&(h=ir(h,u[h.instreamId])),h.default===void 0&&delete h.default,s[a].push(ir({id:l},c)),typeof i[l]>"u"){const f=n.addRemoteTextTrack({id:h.instreamId,kind:"captions",default:h.default,language:h.language,label:h.label},!1).track;i[l]=f}}}}},H8=(t,e)=>{for(let n=0;n<t.length;n++)if($k(e,t[n])||t[n].playlists&&H8(t[n].playlists,e))return!0;return!1},mhe=(t,e)=>n=>{const{mainPlaylistLoader:r,mediaTypes:{[t]:{groups:s}}}=e,i=r.media();if(!i)return null;let a=null;i.attributes[t]&&(a=s[i.attributes[t]]);const l=Object.keys(s);if(!a)if(t==="AUDIO"&&l.length>1&&x0(e.main))for(let c=0;c<l.length;c++){const u=s[l[c]];if(H8(u,i)){a=u;break}}else s.main?a=s.main:l.length===1&&(a=s[l[0]]);return typeof n>"u"?a:n===null||!a?null:a.filter(c=>c.id===n.id)[0]||null},ghe={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:n}}}=e;for(const r in n)if(n[r].enabled)return n[r];return null},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:n}}}=e;for(const r in n)if(n[r].mode==="showing"||n[r].mode==="hidden")return n[r];return null}},yhe=(t,{mediaTypes:e})=>()=>{const n=e[t].activeTrack();return n?e[t].activeGroup(n):null},bhe=t=>{["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(u=>{phe[u](u,t)});const{mediaTypes:e,mainPlaylistLoader:n,tech:r,vhs:s,segmentLoaders:{["AUDIO"]:i,main:a}}=t;["AUDIO","SUBTITLES"].forEach(u=>{e[u].activeGroup=mhe(u,t),e[u].activeTrack=ghe[u](u,t),e[u].onGroupChanged=dhe(u,t),e[u].onGroupChanging=hhe(u,t),e[u].onTrackChanged=fhe(u,t),e[u].getActiveGroup=yhe(u,t)});const l=e.AUDIO.activeGroup();if(l){const u=(l.filter(f=>f.default)[0]||l[0]).id;e.AUDIO.tracks[u].enabled=!0,e.AUDIO.onGroupChanged(),e.AUDIO.onTrackChanged(),e.AUDIO.getActiveGroup().playlistLoader?(a.setAudio(!1),i.setAudio(!0)):a.setAudio(!0)}n.on("mediachange",()=>{["AUDIO","SUBTITLES"].forEach(u=>e[u].onGroupChanged())}),n.on("mediachanging",()=>{["AUDIO","SUBTITLES"].forEach(u=>e[u].onGroupChanging())});const c=()=>{e.AUDIO.onTrackChanged(),r.trigger({type:"usage",name:"vhs-audio-change"})};r.audioTracks().addEventListener("change",c),r.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),s.on("dispose",()=>{r.audioTracks().removeEventListener("change",c),r.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)}),r.clearTracks("audio");for(const u in e.AUDIO.tracks)r.audioTracks().addTrack(e.AUDIO.tracks[u])},xhe=()=>{const t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:sc,activeTrack:sc,getActiveGroup:sc,onGroupChanged:sc,onTrackChanged:sc,lastTrack_:null,logger_:ro(`MediaGroups[${e}]`)}}),t};class J5{constructor(){this.priority_=[],this.pathwayClones_=new Map}set version(e){e===1&&(this.version_=e)}set ttl(e){this.ttl_=e||300}set reloadUri(e){e&&(this.reloadUri_=$i(this.reloadUri_,e))}set priority(e){e&&e.length&&(this.priority_=e)}set pathwayClones(e){e&&e.length&&(this.pathwayClones_=new Map(e.map(n=>[n.ID,n])))}get version(){return this.version_}get ttl(){return this.ttl_}get reloadUri(){return this.reloadUri_}get priority(){return this.priority_}get pathwayClones(){return this.pathwayClones_}}class vhe extends tt.EventTarget{constructor(e,n){super(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=!1,this.availablePathways_=new Set,this.steeringManifest=new J5,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.currentPathwayClones=new Map,this.nextPathwayClones=new Map,this.excludedSteeringManifestURLs=new Set,this.logger_=ro("Content Steering"),this.xhr_=e,this.getBandwidth_=n}assignTagProperties(e,n){this.manifestType_=n.serverUri?"HLS":"DASH";const r=n.serverUri||n.serverURL;if(!r){this.logger_(`steering manifest URL is ${r}, cannot request steering manifest.`),this.trigger("error");return}if(r.startsWith("data:")){this.decodeDataUriManifest_(r.substring(r.indexOf(",")+1));return}this.steeringManifest.reloadUri=$i(e,r),this.defaultPathway=n.pathwayId||n.defaultServiceLocation,this.queryBeforeStart=n.queryBeforeStart,this.proxyServerUrl_=n.proxyServerURL,this.defaultPathway&&!this.queryBeforeStart&&this.trigger("content-steering")}requestSteeringManifest(e){const n=this.steeringManifest.reloadUri;if(!n)return;const r=e?n:this.getRequestURI(n);if(!r){this.logger_("No valid content steering manifest URIs. Stopping content steering."),this.trigger("error"),this.dispose();return}const s={contentSteeringInfo:{uri:r}};this.trigger({type:"contentsteeringloadstart",metadata:s}),this.request_=this.xhr_({uri:r,requestType:"content-steering-manifest"},(i,a)=>{if(i){if(a.status===410){this.logger_(`manifest request 410 ${i}.`),this.logger_(`There will be no more content steering requests to ${r} this session.`),this.excludedSteeringManifestURLs.add(r);return}if(a.status===429){const u=a.responseHeaders["retry-after"];this.logger_(`manifest request 429 ${i}.`),this.logger_(`content steering will retry in ${u} seconds.`),this.startTTLTimeout_(parseInt(u,10));return}this.logger_(`manifest failed to load ${i}.`),this.startTTLTimeout_();return}this.trigger({type:"contentsteeringloadcomplete",metadata:s});let l;try{l=JSON.parse(this.request_.responseText)}catch(u){const h={errorType:tt.Error.StreamingContentSteeringParserError,error:u};this.trigger({type:"error",metadata:h})}this.assignSteeringProperties_(l);const c={contentSteeringInfo:s.contentSteeringInfo,contentSteeringManifest:{version:this.steeringManifest.version,reloadUri:this.steeringManifest.reloadUri,priority:this.steeringManifest.priority}};this.trigger({type:"contentsteeringparsed",metadata:c}),this.startTTLTimeout_()})}setProxyServerUrl_(e){const n=new De.URL(e),r=new De.URL(this.proxyServerUrl_);return r.searchParams.set("url",encodeURI(n.toString())),this.setSteeringParams_(r.toString())}decodeDataUriManifest_(e){const n=JSON.parse(De.atob(e));this.assignSteeringProperties_(n)}setSteeringParams_(e){const n=new De.URL(e),r=this.getPathway(),s=this.getBandwidth_();if(r){const i=`_${this.manifestType_}_pathway`;n.searchParams.set(i,r)}if(s){const i=`_${this.manifestType_}_throughput`;n.searchParams.set(i,s)}return n.toString()}assignSteeringProperties_(e){if(this.steeringManifest.version=e.VERSION,!this.steeringManifest.version){this.logger_(`manifest version is ${e.VERSION}, which is not supported.`),this.trigger("error");return}this.steeringManifest.ttl=e.TTL,this.steeringManifest.reloadUri=e["RELOAD-URI"],this.steeringManifest.priority=e["PATHWAY-PRIORITY"]||e["SERVICE-LOCATION-PRIORITY"],this.steeringManifest.pathwayClones=e["PATHWAY-CLONES"],this.nextPathwayClones=this.steeringManifest.pathwayClones,this.availablePathways_.size||(this.logger_("There are no available pathways for content steering. Ending content steering."),this.trigger("error"),this.dispose());const r=(s=>{for(const i of s)if(this.availablePathways_.has(i))return i;return[...this.availablePathways_][0]})(this.steeringManifest.priority);this.currentPathway!==r&&(this.currentPathway=r,this.trigger("content-steering"))}getPathway(){return this.currentPathway||this.defaultPathway}getRequestURI(e){if(!e)return null;const n=s=>this.excludedSteeringManifestURLs.has(s);if(this.proxyServerUrl_){const s=this.setProxyServerUrl_(e);if(!n(s))return s}const r=this.setSteeringParams_(e);return n(r)?null:r}startTTLTimeout_(e=this.steeringManifest.ttl){const n=e*1e3;this.ttlTimeout_=De.setTimeout(()=>{this.requestSteeringManifest()},n)}clearTTLTimeout_(){De.clearTimeout(this.ttlTimeout_),this.ttlTimeout_=null}abort(){this.request_&&this.request_.abort(),this.request_=null}dispose(){this.off("content-steering"),this.off("error"),this.abort(),this.clearTTLTimeout_(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=null,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.excludedSteeringManifestURLs=new Set,this.availablePathways_=new Set,this.steeringManifest=new J5}addAvailablePathway(e){e&&this.availablePathways_.add(e)}clearAvailablePathways(){this.availablePathways_.clear()}excludePathway(e){return this.availablePathways_.delete(e)}didDASHTagChange(e,n){return!n&&this.steeringManifest.reloadUri||n&&($i(e,n.serverURL)!==this.steeringManifest.reloadUri||n.defaultServiceLocation!==this.defaultPathway||n.queryBeforeStart!==this.queryBeforeStart||n.proxyServerURL!==this.proxyServerUrl_)}getAvailablePathways(){return this.availablePathways_}}const _he=(t,e)=>{let n=null;return(...r)=>{clearTimeout(n),n=setTimeout(()=>{t.apply(null,r)},e)}},whe=10;let iu;const She=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],Che=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]},The=function({currentPlaylist:t,buffered:e,currentTime:n,nextPlaylist:r,bufferLowWaterLine:s,bufferHighWaterLine:i,duration:a,bufferBasedABR:l,log:c}){if(!r)return tt.log.warn("We received no playlist to switch to. Please check your stream."),!1;const u=`allowing switch ${t&&t.id||"null"} -> ${r.id}`;if(!t)return c(`${u} as current playlist is not set`),!0;if(r.id===t.id)return!1;const h=!!mf(e,n).length;if(!t.endList)return!h&&typeof t.partTargetDuration=="number"?(c(`not ${u} as current playlist is live llhls, but currentTime isn't in buffered.`),!1):(c(`${u} as current playlist is live`),!0);const f=Lk(e,n),m=l?_s.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:_s.MAX_BUFFER_LOW_WATER_LINE;if(a<m)return c(`${u} as duration < max low water line (${a} < ${m})`),!0;const g=r.attributes.BANDWIDTH,b=t.attributes.BANDWIDTH;if(g<b&&(!l||f<i)){let y=`${u} as next bandwidth < current bandwidth (${g} < ${b})`;return l&&(y+=` and forwardBuffer < bufferHighWaterLine (${f} < ${i})`),c(y),!0}if((!l||g>b)&&f>=s){let y=`${u} as forwardBuffer >= bufferLowWaterLine (${f} >= ${s})`;return l&&(y+=` and next bandwidth > current bandwidth (${g} > ${b})`),c(y),!0}return c(`not ${u} as no switching criteria met`),!1};class khe extends tt.EventTarget{constructor(e){super(),this.fastQualityChange_=_he(this.fastQualityChange_.bind(this),100);const{src:n,withCredentials:r,tech:s,bandwidth:i,externVhs:a,useCueTags:l,playlistExclusionDuration:c,enableLowInitialPlaylist:u,sourceType:h,cacheEncryptionKeys:f,bufferBasedABR:m,leastPixelDiffSelector:g,captionServices:b,experimentalUseMMS:y}=e;if(!n)throw new Error("A non-empty playlist URL or JSON manifest string is required");let{maxPlaylistRetries:x}=e;(x===null||typeof x>"u")&&(x=1/0),iu=a,this.bufferBasedABR=!!m,this.leastPixelDiffSelector=!!g,this.withCredentials=r,this.tech_=s,this.vhs_=s.vhs,this.player_=e.player_,this.sourceType_=h,this.useCueTags_=l,this.playlistExclusionDuration=c,this.maxPlaylistRetries=x,this.enableLowInitialPlaylist=u,this.usingManagedMediaSource_=!1,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:r,maxPlaylistRetries:x,timeout:null},this.on("error",this.pauseLoading),this.mediaTypes_=xhe(),y&&De.ManagedMediaSource?(this.tech_.el_.disableRemotePlayback=!0,this.mediaSource=new De.ManagedMediaSource,this.usingManagedMediaSource_=!0,tt.log("Using ManagedMediaSource")):De.MediaSource&&(this.mediaSource=new De.MediaSource),this.handleDurationChange_=this.handleDurationChange_.bind(this),this.handleSourceOpen_=this.handleSourceOpen_.bind(this),this.handleSourceEnded_=this.handleSourceEnded_.bind(this),this.load=this.load.bind(this),this.pause=this.pause.bind(this),this.mediaSource.addEventListener("durationchange",this.handleDurationChange_),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.addEventListener("sourceended",this.handleSourceEnded_),this.mediaSource.addEventListener("startstreaming",this.load),this.mediaSource.addEventListener("endstreaming",this.pause),this.seekable_=Ts(),this.hasPlayed_=!1,this.syncController_=new ahe(e),this.segmentMetadataTrack_=s.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.segmentMetadataTrack_.mode="hidden",this.decrypter_=new che,this.sourceUpdater_=new $8(this.mediaSource),this.inbandTextTracks_={},this.timelineChangeController_=new ohe,this.keyStatusMap_=new Map;const _={vhs:this.vhs_,parse708captions:e.parse708captions,useDtsForTimestampOffset:e.useDtsForTimestampOffset,captionServices:b,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:()=>this.seekable(),seeking:()=>this.tech_.seeking(),duration:()=>this.duration(),hasPlayed:()=>this.hasPlayed_,goalBufferLength:()=>this.goalBufferLength(),bandwidth:i,syncController:this.syncController_,decrypter:this.decrypter_,sourceType:this.sourceType_,inbandTextTracks:this.inbandTextTracks_,cacheEncryptionKeys:f,sourceUpdater:this.sourceUpdater_,timelineChangeController:this.timelineChangeController_,exactManifestTimings:e.exactManifestTimings,addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)};this.mainPlaylistLoader_=this.sourceType_==="dash"?new FS(n,this.vhs_,ir(this.requestOptions_,{addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)})):new gf(n,this.vhs_,ir(this.requestOptions_,{addDateRangesToTextTrack:this.addDateRangesToTextTrack_.bind(this)})),this.setupMainPlaylistLoaderListeners_(),this.mainSegmentLoader_=new zS(ir(_,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),e),this.audioSegmentLoader_=new zS(ir(_,{loaderType:"audio"}),e),this.subtitleSegmentLoader_=new the(ir(_,{loaderType:"vtt",featuresNativeTextTracks:this.tech_.featuresNativeTextTracks,loadVttJs:()=>new Promise((D,j)=>{function A(){s.off("vttjserror",O),D()}function O(){s.off("vttjsloaded",A),j()}s.one("vttjsloaded",A),s.one("vttjserror",O),s.addWebVttScript_()})}),e);const S=()=>this.mainSegmentLoader_.bandwidth;this.contentSteeringController_=new vhe(this.vhs_.xhr,S),this.setupSegmentLoaderListeners_(),this.bufferBasedABR&&(this.mainPlaylistLoader_.one("loadedplaylist",()=>this.startABRTimer_()),this.tech_.on("pause",()=>this.stopABRTimer_()),this.tech_.on("play",()=>this.startABRTimer_())),She.forEach(D=>{this[D+"_"]=Che.bind(this,D)}),this.logger_=ro("pc"),this.triggeredFmp4Usage=!1,this.tech_.preload()==="none"?(this.loadOnPlay_=()=>{this.loadOnPlay_=null,this.mainPlaylistLoader_.load()},this.tech_.one("play",this.loadOnPlay_)):this.mainPlaylistLoader_.load(),this.timeToLoadedData__=-1,this.mainAppendsToLoadedData__=-1,this.audioAppendsToLoadedData__=-1;const T=this.tech_.preload()==="none"?"play":"loadstart";this.tech_.one(T,()=>{const D=Date.now();this.tech_.one("loadeddata",()=>{this.timeToLoadedData__=Date.now()-D,this.mainAppendsToLoadedData__=this.mainSegmentLoader_.mediaAppends,this.audioAppendsToLoadedData__=this.audioSegmentLoader_.mediaAppends})})}mainAppendsToLoadedData_(){return this.mainAppendsToLoadedData__}audioAppendsToLoadedData_(){return this.audioAppendsToLoadedData__}appendsToLoadedData_(){const e=this.mainAppendsToLoadedData_(),n=this.audioAppendsToLoadedData_();return e===-1||n===-1?-1:e+n}timeToLoadedData_(){return this.timeToLoadedData__}checkABR_(e="abr"){const n=this.selectPlaylist();n&&this.shouldSwitchToMedia_(n)&&this.switchMedia_(n,e)}switchMedia_(e,n,r){const s=this.media(),i=s&&(s.id||s.uri),a=e&&(e.id||e.uri);if(i&&i!==a){this.logger_(`switch media ${i} -> ${a} from ${n}`);const l={renditionInfo:{id:a,bandwidth:e.attributes.BANDWIDTH,resolution:e.attributes.RESOLUTION,codecs:e.attributes.CODECS},cause:n};this.trigger({type:"renditionselected",metadata:l}),this.tech_.trigger({type:"usage",name:`vhs-rendition-change-${n}`})}this.mainPlaylistLoader_.media(e,r)}switchMediaForDASHContentSteering_(){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{const n=this.mediaTypes_[e],r=n?n.activeGroup():null,s=this.contentSteeringController_.getPathway();if(r&&s){const a=(r.length?r[0].playlists:r.playlists).filter(l=>l.attributes.serviceLocation===s);a.length&&this.mediaTypes_[e].activePlaylistLoader.media(a[0])}})}startABRTimer_(){this.stopABRTimer_(),this.abrTimer_=De.setInterval(()=>this.checkABR_(),250)}stopABRTimer_(){this.tech_.scrubbing&&this.tech_.scrubbing()||(De.clearInterval(this.abrTimer_),this.abrTimer_=null)}getAudioTrackPlaylists_(){const e=this.main(),n=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return n;const r=e.mediaGroups.AUDIO,s=Object.keys(r);let i;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)i=this.mediaTypes_.AUDIO.activeTrack();else{const l=r.main||s.length&&r[s[0]];for(const c in l)if(l[c].default){i={label:c};break}}if(!i)return n;const a=[];for(const l in r)if(r[l][i.label]){const c=r[l][i.label];if(c.playlists&&c.playlists.length)a.push.apply(a,c.playlists);else if(c.uri)a.push(c);else if(e.playlists.length)for(let u=0;u<e.playlists.length;u++){const h=e.playlists[u];h.attributes&&h.attributes.AUDIO&&h.attributes.AUDIO===l&&a.push(h)}}return a.length?a:n}setupMainPlaylistLoaderListeners_(){this.mainPlaylistLoader_.on("loadedmetadata",()=>{const n=this.mainPlaylistLoader_.media(),r=n.targetDuration*1.5*1e3;IS(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=r,n.endList&&this.tech_.preload()!=="none"&&(this.mainSegmentLoader_.playlist(n,this.requestOptions_),this.mainSegmentLoader_.load()),bhe({sourceType:this.sourceType_,segmentLoaders:{AUDIO:this.audioSegmentLoader_,SUBTITLES:this.subtitleSegmentLoader_,main:this.mainSegmentLoader_},tech:this.tech_,requestOptions:this.requestOptions_,mainPlaylistLoader:this.mainPlaylistLoader_,vhs:this.vhs_,main:this.main(),mediaTypes:this.mediaTypes_,excludePlaylist:this.excludePlaylist.bind(this)}),this.triggerPresenceUsage_(this.main(),n),this.setupFirstPlay(),!this.mediaTypes_.AUDIO.activePlaylistLoader||this.mediaTypes_.AUDIO.activePlaylistLoader.media()?this.trigger("selectedinitialmedia"):this.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",()=>{this.trigger("selectedinitialmedia")})}),this.mainPlaylistLoader_.on("loadedplaylist",()=>{this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_);let n=this.mainPlaylistLoader_.media();if(!n){this.attachContentSteeringListeners_(),this.initContentSteeringController_(),this.excludeUnsupportedVariants_();let r;if(this.enableLowInitialPlaylist&&(r=this.selectInitialPlaylist()),r||(r=this.selectPlaylist()),!r||!this.shouldSwitchToMedia_(r)||(this.initialMedia_=r,this.switchMedia_(this.initialMedia_,"initial"),!(this.sourceType_==="vhs-json"&&this.initialMedia_.segments)))return;n=this.initialMedia_}this.handleUpdatedMediaPlaylist(n)}),this.mainPlaylistLoader_.on("error",()=>{const n=this.mainPlaylistLoader_.error;this.excludePlaylist({playlistToExclude:n.playlist,error:n})}),this.mainPlaylistLoader_.on("mediachanging",()=>{this.mainSegmentLoader_.abort(),this.mainSegmentLoader_.pause()}),this.mainPlaylistLoader_.on("mediachange",()=>{const n=this.mainPlaylistLoader_.media(),r=n.targetDuration*1.5*1e3;IS(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=r,this.sourceType_==="dash"&&this.mainPlaylistLoader_.isPaused&&this.mainPlaylistLoader_.load(),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(n,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_?this.runFastQualitySwitch_():this.mainSegmentLoader_.load(),this.tech_.trigger({type:"mediachange",bubbles:!0})}),this.mainPlaylistLoader_.on("playlistunchanged",()=>{const n=this.mainPlaylistLoader_.media();if(n.lastExcludeReason_==="playlist-unchanged")return;this.stuckAtPlaylistEnd_(n)&&(this.excludePlaylist({error:{message:"Playlist no longer updating.",reason:"playlist-unchanged"}}),this.tech_.trigger("playliststuck"))}),this.mainPlaylistLoader_.on("renditiondisabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"})}),this.mainPlaylistLoader_.on("renditionenabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"})}),["manifestrequeststart","manifestrequestcomplete","manifestparsestart","manifestparsecomplete","playlistrequeststart","playlistrequestcomplete","playlistparsestart","playlistparsecomplete","renditiondisabled","renditionenabled"].forEach(n=>{this.mainPlaylistLoader_.on(n,r=>{this.player_.trigger(Ge({},r))})})}handleUpdatedMediaPlaylist(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_&&this.runFastQualitySwitch_(),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())}triggerPresenceUsage_(e,n){const r=e.mediaGroups||{};let s=!0;const i=Object.keys(r.AUDIO);for(const a in r.AUDIO)for(const l in r.AUDIO[a])r.AUDIO[a][l].uri||(s=!1);s&&this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),Object.keys(r.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),iu.Playlist.isAes(n)&&this.tech_.trigger({type:"usage",name:"vhs-aes"}),i.length&&Object.keys(r.AUDIO[i[0]]).length>1&&this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"})}shouldSwitchToMedia_(e){const n=this.mainPlaylistLoader_.media()||this.mainPlaylistLoader_.pendingMedia_,r=this.tech_.currentTime(),s=this.bufferLowWaterLine(),i=this.bufferHighWaterLine(),a=this.tech_.buffered();return The({buffered:a,currentTime:r,currentPlaylist:n,nextPlaylist:e,bufferLowWaterLine:s,bufferHighWaterLine:i,duration:this.duration(),bufferBasedABR:this.bufferBasedABR,log:this.logger_})}setupSegmentLoaderListeners_(){this.mainSegmentLoader_.on("bandwidthupdate",()=>{this.checkABR_("bandwidthupdate"),this.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",()=>{this.bufferBasedABR&&this.mainSegmentLoader_.load()}),this.bufferBasedABR||this.mainSegmentLoader_.on("progress",()=>{this.trigger("progress")}),this.mainSegmentLoader_.on("error",()=>{const r=this.mainSegmentLoader_.error();this.excludePlaylist({playlistToExclude:r.playlist,error:r})}),this.mainSegmentLoader_.on("appenderror",()=>{this.error=this.mainSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",()=>{this.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",()=>{this.error=this.audioSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("ended",()=>{this.logger_("main segment loader ended"),this.onEndOfStream()}),this.timelineChangeController_.on("audioTimelineBehind",()=>{const r=this.audioSegmentLoader_.pendingSegment_;if(!r||!r.segment||!r.segment.syncInfo)return;const s=r.segment.syncInfo.end+.01;this.tech_.setCurrentTime(s)}),this.timelineChangeController_.on("fixBadTimelineChange",()=>{this.logger_("Fix bad timeline change. Restarting al segment loaders..."),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}),this.mainSegmentLoader_.on("earlyabort",r=>{this.bufferBasedABR||(this.delegateLoaders_("all",["abort"]),this.excludePlaylist({error:{message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},playlistExclusionDuration:whe}))});const e=()=>{if(!this.sourceUpdater_.hasCreatedSourceBuffers())return this.tryToCreateSourceBuffers_();const r=this.getCodecsOrExclude_();r&&this.sourceUpdater_.addOrChangeSourceBuffers(r)};this.mainSegmentLoader_.on("trackinfo",e),this.audioSegmentLoader_.on("trackinfo",e),this.mainSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",()=>{this.logger_("audioSegmentLoader ended"),this.onEndOfStream()}),["segmentselected","segmentloadstart","segmentloaded","segmentkeyloadstart","segmentkeyloadcomplete","segmentdecryptionstart","segmentdecryptioncomplete","segmenttransmuxingstart","segmenttransmuxingcomplete","segmenttransmuxingtrackinfoavailable","segmenttransmuxingtiminginfoavailable","segmentappendstart","appendsdone","bandwidthupdated","timelinechange","codecschange"].forEach(r=>{this.mainSegmentLoader_.on(r,s=>{this.player_.trigger(Ge({},s))}),this.audioSegmentLoader_.on(r,s=>{this.player_.trigger(Ge({},s))}),this.subtitleSegmentLoader_.on(r,s=>{this.player_.trigger(Ge({},s))})})}mediaSecondsLoaded_(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}load(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}pause(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}fastQualityChange_(e=this.selectPlaylist()){if(e&&e===this.mainPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(e,"fast-quality"),this.waitingForFastQualityPlaylistReceived_=!0}runFastQualitySwitch_(){this.waitingForFastQualityPlaylistReceived_=!1,this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}play(){if(this.setupFirstPlay())return;this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();const e=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0))return this.tech_.setCurrentTime(e.end(e.length-1))}setupFirstPlay(){const e=this.mainPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_)return!1;if(!e.endList||e.start){const n=this.seekable();if(!n.length)return!1;const r=n.end(0);let s=r;if(e.start){const i=e.start.timeOffset;i<0?s=Math.max(r+i,n.start(0)):s=Math.min(r,i)}this.trigger("firstplay"),this.tech_.setCurrentTime(s)}return this.hasPlayed_=!0,this.load(),!0}handleSourceOpen_(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){const e=this.tech_.play();typeof e<"u"&&typeof e.then=="function"&&e.then(null,n=>{})}this.trigger("sourceopen")}handleSourceEnded_(){if(!this.inbandTextTracks_.metadataTrack_)return;const e=this.inbandTextTracks_.metadataTrack_.cues;if(!e||!e.length)return;const n=this.duration();e[e.length-1].endTime=isNaN(n)||Math.abs(n)===1/0?Number.MAX_VALUE:n}handleDurationChange_(){this.tech_.trigger("durationchange")}onEndOfStream(){let e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){const n=this.mainSegmentLoader_.getCurrentMediaInfo_();!n||n.hasVideo?e=e&&this.audioSegmentLoader_.ended_:e=this.audioSegmentLoader_.ended_}e&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())}stuckAtPlaylistEnd_(e){if(!this.seekable().length)return!1;const r=this.syncController_.getExpiredTime(e,this.duration());if(r===null)return!1;const s=iu.Playlist.playlistEnd(e,r),i=this.tech_.currentTime(),a=this.tech_.buffered();if(!a.length)return s-i<=yl;const l=a.end(a.length-1);return l-i<=yl&&s-l<=yl}excludePlaylist({playlistToExclude:e=this.mainPlaylistLoader_.media(),error:n={},playlistExclusionDuration:r}){if(e=e||this.mainPlaylistLoader_.media(),r=r||n.playlistExclusionDuration||this.playlistExclusionDuration,!e){this.error=n,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}e.playlistErrors_++;const s=this.mainPlaylistLoader_.main.playlists,i=s.filter(Qv),a=i.length===1&&i[0]===e;if(s.length===1&&r!==1/0)return tt.log.warn(`Problem encountered with playlist ${e.id}. Trying again since it is the only playlist.`),this.tech_.trigger("retryplaylist"),this.mainPlaylistLoader_.load(a);if(a){if(this.main().contentSteering){const b=this.pathwayAttribute_(e),y=this.contentSteeringController_.steeringManifest.ttl*1e3;this.contentSteeringController_.excludePathway(b),this.excludeThenChangePathway_(),setTimeout(()=>{this.contentSteeringController_.addAvailablePathway(b)},y);return}let g=!1;s.forEach(b=>{if(b===e)return;const y=b.excludeUntil;typeof y<"u"&&y!==1/0&&(g=!0,delete b.excludeUntil)}),g&&(tt.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}let l;e.playlistErrors_>this.maxPlaylistRetries?l=1/0:l=Date.now()+r*1e3,e.excludeUntil=l,n.reason&&(e.lastExcludeReason_=n.reason),this.tech_.trigger("excludeplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-excluded"});const c=this.selectPlaylist();if(!c){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}const u=n.internal?this.logger_:tt.log.warn,h=n.message?" "+n.message:"";u(`${n.internal?"Internal problem":"Problem"} encountered with playlist ${e.id}.${h} Switching to playlist ${c.id}.`),c.attributes.AUDIO!==e.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),c.attributes.SUBTITLES!==e.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);const f=c.targetDuration/2*1e3||5*1e3,m=typeof c.lastRequest=="number"&&Date.now()-c.lastRequest<=f;return this.switchMedia_(c,"exclude",a||m)}pauseLoading(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()}delegateLoaders_(e,n){const r=[],s=e==="all";(s||e==="main")&&r.push(this.mainPlaylistLoader_);const i=[];(s||e==="audio")&&i.push("AUDIO"),(s||e==="subtitle")&&(i.push("CLOSED-CAPTIONS"),i.push("SUBTITLES")),i.forEach(a=>{const l=this.mediaTypes_[a]&&this.mediaTypes_[a].activePlaylistLoader;l&&r.push(l)}),["main","audio","subtitle"].forEach(a=>{const l=this[`${a}SegmentLoader_`];l&&(e===a||e==="all")&&r.push(l)}),r.forEach(a=>n.forEach(l=>{typeof a[l]=="function"&&a[l]()}))}setCurrentTime(e){const n=mf(this.tech_.buffered(),e);if(!(this.mainPlaylistLoader_&&this.mainPlaylistLoader_.media())||!this.mainPlaylistLoader_.media().segments)return 0;if(n&&n.length)return e;this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}duration(){if(!this.mainPlaylistLoader_)return 0;const e=this.mainPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:iu.Playlist.duration(e):1/0:0}seekable(){return this.seekable_}getSeekableRange_(e,n){const r=e.media();if(!r)return null;const s=this.syncController_.getMediaSequenceSync(n);if(s&&s.isReliable){const l=s.start,c=s.end;if(!isFinite(l)||!isFinite(c))return null;const u=iu.Playlist.liveEdgeDelay(this.mainPlaylistLoader_.main,r),h=Math.max(l,c-u);return Ts([[l,h]])}const i=this.syncController_.getExpiredTime(r,this.duration());if(i===null)return null;const a=iu.Playlist.seekable(r,i,iu.Playlist.liveEdgeDelay(this.mainPlaylistLoader_.main,r));return a.length?a:null}computeFinalSeekable_(e,n){if(!n)return e;const r=e.start(0),s=e.end(0),i=n.start(0),a=n.end(0);return i>s||r>a?e:Ts([[Math.max(r,i),Math.min(s,a)]])}onSyncInfoUpdate_(){if(!this.mainPlaylistLoader_)return;const e=this.getSeekableRange_(this.mainPlaylistLoader_,"main");if(!e)return;let n;if(this.mediaTypes_.AUDIO.activePlaylistLoader&&(n=this.getSeekableRange_(this.mediaTypes_.AUDIO.activePlaylistLoader,"audio"),!n))return;const r=this.seekable_;if(this.seekable_=this.computeFinalSeekable_(e,n),!this.seekable_||r&&r.length&&this.seekable_.length&&r.start(0)===this.seekable_.start(0)&&r.end(0)===this.seekable_.end(0))return;this.logger_(`seekable updated [${J6(this.seekable_)}]`);const s={seekableRanges:this.seekable_};this.trigger({type:"seekablerangeschanged",metadata:s}),this.tech_.trigger("seekablechanged")}updateDuration(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,e),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(e){const s=this.seekable();if(!s.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<s.end(s.length-1))&&this.sourceUpdater_.setDuration(s.end(s.length-1));return}const n=this.tech_.buffered();let r=iu.Playlist.duration(this.mainPlaylistLoader_.media());n.length>0&&(r=Math.max(r,n.end(n.length-1))),this.mediaSource.duration!==r&&this.sourceUpdater_.setDuration(r)}dispose(){this.trigger("dispose"),this.decrypter_.terminate(),this.mainPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.contentSteeringController_.dispose(),this.keyStatusMap_.clear(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(e=>{const n=this.mediaTypes_[e].groups;for(const r in n)n[r].forEach(s=>{s.playlistLoader&&s.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()}main(){return this.mainPlaylistLoader_.main}media(){return this.mainPlaylistLoader_.media()||this.initialMedia_}areMediaTypesKnown_(){const e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,n=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),r=e?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!n||!r)}getCodecsOrExclude_(){const e={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},n=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();e.video=e.main;const r=rg(this.main(),n),s={},i=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(e.main.hasVideo&&(s.video=r.video||e.main.videoCodec||poe),e.main.isMuxed&&(s.video+=`,${r.audio||e.main.audioCodec||UA}`),(e.main.hasAudio&&!e.main.isMuxed||e.audio.hasAudio||i)&&(s.audio=r.audio||e.main.audioCodec||e.audio.audioCodec||UA,e.audio.isFmp4=e.main.hasAudio&&!e.main.isMuxed?e.main.isFmp4:e.audio.isFmp4),!s.audio&&!s.video){this.excludePlaylist({playlistToExclude:n,error:{message:"Could not determine codecs for playlist."},playlistExclusionDuration:1/0});return}const a=(u,h)=>u?Zm(h,this.usingManagedMediaSource_):vw(h),l={};let c;if(["video","audio"].forEach(function(u){if(s.hasOwnProperty(u)&&!a(e[u].isFmp4,s[u])){const h=e[u].isFmp4?"browser":"muxer";l[h]=l[h]||[],l[h].push(s[u]),u==="audio"&&(c=h)}}),i&&c&&n.attributes.AUDIO){const u=n.attributes.AUDIO;this.main().playlists.forEach(h=>{(h.attributes&&h.attributes.AUDIO)===u&&h!==n&&(h.excludeUntil=1/0)}),this.logger_(`excluding audio group ${u} as ${c} does not support codec(s): "${s.audio}"`)}if(Object.keys(l).length){const u=Object.keys(l).reduce((h,f)=>(h&&(h+=", "),h+=`${f} does not support codec(s): "${l[f].join(",")}"`,h),"")+".";this.excludePlaylist({playlistToExclude:n,error:{internal:!0,message:u},playlistExclusionDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){const u=[];if(["video","audio"].forEach(h=>{const f=(ll(this.sourceUpdater_.codecs[h]||"")[0]||{}).type,m=(ll(s[h]||"")[0]||{}).type;f&&m&&f.toLowerCase()!==m.toLowerCase()&&u.push(`"${this.sourceUpdater_.codecs[h]}" -> "${s[h]}"`)}),u.length){this.excludePlaylist({playlistToExclude:n,error:{message:`Codec switching not supported: ${u.join(", ")}.`,internal:!0},playlistExclusionDuration:1/0});return}}return s}tryToCreateSourceBuffers_(){if(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers()||!this.areMediaTypesKnown_())return;const e=this.getCodecsOrExclude_();if(!e)return;this.sourceUpdater_.createSourceBuffers(e);const n=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(n)}excludeUnsupportedVariants_(){const e=this.main().playlists,n=[];Object.keys(e).forEach(r=>{const s=e[r];if(n.indexOf(s.id)!==-1)return;n.push(s.id);const i=rg(this.main,s),a=[];i.audio&&!vw(i.audio)&&!Zm(i.audio,this.usingManagedMediaSource_)&&a.push(`audio codec ${i.audio}`),i.video&&!vw(i.video)&&!Zm(i.video,this.usingManagedMediaSource_)&&a.push(`video codec ${i.video}`),i.text&&i.text==="stpp.ttml.im1t"&&a.push(`text codec ${i.text}`),a.length&&(s.excludeUntil=1/0,this.logger_(`excluding ${s.id} for unsupported: ${a.join(", ")}`))})}excludeIncompatibleVariants_(e){const n=[],r=this.main().playlists,s=Og(ll(e)),i=M5(s),a=s.video&&ll(s.video)[0]||null,l=s.audio&&ll(s.audio)[0]||null;Object.keys(r).forEach(c=>{const u=r[c];if(n.indexOf(u.id)!==-1||u.excludeUntil===1/0)return;n.push(u.id);const h=[],f=rg(this.mainPlaylistLoader_.main,u),m=M5(f);if(!(!f.audio&&!f.video)){if(m!==i&&h.push(`codec count "${m}" !== "${i}"`),!this.sourceUpdater_.canChangeType()){const g=f.video&&ll(f.video)[0]||null,b=f.audio&&ll(f.audio)[0]||null;g&&a&&g.type.toLowerCase()!==a.type.toLowerCase()&&h.push(`video codec "${g.type}" !== "${a.type}"`),b&&l&&b.type.toLowerCase()!==l.type.toLowerCase()&&h.push(`audio codec "${b.type}" !== "${l.type}"`)}h.length&&(u.excludeUntil=1/0,this.logger_(`excluding ${u.id}: ${h.join(" && ")}`))}})}updateAdCues_(e){let n=0;const r=this.seekable();r.length&&(n=r.start(0)),rhe(e,this.cueTagsTrack_,n)}goalBufferLength(){const e=this.tech_.currentTime(),n=_s.GOAL_BUFFER_LENGTH,r=_s.GOAL_BUFFER_LENGTH_RATE,s=Math.max(n,_s.MAX_GOAL_BUFFER_LENGTH);return Math.min(n+e*r,s)}bufferLowWaterLine(){const e=this.tech_.currentTime(),n=_s.BUFFER_LOW_WATER_LINE,r=_s.BUFFER_LOW_WATER_LINE_RATE,s=Math.max(n,_s.MAX_BUFFER_LOW_WATER_LINE),i=Math.max(n,_s.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(n+e*r,this.bufferBasedABR?i:s)}bufferHighWaterLine(){return _s.BUFFER_HIGH_WATER_LINE}addDateRangesToTextTrack_(e){H5(this.inbandTextTracks_,"com.apple.streaming",this.tech_),Rde({inbandTextTracks:this.inbandTextTracks_,dateRanges:e})}addMetadataToTextTrack(e,n,r){const s=this.sourceUpdater_.videoBuffer?this.sourceUpdater_.videoTimestampOffset():this.sourceUpdater_.audioTimestampOffset();H5(this.inbandTextTracks_,e,this.tech_),Ide({inbandTextTracks:this.inbandTextTracks_,metadataArray:n,timestampOffset:s,videoDuration:r})}pathwayAttribute_(e){return e.attributes["PATHWAY-ID"]||e.attributes.serviceLocation}initContentSteeringController_(){const e=this.main();if(e.contentSteering){for(const n of e.playlists)this.contentSteeringController_.addAvailablePathway(this.pathwayAttribute_(n));if(this.contentSteeringController_.assignTagProperties(e.uri,e.contentSteering),this.contentSteeringController_.queryBeforeStart){this.contentSteeringController_.requestSteeringManifest(!0);return}this.tech_.one("canplay",()=>{this.contentSteeringController_.requestSteeringManifest()})}}resetContentSteeringController_(){this.contentSteeringController_.clearAvailablePathways(),this.contentSteeringController_.dispose(),this.initContentSteeringController_()}attachContentSteeringListeners_(){this.contentSteeringController_.on("content-steering",this.excludeThenChangePathway_.bind(this)),["contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"].forEach(n=>{this.contentSteeringController_.on(n,r=>{this.trigger(Ge({},r))})}),this.sourceType_==="dash"&&this.mainPlaylistLoader_.on("loadedplaylist",()=>{const n=this.main();(this.contentSteeringController_.didDASHTagChange(n.uri,n.contentSteering)||(()=>{const i=this.contentSteeringController_.getAvailablePathways(),a=[];for(const l of n.playlists){const c=l.attributes.serviceLocation;if(c&&(a.push(c),!i.has(c)))return!0}return!!(!a.length&&i.size)})())&&this.resetContentSteeringController_()})}excludeThenChangePathway_(){const e=this.contentSteeringController_.getPathway();if(!e)return;this.handlePathwayClones_();const r=this.main().playlists,s=new Set;let i=!1;Object.keys(r).forEach(a=>{const l=r[a],c=this.pathwayAttribute_(l),u=c&&e!==c;l.excludeUntil===1/0&&l.lastExcludeReason_==="content-steering"&&!u&&(delete l.excludeUntil,delete l.lastExcludeReason_,i=!0);const f=!l.excludeUntil&&l.excludeUntil!==1/0;!s.has(l.id)&&u&&f&&(s.add(l.id),l.excludeUntil=1/0,l.lastExcludeReason_="content-steering",this.logger_(`excluding ${l.id} for ${l.lastExcludeReason_}`))}),this.contentSteeringController_.manifestType_==="DASH"&&Object.keys(this.mediaTypes_).forEach(a=>{const l=this.mediaTypes_[a];if(l.activePlaylistLoader){const c=l.activePlaylistLoader.media_;c&&c.attributes.serviceLocation!==e&&(i=!0)}}),i&&this.changeSegmentPathway_()}handlePathwayClones_(){const n=this.main().playlists,r=this.contentSteeringController_.currentPathwayClones,s=this.contentSteeringController_.nextPathwayClones;if(r&&r.size||s&&s.size){for(const[a,l]of r.entries())s.get(a)||(this.mainPlaylistLoader_.updateOrDeleteClone(l),this.contentSteeringController_.excludePathway(a));for(const[a,l]of s.entries()){const c=r.get(a);if(!c){n.filter(h=>h.attributes["PATHWAY-ID"]===l["BASE-ID"]).forEach(h=>{this.mainPlaylistLoader_.addClonePathway(l,h)}),this.contentSteeringController_.addAvailablePathway(a);continue}this.equalPathwayClones_(c,l)||(this.mainPlaylistLoader_.updateOrDeleteClone(l,!0),this.contentSteeringController_.addAvailablePathway(a))}this.contentSteeringController_.currentPathwayClones=new Map(JSON.parse(JSON.stringify([...s])))}}equalPathwayClones_(e,n){if(e["BASE-ID"]!==n["BASE-ID"]||e.ID!==n.ID||e["URI-REPLACEMENT"].HOST!==n["URI-REPLACEMENT"].HOST)return!1;const r=e["URI-REPLACEMENT"].PARAMS,s=n["URI-REPLACEMENT"].PARAMS;for(const i in r)if(r[i]!==s[i])return!1;for(const i in s)if(r[i]!==s[i])return!1;return!0}changeSegmentPathway_(){const e=this.selectPlaylist();this.pauseLoading(),this.contentSteeringController_.manifestType_==="DASH"&&this.switchMediaForDASHContentSteering_(),this.switchMedia_(e,"content-steering")}excludeNonUsablePlaylistsByKeyId_(){if(!this.mainPlaylistLoader_||!this.mainPlaylistLoader_.main)return;let e=0;const n="non-usable";this.mainPlaylistLoader_.main.playlists.forEach(r=>{const s=this.mainPlaylistLoader_.getKeyIdSet(r);!s||!s.size||s.forEach(i=>{const a="usable",l=this.keyStatusMap_.has(i)&&this.keyStatusMap_.get(i)===a,c=r.lastExcludeReason_===n&&r.excludeUntil===1/0;l?l&&c&&(delete r.excludeUntil,delete r.lastExcludeReason_,this.logger_(`enabling playlist ${r.id} because key ID ${i} is ${a}`)):(r.excludeUntil!==1/0&&r.lastExcludeReason_!==n&&(r.excludeUntil=1/0,r.lastExcludeReason_=n,this.logger_(`excluding playlist ${r.id} because the key ID ${i} doesn't exist in the keyStatusMap or is not ${a}`)),e++)})}),e>=this.mainPlaylistLoader_.main.playlists.length&&this.mainPlaylistLoader_.main.playlists.forEach(r=>{const s=r&&r.attributes&&r.attributes.RESOLUTION&&r.attributes.RESOLUTION.height<720,i=r.excludeUntil===1/0&&r.lastExcludeReason_===n;s&&i&&(delete r.excludeUntil,tt.log.warn(`enabling non-HD playlist ${r.id} because all playlists were excluded due to ${n} key IDs`))})}addKeyStatus_(e,n){const i=(typeof e=="string"?e:Jde(e)).slice(0,32).toLowerCase();this.logger_(`KeyStatus '${n}' with key ID ${i} added to the keyStatusMap`),this.keyStatusMap_.set(i,n)}updatePlaylistByKeyStatus(e,n){this.addKeyStatus_(e,n),this.waitingForFastQualityPlaylistReceived_||this.excludeNonUsableThenChangePlaylist_(),this.mainPlaylistLoader_.off("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this)),this.mainPlaylistLoader_.on("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this))}excludeNonUsableThenChangePlaylist_(){this.excludeNonUsablePlaylistsByKeyId_(),this.fastQualityChange_()}}const Ehe=(t,e,n)=>r=>{const s=t.main.playlists[e],i=Bk(s),a=Qv(s);if(typeof r>"u")return a;r?delete s.disabled:s.disabled=!0;const l={renditionInfo:{id:e,bandwidth:s.attributes.BANDWIDTH,resolution:s.attributes.RESOLUTION,codecs:s.attributes.CODECS},cause:"fast-quality"};return r!==a&&!i&&(r?(n(s),t.trigger({type:"renditionenabled",metadata:l})):t.trigger({type:"renditiondisabled",metadata:l})),r};class jhe{constructor(e,n,r){const{playlistController_:s}=e,i=s.fastQualityChange_.bind(s);if(n.attributes){const a=n.attributes.RESOLUTION;this.width=a&&a.width,this.height=a&&a.height,this.bandwidth=n.attributes.BANDWIDTH,this.frameRate=n.attributes["FRAME-RATE"]}this.codecs=rg(s.main(),n),this.playlist=n,this.id=r,this.enabled=Ehe(e.playlists,n.id,i)}}const Nhe=function(t){t.representations=()=>{const e=t.playlistController_.main(),n=x0(e)?t.playlistController_.getAudioTrackPlaylists_():e.playlists;return n?n.filter(r=>!Bk(r)).map((r,s)=>new jhe(t,r,r.id)):[]}},e4=["seeking","seeked","pause","playing","error"];class Dhe extends tt.EventTarget{constructor(e){super(),this.playlistController_=e.playlistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.playedRanges_=[],this.consecutiveUpdates=0,this.lastRecordedTime=null,this.checkCurrentTimeTimeout_=null,this.logger_=ro("PlaybackWatcher"),this.logger_("initialize");const n=()=>this.monitorCurrentTime_(),r=()=>this.monitorCurrentTime_(),s=()=>this.techWaiting_(),i=()=>this.resetTimeUpdate_(),a=this.playlistController_,l=["main","subtitle","audio"],c={};l.forEach(h=>{c[h]={reset:()=>this.resetSegmentDownloads_(h),updateend:()=>this.checkSegmentDownloads_(h)},a[`${h}SegmentLoader_`].on("appendsdone",c[h].updateend),a[`${h}SegmentLoader_`].on("playlistupdate",c[h].reset),this.tech_.on(["seeked","seeking"],c[h].reset)});const u=h=>{["main","audio"].forEach(f=>{a[`${f}SegmentLoader_`][h]("appended",this.seekingAppendCheck_)})};this.seekingAppendCheck_=()=>{this.fixesBadSeeks_()&&(this.consecutiveUpdates=0,this.lastRecordedTime=this.tech_.currentTime(),u("off"))},this.clearSeekingAppendCheck_=()=>u("off"),this.watchForBadSeeking_=()=>{this.clearSeekingAppendCheck_(),u("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",s),this.tech_.on(e4,i),this.tech_.on("canplay",r),this.tech_.one("play",n),this.dispose=()=>{this.clearSeekingAppendCheck_(),this.logger_("dispose"),this.tech_.off("waiting",s),this.tech_.off(e4,i),this.tech_.off("canplay",r),this.tech_.off("play",n),this.tech_.off("seeking",this.watchForBadSeeking_),this.tech_.off("seeked",this.clearSeekingAppendCheck_),l.forEach(h=>{a[`${h}SegmentLoader_`].off("appendsdone",c[h].updateend),a[`${h}SegmentLoader_`].off("playlistupdate",c[h].reset),this.tech_.off(["seeked","seeking"],c[h].reset)}),this.checkCurrentTimeTimeout_&&De.clearTimeout(this.checkCurrentTimeTimeout_),this.resetTimeUpdate_()}}monitorCurrentTime_(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&De.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=De.setTimeout(this.monitorCurrentTime_.bind(this),250)}resetSegmentDownloads_(e){const n=this.playlistController_[`${e}SegmentLoader_`];this[`${e}StalledDownloads_`]>0&&this.logger_(`resetting possible stalled download count for ${e} loader`),this[`${e}StalledDownloads_`]=0,this[`${e}Buffered_`]=n.buffered_()}checkSegmentDownloads_(e){const n=this.playlistController_,r=n[`${e}SegmentLoader_`],s=r.buffered_(),i=mue(this[`${e}Buffered_`],s);if(this[`${e}Buffered_`]=s,i){const a={bufferedRanges:s};n.trigger({type:"bufferedrangeschanged",metadata:a}),this.resetSegmentDownloads_(e);return}this[`${e}StalledDownloads_`]++,this.logger_(`found #${this[`${e}StalledDownloads_`]} ${e} appends that did not increase buffer (possible stalled download)`,{playlistId:r.playlist_&&r.playlist_.id,buffered:Od(s)}),!(this[`${e}StalledDownloads_`]<10)&&(this.logger_(`${e} loader stalled download exclusion`),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:`vhs-${e}-download-exclusion`}),e!=="subtitle"&&n.excludePlaylist({error:{message:`Excessive ${e} segment downloading detected.`},playlistExclusionDuration:1/0}))}checkCurrentTime_(){if(this.tech_.paused()||this.tech_.seeking())return;const e=this.tech_.currentTime(),n=this.tech_.buffered();if(this.lastRecordedTime===e&&(!n.length||e+yl>=n.end(n.length-1)))return this.techWaiting_();if(this.consecutiveUpdates>=5&&e===this.lastRecordedTime)this.consecutiveUpdates++,this.waiting_();else if(e===this.lastRecordedTime)this.consecutiveUpdates++;else{this.playedRanges_.push(Ts([this.lastRecordedTime,e]));const r={playedRanges:this.playedRanges_};this.playlistController_.trigger({type:"playedrangeschanged",metadata:r}),this.consecutiveUpdates=0,this.lastRecordedTime=e}}resetTimeUpdate_(){this.consecutiveUpdates=0}fixesBadSeeks_(){if(!this.tech_.seeking())return!1;const n=this.seekable(),r=this.tech_.currentTime(),s=this.afterSeekableWindow_(n,r,this.media(),this.allowSeeksWithinUnsafeLiveWindow);let i;if(s&&(i=n.end(n.length-1)),this.beforeSeekableWindow_(n,r)){const b=n.start(0);i=b+(b===n.end(0)?0:yl)}if(typeof i<"u")return this.logger_(`Trying to seek outside of seekable at time ${r} with seekable range ${J6(n)}. Seeking to ${i}.`),this.tech_.setCurrentTime(i),!0;const a=this.playlistController_.sourceUpdater_,l=this.tech_.buffered(),c=a.audioBuffer?a.audioBuffered():null,u=a.videoBuffer?a.videoBuffered():null,h=this.media(),f=h.partTargetDuration?h.partTargetDuration:(h.targetDuration-gl)*2,m=[c,u];for(let b=0;b<m.length;b++){if(!m[b])continue;if(Lk(m[b],r)<f)return!1}const g=By(l,r);return g.length===0?!1:(i=g.start(0)+yl,this.logger_(`Buffered region starts (${g.start(0)})  just beyond seek point (${r}). Seeking to ${i}.`),this.tech_.setCurrentTime(i),!0)}waiting_(){if(this.techWaiting_())return;const e=this.tech_.currentTime(),n=this.tech_.buffered(),r=mf(n,e);if(r.length&&e+3<=r.end(0)){this.resetTimeUpdate_(),this.tech_.setCurrentTime(e),this.logger_(`Stopped at ${e} while inside a buffered region [${r.start(0)} -> ${r.end(0)}]. Attempting to resume playback by seeking to the current time.`),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"});return}}techWaiting_(){const e=this.seekable(),n=this.tech_.currentTime();if(this.tech_.seeking())return!0;if(this.beforeSeekableWindow_(e,n)){const l=e.end(e.length-1);return this.logger_(`Fell out of live window at time ${n}. Seeking to live point (seekable end) ${l}`),this.resetTimeUpdate_(),this.tech_.setCurrentTime(l),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),!0}const r=this.tech_.vhs.playlistController_.sourceUpdater_,s=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:r.audioBuffered(),videoBuffered:r.videoBuffered(),currentTime:n}))return this.resetTimeUpdate_(),this.tech_.setCurrentTime(n),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),!0;const a=By(s,n);return a.length>0?(this.logger_(`Stopped at ${n} and seeking to ${a.start(0)}`),this.resetTimeUpdate_(),this.skipTheGap_(n),!0):!1}afterSeekableWindow_(e,n,r,s=!1){if(!e.length)return!1;let i=e.end(e.length-1)+yl;const a=!r.endList,l=typeof r.partTargetDuration=="number";return a&&(l||s)&&(i=e.end(e.length-1)+r.targetDuration*3),n>i}beforeSeekableWindow_(e,n){return!!(e.length&&e.start(0)>0&&n<e.start(0)-this.liveRangeSafeTimeDelta)}videoUnderflow_({videoBuffered:e,audioBuffered:n,currentTime:r}){if(!e)return;let s;if(e.length&&n.length){const i=mf(e,r-3),a=mf(e,r),l=mf(n,r);l.length&&!a.length&&i.length&&(s={start:i.end(0),end:l.end(0)})}else By(e,r).length||(s=this.gapFromVideoUnderflow_(e,r));return s?(this.logger_(`Encountered a gap in video from ${s.start} to ${s.end}. Seeking to current time ${r}`),!0):!1}skipTheGap_(e){const n=this.tech_.buffered(),r=this.tech_.currentTime(),s=By(n,r);if(this.resetTimeUpdate_(),s.length===0||r!==e)return;this.logger_("skipTheGap_:","currentTime:",r,"scheduled currentTime:",e,"nextRange start:",s.start(0)),this.tech_.setCurrentTime(s.start(0)+gl);const i={gapInfo:{from:r,to:s.start(0)}};this.playlistController_.trigger({type:"gapjumped",metadata:i}),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"})}gapFromVideoUnderflow_(e,n){const r=hue(e);for(let s=0;s<r.length;s++){const i=r.start(s),a=r.end(s);if(n-i<4&&n-i>2)return{start:i,end:a}}return null}}const Ahe={errorInterval:30,getSource(t){const n=this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource();return t(n)}},W8=function(t,e){let n=0,r=0;const s=ir(Ahe,e);t.ready(()=>{t.trigger({type:"usage",name:"vhs-error-reload-initialized"})});const i=function(){r&&t.currentTime(r)},a=function(h){h!=null&&(r=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",i),t.src(h),t.trigger({type:"usage",name:"vhs-error-reload"}),t.play())},l=function(){if(Date.now()-n<s.errorInterval*1e3){t.trigger({type:"usage",name:"vhs-error-reload-canceled"});return}if(!s.getSource||typeof s.getSource!="function"){tt.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return n=Date.now(),s.getSource.call(t,a)},c=function(){t.off("loadedmetadata",i),t.off("error",l),t.off("dispose",c)},u=function(h){c(),W8(t,h)};t.on("error",l),t.on("dispose",c),t.reloadSourceOnError=u},Phe=function(t){W8(this,t)};var V8="3.17.0",Ihe="7.1.0",Ohe="1.3.1",Mhe="7.2.0",Rhe="4.0.2";const Fr={PlaylistLoader:gf,Playlist:Ui,utils:zue,STANDARD_PLAYLIST_SELECTOR:U5,INITIAL_PLAYLIST_SELECTOR:jde,lastBandwidthSelector:U5,movingAverageBandwidthSelector:kde,comparePlaylistBandwidth:Uk,comparePlaylistResolution:Tde,xhr:b8()};Object.keys(_s).forEach(t=>{Object.defineProperty(Fr,t,{get(){return tt.log.warn(`using Vhs.${t} is UNSAFE be sure you know what you are doing`),_s[t]},set(e){if(tt.log.warn(`using Vhs.${t} is UNSAFE be sure you know what you are doing`),typeof e!="number"||e<0){tt.log.warn(`value of Vhs.${t} must be greater than or equal to 0`);return}_s[t]=e}})});const q8="videojs-vhs",Y8=function(t,e){const n=e.media();let r=-1;for(let s=0;s<t.length;s++)if(t[s].id===n.id){r=s;break}t.selectedIndex_=r,t.trigger({selectedIndex:r,type:"change"})},Lhe=function(t,e){e.representations().forEach(n=>{t.addQualityLevel(n)}),Y8(t,e.playlists)};Fr.canPlaySource=function(){return tt.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};const Fhe=(t,e,n)=>{if(!t)return t;let r={};e&&e.attributes&&e.attributes.CODECS&&(r=Og(ll(e.attributes.CODECS))),n&&n.attributes&&n.attributes.CODECS&&(r.audio=n.attributes.CODECS);const s=qf(r.video),i=qf(r.audio),a={};for(const l in t)a[l]={},i&&(a[l].audioContentType=i),s&&(a[l].videoContentType=s),e.contentProtection&&e.contentProtection[l]&&e.contentProtection[l].pssh&&(a[l].pssh=e.contentProtection[l].pssh),typeof t[l]=="string"&&(a[l].url=t[l]);return ir(t,a)},Bhe=(t,e)=>t.reduce((n,r)=>{if(!r.contentProtection)return n;const s=e.reduce((i,a)=>{const l=r.contentProtection[a];return l&&l.pssh&&(i[a]={pssh:l.pssh}),i},{});return Object.keys(s).length&&n.push(s),n},[]),$he=({player:t,sourceKeySystems:e,audioMedia:n,mainPlaylists:r})=>{if(!t.eme.initializeMediaKeys)return Promise.resolve();const s=n?r.concat([n]):r,i=Bhe(s,Object.keys(e)),a=[],l=[];return i.forEach(c=>{l.push(new Promise((u,h)=>{t.tech_.one("keysessioncreated",u)})),a.push(new Promise((u,h)=>{t.eme.initializeMediaKeys({keySystems:c},f=>{if(f){h(f);return}u()})}))}),Promise.race([Promise.all(a),Promise.race(l)])},zhe=({player:t,sourceKeySystems:e,media:n,audioMedia:r})=>{const s=Fhe(e,n,r);return s?(t.currentSource().keySystems=s,s&&!t.eme?(tt.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},G8=()=>{if(!De.localStorage)return null;const t=De.localStorage.getItem(q8);if(!t)return null;try{return JSON.parse(t)}catch{return null}},Uhe=t=>{if(!De.localStorage)return!1;let e=G8();e=e?ir(e,t):t;try{De.localStorage.setItem(q8,JSON.stringify(e))}catch{return!1}return e},Hhe=t=>t.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(t.substring(t.indexOf(",")+1)):t,K8=(t,e)=>{t._requestCallbackSet||(t._requestCallbackSet=new Set),t._requestCallbackSet.add(e)},X8=(t,e)=>{t._responseCallbackSet||(t._responseCallbackSet=new Set),t._responseCallbackSet.add(e)},Q8=(t,e)=>{t._requestCallbackSet&&(t._requestCallbackSet.delete(e),t._requestCallbackSet.size||delete t._requestCallbackSet)},Z8=(t,e)=>{t._responseCallbackSet&&(t._responseCallbackSet.delete(e),t._responseCallbackSet.size||delete t._responseCallbackSet)};Fr.supportsNativeHls=function(){if(!Pt||!Pt.createElement)return!1;const t=Pt.createElement("video");return tt.getTech("Html5").isSupported()?["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(n){return/maybe|probably/i.test(t.canPlayType(n))}):!1}();Fr.supportsNativeDash=function(){return!Pt||!Pt.createElement||!tt.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(Pt.createElement("video").canPlayType("application/dash+xml"))}();Fr.supportsTypeNatively=t=>t==="hls"?Fr.supportsNativeHls:t==="dash"?Fr.supportsNativeDash:!1;Fr.isSupported=function(){return tt.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};Fr.xhr.onRequest=function(t){K8(Fr.xhr,t)};Fr.xhr.onResponse=function(t){X8(Fr.xhr,t)};Fr.xhr.offRequest=function(t){Q8(Fr.xhr,t)};Fr.xhr.offResponse=function(t){Z8(Fr.xhr,t)};const Whe=tt.getComponent("Component");class J8 extends Whe{constructor(e,n,r){if(super(n,r.vhs),typeof r.initialBandwidth=="number"&&(this.options_.bandwidth=r.initialBandwidth),this.logger_=ro("VhsHandler"),n.options_&&n.options_.playerId){const s=tt.getPlayer(n.options_.playerId);this.player_=s}if(this.tech_=n,this.source_=e,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&n.overrideNativeAudioTracks&&n.overrideNativeVideoTracks)n.overrideNativeAudioTracks(!0),n.overrideNativeVideoTracks(!0);else if(this.options_.overrideNative&&(n.featuresNativeVideoTracks||n.featuresNativeAudioTracks))throw new Error("Overriding native VHS requires emulated tracks. See https://git.io/vMpjB");this.on(Pt,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],s=>{const i=Pt.fullscreenElement||Pt.webkitFullscreenElement||Pt.mozFullScreenElement||Pt.msFullscreenElement;i&&i.contains(this.tech_.el())?this.playlistController_.fastQualityChange_():this.playlistController_.checkABR_()}),this.on(this.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.tech_.error()&&this.playlistController_&&this.playlistController_.pauseLoading()}),this.on(this.tech_,"play",this.play)}setOptions_(e={}){if(this.options_=ir(this.options_,e),this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.usePlayerObjectFit=this.options_.usePlayerObjectFit||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useForcedSubtitles=this.options_.useForcedSubtitles||!1,this.options_.useNetworkInformationApi=typeof this.options_.useNetworkInformationApi<"u"?this.options_.useNetworkInformationApi:!0,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.llhls=this.options_.llhls!==!1,this.options_.bufferBasedABR=this.options_.bufferBasedABR||!1,typeof this.options_.playlistExclusionDuration!="number"&&(this.options_.playlistExclusionDuration=60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){const r=G8();r&&r.bandwidth&&(this.options_.bandwidth=r.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"})),r&&r.throughput&&(this.options_.throughput=r.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=_s.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===_s.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","usePlayerObjectFit","customPixelRatio","limitRenditionByPlayerDimensions","bandwidth","customTagParsers","customTagMappers","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","bufferBasedABR","liveRangeSafeTimeDelta","llhls","useForcedSubtitles","useNetworkInformationApi","useDtsForTimestampOffset","exactManifestTimings","leastPixelDiffSelector"].forEach(r=>{typeof this.source_[r]<"u"&&(this.options_[r]=this.source_[r])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio,this.usePlayerObjectFit=this.options_.usePlayerObjectFit;const n=this.options_.customPixelRatio;typeof n=="number"&&n>=0&&(this.customPixelRatio=n)}setOptions(e={}){this.setOptions_(e)}src(e,n){if(!e)return;this.setOptions_(),this.options_.src=Hhe(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=Fr,this.options_.sourceType=vL(n),this.options_.seekTo=i=>{this.tech_.setCurrentTime(i)},this.options_.player_=this.player_,this.playlistController_=new khe(this.options_);const r=ir({liveRangeSafeTimeDelta:yl},this.options_,{seekable:()=>this.seekable(),media:()=>this.playlistController_.media(),playlistController:this.playlistController_});this.playbackWatcher_=new Dhe(r),this.attachStreamingEventListeners_(),this.playlistController_.on("error",()=>{const i=tt.players[this.tech_.options_.playerId];let a=this.playlistController_.error;typeof a=="object"&&!a.code?a.code=3:typeof a=="string"&&(a={message:a,code:3}),i.error(a)});const s=this.options_.bufferBasedABR?Fr.movingAverageBandwidthSelector(.55):Fr.STANDARD_PLAYLIST_SELECTOR;this.playlistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):s.bind(this),this.playlistController_.selectInitialPlaylist=Fr.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.playlistController_.mainPlaylistLoader_,this.mediaSource=this.playlistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get(){return this.playlistController_.selectPlaylist},set(i){this.playlistController_.selectPlaylist=i.bind(this)}},throughput:{get(){return this.playlistController_.mainSegmentLoader_.throughput.rate},set(i){this.playlistController_.mainSegmentLoader_.throughput.rate=i,this.playlistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get(){let i=this.playlistController_.mainSegmentLoader_.bandwidth;const a=De.navigator.connection||De.navigator.mozConnection||De.navigator.webkitConnection,l=1e7;if(this.options_.useNetworkInformationApi&&a){const c=a.downlink*1e3*1e3;c>=l&&i>=l?i=Math.max(i,c):i=c}return i},set(i){this.playlistController_.mainSegmentLoader_.bandwidth=i,this.playlistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get(){const i=1/(this.bandwidth||1);let a;return this.throughput>0?a=1/this.throughput:a=0,Math.floor(1/(i+a))},set(){tt.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:()=>this.bandwidth||0,enumerable:!0},mediaRequests:{get:()=>this.playlistController_.mediaRequests_()||0,enumerable:!0},mediaRequestsAborted:{get:()=>this.playlistController_.mediaRequestsAborted_()||0,enumerable:!0},mediaRequestsTimedout:{get:()=>this.playlistController_.mediaRequestsTimedout_()||0,enumerable:!0},mediaRequestsErrored:{get:()=>this.playlistController_.mediaRequestsErrored_()||0,enumerable:!0},mediaTransferDuration:{get:()=>this.playlistController_.mediaTransferDuration_()||0,enumerable:!0},mediaBytesTransferred:{get:()=>this.playlistController_.mediaBytesTransferred_()||0,enumerable:!0},mediaSecondsLoaded:{get:()=>this.playlistController_.mediaSecondsLoaded_()||0,enumerable:!0},mediaAppends:{get:()=>this.playlistController_.mediaAppends_()||0,enumerable:!0},mainAppendsToLoadedData:{get:()=>this.playlistController_.mainAppendsToLoadedData_()||0,enumerable:!0},audioAppendsToLoadedData:{get:()=>this.playlistController_.audioAppendsToLoadedData_()||0,enumerable:!0},appendsToLoadedData:{get:()=>this.playlistController_.appendsToLoadedData_()||0,enumerable:!0},timeToLoadedData:{get:()=>this.playlistController_.timeToLoadedData_()||0,enumerable:!0},buffered:{get:()=>Od(this.tech_.buffered()),enumerable:!0},currentTime:{get:()=>this.tech_.currentTime(),enumerable:!0},currentSource:{get:()=>this.tech_.currentSource_,enumerable:!0},currentTech:{get:()=>this.tech_.name_,enumerable:!0},duration:{get:()=>this.tech_.duration(),enumerable:!0},main:{get:()=>this.playlists.main,enumerable:!0},playerDimensions:{get:()=>this.tech_.currentDimensions(),enumerable:!0},seekable:{get:()=>Od(this.tech_.seekable()),enumerable:!0},timestamp:{get:()=>Date.now(),enumerable:!0},videoPlaybackQuality:{get:()=>this.tech_.getVideoPlaybackQuality(),enumerable:!0}}),this.tech_.one("canplay",this.playlistController_.setupFirstPlay.bind(this.playlistController_)),this.tech_.on("bandwidthupdate",()=>{this.options_.useBandwidthFromLocalStorage&&Uhe({bandwidth:this.bandwidth,throughput:Math.round(this.throughput)})}),this.playlistController_.on("selectedinitialmedia",()=>{Nhe(this)}),this.playlistController_.sourceUpdater_.on("createdsourcebuffers",()=>{this.setupEme_()}),this.on(this.playlistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.playlistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=De.URL.createObjectURL(this.playlistController_.mediaSource),(tt.browser.IS_ANY_SAFARI||tt.browser.IS_IOS)&&this.options_.overrideNative&&this.options_.sourceType==="hls"&&typeof this.tech_.addSourceElement=="function"?(this.tech_.addSourceElement(this.mediaSourceUrl_),this.tech_.addSourceElement(this.source_.src)):this.tech_.src(this.mediaSourceUrl_))}createKeySessions_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),$he({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:e&&e.media(),mainPlaylists:this.playlists.main.playlists}).then(()=>{this.logger_("created EME key session"),this.playlistController_.sourceUpdater_.initializedEme()}).catch(n=>{this.logger_("error while creating EME key session",n),this.player_.error({message:"Failed to initialize media keys for EME",code:3})})}handleWaitingForKey_(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()}setupEme_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader,n=zhe({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:e&&e.media()});if(this.player_.tech_.on("keystatuschange",r=>{this.playlistController_.updatePlaylistByKeyStatus(r.keyId,r.status)}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),!n){this.playlistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()}setupQualityLevels_(){const e=tt.players[this.tech_.options_.playerId];!e||!e.qualityLevels||this.qualityLevels_||(this.qualityLevels_=e.qualityLevels(),this.playlistController_.on("selectedinitialmedia",()=>{Lhe(this.qualityLevels_,this)}),this.playlists.on("mediachange",()=>{Y8(this.qualityLevels_,this.playlists)}))}static version(){return{"@videojs/http-streaming":V8,"mux.js":Ihe,"mpd-parser":Ohe,"m3u8-parser":Mhe,"aes-decrypter":Rhe}}version(){return this.constructor.version()}canChangeType(){return $8.canChangeType()}play(){this.playlistController_.play()}setCurrentTime(e){this.playlistController_.setCurrentTime(e)}duration(){return this.playlistController_.duration()}seekable(){return this.playlistController_.seekable()}dispose(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.playlistController_&&this.playlistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.mediaSourceUrl_&&De.URL.revokeObjectURL&&(De.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),super.dispose()}convertToProgramTime(e,n){return Gue({playlist:this.playlistController_.media(),time:e,callback:n})}seekToProgramTime(e,n,r=!0,s=2){return S8({programTime:e,playlist:this.playlistController_.media(),retryCount:s,pauseAfterSeek:r,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:n})}setupXhrHooks_(){this.xhr.onRequest=e=>{K8(this.xhr,e)},this.xhr.onResponse=e=>{X8(this.xhr,e)},this.xhr.offRequest=e=>{Q8(this.xhr,e)},this.xhr.offResponse=e=>{Z8(this.xhr,e)},this.player_.trigger("xhr-hooks-ready")}attachStreamingEventListeners_(){const e=["seekablerangeschanged","bufferedrangeschanged","contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"],n=["gapjumped","playedrangeschanged"];e.forEach(r=>{this.playlistController_.on(r,s=>{this.player_.trigger(Ge({},s))})}),n.forEach(r=>{this.playbackWatcher_.on(r,s=>{this.player_.trigger(Ge({},s))})})}}const xx={name:"videojs-http-streaming",VERSION:V8,canHandleSource(t,e={}){const n=ir(tt.options,e);return!n.vhs.experimentalUseMMS&&!Zm("avc1.4d400d,mp4a.40.2",!1)?!1:xx.canPlayType(t.type,n)},handleSource(t,e,n={}){const r=ir(tt.options,n);return e.vhs=new J8(t,e,r),e.vhs.xhr=b8(),e.vhs.setupXhrHooks_(),e.vhs.src(t.src,t.type),e.vhs},canPlayType(t,e){const n=vL(t);if(!n)return"";const r=xx.getOverrideNative(e);return!Fr.supportsTypeNatively(n)||r?"maybe":""},getOverrideNative(t={}){const{vhs:e={}}=t,n=!(tt.browser.IS_ANY_SAFARI||tt.browser.IS_IOS),{overrideNative:r=n}=e;return r}},Vhe=()=>Zm("avc1.4d400d,mp4a.40.2",!0);Vhe()&&tt.getTech("Html5").registerSourceHandler(xx,0);tt.VhsHandler=J8;tt.VhsSourceHandler=xx;tt.Vhs=Fr;tt.use||tt.registerComponent("Vhs",Fr);tt.options.vhs=tt.options.vhs||{};(!tt.getPlugin||!tt.getPlugin("reloadSourceOnError"))&&tt.registerPlugin("reloadSourceOnError",Phe);var eF={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},t4=nn.createContext&&nn.createContext(eF),qhe=["attr","size","title"];function Yhe(t,e){if(t==null)return{};var n=Ghe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ghe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function vx(){return vx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vx.apply(this,arguments)}function n4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function _x(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n4(Object(n),!0).forEach(function(r){Khe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Khe(t,e,n){return e=Xhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xhe(t){var e=Qhe(t,"string");return typeof e=="symbol"?e:e+""}function Qhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tF(t){return t&&t.map((e,n)=>nn.createElement(e.tag,_x({key:n},e.attr),tF(e.child)))}function wi(t){return e=>nn.createElement(Zhe,vx({attr:_x({},t.attr)},e),tF(t.child))}function Zhe(t){var e=n=>{var{attr:r,size:s,title:i}=t,a=Yhe(t,qhe),l=s||n.size||"1em",c;return n.className&&(c=n.className),t.className&&(c=(c?c+" ":"")+t.className),nn.createElement("svg",vx({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:c,style:_x(_x({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&nn.createElement("title",null,i),t.children)};return t4!==void 0?nn.createElement(t4.Consumer,null,n=>e(n)):e(eF)}function vb(t){return wi({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function wx(t){return wi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function Jhe(t){return wi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(t)}function nF(t){return wi({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function rF(t){return wi({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 416h-23.41L277.88 53.69A32 32 0 0 0 247.58 32h-47.16a32 32 0 0 0-30.3 21.69L39.41 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-19.58l23.3-64h152.56l23.3 64H304a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM176.85 272L224 142.51 271.15 272z"},child:[]}]})(t)}function sF(t){return wi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(t)}function iF(t){return wi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(t)}function Sx(t){return wi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"},child:[]}]})(t)}function Vd(t){return wi({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function aF(t){return wi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(t)}function tp(t){return wi({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function np(t){return wi({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function efe(t){return wi({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z"},child:[]}]})(t)}function tfe(t){return wi({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}function yi(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var nfe=typeof Symbol=="function"&&Symbol.observable||"@@observable",r4=nfe,s4=()=>Math.random().toString(36).substring(7).split("").join("."),rfe={INIT:`@@redux/INIT${s4()}`,REPLACE:`@@redux/REPLACE${s4()}`},i4=rfe;function sfe(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function oF(t,e,n){if(typeof t!="function")throw new Error(yi(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(yi(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(yi(1));return n(oF)(t,e)}let r=t,s=e,i=new Map,a=i,l=0,c=!1;function u(){a===i&&(a=new Map,i.forEach((x,_)=>{a.set(_,x)}))}function h(){if(c)throw new Error(yi(3));return s}function f(x){if(typeof x!="function")throw new Error(yi(4));if(c)throw new Error(yi(5));let _=!0;u();const S=l++;return a.set(S,x),function(){if(_){if(c)throw new Error(yi(6));_=!1,u(),a.delete(S),i=null}}}function m(x){if(!sfe(x))throw new Error(yi(7));if(typeof x.type>"u")throw new Error(yi(8));if(typeof x.type!="string")throw new Error(yi(17));if(c)throw new Error(yi(9));try{c=!0,s=r(s,x)}finally{c=!1}return(i=a).forEach(S=>{S()}),x}function g(x){if(typeof x!="function")throw new Error(yi(10));r=x,m({type:i4.REPLACE})}function b(){const x=f;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(yi(11));function S(){const D=_;D.next&&D.next(h())}return S(),{unsubscribe:x(S)}},[r4](){return this}}}return m({type:i4.INIT}),{dispatch:m,subscribe:f,getState:h,replaceReducer:g,[r4]:b}}function a4(t,e){return function(...n){return e(t.apply(this,n))}}function o4(t,e){if(typeof t=="function")return a4(t,e);if(typeof t!="object"||t===null)throw new Error(yi(16));const n={};for(const r in t){const s=t[r];typeof s=="function"&&(n[r]=a4(s,e))}return n}function lF(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function ife(...t){return e=>(n,r)=>{const s=e(n,r);let i=()=>{throw new Error(yi(15))};const a={getState:s.getState,dispatch:(c,...u)=>i(c,...u)},l=t.map(c=>c(a));return i=lF(...l)(s.dispatch),{...s,dispatch:i}}}var zw={exports:{}},Uw={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l4;function afe(){if(l4)return Uw;l4=1;var t=Ja();function e(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,s=t.useRef,i=t.useEffect,a=t.useMemo,l=t.useDebugValue;return Uw.useSyncExternalStoreWithSelector=function(c,u,h,f,m){var g=s(null);if(g.current===null){var b={hasValue:!1,value:null};g.current=b}else b=g.current;g=a(function(){function x(j){if(!_){if(_=!0,S=j,j=f(j),m!==void 0&&b.hasValue){var A=b.value;if(m(A,j))return T=A}return T=j}if(A=T,n(S,j))return A;var O=f(j);return m!==void 0&&m(A,O)?(S=j,A):(S=j,T=O)}var _=!1,S,T,D=h===void 0?null:h;return[function(){return x(u())},D===null?void 0:function(){return x(D())}]},[u,h,f,m]);var y=r(c,g[0],g[1]);return i(function(){b.hasValue=!0,b.value=y},[y]),l(y),y},Uw}var c4;function ofe(){return c4||(c4=1,zw.exports=afe()),zw.exports}ofe();var lfe=w.version.startsWith("19"),cfe=Symbol.for(lfe?"react.transitional.element":"react.element"),ufe=Symbol.for("react.portal"),dfe=Symbol.for("react.fragment"),hfe=Symbol.for("react.strict_mode"),ffe=Symbol.for("react.profiler"),pfe=Symbol.for("react.consumer"),mfe=Symbol.for("react.context"),cF=Symbol.for("react.forward_ref"),gfe=Symbol.for("react.suspense"),yfe=Symbol.for("react.suspense_list"),Hk=Symbol.for("react.memo"),bfe=Symbol.for("react.lazy"),xfe=cF,vfe=Hk;function _fe(t){if(typeof t=="object"&&t!==null){const{$$typeof:e}=t;switch(e){case cfe:switch(t=t.type,t){case dfe:case ffe:case hfe:case gfe:case yfe:return t;default:switch(t=t&&t.$$typeof,t){case mfe:case cF:case bfe:case Hk:return t;case pfe:return t;default:return e}}case ufe:return e}}}function wfe(t){return _fe(t)===Hk}function Sfe(t,e,n,r,{areStatesEqual:s,areOwnPropsEqual:i,areStatePropsEqual:a}){let l=!1,c,u,h,f,m;function g(S,T){return c=S,u=T,h=t(c,u),f=e(r,u),m=n(h,f,u),l=!0,m}function b(){return h=t(c,u),e.dependsOnOwnProps&&(f=e(r,u)),m=n(h,f,u),m}function y(){return t.dependsOnOwnProps&&(h=t(c,u)),e.dependsOnOwnProps&&(f=e(r,u)),m=n(h,f,u),m}function x(){const S=t(c,u),T=!a(S,h);return h=S,T&&(m=n(h,f,u)),m}function _(S,T){const D=!i(T,u),j=!s(S,c,T,u);return c=S,u=T,D&&j?b():D?y():j?x():m}return function(T,D){return l?_(T,D):g(T,D)}}function Cfe(t,{initMapStateToProps:e,initMapDispatchToProps:n,initMergeProps:r,...s}){const i=e(t,s),a=n(t,s),l=r(t,s);return Sfe(i,a,l,t,s)}function Tfe(t,e){const n={};for(const r in t){const s=t[r];typeof s=="function"&&(n[r]=(...i)=>e(s(...i)))}return n}function WS(t){return function(n){const r=t(n);function s(){return r}return s.dependsOnOwnProps=!1,s}}function u4(t){return t.dependsOnOwnProps?!!t.dependsOnOwnProps:t.length!==1}function uF(t,e){return function(r,{displayName:s}){const i=function(l,c){return i.dependsOnOwnProps?i.mapToProps(l,c):i.mapToProps(l,void 0)};return i.dependsOnOwnProps=!0,i.mapToProps=function(l,c){i.mapToProps=t,i.dependsOnOwnProps=u4(t);let u=i(l,c);return typeof u=="function"&&(i.mapToProps=u,i.dependsOnOwnProps=u4(u),u=i(l,c)),u},i}}function Wk(t,e){return(n,r)=>{throw new Error(`Invalid value of type ${typeof t} for ${e} argument when connecting component ${r.wrappedComponentName}.`)}}function kfe(t){return t&&typeof t=="object"?WS(e=>Tfe(t,e)):t?typeof t=="function"?uF(t):Wk(t,"mapDispatchToProps"):WS(e=>({dispatch:e}))}function Efe(t){return t?typeof t=="function"?uF(t):Wk(t,"mapStateToProps"):WS(()=>({}))}function jfe(t,e,n){return{...n,...t,...e}}function Nfe(t){return function(n,{displayName:r,areMergedPropsEqual:s}){let i=!1,a;return function(c,u,h){const f=t(c,u,h);return i?s(f,a)||(a=f):(i=!0,a=f),a}}}function Dfe(t){return t?typeof t=="function"?Nfe(t):Wk(t,"mergeProps"):()=>jfe}function Afe(t){t()}function Pfe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Afe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const s=e={callback:n,next:null,prev:e};return s.prev?s.prev.next=s:t=s,function(){!r||t===null||(r=!1,s.next?s.next.prev=s.prev:e=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}var d4={notify(){},get:()=>[]};function dF(t,e){let n,r=d4,s=0,i=!1;function a(y){h();const x=r.subscribe(y);let _=!1;return()=>{_||(_=!0,x(),f())}}function l(){r.notify()}function c(){b.onStateChange&&b.onStateChange()}function u(){return i}function h(){s++,n||(n=e?e.addNestedSub(c):t.subscribe(c),r=Pfe())}function f(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=d4)}function m(){i||(i=!0,h())}function g(){i&&(i=!1,f())}const b={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:m,tryUnsubscribe:g,getListeners:()=>r};return b}var Ife=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ofe=Ife(),Mfe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Rfe=Mfe(),Lfe=()=>Ofe||Rfe?w.useLayoutEffect:w.useEffect,Cx=Lfe();function h4(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Hw(t,e){if(h4(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(!Object.prototype.hasOwnProperty.call(e,n[s])||!h4(t[n[s]],e[n[s]]))return!1;return!0}var Ffe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Bfe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},$fe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},hF={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},zfe={[xfe]:$fe,[vfe]:hF};function f4(t){return wfe(t)?hF:zfe[t.$$typeof]||Ffe}var Ufe=Object.defineProperty,Hfe=Object.getOwnPropertyNames,p4=Object.getOwnPropertySymbols,Wfe=Object.getOwnPropertyDescriptor,Vfe=Object.getPrototypeOf,m4=Object.prototype;function VS(t,e){if(typeof e!="string"){if(m4){const i=Vfe(e);i&&i!==m4&&VS(t,i)}let n=Hfe(e);p4&&(n=n.concat(p4(e)));const r=f4(t),s=f4(e);for(let i=0;i<n.length;++i){const a=n[i];if(!Bfe[a]&&!(s&&s[a])&&!(r&&r[a])){const l=Wfe(e,a);try{Ufe(t,a,l)}catch{}}}}return t}var Ww=Symbol.for("react-redux-context"),Vw=typeof globalThis<"u"?globalThis:{};function qfe(){if(!w.createContext)return{};const t=Vw[Ww]??(Vw[Ww]=new Map);let e=t.get(w.createContext);return e||(e=w.createContext(null),t.set(w.createContext,e)),e}var fF=qfe(),Yfe=[null,null];function Gfe(t,e,n){Cx(()=>t(...e),n)}function Kfe(t,e,n,r,s,i){t.current=r,n.current=!1,s.current&&(s.current=null,i())}function Xfe(t,e,n,r,s,i,a,l,c,u,h){if(!t)return()=>{};let f=!1,m=null;const g=()=>{if(f||!l.current)return;const y=e.getState();let x,_;try{x=r(y,s.current)}catch(S){_=S,m=S}_||(m=null),x===i.current?a.current||u():(i.current=x,c.current=x,a.current=!0,h())};return n.onStateChange=g,n.trySubscribe(),g(),()=>{if(f=!0,n.tryUnsubscribe(),n.onStateChange=null,m)throw m}}function Qfe(t,e){return t===e}function Zfe(t,e,n,{pure:r,areStatesEqual:s=Qfe,areOwnPropsEqual:i=Hw,areStatePropsEqual:a=Hw,areMergedPropsEqual:l=Hw,forwardRef:c=!1,context:u=fF}={}){const h=u,f=Efe(t),m=kfe(e),g=Dfe(n),b=!!t;return x=>{const _=x.displayName||x.name||"Component",S=`Connect(${_})`,T={shouldHandleStateChanges:b,displayName:S,wrappedComponentName:_,WrappedComponent:x,initMapStateToProps:f,initMapDispatchToProps:m,initMergeProps:g,areStatesEqual:s,areStatePropsEqual:a,areOwnPropsEqual:i,areMergedPropsEqual:l};function D(O){const[L,P,N]=w.useMemo(()=>{const{reactReduxForwardedRef:nt,...ct}=O;return[O.context,nt,ct]},[O]),U=w.useMemo(()=>{let nt=h;return L!=null&&L.Consumer,nt},[L,h]),M=w.useContext(U),q=!!O.store&&!!O.store.getState&&!!O.store.dispatch,E=!!M&&!!M.store,G=q?O.store:M.store,Q=E?M.getServerState:G.getState,re=w.useMemo(()=>Cfe(G.dispatch,T),[G]),[ee,Z]=w.useMemo(()=>{if(!b)return Yfe;const nt=dF(G,q?void 0:M.subscription),ct=nt.notifyNestedSubs.bind(nt);return[nt,ct]},[G,q,M]),K=w.useMemo(()=>q?M:{...M,subscription:ee},[q,M,ee]),F=w.useRef(void 0),W=w.useRef(N),me=w.useRef(void 0),ne=w.useRef(!1),ge=w.useRef(!1),we=w.useRef(void 0);Cx(()=>(ge.current=!0,()=>{ge.current=!1}),[]);const je=w.useMemo(()=>()=>me.current&&N===W.current?me.current:re(G.getState(),N),[G,N]),Re=w.useMemo(()=>ct=>ee?Xfe(b,G,ee,re,W,F,ne,ge,me,Z,ct):()=>{},[ee]);Gfe(Kfe,[W,F,ne,N,me,Z]);let ke;try{ke=w.useSyncExternalStore(Re,je,Q?()=>re(Q(),N):je)}catch(nt){throw we.current&&(nt.message+=`
The error may be correlated with this previous error:
${we.current.stack}

`),nt}Cx(()=>{we.current=void 0,me.current=void 0,F.current=ke});const We=w.useMemo(()=>w.createElement(x,{...ke,ref:P}),[P,x,ke]);return w.useMemo(()=>b?w.createElement(U.Provider,{value:K},We):We,[U,We,K])}const A=w.memo(D);if(A.WrappedComponent=x,A.displayName=D.displayName=S,c){const L=w.forwardRef(function(N,U){return w.createElement(A,{...N,reactReduxForwardedRef:U})});return L.displayName=S,L.WrappedComponent=x,VS(L,x)}return VS(A,x)}}var pF=Zfe;function Jfe(t){const{children:e,context:n,serverState:r,store:s}=t,i=w.useMemo(()=>{const c=dF(s);return{store:s,subscription:c,getServerState:r?()=>r:void 0}},[s,r]),a=w.useMemo(()=>s.getState(),[s]);Cx(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==s.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,a]);const l=n||fF;return w.createElement(l.Provider,{value:i},e)}var epe=Jfe,tpe="Invariant failed";function npe(t,e){throw new Error(tpe)}var Eo=function(e){var n=e.top,r=e.right,s=e.bottom,i=e.left,a=r-i,l=s-n,c={top:n,right:r,bottom:s,left:i,width:a,height:l,x:i,y:n,center:{x:(r+i)/2,y:(s+n)/2}};return c},Vk=function(e,n){return{top:e.top-n.top,left:e.left-n.left,bottom:e.bottom+n.bottom,right:e.right+n.right}},g4=function(e,n){return{top:e.top+n.top,left:e.left+n.left,bottom:e.bottom-n.bottom,right:e.right-n.right}},rpe=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},qw={top:0,right:0,bottom:0,left:0},qk=function(e){var n=e.borderBox,r=e.margin,s=r===void 0?qw:r,i=e.border,a=i===void 0?qw:i,l=e.padding,c=l===void 0?qw:l,u=Eo(Vk(n,s)),h=Eo(g4(n,a)),f=Eo(g4(h,c));return{marginBox:u,borderBox:Eo(n),paddingBox:h,contentBox:f,margin:s,border:a,padding:c}},Fa=function(e){var n=e.slice(0,-2),r=e.slice(-2);if(r!=="px")return 0;var s=Number(n);return isNaN(s)&&npe(),s},spe=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Tx=function(e,n){var r=e.borderBox,s=e.border,i=e.margin,a=e.padding,l=rpe(r,n);return qk({borderBox:l,border:s,margin:i,padding:a})},kx=function(e,n){return n===void 0&&(n=spe()),Tx(e,n)},mF=function(e,n){var r={top:Fa(n.marginTop),right:Fa(n.marginRight),bottom:Fa(n.marginBottom),left:Fa(n.marginLeft)},s={top:Fa(n.paddingTop),right:Fa(n.paddingRight),bottom:Fa(n.paddingBottom),left:Fa(n.paddingLeft)},i={top:Fa(n.borderTopWidth),right:Fa(n.borderRightWidth),bottom:Fa(n.borderBottomWidth),left:Fa(n.borderLeftWidth)};return qk({borderBox:e,margin:r,padding:s,border:i})},gF=function(e){var n=e.getBoundingClientRect(),r=window.getComputedStyle(e);return mF(n,r)},Mg=function(e){var n=[],r=null,s=function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];n=l,!r&&(r=requestAnimationFrame(function(){r=null,e.apply(void 0,n)}))};return s.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},s};function yF(t,e){}yF.bind(null,"warn");yF.bind(null,"error");function Cu(){}function ipe(t,e){return{...t,...e}}function Va(t,e,n){const r=e.map(s=>{const i=ipe(n,s.options);return t.addEventListener(s.eventName,s.fn,i),function(){t.removeEventListener(s.eventName,s.fn,i)}});return function(){r.forEach(i=>{i()})}}const ape="Invariant failed";class Ex extends Error{}Ex.prototype.toString=function(){return this.message};function Bt(t,e){throw new Ex(ape)}class ope extends nn.Component{constructor(...e){super(...e),this.callbacks=null,this.unbind=Cu,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof Ex&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=Va(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(e instanceof Ex){this.setState({});return}throw e}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const lpe=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,jx=t=>t+1,cpe=t=>`
  You have lifted an item in position ${jx(t.source.index)}
`,bF=(t,e)=>{const n=t.droppableId===e.droppableId,r=jx(t.index),s=jx(e.index);return n?`
      You have moved the item from position ${r}
      to position ${s}
    `:`
    You have moved the item from position ${r}
    in list ${t.droppableId}
    to list ${e.droppableId}
    in position ${s}
  `},xF=(t,e,n)=>e.droppableId===n.droppableId?`
      The item ${t}
      has been combined with ${n.draggableId}`:`
      The item ${t}
      in list ${e.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,upe=t=>{const e=t.destination;if(e)return bF(t.source,e);const n=t.combine;return n?xF(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},y4=t=>`
  The item has returned to its starting position
  of ${jx(t.index)}
`,dpe=t=>{if(t.reason==="CANCEL")return`
      Movement cancelled.
      ${y4(t.source)}
    `;const e=t.destination,n=t.combine;return e?`
      You have dropped the item.
      ${bF(t.source,e)}
    `:n?`
      You have dropped the item.
      ${xF(t.draggableId,t.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${y4(t.source)}
  `},_b={dragHandleUsageInstructions:lpe,onDragStart:cpe,onDragUpdate:upe,onDragEnd:dpe};function hpe(t,e){return!!(t===e||Number.isNaN(t)&&Number.isNaN(e))}function vF(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!hpe(t[n],e[n]))return!1;return!0}function $n(t,e){const n=w.useState(()=>({inputs:e,result:t()}))[0],r=w.useRef(!0),s=w.useRef(n),a=r.current||!!(e&&s.current.inputs&&vF(e,s.current.inputs))?s.current:{inputs:e,result:t()};return w.useEffect(()=>{r.current=!1,s.current=a},[a]),a.result}function ln(t,e){return $n(()=>t,e)}const Es={x:0,y:0},Ls=(t,e)=>({x:t.x+e.x,y:t.y+e.y}),ca=(t,e)=>({x:t.x-e.x,y:t.y-e.y}),Tu=(t,e)=>t.x===e.x&&t.y===e.y,kp=t=>({x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}),Jd=(t,e,n=0)=>t==="x"?{x:e,y:n}:{x:n,y:e},Rg=(t,e)=>Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2),b4=(t,e)=>Math.min(...e.map(n=>Rg(t,n))),_F=t=>e=>({x:t(e.x),y:t(e.y)});var fpe=(t,e)=>{const n=Eo({top:Math.max(e.top,t.top),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom),left:Math.max(e.left,t.left)});return n.width<=0||n.height<=0?null:n};const v0=(t,e)=>({top:t.top+e.y,left:t.left+e.x,bottom:t.bottom+e.y,right:t.right+e.x}),x4=t=>[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}],ppe={top:0,right:0,bottom:0,left:0},mpe=(t,e)=>e?v0(t,e.scroll.diff.displacement):t,gpe=(t,e,n)=>n&&n.increasedBy?{...t,[e.end]:t[e.end]+n.increasedBy[e.line]}:t,ype=(t,e)=>e&&e.shouldClipSubject?fpe(e.pageMarginBox,t):Eo(t);var rp=({page:t,withPlaceholder:e,axis:n,frame:r})=>{const s=mpe(t.marginBox,r),i=gpe(s,n,e),a=ype(i,r);return{page:t,withPlaceholder:e,active:a}},Yk=(t,e)=>{t.frame||Bt();const n=t.frame,r=ca(e,n.scroll.initial),s=kp(r),i={...n,scroll:{initial:n.scroll.initial,current:e,diff:{value:r,displacement:s},max:n.scroll.max}},a=rp({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:i});return{...t,frame:i,subject:a}};function ks(t,e=vF){let n=null;function r(...s){if(n&&n.lastThis===this&&e(s,n.lastArgs))return n.lastResult;const i=t.apply(this,s);return n={lastResult:i,lastArgs:s,lastThis:this},i}return r.clear=function(){n=null},r}const wF=ks(t=>t.reduce((e,n)=>(e[n.descriptor.id]=n,e),{})),SF=ks(t=>t.reduce((e,n)=>(e[n.descriptor.id]=n,e),{})),Zv=ks(t=>Object.values(t)),bpe=ks(t=>Object.values(t));var Ep=ks((t,e)=>bpe(e).filter(r=>t===r.descriptor.droppableId).sort((r,s)=>r.descriptor.index-s.descriptor.index));function Gk(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function Jv(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var e1=ks((t,e)=>e.filter(n=>n.descriptor.id!==t.descriptor.id)),xpe=({isMovingForward:t,draggable:e,destination:n,insideDestination:r,previousImpact:s})=>{if(!n.isCombineEnabled||!Gk(s))return null;function a(g){const b={type:"COMBINE",combine:{draggableId:g,droppableId:n.descriptor.id}};return{...s,at:b}}const l=s.displaced.all,c=l.length?l[0]:null;if(t)return c?a(c):null;const u=e1(e,r);if(!c){if(!u.length)return null;const g=u[u.length-1];return a(g.descriptor.id)}const h=u.findIndex(g=>g.descriptor.id===c);h===-1&&Bt();const f=h-1;if(f<0)return null;const m=u[f];return a(m.descriptor.id)},jp=(t,e)=>t.descriptor.droppableId===e.descriptor.id;const CF={point:Es,value:0},Lg={invisible:{},visible:{},all:[]},vpe={displaced:Lg,displacedBy:CF,at:null};var Ya=(t,e)=>n=>t<=n&&n<=e,TF=t=>{const e=Ya(t.top,t.bottom),n=Ya(t.left,t.right);return r=>{if(e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right))return!0;const i=e(r.top)||e(r.bottom),a=n(r.left)||n(r.right);if(i&&a)return!0;const c=r.top<t.top&&r.bottom>t.bottom,u=r.left<t.left&&r.right>t.right;return c&&u?!0:c&&a||u&&i}},_pe=t=>{const e=Ya(t.top,t.bottom),n=Ya(t.left,t.right);return r=>e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right)};const Kk={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},kF={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var wpe=t=>e=>{const n=Ya(e.top,e.bottom),r=Ya(e.left,e.right);return s=>t===Kk?n(s.top)&&n(s.bottom):r(s.left)&&r(s.right)};const Spe=(t,e)=>{const n=e.frame?e.frame.scroll.diff.displacement:Es;return v0(t,n)},Cpe=(t,e,n)=>e.subject.active?n(e.subject.active)(t):!1,Tpe=(t,e,n)=>n(e)(t),Xk=({target:t,destination:e,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:s})=>{const i=r?Spe(t,e):t;return Cpe(i,e,s)&&Tpe(i,n,s)},kpe=t=>Xk({...t,isVisibleThroughFrameFn:TF}),EF=t=>Xk({...t,isVisibleThroughFrameFn:_pe}),Epe=t=>Xk({...t,isVisibleThroughFrameFn:wpe(t.destination.axis)}),jpe=(t,e,n)=>{if(typeof n=="boolean")return n;if(!e)return!0;const{invisible:r,visible:s}=e;if(r[t])return!1;const i=s[t];return i?i.shouldAnimate:!0};function Npe(t,e){const n=t.page.marginBox,r={top:e.point.y,right:0,bottom:0,left:e.point.x};return Eo(Vk(n,r))}function Fg({afterDragging:t,destination:e,displacedBy:n,viewport:r,forceShouldAnimate:s,last:i}){return t.reduce(function(l,c){const u=Npe(c,n),h=c.descriptor.id;if(l.all.push(h),!kpe({target:u,destination:e,viewport:r,withDroppableDisplacement:!0}))return l.invisible[c.descriptor.id]=!0,l;const m=jpe(h,i,s),g={draggableId:h,shouldAnimate:m};return l.visible[h]=g,l},{all:[],visible:{},invisible:{}})}function Dpe(t,e){if(!t.length)return 0;const n=t[t.length-1].descriptor.index;return e.inHomeList?n:n+1}function v4({insideDestination:t,inHomeList:e,displacedBy:n,destination:r}){const s=Dpe(t,{inHomeList:e});return{displaced:Lg,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function Nx({draggable:t,insideDestination:e,destination:n,viewport:r,displacedBy:s,last:i,index:a,forceShouldAnimate:l}){const c=jp(t,n);if(a==null)return v4({insideDestination:e,inHomeList:c,displacedBy:s,destination:n});const u=e.find(b=>b.descriptor.index===a);if(!u)return v4({insideDestination:e,inHomeList:c,displacedBy:s,destination:n});const h=e1(t,e),f=e.indexOf(u),m=h.slice(f);return{displaced:Fg({afterDragging:m,destination:n,displacedBy:s,last:i,viewport:r.frame,forceShouldAnimate:l}),displacedBy:s,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:a}}}}function Du(t,e){return!!e.effected[t]}var Ape=({isMovingForward:t,destination:e,draggables:n,combine:r,afterCritical:s})=>{if(!e.isCombineEnabled)return null;const i=r.draggableId,l=n[i].descriptor.index;return Du(i,s)?t?l:l-1:t?l+1:l},Ppe=({isMovingForward:t,isInHomeList:e,insideDestination:n,location:r})=>{if(!n.length)return null;const s=r.index,i=t?s+1:s-1,a=n[0].descriptor.index,l=n[n.length-1].descriptor.index,c=e?l:l+1;return i<a||i>c?null:i},Ipe=({isMovingForward:t,isInHomeList:e,draggable:n,draggables:r,destination:s,insideDestination:i,previousImpact:a,viewport:l,afterCritical:c})=>{const u=a.at;if(u||Bt(),u.type==="REORDER"){const f=Ppe({isMovingForward:t,isInHomeList:e,location:u.destination,insideDestination:i});return f==null?null:Nx({draggable:n,insideDestination:i,destination:s,viewport:l,last:a.displaced,displacedBy:a.displacedBy,index:f})}const h=Ape({isMovingForward:t,destination:s,displaced:a.displaced,draggables:r,combine:u.combine,afterCritical:c});return h==null?null:Nx({draggable:n,insideDestination:i,destination:s,viewport:l,last:a.displaced,displacedBy:a.displacedBy,index:h})},Ope=({displaced:t,afterCritical:e,combineWith:n,displacedBy:r})=>{const s=!!(t.visible[n]||t.invisible[n]);return Du(n,e)?s?Es:kp(r.point):s?r.point:Es},Mpe=({afterCritical:t,impact:e,draggables:n})=>{const r=Jv(e);r||Bt();const s=r.draggableId,i=n[s].page.borderBox.center,a=Ope({displaced:e.displaced,afterCritical:t,combineWith:s,displacedBy:e.displacedBy});return Ls(i,a)};const jF=(t,e)=>e.margin[t.start]+e.borderBox[t.size]/2,Rpe=(t,e)=>e.margin[t.end]+e.borderBox[t.size]/2,Qk=(t,e,n)=>e[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2,_4=({axis:t,moveRelativeTo:e,isMoving:n})=>Jd(t.line,e.marginBox[t.end]+jF(t,n),Qk(t,e.marginBox,n)),w4=({axis:t,moveRelativeTo:e,isMoving:n})=>Jd(t.line,e.marginBox[t.start]-Rpe(t,n),Qk(t,e.marginBox,n)),Lpe=({axis:t,moveInto:e,isMoving:n})=>Jd(t.line,e.contentBox[t.start]+jF(t,n),Qk(t,e.contentBox,n));var Fpe=({impact:t,draggable:e,draggables:n,droppable:r,afterCritical:s})=>{const i=Ep(r.descriptor.id,n),a=e.page,l=r.axis;if(!i.length)return Lpe({axis:l,moveInto:r.page,isMoving:a});const{displaced:c,displacedBy:u}=t,h=c.all[0];if(h){const m=n[h];if(Du(h,s))return w4({axis:l,moveRelativeTo:m.page,isMoving:a});const g=Tx(m.page,u.point);return w4({axis:l,moveRelativeTo:g,isMoving:a})}const f=i[i.length-1];if(f.descriptor.id===e.descriptor.id)return a.borderBox.center;if(Du(f.descriptor.id,s)){const m=Tx(f.page,kp(s.displacedBy.point));return _4({axis:l,moveRelativeTo:m,isMoving:a})}return _4({axis:l,moveRelativeTo:f.page,isMoving:a})},qS=(t,e)=>{const n=t.frame;return n?Ls(e,n.scroll.diff.displacement):e};const Bpe=({impact:t,draggable:e,droppable:n,draggables:r,afterCritical:s})=>{const i=e.page.borderBox.center,a=t.at;return!n||!a?i:a.type==="REORDER"?Fpe({impact:t,draggable:e,draggables:r,droppable:n,afterCritical:s}):Mpe({impact:t,draggables:r,afterCritical:s})};var t1=t=>{const e=Bpe(t),n=t.droppable;return n?qS(n,e):e},NF=(t,e)=>{const n=ca(e,t.scroll.initial),r=kp(n);return{frame:Eo({top:e.y,bottom:e.y+t.frame.height,left:e.x,right:e.x+t.frame.width}),scroll:{initial:t.scroll.initial,max:t.scroll.max,current:e,diff:{value:n,displacement:r}}}};function S4(t,e){return t.map(n=>e[n])}function $pe(t,e){for(let n=0;n<e.length;n++){const r=e[n].visible[t];if(r)return r}return null}var zpe=({impact:t,viewport:e,destination:n,draggables:r,maxScrollChange:s})=>{const i=NF(e,Ls(e.scroll.current,s)),a=n.frame?Yk(n,Ls(n.frame.scroll.current,s)):n,l=t.displaced,c=Fg({afterDragging:S4(l.all,r),destination:n,displacedBy:t.displacedBy,viewport:i.frame,last:l,forceShouldAnimate:!1}),u=Fg({afterDragging:S4(l.all,r),destination:a,displacedBy:t.displacedBy,viewport:e.frame,last:l,forceShouldAnimate:!1}),h={},f={},m=[l,c,u];return l.all.forEach(b=>{const y=$pe(b,m);if(y){f[b]=y;return}h[b]=!0}),{...t,displaced:{all:l.all,invisible:h,visible:f}}},Upe=(t,e)=>Ls(t.scroll.diff.displacement,e),Zk=({pageBorderBoxCenter:t,draggable:e,viewport:n})=>{const r=Upe(n,t),s=ca(r,e.page.borderBox.center);return Ls(e.client.borderBox.center,s)},DF=({draggable:t,destination:e,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:s,onlyOnMainAxis:i=!1})=>{const a=ca(n,t.page.borderBox.center),c={target:v0(t.page.borderBox,a),destination:e,withDroppableDisplacement:s,viewport:r};return i?Epe(c):EF(c)},Hpe=({isMovingForward:t,draggable:e,destination:n,draggables:r,previousImpact:s,viewport:i,previousPageBorderBoxCenter:a,previousClientSelection:l,afterCritical:c})=>{if(!n.isEnabled)return null;const u=Ep(n.descriptor.id,r),h=jp(e,n),f=xpe({isMovingForward:t,draggable:e,destination:n,insideDestination:u,previousImpact:s})||Ipe({isMovingForward:t,isInHomeList:h,draggable:e,draggables:r,destination:n,insideDestination:u,previousImpact:s,viewport:i,afterCritical:c});if(!f)return null;const m=t1({impact:f,draggable:e,droppable:n,draggables:r,afterCritical:c});if(DF({draggable:e,destination:n,newPageBorderBoxCenter:m,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Zk({pageBorderBoxCenter:m,draggable:e,viewport:i}),impact:f,scrollJumpRequest:null};const b=ca(m,a),y=zpe({impact:f,viewport:i,destination:n,draggables:r,maxScrollChange:b});return{clientSelection:l,impact:y,scrollJumpRequest:b}};const fi=t=>{const e=t.subject.active;return e||Bt(),e};var Wpe=({isMovingForward:t,pageBorderBoxCenter:e,source:n,droppables:r,viewport:s})=>{const i=n.subject.active;if(!i)return null;const a=n.axis,l=Ya(i[a.start],i[a.end]),c=Zv(r).filter(h=>h!==n).filter(h=>h.isEnabled).filter(h=>!!h.subject.active).filter(h=>TF(s.frame)(fi(h))).filter(h=>{const f=fi(h);return t?i[a.crossAxisEnd]<f[a.crossAxisEnd]:f[a.crossAxisStart]<i[a.crossAxisStart]}).filter(h=>{const f=fi(h),m=Ya(f[a.start],f[a.end]);return l(f[a.start])||l(f[a.end])||m(i[a.start])||m(i[a.end])}).sort((h,f)=>{const m=fi(h)[a.crossAxisStart],g=fi(f)[a.crossAxisStart];return t?m-g:g-m}).filter((h,f,m)=>fi(h)[a.crossAxisStart]===fi(m[0])[a.crossAxisStart]);if(!c.length)return null;if(c.length===1)return c[0];const u=c.filter(h=>Ya(fi(h)[a.start],fi(h)[a.end])(e[a.line]));return u.length===1?u[0]:u.length>1?u.sort((h,f)=>fi(h)[a.start]-fi(f)[a.start])[0]:c.sort((h,f)=>{const m=b4(e,x4(fi(h))),g=b4(e,x4(fi(f)));return m!==g?m-g:fi(h)[a.start]-fi(f)[a.start]})[0]};const C4=(t,e)=>{const n=t.page.borderBox.center;return Du(t.descriptor.id,e)?ca(n,e.displacedBy.point):n},Vpe=(t,e)=>{const n=t.page.borderBox;return Du(t.descriptor.id,e)?v0(n,kp(e.displacedBy.point)):n};var qpe=({pageBorderBoxCenter:t,viewport:e,destination:n,insideDestination:r,afterCritical:s})=>r.filter(a=>EF({target:Vpe(a,s),destination:n,viewport:e.frame,withDroppableDisplacement:!0})).sort((a,l)=>{const c=Rg(t,qS(n,C4(a,s))),u=Rg(t,qS(n,C4(l,s)));return c<u?-1:u<c?1:a.descriptor.index-l.descriptor.index})[0]||null,_0=ks(function(e,n){const r=n[e.line];return{value:r,point:Jd(e.line,r)}});const Ype=(t,e,n)=>{const r=t.axis;if(t.descriptor.mode==="virtual")return Jd(r.line,e[r.line]);const s=t.subject.page.contentBox[r.size],c=Ep(t.descriptor.id,n).reduce((u,h)=>u+h.client.marginBox[r.size],0)+e[r.line]-s;return c<=0?null:Jd(r.line,c)},AF=(t,e)=>({...t,scroll:{...t.scroll,max:e}}),PF=(t,e,n)=>{const r=t.frame;jp(e,t)&&Bt(),t.subject.withPlaceholder&&Bt();const s=_0(t.axis,e.displaceBy).point,i=Ype(t,s,n),a={placeholderSize:s,increasedBy:i,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!r){const h=rp({page:t.subject.page,withPlaceholder:a,axis:t.axis,frame:t.frame});return{...t,subject:h}}const l=i?Ls(r.scroll.max,i):r.scroll.max,c=AF(r,l),u=rp({page:t.subject.page,withPlaceholder:a,axis:t.axis,frame:c});return{...t,subject:u,frame:c}},Gpe=t=>{const e=t.subject.withPlaceholder;e||Bt();const n=t.frame;if(!n){const a=rp({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return{...t,subject:a}}const r=e.oldFrameMaxScroll;r||Bt();const s=AF(n,r),i=rp({page:t.subject.page,axis:t.axis,frame:s,withPlaceholder:null});return{...t,subject:i,frame:s}};var Kpe=({previousPageBorderBoxCenter:t,moveRelativeTo:e,insideDestination:n,draggable:r,draggables:s,destination:i,viewport:a,afterCritical:l})=>{if(!e){if(n.length)return null;const f={displaced:Lg,displacedBy:CF,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:0}}},m=t1({impact:f,draggable:r,droppable:i,draggables:s,afterCritical:l}),g=jp(r,i)?i:PF(i,r,s);return DF({draggable:r,destination:g,newPageBorderBoxCenter:m,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?f:null}const c=t[i.axis.line]<=e.page.borderBox.center[i.axis.line],u=(()=>{const f=e.descriptor.index;return e.descriptor.id===r.descriptor.id||c?f:f+1})(),h=_0(i.axis,r.displaceBy);return Nx({draggable:r,insideDestination:n,destination:i,viewport:a,displacedBy:h,last:Lg,index:u})},Xpe=({isMovingForward:t,previousPageBorderBoxCenter:e,draggable:n,isOver:r,draggables:s,droppables:i,viewport:a,afterCritical:l})=>{const c=Wpe({isMovingForward:t,pageBorderBoxCenter:e,source:r,droppables:i,viewport:a});if(!c)return null;const u=Ep(c.descriptor.id,s),h=qpe({pageBorderBoxCenter:e,viewport:a,destination:c,insideDestination:u,afterCritical:l}),f=Kpe({previousPageBorderBoxCenter:e,destination:c,draggable:n,draggables:s,moveRelativeTo:h,insideDestination:u,viewport:a,afterCritical:l});if(!f)return null;const m=t1({impact:f,draggable:n,droppable:c,draggables:s,afterCritical:l});return{clientSelection:Zk({pageBorderBoxCenter:m,draggable:n,viewport:a}),impact:f,scrollJumpRequest:null}},ha=t=>{const e=t.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null};const Qpe=(t,e)=>{const n=ha(t);return n?e[n]:null};var Zpe=({state:t,type:e})=>{const n=Qpe(t.impact,t.dimensions.droppables),r=!!n,s=t.dimensions.droppables[t.critical.droppable.id],i=n||s,a=i.axis.direction,l=a==="vertical"&&(e==="MOVE_UP"||e==="MOVE_DOWN")||a==="horizontal"&&(e==="MOVE_LEFT"||e==="MOVE_RIGHT");if(l&&!r)return null;const c=e==="MOVE_DOWN"||e==="MOVE_RIGHT",u=t.dimensions.draggables[t.critical.draggable.id],h=t.current.page.borderBoxCenter,{draggables:f,droppables:m}=t.dimensions;return l?Hpe({isMovingForward:c,previousPageBorderBoxCenter:h,draggable:u,destination:i,draggables:f,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):Xpe({isMovingForward:c,previousPageBorderBoxCenter:h,draggable:u,isOver:i,draggables:f,droppables:m,viewport:t.viewport,afterCritical:t.afterCritical})};function Cd(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function IF(t){const e=Ya(t.top,t.bottom),n=Ya(t.left,t.right);return function(s){return e(s.y)&&n(s.x)}}function Jpe(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top}function eme({pageBorderBox:t,draggable:e,candidates:n}){const r=e.page.borderBox.center,s=n.map(i=>{const a=i.axis,l=Jd(i.axis.line,t.center[a.line],i.page.borderBox.center[a.crossAxisLine]);return{id:i.descriptor.id,distance:Rg(r,l)}}).sort((i,a)=>a.distance-i.distance);return s[0]?s[0].id:null}function tme({pageBorderBox:t,draggable:e,droppables:n}){const r=Zv(n).filter(s=>{if(!s.isEnabled)return!1;const i=s.subject.active;if(!i||!Jpe(t,i))return!1;if(IF(i)(t.center))return!0;const a=s.axis,l=i.center[a.crossAxisLine],c=t[a.crossAxisStart],u=t[a.crossAxisEnd],h=Ya(i[a.crossAxisStart],i[a.crossAxisEnd]),f=h(c),m=h(u);return!f&&!m?!0:f?c<l:u>l});return r.length?r.length===1?r[0].descriptor.id:eme({pageBorderBox:t,draggable:e,candidates:r}):null}const OF=(t,e)=>Eo(v0(t,e));var nme=(t,e)=>{const n=t.frame;return n?OF(e,n.scroll.diff.value):e};function MF({displaced:t,id:e}){return!!(t.visible[e]||t.invisible[e])}function rme({draggable:t,closest:e,inHomeList:n}){return e?n&&e.descriptor.index>t.descriptor.index?e.descriptor.index-1:e.descriptor.index:null}var sme=({pageBorderBoxWithDroppableScroll:t,draggable:e,destination:n,insideDestination:r,last:s,viewport:i,afterCritical:a})=>{const l=n.axis,c=_0(n.axis,e.displaceBy),u=c.value,h=t[l.start],f=t[l.end],g=e1(e,r).find(y=>{const x=y.descriptor.id,_=y.page.borderBox.center[l.line],S=Du(x,a),T=MF({displaced:s,id:x});return S?T?f<=_:h<_-u:T?f<=_+u:h<_})||null,b=rme({draggable:e,closest:g,inHomeList:jp(e,n)});return Nx({draggable:e,insideDestination:r,destination:n,viewport:i,last:s,displacedBy:c,index:b})};const ime=4;var ame=({draggable:t,pageBorderBoxWithDroppableScroll:e,previousImpact:n,destination:r,insideDestination:s,afterCritical:i})=>{if(!r.isCombineEnabled)return null;const a=r.axis,l=_0(r.axis,t.displaceBy),c=l.value,u=e[a.start],h=e[a.end],m=e1(t,s).find(b=>{const y=b.descriptor.id,x=b.page.borderBox,S=x[a.size]/ime,T=Du(y,i),D=MF({displaced:n.displaced,id:y});return T?D?h>x[a.start]+S&&h<x[a.end]-S:u>x[a.start]-c+S&&u<x[a.end]-c-S:D?h>x[a.start]+c+S&&h<x[a.end]+c-S:u>x[a.start]+S&&u<x[a.end]-S});return m?{displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:m.descriptor.id,droppableId:r.descriptor.id}}}:null},RF=({pageOffset:t,draggable:e,draggables:n,droppables:r,previousImpact:s,viewport:i,afterCritical:a})=>{const l=OF(e.page.borderBox,t),c=tme({pageBorderBox:l,draggable:e,droppables:r});if(!c)return vpe;const u=r[c],h=Ep(u.descriptor.id,n),f=nme(u,l);return ame({pageBorderBoxWithDroppableScroll:f,draggable:e,previousImpact:s,destination:u,insideDestination:h,afterCritical:a})||sme({pageBorderBoxWithDroppableScroll:f,draggable:e,destination:u,insideDestination:h,last:s.displaced,viewport:i,afterCritical:a})},Jk=(t,e)=>({...t,[e.descriptor.id]:e});const ome=({previousImpact:t,impact:e,droppables:n})=>{const r=ha(t),s=ha(e);if(!r||r===s)return n;const i=n[r];if(!i.subject.withPlaceholder)return n;const a=Gpe(i);return Jk(n,a)};var lme=({draggable:t,draggables:e,droppables:n,previousImpact:r,impact:s})=>{const i=ome({previousImpact:r,impact:s,droppables:n}),a=ha(s);if(!a)return i;const l=n[a];if(jp(t,l)||l.subject.withPlaceholder)return i;const c=PF(l,t,e);return Jk(i,c)},sg=({state:t,clientSelection:e,dimensions:n,viewport:r,impact:s,scrollJumpRequest:i})=>{const a=r||t.viewport,l=n||t.dimensions,c=e||t.current.client.selection,u=ca(c,t.initial.client.selection),h={offset:u,selection:c,borderBoxCenter:Ls(t.initial.client.borderBoxCenter,u)},f={selection:Ls(h.selection,a.scroll.current),borderBoxCenter:Ls(h.borderBoxCenter,a.scroll.current),offset:Ls(h.offset,a.scroll.diff.value)},m={client:h,page:f};if(t.phase==="COLLECTING")return{...t,dimensions:l,viewport:a,current:m};const g=l.draggables[t.critical.draggable.id],b=s||RF({pageOffset:f.offset,draggable:g,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:a,afterCritical:t.afterCritical}),y=lme({draggable:g,impact:b,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables});return{...t,current:m,dimensions:{draggables:l.draggables,droppables:y},impact:b,viewport:a,scrollJumpRequest:i||null,forceShouldAnimate:i?!1:null}};function cme(t,e){return t.map(n=>e[n])}var LF=({impact:t,viewport:e,draggables:n,destination:r,forceShouldAnimate:s})=>{const i=t.displaced,a=cme(i.all,n),l=Fg({afterDragging:a,destination:r,displacedBy:t.displacedBy,viewport:e.frame,forceShouldAnimate:s,last:i});return{...t,displaced:l}},FF=({impact:t,draggable:e,droppable:n,draggables:r,viewport:s,afterCritical:i})=>{const a=t1({impact:t,draggable:e,draggables:r,droppable:n,afterCritical:i});return Zk({pageBorderBoxCenter:a,draggable:e,viewport:s})},BF=({state:t,dimensions:e,viewport:n})=>{t.movementMode!=="SNAP"&&Bt();const r=t.impact,s=n||t.viewport,i=e||t.dimensions,{draggables:a,droppables:l}=i,c=a[t.critical.draggable.id],u=ha(r);u||Bt();const h=l[u],f=LF({impact:r,viewport:s,destination:h,draggables:a}),m=FF({impact:f,draggable:c,droppable:h,draggables:a,viewport:s,afterCritical:t.afterCritical});return sg({impact:f,clientSelection:m,state:t,dimensions:i,viewport:s})},ume=t=>({index:t.index,droppableId:t.droppableId}),$F=({draggable:t,home:e,draggables:n,viewport:r})=>{const s=_0(e.axis,t.displaceBy),i=Ep(e.descriptor.id,n),a=i.indexOf(t);a===-1&&Bt();const l=i.slice(a+1),c=l.reduce((m,g)=>(m[g.descriptor.id]=!0,m),{}),u={inVirtualList:e.descriptor.mode==="virtual",displacedBy:s,effected:c};return{impact:{displaced:Fg({afterDragging:l,destination:e,displacedBy:s,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:s,at:{type:"REORDER",destination:ume(t.descriptor)}},afterCritical:u}},dme=(t,e)=>({draggables:t.draggables,droppables:Jk(t.droppables,e)}),hme=({draggable:t,offset:e,initialWindowScroll:n})=>{const r=Tx(t.client,e),s=kx(r,n);return{...t,placeholder:{...t.placeholder,client:r},client:r,page:s}},fme=t=>{const e=t.frame;return e||Bt(),e},pme=({additions:t,updatedDroppables:e,viewport:n})=>{const r=n.scroll.diff.value;return t.map(s=>{const i=s.descriptor.droppableId,a=e[i],c=fme(a).scroll.diff.value,u=Ls(r,c);return hme({draggable:s,offset:u,initialWindowScroll:n.scroll.initial})})},mme=({state:t,published:e})=>{const n=e.modified.map(_=>{const S=t.dimensions.droppables[_.droppableId];return Yk(S,_.scroll)}),r={...t.dimensions.droppables,...wF(n)},s=SF(pme({additions:e.additions,updatedDroppables:r,viewport:t.viewport})),i={...t.dimensions.draggables,...s};e.removals.forEach(_=>{delete i[_]});const a={droppables:r,draggables:i},l=ha(t.impact),c=l?a.droppables[l]:null,u=a.draggables[t.critical.draggable.id],h=a.droppables[t.critical.droppable.id],{impact:f,afterCritical:m}=$F({draggable:u,home:h,draggables:i,viewport:t.viewport}),g=c&&c.isCombineEnabled?t.impact:f,b=RF({pageOffset:t.current.page.offset,draggable:a.draggables[t.critical.draggable.id],draggables:a.draggables,droppables:a.droppables,previousImpact:g,viewport:t.viewport,afterCritical:m}),y={...t,phase:"DRAGGING",impact:b,onLiftImpact:f,dimensions:a,afterCritical:m,forceShouldAnimate:!1};return t.phase==="COLLECTING"?y:{...y,phase:"DROP_PENDING",reason:t.reason,isWaiting:!1}};const YS=t=>t.movementMode==="SNAP",Yw=(t,e,n)=>{const r=dme(t.dimensions,e);return!YS(t)||n?sg({state:t,dimensions:r}):BF({state:t,dimensions:r})};function Gw(t){return t.isDragging&&t.movementMode==="SNAP"?{...t,scrollJumpRequest:null}:t}const T4={phase:"IDLE",completed:null,shouldFlush:!1};var gme=(t=T4,e)=>{if(e.type==="FLUSH")return{...T4,shouldFlush:!0};if(e.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&Bt();const{critical:n,clientSelection:r,viewport:s,dimensions:i,movementMode:a}=e.payload,l=i.draggables[n.draggable.id],c=i.droppables[n.droppable.id],u={selection:r,borderBoxCenter:l.client.borderBox.center,offset:Es},h={client:u,page:{selection:Ls(u.selection,s.scroll.initial),borderBoxCenter:Ls(u.selection,s.scroll.initial),offset:Ls(u.selection,s.scroll.diff.value)}},f=Zv(i.droppables).every(y=>!y.isFixedOnPage),{impact:m,afterCritical:g}=$F({draggable:l,home:c,draggables:i.draggables,viewport:s});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:a,dimensions:i,initial:h,current:h,isWindowScrollAllowed:f,impact:m,afterCritical:g,onLiftImpact:m,viewport:s,scrollJumpRequest:null,forceShouldAnimate:null}}if(e.type==="COLLECTION_STARTING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"?t:(t.phase!=="DRAGGING"&&Bt(),{...t,phase:"COLLECTING"});if(e.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||Bt(),mme({state:t,published:e.payload});if(e.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;Cd(t)||Bt();const{client:n}=e.payload;return Tu(n,t.current.client.selection)?t:sg({state:t,clientSelection:n,impact:YS(t)?t.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return Gw(t);Cd(t)||Bt();const{id:n,newScroll:r}=e.payload,s=t.dimensions.droppables[n];if(!s)return t;const i=Yk(s,r);return Yw(t,i,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;Cd(t)||Bt();const{id:n,isEnabled:r}=e.payload,s=t.dimensions.droppables[n];s||Bt(),s.isEnabled===r&&Bt();const i={...s,isEnabled:r};return Yw(t,i,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;Cd(t)||Bt();const{id:n,isCombineEnabled:r}=e.payload,s=t.dimensions.droppables[n];s||Bt(),s.isCombineEnabled===r&&Bt();const i={...s,isCombineEnabled:r};return Yw(t,i,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;Cd(t)||Bt(),t.isWindowScrollAllowed||Bt();const n=e.payload.newScroll;if(Tu(t.viewport.scroll.current,n))return Gw(t);const r=NF(t.viewport,n);return YS(t)?BF({state:t,viewport:r}):sg({state:t,viewport:r})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Cd(t))return t;const n=e.payload.maxScroll;if(Tu(n,t.viewport.scroll.max))return t;const r={...t.viewport,scroll:{...t.viewport.scroll,max:n}};return{...t,viewport:r}}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&Bt();const n=Zpe({state:t,type:e.type});return n?sg({state:t,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):t}if(e.type==="DROP_PENDING"){const n=e.payload.reason;return t.phase!=="COLLECTING"&&Bt(),{...t,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(e.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:s}=e.payload;return t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||Bt(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:s,dimensions:t.dimensions}}if(e.type==="DROP_COMPLETE"){const{completed:n}=e.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return t};function or(t,e){return t instanceof Object&&"type"in t&&t.type===e}const yme=t=>({type:"BEFORE_INITIAL_CAPTURE",payload:t}),bme=t=>({type:"LIFT",payload:t}),xme=t=>({type:"INITIAL_PUBLISH",payload:t}),vme=t=>({type:"PUBLISH_WHILE_DRAGGING",payload:t}),_me=()=>({type:"COLLECTION_STARTING",payload:null}),wme=t=>({type:"UPDATE_DROPPABLE_SCROLL",payload:t}),Sme=t=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}),Cme=t=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}),zF=t=>({type:"MOVE",payload:t}),Tme=t=>({type:"MOVE_BY_WINDOW_SCROLL",payload:t}),kme=t=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}),Eme=()=>({type:"MOVE_UP",payload:null}),jme=()=>({type:"MOVE_DOWN",payload:null}),Nme=()=>({type:"MOVE_RIGHT",payload:null}),Dme=()=>({type:"MOVE_LEFT",payload:null}),eE=()=>({type:"FLUSH",payload:null}),Ame=t=>({type:"DROP_ANIMATE",payload:t}),tE=t=>({type:"DROP_COMPLETE",payload:t}),UF=t=>({type:"DROP",payload:t}),Pme=t=>({type:"DROP_PENDING",payload:t}),HF=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var Ime=t=>({getState:e,dispatch:n})=>r=>s=>{if(!or(s,"LIFT")){r(s);return}const{id:i,clientSelection:a,movementMode:l}=s.payload,c=e();c.phase==="DROP_ANIMATING"&&n(tE({completed:c.completed})),e().phase!=="IDLE"&&Bt(),n(eE()),n(yme({draggableId:i,movementMode:l}));const h={draggableId:i,scrollOptions:{shouldPublishImmediately:l==="SNAP"}},{critical:f,dimensions:m,viewport:g}=t.startPublishing(h);n(xme({critical:f,dimensions:m,clientSelection:a,movementMode:l,viewport:g}))},Ome=t=>()=>e=>n=>{or(n,"INITIAL_PUBLISH")&&t.dragging(),or(n,"DROP_ANIMATE")&&t.dropping(n.payload.completed.result.reason),(or(n,"FLUSH")||or(n,"DROP_COMPLETE"))&&t.resting(),e(n)};const nE={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Bg={opacity:{drop:0,combining:.7},scale:{drop:.75}},WF={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},bd=`${WF.outOfTheWay}s ${nE.outOfTheWay}`,ig={fluid:`opacity ${bd}`,snap:`transform ${bd}, opacity ${bd}`,drop:t=>{const e=`${t}s ${nE.drop}`;return`transform ${e}, opacity ${e}`},outOfTheWay:`transform ${bd}`,placeholder:`height ${bd}, width ${bd}, margin ${bd}`},k4=t=>Tu(t,Es)?void 0:`translate(${t.x}px, ${t.y}px)`,GS={moveTo:k4,drop:(t,e)=>{const n=k4(t);if(n)return e?`${n} scale(${Bg.scale.drop})`:n}},{minDropTime:KS,maxDropTime:VF}=WF,Mme=VF-KS,E4=1500,Rme=.6;var Lme=({current:t,destination:e,reason:n})=>{const r=Rg(t,e);if(r<=0)return KS;if(r>=E4)return VF;const s=r/E4,i=KS+Mme*s,a=n==="CANCEL"?i*Rme:i;return Number(a.toFixed(2))},Fme=({impact:t,draggable:e,dimensions:n,viewport:r,afterCritical:s})=>{const{draggables:i,droppables:a}=n,l=ha(t),c=l?a[l]:null,u=a[e.descriptor.droppableId],h=FF({impact:t,draggable:e,draggables:i,afterCritical:s,droppable:c||u,viewport:r});return ca(h,e.client.borderBox.center)},Bme=({draggables:t,reason:e,lastImpact:n,home:r,viewport:s,onLiftImpact:i})=>!n.at||e!=="DROP"?{impact:LF({draggables:t,impact:i,destination:r,viewport:s,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:Lg},didDropInsideDroppable:!0};const $me=({getState:t,dispatch:e})=>n=>r=>{if(!or(r,"DROP")){n(r);return}const s=t(),i=r.payload.reason;if(s.phase==="COLLECTING"){e(Pme({reason:i}));return}if(s.phase==="IDLE")return;s.phase==="DROP_PENDING"&&s.isWaiting&&Bt(),s.phase==="DRAGGING"||s.phase==="DROP_PENDING"||Bt();const l=s.critical,c=s.dimensions,u=c.draggables[s.critical.draggable.id],{impact:h,didDropInsideDroppable:f}=Bme({reason:i,lastImpact:s.impact,afterCritical:s.afterCritical,onLiftImpact:s.onLiftImpact,home:s.dimensions.droppables[s.critical.droppable.id],viewport:s.viewport,draggables:s.dimensions.draggables}),m=f?Gk(h):null,g=f?Jv(h):null,b={index:l.draggable.index,droppableId:l.droppable.id},y={draggableId:u.descriptor.id,type:u.descriptor.type,source:b,reason:i,mode:s.movementMode,destination:m,combine:g},x=Fme({impact:h,draggable:u,dimensions:c,viewport:s.viewport,afterCritical:s.afterCritical}),_={critical:s.critical,afterCritical:s.afterCritical,result:y,impact:h};if(!(!Tu(s.current.client.offset,x)||!!y.combine)){e(tE({completed:_}));return}const T=Lme({current:s.current.client.offset,destination:x,reason:i});e(Ame({newHomeClientOffset:x,dropDuration:T,completed:_}))};var qF=()=>({x:window.pageXOffset,y:window.pageYOffset});function zme(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:e=>{e.target!==window&&e.target!==window.document||t()}}}function Ume({onWindowScroll:t}){function e(){t(qF())}const n=Mg(e),r=zme(n);let s=Cu;function i(){return s!==Cu}function a(){i()&&Bt(),s=Va(window,[r])}function l(){i()||Bt(),n.cancel(),s(),s=Cu}return{start:a,stop:l,isActive:i}}const Hme=t=>or(t,"DROP_COMPLETE")||or(t,"DROP_ANIMATE")||or(t,"FLUSH"),Wme=t=>{const e=Ume({onWindowScroll:n=>{t.dispatch(Tme({newScroll:n}))}});return n=>r=>{!e.isActive()&&or(r,"INITIAL_PUBLISH")&&e.start(),e.isActive()&&Hme(r)&&e.stop(),n(r)}};var Vme=t=>{let e=!1,n=!1;const r=setTimeout(()=>{n=!0}),s=i=>{e||n||(e=!0,t(i),clearTimeout(r))};return s.wasCalled=()=>e,s},qme=()=>{const t=[],e=s=>{const i=t.findIndex(l=>l.timerId===s);i===-1&&Bt();const[a]=t.splice(i,1);a.callback()};return{add:s=>{const i=setTimeout(()=>e(i)),a={timerId:i,callback:s};t.push(a)},flush:()=>{if(!t.length)return;const s=[...t];t.length=0,s.forEach(i=>{clearTimeout(i.timerId),i.callback()})}}};const Yme=(t,e)=>t==null&&e==null?!0:t==null||e==null?!1:t.droppableId===e.droppableId&&t.index===e.index,Gme=(t,e)=>t==null&&e==null?!0:t==null||e==null?!1:t.draggableId===e.draggableId&&t.droppableId===e.droppableId,Kme=(t,e)=>{if(t===e)return!0;const n=t.draggable.id===e.draggable.id&&t.draggable.droppableId===e.draggable.droppableId&&t.draggable.type===e.draggable.type&&t.draggable.index===e.draggable.index,r=t.droppable.id===e.droppable.id&&t.droppable.type===e.droppable.type;return n&&r},km=(t,e)=>{e()},Uy=(t,e)=>({draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:e});function Kw(t,e,n,r){if(!t){n(r(e));return}const s=Vme(n);t(e,{announce:s}),s.wasCalled()||n(r(e))}var Xme=(t,e)=>{const n=qme();let r=null;const s=(f,m)=>{r&&Bt(),km("onBeforeCapture",()=>{const g=t().onBeforeCapture;g&&g({draggableId:f,mode:m})})},i=(f,m)=>{r&&Bt(),km("onBeforeDragStart",()=>{const g=t().onBeforeDragStart;g&&g(Uy(f,m))})},a=(f,m)=>{r&&Bt();const g=Uy(f,m);r={mode:m,lastCritical:f,lastLocation:g.source,lastCombine:null},n.add(()=>{km("onDragStart",()=>Kw(t().onDragStart,g,e,_b.onDragStart))})},l=(f,m)=>{const g=Gk(m),b=Jv(m);r||Bt();const y=!Kme(f,r.lastCritical);y&&(r.lastCritical=f);const x=!Yme(r.lastLocation,g);x&&(r.lastLocation=g);const _=!Gme(r.lastCombine,b);if(_&&(r.lastCombine=b),!y&&!x&&!_)return;const S={...Uy(f,r.mode),combine:b,destination:g};n.add(()=>{km("onDragUpdate",()=>Kw(t().onDragUpdate,S,e,_b.onDragUpdate))})},c=()=>{r||Bt(),n.flush()},u=f=>{r||Bt(),r=null,km("onDragEnd",()=>Kw(t().onDragEnd,f,e,_b.onDragEnd))};return{beforeCapture:s,beforeStart:i,start:a,update:l,flush:c,drop:u,abort:()=>{if(!r)return;const f={...Uy(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};u(f)}}},Qme=(t,e)=>{const n=Xme(t,e);return r=>s=>i=>{if(or(i,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(or(i,"INITIAL_PUBLISH")){const l=i.payload.critical;n.beforeStart(l,i.payload.movementMode),s(i),n.start(l,i.payload.movementMode);return}if(or(i,"DROP_COMPLETE")){const l=i.payload.completed.result;n.flush(),s(i),n.drop(l);return}if(s(i),or(i,"FLUSH")){n.abort();return}const a=r.getState();a.phase==="DRAGGING"&&n.update(a.critical,a.impact)}};const Zme=t=>e=>n=>{if(!or(n,"DROP_ANIMATION_FINISHED")){e(n);return}const r=t.getState();r.phase!=="DROP_ANIMATING"&&Bt(),t.dispatch(tE({completed:r.completed}))},Jme=t=>{let e=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),e&&(e(),e=null)}return s=>i=>{if((or(i,"FLUSH")||or(i,"DROP_COMPLETE")||or(i,"DROP_ANIMATION_FINISHED"))&&r(),s(i),!or(i,"DROP_ANIMATE"))return;const a={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){t.getState().phase==="DROP_ANIMATING"&&t.dispatch(HF())}};n=requestAnimationFrame(()=>{n=null,e=Va(window,[a])})}};var ege=t=>()=>e=>n=>{(or(n,"DROP_COMPLETE")||or(n,"FLUSH")||or(n,"DROP_ANIMATE"))&&t.stopPublishing(),e(n)},tge=t=>{let e=!1;return()=>n=>r=>{if(or(r,"INITIAL_PUBLISH")){e=!0,t.tryRecordFocus(r.payload.critical.draggable.id),n(r),t.tryRestoreFocusRecorded();return}if(n(r),!!e){if(or(r,"FLUSH")){e=!1,t.tryRestoreFocusRecorded();return}if(or(r,"DROP_COMPLETE")){e=!1;const s=r.payload.completed.result;s.combine&&t.tryShiftRecord(s.draggableId,s.combine.draggableId),t.tryRestoreFocusRecorded()}}}};const nge=t=>or(t,"DROP_COMPLETE")||or(t,"DROP_ANIMATE")||or(t,"FLUSH");var rge=t=>e=>n=>r=>{if(nge(r)){t.stop(),n(r);return}if(or(r,"INITIAL_PUBLISH")){n(r);const s=e.getState();s.phase!=="DRAGGING"&&Bt(),t.start(s);return}n(r),t.scroll(e.getState())};const sge=t=>e=>n=>{if(e(n),!or(n,"PUBLISH_WHILE_DRAGGING"))return;const r=t.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||t.dispatch(UF({reason:r.reason})))},ige=lF;var age=({dimensionMarshal:t,focusMarshal:e,styleMarshal:n,getResponders:r,announce:s,autoScroller:i})=>oF(gme,ige(ife(Ome(n),ege(t),Ime(t),$me,Zme,Jme,sge,rge(i),Wme,tge(e),Qme(r,s))));const Xw=()=>({additions:{},removals:{},modified:{}});function oge({registry:t,callbacks:e}){let n=Xw(),r=null;const s=()=>{r||(e.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:c,removals:u,modified:h}=n,f=Object.keys(c).map(b=>t.draggable.getById(b).getDimension(Es)).sort((b,y)=>b.descriptor.index-y.descriptor.index),m=Object.keys(h).map(b=>{const x=t.droppable.getById(b).callbacks.getScrollWhileDragging();return{droppableId:b,scroll:x}}),g={additions:f,removals:Object.keys(u),modified:m};n=Xw(),e.publish(g)}))};return{add:c=>{const u=c.descriptor.id;n.additions[u]=c,n.modified[c.descriptor.droppableId]=!0,n.removals[u]&&delete n.removals[u],s()},remove:c=>{const u=c.descriptor;n.removals[u.id]=!0,n.modified[u.droppableId]=!0,n.additions[u.id]&&delete n.additions[u.id],s()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=Xw())}}}var YF=({scrollHeight:t,scrollWidth:e,height:n,width:r})=>{const s=ca({x:e,y:t},{x:r,y:n});return{x:Math.max(0,s.x),y:Math.max(0,s.y)}},GF=()=>{const t=document.documentElement;return t||Bt(),t},KF=()=>{const t=GF();return YF({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight})},lge=()=>{const t=qF(),e=KF(),n=t.y,r=t.x,s=GF(),i=s.clientWidth,a=s.clientHeight,l=r+i,c=n+a;return{frame:Eo({top:n,left:r,right:l,bottom:c}),scroll:{initial:t,current:t,max:e,diff:{value:Es,displacement:Es}}}},cge=({critical:t,scrollOptions:e,registry:n})=>{const r=lge(),s=r.scroll.current,i=t.droppable,a=n.droppable.getAllByType(i.type).map(h=>h.callbacks.getDimensionAndWatchScroll(s,e)),l=n.draggable.getAllByType(t.draggable.type).map(h=>h.getDimension(s));return{dimensions:{draggables:SF(l),droppables:wF(a)},critical:t,viewport:r}};function j4(t,e,n){return!(n.descriptor.id===e.id||n.descriptor.type!==e.type||t.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var uge=(t,e)=>{let n=null;const r=oge({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:t}),s=(m,g)=>{t.droppable.exists(m)||Bt(),n&&e.updateDroppableIsEnabled({id:m,isEnabled:g})},i=(m,g)=>{n&&(t.droppable.exists(m)||Bt(),e.updateDroppableIsCombineEnabled({id:m,isCombineEnabled:g}))},a=(m,g)=>{n&&(t.droppable.exists(m)||Bt(),e.updateDroppableScroll({id:m,newScroll:g}))},l=(m,g)=>{n&&t.droppable.getById(m).callbacks.scroll(g)},c=()=>{if(!n)return;r.stop();const m=n.critical.droppable;t.droppable.getAllByType(m.type).forEach(g=>g.callbacks.dragStopped()),n.unsubscribe(),n=null},u=m=>{n||Bt();const g=n.critical.draggable;m.type==="ADDITION"&&j4(t,g,m.value)&&r.add(m.value),m.type==="REMOVAL"&&j4(t,g,m.value)&&r.remove(m.value)};return{updateDroppableIsEnabled:s,updateDroppableIsCombineEnabled:i,scrollDroppable:l,updateDroppableScroll:a,startPublishing:m=>{n&&Bt();const g=t.draggable.getById(m.draggableId),b=t.droppable.getById(g.descriptor.droppableId),y={draggable:g.descriptor,droppable:b.descriptor},x=t.subscribe(u);return n={critical:y,unsubscribe:x},cge({critical:y,registry:t,scrollOptions:m.scrollOptions})},stopPublishing:c}},XF=(t,e)=>t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===e?!1:t.completed.result.reason==="DROP",dge=t=>{window.scrollBy(t.x,t.y)};const hge=ks(t=>Zv(t).filter(e=>!(!e.isEnabled||!e.frame))),fge=(t,e)=>hge(e).find(r=>(r.frame||Bt(),IF(r.frame.pageMarginBox)(t)))||null;var pge=({center:t,destination:e,droppables:n})=>{if(e){const s=n[e];return s.frame?s:null}return fge(t,n)};const $g={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:t=>t**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var mge=(t,e,n=()=>$g)=>{const r=n(),s=t[e.size]*r.startFromPercentage,i=t[e.size]*r.maxScrollAtPercentage;return{startScrollingFrom:s,maxScrollValueAt:i}},QF=({startOfRange:t,endOfRange:e,current:n})=>{const r=e-t;return r===0?0:(n-t)/r},rE=1,gge=(t,e,n=()=>$g)=>{const r=n();if(t>e.startScrollingFrom)return 0;if(t<=e.maxScrollValueAt)return r.maxPixelScroll;if(t===e.startScrollingFrom)return rE;const i=1-QF({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:t}),a=r.maxPixelScroll*r.ease(i);return Math.ceil(a)},yge=(t,e,n)=>{const r=n(),s=r.durationDampening.accelerateAt,i=r.durationDampening.stopDampeningAt,a=e,l=i,u=Date.now()-a;if(u>=i)return t;if(u<s)return rE;const h=QF({startOfRange:s,endOfRange:l,current:u}),f=t*r.ease(h);return Math.ceil(f)},N4=({distanceToEdge:t,thresholds:e,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:s})=>{const i=gge(t,e,s);return i===0?0:r?Math.max(yge(i,n,s),rE):i},D4=({container:t,distanceToEdges:e,dragStartTime:n,axis:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const a=mge(t,r,i);return e[r.end]<e[r.start]?N4({distanceToEdge:e[r.end],thresholds:a,dragStartTime:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i}):-1*N4({distanceToEdge:e[r.start],thresholds:a,dragStartTime:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i})},bge=({container:t,subject:e,proposedScroll:n})=>{const r=e.height>t.height,s=e.width>t.width;return!s&&!r?n:s&&r?null:{x:s?0:n.x,y:r?0:n.y}};const xge=_F(t=>t===0?0:t);var ZF=({dragStartTime:t,container:e,subject:n,center:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const a={top:r.y-e.top,right:e.right-r.x,bottom:e.bottom-r.y,left:r.x-e.left},l=D4({container:e,distanceToEdges:a,dragStartTime:t,axis:Kk,shouldUseTimeDampening:s,getAutoScrollerOptions:i}),c=D4({container:e,distanceToEdges:a,dragStartTime:t,axis:kF,shouldUseTimeDampening:s,getAutoScrollerOptions:i}),u=xge({x:c,y:l});if(Tu(u,Es))return null;const h=bge({container:e,subject:n,proposedScroll:u});return h?Tu(h,Es)?null:h:null};const vge=_F(t=>t===0?0:t>0?1:-1),sE=(()=>{const t=(e,n)=>e<0?e:e>n?e-n:0;return({current:e,max:n,change:r})=>{const s=Ls(e,r),i={x:t(s.x,n.x),y:t(s.y,n.y)};return Tu(i,Es)?null:i}})(),JF=({max:t,current:e,change:n})=>{const r={x:Math.max(e.x,t.x),y:Math.max(e.y,t.y)},s=vge(n),i=sE({max:r,current:e,change:s});return!i||s.x!==0&&i.x===0||s.y!==0&&i.y===0},iE=(t,e)=>JF({current:t.scroll.current,max:t.scroll.max,change:e}),_ge=(t,e)=>{if(!iE(t,e))return null;const n=t.scroll.max,r=t.scroll.current;return sE({current:r,max:n,change:e})},aE=(t,e)=>{const n=t.frame;return n?JF({current:n.scroll.current,max:n.scroll.max,change:e}):!1},wge=(t,e)=>{const n=t.frame;return!n||!aE(t,e)?null:sE({current:n.scroll.current,max:n.scroll.max,change:e})};var Sge=({viewport:t,subject:e,center:n,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const a=ZF({dragStartTime:r,container:t.frame,subject:e,center:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i});return a&&iE(t,a)?a:null},Cge=({droppable:t,subject:e,center:n,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const a=t.frame;if(!a)return null;const l=ZF({dragStartTime:r,container:a.pageMarginBox,subject:e,center:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i});return l&&aE(t,l)?l:null},A4=({state:t,dragStartTime:e,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:s,getAutoScrollerOptions:i})=>{const a=t.current.page.borderBoxCenter,c=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const f=t.viewport,m=Sge({dragStartTime:e,viewport:f,subject:c,center:a,shouldUseTimeDampening:n,getAutoScrollerOptions:i});if(m){r(m);return}}const u=pge({center:a,destination:ha(t.impact),droppables:t.dimensions.droppables});if(!u)return;const h=Cge({dragStartTime:e,droppable:u,subject:c,center:a,shouldUseTimeDampening:n,getAutoScrollerOptions:i});h&&s(u.descriptor.id,h)},Tge=({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:n=()=>$g})=>{const r=Mg(t),s=Mg(e);let i=null;const a=u=>{i||Bt();const{shouldUseTimeDampening:h,dragStartTime:f}=i;A4({state:u,scrollWindow:r,scrollDroppable:s,dragStartTime:f,shouldUseTimeDampening:h,getAutoScrollerOptions:n})};return{start:u=>{i&&Bt();const h=Date.now();let f=!1;const m=()=>{f=!0};A4({state:u,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:m,scrollDroppable:m,getAutoScrollerOptions:n}),i={dragStartTime:h,shouldUseTimeDampening:f},f&&a(u)},stop:()=>{i&&(r.cancel(),s.cancel(),i=null)},scroll:a}},kge=({move:t,scrollDroppable:e,scrollWindow:n})=>{const r=(l,c)=>{const u=Ls(l.current.client.selection,c);t({client:u})},s=(l,c)=>{if(!aE(l,c))return c;const u=wge(l,c);if(!u)return e(l.descriptor.id,c),null;const h=ca(c,u);return e(l.descriptor.id,h),ca(c,h)},i=(l,c,u)=>{if(!l||!iE(c,u))return u;const h=_ge(c,u);if(!h)return n(u),null;const f=ca(u,h);return n(f),ca(u,f)};return l=>{const c=l.scrollJumpRequest;if(!c)return;const u=ha(l.impact);u||Bt();const h=s(l.dimensions.droppables[u],c);if(!h)return;const f=l.viewport,m=i(l.isWindowScrollAllowed,f,h);m&&r(l,m)}},Ege=({scrollDroppable:t,scrollWindow:e,move:n,getAutoScrollerOptions:r})=>{const s=Tge({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:r}),i=kge({move:n,scrollWindow:e,scrollDroppable:t});return{scroll:c=>{if(!(r().disabled||c.phase!=="DRAGGING")){if(c.movementMode==="FLUID"){s.scroll(c);return}c.scrollJumpRequest&&i(c)}},start:s.start,stop:s.stop}};const sp="data-rfd",ip=(()=>{const t=`${sp}-drag-handle`;return{base:t,draggableId:`${t}-draggable-id`,contextId:`${t}-context-id`}})(),XS=(()=>{const t=`${sp}-draggable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),jge=(()=>{const t=`${sp}-droppable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),P4={contextId:`${sp}-scroll-container-context-id`},Nge=t=>e=>`[${e}="${t}"]`,Em=(t,e)=>t.map(n=>{const r=n.styles[e];return r?`${n.selector} { ${r} }`:""}).join(" "),Dge="pointer-events: none;";var Age=t=>{const e=Nge(t),n=(()=>{const l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(ip.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:Dge,dropAnimating:l}}})(),r=(()=>{const l=`
      transition: ${ig.outOfTheWay};
    `;return{selector:e(XS.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}})(),s={selector:e(jge.contextId),styles:{always:"overflow-anchor: none;"}},a=[r,n,s,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Em(a,"always"),resting:Em(a,"resting"),dragging:Em(a,"dragging"),dropAnimating:Em(a,"dropAnimating"),userCancel:Em(a,"userCancel")}};const fa=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?w.useLayoutEffect:w.useEffect,Qw=()=>{const t=document.querySelector("head");return t||Bt(),t},I4=t=>{const e=document.createElement("style");return t&&e.setAttribute("nonce",t),e.type="text/css",e};function Pge(t,e){const n=$n(()=>Age(t),[t]),r=w.useRef(null),s=w.useRef(null),i=ln(ks(f=>{const m=s.current;m||Bt(),m.textContent=f}),[]),a=ln(f=>{const m=r.current;m||Bt(),m.textContent=f},[]);fa(()=>{!r.current&&!s.current||Bt();const f=I4(e),m=I4(e);return r.current=f,s.current=m,f.setAttribute(`${sp}-always`,t),m.setAttribute(`${sp}-dynamic`,t),Qw().appendChild(f),Qw().appendChild(m),a(n.always),i(n.resting),()=>{const g=b=>{const y=b.current;y||Bt(),Qw().removeChild(y),b.current=null};g(r),g(s)}},[e,a,i,n.always,n.resting,t]);const l=ln(()=>i(n.dragging),[i,n.dragging]),c=ln(f=>{if(f==="DROP"){i(n.dropAnimating);return}i(n.userCancel)},[i,n.dropAnimating,n.userCancel]),u=ln(()=>{s.current&&i(n.resting)},[i,n.resting]);return $n(()=>({dragging:l,dropping:c,resting:u}),[l,c,u])}function eB(t,e){return Array.from(t.querySelectorAll(e))}var tB=t=>t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:window;function n1(t){return t instanceof tB(t).HTMLElement}function Ige(t,e){const n=`[${ip.contextId}="${t}"]`,r=eB(document,n);if(!r.length)return null;const s=r.find(i=>i.getAttribute(ip.draggableId)===e);return!s||!n1(s)?null:s}function Oge(t){const e=w.useRef({}),n=w.useRef(null),r=w.useRef(null),s=w.useRef(!1),i=ln(function(m,g){const b={id:m,focus:g};return e.current[m]=b,function(){const x=e.current;x[m]!==b&&delete x[m]}},[]),a=ln(function(m){const g=Ige(t,m);g&&g!==document.activeElement&&g.focus()},[t]),l=ln(function(m,g){n.current===m&&(n.current=g)},[]),c=ln(function(){r.current||s.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const m=n.current;m&&a(m)}))},[a]),u=ln(function(m){n.current=null;const g=document.activeElement;g&&g.getAttribute(ip.draggableId)===m&&(n.current=m)},[]);return fa(()=>(s.current=!0,function(){s.current=!1;const m=r.current;m&&cancelAnimationFrame(m)}),[]),$n(()=>({register:i,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:l}),[i,u,c,l])}function Mge(){const t={draggables:{},droppables:{}},e=[];function n(f){return e.push(f),function(){const g=e.indexOf(f);g!==-1&&e.splice(g,1)}}function r(f){e.length&&e.forEach(m=>m(f))}function s(f){return t.draggables[f]||null}function i(f){const m=s(f);return m||Bt(),m}const a={register:f=>{t.draggables[f.descriptor.id]=f,r({type:"ADDITION",value:f})},update:(f,m)=>{const g=t.draggables[m.descriptor.id];g&&g.uniqueId===f.uniqueId&&(delete t.draggables[m.descriptor.id],t.draggables[f.descriptor.id]=f)},unregister:f=>{const m=f.descriptor.id,g=s(m);g&&f.uniqueId===g.uniqueId&&(delete t.draggables[m],t.droppables[f.descriptor.droppableId]&&r({type:"REMOVAL",value:f}))},getById:i,findById:s,exists:f=>!!s(f),getAllByType:f=>Object.values(t.draggables).filter(m=>m.descriptor.type===f)};function l(f){return t.droppables[f]||null}function c(f){const m=l(f);return m||Bt(),m}const u={register:f=>{t.droppables[f.descriptor.id]=f},unregister:f=>{const m=l(f.descriptor.id);m&&f.uniqueId===m.uniqueId&&delete t.droppables[f.descriptor.id]},getById:c,findById:l,exists:f=>!!l(f),getAllByType:f=>Object.values(t.droppables).filter(m=>m.descriptor.type===f)};function h(){t.draggables={},t.droppables={},e.length=0}return{draggable:a,droppable:u,subscribe:n,clean:h}}function Rge(){const t=$n(Mge,[]);return w.useEffect(()=>function(){t.clean()},[t]),t}var oE=nn.createContext(null),Dx=()=>{const t=document.body;return t||Bt(),t};const Lge={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Fge=t=>`rfd-announcement-${t}`;function Bge(t){const e=$n(()=>Fge(t),[t]),n=w.useRef(null);return w.useEffect(function(){const i=document.createElement("div");return n.current=i,i.id=e,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),Ge(i.style,Lge),Dx().appendChild(i),function(){setTimeout(function(){const c=Dx();c.contains(i)&&c.removeChild(i),i===n.current&&(n.current=null)})}},[e]),ln(s=>{const i=n.current;if(i){i.textContent=s;return}},[])}const $ge={separator:"::"};function lE(t,e=$ge){const n=nn.useId();return $n(()=>`${t}${e.separator}${n}`,[e.separator,t,n])}function zge({contextId:t,uniqueId:e}){return`rfd-hidden-text-${t}-${e}`}function Uge({contextId:t,text:e}){const n=lE("hidden-text",{separator:"-"}),r=$n(()=>zge({contextId:t,uniqueId:n}),[n,t]);return w.useEffect(function(){const i=document.createElement("div");return i.id=r,i.textContent=e,i.style.display="none",Dx().appendChild(i),function(){const l=Dx();l.contains(i)&&l.removeChild(i)}},[r,e]),r}var r1=nn.createContext(null);function nB(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),e}function Hge(){let t=null;function e(){return!!t}function n(a){return a===t}function r(a){t&&Bt();const l={abandon:a};return t=l,l}function s(){t||Bt(),t=null}function i(){t&&(t.abandon(),s())}return{isClaimed:e,isActive:n,claim:r,release:s,tryAbandon:i}}function zg(t){return t.phase==="IDLE"||t.phase==="DROP_ANIMATING"?!1:t.isDragging}const Wge=9,Vge=13,cE=27,rB=32,qge=33,Yge=34,Gge=35,Kge=36,Xge=37,Qge=38,Zge=39,Jge=40,e0e={[Vge]:!0,[Wge]:!0};var sB=t=>{e0e[t.keyCode]&&t.preventDefault()};const s1=(()=>{const t="visibilitychange";return typeof document>"u"?t:[t,`ms${t}`,`webkit${t}`,`moz${t}`,`o${t}`].find(r=>`on${r}`in document)||t})(),iB=0,O4=5;function t0e(t,e){return Math.abs(e.x-t.x)>=O4||Math.abs(e.y-t.y)>=O4}const M4={type:"IDLE"};function n0e({cancel:t,completed:e,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:s=>{const{button:i,clientX:a,clientY:l}=s;if(i!==iB)return;const c={x:a,y:l},u=n();if(u.type==="DRAGGING"){s.preventDefault(),u.actions.move(c);return}u.type!=="PENDING"&&Bt();const h=u.point;if(!t0e(h,c))return;s.preventDefault();const f=u.actions.fluidLift(c);r({type:"DRAGGING",actions:f})}},{eventName:"mouseup",fn:s=>{const i=n();if(i.type!=="DRAGGING"){t();return}s.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"mousedown",fn:s=>{n().type==="DRAGGING"&&s.preventDefault(),t()}},{eventName:"keydown",fn:s=>{if(n().type==="PENDING"){t();return}if(s.keyCode===cE){s.preventDefault(),t();return}sB(s)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:s=>{const i=n();if(i.type==="IDLE"&&Bt(),i.actions.shouldRespectForcePress()){t();return}s.preventDefault()}},{eventName:s1,fn:t}]}function r0e(t){const e=w.useRef(M4),n=w.useRef(Cu),r=$n(()=>({eventName:"mousedown",fn:function(f){if(f.defaultPrevented||f.button!==iB||f.ctrlKey||f.metaKey||f.shiftKey||f.altKey)return;const m=t.findClosestDraggableId(f);if(!m)return;const g=t.tryGetLock(m,a,{sourceEvent:f});if(!g)return;f.preventDefault();const b={x:f.clientX,y:f.clientY};n.current(),u(g,b)}}),[t]),s=$n(()=>({eventName:"webkitmouseforcewillbegin",fn:h=>{if(h.defaultPrevented)return;const f=t.findClosestDraggableId(h);if(!f)return;const m=t.findOptionsForDraggable(f);m&&(m.shouldRespectForcePress||t.canGetLock(f)&&h.preventDefault())}}),[t]),i=ln(function(){const f={passive:!1,capture:!0};n.current=Va(window,[s,r],f)},[s,r]),a=ln(()=>{e.current.type!=="IDLE"&&(e.current=M4,n.current(),i())},[i]),l=ln(()=>{const h=e.current;a(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[a]),c=ln(function(){const f={capture:!0,passive:!1},m=n0e({cancel:l,completed:a,getPhase:()=>e.current,setPhase:g=>{e.current=g}});n.current=Va(window,m,f)},[l,a]),u=ln(function(f,m){e.current.type!=="IDLE"&&Bt(),e.current={type:"PENDING",point:m,actions:f},c()},[c]);fa(function(){return i(),function(){n.current()}},[i])}function s0e(){}const i0e={[Yge]:!0,[qge]:!0,[Kge]:!0,[Gge]:!0};function a0e(t,e){function n(){e(),t.cancel()}function r(){e(),t.drop()}return[{eventName:"keydown",fn:s=>{if(s.keyCode===cE){s.preventDefault(),n();return}if(s.keyCode===rB){s.preventDefault(),r();return}if(s.keyCode===Jge){s.preventDefault(),t.moveDown();return}if(s.keyCode===Qge){s.preventDefault(),t.moveUp();return}if(s.keyCode===Zge){s.preventDefault(),t.moveRight();return}if(s.keyCode===Xge){s.preventDefault(),t.moveLeft();return}if(i0e[s.keyCode]){s.preventDefault();return}sB(s)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:s1,fn:n}]}function o0e(t){const e=w.useRef(s0e),n=$n(()=>({eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==rB)return;const a=t.findClosestDraggableId(i);if(!a)return;const l=t.tryGetLock(a,h,{sourceEvent:i});if(!l)return;i.preventDefault();let c=!0;const u=l.snapLift();e.current();function h(){c||Bt(),c=!1,e.current(),r()}e.current=Va(window,a0e(u,h),{capture:!0,passive:!1})}}),[t]),r=ln(function(){const i={passive:!1,capture:!0};e.current=Va(window,[n],i)},[n]);fa(function(){return r(),function(){e.current()}},[r])}const Zw={type:"IDLE"},l0e=120,c0e=.15;function u0e({cancel:t,getPhase:e}){return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(e().type!=="DRAGGING"){t();return}n.keyCode===cE&&n.preventDefault(),t()}},{eventName:s1,fn:t}]}function d0e({cancel:t,completed:e,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const s=n();if(s.type!=="DRAGGING"){t();return}s.hasMoved=!0;const{clientX:i,clientY:a}=r.touches[0],l={x:i,y:a};r.preventDefault(),s.actions.move(l)}},{eventName:"touchend",fn:r=>{const s=n();if(s.type!=="DRAGGING"){t();return}r.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){t();return}r.preventDefault(),t()}},{eventName:"touchforcechange",fn:r=>{const s=n();s.type==="IDLE"&&Bt();const i=r.touches[0];if(!i||!(i.force>=c0e))return;const l=s.actions.shouldRespectForcePress();if(s.type==="PENDING"){l&&t();return}if(l){if(s.hasMoved){r.preventDefault();return}t();return}r.preventDefault()}},{eventName:s1,fn:t}]}function h0e(t){const e=w.useRef(Zw),n=w.useRef(Cu),r=ln(function(){return e.current},[]),s=ln(function(g){e.current=g},[]),i=$n(()=>({eventName:"touchstart",fn:function(g){if(g.defaultPrevented)return;const b=t.findClosestDraggableId(g);if(!b)return;const y=t.tryGetLock(b,l,{sourceEvent:g});if(!y)return;const x=g.touches[0],{clientX:_,clientY:S}=x,T={x:_,y:S};n.current(),f(y,T)}}),[t]),a=ln(function(){const g={capture:!0,passive:!1};n.current=Va(window,[i],g)},[i]),l=ln(()=>{const m=e.current;m.type!=="IDLE"&&(m.type==="PENDING"&&clearTimeout(m.longPressTimerId),s(Zw),n.current(),a())},[a,s]),c=ln(()=>{const m=e.current;l(),m.type==="DRAGGING"&&m.actions.cancel({shouldBlockNextClick:!0}),m.type==="PENDING"&&m.actions.abort()},[l]),u=ln(function(){const g={capture:!0,passive:!1},b={cancel:c,completed:l,getPhase:r},y=Va(window,d0e(b),g),x=Va(window,u0e(b),g);n.current=function(){y(),x()}},[c,r,l]),h=ln(function(){const g=r();g.type!=="PENDING"&&Bt();const b=g.actions.fluidLift(g.point);s({type:"DRAGGING",actions:b,hasMoved:!1})},[r,s]),f=ln(function(g,b){r().type!=="IDLE"&&Bt();const y=setTimeout(h,l0e);s({type:"PENDING",point:b,actions:g,longPressTimerId:y}),u()},[u,r,s,h]);fa(function(){return a(),function(){n.current();const b=r();b.type==="PENDING"&&(clearTimeout(b.longPressTimerId),s(Zw))}},[r,a,s]),fa(function(){return Va(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const f0e=["input","button","textarea","select","option","optgroup","video","audio"];function aB(t,e){if(e==null)return!1;if(f0e.includes(e.tagName.toLowerCase()))return!0;const r=e.getAttribute("contenteditable");return r==="true"||r===""?!0:e===t?!1:aB(t,e.parentElement)}function p0e(t,e){const n=e.target;return n1(n)?aB(t,n):!1}var m0e=t=>Eo(t.getBoundingClientRect()).center;function g0e(t){return t instanceof tB(t).Element}const y0e=(()=>{const t="matches";return typeof document>"u"?t:[t,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||t})();function oB(t,e){return t==null?null:t[y0e](e)?t:oB(t.parentElement,e)}function b0e(t,e){return t.closest?t.closest(e):oB(t,e)}function x0e(t){return`[${ip.contextId}="${t}"]`}function v0e(t,e){const n=e.target;if(!g0e(n))return null;const r=x0e(t),s=b0e(n,r);return!s||!n1(s)?null:s}function _0e(t,e){const n=v0e(t,e);return n?n.getAttribute(ip.draggableId):null}function w0e(t,e){const n=`[${XS.contextId}="${t}"]`,s=eB(document,n).find(i=>i.getAttribute(XS.id)===e);return!s||!n1(s)?null:s}function S0e(t){t.preventDefault()}function Hy({expected:t,phase:e,isLockActive:n,shouldWarn:r}){return!(!n()||t!==e)}function lB({lockAPI:t,store:e,registry:n,draggableId:r}){if(t.isClaimed())return!1;const s=n.draggable.findById(r);return!(!s||!s.options.isEnabled||!XF(e.getState(),r))}function C0e({lockAPI:t,contextId:e,store:n,registry:r,draggableId:s,forceSensorStop:i,sourceEvent:a}){if(!lB({lockAPI:t,store:n,registry:r,draggableId:s}))return null;const c=r.draggable.getById(s),u=w0e(e,c.descriptor.id);if(!u||a&&!c.options.canDragInteractiveElements&&p0e(u,a))return null;const h=t.claim(i||Cu);let f="PRE_DRAG";function m(){return c.options.shouldRespectForcePress}function g(){return t.isActive(h)}function b(j,A){Hy({expected:j,phase:f,isLockActive:g,shouldWarn:!0})&&n.dispatch(A())}const y=b.bind(null,"DRAGGING");function x(j){function A(){t.release(),f="COMPLETED"}f!=="PRE_DRAG"&&(A(),Bt()),n.dispatch(bme(j.liftActionArgs)),f="DRAGGING";function O(L,P={shouldBlockNextClick:!1}){if(j.cleanup(),P.shouldBlockNextClick){const N=Va(window,[{eventName:"click",fn:S0e,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(N)}A(),n.dispatch(UF({reason:L}))}return{isActive:()=>Hy({expected:"DRAGGING",phase:f,isLockActive:g,shouldWarn:!1}),shouldRespectForcePress:m,drop:L=>O("DROP",L),cancel:L=>O("CANCEL",L),...j.actions}}function _(j){const A=Mg(L=>{y(()=>zF({client:L}))});return{...x({liftActionArgs:{id:s,clientSelection:j,movementMode:"FLUID"},cleanup:()=>A.cancel(),actions:{move:A}}),move:A}}function S(){const j={moveUp:()=>y(Eme),moveRight:()=>y(Nme),moveDown:()=>y(jme),moveLeft:()=>y(Dme)};return x({liftActionArgs:{id:s,clientSelection:m0e(u),movementMode:"SNAP"},cleanup:Cu,actions:j})}function T(){Hy({expected:"PRE_DRAG",phase:f,isLockActive:g,shouldWarn:!0})&&t.release()}return{isActive:()=>Hy({expected:"PRE_DRAG",phase:f,isLockActive:g,shouldWarn:!1}),shouldRespectForcePress:m,fluidLift:_,snapLift:S,abort:T}}const T0e=[r0e,o0e,h0e];function k0e({contextId:t,store:e,registry:n,customSensors:r,enableDefaultSensors:s}){const i=[...s?T0e:[],...r||[]],a=w.useState(()=>Hge())[0],l=ln(function(x,_){zg(x)&&!zg(_)&&a.tryAbandon()},[a]);fa(function(){let x=e.getState();return e.subscribe(()=>{const S=e.getState();l(x,S),x=S})},[a,e,l]),fa(()=>a.tryAbandon,[a.tryAbandon]);const c=ln(y=>lB({lockAPI:a,registry:n,store:e,draggableId:y}),[a,n,e]),u=ln((y,x,_)=>C0e({lockAPI:a,registry:n,contextId:t,store:e,draggableId:y,forceSensorStop:x||null,sourceEvent:_&&_.sourceEvent?_.sourceEvent:null}),[t,a,n,e]),h=ln(y=>_0e(t,y),[t]),f=ln(y=>{const x=n.draggable.findById(y);return x?x.options:null},[n.draggable]),m=ln(function(){a.isClaimed()&&(a.tryAbandon(),e.getState().phase!=="IDLE"&&e.dispatch(eE()))},[a,e]),g=ln(()=>a.isClaimed(),[a]),b=$n(()=>({canGetLock:c,tryGetLock:u,findClosestDraggableId:h,findOptionsForDraggable:f,tryReleaseLock:m,isLockClaimed:g}),[c,u,h,f,m,g]);for(let y=0;y<i.length;y++)i[y](b)}const E0e=t=>({onBeforeCapture:e=>{const n=()=>{t.onBeforeCapture&&t.onBeforeCapture(e)};Qg.flushSync(n)},onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}),j0e=t=>({...$g,...t.autoScrollerOptions,durationDampening:{...$g.durationDampening,...t.autoScrollerOptions}});function jm(t){return t.current||Bt(),t.current}function N0e(t){const{contextId:e,setCallbacks:n,sensors:r,nonce:s,dragHandleUsageInstructions:i}=t,a=w.useRef(null),l=nB(t),c=ln(()=>E0e(l.current),[l]),u=ln(()=>j0e(l.current),[l]),h=Bge(e),f=Uge({contextId:e,text:i}),m=Pge(e,s),g=ln(N=>{jm(a).dispatch(N)},[]),b=$n(()=>o4({publishWhileDragging:vme,updateDroppableScroll:wme,updateDroppableIsEnabled:Sme,updateDroppableIsCombineEnabled:Cme,collectionStarting:_me},g),[g]),y=Rge(),x=$n(()=>uge(y,b),[y,b]),_=$n(()=>Ege({scrollWindow:dge,scrollDroppable:x.scrollDroppable,getAutoScrollerOptions:u,...o4({move:zF},g)}),[x.scrollDroppable,g,u]),S=Oge(e),T=$n(()=>age({announce:h,autoScroller:_,dimensionMarshal:x,focusMarshal:S,getResponders:c,styleMarshal:m}),[h,_,x,S,c,m]);a.current=T;const D=ln(()=>{const N=jm(a);N.getState().phase!=="IDLE"&&N.dispatch(eE())},[]),j=ln(()=>{const N=jm(a).getState();return N.phase==="DROP_ANIMATING"?!0:N.phase==="IDLE"?!1:N.isDragging},[]),A=$n(()=>({isDragging:j,tryAbort:D}),[j,D]);n(A);const O=ln(N=>XF(jm(a).getState(),N),[]),L=ln(()=>Cd(jm(a).getState()),[]),P=$n(()=>({marshal:x,focus:S,contextId:e,canLift:O,isMovementAllowed:L,dragHandleUsageInstructionsId:f,registry:y}),[e,x,f,S,O,L,y]);return k0e({contextId:e,store:T,registry:y,customSensors:r||null,enableDefaultSensors:t.enableDefaultSensors!==!1}),w.useEffect(()=>D,[D]),nn.createElement(r1.Provider,{value:P},nn.createElement(epe,{context:oE,store:T},t.children))}function D0e(){return nn.useId()}function ap(t){const e=D0e(),n=t.dragHandleUsageInstructions||_b.dragHandleUsageInstructions;return nn.createElement(ope,null,r=>nn.createElement(N0e,{nonce:t.nonce,contextId:e,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd,autoScrollerOptions:t.autoScrollerOptions},t.children))}const R4={dragging:5e3,dropAnimating:4500},A0e=(t,e)=>e?ig.drop(e.duration):t?ig.snap:ig.fluid,P0e=(t,e)=>{if(t)return e?Bg.opacity.drop:Bg.opacity.combining},I0e=t=>t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP";function O0e(t){const n=t.dimension.client,{offset:r,combineWith:s,dropping:i}=t,a=!!s,l=I0e(t),c=!!i,u=c?GS.drop(r,a):GS.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:A0e(l,i),transform:u,opacity:P0e(a,c),zIndex:c?R4.dropAnimating:R4.dragging,pointerEvents:"none"}}function M0e(t){return{transform:GS.moveTo(t.offset),transition:t.shouldAnimateDisplacement?void 0:"none"}}function R0e(t){return t.type==="DRAGGING"?O0e(t):M0e(t)}function L0e(t,e,n=Es){const r=window.getComputedStyle(e),s=e.getBoundingClientRect(),i=mF(s,r),a=kx(i,n),l={client:i,tagName:e.tagName.toLowerCase(),display:r.display},c={x:i.marginBox.width,y:i.marginBox.height};return{descriptor:t,placeholder:l,displaceBy:c,client:i,page:a}}function F0e(t){const e=lE("draggable"),{descriptor:n,registry:r,getDraggableRef:s,canDragInteractiveElements:i,shouldRespectForcePress:a,isEnabled:l}=t,c=$n(()=>({canDragInteractiveElements:i,shouldRespectForcePress:a,isEnabled:l}),[i,l,a]),u=ln(g=>{const b=s();return b||Bt(),L0e(n,b,g)},[n,s]),h=$n(()=>({uniqueId:e,descriptor:n,options:c,getDimension:u}),[n,u,c,e]),f=w.useRef(h),m=w.useRef(!0);fa(()=>(r.draggable.register(f.current),()=>r.draggable.unregister(f.current)),[r.draggable]),fa(()=>{if(m.current){m.current=!1;return}const g=f.current;f.current=h,r.draggable.update(h,g)},[h,r.draggable])}var uE=nn.createContext(null);function Ax(t){const e=w.useContext(t);return e||Bt(),e}function B0e(t){t.preventDefault()}const $0e=t=>{const e=w.useRef(null),n=ln((A=null)=>{e.current=A},[]),r=ln(()=>e.current,[]),{contextId:s,dragHandleUsageInstructionsId:i,registry:a}=Ax(r1),{type:l,droppableId:c}=Ax(uE),u=$n(()=>({id:t.draggableId,index:t.index,type:l,droppableId:c}),[t.draggableId,t.index,l,c]),{children:h,draggableId:f,isEnabled:m,shouldRespectForcePress:g,canDragInteractiveElements:b,isClone:y,mapped:x,dropAnimationFinished:_}=t;if(!y){const A=$n(()=>({descriptor:u,registry:a,getDraggableRef:r,canDragInteractiveElements:b,shouldRespectForcePress:g,isEnabled:m}),[u,a,r,b,g,m]);F0e(A)}const S=$n(()=>m?{tabIndex:0,role:"button","aria-describedby":i,"data-rfd-drag-handle-draggable-id":f,"data-rfd-drag-handle-context-id":s,draggable:!1,onDragStart:B0e}:null,[s,i,f,m]),T=ln(A=>{x.type==="DRAGGING"&&x.dropping&&A.propertyName==="transform"&&Qg.flushSync(_)},[_,x]),D=$n(()=>{const A=R0e(x),O=x.type==="DRAGGING"&&x.dropping?T:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":s,"data-rfd-draggable-id":f,style:A,onTransitionEnd:O},dragHandleProps:S}},[s,S,f,x,T,n]),j=$n(()=>({draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}}),[u.droppableId,u.id,u.index,u.type]);return nn.createElement(nn.Fragment,null,h(D,x.snapshot,j))};var cB=(t,e)=>t===e,uB=t=>{const{combine:e,destination:n}=t;return n?n.droppableId:e?e.droppableId:null};const z0e=t=>t.combine?t.combine.draggableId:null,U0e=t=>t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null;function H0e(){const t=ks((s,i)=>({x:s,y:i})),e=ks((s,i,a=null,l=null,c=null)=>({isDragging:!0,isClone:i,isDropAnimating:!!c,dropAnimation:c,mode:s,draggingOver:a,combineWith:l,combineTargetFor:null})),n=ks((s,i,a,l,c=null,u=null,h=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:u,mode:i,offset:s,dimension:a,forceShouldAnimate:h,snapshot:e(i,l,c,u,null)}}));return(s,i)=>{if(zg(s)){if(s.critical.draggable.id!==i.draggableId)return null;const a=s.current.client.offset,l=s.dimensions.draggables[i.draggableId],c=ha(s.impact),u=U0e(s.impact),h=s.forceShouldAnimate;return n(t(a.x,a.y),s.movementMode,l,i.isClone,c,u,h)}if(s.phase==="DROP_ANIMATING"){const a=s.completed;if(a.result.draggableId!==i.draggableId)return null;const l=i.isClone,c=s.dimensions.draggables[i.draggableId],u=a.result,h=u.mode,f=uB(u),m=z0e(u),b={duration:s.dropDuration,curve:nE.drop,moveTo:s.newHomeClientOffset,opacity:m?Bg.opacity.drop:null,scale:m?Bg.scale.drop:null};return{mapped:{type:"DRAGGING",offset:s.newHomeClientOffset,dimension:c,dropping:b,draggingOver:f,combineWith:m,mode:h,forceShouldAnimate:null,snapshot:e(h,l,f,m,b)}}}return null}}function dB(t=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}const W0e={mapped:{type:"SECONDARY",offset:Es,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:dB(null)}};function V0e(){const t=ks((a,l)=>({x:a,y:l})),e=ks(dB),n=ks((a,l=null,c)=>({mapped:{type:"SECONDARY",offset:a,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:e(l)}})),r=a=>a?n(Es,a,!0):null,s=(a,l,c,u)=>{const h=c.displaced.visible[a],f=!!(u.inVirtualList&&u.effected[a]),m=Jv(c),g=m&&m.draggableId===a?l:null;if(!h){if(!f)return r(g);if(c.displaced.invisible[a])return null;const x=kp(u.displacedBy.point),_=t(x.x,x.y);return n(_,g,!0)}if(f)return r(g);const b=c.displacedBy.point,y=t(b.x,b.y);return n(y,g,h.shouldAnimate)};return(a,l)=>{if(zg(a))return a.critical.draggable.id===l.draggableId?null:s(l.draggableId,a.critical.draggable.id,a.impact,a.afterCritical);if(a.phase==="DROP_ANIMATING"){const c=a.completed;return c.result.draggableId===l.draggableId?null:s(l.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null}}const q0e=()=>{const t=H0e(),e=V0e();return(r,s)=>t(r,s)||e(r,s)||W0e},Y0e={dropAnimationFinished:HF},G0e=pF(q0e,Y0e,null,{context:oE,areStatePropsEqual:cB})($0e);function hB(t){return Ax(uE).isUsingCloneFor===t.draggableId&&!t.isClone?null:nn.createElement(G0e,t)}function fc(t){const e=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,n=!!t.disableInteractiveElementBlocking,r=!!t.shouldRespectForcePress;return nn.createElement(hB,Ge({},t,{isClone:!1,isEnabled:e,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const fB=t=>e=>t===e,K0e=fB("scroll"),X0e=fB("auto"),L4=(t,e)=>e(t.overflowX)||e(t.overflowY),Q0e=t=>{const e=window.getComputedStyle(t),n={overflowX:e.overflowX,overflowY:e.overflowY};return L4(n,K0e)||L4(n,X0e)},Z0e=()=>!1,pB=t=>t==null?null:t===document.body?Z0e()?t:null:t===document.documentElement?null:Q0e(t)?t:pB(t.parentElement);var QS=t=>({x:t.scrollLeft,y:t.scrollTop});const mB=t=>t?window.getComputedStyle(t).position==="fixed"?!0:mB(t.parentElement):!1;var J0e=t=>{const e=pB(t),n=mB(t);return{closestScrollable:e,isFixedOnPage:n}},eye=({descriptor:t,isEnabled:e,isCombineEnabled:n,isFixedOnPage:r,direction:s,client:i,page:a,closest:l})=>{const c=(()=>{if(!l)return null;const{scrollSize:m,client:g}=l,b=YF({scrollHeight:m.scrollHeight,scrollWidth:m.scrollWidth,height:g.paddingBox.height,width:g.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:g,scrollSize:m,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:b,diff:{value:Es,displacement:Es}}}})(),u=s==="vertical"?Kk:kF,h=rp({page:a,withPlaceholder:null,axis:u,frame:c});return{descriptor:t,isCombineEnabled:n,isFixedOnPage:r,axis:u,isEnabled:e,client:i,page:a,frame:c,subject:h}};const tye=(t,e)=>{const n=gF(t);if(!e||t!==e)return n;const r=n.paddingBox.top-e.scrollTop,s=n.paddingBox.left-e.scrollLeft,i=r+e.scrollHeight,a=s+e.scrollWidth,c=Vk({top:r,right:a,bottom:i,left:s},n.border);return qk({borderBox:c,margin:n.margin,border:n.border,padding:n.padding})};var nye=({ref:t,descriptor:e,env:n,windowScroll:r,direction:s,isDropDisabled:i,isCombineEnabled:a,shouldClipSubject:l})=>{const c=n.closestScrollable,u=tye(t,c),h=kx(u,r),f=(()=>{if(!c)return null;const g=gF(c),b={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:g,page:kx(g,r),scroll:QS(c),scrollSize:b,shouldClipSubject:l}})();return eye({descriptor:e,isEnabled:!i,isCombineEnabled:a,isFixedOnPage:n.isFixedOnPage,direction:s,client:u,page:h,closest:f})};const rye={passive:!1},sye={passive:!0};var F4=t=>t.shouldPublishImmediately?rye:sye;const Wy=t=>t&&t.env.closestScrollable||null;function iye(t){const e=w.useRef(null),n=Ax(r1),r=lE("droppable"),{registry:s,marshal:i}=n,a=nB(t),l=$n(()=>({id:t.droppableId,type:t.type,mode:t.mode}),[t.droppableId,t.mode,t.type]),c=w.useRef(l),u=$n(()=>ks((D,j)=>{e.current||Bt();const A={x:D,y:j};i.updateDroppableScroll(l.id,A)}),[l.id,i]),h=ln(()=>{const D=e.current;return!D||!D.env.closestScrollable?Es:QS(D.env.closestScrollable)},[]),f=ln(()=>{const D=h();u(D.x,D.y)},[h,u]),m=$n(()=>Mg(f),[f]),g=ln(()=>{const D=e.current,j=Wy(D);if(D&&j||Bt(),D.scrollOptions.shouldPublishImmediately){f();return}m()},[m,f]),b=ln((D,j)=>{e.current&&Bt();const A=a.current,O=A.getDroppableRef();O||Bt();const L=J0e(O),P={ref:O,descriptor:l,env:L,scrollOptions:j};e.current=P;const N=nye({ref:O,descriptor:l,env:L,windowScroll:D,direction:A.direction,isDropDisabled:A.isDropDisabled,isCombineEnabled:A.isCombineEnabled,shouldClipSubject:!A.ignoreContainerClipping}),U=L.closestScrollable;return U&&(U.setAttribute(P4.contextId,n.contextId),U.addEventListener("scroll",g,F4(P.scrollOptions))),N},[n.contextId,l,g,a]),y=ln(()=>{const D=e.current,j=Wy(D);return D&&j||Bt(),QS(j)},[]),x=ln(()=>{const D=e.current;D||Bt();const j=Wy(D);e.current=null,j&&(m.cancel(),j.removeAttribute(P4.contextId),j.removeEventListener("scroll",g,F4(D.scrollOptions)))},[g,m]),_=ln(D=>{const j=e.current;j||Bt();const A=Wy(j);A||Bt(),A.scrollTop+=D.y,A.scrollLeft+=D.x},[]),S=$n(()=>({getDimensionAndWatchScroll:b,getScrollWhileDragging:y,dragStopped:x,scroll:_}),[x,b,y,_]),T=$n(()=>({uniqueId:r,descriptor:l,callbacks:S}),[S,l,r]);fa(()=>(c.current=T.descriptor,s.droppable.register(T),()=>{e.current&&x(),s.droppable.unregister(T)}),[S,l,x,T,i,s.droppable]),fa(()=>{e.current&&i.updateDroppableIsEnabled(c.current.id,!t.isDropDisabled)},[t.isDropDisabled,i]),fa(()=>{e.current&&i.updateDroppableIsCombineEnabled(c.current.id,t.isCombineEnabled)},[t.isCombineEnabled,i])}function Jw(){}const B4={width:0,height:0,margin:ppe},aye=({isAnimatingOpenOnMount:t,placeholder:e,animate:n})=>t||n==="close"?B4:{height:e.client.borderBox.height,width:e.client.borderBox.width,margin:e.client.margin},oye=({isAnimatingOpenOnMount:t,placeholder:e,animate:n})=>{const r=aye({isAnimatingOpenOnMount:t,placeholder:e,animate:n});return{display:e.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?ig.placeholder:null}},lye=t=>{const e=w.useRef(null),n=ln(()=>{e.current&&(clearTimeout(e.current),e.current=null)},[]),{animate:r,onTransitionEnd:s,onClose:i,contextId:a}=t,[l,c]=w.useState(t.animate==="open");w.useEffect(()=>l?r!=="open"?(n(),c(!1),Jw):e.current?Jw:(e.current=setTimeout(()=>{e.current=null,c(!1)}),n):Jw,[r,l,n]);const u=ln(f=>{f.propertyName==="height"&&(s(),r==="close"&&i())},[r,i,s]),h=oye({isAnimatingOpenOnMount:l,animate:t.animate,placeholder:t.placeholder});return nn.createElement(t.placeholder.tagName,{style:h,"data-rfd-placeholder-context-id":a,onTransitionEnd:u,ref:t.innerRef})};var cye=nn.memo(lye);class uye extends nn.PureComponent{constructor(...e){super(...e),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,n){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!e.on,data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}const dye=t=>{const e=w.useContext(r1);e||Bt();const{contextId:n,isMovementAllowed:r}=e,s=w.useRef(null),i=w.useRef(null),{children:a,droppableId:l,type:c,mode:u,direction:h,ignoreContainerClipping:f,isDropDisabled:m,isCombineEnabled:g,snapshot:b,useClone:y,updateViewportMaxScroll:x,getContainerForClone:_}=t,S=ln(()=>s.current,[]),T=ln((U=null)=>{s.current=U},[]);ln(()=>i.current,[]);const D=ln((U=null)=>{i.current=U},[]),j=ln(()=>{r()&&x({maxScroll:KF()})},[r,x]);iye({droppableId:l,type:c,mode:u,direction:h,isDropDisabled:m,isCombineEnabled:g,ignoreContainerClipping:f,getDroppableRef:S});const A=$n(()=>nn.createElement(uye,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},({onClose:U,data:M,animate:q})=>nn.createElement(cye,{placeholder:M,onClose:U,innerRef:D,animate:q,contextId:n,onTransitionEnd:j})),[n,j,t.placeholder,t.shouldAnimatePlaceholder,D]),O=$n(()=>({innerRef:T,placeholder:A,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":n}}),[n,l,A,T]),L=y?y.dragging.draggableId:null,P=$n(()=>({droppableId:l,type:c,isUsingCloneFor:L}),[l,L,c]);function N(){if(!y)return null;const{dragging:U,render:M}=y,q=nn.createElement(hB,{draggableId:U.draggableId,index:U.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(E,G)=>M(E,G,U));return Nd.createPortal(q,_())}return nn.createElement(uE.Provider,{value:P},a(O,b),N())};function hye(){return document.body||Bt(),document.body}const $4={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:hye},gB=t=>{let e={...t},n;for(n in $4)t[n]===void 0&&(e={...e,[n]:$4[n]});return e},e2=(t,e)=>t===e.droppable.type,z4=(t,e)=>e.draggables[t.draggable.id],fye=()=>{const t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},e={...t,shouldAnimatePlaceholder:!1},n=ks(i=>({draggableId:i.id,type:i.type,source:{index:i.index,droppableId:i.droppableId}})),r=ks((i,a,l,c,u,h)=>{const f=u.descriptor.id;if(u.descriptor.droppableId===i){const b=h?{render:h,dragging:n(u.descriptor)}:null,y={isDraggingOver:l,draggingOverWith:l?f:null,draggingFromThisWith:f,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!1,snapshot:y,useClone:b}}if(!a)return e;if(!c)return t;const g={isDraggingOver:l,draggingOverWith:f,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!0,snapshot:g,useClone:null}});return(i,a)=>{const l=gB(a),c=l.droppableId,u=l.type,h=!l.isDropDisabled,f=l.renderClone;if(zg(i)){const m=i.critical;if(!e2(u,m))return e;const g=z4(m,i.dimensions),b=ha(i.impact)===c;return r(c,h,b,b,g,f)}if(i.phase==="DROP_ANIMATING"){const m=i.completed;if(!e2(u,m.critical))return e;const g=z4(m.critical,i.dimensions);return r(c,h,uB(m.result)===c,ha(m.impact)===c,g,f)}if(i.phase==="IDLE"&&i.completed&&!i.shouldFlush){const m=i.completed;if(!e2(u,m.critical))return e;const g=ha(m.impact)===c,b=!!(m.impact.at&&m.impact.at.type==="COMBINE"),y=m.critical.droppable.id===c;return g?b?t:e:y?t:e}return e}},pye={updateViewportMaxScroll:kme},pc=pF(fye,pye,(t,e,n)=>({...gB(n),...t,...e}),{context:oE,areStatePropsEqual:cB})(dye);function U4({show:t,quizId:e,onClose:n}){var Me,ye,se,ie,fe,Te,he,ce,ve,Ie,Fe,Se,ut,pt;const[r,s]=w.useState([]),[i,a]=w.useState(!0),[l,c]=w.useState(!0),[u,h]=w.useState(!1),[f,m]=w.useState(null),[g,b]=w.useState(0),[y,x]=w.useState(null),[_,S]=w.useState([]),[T,D]=w.useState(!1),[j,A]=w.useState(!1),[O,L]=w.useState(!1),[P,N]=w.useState(5),[U,M]=w.useState([]),[q,E]=w.useState([]),[G,Q]=w.useState(!1),[re,ee]=w.useState(!1),[Z,K]=w.useState(!1),[F,W]=w.useState(!1),[me,ne]=w.useState([]),[ge,we]=w.useState([]);mr();const je="#0055A4",Re="#FFFFFF",ke="#EF4135",We=async Le=>{D(!0);try{const Qe=(await vt().get(`student/quiz/${Le}/`)).data;m(Qe),S(Qe.questions||[]),b(0),x(null),A(!1),N(5),M([]),E([]),Q(!1),W(!1),ee(!1),ne([]),we([])}catch{}finally{D(!1)}},Je=()=>{K(!1),n(),b(0),x(null),S([]),m(null),M([]),E([]),N(5),A(!1),Q(!1),W(!1),ee(!1)};w.useEffect(()=>{t&&e&&We(e)},[t,e]);const nt=async()=>{var Le;if(((Le=_[g])==null?void 0:Le.type)==="sentence_building"){if(me.length===0)return;const Ue=me.map(Ke=>Ke.originalIndex),Qe=_[g].options.correct_order||Array.from({length:_[g].options.words.length},(Ke,xt)=>xt),ot=Ue.length===Qe.length&&Ue.every((Ke,xt)=>Ke===Qe[xt]);L(ot),A(!0);try{await vt().post("student/quiz-answer-check/",{quiz_id:f.id,question_id:_[g].id,selected_answer:Ue,question_type:"sentence_building"})}catch{}setTimeout(()=>{ot?(E(Ke=>[...Ke,g]),re&&M(Ke=>Ke.filter(xt=>xt!==g)),ct()):(N(Ke=>Ke-1),re||U.includes(g)||M(Ke=>[...Ke,g]),P<=1?(N(0),W(!0),setTimeout(()=>{n(),W(!1)},3e3)):X(_[g])),A(!1)},2e3)}else{if(y===null)return;const Ue=_[g],Qe=(Ue==null?void 0:Ue.options)||[];try{const ot=await vt().post("student/quiz-answer-check/",{quiz_id:f.id,question_id:Ue.id,selected_answer:y}),{is_correct:Ke}=ot.data;L(Ke),A(!0),setTimeout(()=>{Ke?(E(xt=>[...xt,g]),re&&M(xt=>xt.filter(ae=>ae!==g)),ct()):(N(xt=>xt-1),re||U.includes(g)||M(xt=>[...xt,g]),P<=1?(N(0),W(!0),setTimeout(()=>{n(),W(!1)},3e3)):x(null)),A(!1)},2e3)}catch{let Ke=!1;if(Ue.type==="true_false"||Ue.type==="multiple_choice"){const xt=Qe.findIndex(ae=>ae.isCorrect===!0);Ke=y===xt}else if(Ue.type==="checkbox"){const xt=Array.isArray(y)?y:[y],ae=Qe.reduce((Be,Ye,_t)=>(Ye.isCorrect&&Be.push(_t),Be),[]);Ke=xt.length===ae.length&&xt.every(Be=>ae.includes(Be))}L(Ke),A(!0),setTimeout(()=>{Ke?(E(xt=>[...xt,g]),re&&M(xt=>xt.filter(ae=>ae!==g)),ct()):(N(xt=>xt-1),re||U.includes(g)||M(xt=>[...xt,g]),P<=1?(N(0),W(!0),setTimeout(()=>{n(),W(!1)},3e3)):x(null)),A(!1)},2e3)}}},ct=()=>{if(re)if(U.length<=1)Q(!0),ee(!1),setTimeout(()=>{n()},3e3);else{const Ue=(U.indexOf(g)+1)%U.length;b(U[Ue]),x(null)}else g<_.length-1?(b(g+1),x(null)):U.length>0?(ee(!0),b(U[0]),x(null)):(Q(!0),setTimeout(()=>{n()},3e3))};w.useEffect(()=>{const Le=()=>{const Qe=document.body.classList.contains("dark-mode")||localStorage.getItem("appearanceSettings")&&JSON.parse(localStorage.getItem("appearanceSettings")).darkMode;h(Qe)};Le();const Ue=()=>{Le()};return window.addEventListener("storage",Ue),()=>{window.removeEventListener("storage",Ue)}},[]);const X=Le=>{var Ue;if(Le.type==="sentence_building"&&Array.isArray((Ue=Le.options)==null?void 0:Ue.words)){const ot=[...Le.options.words.map((Ke,xt)=>({word:Ke,originalIndex:xt}))];for(let Ke=ot.length-1;Ke>0;Ke--){const xt=Math.floor(Math.random()*(Ke+1));[ot[Ke],ot[xt]]=[ot[xt],ot[Ke]]}ne([]),we(ot)}};return w.useEffect(()=>{if(_.length>0&&g<_.length){const Le=_[g];(Le==null?void 0:Le.type)==="sentence_building"&&X(Le),A(!1),x(null)}},[_,g]),o.jsx("div",{children:o.jsx(Tt,{show:t,onHide:()=>{j||K(!0)},centered:!0,size:"lg",backdrop:"static",className:"duolingo-quiz-modal",children:o.jsxs(Tt.Body,{className:"p-0",children:[o.jsxs("div",{style:{backgroundColor:u?"#1c2c3a":"rgb(207, 207, 207)",minHeight:"500px",borderRadius:"8px",position:"relative",padding:"0"},children:[o.jsx("div",{style:{height:"6px",backgroundColor:u?"#2e3e4a":Re,borderRadius:"8px 8px 0 0",overflow:"hidden"},children:o.jsx("div",{style:{height:"100%",width:`${q.length/_.length*100}%`,backgroundColor:ke,transition:"width 0.3s ease"}})}),o.jsxs("div",{style:{position:"absolute",top:"20px",right:"20px",display:"flex",alignItems:"center",backgroundColor:"rgba(255,255,255,0.2)",borderRadius:"20px",padding:"5px 10px"},children:[o.jsx("span",{style:{color:"red",marginRight:"5px",fontSize:"16px"},children:""}),o.jsx("span",{style:{color:u?"white":"black",fontWeight:"bold",fontSize:"16px"},children:P})]}),re&&o.jsx("div",{style:{position:"absolute",top:"20px",left:"20px",backgroundColor:"rgba(255,255,255,0.2)",borderRadius:"20px",padding:"5px 10px",color:"white"},children:"Review Mode"}),F?o.jsxs("div",{style:{padding:"30px 20px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%",minHeight:"400px"},children:[o.jsx("div",{style:{width:"150px",height:"150px",borderRadius:"50%",backgroundColor:ke,display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"30px"},children:o.jsx(tp,{style:{fontSize:"80px",color:"white"}})}),o.jsx("h2",{style:{color:u?"white":"black",marginBottom:"20px",textAlign:"center"},children:"Quiz Failed!"}),o.jsx("p",{style:{color:u?"white":"black",fontSize:"20px",textAlign:"center",marginBottom:"30px"},children:"You ran out of hearts! Try again."}),o.jsxs("p",{style:{color:u?"white":"black",fontSize:"16px",textAlign:"center"},children:["You completed ",q.length," out of"," ",_.length," questions correctly."]})]}):G?o.jsxs("div",{style:{padding:"30px 20px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%",minHeight:"400px"},children:[o.jsx("div",{style:{width:"150px",height:"150px",borderRadius:"50%",backgroundColor:"#4CAF50",display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"30px"},children:o.jsx(wx,{style:{fontSize:"80px",color:"white"}})}),o.jsx("h2",{style:{color:u?"white":"black",marginBottom:"20px",textAlign:"center"},children:"Quiz Completed!"}),o.jsxs("p",{style:{color:u?"white":"black",fontSize:"20px",textAlign:"center"},children:["You got ",q.length," out of"," ",_.length," questions correct!"]})]}):_.length>0&&g<_.length&&o.jsxs("div",{style:{padding:"30px 20px",display:"flex",flexDirection:"column",minHeight:"500px"},children:[o.jsxs("div",{style:{flex:1},children:[o.jsxs("div",{style:{textAlign:"center",marginBottom:"30px"},children:[o.jsxs("h3",{style:{color:u?"white":"black",marginBottom:"10px"},children:["Question ",re?"(Review)":g+1]}),o.jsx("h2",{style:{color:u?"white":"black",fontSize:"24px"},children:((Me=_[g])==null?void 0:Me.title)||"Select the correct answer"})]}),o.jsx("div",{style:{textAlign:"center",backgroundColor:Re,color:"#333",padding:"10px 15px",borderRadius:"20px",width:"fit-content",margin:"0 auto 30px",boxShadow:"0 2px 5px rgba(0,0,0,0.2)"},children:((ye=_[g])==null?void 0:ye.description)||"Choose the right answer!"}),j&&o.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:O?"rgba(0,100,0,0.9)":"rgba(200,0,0,0.9)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:10},children:O?o.jsxs(o.Fragment,{children:[o.jsx(wx,{style:{fontSize:"100px",color:"white"}}),o.jsx("h2",{style:{color:"white",marginTop:"20px"},children:"Correct!"})]}):o.jsxs(o.Fragment,{children:[o.jsx(tp,{style:{fontSize:"100px",color:"white"}}),o.jsx("h2",{style:{color:"white",marginTop:"20px"},children:"Incorrect!"})]})}),o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px",maxWidth:"600px",margin:"0 auto"},children:Array.isArray((se=_[g])==null?void 0:se.options)?(ie=_[g])==null?void 0:ie.options.map((Le,Ue)=>{var Qe;return o.jsxs("div",{onClick:()=>{var ot;if(!j)if(((ot=_[g])==null?void 0:ot.type)==="checkbox"){const Ke=Array.isArray(y)?[...y]:[],xt=Ke.indexOf(Ue);xt===-1?Ke.push(Ue):Ke.splice(xt,1),x(Ke)}else x(Ue)},style:{padding:"14px",backgroundColor:Array.isArray(y)?y.includes(Ue)?Re:"rgba(255,255,255,0.9)":y===Ue?Re:"rgba(255,255,255,0.9)",border:Array.isArray(y)?y.includes(Ue)?`2px solid ${ke}`:"2px solid transparent":y===Ue?`2px solid ${ke}`:"2px solid transparent",borderRadius:"12px",cursor:j?"default":"pointer",display:"flex",alignItems:"center",color:"#333"},children:[o.jsx("div",{style:{width:"30px",height:"30px",borderRadius:"50%",backgroundColor:je,color:"white",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"10px",fontWeight:"bold"},children:Ue+1}),o.jsx("div",{style:{flex:1},children:Le.text}),((Qe=_[g])==null?void 0:Qe.type)==="checkbox"&&o.jsx("div",{style:{width:"20px",height:"20px",border:"2px solid #ccc",marginLeft:"10px",backgroundColor:Array.isArray(y)&&y.includes(Ue)?ke:"transparent"}})]},Ue)}):Object.entries(((fe=_[g])==null?void 0:fe.options)||{}).map(([Le,Ue],Qe)=>["words","correct_order","translation"].includes(Le)?null:o.jsxs("div",{onClick:()=>{j||x(Qe)},style:{padding:"14px",backgroundColor:y===Qe?Re:"rgba(255,255,255,0.9)",border:y===Qe?`2px solid ${ke}`:"2px solid transparent",borderRadius:"12px",cursor:j?"default":"pointer",display:"flex",alignItems:"center",color:"#333"},children:[o.jsx("div",{style:{width:"30px",height:"30px",borderRadius:"50%",backgroundColor:je,color:"white",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"10px",fontWeight:"bold"},children:Qe+1}),o.jsx("div",{style:{flex:1},children:Ue.text||Ue})]},Qe)).filter(Boolean)}),((Te=_[g])==null?void 0:Te.type)==="sentence_building"&&o.jsxs("div",{style:{padding:"20px 0"},children:[((ce=(he=_[g])==null?void 0:he.options)==null?void 0:ce.translation)&&o.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.2)",padding:"10px 15px",marginBottom:"20px",borderRadius:"10px",color:u?"white":"black",textAlign:"center",fontStyle:"italic"},children:(Ie=(ve=_[g])==null?void 0:ve.options)==null?void 0:Ie.translation}),o.jsxs(ap,{onDragEnd:Le=>{if(!Le.destination)return;const Ue=Le.source,Qe=Le.destination;if(Ue.droppableId==="word-bank"&&Qe.droppableId==="sentence-area"){const ot=ge[Ue.index];we(Ke=>Ke.filter((xt,ae)=>ae!==Ue.index)),ne(Ke=>{const xt=[...Ke];return xt.splice(Qe.index,0,ot),xt})}else if(Ue.droppableId==="sentence-area"&&Qe.droppableId==="word-bank"){const ot=me[Ue.index];ne(Ke=>Ke.filter((xt,ae)=>ae!==Ue.index)),we(Ke=>{const xt=[...Ke];return xt.splice(Qe.index,0,ot),xt})}else Ue.droppableId==="sentence-area"&&Qe.droppableId==="sentence-area"?ne(ot=>{const Ke=[...ot],[xt]=Ke.splice(Ue.index,1);return Ke.splice(Qe.index,0,xt),Ke}):Ue.droppableId==="word-bank"&&Qe.droppableId==="word-bank"&&we(ot=>{const Ke=[...ot],[xt]=Ke.splice(Ue.index,1);return Ke.splice(Qe.index,0,xt),Ke})},children:[o.jsx(pc,{droppableId:"sentence-area",direction:"horizontal",children:(Le,Ue)=>o.jsxs("div",{ref:Le.innerRef,...Le.droppableProps,style:{minHeight:"80px",backgroundColor:u?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.15)",borderRadius:"10px",padding:"15px",marginBottom:"20px",display:"flex",flexWrap:"wrap",alignItems:"center",border:Ue.isDraggingOver?"2px dashed white":"2px solid transparent"},children:[me.length===0?o.jsx("div",{style:{color:u?"rgba(255,255,255,0.5)":"black",textAlign:"center",width:"100%"},children:"Drag words here to form a sentence"}):me.map((Qe,ot)=>o.jsx(fc,{draggableId:`selected-${ot}`,index:ot,children:(Ke,xt)=>o.jsx("div",{ref:Ke.innerRef,...Ke.draggableProps,...Ke.dragHandleProps,style:{...Ke.draggableProps.style,backgroundColor:Re,color:"#333",padding:"8px 15px",margin:"5px",borderRadius:"5px",fontWeight:"500",boxShadow:xt.isDragging?"0 5px 10px rgba(0,0,0,0.3)":"0 2px 4px rgba(0,0,0,0.1)",transform:xt.isDragging?`${Ke.draggableProps.style.transform} scale(1.05)`:Ke.draggableProps.style.transform},children:Qe.word})},`selected-${ot}`)),Le.placeholder]})}),o.jsx(pc,{droppableId:"word-bank",direction:"horizontal",children:(Le,Ue)=>o.jsxs("div",{ref:Le.innerRef,...Le.droppableProps,style:{backgroundColor:"rgba(0,0,0,0.2)",padding:"15px",borderRadius:"10px",display:"flex",flexWrap:"wrap",gap:"10px",justifyContent:"center",minHeight:"70px",border:Ue.isDraggingOver?"2px dashed white":"2px solid transparent"},children:[ge.length===0?o.jsx("div",{style:{color:"rgba(255,255,255,0.5)",textAlign:"center",width:"100%"},children:"All words have been used"}):ge.map((Qe,ot)=>o.jsx(fc,{draggableId:`remaining-${ot}`,index:ot,children:(Ke,xt)=>o.jsx("div",{ref:Ke.innerRef,...Ke.draggableProps,...Ke.dragHandleProps,style:{...Ke.draggableProps.style,backgroundColor:je,color:"white",padding:"8px 15px",margin:"5px",borderRadius:"5px",fontWeight:"500",boxShadow:xt.isDragging?"0 5px 10px rgba(0,0,0,0.3)":"0 2px 4px rgba(0,0,0,0.2)",transform:xt.isDragging?`${Ke.draggableProps.style.transform} scale(1.05)`:Ke.draggableProps.style.transform},children:Qe.word})},`remaining-${ot}`)),Le.placeholder]})})]})]})]}),o.jsx("div",{style:{marginTop:"40px",display:"flex",justifyContent:"center",padding:"20px"},children:o.jsx("button",{onClick:nt,disabled:(((Fe=_[g])==null?void 0:Fe.type)==="sentence_building"?me.length===0:y===null)||j,style:{padding:"12px 40px",backgroundColor:(((Se=_[g])==null?void 0:Se.type)==="sentence_building"?me.length>0:y!==null)&&!j?ke:"#e5e5e5",border:"none",borderRadius:"8px",color:(((ut=_[g])==null?void 0:ut.type)==="sentence_building"?me.length>0:y!==null)&&!j?"white":"#999",fontWeight:"bold",cursor:(((pt=_[g])==null?void 0:pt.type)==="sentence_building"?me.length>0:y!==null)&&!j?"pointer":"not-allowed"},children:"CHECK"})})]})]}),o.jsx("div",{style:{position:"absolute",top:"15px",left:"15px",zIndex:5},children:o.jsx("button",{onClick:Je,style:{backgroundColor:"rgba(255,255,255,0.2)",color:u?"white":"black",border:"none",borderRadius:"4px",padding:"4px 10px",cursor:"pointer",fontSize:"14px"},children:"Quit"})})]})})})}const mye="certificates/",yB=async(t,e=null,n=null)=>{try{const r=vt();let s=`${mye}get/`;const i=new URLSearchParams;t&&i.append("student_id",t),e&&i.append("course_id",e),n&&i.append("completion_date",n);const a=i.toString();return a&&(s+=`?${a}`),(await r.get(s,{headers:{"Content-Type":"application/json"}})).data}catch(r){throw new Error("Error fetching/generating certificate: "+r.message)}},gye=yB;function Vy(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var t2={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var H4;function yye(){return H4||(H4=1,function(t,e){(function(n){t.exports=n()})(function(){return function n(r,s,i){function a(u,h){if(!s[u]){if(!r[u]){var f=typeof Vy=="function"&&Vy;if(!h&&f)return f(u,!0);if(l)return l(u,!0);var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m}var g=s[u]={exports:{}};r[u][0].call(g.exports,function(b){var y=r[u][1][b];return a(y||b)},g,g.exports,n,r,s,i)}return s[u].exports}for(var l=typeof Vy=="function"&&Vy,c=0;c<i.length;c++)a(i[c]);return a}({1:[function(n,r,s){var i=n("./utils"),a=n("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(c){for(var u,h,f,m,g,b,y,x=[],_=0,S=c.length,T=S,D=i.getTypeOf(c)!=="string";_<c.length;)T=S-_,f=D?(u=c[_++],h=_<S?c[_++]:0,_<S?c[_++]:0):(u=c.charCodeAt(_++),h=_<S?c.charCodeAt(_++):0,_<S?c.charCodeAt(_++):0),m=u>>2,g=(3&u)<<4|h>>4,b=1<T?(15&h)<<2|f>>6:64,y=2<T?63&f:64,x.push(l.charAt(m)+l.charAt(g)+l.charAt(b)+l.charAt(y));return x.join("")},s.decode=function(c){var u,h,f,m,g,b,y=0,x=0,_="data:";if(c.substr(0,_.length)===_)throw new Error("Invalid base64 input, it looks like a data url.");var S,T=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===l.charAt(64)&&T--,c.charAt(c.length-2)===l.charAt(64)&&T--,T%1!=0)throw new Error("Invalid base64 input, bad content length.");for(S=a.uint8array?new Uint8Array(0|T):new Array(0|T);y<c.length;)u=l.indexOf(c.charAt(y++))<<2|(m=l.indexOf(c.charAt(y++)))>>4,h=(15&m)<<4|(g=l.indexOf(c.charAt(y++)))>>2,f=(3&g)<<6|(b=l.indexOf(c.charAt(y++))),S[x++]=u,g!==64&&(S[x++]=h),b!==64&&(S[x++]=f);return S}},{"./support":30,"./utils":32}],2:[function(n,r,s){var i=n("./external"),a=n("./stream/DataWorker"),l=n("./stream/Crc32Probe"),c=n("./stream/DataLengthProbe");function u(h,f,m,g,b){this.compressedSize=h,this.uncompressedSize=f,this.crc32=m,this.compression=g,this.compressedContent=b}u.prototype={getContentWorker:function(){var h=new a(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),f=this;return h.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),h},getCompressedWorker:function(){return new a(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(h,f,m){return h.pipe(new l).pipe(new c("uncompressedSize")).pipe(f.compressWorker(m)).pipe(new c("compressedSize")).withStreamInfo("compression",f)},r.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,s){var i=n("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},s.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,s){var i=n("./utils"),a=function(){for(var l,c=[],u=0;u<256;u++){l=u;for(var h=0;h<8;h++)l=1&l?3988292384^l>>>1:l>>>1;c[u]=l}return c}();r.exports=function(l,c){return l!==void 0&&l.length?i.getTypeOf(l)!=="string"?function(u,h,f,m){var g=a,b=m+f;u^=-1;for(var y=m;y<b;y++)u=u>>>8^g[255&(u^h[y])];return-1^u}(0|c,l,l.length,0):function(u,h,f,m){var g=a,b=m+f;u^=-1;for(var y=m;y<b;y++)u=u>>>8^g[255&(u^h.charCodeAt(y))];return-1^u}(0|c,l,l.length,0):0}},{"./utils":32}],5:[function(n,r,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(n,r,s){var i=null;i=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:i}},{lie:37}],7:[function(n,r,s){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=n("pako"),l=n("./utils"),c=n("./stream/GenericWorker"),u=i?"uint8array":"array";function h(f,m){c.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=m,this.meta={}}s.magic="\b\0",l.inherits(h,c),h.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(u,f.data),!1)},h.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(m){f.push({data:m,meta:f.meta})}},s.compressWorker=function(f){return new h("Deflate",f)},s.uncompressWorker=function(){return new h("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,s){function i(g,b){var y,x="";for(y=0;y<b;y++)x+=String.fromCharCode(255&g),g>>>=8;return x}function a(g,b,y,x,_,S){var T,D,j=g.file,A=g.compression,O=S!==u.utf8encode,L=l.transformTo("string",S(j.name)),P=l.transformTo("string",u.utf8encode(j.name)),N=j.comment,U=l.transformTo("string",S(N)),M=l.transformTo("string",u.utf8encode(N)),q=P.length!==j.name.length,E=M.length!==N.length,G="",Q="",re="",ee=j.dir,Z=j.date,K={crc32:0,compressedSize:0,uncompressedSize:0};b&&!y||(K.crc32=g.crc32,K.compressedSize=g.compressedSize,K.uncompressedSize=g.uncompressedSize);var F=0;b&&(F|=8),O||!q&&!E||(F|=2048);var W=0,me=0;ee&&(W|=16),_==="UNIX"?(me=798,W|=function(ge,we){var je=ge;return ge||(je=we?16893:33204),(65535&je)<<16}(j.unixPermissions,ee)):(me=20,W|=function(ge){return 63&(ge||0)}(j.dosPermissions)),T=Z.getUTCHours(),T<<=6,T|=Z.getUTCMinutes(),T<<=5,T|=Z.getUTCSeconds()/2,D=Z.getUTCFullYear()-1980,D<<=4,D|=Z.getUTCMonth()+1,D<<=5,D|=Z.getUTCDate(),q&&(Q=i(1,1)+i(h(L),4)+P,G+="up"+i(Q.length,2)+Q),E&&(re=i(1,1)+i(h(U),4)+M,G+="uc"+i(re.length,2)+re);var ne="";return ne+=`
\0`,ne+=i(F,2),ne+=A.magic,ne+=i(T,2),ne+=i(D,2),ne+=i(K.crc32,4),ne+=i(K.compressedSize,4),ne+=i(K.uncompressedSize,4),ne+=i(L.length,2),ne+=i(G.length,2),{fileRecord:f.LOCAL_FILE_HEADER+ne+L+G,dirRecord:f.CENTRAL_FILE_HEADER+i(me,2)+ne+i(U.length,2)+"\0\0\0\0"+i(W,4)+i(x,4)+L+G+U}}var l=n("../utils"),c=n("../stream/GenericWorker"),u=n("../utf8"),h=n("../crc32"),f=n("../signature");function m(g,b,y,x){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=y,this.encodeFileName=x,this.streamFiles=g,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(m,c),m.prototype.push=function(g){var b=g.meta.percent||0,y=this.entriesCount,x=this._sources.length;this.accumulate?this.contentBuffer.push(g):(this.bytesWritten+=g.data.length,c.prototype.push.call(this,{data:g.data,meta:{currentFile:this.currentFile,percent:y?(b+100*(y-x-1))/y:100}}))},m.prototype.openedSource=function(g){this.currentSourceOffset=this.bytesWritten,this.currentFile=g.file.name;var b=this.streamFiles&&!g.file.dir;if(b){var y=a(g,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},m.prototype.closedSource=function(g){this.accumulate=!1;var b=this.streamFiles&&!g.file.dir,y=a(g,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),b)this.push({data:function(x){return f.DATA_DESCRIPTOR+i(x.crc32,4)+i(x.compressedSize,4)+i(x.uncompressedSize,4)}(g),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},m.prototype.flush=function(){for(var g=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var y=this.bytesWritten-g,x=function(_,S,T,D,j){var A=l.transformTo("string",j(D));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(_,2)+i(_,2)+i(S,4)+i(T,4)+i(A.length,2)+A}(this.dirRecords.length,y,g,this.zipComment,this.encodeFileName);this.push({data:x,meta:{percent:100}})},m.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},m.prototype.registerPrevious=function(g){this._sources.push(g);var b=this;return g.on("data",function(y){b.processChunk(y)}),g.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),g.on("error",function(y){b.error(y)}),this},m.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},m.prototype.error=function(g){var b=this._sources;if(!c.prototype.error.call(this,g))return!1;for(var y=0;y<b.length;y++)try{b[y].error(g)}catch{}return!0},m.prototype.lock=function(){c.prototype.lock.call(this);for(var g=this._sources,b=0;b<g.length;b++)g[b].lock()},r.exports=m},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,s){var i=n("../compressions"),a=n("./ZipFileWorker");s.generateWorker=function(l,c,u){var h=new a(c.streamFiles,u,c.platform,c.encodeFileName),f=0;try{l.forEach(function(m,g){f++;var b=function(S,T){var D=S||T,j=i[D];if(!j)throw new Error(D+" is not a valid compression method !");return j}(g.options.compression,c.compression),y=g.options.compressionOptions||c.compressionOptions||{},x=g.dir,_=g.date;g._compressWorker(b,y).withStreamInfo("file",{name:m,dir:x,date:_,comment:g.comment||"",unixPermissions:g.unixPermissions,dosPermissions:g.dosPermissions}).pipe(h)}),h.entriesCount=f}catch(m){h.error(m)}return h}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,s){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new i;for(var l in this)typeof this[l]!="function"&&(a[l]=this[l]);return a}}(i.prototype=n("./object")).loadAsync=n("./load"),i.support=n("./support"),i.defaults=n("./defaults"),i.version="3.10.1",i.loadAsync=function(a,l){return new i().loadAsync(a,l)},i.external=n("./external"),r.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,s){var i=n("./utils"),a=n("./external"),l=n("./utf8"),c=n("./zipEntries"),u=n("./stream/Crc32Probe"),h=n("./nodejsUtils");function f(m){return new a.Promise(function(g,b){var y=m.decompressed.getContentWorker().pipe(new u);y.on("error",function(x){b(x)}).on("end",function(){y.streamInfo.crc32!==m.decompressed.crc32?b(new Error("Corrupted zip : CRC32 mismatch")):g()}).resume()})}r.exports=function(m,g){var b=this;return g=i.extend(g||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),h.isNode&&h.isStream(m)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",m,!0,g.optimizedBinaryString,g.base64).then(function(y){var x=new c(g);return x.load(y),x}).then(function(y){var x=[a.Promise.resolve(y)],_=y.files;if(g.checkCRC32)for(var S=0;S<_.length;S++)x.push(f(_[S]));return a.Promise.all(x)}).then(function(y){for(var x=y.shift(),_=x.files,S=0;S<_.length;S++){var T=_[S],D=T.fileNameStr,j=i.resolve(T.fileNameStr);b.file(j,T.decompressed,{binary:!0,optimizedBinaryString:!0,date:T.date,dir:T.dir,comment:T.fileCommentStr.length?T.fileCommentStr:null,unixPermissions:T.unixPermissions,dosPermissions:T.dosPermissions,createFolders:g.createFolders}),T.dir||(b.file(j).unsafeOriginalName=D)}return x.zipComment.length&&(b.comment=x.zipComment),b})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,s){var i=n("../utils"),a=n("../stream/GenericWorker");function l(c,u){a.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(u)}i.inherits(l,a),l.prototype._bindStream=function(c){var u=this;(this._stream=c).pause(),c.on("data",function(h){u.push({data:h,meta:{percent:0}})}).on("error",function(h){u.isPaused?this.generatedError=h:u.error(h)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},l.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,s){var i=n("readable-stream").Readable;function a(l,c,u){i.call(this,c),this._helper=l;var h=this;l.on("data",function(f,m){h.push(f)||h._helper.pause(),u&&u(m)}).on("error",function(f){h.emit("error",f)}).on("end",function(){h.push(null)})}n("../utils").inherits(a,i),a.prototype._read=function(){this._helper.resume()},r.exports=a},{"../utils":32,"readable-stream":16}],14:[function(n,r,s){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,a);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,a)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var a=new Buffer(i);return a.fill(0),a},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(n,r,s){function i(j,A,O){var L,P=l.getTypeOf(A),N=l.extend(O||{},h);N.date=N.date||new Date,N.compression!==null&&(N.compression=N.compression.toUpperCase()),typeof N.unixPermissions=="string"&&(N.unixPermissions=parseInt(N.unixPermissions,8)),N.unixPermissions&&16384&N.unixPermissions&&(N.dir=!0),N.dosPermissions&&16&N.dosPermissions&&(N.dir=!0),N.dir&&(j=_(j)),N.createFolders&&(L=x(j))&&S.call(this,L,!0);var U=P==="string"&&N.binary===!1&&N.base64===!1;O&&O.binary!==void 0||(N.binary=!U),(A instanceof f&&A.uncompressedSize===0||N.dir||!A||A.length===0)&&(N.base64=!1,N.binary=!0,A="",N.compression="STORE",P="string");var M=null;M=A instanceof f||A instanceof c?A:b.isNode&&b.isStream(A)?new y(j,A):l.prepareContent(j,A,N.binary,N.optimizedBinaryString,N.base64);var q=new m(j,M,N);this.files[j]=q}var a=n("./utf8"),l=n("./utils"),c=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),h=n("./defaults"),f=n("./compressedObject"),m=n("./zipObject"),g=n("./generate"),b=n("./nodejsUtils"),y=n("./nodejs/NodejsStreamInputAdapter"),x=function(j){j.slice(-1)==="/"&&(j=j.substring(0,j.length-1));var A=j.lastIndexOf("/");return 0<A?j.substring(0,A):""},_=function(j){return j.slice(-1)!=="/"&&(j+="/"),j},S=function(j,A){return A=A!==void 0?A:h.createFolders,j=_(j),this.files[j]||i.call(this,j,null,{dir:!0,createFolders:A}),this.files[j]};function T(j){return Object.prototype.toString.call(j)==="[object RegExp]"}var D={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(j){var A,O,L;for(A in this.files)L=this.files[A],(O=A.slice(this.root.length,A.length))&&A.slice(0,this.root.length)===this.root&&j(O,L)},filter:function(j){var A=[];return this.forEach(function(O,L){j(O,L)&&A.push(L)}),A},file:function(j,A,O){if(arguments.length!==1)return j=this.root+j,i.call(this,j,A,O),this;if(T(j)){var L=j;return this.filter(function(N,U){return!U.dir&&L.test(N)})}var P=this.files[this.root+j];return P&&!P.dir?P:null},folder:function(j){if(!j)return this;if(T(j))return this.filter(function(P,N){return N.dir&&j.test(P)});var A=this.root+j,O=S.call(this,A),L=this.clone();return L.root=O.name,L},remove:function(j){j=this.root+j;var A=this.files[j];if(A||(j.slice(-1)!=="/"&&(j+="/"),A=this.files[j]),A&&!A.dir)delete this.files[j];else for(var O=this.filter(function(P,N){return N.name.slice(0,j.length)===j}),L=0;L<O.length;L++)delete this.files[O[L].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(j){var A,O={};try{if((O=l.extend(j||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=O.type.toLowerCase(),O.compression=O.compression.toUpperCase(),O.type==="binarystring"&&(O.type="string"),!O.type)throw new Error("No output type specified.");l.checkSupport(O.type),O.platform!=="darwin"&&O.platform!=="freebsd"&&O.platform!=="linux"&&O.platform!=="sunos"||(O.platform="UNIX"),O.platform==="win32"&&(O.platform="DOS");var L=O.comment||this.comment||"";A=g.generateWorker(this,O,L)}catch(P){(A=new c("error")).error(P)}return new u(A,O.type||"string",O.mimeType)},generateAsync:function(j,A){return this.generateInternalStream(j).accumulate(A)},generateNodeStream:function(j,A){return(j=j||{}).type||(j.type="nodebuffer"),this.generateInternalStream(j).toNodejsStream(A)}};r.exports=D},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,s){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,s){var i=n("./DataReader");function a(l){i.call(this,l);for(var c=0;c<this.data.length;c++)l[c]=255&l[c]}n("../utils").inherits(a,i),a.prototype.byteAt=function(l){return this.data[this.zero+l]},a.prototype.lastIndexOfSignature=function(l){for(var c=l.charCodeAt(0),u=l.charCodeAt(1),h=l.charCodeAt(2),f=l.charCodeAt(3),m=this.length-4;0<=m;--m)if(this.data[m]===c&&this.data[m+1]===u&&this.data[m+2]===h&&this.data[m+3]===f)return m-this.zero;return-1},a.prototype.readAndCheckSignature=function(l){var c=l.charCodeAt(0),u=l.charCodeAt(1),h=l.charCodeAt(2),f=l.charCodeAt(3),m=this.readData(4);return c===m[0]&&u===m[1]&&h===m[2]&&f===m[3]},a.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},r.exports=a},{"../utils":32,"./DataReader":18}],18:[function(n,r,s){var i=n("../utils");function a(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var c,u=0;for(this.checkOffset(l),c=this.index+l-1;c>=this.index;c--)u=(u<<8)+this.byteAt(c);return this.index+=l,u},readString:function(l){return i.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},r.exports=a},{"../utils":32}],19:[function(n,r,s){var i=n("./Uint8ArrayReader");function a(l){i.call(this,l)}n("../utils").inherits(a,i),a.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},r.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,s){var i=n("./DataReader");function a(l){i.call(this,l)}n("../utils").inherits(a,i),a.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},a.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},a.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},a.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},r.exports=a},{"../utils":32,"./DataReader":18}],21:[function(n,r,s){var i=n("./ArrayReader");function a(l){i.call(this,l)}n("../utils").inherits(a,i),a.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},r.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,s){var i=n("../utils"),a=n("../support"),l=n("./ArrayReader"),c=n("./StringReader"),u=n("./NodeBufferReader"),h=n("./Uint8ArrayReader");r.exports=function(f){var m=i.getTypeOf(f);return i.checkSupport(m),m!=="string"||a.uint8array?m==="nodebuffer"?new u(f):a.uint8array?new h(i.transformTo("uint8array",f)):new l(i.transformTo("array",f)):new c(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,s){var i=n("./GenericWorker"),a=n("../utils");function l(c){i.call(this,"ConvertWorker to "+c),this.destType=c}a.inherits(l,i),l.prototype.processChunk=function(c){this.push({data:a.transformTo(this.destType,c.data),meta:c.meta})},r.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,s){var i=n("./GenericWorker"),a=n("../crc32");function l(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(l,i),l.prototype.processChunk=function(c){this.streamInfo.crc32=a(c.data,this.streamInfo.crc32||0),this.push(c)},r.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,s){var i=n("../utils"),a=n("./GenericWorker");function l(c){a.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}i.inherits(l,a),l.prototype.processChunk=function(c){if(c){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+c.data.length}a.prototype.processChunk.call(this,c)},r.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,s){var i=n("../utils"),a=n("./GenericWorker");function l(c){a.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(h){u.dataIsReady=!0,u.data=h,u.max=h&&h.length||0,u.type=i.getTypeOf(h),u.isPaused||u._tickAndRepeat()},function(h){u.error(h)})}i.inherits(l,a),l.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,u);break;case"uint8array":c=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":c=this.data.slice(this.index,u)}return this.index=u,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,s){function i(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,l){return this._listeners[a].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,l){if(this._listeners[a])for(var c=0;c<this._listeners[a].length;c++)this._listeners[a][c].call(this,l)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var l=this;return a.on("data",function(c){l.processChunk(c)}),a.on("end",function(){l.end()}),a.on("error",function(c){l.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,l){return this.extraStreamInfo[a]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},r.exports=i},{}],29:[function(n,r,s){var i=n("../utils"),a=n("./ConvertWorker"),l=n("./GenericWorker"),c=n("../base64"),u=n("../support"),h=n("../external"),f=null;if(u.nodestream)try{f=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function m(b,y){return new h.Promise(function(x,_){var S=[],T=b._internalType,D=b._outputType,j=b._mimeType;b.on("data",function(A,O){S.push(A),y&&y(O)}).on("error",function(A){S=[],_(A)}).on("end",function(){try{var A=function(O,L,P){switch(O){case"blob":return i.newBlob(i.transformTo("arraybuffer",L),P);case"base64":return c.encode(L);default:return i.transformTo(O,L)}}(D,function(O,L){var P,N=0,U=null,M=0;for(P=0;P<L.length;P++)M+=L[P].length;switch(O){case"string":return L.join("");case"array":return Array.prototype.concat.apply([],L);case"uint8array":for(U=new Uint8Array(M),P=0;P<L.length;P++)U.set(L[P],N),N+=L[P].length;return U;case"nodebuffer":return Buffer.concat(L);default:throw new Error("concat : unsupported type '"+O+"'")}}(T,S),j);x(A)}catch(O){_(O)}S=[]}).resume()})}function g(b,y,x){var _=y;switch(y){case"blob":case"arraybuffer":_="uint8array";break;case"base64":_="string"}try{this._internalType=_,this._outputType=y,this._mimeType=x,i.checkSupport(_),this._worker=b.pipe(new a(_)),b.lock()}catch(S){this._worker=new l("error"),this._worker.error(S)}}g.prototype={accumulate:function(b){return m(this,b)},on:function(b,y){var x=this;return b==="data"?this._worker.on(b,function(_){y.call(x,_.data,_.meta)}):this._worker.on(b,function(){i.delay(y,arguments,x)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(b){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},b)}},r.exports=g},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var i=new ArrayBuffer(0);try{s.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(i),s.blob=a.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!n("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,s){for(var i=n("./utils"),a=n("./support"),l=n("./nodejsUtils"),c=n("./stream/GenericWorker"),u=new Array(256),h=0;h<256;h++)u[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;u[254]=u[254]=1;function f(){c.call(this,"utf-8 decode"),this.leftOver=null}function m(){c.call(this,"utf-8 encode")}s.utf8encode=function(g){return a.nodebuffer?l.newBufferFrom(g,"utf-8"):function(b){var y,x,_,S,T,D=b.length,j=0;for(S=0;S<D;S++)(64512&(x=b.charCodeAt(S)))==55296&&S+1<D&&(64512&(_=b.charCodeAt(S+1)))==56320&&(x=65536+(x-55296<<10)+(_-56320),S++),j+=x<128?1:x<2048?2:x<65536?3:4;for(y=a.uint8array?new Uint8Array(j):new Array(j),S=T=0;T<j;S++)(64512&(x=b.charCodeAt(S)))==55296&&S+1<D&&(64512&(_=b.charCodeAt(S+1)))==56320&&(x=65536+(x-55296<<10)+(_-56320),S++),x<128?y[T++]=x:(x<2048?y[T++]=192|x>>>6:(x<65536?y[T++]=224|x>>>12:(y[T++]=240|x>>>18,y[T++]=128|x>>>12&63),y[T++]=128|x>>>6&63),y[T++]=128|63&x);return y}(g)},s.utf8decode=function(g){return a.nodebuffer?i.transformTo("nodebuffer",g).toString("utf-8"):function(b){var y,x,_,S,T=b.length,D=new Array(2*T);for(y=x=0;y<T;)if((_=b[y++])<128)D[x++]=_;else if(4<(S=u[_]))D[x++]=65533,y+=S-1;else{for(_&=S===2?31:S===3?15:7;1<S&&y<T;)_=_<<6|63&b[y++],S--;1<S?D[x++]=65533:_<65536?D[x++]=_:(_-=65536,D[x++]=55296|_>>10&1023,D[x++]=56320|1023&_)}return D.length!==x&&(D.subarray?D=D.subarray(0,x):D.length=x),i.applyFromCharCode(D)}(g=i.transformTo(a.uint8array?"uint8array":"array",g))},i.inherits(f,c),f.prototype.processChunk=function(g){var b=i.transformTo(a.uint8array?"uint8array":"array",g.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var y=b;(b=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),b.set(y,this.leftOver.length)}else b=this.leftOver.concat(b);this.leftOver=null}var x=function(S,T){var D;for((T=T||S.length)>S.length&&(T=S.length),D=T-1;0<=D&&(192&S[D])==128;)D--;return D<0||D===0?T:D+u[S[D]]>T?D:T}(b),_=b;x!==b.length&&(a.uint8array?(_=b.subarray(0,x),this.leftOver=b.subarray(x,b.length)):(_=b.slice(0,x),this.leftOver=b.slice(x,b.length))),this.push({data:s.utf8decode(_),meta:g.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=f,i.inherits(m,c),m.prototype.processChunk=function(g){this.push({data:s.utf8encode(g.data),meta:g.meta})},s.Utf8EncodeWorker=m},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,s){var i=n("./support"),a=n("./base64"),l=n("./nodejsUtils"),c=n("./external");function u(y){return y}function h(y,x){for(var _=0;_<y.length;++_)x[_]=255&y.charCodeAt(_);return x}n("setimmediate"),s.newBlob=function(y,x){s.checkSupport("blob");try{return new Blob([y],{type:x})}catch{try{var _=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return _.append(y),_.getBlob(x)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(y,x,_){var S=[],T=0,D=y.length;if(D<=_)return String.fromCharCode.apply(null,y);for(;T<D;)x==="array"||x==="nodebuffer"?S.push(String.fromCharCode.apply(null,y.slice(T,Math.min(T+_,D)))):S.push(String.fromCharCode.apply(null,y.subarray(T,Math.min(T+_,D)))),T+=_;return S.join("")},stringifyByChar:function(y){for(var x="",_=0;_<y.length;_++)x+=String.fromCharCode(y[_]);return x},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}}()}};function m(y){var x=65536,_=s.getTypeOf(y),S=!0;if(_==="uint8array"?S=f.applyCanBeUsed.uint8array:_==="nodebuffer"&&(S=f.applyCanBeUsed.nodebuffer),S)for(;1<x;)try{return f.stringifyByChunk(y,_,x)}catch{x=Math.floor(x/2)}return f.stringifyByChar(y)}function g(y,x){for(var _=0;_<y.length;_++)x[_]=y[_];return x}s.applyFromCharCode=m;var b={};b.string={string:u,array:function(y){return h(y,new Array(y.length))},arraybuffer:function(y){return b.string.uint8array(y).buffer},uint8array:function(y){return h(y,new Uint8Array(y.length))},nodebuffer:function(y){return h(y,l.allocBuffer(y.length))}},b.array={string:m,array:u,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return l.newBufferFrom(y)}},b.arraybuffer={string:function(y){return m(new Uint8Array(y))},array:function(y){return g(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:u,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return l.newBufferFrom(new Uint8Array(y))}},b.uint8array={string:m,array:function(y){return g(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:u,nodebuffer:function(y){return l.newBufferFrom(y)}},b.nodebuffer={string:m,array:function(y){return g(y,new Array(y.length))},arraybuffer:function(y){return b.nodebuffer.uint8array(y).buffer},uint8array:function(y){return g(y,new Uint8Array(y.length))},nodebuffer:u},s.transformTo=function(y,x){if(x=x||"",!y)return x;s.checkSupport(y);var _=s.getTypeOf(x);return b[_][y](x)},s.resolve=function(y){for(var x=y.split("/"),_=[],S=0;S<x.length;S++){var T=x[S];T==="."||T===""&&S!==0&&S!==x.length-1||(T===".."?_.pop():_.push(T))}return _.join("/")},s.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":i.nodebuffer&&l.isBuffer(y)?"nodebuffer":i.uint8array&&y instanceof Uint8Array?"uint8array":i.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(y){if(!i[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(y){var x,_,S="";for(_=0;_<(y||"").length;_++)S+="\\x"+((x=y.charCodeAt(_))<16?"0":"")+x.toString(16).toUpperCase();return S},s.delay=function(y,x,_){setImmediate(function(){y.apply(_||null,x||[])})},s.inherits=function(y,x){function _(){}_.prototype=x.prototype,y.prototype=new _},s.extend=function(){var y,x,_={};for(y=0;y<arguments.length;y++)for(x in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],x)&&_[x]===void 0&&(_[x]=arguments[y][x]);return _},s.prepareContent=function(y,x,_,S,T){return c.Promise.resolve(x).then(function(D){return i.blob&&(D instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(D))!==-1)&&typeof FileReader<"u"?new c.Promise(function(j,A){var O=new FileReader;O.onload=function(L){j(L.target.result)},O.onerror=function(L){A(L.target.error)},O.readAsArrayBuffer(D)}):D}).then(function(D){var j=s.getTypeOf(D);return j?(j==="arraybuffer"?D=s.transformTo("uint8array",D):j==="string"&&(T?D=a.decode(D):_&&S!==!0&&(D=function(A){return h(A,i.uint8array?new Uint8Array(A.length):new Array(A.length))}(D))),D):c.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,s){var i=n("./reader/readerFor"),a=n("./utils"),l=n("./signature"),c=n("./zipEntry"),u=n("./support");function h(f){this.files=[],this.loadOptions=f}h.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var m=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(m)+", expected "+a.pretty(f)+")")}},isSignature:function(f,m){var g=this.reader.index;this.reader.setIndex(f);var b=this.reader.readString(4)===m;return this.reader.setIndex(g),b},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),m=u.uint8array?"uint8array":"array",g=a.transformTo(m,f);this.zipComment=this.loadOptions.decodeFileName(g)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,m,g,b=this.zip64EndOfCentralSize-44;0<b;)f=this.reader.readInt(2),m=this.reader.readInt(4),g=this.reader.readData(m),this.zip64ExtensibleData[f]={id:f,length:m,value:g}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,m;for(f=0;f<this.files.length;f++)m=this.files[f],this.reader.setIndex(m.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),m.readLocalPart(this.reader),m.handleUTF8(),m.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(f=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var m=f;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var g=this.centralDirOffset+this.centralDirSize;this.zip64&&(g+=20,g+=12+this.zip64EndOfCentralSize);var b=m-g;if(0<b)this.isSignature(m,l.CENTRAL_FILE_HEADER)||(this.reader.zero=b);else if(b<0)throw new Error("Corrupted zip: missing "+Math.abs(b)+" bytes.")},prepareReader:function(f){this.reader=i(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=h},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,s){var i=n("./reader/readerFor"),a=n("./utils"),l=n("./compressedObject"),c=n("./crc32"),u=n("./utf8"),h=n("./compressions"),f=n("./support");function m(g,b){this.options=g,this.loadOptions=b}m.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(g){var b,y;if(g.skip(22),this.fileNameLength=g.readInt(2),y=g.readInt(2),this.fileName=g.readData(this.fileNameLength),g.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((b=function(x){for(var _ in h)if(Object.prototype.hasOwnProperty.call(h,_)&&h[_].magic===x)return h[_];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,b,g.readData(this.compressedSize))},readCentralPart:function(g){this.versionMadeBy=g.readInt(2),g.skip(2),this.bitFlag=g.readInt(2),this.compressionMethod=g.readString(2),this.date=g.readDate(),this.crc32=g.readInt(4),this.compressedSize=g.readInt(4),this.uncompressedSize=g.readInt(4);var b=g.readInt(2);if(this.extraFieldsLength=g.readInt(2),this.fileCommentLength=g.readInt(2),this.diskNumberStart=g.readInt(2),this.internalFileAttributes=g.readInt(2),this.externalFileAttributes=g.readInt(4),this.localHeaderOffset=g.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");g.skip(b),this.readExtraFields(g),this.parseZIP64ExtraField(g),this.fileComment=g.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var g=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),g==0&&(this.dosPermissions=63&this.externalFileAttributes),g==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var g=i(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=g.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=g.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=g.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=g.readInt(4))}},readExtraFields:function(g){var b,y,x,_=g.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});g.index+4<_;)b=g.readInt(2),y=g.readInt(2),x=g.readData(y),this.extraFields[b]={id:b,length:y,value:x};g.setIndex(_)},handleUTF8:function(){var g=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var b=this.findExtraFieldUnicodePath();if(b!==null)this.fileNameStr=b;else{var y=a.transformTo(g,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var x=this.findExtraFieldUnicodeComment();if(x!==null)this.fileCommentStr=x;else{var _=a.transformTo(g,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(_)}}},findExtraFieldUnicodePath:function(){var g=this.extraFields[28789];if(g){var b=i(g.value);return b.readInt(1)!==1||c(this.fileName)!==b.readInt(4)?null:u.utf8decode(b.readData(g.length-5))}return null},findExtraFieldUnicodeComment:function(){var g=this.extraFields[25461];if(g){var b=i(g.value);return b.readInt(1)!==1||c(this.fileComment)!==b.readInt(4)?null:u.utf8decode(b.readData(g.length-5))}return null}},r.exports=m},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,s){function i(b,y,x){this.name=b,this.dir=x.dir,this.date=x.date,this.comment=x.comment,this.unixPermissions=x.unixPermissions,this.dosPermissions=x.dosPermissions,this._data=y,this._dataBinary=x.binary,this.options={compression:x.compression,compressionOptions:x.compressionOptions}}var a=n("./stream/StreamHelper"),l=n("./stream/DataWorker"),c=n("./utf8"),u=n("./compressedObject"),h=n("./stream/GenericWorker");i.prototype={internalStream:function(b){var y=null,x="string";try{if(!b)throw new Error("No output type specified.");var _=(x=b.toLowerCase())==="string"||x==="text";x!=="binarystring"&&x!=="text"||(x="string"),y=this._decompressWorker();var S=!this._dataBinary;S&&!_&&(y=y.pipe(new c.Utf8EncodeWorker)),!S&&_&&(y=y.pipe(new c.Utf8DecodeWorker))}catch(T){(y=new h("error")).error(T)}return new a(y,x,"")},async:function(b,y){return this.internalStream(b).accumulate(y)},nodeStream:function(b,y){return this.internalStream(b||"nodebuffer").toNodejsStream(y)},_compressWorker:function(b,y){if(this._data instanceof u&&this._data.compression.magic===b.magic)return this._data.getCompressedWorker();var x=this._decompressWorker();return this._dataBinary||(x=x.pipe(new c.Utf8EncodeWorker)),u.createWorkerFrom(x,b,y)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof h?this._data:new l(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],m=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},g=0;g<f.length;g++)i.prototype[f[g]]=m;r.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,s){(function(i){var a,l,c=i.MutationObserver||i.WebKitMutationObserver;if(c){var u=0,h=new c(b),f=i.document.createTextNode("");h.observe(f,{characterData:!0}),a=function(){f.data=u=++u%2}}else if(i.setImmediate||i.MessageChannel===void 0)a="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var y=i.document.createElement("script");y.onreadystatechange=function(){b(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},i.document.documentElement.appendChild(y)}:function(){setTimeout(b,0)};else{var m=new i.MessageChannel;m.port1.onmessage=b,a=function(){m.port2.postMessage(0)}}var g=[];function b(){var y,x;l=!0;for(var _=g.length;_;){for(x=g,g=[],y=-1;++y<_;)x[y]();_=g.length}l=!1}r.exports=function(y){g.push(y)!==1||l||a()}}).call(this,typeof So<"u"?So:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,s){var i=n("immediate");function a(){}var l={},c=["REJECTED"],u=["FULFILLED"],h=["PENDING"];function f(_){if(typeof _!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,_!==a&&y(this,_)}function m(_,S,T){this.promise=_,typeof S=="function"&&(this.onFulfilled=S,this.callFulfilled=this.otherCallFulfilled),typeof T=="function"&&(this.onRejected=T,this.callRejected=this.otherCallRejected)}function g(_,S,T){i(function(){var D;try{D=S(T)}catch(j){return l.reject(_,j)}D===_?l.reject(_,new TypeError("Cannot resolve promise with itself")):l.resolve(_,D)})}function b(_){var S=_&&_.then;if(_&&(typeof _=="object"||typeof _=="function")&&typeof S=="function")return function(){S.apply(_,arguments)}}function y(_,S){var T=!1;function D(O){T||(T=!0,l.reject(_,O))}function j(O){T||(T=!0,l.resolve(_,O))}var A=x(function(){S(j,D)});A.status==="error"&&D(A.value)}function x(_,S){var T={};try{T.value=_(S),T.status="success"}catch(D){T.status="error",T.value=D}return T}(r.exports=f).prototype.finally=function(_){if(typeof _!="function")return this;var S=this.constructor;return this.then(function(T){return S.resolve(_()).then(function(){return T})},function(T){return S.resolve(_()).then(function(){throw T})})},f.prototype.catch=function(_){return this.then(null,_)},f.prototype.then=function(_,S){if(typeof _!="function"&&this.state===u||typeof S!="function"&&this.state===c)return this;var T=new this.constructor(a);return this.state!==h?g(T,this.state===u?_:S,this.outcome):this.queue.push(new m(T,_,S)),T},m.prototype.callFulfilled=function(_){l.resolve(this.promise,_)},m.prototype.otherCallFulfilled=function(_){g(this.promise,this.onFulfilled,_)},m.prototype.callRejected=function(_){l.reject(this.promise,_)},m.prototype.otherCallRejected=function(_){g(this.promise,this.onRejected,_)},l.resolve=function(_,S){var T=x(b,S);if(T.status==="error")return l.reject(_,T.value);var D=T.value;if(D)y(_,D);else{_.state=u,_.outcome=S;for(var j=-1,A=_.queue.length;++j<A;)_.queue[j].callFulfilled(S)}return _},l.reject=function(_,S){_.state=c,_.outcome=S;for(var T=-1,D=_.queue.length;++T<D;)_.queue[T].callRejected(S);return _},f.resolve=function(_){return _ instanceof this?_:l.resolve(new this(a),_)},f.reject=function(_){var S=new this(a);return l.reject(S,_)},f.all=function(_){var S=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=_.length,D=!1;if(!T)return this.resolve([]);for(var j=new Array(T),A=0,O=-1,L=new this(a);++O<T;)P(_[O],O);return L;function P(N,U){S.resolve(N).then(function(M){j[U]=M,++A!==T||D||(D=!0,l.resolve(L,j))},function(M){D||(D=!0,l.reject(L,M))})}},f.race=function(_){var S=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=_.length,D=!1;if(!T)return this.resolve([]);for(var j=-1,A=new this(a);++j<T;)O=_[j],S.resolve(O).then(function(L){D||(D=!0,l.resolve(A,L))},function(L){D||(D=!0,l.reject(A,L))});var O;return A}},{immediate:36}],38:[function(n,r,s){var i={};(0,n("./lib/utils/common").assign)(i,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,s){var i=n("./zlib/deflate"),a=n("./utils/common"),l=n("./utils/strings"),c=n("./zlib/messages"),u=n("./zlib/zstream"),h=Object.prototype.toString,f=0,m=-1,g=0,b=8;function y(_){if(!(this instanceof y))return new y(_);this.options=a.assign({level:m,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:g,to:""},_||{});var S=this.options;S.raw&&0<S.windowBits?S.windowBits=-S.windowBits:S.gzip&&0<S.windowBits&&S.windowBits<16&&(S.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var T=i.deflateInit2(this.strm,S.level,S.method,S.windowBits,S.memLevel,S.strategy);if(T!==f)throw new Error(c[T]);if(S.header&&i.deflateSetHeader(this.strm,S.header),S.dictionary){var D;if(D=typeof S.dictionary=="string"?l.string2buf(S.dictionary):h.call(S.dictionary)==="[object ArrayBuffer]"?new Uint8Array(S.dictionary):S.dictionary,(T=i.deflateSetDictionary(this.strm,D))!==f)throw new Error(c[T]);this._dict_set=!0}}function x(_,S){var T=new y(S);if(T.push(_,!0),T.err)throw T.msg||c[T.err];return T.result}y.prototype.push=function(_,S){var T,D,j=this.strm,A=this.options.chunkSize;if(this.ended)return!1;D=S===~~S?S:S===!0?4:0,typeof _=="string"?j.input=l.string2buf(_):h.call(_)==="[object ArrayBuffer]"?j.input=new Uint8Array(_):j.input=_,j.next_in=0,j.avail_in=j.input.length;do{if(j.avail_out===0&&(j.output=new a.Buf8(A),j.next_out=0,j.avail_out=A),(T=i.deflate(j,D))!==1&&T!==f)return this.onEnd(T),!(this.ended=!0);j.avail_out!==0&&(j.avail_in!==0||D!==4&&D!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(a.shrinkBuf(j.output,j.next_out))):this.onData(a.shrinkBuf(j.output,j.next_out)))}while((0<j.avail_in||j.avail_out===0)&&T!==1);return D===4?(T=i.deflateEnd(this.strm),this.onEnd(T),this.ended=!0,T===f):D!==2||(this.onEnd(f),!(j.avail_out=0))},y.prototype.onData=function(_){this.chunks.push(_)},y.prototype.onEnd=function(_){_===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg},s.Deflate=y,s.deflate=x,s.deflateRaw=function(_,S){return(S=S||{}).raw=!0,x(_,S)},s.gzip=function(_,S){return(S=S||{}).gzip=!0,x(_,S)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,s){var i=n("./zlib/inflate"),a=n("./utils/common"),l=n("./utils/strings"),c=n("./zlib/constants"),u=n("./zlib/messages"),h=n("./zlib/zstream"),f=n("./zlib/gzheader"),m=Object.prototype.toString;function g(y){if(!(this instanceof g))return new g(y);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},y||{});var x=this.options;x.raw&&0<=x.windowBits&&x.windowBits<16&&(x.windowBits=-x.windowBits,x.windowBits===0&&(x.windowBits=-15)),!(0<=x.windowBits&&x.windowBits<16)||y&&y.windowBits||(x.windowBits+=32),15<x.windowBits&&x.windowBits<48&&!(15&x.windowBits)&&(x.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var _=i.inflateInit2(this.strm,x.windowBits);if(_!==c.Z_OK)throw new Error(u[_]);this.header=new f,i.inflateGetHeader(this.strm,this.header)}function b(y,x){var _=new g(x);if(_.push(y,!0),_.err)throw _.msg||u[_.err];return _.result}g.prototype.push=function(y,x){var _,S,T,D,j,A,O=this.strm,L=this.options.chunkSize,P=this.options.dictionary,N=!1;if(this.ended)return!1;S=x===~~x?x:x===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof y=="string"?O.input=l.binstring2buf(y):m.call(y)==="[object ArrayBuffer]"?O.input=new Uint8Array(y):O.input=y,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new a.Buf8(L),O.next_out=0,O.avail_out=L),(_=i.inflate(O,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&P&&(A=typeof P=="string"?l.string2buf(P):m.call(P)==="[object ArrayBuffer]"?new Uint8Array(P):P,_=i.inflateSetDictionary(this.strm,A)),_===c.Z_BUF_ERROR&&N===!0&&(_=c.Z_OK,N=!1),_!==c.Z_STREAM_END&&_!==c.Z_OK)return this.onEnd(_),!(this.ended=!0);O.next_out&&(O.avail_out!==0&&_!==c.Z_STREAM_END&&(O.avail_in!==0||S!==c.Z_FINISH&&S!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(T=l.utf8border(O.output,O.next_out),D=O.next_out-T,j=l.buf2string(O.output,T),O.next_out=D,O.avail_out=L-D,D&&a.arraySet(O.output,O.output,T,D,0),this.onData(j)):this.onData(a.shrinkBuf(O.output,O.next_out)))),O.avail_in===0&&O.avail_out===0&&(N=!0)}while((0<O.avail_in||O.avail_out===0)&&_!==c.Z_STREAM_END);return _===c.Z_STREAM_END&&(S=c.Z_FINISH),S===c.Z_FINISH?(_=i.inflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===c.Z_OK):S!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(O.avail_out=0))},g.prototype.onData=function(y){this.chunks.push(y)},g.prototype.onEnd=function(y){y===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},s.Inflate=g,s.inflate=b,s.inflateRaw=function(y,x){return(x=x||{}).raw=!0,b(y,x)},s.ungzip=b},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,s){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(c){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var h=u.shift();if(h){if(typeof h!="object")throw new TypeError(h+"must be non-object");for(var f in h)h.hasOwnProperty(f)&&(c[f]=h[f])}}return c},s.shrinkBuf=function(c,u){return c.length===u?c:c.subarray?c.subarray(0,u):(c.length=u,c)};var a={arraySet:function(c,u,h,f,m){if(u.subarray&&c.subarray)c.set(u.subarray(h,h+f),m);else for(var g=0;g<f;g++)c[m+g]=u[h+g]},flattenChunks:function(c){var u,h,f,m,g,b;for(u=f=0,h=c.length;u<h;u++)f+=c[u].length;for(b=new Uint8Array(f),u=m=0,h=c.length;u<h;u++)g=c[u],b.set(g,m),m+=g.length;return b}},l={arraySet:function(c,u,h,f,m){for(var g=0;g<f;g++)c[m+g]=u[h+g]},flattenChunks:function(c){return[].concat.apply([],c)}};s.setTyped=function(c){c?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,a)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,l))},s.setTyped(i)},{}],42:[function(n,r,s){var i=n("./common"),a=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var c=new i.Buf8(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function h(f,m){if(m<65537&&(f.subarray&&l||!f.subarray&&a))return String.fromCharCode.apply(null,i.shrinkBuf(f,m));for(var g="",b=0;b<m;b++)g+=String.fromCharCode(f[b]);return g}c[254]=c[254]=1,s.string2buf=function(f){var m,g,b,y,x,_=f.length,S=0;for(y=0;y<_;y++)(64512&(g=f.charCodeAt(y)))==55296&&y+1<_&&(64512&(b=f.charCodeAt(y+1)))==56320&&(g=65536+(g-55296<<10)+(b-56320),y++),S+=g<128?1:g<2048?2:g<65536?3:4;for(m=new i.Buf8(S),y=x=0;x<S;y++)(64512&(g=f.charCodeAt(y)))==55296&&y+1<_&&(64512&(b=f.charCodeAt(y+1)))==56320&&(g=65536+(g-55296<<10)+(b-56320),y++),g<128?m[x++]=g:(g<2048?m[x++]=192|g>>>6:(g<65536?m[x++]=224|g>>>12:(m[x++]=240|g>>>18,m[x++]=128|g>>>12&63),m[x++]=128|g>>>6&63),m[x++]=128|63&g);return m},s.buf2binstring=function(f){return h(f,f.length)},s.binstring2buf=function(f){for(var m=new i.Buf8(f.length),g=0,b=m.length;g<b;g++)m[g]=f.charCodeAt(g);return m},s.buf2string=function(f,m){var g,b,y,x,_=m||f.length,S=new Array(2*_);for(g=b=0;g<_;)if((y=f[g++])<128)S[b++]=y;else if(4<(x=c[y]))S[b++]=65533,g+=x-1;else{for(y&=x===2?31:x===3?15:7;1<x&&g<_;)y=y<<6|63&f[g++],x--;1<x?S[b++]=65533:y<65536?S[b++]=y:(y-=65536,S[b++]=55296|y>>10&1023,S[b++]=56320|1023&y)}return h(S,b)},s.utf8border=function(f,m){var g;for((m=m||f.length)>f.length&&(m=f.length),g=m-1;0<=g&&(192&f[g])==128;)g--;return g<0||g===0?m:g+c[f[g]]>m?g:m}},{"./common":41}],43:[function(n,r,s){r.exports=function(i,a,l,c){for(var u=65535&i|0,h=i>>>16&65535|0,f=0;l!==0;){for(l-=f=2e3<l?2e3:l;h=h+(u=u+a[c++]|0)|0,--f;);u%=65521,h%=65521}return u|h<<16|0}},{}],44:[function(n,r,s){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,s){var i=function(){for(var a,l=[],c=0;c<256;c++){a=c;for(var u=0;u<8;u++)a=1&a?3988292384^a>>>1:a>>>1;l[c]=a}return l}();r.exports=function(a,l,c,u){var h=i,f=u+c;a^=-1;for(var m=u;m<f;m++)a=a>>>8^h[255&(a^l[m])];return-1^a}},{}],46:[function(n,r,s){var i,a=n("../utils/common"),l=n("./trees"),c=n("./adler32"),u=n("./crc32"),h=n("./messages"),f=0,m=4,g=0,b=-2,y=-1,x=4,_=2,S=8,T=9,D=286,j=30,A=19,O=2*D+1,L=15,P=3,N=258,U=N+P+1,M=42,q=113,E=1,G=2,Q=3,re=4;function ee(X,Me){return X.msg=h[Me],Me}function Z(X){return(X<<1)-(4<X?9:0)}function K(X){for(var Me=X.length;0<=--Me;)X[Me]=0}function F(X){var Me=X.state,ye=Me.pending;ye>X.avail_out&&(ye=X.avail_out),ye!==0&&(a.arraySet(X.output,Me.pending_buf,Me.pending_out,ye,X.next_out),X.next_out+=ye,Me.pending_out+=ye,X.total_out+=ye,X.avail_out-=ye,Me.pending-=ye,Me.pending===0&&(Me.pending_out=0))}function W(X,Me){l._tr_flush_block(X,0<=X.block_start?X.block_start:-1,X.strstart-X.block_start,Me),X.block_start=X.strstart,F(X.strm)}function me(X,Me){X.pending_buf[X.pending++]=Me}function ne(X,Me){X.pending_buf[X.pending++]=Me>>>8&255,X.pending_buf[X.pending++]=255&Me}function ge(X,Me){var ye,se,ie=X.max_chain_length,fe=X.strstart,Te=X.prev_length,he=X.nice_match,ce=X.strstart>X.w_size-U?X.strstart-(X.w_size-U):0,ve=X.window,Ie=X.w_mask,Fe=X.prev,Se=X.strstart+N,ut=ve[fe+Te-1],pt=ve[fe+Te];X.prev_length>=X.good_match&&(ie>>=2),he>X.lookahead&&(he=X.lookahead);do if(ve[(ye=Me)+Te]===pt&&ve[ye+Te-1]===ut&&ve[ye]===ve[fe]&&ve[++ye]===ve[fe+1]){fe+=2,ye++;do;while(ve[++fe]===ve[++ye]&&ve[++fe]===ve[++ye]&&ve[++fe]===ve[++ye]&&ve[++fe]===ve[++ye]&&ve[++fe]===ve[++ye]&&ve[++fe]===ve[++ye]&&ve[++fe]===ve[++ye]&&ve[++fe]===ve[++ye]&&fe<Se);if(se=N-(Se-fe),fe=Se-N,Te<se){if(X.match_start=Me,he<=(Te=se))break;ut=ve[fe+Te-1],pt=ve[fe+Te]}}while((Me=Fe[Me&Ie])>ce&&--ie!=0);return Te<=X.lookahead?Te:X.lookahead}function we(X){var Me,ye,se,ie,fe,Te,he,ce,ve,Ie,Fe=X.w_size;do{if(ie=X.window_size-X.lookahead-X.strstart,X.strstart>=Fe+(Fe-U)){for(a.arraySet(X.window,X.window,Fe,Fe,0),X.match_start-=Fe,X.strstart-=Fe,X.block_start-=Fe,Me=ye=X.hash_size;se=X.head[--Me],X.head[Me]=Fe<=se?se-Fe:0,--ye;);for(Me=ye=Fe;se=X.prev[--Me],X.prev[Me]=Fe<=se?se-Fe:0,--ye;);ie+=Fe}if(X.strm.avail_in===0)break;if(Te=X.strm,he=X.window,ce=X.strstart+X.lookahead,ve=ie,Ie=void 0,Ie=Te.avail_in,ve<Ie&&(Ie=ve),ye=Ie===0?0:(Te.avail_in-=Ie,a.arraySet(he,Te.input,Te.next_in,Ie,ce),Te.state.wrap===1?Te.adler=c(Te.adler,he,Ie,ce):Te.state.wrap===2&&(Te.adler=u(Te.adler,he,Ie,ce)),Te.next_in+=Ie,Te.total_in+=Ie,Ie),X.lookahead+=ye,X.lookahead+X.insert>=P)for(fe=X.strstart-X.insert,X.ins_h=X.window[fe],X.ins_h=(X.ins_h<<X.hash_shift^X.window[fe+1])&X.hash_mask;X.insert&&(X.ins_h=(X.ins_h<<X.hash_shift^X.window[fe+P-1])&X.hash_mask,X.prev[fe&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=fe,fe++,X.insert--,!(X.lookahead+X.insert<P)););}while(X.lookahead<U&&X.strm.avail_in!==0)}function je(X,Me){for(var ye,se;;){if(X.lookahead<U){if(we(X),X.lookahead<U&&Me===f)return E;if(X.lookahead===0)break}if(ye=0,X.lookahead>=P&&(X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+P-1])&X.hash_mask,ye=X.prev[X.strstart&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=X.strstart),ye!==0&&X.strstart-ye<=X.w_size-U&&(X.match_length=ge(X,ye)),X.match_length>=P)if(se=l._tr_tally(X,X.strstart-X.match_start,X.match_length-P),X.lookahead-=X.match_length,X.match_length<=X.max_lazy_match&&X.lookahead>=P){for(X.match_length--;X.strstart++,X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+P-1])&X.hash_mask,ye=X.prev[X.strstart&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=X.strstart,--X.match_length!=0;);X.strstart++}else X.strstart+=X.match_length,X.match_length=0,X.ins_h=X.window[X.strstart],X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+1])&X.hash_mask;else se=l._tr_tally(X,0,X.window[X.strstart]),X.lookahead--,X.strstart++;if(se&&(W(X,!1),X.strm.avail_out===0))return E}return X.insert=X.strstart<P-1?X.strstart:P-1,Me===m?(W(X,!0),X.strm.avail_out===0?Q:re):X.last_lit&&(W(X,!1),X.strm.avail_out===0)?E:G}function Re(X,Me){for(var ye,se,ie;;){if(X.lookahead<U){if(we(X),X.lookahead<U&&Me===f)return E;if(X.lookahead===0)break}if(ye=0,X.lookahead>=P&&(X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+P-1])&X.hash_mask,ye=X.prev[X.strstart&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=X.strstart),X.prev_length=X.match_length,X.prev_match=X.match_start,X.match_length=P-1,ye!==0&&X.prev_length<X.max_lazy_match&&X.strstart-ye<=X.w_size-U&&(X.match_length=ge(X,ye),X.match_length<=5&&(X.strategy===1||X.match_length===P&&4096<X.strstart-X.match_start)&&(X.match_length=P-1)),X.prev_length>=P&&X.match_length<=X.prev_length){for(ie=X.strstart+X.lookahead-P,se=l._tr_tally(X,X.strstart-1-X.prev_match,X.prev_length-P),X.lookahead-=X.prev_length-1,X.prev_length-=2;++X.strstart<=ie&&(X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+P-1])&X.hash_mask,ye=X.prev[X.strstart&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=X.strstart),--X.prev_length!=0;);if(X.match_available=0,X.match_length=P-1,X.strstart++,se&&(W(X,!1),X.strm.avail_out===0))return E}else if(X.match_available){if((se=l._tr_tally(X,0,X.window[X.strstart-1]))&&W(X,!1),X.strstart++,X.lookahead--,X.strm.avail_out===0)return E}else X.match_available=1,X.strstart++,X.lookahead--}return X.match_available&&(se=l._tr_tally(X,0,X.window[X.strstart-1]),X.match_available=0),X.insert=X.strstart<P-1?X.strstart:P-1,Me===m?(W(X,!0),X.strm.avail_out===0?Q:re):X.last_lit&&(W(X,!1),X.strm.avail_out===0)?E:G}function ke(X,Me,ye,se,ie){this.good_length=X,this.max_lazy=Me,this.nice_length=ye,this.max_chain=se,this.func=ie}function We(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=S,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*O),this.dyn_dtree=new a.Buf16(2*(2*j+1)),this.bl_tree=new a.Buf16(2*(2*A+1)),K(this.dyn_ltree),K(this.dyn_dtree),K(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(L+1),this.heap=new a.Buf16(2*D+1),K(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*D+1),K(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Je(X){var Me;return X&&X.state?(X.total_in=X.total_out=0,X.data_type=_,(Me=X.state).pending=0,Me.pending_out=0,Me.wrap<0&&(Me.wrap=-Me.wrap),Me.status=Me.wrap?M:q,X.adler=Me.wrap===2?0:1,Me.last_flush=f,l._tr_init(Me),g):ee(X,b)}function nt(X){var Me=Je(X);return Me===g&&function(ye){ye.window_size=2*ye.w_size,K(ye.head),ye.max_lazy_match=i[ye.level].max_lazy,ye.good_match=i[ye.level].good_length,ye.nice_match=i[ye.level].nice_length,ye.max_chain_length=i[ye.level].max_chain,ye.strstart=0,ye.block_start=0,ye.lookahead=0,ye.insert=0,ye.match_length=ye.prev_length=P-1,ye.match_available=0,ye.ins_h=0}(X.state),Me}function ct(X,Me,ye,se,ie,fe){if(!X)return b;var Te=1;if(Me===y&&(Me=6),se<0?(Te=0,se=-se):15<se&&(Te=2,se-=16),ie<1||T<ie||ye!==S||se<8||15<se||Me<0||9<Me||fe<0||x<fe)return ee(X,b);se===8&&(se=9);var he=new We;return(X.state=he).strm=X,he.wrap=Te,he.gzhead=null,he.w_bits=se,he.w_size=1<<he.w_bits,he.w_mask=he.w_size-1,he.hash_bits=ie+7,he.hash_size=1<<he.hash_bits,he.hash_mask=he.hash_size-1,he.hash_shift=~~((he.hash_bits+P-1)/P),he.window=new a.Buf8(2*he.w_size),he.head=new a.Buf16(he.hash_size),he.prev=new a.Buf16(he.w_size),he.lit_bufsize=1<<ie+6,he.pending_buf_size=4*he.lit_bufsize,he.pending_buf=new a.Buf8(he.pending_buf_size),he.d_buf=1*he.lit_bufsize,he.l_buf=3*he.lit_bufsize,he.level=Me,he.strategy=fe,he.method=ye,nt(X)}i=[new ke(0,0,0,0,function(X,Me){var ye=65535;for(ye>X.pending_buf_size-5&&(ye=X.pending_buf_size-5);;){if(X.lookahead<=1){if(we(X),X.lookahead===0&&Me===f)return E;if(X.lookahead===0)break}X.strstart+=X.lookahead,X.lookahead=0;var se=X.block_start+ye;if((X.strstart===0||X.strstart>=se)&&(X.lookahead=X.strstart-se,X.strstart=se,W(X,!1),X.strm.avail_out===0)||X.strstart-X.block_start>=X.w_size-U&&(W(X,!1),X.strm.avail_out===0))return E}return X.insert=0,Me===m?(W(X,!0),X.strm.avail_out===0?Q:re):(X.strstart>X.block_start&&(W(X,!1),X.strm.avail_out),E)}),new ke(4,4,8,4,je),new ke(4,5,16,8,je),new ke(4,6,32,32,je),new ke(4,4,16,16,Re),new ke(8,16,32,32,Re),new ke(8,16,128,128,Re),new ke(8,32,128,256,Re),new ke(32,128,258,1024,Re),new ke(32,258,258,4096,Re)],s.deflateInit=function(X,Me){return ct(X,Me,S,15,8,0)},s.deflateInit2=ct,s.deflateReset=nt,s.deflateResetKeep=Je,s.deflateSetHeader=function(X,Me){return X&&X.state?X.state.wrap!==2?b:(X.state.gzhead=Me,g):b},s.deflate=function(X,Me){var ye,se,ie,fe;if(!X||!X.state||5<Me||Me<0)return X?ee(X,b):b;if(se=X.state,!X.output||!X.input&&X.avail_in!==0||se.status===666&&Me!==m)return ee(X,X.avail_out===0?-5:b);if(se.strm=X,ye=se.last_flush,se.last_flush=Me,se.status===M)if(se.wrap===2)X.adler=0,me(se,31),me(se,139),me(se,8),se.gzhead?(me(se,(se.gzhead.text?1:0)+(se.gzhead.hcrc?2:0)+(se.gzhead.extra?4:0)+(se.gzhead.name?8:0)+(se.gzhead.comment?16:0)),me(se,255&se.gzhead.time),me(se,se.gzhead.time>>8&255),me(se,se.gzhead.time>>16&255),me(se,se.gzhead.time>>24&255),me(se,se.level===9?2:2<=se.strategy||se.level<2?4:0),me(se,255&se.gzhead.os),se.gzhead.extra&&se.gzhead.extra.length&&(me(se,255&se.gzhead.extra.length),me(se,se.gzhead.extra.length>>8&255)),se.gzhead.hcrc&&(X.adler=u(X.adler,se.pending_buf,se.pending,0)),se.gzindex=0,se.status=69):(me(se,0),me(se,0),me(se,0),me(se,0),me(se,0),me(se,se.level===9?2:2<=se.strategy||se.level<2?4:0),me(se,3),se.status=q);else{var Te=S+(se.w_bits-8<<4)<<8;Te|=(2<=se.strategy||se.level<2?0:se.level<6?1:se.level===6?2:3)<<6,se.strstart!==0&&(Te|=32),Te+=31-Te%31,se.status=q,ne(se,Te),se.strstart!==0&&(ne(se,X.adler>>>16),ne(se,65535&X.adler)),X.adler=1}if(se.status===69)if(se.gzhead.extra){for(ie=se.pending;se.gzindex<(65535&se.gzhead.extra.length)&&(se.pending!==se.pending_buf_size||(se.gzhead.hcrc&&se.pending>ie&&(X.adler=u(X.adler,se.pending_buf,se.pending-ie,ie)),F(X),ie=se.pending,se.pending!==se.pending_buf_size));)me(se,255&se.gzhead.extra[se.gzindex]),se.gzindex++;se.gzhead.hcrc&&se.pending>ie&&(X.adler=u(X.adler,se.pending_buf,se.pending-ie,ie)),se.gzindex===se.gzhead.extra.length&&(se.gzindex=0,se.status=73)}else se.status=73;if(se.status===73)if(se.gzhead.name){ie=se.pending;do{if(se.pending===se.pending_buf_size&&(se.gzhead.hcrc&&se.pending>ie&&(X.adler=u(X.adler,se.pending_buf,se.pending-ie,ie)),F(X),ie=se.pending,se.pending===se.pending_buf_size)){fe=1;break}fe=se.gzindex<se.gzhead.name.length?255&se.gzhead.name.charCodeAt(se.gzindex++):0,me(se,fe)}while(fe!==0);se.gzhead.hcrc&&se.pending>ie&&(X.adler=u(X.adler,se.pending_buf,se.pending-ie,ie)),fe===0&&(se.gzindex=0,se.status=91)}else se.status=91;if(se.status===91)if(se.gzhead.comment){ie=se.pending;do{if(se.pending===se.pending_buf_size&&(se.gzhead.hcrc&&se.pending>ie&&(X.adler=u(X.adler,se.pending_buf,se.pending-ie,ie)),F(X),ie=se.pending,se.pending===se.pending_buf_size)){fe=1;break}fe=se.gzindex<se.gzhead.comment.length?255&se.gzhead.comment.charCodeAt(se.gzindex++):0,me(se,fe)}while(fe!==0);se.gzhead.hcrc&&se.pending>ie&&(X.adler=u(X.adler,se.pending_buf,se.pending-ie,ie)),fe===0&&(se.status=103)}else se.status=103;if(se.status===103&&(se.gzhead.hcrc?(se.pending+2>se.pending_buf_size&&F(X),se.pending+2<=se.pending_buf_size&&(me(se,255&X.adler),me(se,X.adler>>8&255),X.adler=0,se.status=q)):se.status=q),se.pending!==0){if(F(X),X.avail_out===0)return se.last_flush=-1,g}else if(X.avail_in===0&&Z(Me)<=Z(ye)&&Me!==m)return ee(X,-5);if(se.status===666&&X.avail_in!==0)return ee(X,-5);if(X.avail_in!==0||se.lookahead!==0||Me!==f&&se.status!==666){var he=se.strategy===2?function(ce,ve){for(var Ie;;){if(ce.lookahead===0&&(we(ce),ce.lookahead===0)){if(ve===f)return E;break}if(ce.match_length=0,Ie=l._tr_tally(ce,0,ce.window[ce.strstart]),ce.lookahead--,ce.strstart++,Ie&&(W(ce,!1),ce.strm.avail_out===0))return E}return ce.insert=0,ve===m?(W(ce,!0),ce.strm.avail_out===0?Q:re):ce.last_lit&&(W(ce,!1),ce.strm.avail_out===0)?E:G}(se,Me):se.strategy===3?function(ce,ve){for(var Ie,Fe,Se,ut,pt=ce.window;;){if(ce.lookahead<=N){if(we(ce),ce.lookahead<=N&&ve===f)return E;if(ce.lookahead===0)break}if(ce.match_length=0,ce.lookahead>=P&&0<ce.strstart&&(Fe=pt[Se=ce.strstart-1])===pt[++Se]&&Fe===pt[++Se]&&Fe===pt[++Se]){ut=ce.strstart+N;do;while(Fe===pt[++Se]&&Fe===pt[++Se]&&Fe===pt[++Se]&&Fe===pt[++Se]&&Fe===pt[++Se]&&Fe===pt[++Se]&&Fe===pt[++Se]&&Fe===pt[++Se]&&Se<ut);ce.match_length=N-(ut-Se),ce.match_length>ce.lookahead&&(ce.match_length=ce.lookahead)}if(ce.match_length>=P?(Ie=l._tr_tally(ce,1,ce.match_length-P),ce.lookahead-=ce.match_length,ce.strstart+=ce.match_length,ce.match_length=0):(Ie=l._tr_tally(ce,0,ce.window[ce.strstart]),ce.lookahead--,ce.strstart++),Ie&&(W(ce,!1),ce.strm.avail_out===0))return E}return ce.insert=0,ve===m?(W(ce,!0),ce.strm.avail_out===0?Q:re):ce.last_lit&&(W(ce,!1),ce.strm.avail_out===0)?E:G}(se,Me):i[se.level].func(se,Me);if(he!==Q&&he!==re||(se.status=666),he===E||he===Q)return X.avail_out===0&&(se.last_flush=-1),g;if(he===G&&(Me===1?l._tr_align(se):Me!==5&&(l._tr_stored_block(se,0,0,!1),Me===3&&(K(se.head),se.lookahead===0&&(se.strstart=0,se.block_start=0,se.insert=0))),F(X),X.avail_out===0))return se.last_flush=-1,g}return Me!==m?g:se.wrap<=0?1:(se.wrap===2?(me(se,255&X.adler),me(se,X.adler>>8&255),me(se,X.adler>>16&255),me(se,X.adler>>24&255),me(se,255&X.total_in),me(se,X.total_in>>8&255),me(se,X.total_in>>16&255),me(se,X.total_in>>24&255)):(ne(se,X.adler>>>16),ne(se,65535&X.adler)),F(X),0<se.wrap&&(se.wrap=-se.wrap),se.pending!==0?g:1)},s.deflateEnd=function(X){var Me;return X&&X.state?(Me=X.state.status)!==M&&Me!==69&&Me!==73&&Me!==91&&Me!==103&&Me!==q&&Me!==666?ee(X,b):(X.state=null,Me===q?ee(X,-3):g):b},s.deflateSetDictionary=function(X,Me){var ye,se,ie,fe,Te,he,ce,ve,Ie=Me.length;if(!X||!X.state||(fe=(ye=X.state).wrap)===2||fe===1&&ye.status!==M||ye.lookahead)return b;for(fe===1&&(X.adler=c(X.adler,Me,Ie,0)),ye.wrap=0,Ie>=ye.w_size&&(fe===0&&(K(ye.head),ye.strstart=0,ye.block_start=0,ye.insert=0),ve=new a.Buf8(ye.w_size),a.arraySet(ve,Me,Ie-ye.w_size,ye.w_size,0),Me=ve,Ie=ye.w_size),Te=X.avail_in,he=X.next_in,ce=X.input,X.avail_in=Ie,X.next_in=0,X.input=Me,we(ye);ye.lookahead>=P;){for(se=ye.strstart,ie=ye.lookahead-(P-1);ye.ins_h=(ye.ins_h<<ye.hash_shift^ye.window[se+P-1])&ye.hash_mask,ye.prev[se&ye.w_mask]=ye.head[ye.ins_h],ye.head[ye.ins_h]=se,se++,--ie;);ye.strstart=se,ye.lookahead=P-1,we(ye)}return ye.strstart+=ye.lookahead,ye.block_start=ye.strstart,ye.insert=ye.lookahead,ye.lookahead=0,ye.match_length=ye.prev_length=P-1,ye.match_available=0,X.next_in=he,X.input=ce,X.avail_in=Te,ye.wrap=fe,g},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,s){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,s){r.exports=function(i,a){var l,c,u,h,f,m,g,b,y,x,_,S,T,D,j,A,O,L,P,N,U,M,q,E,G;l=i.state,c=i.next_in,E=i.input,u=c+(i.avail_in-5),h=i.next_out,G=i.output,f=h-(a-i.avail_out),m=h+(i.avail_out-257),g=l.dmax,b=l.wsize,y=l.whave,x=l.wnext,_=l.window,S=l.hold,T=l.bits,D=l.lencode,j=l.distcode,A=(1<<l.lenbits)-1,O=(1<<l.distbits)-1;e:do{T<15&&(S+=E[c++]<<T,T+=8,S+=E[c++]<<T,T+=8),L=D[S&A];t:for(;;){if(S>>>=P=L>>>24,T-=P,(P=L>>>16&255)===0)G[h++]=65535&L;else{if(!(16&P)){if(!(64&P)){L=D[(65535&L)+(S&(1<<P)-1)];continue t}if(32&P){l.mode=12;break e}i.msg="invalid literal/length code",l.mode=30;break e}N=65535&L,(P&=15)&&(T<P&&(S+=E[c++]<<T,T+=8),N+=S&(1<<P)-1,S>>>=P,T-=P),T<15&&(S+=E[c++]<<T,T+=8,S+=E[c++]<<T,T+=8),L=j[S&O];n:for(;;){if(S>>>=P=L>>>24,T-=P,!(16&(P=L>>>16&255))){if(!(64&P)){L=j[(65535&L)+(S&(1<<P)-1)];continue n}i.msg="invalid distance code",l.mode=30;break e}if(U=65535&L,T<(P&=15)&&(S+=E[c++]<<T,(T+=8)<P&&(S+=E[c++]<<T,T+=8)),g<(U+=S&(1<<P)-1)){i.msg="invalid distance too far back",l.mode=30;break e}if(S>>>=P,T-=P,(P=h-f)<U){if(y<(P=U-P)&&l.sane){i.msg="invalid distance too far back",l.mode=30;break e}if(q=_,(M=0)===x){if(M+=b-P,P<N){for(N-=P;G[h++]=_[M++],--P;);M=h-U,q=G}}else if(x<P){if(M+=b+x-P,(P-=x)<N){for(N-=P;G[h++]=_[M++],--P;);if(M=0,x<N){for(N-=P=x;G[h++]=_[M++],--P;);M=h-U,q=G}}}else if(M+=x-P,P<N){for(N-=P;G[h++]=_[M++],--P;);M=h-U,q=G}for(;2<N;)G[h++]=q[M++],G[h++]=q[M++],G[h++]=q[M++],N-=3;N&&(G[h++]=q[M++],1<N&&(G[h++]=q[M++]))}else{for(M=h-U;G[h++]=G[M++],G[h++]=G[M++],G[h++]=G[M++],2<(N-=3););N&&(G[h++]=G[M++],1<N&&(G[h++]=G[M++]))}break}}break}}while(c<u&&h<m);c-=N=T>>3,S&=(1<<(T-=N<<3))-1,i.next_in=c,i.next_out=h,i.avail_in=c<u?u-c+5:5-(c-u),i.avail_out=h<m?m-h+257:257-(h-m),l.hold=S,l.bits=T}},{}],49:[function(n,r,s){var i=n("../utils/common"),a=n("./adler32"),l=n("./crc32"),c=n("./inffast"),u=n("./inftrees"),h=1,f=2,m=0,g=-2,b=1,y=852,x=592;function _(M){return(M>>>24&255)+(M>>>8&65280)+((65280&M)<<8)+((255&M)<<24)}function S(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function T(M){var q;return M&&M.state?(q=M.state,M.total_in=M.total_out=q.total=0,M.msg="",q.wrap&&(M.adler=1&q.wrap),q.mode=b,q.last=0,q.havedict=0,q.dmax=32768,q.head=null,q.hold=0,q.bits=0,q.lencode=q.lendyn=new i.Buf32(y),q.distcode=q.distdyn=new i.Buf32(x),q.sane=1,q.back=-1,m):g}function D(M){var q;return M&&M.state?((q=M.state).wsize=0,q.whave=0,q.wnext=0,T(M)):g}function j(M,q){var E,G;return M&&M.state?(G=M.state,q<0?(E=0,q=-q):(E=1+(q>>4),q<48&&(q&=15)),q&&(q<8||15<q)?g:(G.window!==null&&G.wbits!==q&&(G.window=null),G.wrap=E,G.wbits=q,D(M))):g}function A(M,q){var E,G;return M?(G=new S,(M.state=G).window=null,(E=j(M,q))!==m&&(M.state=null),E):g}var O,L,P=!0;function N(M){if(P){var q;for(O=new i.Buf32(512),L=new i.Buf32(32),q=0;q<144;)M.lens[q++]=8;for(;q<256;)M.lens[q++]=9;for(;q<280;)M.lens[q++]=7;for(;q<288;)M.lens[q++]=8;for(u(h,M.lens,0,288,O,0,M.work,{bits:9}),q=0;q<32;)M.lens[q++]=5;u(f,M.lens,0,32,L,0,M.work,{bits:5}),P=!1}M.lencode=O,M.lenbits=9,M.distcode=L,M.distbits=5}function U(M,q,E,G){var Q,re=M.state;return re.window===null&&(re.wsize=1<<re.wbits,re.wnext=0,re.whave=0,re.window=new i.Buf8(re.wsize)),G>=re.wsize?(i.arraySet(re.window,q,E-re.wsize,re.wsize,0),re.wnext=0,re.whave=re.wsize):(G<(Q=re.wsize-re.wnext)&&(Q=G),i.arraySet(re.window,q,E-G,Q,re.wnext),(G-=Q)?(i.arraySet(re.window,q,E-G,G,0),re.wnext=G,re.whave=re.wsize):(re.wnext+=Q,re.wnext===re.wsize&&(re.wnext=0),re.whave<re.wsize&&(re.whave+=Q))),0}s.inflateReset=D,s.inflateReset2=j,s.inflateResetKeep=T,s.inflateInit=function(M){return A(M,15)},s.inflateInit2=A,s.inflate=function(M,q){var E,G,Q,re,ee,Z,K,F,W,me,ne,ge,we,je,Re,ke,We,Je,nt,ct,X,Me,ye,se,ie=0,fe=new i.Buf8(4),Te=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!M||!M.state||!M.output||!M.input&&M.avail_in!==0)return g;(E=M.state).mode===12&&(E.mode=13),ee=M.next_out,Q=M.output,K=M.avail_out,re=M.next_in,G=M.input,Z=M.avail_in,F=E.hold,W=E.bits,me=Z,ne=K,Me=m;e:for(;;)switch(E.mode){case b:if(E.wrap===0){E.mode=13;break}for(;W<16;){if(Z===0)break e;Z--,F+=G[re++]<<W,W+=8}if(2&E.wrap&&F===35615){fe[E.check=0]=255&F,fe[1]=F>>>8&255,E.check=l(E.check,fe,2,0),W=F=0,E.mode=2;break}if(E.flags=0,E.head&&(E.head.done=!1),!(1&E.wrap)||(((255&F)<<8)+(F>>8))%31){M.msg="incorrect header check",E.mode=30;break}if((15&F)!=8){M.msg="unknown compression method",E.mode=30;break}if(W-=4,X=8+(15&(F>>>=4)),E.wbits===0)E.wbits=X;else if(X>E.wbits){M.msg="invalid window size",E.mode=30;break}E.dmax=1<<X,M.adler=E.check=1,E.mode=512&F?10:12,W=F=0;break;case 2:for(;W<16;){if(Z===0)break e;Z--,F+=G[re++]<<W,W+=8}if(E.flags=F,(255&E.flags)!=8){M.msg="unknown compression method",E.mode=30;break}if(57344&E.flags){M.msg="unknown header flags set",E.mode=30;break}E.head&&(E.head.text=F>>8&1),512&E.flags&&(fe[0]=255&F,fe[1]=F>>>8&255,E.check=l(E.check,fe,2,0)),W=F=0,E.mode=3;case 3:for(;W<32;){if(Z===0)break e;Z--,F+=G[re++]<<W,W+=8}E.head&&(E.head.time=F),512&E.flags&&(fe[0]=255&F,fe[1]=F>>>8&255,fe[2]=F>>>16&255,fe[3]=F>>>24&255,E.check=l(E.check,fe,4,0)),W=F=0,E.mode=4;case 4:for(;W<16;){if(Z===0)break e;Z--,F+=G[re++]<<W,W+=8}E.head&&(E.head.xflags=255&F,E.head.os=F>>8),512&E.flags&&(fe[0]=255&F,fe[1]=F>>>8&255,E.check=l(E.check,fe,2,0)),W=F=0,E.mode=5;case 5:if(1024&E.flags){for(;W<16;){if(Z===0)break e;Z--,F+=G[re++]<<W,W+=8}E.length=F,E.head&&(E.head.extra_len=F),512&E.flags&&(fe[0]=255&F,fe[1]=F>>>8&255,E.check=l(E.check,fe,2,0)),W=F=0}else E.head&&(E.head.extra=null);E.mode=6;case 6:if(1024&E.flags&&(Z<(ge=E.length)&&(ge=Z),ge&&(E.head&&(X=E.head.extra_len-E.length,E.head.extra||(E.head.extra=new Array(E.head.extra_len)),i.arraySet(E.head.extra,G,re,ge,X)),512&E.flags&&(E.check=l(E.check,G,ge,re)),Z-=ge,re+=ge,E.length-=ge),E.length))break e;E.length=0,E.mode=7;case 7:if(2048&E.flags){if(Z===0)break e;for(ge=0;X=G[re+ge++],E.head&&X&&E.length<65536&&(E.head.name+=String.fromCharCode(X)),X&&ge<Z;);if(512&E.flags&&(E.check=l(E.check,G,ge,re)),Z-=ge,re+=ge,X)break e}else E.head&&(E.head.name=null);E.length=0,E.mode=8;case 8:if(4096&E.flags){if(Z===0)break e;for(ge=0;X=G[re+ge++],E.head&&X&&E.length<65536&&(E.head.comment+=String.fromCharCode(X)),X&&ge<Z;);if(512&E.flags&&(E.check=l(E.check,G,ge,re)),Z-=ge,re+=ge,X)break e}else E.head&&(E.head.comment=null);E.mode=9;case 9:if(512&E.flags){for(;W<16;){if(Z===0)break e;Z--,F+=G[re++]<<W,W+=8}if(F!==(65535&E.check)){M.msg="header crc mismatch",E.mode=30;break}W=F=0}E.head&&(E.head.hcrc=E.flags>>9&1,E.head.done=!0),M.adler=E.check=0,E.mode=12;break;case 10:for(;W<32;){if(Z===0)break e;Z--,F+=G[re++]<<W,W+=8}M.adler=E.check=_(F),W=F=0,E.mode=11;case 11:if(E.havedict===0)return M.next_out=ee,M.avail_out=K,M.next_in=re,M.avail_in=Z,E.hold=F,E.bits=W,2;M.adler=E.check=1,E.mode=12;case 12:if(q===5||q===6)break e;case 13:if(E.last){F>>>=7&W,W-=7&W,E.mode=27;break}for(;W<3;){if(Z===0)break e;Z--,F+=G[re++]<<W,W+=8}switch(E.last=1&F,W-=1,3&(F>>>=1)){case 0:E.mode=14;break;case 1:if(N(E),E.mode=20,q!==6)break;F>>>=2,W-=2;break e;case 2:E.mode=17;break;case 3:M.msg="invalid block type",E.mode=30}F>>>=2,W-=2;break;case 14:for(F>>>=7&W,W-=7&W;W<32;){if(Z===0)break e;Z--,F+=G[re++]<<W,W+=8}if((65535&F)!=(F>>>16^65535)){M.msg="invalid stored block lengths",E.mode=30;break}if(E.length=65535&F,W=F=0,E.mode=15,q===6)break e;case 15:E.mode=16;case 16:if(ge=E.length){if(Z<ge&&(ge=Z),K<ge&&(ge=K),ge===0)break e;i.arraySet(Q,G,re,ge,ee),Z-=ge,re+=ge,K-=ge,ee+=ge,E.length-=ge;break}E.mode=12;break;case 17:for(;W<14;){if(Z===0)break e;Z--,F+=G[re++]<<W,W+=8}if(E.nlen=257+(31&F),F>>>=5,W-=5,E.ndist=1+(31&F),F>>>=5,W-=5,E.ncode=4+(15&F),F>>>=4,W-=4,286<E.nlen||30<E.ndist){M.msg="too many length or distance symbols",E.mode=30;break}E.have=0,E.mode=18;case 18:for(;E.have<E.ncode;){for(;W<3;){if(Z===0)break e;Z--,F+=G[re++]<<W,W+=8}E.lens[Te[E.have++]]=7&F,F>>>=3,W-=3}for(;E.have<19;)E.lens[Te[E.have++]]=0;if(E.lencode=E.lendyn,E.lenbits=7,ye={bits:E.lenbits},Me=u(0,E.lens,0,19,E.lencode,0,E.work,ye),E.lenbits=ye.bits,Me){M.msg="invalid code lengths set",E.mode=30;break}E.have=0,E.mode=19;case 19:for(;E.have<E.nlen+E.ndist;){for(;ke=(ie=E.lencode[F&(1<<E.lenbits)-1])>>>16&255,We=65535&ie,!((Re=ie>>>24)<=W);){if(Z===0)break e;Z--,F+=G[re++]<<W,W+=8}if(We<16)F>>>=Re,W-=Re,E.lens[E.have++]=We;else{if(We===16){for(se=Re+2;W<se;){if(Z===0)break e;Z--,F+=G[re++]<<W,W+=8}if(F>>>=Re,W-=Re,E.have===0){M.msg="invalid bit length repeat",E.mode=30;break}X=E.lens[E.have-1],ge=3+(3&F),F>>>=2,W-=2}else if(We===17){for(se=Re+3;W<se;){if(Z===0)break e;Z--,F+=G[re++]<<W,W+=8}W-=Re,X=0,ge=3+(7&(F>>>=Re)),F>>>=3,W-=3}else{for(se=Re+7;W<se;){if(Z===0)break e;Z--,F+=G[re++]<<W,W+=8}W-=Re,X=0,ge=11+(127&(F>>>=Re)),F>>>=7,W-=7}if(E.have+ge>E.nlen+E.ndist){M.msg="invalid bit length repeat",E.mode=30;break}for(;ge--;)E.lens[E.have++]=X}}if(E.mode===30)break;if(E.lens[256]===0){M.msg="invalid code -- missing end-of-block",E.mode=30;break}if(E.lenbits=9,ye={bits:E.lenbits},Me=u(h,E.lens,0,E.nlen,E.lencode,0,E.work,ye),E.lenbits=ye.bits,Me){M.msg="invalid literal/lengths set",E.mode=30;break}if(E.distbits=6,E.distcode=E.distdyn,ye={bits:E.distbits},Me=u(f,E.lens,E.nlen,E.ndist,E.distcode,0,E.work,ye),E.distbits=ye.bits,Me){M.msg="invalid distances set",E.mode=30;break}if(E.mode=20,q===6)break e;case 20:E.mode=21;case 21:if(6<=Z&&258<=K){M.next_out=ee,M.avail_out=K,M.next_in=re,M.avail_in=Z,E.hold=F,E.bits=W,c(M,ne),ee=M.next_out,Q=M.output,K=M.avail_out,re=M.next_in,G=M.input,Z=M.avail_in,F=E.hold,W=E.bits,E.mode===12&&(E.back=-1);break}for(E.back=0;ke=(ie=E.lencode[F&(1<<E.lenbits)-1])>>>16&255,We=65535&ie,!((Re=ie>>>24)<=W);){if(Z===0)break e;Z--,F+=G[re++]<<W,W+=8}if(ke&&!(240&ke)){for(Je=Re,nt=ke,ct=We;ke=(ie=E.lencode[ct+((F&(1<<Je+nt)-1)>>Je)])>>>16&255,We=65535&ie,!(Je+(Re=ie>>>24)<=W);){if(Z===0)break e;Z--,F+=G[re++]<<W,W+=8}F>>>=Je,W-=Je,E.back+=Je}if(F>>>=Re,W-=Re,E.back+=Re,E.length=We,ke===0){E.mode=26;break}if(32&ke){E.back=-1,E.mode=12;break}if(64&ke){M.msg="invalid literal/length code",E.mode=30;break}E.extra=15&ke,E.mode=22;case 22:if(E.extra){for(se=E.extra;W<se;){if(Z===0)break e;Z--,F+=G[re++]<<W,W+=8}E.length+=F&(1<<E.extra)-1,F>>>=E.extra,W-=E.extra,E.back+=E.extra}E.was=E.length,E.mode=23;case 23:for(;ke=(ie=E.distcode[F&(1<<E.distbits)-1])>>>16&255,We=65535&ie,!((Re=ie>>>24)<=W);){if(Z===0)break e;Z--,F+=G[re++]<<W,W+=8}if(!(240&ke)){for(Je=Re,nt=ke,ct=We;ke=(ie=E.distcode[ct+((F&(1<<Je+nt)-1)>>Je)])>>>16&255,We=65535&ie,!(Je+(Re=ie>>>24)<=W);){if(Z===0)break e;Z--,F+=G[re++]<<W,W+=8}F>>>=Je,W-=Je,E.back+=Je}if(F>>>=Re,W-=Re,E.back+=Re,64&ke){M.msg="invalid distance code",E.mode=30;break}E.offset=We,E.extra=15&ke,E.mode=24;case 24:if(E.extra){for(se=E.extra;W<se;){if(Z===0)break e;Z--,F+=G[re++]<<W,W+=8}E.offset+=F&(1<<E.extra)-1,F>>>=E.extra,W-=E.extra,E.back+=E.extra}if(E.offset>E.dmax){M.msg="invalid distance too far back",E.mode=30;break}E.mode=25;case 25:if(K===0)break e;if(ge=ne-K,E.offset>ge){if((ge=E.offset-ge)>E.whave&&E.sane){M.msg="invalid distance too far back",E.mode=30;break}we=ge>E.wnext?(ge-=E.wnext,E.wsize-ge):E.wnext-ge,ge>E.length&&(ge=E.length),je=E.window}else je=Q,we=ee-E.offset,ge=E.length;for(K<ge&&(ge=K),K-=ge,E.length-=ge;Q[ee++]=je[we++],--ge;);E.length===0&&(E.mode=21);break;case 26:if(K===0)break e;Q[ee++]=E.length,K--,E.mode=21;break;case 27:if(E.wrap){for(;W<32;){if(Z===0)break e;Z--,F|=G[re++]<<W,W+=8}if(ne-=K,M.total_out+=ne,E.total+=ne,ne&&(M.adler=E.check=E.flags?l(E.check,Q,ne,ee-ne):a(E.check,Q,ne,ee-ne)),ne=K,(E.flags?F:_(F))!==E.check){M.msg="incorrect data check",E.mode=30;break}W=F=0}E.mode=28;case 28:if(E.wrap&&E.flags){for(;W<32;){if(Z===0)break e;Z--,F+=G[re++]<<W,W+=8}if(F!==(4294967295&E.total)){M.msg="incorrect length check",E.mode=30;break}W=F=0}E.mode=29;case 29:Me=1;break e;case 30:Me=-3;break e;case 31:return-4;case 32:default:return g}return M.next_out=ee,M.avail_out=K,M.next_in=re,M.avail_in=Z,E.hold=F,E.bits=W,(E.wsize||ne!==M.avail_out&&E.mode<30&&(E.mode<27||q!==4))&&U(M,M.output,M.next_out,ne-M.avail_out)?(E.mode=31,-4):(me-=M.avail_in,ne-=M.avail_out,M.total_in+=me,M.total_out+=ne,E.total+=ne,E.wrap&&ne&&(M.adler=E.check=E.flags?l(E.check,Q,ne,M.next_out-ne):a(E.check,Q,ne,M.next_out-ne)),M.data_type=E.bits+(E.last?64:0)+(E.mode===12?128:0)+(E.mode===20||E.mode===15?256:0),(me==0&&ne===0||q===4)&&Me===m&&(Me=-5),Me)},s.inflateEnd=function(M){if(!M||!M.state)return g;var q=M.state;return q.window&&(q.window=null),M.state=null,m},s.inflateGetHeader=function(M,q){var E;return M&&M.state&&2&(E=M.state).wrap?((E.head=q).done=!1,m):g},s.inflateSetDictionary=function(M,q){var E,G=q.length;return M&&M.state?(E=M.state).wrap!==0&&E.mode!==11?g:E.mode===11&&a(1,q,G,0)!==E.check?-3:U(M,q,G,G)?(E.mode=31,-4):(E.havedict=1,m):g},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,s){var i=n("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(h,f,m,g,b,y,x,_){var S,T,D,j,A,O,L,P,N,U=_.bits,M=0,q=0,E=0,G=0,Q=0,re=0,ee=0,Z=0,K=0,F=0,W=null,me=0,ne=new i.Buf16(16),ge=new i.Buf16(16),we=null,je=0;for(M=0;M<=15;M++)ne[M]=0;for(q=0;q<g;q++)ne[f[m+q]]++;for(Q=U,G=15;1<=G&&ne[G]===0;G--);if(G<Q&&(Q=G),G===0)return b[y++]=20971520,b[y++]=20971520,_.bits=1,0;for(E=1;E<G&&ne[E]===0;E++);for(Q<E&&(Q=E),M=Z=1;M<=15;M++)if(Z<<=1,(Z-=ne[M])<0)return-1;if(0<Z&&(h===0||G!==1))return-1;for(ge[1]=0,M=1;M<15;M++)ge[M+1]=ge[M]+ne[M];for(q=0;q<g;q++)f[m+q]!==0&&(x[ge[f[m+q]]++]=q);if(O=h===0?(W=we=x,19):h===1?(W=a,me-=257,we=l,je-=257,256):(W=c,we=u,-1),M=E,A=y,ee=q=F=0,D=-1,j=(K=1<<(re=Q))-1,h===1&&852<K||h===2&&592<K)return 1;for(;;){for(L=M-ee,N=x[q]<O?(P=0,x[q]):x[q]>O?(P=we[je+x[q]],W[me+x[q]]):(P=96,0),S=1<<M-ee,E=T=1<<re;b[A+(F>>ee)+(T-=S)]=L<<24|P<<16|N|0,T!==0;);for(S=1<<M-1;F&S;)S>>=1;if(S!==0?(F&=S-1,F+=S):F=0,q++,--ne[M]==0){if(M===G)break;M=f[m+x[q]]}if(Q<M&&(F&j)!==D){for(ee===0&&(ee=Q),A+=E,Z=1<<(re=M-ee);re+ee<G&&!((Z-=ne[re+ee])<=0);)re++,Z<<=1;if(K+=1<<re,h===1&&852<K||h===2&&592<K)return 1;b[D=F&j]=Q<<24|re<<16|A-y|0}}return F!==0&&(b[A+F]=M-ee<<24|64<<16|0),_.bits=Q,0}},{"../utils/common":41}],51:[function(n,r,s){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,s){var i=n("../utils/common"),a=0,l=1;function c(ie){for(var fe=ie.length;0<=--fe;)ie[fe]=0}var u=0,h=29,f=256,m=f+1+h,g=30,b=19,y=2*m+1,x=15,_=16,S=7,T=256,D=16,j=17,A=18,O=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],L=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],U=new Array(2*(m+2));c(U);var M=new Array(2*g);c(M);var q=new Array(512);c(q);var E=new Array(256);c(E);var G=new Array(h);c(G);var Q,re,ee,Z=new Array(g);function K(ie,fe,Te,he,ce){this.static_tree=ie,this.extra_bits=fe,this.extra_base=Te,this.elems=he,this.max_length=ce,this.has_stree=ie&&ie.length}function F(ie,fe){this.dyn_tree=ie,this.max_code=0,this.stat_desc=fe}function W(ie){return ie<256?q[ie]:q[256+(ie>>>7)]}function me(ie,fe){ie.pending_buf[ie.pending++]=255&fe,ie.pending_buf[ie.pending++]=fe>>>8&255}function ne(ie,fe,Te){ie.bi_valid>_-Te?(ie.bi_buf|=fe<<ie.bi_valid&65535,me(ie,ie.bi_buf),ie.bi_buf=fe>>_-ie.bi_valid,ie.bi_valid+=Te-_):(ie.bi_buf|=fe<<ie.bi_valid&65535,ie.bi_valid+=Te)}function ge(ie,fe,Te){ne(ie,Te[2*fe],Te[2*fe+1])}function we(ie,fe){for(var Te=0;Te|=1&ie,ie>>>=1,Te<<=1,0<--fe;);return Te>>>1}function je(ie,fe,Te){var he,ce,ve=new Array(x+1),Ie=0;for(he=1;he<=x;he++)ve[he]=Ie=Ie+Te[he-1]<<1;for(ce=0;ce<=fe;ce++){var Fe=ie[2*ce+1];Fe!==0&&(ie[2*ce]=we(ve[Fe]++,Fe))}}function Re(ie){var fe;for(fe=0;fe<m;fe++)ie.dyn_ltree[2*fe]=0;for(fe=0;fe<g;fe++)ie.dyn_dtree[2*fe]=0;for(fe=0;fe<b;fe++)ie.bl_tree[2*fe]=0;ie.dyn_ltree[2*T]=1,ie.opt_len=ie.static_len=0,ie.last_lit=ie.matches=0}function ke(ie){8<ie.bi_valid?me(ie,ie.bi_buf):0<ie.bi_valid&&(ie.pending_buf[ie.pending++]=ie.bi_buf),ie.bi_buf=0,ie.bi_valid=0}function We(ie,fe,Te,he){var ce=2*fe,ve=2*Te;return ie[ce]<ie[ve]||ie[ce]===ie[ve]&&he[fe]<=he[Te]}function Je(ie,fe,Te){for(var he=ie.heap[Te],ce=Te<<1;ce<=ie.heap_len&&(ce<ie.heap_len&&We(fe,ie.heap[ce+1],ie.heap[ce],ie.depth)&&ce++,!We(fe,he,ie.heap[ce],ie.depth));)ie.heap[Te]=ie.heap[ce],Te=ce,ce<<=1;ie.heap[Te]=he}function nt(ie,fe,Te){var he,ce,ve,Ie,Fe=0;if(ie.last_lit!==0)for(;he=ie.pending_buf[ie.d_buf+2*Fe]<<8|ie.pending_buf[ie.d_buf+2*Fe+1],ce=ie.pending_buf[ie.l_buf+Fe],Fe++,he===0?ge(ie,ce,fe):(ge(ie,(ve=E[ce])+f+1,fe),(Ie=O[ve])!==0&&ne(ie,ce-=G[ve],Ie),ge(ie,ve=W(--he),Te),(Ie=L[ve])!==0&&ne(ie,he-=Z[ve],Ie)),Fe<ie.last_lit;);ge(ie,T,fe)}function ct(ie,fe){var Te,he,ce,ve=fe.dyn_tree,Ie=fe.stat_desc.static_tree,Fe=fe.stat_desc.has_stree,Se=fe.stat_desc.elems,ut=-1;for(ie.heap_len=0,ie.heap_max=y,Te=0;Te<Se;Te++)ve[2*Te]!==0?(ie.heap[++ie.heap_len]=ut=Te,ie.depth[Te]=0):ve[2*Te+1]=0;for(;ie.heap_len<2;)ve[2*(ce=ie.heap[++ie.heap_len]=ut<2?++ut:0)]=1,ie.depth[ce]=0,ie.opt_len--,Fe&&(ie.static_len-=Ie[2*ce+1]);for(fe.max_code=ut,Te=ie.heap_len>>1;1<=Te;Te--)Je(ie,ve,Te);for(ce=Se;Te=ie.heap[1],ie.heap[1]=ie.heap[ie.heap_len--],Je(ie,ve,1),he=ie.heap[1],ie.heap[--ie.heap_max]=Te,ie.heap[--ie.heap_max]=he,ve[2*ce]=ve[2*Te]+ve[2*he],ie.depth[ce]=(ie.depth[Te]>=ie.depth[he]?ie.depth[Te]:ie.depth[he])+1,ve[2*Te+1]=ve[2*he+1]=ce,ie.heap[1]=ce++,Je(ie,ve,1),2<=ie.heap_len;);ie.heap[--ie.heap_max]=ie.heap[1],function(pt,Le){var Ue,Qe,ot,Ke,xt,ae,Be=Le.dyn_tree,Ye=Le.max_code,_t=Le.stat_desc.static_tree,Ze=Le.stat_desc.has_stree,it=Le.stat_desc.extra_bits,te=Le.stat_desc.extra_base,le=Le.stat_desc.max_length,be=0;for(Ke=0;Ke<=x;Ke++)pt.bl_count[Ke]=0;for(Be[2*pt.heap[pt.heap_max]+1]=0,Ue=pt.heap_max+1;Ue<y;Ue++)le<(Ke=Be[2*Be[2*(Qe=pt.heap[Ue])+1]+1]+1)&&(Ke=le,be++),Be[2*Qe+1]=Ke,Ye<Qe||(pt.bl_count[Ke]++,xt=0,te<=Qe&&(xt=it[Qe-te]),ae=Be[2*Qe],pt.opt_len+=ae*(Ke+xt),Ze&&(pt.static_len+=ae*(_t[2*Qe+1]+xt)));if(be!==0){do{for(Ke=le-1;pt.bl_count[Ke]===0;)Ke--;pt.bl_count[Ke]--,pt.bl_count[Ke+1]+=2,pt.bl_count[le]--,be-=2}while(0<be);for(Ke=le;Ke!==0;Ke--)for(Qe=pt.bl_count[Ke];Qe!==0;)Ye<(ot=pt.heap[--Ue])||(Be[2*ot+1]!==Ke&&(pt.opt_len+=(Ke-Be[2*ot+1])*Be[2*ot],Be[2*ot+1]=Ke),Qe--)}}(ie,fe),je(ve,ut,ie.bl_count)}function X(ie,fe,Te){var he,ce,ve=-1,Ie=fe[1],Fe=0,Se=7,ut=4;for(Ie===0&&(Se=138,ut=3),fe[2*(Te+1)+1]=65535,he=0;he<=Te;he++)ce=Ie,Ie=fe[2*(he+1)+1],++Fe<Se&&ce===Ie||(Fe<ut?ie.bl_tree[2*ce]+=Fe:ce!==0?(ce!==ve&&ie.bl_tree[2*ce]++,ie.bl_tree[2*D]++):Fe<=10?ie.bl_tree[2*j]++:ie.bl_tree[2*A]++,ve=ce,ut=(Fe=0)===Ie?(Se=138,3):ce===Ie?(Se=6,3):(Se=7,4))}function Me(ie,fe,Te){var he,ce,ve=-1,Ie=fe[1],Fe=0,Se=7,ut=4;for(Ie===0&&(Se=138,ut=3),he=0;he<=Te;he++)if(ce=Ie,Ie=fe[2*(he+1)+1],!(++Fe<Se&&ce===Ie)){if(Fe<ut)for(;ge(ie,ce,ie.bl_tree),--Fe!=0;);else ce!==0?(ce!==ve&&(ge(ie,ce,ie.bl_tree),Fe--),ge(ie,D,ie.bl_tree),ne(ie,Fe-3,2)):Fe<=10?(ge(ie,j,ie.bl_tree),ne(ie,Fe-3,3)):(ge(ie,A,ie.bl_tree),ne(ie,Fe-11,7));ve=ce,ut=(Fe=0)===Ie?(Se=138,3):ce===Ie?(Se=6,3):(Se=7,4)}}c(Z);var ye=!1;function se(ie,fe,Te,he){ne(ie,(u<<1)+(he?1:0),3),function(ce,ve,Ie,Fe){ke(ce),me(ce,Ie),me(ce,~Ie),i.arraySet(ce.pending_buf,ce.window,ve,Ie,ce.pending),ce.pending+=Ie}(ie,fe,Te)}s._tr_init=function(ie){ye||(function(){var fe,Te,he,ce,ve,Ie=new Array(x+1);for(ce=he=0;ce<h-1;ce++)for(G[ce]=he,fe=0;fe<1<<O[ce];fe++)E[he++]=ce;for(E[he-1]=ce,ce=ve=0;ce<16;ce++)for(Z[ce]=ve,fe=0;fe<1<<L[ce];fe++)q[ve++]=ce;for(ve>>=7;ce<g;ce++)for(Z[ce]=ve<<7,fe=0;fe<1<<L[ce]-7;fe++)q[256+ve++]=ce;for(Te=0;Te<=x;Te++)Ie[Te]=0;for(fe=0;fe<=143;)U[2*fe+1]=8,fe++,Ie[8]++;for(;fe<=255;)U[2*fe+1]=9,fe++,Ie[9]++;for(;fe<=279;)U[2*fe+1]=7,fe++,Ie[7]++;for(;fe<=287;)U[2*fe+1]=8,fe++,Ie[8]++;for(je(U,m+1,Ie),fe=0;fe<g;fe++)M[2*fe+1]=5,M[2*fe]=we(fe,5);Q=new K(U,O,f+1,m,x),re=new K(M,L,0,g,x),ee=new K(new Array(0),P,0,b,S)}(),ye=!0),ie.l_desc=new F(ie.dyn_ltree,Q),ie.d_desc=new F(ie.dyn_dtree,re),ie.bl_desc=new F(ie.bl_tree,ee),ie.bi_buf=0,ie.bi_valid=0,Re(ie)},s._tr_stored_block=se,s._tr_flush_block=function(ie,fe,Te,he){var ce,ve,Ie=0;0<ie.level?(ie.strm.data_type===2&&(ie.strm.data_type=function(Fe){var Se,ut=4093624447;for(Se=0;Se<=31;Se++,ut>>>=1)if(1&ut&&Fe.dyn_ltree[2*Se]!==0)return a;if(Fe.dyn_ltree[18]!==0||Fe.dyn_ltree[20]!==0||Fe.dyn_ltree[26]!==0)return l;for(Se=32;Se<f;Se++)if(Fe.dyn_ltree[2*Se]!==0)return l;return a}(ie)),ct(ie,ie.l_desc),ct(ie,ie.d_desc),Ie=function(Fe){var Se;for(X(Fe,Fe.dyn_ltree,Fe.l_desc.max_code),X(Fe,Fe.dyn_dtree,Fe.d_desc.max_code),ct(Fe,Fe.bl_desc),Se=b-1;3<=Se&&Fe.bl_tree[2*N[Se]+1]===0;Se--);return Fe.opt_len+=3*(Se+1)+5+5+4,Se}(ie),ce=ie.opt_len+3+7>>>3,(ve=ie.static_len+3+7>>>3)<=ce&&(ce=ve)):ce=ve=Te+5,Te+4<=ce&&fe!==-1?se(ie,fe,Te,he):ie.strategy===4||ve===ce?(ne(ie,2+(he?1:0),3),nt(ie,U,M)):(ne(ie,4+(he?1:0),3),function(Fe,Se,ut,pt){var Le;for(ne(Fe,Se-257,5),ne(Fe,ut-1,5),ne(Fe,pt-4,4),Le=0;Le<pt;Le++)ne(Fe,Fe.bl_tree[2*N[Le]+1],3);Me(Fe,Fe.dyn_ltree,Se-1),Me(Fe,Fe.dyn_dtree,ut-1)}(ie,ie.l_desc.max_code+1,ie.d_desc.max_code+1,Ie+1),nt(ie,ie.dyn_ltree,ie.dyn_dtree)),Re(ie),he&&ke(ie)},s._tr_tally=function(ie,fe,Te){return ie.pending_buf[ie.d_buf+2*ie.last_lit]=fe>>>8&255,ie.pending_buf[ie.d_buf+2*ie.last_lit+1]=255&fe,ie.pending_buf[ie.l_buf+ie.last_lit]=255&Te,ie.last_lit++,fe===0?ie.dyn_ltree[2*Te]++:(ie.matches++,fe--,ie.dyn_ltree[2*(E[Te]+f+1)]++,ie.dyn_dtree[2*W(fe)]++),ie.last_lit===ie.lit_bufsize-1},s._tr_align=function(ie){ne(ie,2,3),ge(ie,T,U),function(fe){fe.bi_valid===16?(me(fe,fe.bi_buf),fe.bi_buf=0,fe.bi_valid=0):8<=fe.bi_valid&&(fe.pending_buf[fe.pending++]=255&fe.bi_buf,fe.bi_buf>>=8,fe.bi_valid-=8)}(ie)}},{"../utils/common":41}],53:[function(n,r,s){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,s){(function(i){(function(a,l){if(!a.setImmediate){var c,u,h,f,m=1,g={},b=!1,y=a.document,x=Object.getPrototypeOf&&Object.getPrototypeOf(a);x=x&&x.setTimeout?x:a,c={}.toString.call(a.process)==="[object process]"?function(D){process.nextTick(function(){S(D)})}:function(){if(a.postMessage&&!a.importScripts){var D=!0,j=a.onmessage;return a.onmessage=function(){D=!1},a.postMessage("","*"),a.onmessage=j,D}}()?(f="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",T,!1):a.attachEvent("onmessage",T),function(D){a.postMessage(f+D,"*")}):a.MessageChannel?((h=new MessageChannel).port1.onmessage=function(D){S(D.data)},function(D){h.port2.postMessage(D)}):y&&"onreadystatechange"in y.createElement("script")?(u=y.documentElement,function(D){var j=y.createElement("script");j.onreadystatechange=function(){S(D),j.onreadystatechange=null,u.removeChild(j),j=null},u.appendChild(j)}):function(D){setTimeout(S,0,D)},x.setImmediate=function(D){typeof D!="function"&&(D=new Function(""+D));for(var j=new Array(arguments.length-1),A=0;A<j.length;A++)j[A]=arguments[A+1];var O={callback:D,args:j};return g[m]=O,c(m),m++},x.clearImmediate=_}function _(D){delete g[D]}function S(D){if(b)setTimeout(S,0,D);else{var j=g[D];if(j){b=!0;try{(function(A){var O=A.callback,L=A.args;switch(L.length){case 0:O();break;case 1:O(L[0]);break;case 2:O(L[0],L[1]);break;case 3:O(L[0],L[1],L[2]);break;default:O.apply(l,L)}})(j)}finally{_(D),b=!1}}}}function T(D){D.source===a&&typeof D.data=="string"&&D.data.indexOf(f)===0&&S(+D.data.slice(f.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof So<"u"?So:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(t2)),t2.exports}var bye=yye();const xye=Jr(bye),bB=({show:t,handleClose:e,studentId:n,courseId:r,completionDate:s})=>{const[i,a]=w.useState(null),[l,c]=w.useState(!0),[u,h]=w.useState(null),[f,m]=w.useState(!1),[g,b]=w.useState(!1);w.useEffect(()=>{const S=()=>{const D=document.body.classList.contains("dark-mode")||localStorage.getItem("appearanceSettings")&&JSON.parse(localStorage.getItem("appearanceSettings")).darkMode;b(D)};S();const T=()=>{S()};return window.addEventListener("storage",T),()=>{window.removeEventListener("storage",T)}},[]),w.useEffect(()=>{t&&r&&y()},[t,r]);const y=async()=>{try{c(!0),h(null);const S=await yB(n,r,s);Array.isArray(S)?S.length>0?a(S[0]):h("No certificate found for this course"):a(S)}catch(S){h("Failed to load certificate: "+(S.message||"Unknown error")),dt().fire({icon:"error",title:"Failed to load certificate"})}finally{c(!1)}},x=async()=>{if(i)try{m(!0);let S=null,T=null;if(i.download_pdf)S=i.download_pdf;else if(i.pdf_url)S=i.pdf_url;else throw new Error("No PDF URL available");if(i.download_png)T=i.download_png;else if(i.image_url)T=i.image_url;else throw new Error("No PNG URL available");const D=bi;S.startsWith("/")&&(S=`${D}${S}`),T.startsWith("/")&&(T=`${D}${T}`);const j=localStorage.getItem("access");Promise.all([fetch(S,{headers:{Authorization:j?`Bearer ${j}`:""}}),fetch(T,{headers:{Authorization:j?`Bearer ${j}`:""}})]).then(([A,O])=>{if(!A.ok||!O.ok)throw new Error(`Failed to download certificate files: PDF status: ${A.status}, PNG status: ${O.status}`);return Promise.all([A.blob(),O.blob()])}).then(([A,O])=>{var U;if(A.size===0||O.size===0)throw new Error("Received empty file(s) from server");const L=new xye,P=((U=i.course_title)==null?void 0:U.replace(/[^a-z0-9]/gi,"_").toLowerCase())||"certificate",N=i.certificate_id||"cert";return L.file(`${P}_certificate_${N}.pdf`,A),L.file(`${P}_certificate_${N}.png`,O),L.generateAsync({type:"blob",compression:"DEFLATE"})}).then(A=>{var U;const O=window.URL.createObjectURL(A),L=((U=i.course_title)==null?void 0:U.replace(/[^a-z0-9]/gi,"_").toLowerCase())||"certificate",P=i.certificate_id||"cert",N=document.createElement("a");N.href=O,N.download=`${L}_certificate_${P}.zip`,N.target="_self",document.body.appendChild(N),N.click(),setTimeout(()=>{document.body.removeChild(N),window.URL.revokeObjectURL(O)},100),dt().fire({icon:"success",title:"Certificate downloaded successfully"})}).catch(A=>{dt().fire({icon:"error",title:"Failed to download certificate"})}).finally(()=>{m(!1)})}catch{dt().fire({icon:"error",title:"Failed to start download process"}),m(!1)}},_=()=>i?i.download_png?i.download_png.startsWith("/")?`${bi}${i.download_png}`:i.download_png:i.image_url?i.image_url:null:null;return o.jsxs(Tt,{show:t,onHide:e,size:"lg",centered:!0,className:"certificate-modal",children:[o.jsxs(Tt.Header,{style:{backgroundColor:"white",borderBottom:g?"1px solid #444":"1px solid #dee2e6"},children:[o.jsx(Tt.Title,{className:"text-muted",children:"Course Certificate"}),o.jsx("button",{onClick:e,style:{background:"transparent",border:"none",fontSize:"1.2rem",padding:"0.25rem 0.5rem",cursor:"pointer",color:"#000",transition:"color 0.15s ease-in-out"},"aria-label":"Close",className:"custom-close-button",onMouseOver:S=>S.currentTarget.style.color="#555",onMouseOut:S=>S.currentTarget.style.color="#000",children:""})]}),o.jsx(Tt.Body,{className:"p-0",style:{backgroundColor:"white"},children:l?o.jsxs("div",{className:"text-center py-5",children:[o.jsx(Yr,{animation:"border",role:"status",variant:"primary",children:o.jsx("span",{className:"visually-hidden",children:"Loading..."})}),o.jsx("p",{className:"mt-3",children:"Loading your certificate..."})]}):u?o.jsx("div",{className:"alert alert-danger m-3",children:u}):i?o.jsxs("div",{className:"certificate-container p-0",children:[o.jsx("div",{className:"certificate-image-container text-center py-4 border-top border-bottom",children:o.jsx("img",{src:_(),alt:"Certificate",className:"img-fluid certificate-image",style:{maxHeight:"350px",objectFit:"contain",width:"auto"},onError:S=>{S.target.src="https://via.placeholder.com/800x600?text=Certificate+Not+Available",S.target.style.opacity=.7}})}),o.jsxs("div",{className:"d-flex justify-content-between align-items-center px-4 py-3",children:[o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("span",{className:"me-2 text-muted",children:"Share:"}),o.jsx("div",{className:"d-flex gap-2",children:["twitter","facebook","linkedin","instagram"].map(S=>o.jsx("button",{onClick:()=>handleShare(S),className:"btn rounded-circle p-0 d-flex align-items-center justify-content-center",style:{backgroundColor:S==="twitter"?"#1DA1F2":S==="facebook"?"#4267B2":S==="linkedin"?"#0e76a8":"#C13584",color:"white",width:"36px",height:"36px",border:"none"},children:o.jsx("i",{className:`fab fa-${S==="twitter"?"twitter":S==="facebook"?"facebook-f":S==="linkedin"?"linkedin-in":"instagram"}`})},S))})]}),o.jsx(Mt,{variant:"success",onClick:x,className:"px-4",disabled:f,children:f?o.jsxs(o.Fragment,{children:[o.jsx(Yr,{animation:"border",size:"sm",className:"me-2"}),"Creating ZIP..."]}):o.jsxs(o.Fragment,{children:[o.jsx("i",{className:"fas fa-download me-2"}),"Download ZIP"]})})]})]}):o.jsx("div",{className:"alert alert-info m-3",children:"No certificate found for this course. Try refreshing the page."})})]})};let W4=!1;const vye=t=>{if(!t||t.isDisposed())return;t.addClass("vjs-youtube-style");const n=(()=>{const r=["#8c0101","#034287"];return r[Math.floor(Math.random()*r.length)]})();if(!W4){const r="vjs-youtube-global-styles";if(!document.getElementById(r)){const s=document.createElement("style");s.id=r,s.textContent=`
        .video-js.vjs-youtube-style {
          font-family: 'Roboto', Arial, sans-serif;
        }
        body.dark-mode button:not(.btn-primary):not(.btn-success):not(.btn-danger) {
        background-color: rgba(255, 255, 255, 0) !important;
        border-color: rgba(255, 255, 255, 0) !important;
    }
        .video-js.vjs-youtube-style .vjs-control-bar {
          background: transparent; /* Changed from gradient to transparent */
          height: 40px;
          padding: 0;
          margin: 0;
          opacity: 0;
          transition: opacity 0.2s ease;
          display: flex;
          justify-content: space-between;
          width: 100%;
        }
        
        .video-js.vjs-youtube-style:hover .vjs-control-bar {
          opacity: 1;
          background: rgba(0, 0, 0, 0);
        }
        
        .video-js.vjs-youtube-style .vjs-progress-control {
          position: absolute !important;
          top: -10px !important;
          left: 0 !important;
          right: 0 !important;
          width: 100% !important;
          height: 3px;
          transition: height 0.1s;
          padding: 0 !important;
          margin: 0 !important;
          box-sizing: border-box;
          backgroundcolor: rgba(0, 0, 0, 0)!important;
        }
        
        .video-js.vjs-youtube-style:hover .vjs-progress-control {
          height: 5px;
        }
        
        .video-js.vjs-youtube-style .vjs-play-progress {
          background-color: ${n};
        }
        
        .video-js.vjs-youtube-style .vjs-progress-holder {
          height: 3px;
          margin: 0;
          width: 100%;
          max-width: 100%;
        }
        
        .video-js.vjs-youtube-style .vjs-load-progress,
        .video-js.vjs-youtube-style .vjs-load-progress div {
          backgroundcolor: rgba(0, 0, 0, 0);
        }
        
        .video-js.vjs-youtube-style .vjs-progress-control .vjs-progress-holder {
          margin: 0;
          padding: 0;
          width: 100%;
        }
        
        .video-js.vjs-youtube-style .vjs-progress-control,
        .video-js.vjs-youtube-style .vjs-progress-holder,
        .video-js.vjs-youtube-style .vjs-slider,
        .video-js.vjs-youtube-style .vjs-slider-horizontal {
          margin: 0;
          padding: 0;
          backgroundcolor: rgba(0, 0, 0, 0);
        }
        
        .video-js.vjs-youtube-style .vjs-button > .vjs-icon-placeholder:before {
          font-size: 20px;
          line-height: 40px;
        }
        
        .vjs-youtube-left-controls,
        .vjs-youtube-right-controls {
          display: flex;
          align-items: center;
          padding: 0 5px;
          backgroundcolor: rgba(0, 0, 0, 0)!important;
        }
        
        .video-js.vjs-youtube-style .vjs-control {
          width: 30px;
          backgroundcolor: rgba(0, 0, 0, 0)!important;
        }
        
        /* Compact Time Display in YouTube style */
        .video-js.vjs-youtube-style .vjs-current-time,
        .video-js.vjs-youtube-style .vjs-time-divider,
        .video-js.vjs-youtube-style .vjs-duration {
          padding: 0;
          margin: 0;
          font-size: 12px;
          display: block !important;
          line-height: 40px;
          width: auto;
          backgroundcolor: rgba(0, 0, 0, 0)!important;
        }
        
        /* Make current time and duration display tight together */
        .video-js.vjs-youtube-style .vjs-current-time-display,
        .video-js.vjs-youtube-style .vjs-duration-display {
          padding: 0 1px;
        }
        
        /* Adjust time divider */
        .video-js.vjs-youtube-style .vjs-time-divider {
          padding: 0;
          min-width: 8px;
          text-align: center;
        }
        
        /* Hide the time remaining display */
        .video-js.vjs-youtube-style .vjs-remaining-time {
          display: none !important;
        }
        
        .video-js.vjs-youtube-style .vjs-volume-panel {
          display: flex;
          margin-right: 0;
          backgroundcolor: rgba(0, 0, 0, 0)!important;
        }
        
        .video-js.vjs-youtube-style .vjs-volume-control {
          width: 0;
          transition: width 0.2s;
          height: 100%;
          backgroundcolor: rgba(0, 0, 0, 0)!important;
        }
        
        .video-js.vjs-youtube-style .vjs-volume-panel:hover .vjs-volume-control,
        .video-js.vjs-youtube-style .vjs-volume-panel:focus .vjs-volume-control,
        .video-js.vjs-youtube-style .vjs-volume-panel.vjs-hover .vjs-volume-control {
          visibility: visible;
          opacity: 1;
          width: 50px;
          height: 100%;
          backgroundcolor: rgba(0, 0, 0, 0)!important;
        }
        
        /* Settings button (Speedometer icon) */
        .vjs-youtube-settings-button .vjs-icon-placeholder:before {
          content: "";
          font-size: 18px;
        }
        
        /* Group right-aligned controls tighter */
        .vjs-youtube-right-controls {
          display: flex;
          align-items: center;
          gap: 0;
        }
        
        .vjs-speed-menu {
          position: absolute;
          bottom: 50px;
          right: 10px;
          background-color: rgba(28, 28, 28, 0.9);
          border-radius: 2px;
          padding: 8px 0;
          width: 200px;
          display: none;
          z-index: 100;
        }
        
        .vjs-speed-menu.active {
          display: block;
        }
        
        .vjs-speed-menu-item {
          padding: 8px 20px;
          color: white;
          cursor: pointer;
          display: flex;
          justify-content: space-between;
        }
        
        .vjs-speed-menu-item:hover {
          background-color: rgba(255, 255, 255, 0.1);
        }
        
        .vjs-speed-menu-item.selected {
          font-weight: bold;
        }
        
        .vjs-speed-menu-item.selected:after {
          content: "";
        }
        
        .video-js.vjs-youtube-style .vjs-volume-level {
          background-color: white;
        }

        /* Volume panel - with centered control */
        .video-js.vjs-youtube-style .vjs-volume-panel {
          display: flex;
          align-items: center;
          margin-right: 0;
        }

        /* Volume control - centered position */
        .video-js.vjs-youtube-style .vjs-volume-control {
          width: 0;
          transition: width 0.2s;
          height: 100%;
          display: flex;
          align-items: center;
        }

        /* Volume bar container */
        .video-js.vjs-youtube-style .vjs-volume-bar {
          margin: 0 auto;
          height: 3px;
        }

        /* When hovering the volume panel */
        .video-js.vjs-youtube-style .vjs-volume-panel:hover .vjs-volume-control,
        .video-js.vjs-youtube-style .vjs-volume-panel:focus .vjs-volume-control,
        .video-js.vjs-youtube-style .vjs-volume-panel.vjs-hover .vjs-volume-control {
          visibility: visible;
          opacity: 1;
          width: 50px;
          height: 100%;
        }

        /* Volume level indicator */
        .video-js.vjs-youtube-style .vjs-volume-level {
          background-color: white;
          height: 100%;
        }

        /* Volume panel - with centered control */
        .video-js.vjs-youtube-style .vjs-volume-panel {
          display: flex;
          align-items: center;
          margin-right: 0;
        }

        /* Volume control - adjust vertical position */
        .video-js.vjs-youtube-style .vjs-volume-control {
          width: 0;
          transition: width 0.2s;
          height: 100%;
          display: flex;
          align-items: center;
          margin-top:0.7px; 
        }

        /* Volume bar container - adjust position */
        .video-js.vjs-youtube-style .vjs-volume-bar {
          margin: 0 auto;
          height: 3px;
          position: relative;
          top: 0.5px; /* Move the bar down for better alignment */
        }

        /* When hovering the volume panel */
        .video-js.vjs-youtube-style .vjs-volume-panel:hover .vjs-volume-control,
        .video-js.vjs-youtube-style .vjs-volume-panel:focus .vjs-volume-control,
        .video-js.vjs-youtube-style .vjs-volume-panel.vjs-hover .vjs-volume-control {
          visibility: visible;
          opacity: 1;
          width: 50px;
          height: 100%;
        }
        
        /* Mobile touch improvements */
        .video-js .vjs-tech {
          cursor: pointer;
        }
        
        @media (max-width: 700px) {
          .video-js .vjs-control-bar {
            height: 50px; /* Larger on mobile for easier touch */
          }
          
          .video-js .vjs-button > .vjs-icon-placeholder:before {
            font-size: 24px; /* Larger icons on mobile */
            line-height: 50px;
          }
          
          /* Larger progress bar for mobile */
          .video-js .vjs-progress-control {
            height: 5px !important;
          }
          
          .video-js:hover .vjs-progress-control {
            height: 8px !important;
          }
          
          /* Ensure touch targets are large enough */
          .video-js .vjs-control {
            width: 40px;
          }
          
          .video-js .vjs-play-progress:before {
            font-size: 12px;
            top: -5px;
          }
        }
      `,document.head.appendChild(s),W4=!0}}t.ready(()=>{setTimeout(()=>{const T=t.el().querySelector(".vjs-progress-control");if(T){T.style.width="100%";const D=t.el().querySelector(".vjs-progress-holder");D&&(D.style.width="100%")}},100);const r=document.createElement("button");r.className="vjs-control vjs-button vjs-youtube-settings-button",r.type="button",r.title="Settings";const s=document.createElement("span");s.className="vjs-icon-placeholder",r.appendChild(s);const i=document.createElement("div");i.className="vjs-speed-menu",[.25,.5,.75,1,1.25,1.5,1.75,2].forEach(T=>{const D=document.createElement("div");D.className="vjs-speed-menu-item",D.textContent=T===1?"Normal":`${T}`,D.dataset.speed=T,t.playbackRate()===T&&D.classList.add("selected"),D.addEventListener("click",()=>{t.playbackRate(T),document.querySelectorAll(".vjs-speed-menu-item").forEach(j=>{j.classList.remove("selected")}),D.classList.add("selected"),i.classList.remove("active")}),i.appendChild(D)}),r.addEventListener("click",T=>{T.stopPropagation(),i.classList.toggle("active")});const l=T=>{!i.contains(T.target)&&!r.contains(T.target)&&i.classList.remove("active")};document.addEventListener("click",l),t.closeMenuHandler_=l;const c=t.getChild("controlBar").el(),u=document.createElement("div");u.className="vjs-youtube-left-controls";const h=document.createElement("div");h.className="vjs-youtube-right-controls";const f=c.querySelector(".vjs-play-control"),m=c.querySelector(".vjs-volume-panel"),g=c.querySelector(".vjs-current-time"),b=c.querySelector(".vjs-time-divider"),y=c.querySelector(".vjs-duration"),x=c.querySelector(".vjs-progress-control"),_=c.querySelector(".vjs-fullscreen-control"),S=c.querySelector(".vjs-picture-in-picture-control");Array.from(c.children).forEach(T=>{T!==x&&!u.contains(T)&&!h.contains(T)&&c.removeChild(T)}),f&&u.appendChild(f),m&&u.appendChild(m),g&&u.appendChild(g),b&&u.appendChild(b),y&&u.appendChild(y),h.appendChild(r),S&&h.appendChild(S),_&&h.appendChild(_),c.appendChild(u),c.appendChild(h),t.el().appendChild(i)})};function _ye(){var Bo,gs;const[t,e]=w.useState([]),[n,r]=w.useState(!0),[s,i]=w.useState(!0),[a,l]=w.useState(!0),[c,u]=w.useState(!1),[h,f]=w.useState(null),[m,g]=w.useState([]),[b,y]=w.useState(null),[x,_]=w.useState(!1),[S,T]=w.useState(null),[D,j]=w.useState(!1),[A,O]=w.useState([]),[L,P]=w.useState(null),[N,U]=w.useState([]),[M,q]=w.useState(!1),[E,G]=w.useState(!1),[Q,re]=w.useState(!1),[ee,Z]=w.useState(0),[K,F]=w.useState([]),[W,me]=w.useState([]),[ne,ge]=w.useState(localStorage.getItem("cart_id")||null),[we,je]=w.useState("description"),[Re,ke]=w.useState([]),[We,Je]=w.useState(!1),[nt,ct]=w.useState(0),[X,Me]=w.useState(0),[ye,se]=w.useState({}),[ie,fe]=w.useState({}),[Te,he]=w.useState(!1),[ce,ve]=w.useState(!1),Ie=mr(),[Fe,Se]=w.useState(!1),[ut,pt]=w.useState(null),[Le,Ue]=w.useState(""),[Qe,ot]=w.useState("all"),[Ke,xt]=w.useState("newest"),[ae,Be]=w.useState("all"),[Ye,_t]=w.useState(!1),[Ze,it]=w.useState(null),[te,le]=w.useState(window.innerWidth<700);w.useEffect(()=>{const Ce=()=>le(window.innerWidth<700);return window.addEventListener("resize",Ce),()=>window.removeEventListener("resize",Ce)},[]);const be=w.useRef(null),ue=w.useRef(null),Oe=w.useRef(null),wt=w.useRef(null),At=w.useRef(null),Ut=()=>{l(!a)},Ct=async()=>{var Ce;try{r(!0);const at=await vt().get(`student/course-list/${(Ce=Vt())==null?void 0:Ce.user_id}/`);e(at.data),r(!1)}catch(at){at.response&&at.response.status===401&&(Cn.remove("access_token"),Cn.remove("refresh_token"),Ie("/"))}},en=Ce=>{switch(Ce){case"Beginner":return"#28a745";case"Intermediate":return"#007bff";case"Advanced":return"#dc3545";default:return"#6c757d"}},qn=async Ce=>{try{const at=await vt().get(`/course/${Ce}/lectures/`);g(at.data)}catch{}},vr=async Ce=>{try{const at=await vt().get(`/course/${Ce}/progress/`);if(at.data&&Array.isArray(at.data.lectures)){const Xe={};at.data.lectures.forEach(bt=>{Xe[bt.lecture_id]={percentage:bt.percentage_complete||0,completed:bt.completed||!1,current_time:bt.current_time||0}}),fe(Xe)}}catch{}},Un=async Ce=>{f(Ce),await qn(Ce.id),await vr(Ce.id),u(!0)},Jt=Ce=>{it(Ce.course_id),_t(!0)},yn=()=>{u(!1),f(null),y(null),ue.current&&(ue.current.dispose(),ue.current=null)},Ir=async(Ce=null)=>{const at=Ce||At.current||b;if(!(!ue.current||!at||!h))try{const Xe=ue.current.currentTime(),bt=ue.current.duration();await vt().post(`/lecture/${at.id}/progress/`,{current_time:bt,duration:bt});const pe=await vt().post("/student/track-lecture-completion/",{lecture_id:at.id,course_id:h.id});fe(He=>({...He,[at.id]:{...He[at.id],percentage:100,completed:!0,current_time:bt}})),Qi(at.id),ts();try{const He=await vt().get(`/lecture/${at.id}/quiz/`);He.data&&He.data.quiz_id&&(pt(He.data.quiz_id),Se(!0))}catch{}}catch(Xe){Xe.response}};w.useEffect(()=>{Object.entries(ye).forEach(([Ce,at])=>{if(at&&at.percentage>=100&&t.find(bt=>bt.course.id===parseInt(Ce))){const bt=JSON.parse(localStorage.getItem("completedCourses")||"[]");bt.includes(parseInt(Ce))||(bt.push(parseInt(Ce)),localStorage.setItem("completedCourses",JSON.stringify(bt)),Jt(parseInt(Ce)))}})},[ye,t]),w.useEffect(()=>{if(ue.current)return ue.current.on("ended",Ir),()=>{ue.current&&ue.current.off("ended",Ir)}},[b,h]);const js=async(Ce,at)=>{try{Je(!0);const bt=(await vt().get(`/course/${Ce}/lecture/${at}/resources/`)).data.map(pe=>(pe.file_size&&!isNaN(parseFloat(pe.file_size))&&(pe.file_size=parseFloat(pe.file_size)),pe));ke(bt)}catch{ke([])}finally{Je(!1)}},Hn=async Ce=>{if(!(!Ce||!h)&&!((b==null?void 0:b.id)===Ce.id&&ue.current)){he(!0),y(Ce),At.current=Ce;try{let at;try{if(at=vt(),!at)throw new Error("Axios instance is not available.")}catch{he(!1);return}try{await at.post(`/lecture/${Ce.id}/progress/`,{current_time:0,duration:0})}catch{}const[Xe,bt,pe]=await Promise.all([at.get(`/lecture/${Ce.id}/progress/`).catch(et=>({data:null})),at.get(`/lecture/${Ce.id}/video-metadata/`).catch(et=>({data:null})),js(h.id,Ce.id)]);Xe!=null&&Xe.data&&(ct(Xe.data.current_time||0),Me(Xe.data.duration||0),fe(et=>({...et,[Ce.id]:{percentage:Xe.data.percentage_complete||0,completed:Xe.data.completed||!1,current_time:Xe.data.current_time||0}}))),await new Promise(et=>{if(ue.current)try{ue.current.dispose()}catch{}finally{ue.current=null,be.current=null}et()}),setTimeout(()=>{var Nt;const et=wt.current;if(!et){he(!1);return}et.firstChild;const St=document.createElement("video");if(St.className="video-js vjs-default-skin",St.setAttribute("controls","true"),St.setAttribute("preload","auto"),St.style.width="100%",St.style.height="100%",et.appendChild(St),be.current=St,!((Nt=bt==null?void 0:bt.data)!=null&&Nt.url)){be.current&&be.current.parentNode===et&&et.removeChild(be.current),be.current=null,he(!1);return}const jt={};try{ue.current=tt(be.current,jt),ue.current.ready(()=>{var Wt;if(!ue.current||ue.current.isDisposed())return;let Ft=bt.data.url;const cn=bt.data.mime_type||"video/mp4";if(Ft&&Ft.startsWith("/")){const Xt=at.defaults.baseURL||"https://127.0.0.1:8000",Sn=Xt.endsWith("/")?Xt.slice(0,-1):Xt,Nn=Ft.startsWith("/")?Ft.slice(1):Ft;Ft=`${Sn}/${Nn}`}else if(Ft&&!Ft.startsWith("http")){const Xt=at.defaults.baseURL||"https://127.0.0.1:8000";Ft=`${Xt.endsWith("/")?Xt.slice(0,-1):Xt}/${Ft}`}Ft=Ft.replace(/\\/g,"/"),ue.current.src({src:Ft,type:cn}),ue.current.on("timeupdate",as),ue.current.on("loadedmetadata",zr),ue.current.on("ended",()=>{At.current&&Ir(At.current)}),ue.current.on("error",()=>{he(!1)}),ue.current.on("loadeddata",()=>{he(!1)}),ue.current.on("canplay",()=>{}),Gi(ue.current),vye(ue.current);const mn=(Wt=Xe==null?void 0:Xe.data)==null?void 0:Wt.current_time;mn&&mn>0&&ue.current.currentTime(mn),Te&&he(!1)}),ue.current.on("loadedmetadata",()=>{if(At.current&&At.current.id===Ce.id){const Ft=ue.current.duration();Ft&&!isNaN(Ft)&&at.post(`/lecture/${Ce.id}/progress/`,{current_time:0,duration:Ft}).catch(()=>{})}})}catch{be.current&&be.current.parentNode===et&&et.removeChild(be.current),be.current=null,he(!1)}},100)}catch{he(!1)}}},zr=()=>{try{if(!ue.current||!b)return;const Ce=ue.current.duration();if(isNaN(Ce)||Ce<=0)return;Me(Ce),nt>0&&nt<Ce&&ue.current.currentTime(nt),b.chapters&&b.chapters.length&&zs(ue.current,b),Fo(ue.current)}catch{}},as=()=>{if(!(!ue.current||!b))try{const Ce=ue.current.currentTime(),at=ue.current.duration();if(isNaN(Ce)||isNaN(at)||at<=0)return;const Xe=Ns(Ce),bt=Ns(at);ct(Ce);const pe=Math.round(Ce/at*100);fe(et=>({...et,[b.id]:{...et[b.id],percentage:pe,current_time:Ce}}));const He=ue.current.lastProgressSave||0;Ce-He>=10&&(vn(),ue.current.lastProgressSave=Ce)}catch{}},vn=async()=>{if(!(!ue.current||!b))try{const Ce=ue.current.currentTime(),at=ue.current.duration();if(isNaN(Ce)||isNaN(at)||at<=0)return;Oe.current&&clearTimeout(Oe.current),Oe.current=setTimeout(async()=>{var Xe;try{const bt=await vt().post(`/lecture/${b.id}/progress/`,{current_time:Ce,duration:at});if(bt.data){const pe=((Xe=ie[b.id])==null?void 0:Xe.completed)||!1,He=bt.data.completed||!1;fe(et=>({...et,[b.id]:{percentage:bt.data.percentage_complete||0,completed:bt.data.completed||!1,current_time:bt.data.current_time||0}})),!pe&&He&&ts()}}catch{}},1e3)}catch{}};w.useEffect(()=>()=>{Oe.current&&(clearTimeout(Oe.current),Oe.current=null),ue.current&&b&&vn()},[b]),w.useEffect(()=>()=>{if(ue.current)try{ue.current.closeMenuHandler_&&document.removeEventListener("click",ue.current.closeMenuHandler_),ue.current.dispose()}catch{}finally{ue.current=null}},[]);const Fo=Ce=>{Ce&&Ce.ready(()=>{const at=Ce.tech().el_;at.preload="auto";const Xe=Nt=>{if(!Nt||isNaN(Nt)||Nt<=0)return null;const Ft=2,cn=[],mn=[];for(let Wt=0;Wt<=Nt;Wt+=Ft){const Xt=Wt/Nt;cn.push({time:Wt,position:Xt}),mn.push({index:cn.length-1,time:Wt.toFixed(2)+"s",position:(Xt*100).toFixed(2)+"%",formatTime:Ns(Wt)})}return cn.length>0&&(cn.length>=3&&Math.floor(cn.length/2),cn.length-1),cn},bt=(Nt,Ft)=>{if(!Nt||Nt.length===0)return null;let cn=Nt[0],mn=Math.abs(Ft-cn.time);for(let Wt=1;Wt<Nt.length;Wt++){const Xt=Math.abs(Ft-Nt[Wt].time);Xt<mn&&(mn=Xt,cn=Nt[Wt])}return cn};let pe=null;Ce.on("loadedmetadata",()=>{const Nt=Ce.duration();Nt&&Nt>0&&(pe=Xe(Nt))}),Ce.on("seeking",()=>{Ce.addClass("vjs-seeking")}),Ce.on("seeked",()=>{Ce.removeClass("vjs-seeking"),ct(Ce.currentTime())});const He=Ce.el().querySelector(".vjs-progress-holder");if(!He)return;const et=function(Nt){Nt.preventDefault(),Nt.stopPropagation();const Ft=He.getBoundingClientRect(),cn=Nt.clientX-Ft.left,mn=Math.max(0,Math.min(1,cn/Ft.width)),Wt=Ce.duration();if(isNaN(Wt)||Wt<=0)return!1;let Xt=mn*Wt;if(pe){const Sn=bt(pe,Xt);Sn&&Math.abs(Xt-Sn.time)<.5&&(Xt=Sn.time)}try{Ce.addClass("vjs-seeking"),ct(Xt);const Sn=!Ce.paused();Sn&&Ce.pause(),at.currentTime=Xt,Ce.currentTime(Xt);const Nn=function(){Sn&&Ce.play(),Ce.off("seeked",Nn)};Ce.on("seeked",Nn),setTimeout(()=>{vn()},500)}catch{Ce.removeClass("vjs-seeking")}return!1};He.onclick=null,He._clickHandler&&He.removeEventListener("click",He._clickHandler),He._clickHandler=et,He.addEventListener("click",et);const St=()=>{const Nt=()=>{try{const Ft=Ce.buffered(),cn=Ce.duration();if(!Ft||!cn)return;const mn=Ce.el().querySelector(".vjs-load-progress");if(!mn)return;mn.innerHTML="";for(let Wt=0;Wt<Ft.length;Wt++){const Xt=Ft.start(Wt)/cn*100,Sn=(Ft.end(Wt)-Ft.start(Wt))/cn*100,Nn=document.createElement("div");Nn.className="vjs-load-progress-segment",Nn.style.left=Xt+"%",Nn.style.width=Sn+"%",mn.appendChild(Nn)}}catch{}};Ce.on("progress",Nt)},jt=document.createElement("style");jt.textContent=`
      .video-js.vjs-seeking .vjs-loading-spinner {
        display: block;
        opacity: 0.8;
        visibility: visible;
      }
      
      .video-js .vjs-progress-holder:hover {
        cursor: pointer;
        height: 6px;
      }
      
      .video-js .vjs-play-progress {
        background-color: generate-color;
      }
      
      .video-js .vjs-time-tooltip {
        padding: 2px 5px;
        background-color: #000;
        border-radius: 3px;
      }
      
     
      .video-js .vjs-load-progress-segment {
        background-color: rgba(255, 255, 255, 0);
      }
    `,Ce.el().appendChild(jt),St()})},Ns=Ce=>{if(Ce==null||isNaN(Ce)||Ce<0)return"0:00";if(Ce>=3600){const bt=Math.floor(Ce/3600),pe=Math.floor(Ce%3600/60),He=Math.floor(Ce%60);return`${bt}:${pe.toString().padStart(2,"0")}:${He.toString().padStart(2,"0")}`}const at=Math.floor(Ce/60),Xe=Math.floor(Ce%60);return`${at}:${Xe.toString().padStart(2,"0")}`},zs=(Ce,at)=>{!Ce||!at.chapters||!at.chapters.length||Ce.ready(()=>{const Xe=Ce.duration();if(!Xe)return;let bt=Ce.el().querySelector(".vjs-chapter-markers");if(!bt){bt=document.createElement("div"),bt.className="vjs-chapter-markers",bt.style.position="absolute",bt.style.bottom="34px",bt.style.width="100%",bt.style.height="3px",bt.style.pointerEvents="none";const pe=Ce.el().querySelector(".vjs-progress-control");pe&&pe.appendChild(bt)}bt.innerHTML="",at.chapters.forEach(pe=>{const He=document.createElement("div");He.className="vjs-chapter-marker",He.style.position="absolute",He.style.height="100%",He.style.width="2px",He.style.backgroundColor="rgba(255, 255, 255, 0.5)",He.style.left=`${pe.time/Xe*100}%`,bt.appendChild(He)})})},Gi=Ce=>{if(!Ce)return;let at=!0,Xe=null;const bt=()=>{Ce.isDisposed()||(Ce.addClass("vjs-controls-hidden"),at=!1)},pe=()=>{Ce.isDisposed()||(Ce.removeClass("vjs-controls-hidden"),at=!0,Xe&&clearTimeout(Xe),Xe=setTimeout(()=>{bt()},15e3))},He=()=>{at?bt():pe()};Ce.on("click",jt=>{!jt.target.classList.contains("vjs-tech")&&!jt.target.classList.contains("vjs-poster")||He()}),pe(),Ce.on("pause",()=>{pe()}),Ce.on("useractive",()=>{pe()});const et=Ce.el().querySelector(".vjs-tech");et&&et.addEventListener("touchstart",()=>{He()});const St=document.createElement("style");St.textContent=`
    .video-js.vjs-controls-hidden .vjs-control-bar {
      opacity: 0 !important;
      pointer-events: none;
      transition: opacity 0.3s ease;
    }
    
    .video-js:not(.vjs-controls-hidden) .vjs-control-bar {
      opacity: 1 !important;
      pointer-events: auto;
      transition: opacity 0.3s ease;
    }
  `,document.head.appendChild(St)},os=Ce=>{const at=document.createElement("a");fetch(Ce.file_url).then(Xe=>Xe.blob()).then(Xe=>{const bt=window.URL.createObjectURL(Xe);at.href=bt,at.download=Ce.title+(Ce.file_type?"."+Ce.file_type:""),at.target="_self",document.body.appendChild(at),at.click(),setTimeout(()=>{document.body.removeChild(at),window.URL.revokeObjectURL(bt)},100)}).catch(Xe=>{dt().fire({icon:"error",title:"Download failed. Please try again."})})};w.useEffect(()=>{var Xe;const Ce=setTimeout(()=>{i(!1)},3e3);if(!((Xe=Vt())==null?void 0:Xe.user_id)){Cn.remove("access_token"),Cn.remove("refresh_token"),Ie("/");return}return Ct(),ts(),()=>clearTimeout(Ce)},[]),w.useEffect(()=>{const Ce=localStorage.getItem("user_cart");if(Ce)try{const Xe=JSON.parse(Ce);U(Xe);const bt=Xe.reduce((pe,He)=>{const et=typeof He.price=="string"?parseFloat(He.price):He.price;return pe+(isNaN(et)?0:et)},0);Z(bt)}catch{}const at=localStorage.getItem("cart_id");at&&ge(at)},[]),w.useEffect(()=>{(async()=>{var at;try{if(!((at=Vt())==null?void 0:at.user_id))return;const bt=localStorage.getItem("user_cart");if(bt)try{const pe=JSON.parse(bt);U(pe);const He=pe.reduce((et,St)=>{const jt=typeof St.price=="string"?parseFloat(St.price):St.price;return et+(isNaN(jt)?0:jt)},0);Z(He)}catch{}else{const pe=localStorage.getItem("cart_id");if(pe){const He=await vt().get(`/course/cart-list/${pe}/`);if(He.data&&Array.isArray(He.data)){const et=He.data.map(jt=>({id:jt.course.id,title:jt.course.title,price:parseFloat(jt.price).toFixed(2),image:jt.course.image,level:jt.course.level,cartId:pe}));U(et),localStorage.setItem("user_cart",JSON.stringify(et));const St=et.reduce((jt,Nt)=>{const Ft=typeof Nt.price=="string"?parseFloat(Nt.price):Nt.price;return jt+(isNaN(Ft)?0:parseFloat(Ft))},0);Z(St)}}}}catch{}})()},[]),w.useEffect(()=>{(async()=>{var pe;const at=(pe=Vt())==null?void 0:pe.user_id;if(!at)return;let Xe=localStorage.getItem("cart_id");const bt=`user_${at}`;(!Xe||!Xe.includes(at))&&(Xe=bt,localStorage.setItem("cart_id",Xe),ge(Xe));try{const He=await vt().get(`/course/cart-list/${Xe}/`);if(He.data&&Array.isArray(He.data)){const et=He.data.map(jt=>({id:jt.course.id,title:jt.course.title,price:parseFloat(jt.price).toFixed(2),image:jt.course.image,level:jt.course.level}));U(et);const St=et.reduce((jt,Nt)=>{const Ft=typeof Nt.price=="string"?parseFloat(Nt.price):Nt.price;return jt+(isNaN(Ft)?0:parseFloat(Ft))},0);Z(St)}}catch{}})()},[(Bo=Vt())==null?void 0:Bo.user_id]),w.useEffect(()=>{var Xe;const Ce=new URLSearchParams(window.location.search);if(Ce.get("payment")==="success"){dt().fire({icon:"success",title:"Payment Successful!",text:"Your course enrollment is complete. You can now access your courses."});const bt=window.location.pathname;window.history.replaceState({},document.title,bt),Ce.get("order")&&(Ct(),U([]),(Xe=Vt())!=null&&Xe.user_id&&(localStorage.removeItem("user_cart"),_r()))}},[]);const wn=Ce=>{const at=Ce.target.value;Ue(at)},so=Ce=>{T(Ce),_(!0)},ba=()=>{_(!1),T(null)},Ki=async()=>{var Ce;try{const at=(Ce=Vt())==null?void 0:Ce.user_id;if(!at)return;const bt=(await vt().get(`/student/unbought-courses/${at}/`)).data.map(pe=>{if(!pe.image)return pe;if(!pe.image.startsWith("http")&&!pe.image.startsWith("https")){const He=pe.image.startsWith("/")?pe.image:`/${pe.image}`;return{...pe,image:`${bi}${He}`}}return pe});O(bt)}catch{}},er=async()=>{try{const Ce=await vt().get("/subscription/")}catch{dt().fire({icon:"error",title:"Failed to fetch subscription details."})}},io=async()=>{await Ki(),await er(),await Si(),j(!0)},xa=()=>{j(!1)},ri=async Ce=>{try{const at=await vt().post("/subscription/add-courses/",{course_id:Ce});if(at.data.message)if(at.data.courses&&at.data.courses.length>0){const Xe=at.data.courses[0],bt={course:Xe,completed_lesson:[],date:new Date().toISOString()};e(pe=>[...pe,bt]),Ct(),dt().fire({icon:"success",title:`${Xe.title} added to your courses!`}),O(A.filter(pe=>pe.id!==Ce))}else dt().fire({icon:"success",title:"Course added to your library!"}),Ct(),Ki()}catch(at){at.response&&at.response.data,dt().fire({icon:"error",title:"Failed to add course to your library."})}},Ds=async Ce=>{var at;try{const Xe=typeof Ce.price=="string"?parseFloat(Ce.price):Ce.price;if(isNaN(Xe)){dt().fire({icon:"error",title:"Cannot add course with invalid price."});return}if(N.some(et=>et.id===Ce.id)){dt().fire({icon:"info",title:"This course is already in your cart"});return}const pe=(at=Vt())==null?void 0:at.user_id;if(!pe){dt().fire({icon:"error",title:"You must be logged in to add items to cart"});return}const He=`user_${pe}`;localStorage.setItem("cart_id",He),await vt().post("/course/cart/",{course_id:Ce.id,user_id:pe,price:Xe,country_name:"South Africa",cart_id:He}),await Ci(He),dt().fire({icon:"success",title:`${Ce.title} added to cart!`})}catch{dt().fire({icon:"error",title:"Failed to add course to cart."})}},ao=async Ce=>{var at;try{const Xe=(at=Vt())==null?void 0:at.user_id;if(!Xe){dt().fire({icon:"error",title:"You must be logged in to manage your cart"});return}const bt=localStorage.getItem("cart_id")||`user_${Xe}`;await vt().delete(`/course/cart-item-delete/${bt}/${Ce}/`),await Ci(bt),dt().fire({icon:"success",title:"Item removed from cart"})}catch{dt().fire({icon:"error",title:"Failed to remove item from cart"})}},si=()=>N.reduce((at,Xe)=>{const bt=typeof Xe.price=="string"?parseFloat(Xe.price):Xe.price;return at+(isNaN(bt)?0:bt)},0),va=async()=>{var Ce,at,Xe;try{if(re(!0),N.length===0){dt().fire({icon:"warning",title:"Your cart is empty!"});return}const bt=(Ce=Vt())==null?void 0:Ce.user_id;if(!bt){dt().fire({icon:"error",title:"You must be logged in to checkout"});return}const pe=`user_${bt}`,He=await vt().post("/order/create-order/",{full_name:((at=Vt())==null?void 0:at.full_name)||"",email:((Xe=Vt())==null?void 0:Xe.email)||"",country:"South Africa",cart_id:pe,user_id:bt});if(!He.data||!He.data.order_oid)throw new Error("Failed to create order");const et=He.data.order_oid,St=await vt().post("/payment/create-checkout/",{order_oid:et,amount:si()*100});if(St.data&&St.data.redirectUrl)dt().fire({icon:"info",title:"Redirecting to payment page..."}),window.location.href=St.data.redirectUrl;else throw new Error("No redirect URL received from payment processor")}catch(bt){let pe="Payment processing error. Please try again.";bt.response&&bt.response.data&&(bt.response.data.error&&(pe=bt.response.data.error),bt.response.data.details),dt().fire({icon:"error",title:pe})}finally{re(!1)}},_r=async()=>{try{const Ce=localStorage.getItem("cart_id");if(!Ce)return;for(const at of N)await vt().delete(`/course/cart-item-delete/${Ce}/${at.id}/`);await Si(),dt().fire({icon:"success",title:"Cart cleared"})}catch{dt().fire({icon:"error",title:"Failed to clear cart"})}},Si=async(Ce=!1)=>{var at;try{const Xe=(at=Vt())==null?void 0:at.user_id;if(!Xe)return;let bt=localStorage.getItem("cart_id");if(!bt||Ce){const He=new Date().getTime(),et=Math.random().toString(36).substring(2,8);bt=`cart_${He}_${et}_${Xe}`,localStorage.setItem("cart_id",bt),ge(bt)}const pe=await vt().get(`/course/cart-list/${bt}/`);if(pe.data&&Array.isArray(pe.data)){const He=pe.data.map(St=>({id:St.course.id,title:St.course.title,price:parseFloat(St.price).toFixed(2),image:St.course.image,level:St.course.level,cartItemId:St.id}));U(He);const et=He.reduce((St,jt)=>{const Nt=typeof jt.price=="string"?parseFloat(jt.price):jt.price;return St+(isNaN(Nt)?0:parseFloat(Nt))},0);Z(et)}else U([]),Z(0)}catch{}},Ur=async()=>{await Si(),q(!0)},Ci=async Ce=>{try{if(!Ce&&(Ce=localStorage.getItem("cart_id"),!Ce))return;const at=await vt().get(`/course/cart-list/${Ce}/`);if(at.data&&Array.isArray(at.data)){const Xe=at.data.map(pe=>({id:pe.course.id,title:pe.course.title,price:parseFloat(pe.price).toFixed(2),image:pe.course.image,level:pe.course.level}));U(Xe);const bt=Xe.reduce((pe,He)=>{const et=typeof He.price=="string"?parseFloat(He.price):He.price;return pe+(isNaN(et)?0:parseFloat(et))},0);Z(bt)}}catch{}},Xi=()=>{q(!1),G(!0)},Ti=()=>{let Ce=[...t];Le&&(Ce=Ce.filter(Xe=>Xe.course.title.toLowerCase().includes(Le.toLowerCase()))),Qe==="completed"?Ce=Ce.filter(Xe=>(ye[Xe.course.id]||{percentage:0}).percentage>=100):Qe==="in_progress"&&(Ce=Ce.filter(Xe=>{const bt=ye[Xe.course.id]||{percentage:0};return bt.percentage>0&&bt.percentage<100})),Ce.sort((Xe,bt)=>Ke==="newest"?new Date(bt.date)-new Date(Xe.date):Ke==="oldest"?new Date(Xe.date)-new Date(bt.date):Ke==="title_asc"?Xe.course.title.localeCompare(bt.course.title):Ke==="title_desc"?bt.course.title.localeCompare(Xe.course.title):0);const at={Beginner:Ce.filter(Xe=>Xe.course&&Xe.course.level==="Beginner"),Intermediate:Ce.filter(Xe=>Xe.course&&Xe.course.level==="Intermediate"),Advanced:Ce.filter(Xe=>Xe.course&&Xe.course.level==="Advanced")};if(ae&&ae!=="all"){const Xe={};return Xe[ae]=at[ae],Xe}return at},ts=async()=>{var Ce;try{const at=(Ce=Vt())==null?void 0:Ce.user_id;if(!at)return;const Xe=await vt().get(`/student/${at}/progress/`);if(Xe.data&&Array.isArray(Xe.data)){const bt={};Xe.data.forEach(pe=>{bt[pe.course_id]={percentage:pe.progress||0,completed_lectures:pe.completed_lectures||0,total_lectures:pe.total_lectures||0}}),se(bt)}}catch{}},Qi=async Ce=>{try{const at=await vt().get(`/lecture/${Ce}/progress/`);if(at.data)return fe(Xe=>({...Xe,[Ce]:{percentage:at.data.percentage_complete||0,completed:at.data.completed||!1,current_time:at.data.current_time||0}})),at.data}catch{return null}};w.useEffect(()=>()=>{Oe.current&&clearTimeout(Oe.current),ue.current&&b&&vn()},[b]);const ki=Ce=>Ce?(Ce=Ce.toLowerCase(),Ce==="pdf"?"file-pdf":["doc","docx"].includes(Ce)?"file-word":["xls","xlsx"].includes(Ce)?"file-excel":["ppt","pptx"].includes(Ce)?"file-powerpoint":["jpg","jpeg","png","gif"].includes(Ce)?"file-image":["mp3","wav","ogg"].includes(Ce)?"file-audio":["mp4","mov","avi"].includes(Ce)?"file-video":["zip","rar","7z"].includes(Ce)?"file-archive":"file"):"file",_a=Ce=>{if(Ce==null||isNaN(Ce))return"Unknown size";if(Ce===0)return"0 KB";const at=["KB","MB","GB","TB"];if(Ce<1024)return"1 KB";const Xe=Ce/1024,bt=Math.floor(Math.log(Xe)/Math.log(1024));let pe=0;return bt===1?pe=1:bt>=2&&(pe=2),`${(Xe/Math.pow(1024,bt)).toFixed(pe)} ${at[bt]}`};return w.useEffect(()=>{async function Ce(){try{const at=await vt().get("/user/appearance-settings/");at.data&&at.data.dark_mode!==void 0&&ve(at.data.dark_mode)}catch{}}Ce()},[]),o.jsxs("div",{style:{display:"flex",minHeight:"100vh"},children:[!te&&o.jsx(Sc,{sidebarCollapsed:a}),o.jsxs("div",{style:{flex:1,marginLeft:te?0:a?"80px":"270px",transition:"margin-left 0.3s ease"},children:[o.jsx(Yi,{sidebarCollapsed:a,toggleSidebar:Ut,children:o.jsxs("button",{className:"btn btn-secondary",onClick:Xi,style:{marginLeft:"auto"},children:["Cart (",N.length,")"]})}),o.jsxs("div",{style:{padding:"20px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[o.jsx("h4",{children:"My Courses"}),o.jsx("button",{className:"btn btn-primary",onClick:io,children:"Add More"})]}),o.jsx("div",{className:"mb-4",children:o.jsxs(Cs,{children:[o.jsx(An,{md:4,className:"mb-3 mb-md-0",children:o.jsx(qe.Group,{children:o.jsxs(xA,{children:[o.jsx(xA.Text,{children:o.jsx("i",{className:"fas fa-search"})}),o.jsx(qe.Control,{type:"search",placeholder:"Search your courses",value:Le,onChange:wn,style:{backgroundColor:ce?"rgb(255, 255, 255)":"rgb(247, 247, 247)",border:ce?"1px solid rgba(89, 89, 89, 0.8)":"1px solid rgba(164, 164, 164, 0.8)",color:"black"}})]})})}),o.jsx(An,{md:3,children:o.jsx(qe.Group,{children:o.jsxs(qe.Select,{value:ae,onChange:Ce=>Be(Ce.target.value),className:ce?"bg-dark text-white border-secondary":"",style:{backgroundColor:ce?"rgb(255, 255, 255)":"rgb(247, 247, 247)",border:ce?"1px solid rgba(89, 89, 89, 0.8)":"1px solid rgba(164, 164, 164, 0.8)",color:"black"},children:[o.jsx("option",{value:"all",children:"All Categories"}),o.jsx("option",{value:"Beginner",children:"Beginner"}),o.jsx("option",{value:"Intermediate",children:"Intermediate"}),o.jsx("option",{value:"Advanced",children:"Advanced"})]})})}),o.jsx(An,{md:3,children:o.jsx(qe.Group,{children:o.jsxs(qe.Select,{value:Ke,onChange:Ce=>xt(Ce.target.value),className:ce?"bg-dark text-white border-secondary":"",style:{backgroundColor:ce?"rgb(255, 255, 255)":"rgb(247, 247, 247)",border:ce?"1px solid rgba(89, 89, 89, 0.8)":"1px solid rgba(164, 164, 164, 0.8)",color:"black"},children:[o.jsx("option",{value:"newest",children:"Newest First"}),o.jsx("option",{value:"oldest",children:"Oldest First"}),o.jsx("option",{value:"title_asc",children:"Title (A-Z)"}),o.jsx("option",{value:"title_desc",children:"Title (Z-A)"})]})})}),o.jsx(An,{md:2,children:o.jsx(qe.Group,{children:o.jsxs(qe.Select,{value:Qe,onChange:Ce=>ot(Ce.target.value),className:ce?"bg-dark text-white border-secondary":"",style:{backgroundColor:ce?"rgb(255, 255, 255)":"rgb(247, 247, 247)",border:ce?"1px solid rgba(89, 89, 89, 0.8)":"1px solid rgba(164, 164, 164, 0.8)",color:"black"},children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"completed",children:"Completed"}),o.jsx("option",{value:"in_progress",children:"In Progress"})]})})})]})}),n&&o.jsx("p",{children:"Loading..."}),!n&&Object.keys(Ti()).map(Ce=>{const at=Ti()[Ce];return at.length===0?null:o.jsxs("div",{style:{marginBottom:"40px"},children:[o.jsxs("h5",{children:[Ce," Courses"]}),o.jsxs(Cs,{children:[at.slice(0,5).map((Xe,bt)=>{const pe=ye[Xe.course.id]||{percentage:0},He=pe.percentage>=100;return o.jsx(An,{md:6,lg:4,xl:3,className:"mb-4",children:o.jsxs($t,{className:`h-100 ${ce?"bg-dark text-white":""}`,style:{boxShadow:ce?"0 0 10px rgba(0, 0, 0, 0.5)":"0 0 10px rgba(0, 0, 0, 0.1)",border:"none",overflow:"hidden"},children:[o.jsx("div",{className:"position-relative",children:o.jsxs("div",{style:{height:"180px",overflow:"hidden"},children:[Xe.course.image?o.jsx("img",{src:Xe.course.image,alt:"course",style:{width:"100%",height:"100%",objectFit:"cover"}}):o.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#4286f4",color:"white",fontSize:"32px",fontWeight:"bold"},children:Xe.course.title&&typeof Xe.course.title=="string"?Xe.course.title.charAt(0).toUpperCase():"?"}),He&&o.jsx("div",{style:{position:"absolute",top:"10px",right:"10px",backgroundColor:"#28a745",color:"white",padding:"3px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:"bold"},children:"Completed"}),Xe.added_via_subscription&&o.jsx("div",{style:{position:"absolute",top:He?"40px":"10px",right:"10px",backgroundColor:"#007bff",color:"white",padding:"3px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:"bold"},children:"Subscription"})]})}),o.jsxs($t.Body,{className:"d-flex flex-column",children:[o.jsx("div",{className:"fw-bold mb-2",style:{fontSize:"16px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:Xe.course.title}),o.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[o.jsx("span",{style:{backgroundColor:en(Xe.course.level),color:"white",padding:"2px 6px",borderRadius:"4px",fontSize:"11px"},children:Xe.course.level}),o.jsx("small",{style:{color:ce?"#aaa":"#6c757d"},children:zt(Xe.date).format("MMM D, YYYY")})]}),o.jsx("div",{className:"progress mb-3",style:{height:"5px"},children:o.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${pe.percentage}%`,backgroundColor:"#EF4135"}})}),o.jsxs("div",{className:"mt-auto",children:[o.jsx("button",{className:"btn btn-primary w-100",onClick:()=>Un(Xe.course),children:pe.percentage>0?"Continue":"Start"}),pe&&pe.percentage>=100&&o.jsxs("button",{className:"btn btn-outline-success btn-sm mt-2",onClick:et=>{et.stopPropagation(),Jt(Xe.course)},children:[o.jsx("i",{className:"fas fa-certificate me-1"}),"View Certificate"]})]})]})]})},bt)}),at.length>5&&o.jsx(An,{md:6,lg:4,xl:3,className:"mb-4",children:o.jsx($t,{className:`h-100 d-flex justify-content-center align-items-center ${ce?"bg-dark text-white":""}`,style:{backgroundColor:"#007bff",color:"white",cursor:"pointer",boxShadow:ce?"0 0 10px rgba(0, 0, 0, 0.5)":"0 0 10px rgba(0, 0, 0, 0.1)",height:"280px"},onClick:()=>so(Ce),children:o.jsxs($t.Body,{className:"d-flex flex-column justify-content-center align-items-center text-center",children:[o.jsx("i",{className:"fas fa-th-large mb-3",style:{fontSize:"32px"}}),o.jsx("h5",{children:"View More"})]})})})]})]},Ce)}),t.length===0&&!n&&o.jsx("p",{children:"No courses found. Start adding courses!"})]})]}),c&&h&&o.jsx("div",{className:`lecture-popup ${ce?"dark":""}`,style:{position:"fixed",top:te?"0":"60px",left:te?"0":a?"80px":"270px",width:te?"100%":`calc(100% - ${a?"80px":"270px"})`,height:te?"100vh":"calc(100vh - 60px)",backgroundColor:ce?"#121212":"#fff",color:ce?"#e0e0e0":"inherit",zIndex:1e3,display:"flex",flexDirection:te?"column":"row",overflow:"hidden",transition:"left 0.3s ease, width 0.3s ease"},children:te?o.jsxs(o.Fragment,{children:[o.jsxs("div",{style:{padding:"15px",backgroundColor:ce?"#1e1e1e":"#f8f8f8",borderBottom:ce?"1px solid #333":"1px solid #eee",display:"flex",alignItems:"center",justifyContent:"space-between",zIndex:10},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[o.jsx("div",{style:{marginRight:"15px"},children:o.jsx(V4,{percentage:m.length>0?Math.round(Object.values(ie).filter(Ce=>Ce.completed).length/m.length*100):0,size:50,strokeWidth:5,strokeColor:"#4285f4"})}),o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:"bold",fontSize:"14px"},children:"COURSE PROGRESS"}),o.jsxs("div",{style:{fontSize:"12px",color:"#777"},children:[Object.values(ie).filter(Ce=>Ce.completed).length,"/",m.length]})]})]}),o.jsx("button",{onClick:yn,style:{background:"none",border:"none",fontSize:"22px",cursor:"pointer",color:"#666",padding:"8px"},children:""})]}),o.jsx("div",{style:{padding:"10px 15px",backgroundColor:ce?"#1e1e1e":"#f8f8f8",color:ce?"#e0e0e0":"#333",borderBottom:ce?"1px solid #333":"1px solid #eee",fontWeight:"bold",fontSize:"16px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:h.title}),o.jsx("div",{ref:wt,style:{width:"100%",height:"30vh",backgroundColor:"#000",position:"relative",overflow:"hidden"},children:Te&&o.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.7)",zIndex:10},children:o.jsx("div",{className:"spinner-border text-light",role:"status",children:o.jsx("span",{className:"visually-hidden",children:"Loading..."})})})}),o.jsxs("div",{style:{display:"flex",borderBottom:ce?"1px solid #333":"1px solid #ddd",backgroundColor:ce?"#1e1e1e":"#f8f8f8",flexShrink:0},children:[o.jsx("div",{onClick:()=>je("description"),style:{padding:"10px 15px",cursor:"pointer",fontWeight:we==="description"?"bold":"normal",color:we==="description"?"#4285f4":ce?"#e0e0e0":"inherit",borderBottom:we==="description"?"2px solid #4285f4":"none",width:"50%",textAlign:"center"},children:"Description"}),o.jsx("div",{onClick:()=>je("resources"),style:{padding:"10px 15px",cursor:"pointer",fontWeight:we==="resources"?"bold":"normal",color:we==="resources"?"#4285f4":ce?"#e0e0e0":"inherit",borderBottom:we==="resources"?"2px solid #4285f4":"none",width:"50%",textAlign:"center"},children:"Resources"})]}),o.jsxs("div",{style:{flex:"0 0 auto",height:"20vh",overflowY:"auto",padding:"15px",backgroundColor:ce?"#121212":"#fff",color:ce?"#e0e0e0":"inherit"},children:[we==="description"&&b&&o.jsxs("div",{children:[o.jsx("h5",{children:b.title||"Lecture Title"}),o.jsx("p",{children:b.description||"Lecture description goes here..."})]}),we==="resources"&&o.jsxs("div",{children:[o.jsx("h5",{children:"Resources"}),We?o.jsx("div",{className:"d-flex justify-content-center my-4",children:o.jsx("div",{className:"spinner-border text-primary",role:"status",children:o.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):Re.length>0?o.jsx("div",{className:"list-group mt-2",children:Re.map(Ce=>{var at;return o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px",marginBottom:"8px",borderRadius:"4px",cursor:"pointer",backgroundColor:ce?"#2a2a2a":"#fff",border:ce?"1px solid #444":"1px solid rgb(0, 114, 254)",color:ce?"#e0e0e0":"inherit"},className:"list-group-item-action",children:[o.jsx("div",{children:o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("i",{className:`fas fa-${ki(Ce.file_type)} me-2 text-primary`,style:{fontSize:"14px"}}),o.jsxs("div",{children:[o.jsx("h6",{className:"mb-0",style:{color:ce?"#fff":"inherit",fontSize:"14px"},children:Ce.title}),o.jsxs("small",{style:{color:ce?"#aaa":"#6c757d",fontSize:"12px"},children:[((at=Ce.file_type)==null?void 0:at.toUpperCase())||"Unknown","  ",_a(Ce.file_size)]})]})]})}),o.jsx("button",{style:{color:ce?"#4285f4":"",borderColor:"#4285f4",backgroundColor:ce?"transparent":"",padding:"4px 8px",fontSize:"12px"},className:"btn btn-sm btn-outline-primary",onClick:()=>os(Ce),children:o.jsx("i",{className:"fas fa-download"})})]},Ce.id)})}):b?o.jsxs("div",{className:"alert mt-3",style:{backgroundColor:ce?"#2a3f54":"#cff4fc",color:ce?"#8fcaff":"#055160",borderColor:ce?"#1f3146":"#b6effb"},children:[o.jsx("i",{className:"fas fa-info-circle me-2"}),"No resources available for this lecture."]}):o.jsx("p",{style:{color:ce?"#aaa":"#6c757d"},className:"mt-3",children:"Select a lecture to view its resources."})]}),!b&&we==="description"&&o.jsx("p",{children:"Select a lecture to view its description."})]}),o.jsxs("div",{style:{flex:1,overflowY:"auto",backgroundColor:ce?"#121212":"#fff",borderTop:ce?"1px solid #333":"1px solid #eee"},children:[o.jsx("div",{style:{padding:"10px 15px",backgroundColor:ce?"#1e1e1e":"#f8f8f8",borderBottom:ce?"1px solid #333":"1px solid #eee",fontSize:"14px",fontWeight:"bold"},children:"Lectures"}),o.jsx("ul",{style:{listStyle:"none",padding:"0",margin:0},children:m.map(Ce=>{const at=ie[Ce.id]||{completed:!1},Xe=(b==null?void 0:b.id)===Ce.id;return o.jsxs("li",{style:{cursor:"pointer",padding:"12px 15px",backgroundColor:Xe?"#4285f4":ce?"#121212":"transparent",color:Xe?"rgb(255, 255, 255)":ce?"#e0e0e0":"#333",borderBottom:ce?"1px solid #333":"1px solid #eee",display:"flex",alignItems:"center",transition:"all 0.2s ease"},onClick:()=>Hn(Ce),children:[o.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",marginRight:"10px",backgroundColor:Xe?"#fff":at.completed?"#4285f4":ce?"#555":"#ccc"}}),o.jsx("span",{style:{fontSize:"14px"},children:Ce.title})]},Ce.id)})})]}),Fe&&ut&&o.jsx(U4,{quizId:ut,show:Fe,onClose:()=>Se(!1)})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{style:{flex:2,display:"flex",flexDirection:"column",height:"100%",overflow:"hidden",borderRight:ce?"1px solid #333":"1px solid #ddd"},children:[o.jsx("div",{ref:wt,style:{width:"100%",height:"60%",backgroundColor:"#000",position:"relative",overflow:"hidden"},children:Te&&o.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.7)",zIndex:10},children:o.jsx("div",{className:"spinner-border text-light",role:"status",children:o.jsx("span",{className:"visually-hidden",children:"Loading..."})})})}),o.jsxs("div",{style:{display:"flex",borderBottom:ce?"1px solid #333":"1px solid #ddd",backgroundColor:ce?"#1e1e1e":"#f8f8f8",flexShrink:0},children:[o.jsx("div",{onClick:()=>je("description"),style:{padding:"10px 20px",cursor:"pointer",fontWeight:we==="description"?"bold":"normal",color:ce?"#e0e0e0":"inherit"},children:"Description"}),o.jsx("div",{onClick:()=>je("resources"),style:{padding:"10px 20px",cursor:"pointer",fontWeight:we==="resources"?"bold":"normal",color:ce?"#e0e0e0":"inherit"},children:"Resources"})]}),o.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"20px",backgroundColor:ce?"#121212":"#fff",color:ce?"#e0e0e0":"inherit"},children:[we==="description"&&b&&o.jsxs("div",{children:[o.jsx("h4",{children:b.title||"Lecture Title"}),o.jsx("p",{children:b.description||"Lecture description goes here..."})]}),we==="resources"&&o.jsx("div",{children:o.jsx("h4",{children:"Resources"})}),!b&&we==="description"&&o.jsx("p",{children:"Select a lecture to view its description."})]})]}),o.jsxs("div",{style:{width:"400px",backgroundColor:ce?"#121212":"#fff",color:ce?"#e0e0e0":"inherit",display:"flex",flexDirection:"column",height:"100%",position:"relative"},children:[o.jsx("div",{style:{padding:"15px 20px",display:"flex",alignItems:"center",justifyContent:"space-between",borderBottom:"1px solid #eee"}}),o.jsx("div",{style:{padding:"15px 20px",backgroundColor:"rgba(0,0,0,0)",borderBottom:"1px solid rgba(0,0,0,0)",borderRadius:"10px",margin:"10px"},children:o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[o.jsx("div",{style:{marginRight:"15px"},children:o.jsx(V4,{percentage:m.length>0?Math.round(Object.values(ie).filter(Ce=>Ce.completed).length/m.length*100):0,size:60,strokeWidth:6,strokeColor:"#4285f4"})}),o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:"bold",fontSize:"15px"},children:"COURSE PROGRESS"}),o.jsxs("div",{style:{fontSize:"14px",color:"#777"},children:[Object.values(ie).filter(Ce=>Ce.completed).length,"/",m.length]})]})]}),o.jsx("button",{onClick:yn,style:{background:"none",border:"none",fontSize:"18px",fontWeight:"bold",cursor:"pointer",color:"#666"},children:""})]})}),o.jsx("div",{style:{padding:"12px 20px",backgroundColor:ce?"#1e1e1e":"#f8f8f8",borderBottom:ce?"1px solid #333":"1px solid #eee",color:ce?"#e0e0e0":"#333",fontWeight:"bold"},children:h.title}),Fe&&ut&&o.jsx(U4,{quizId:ut,show:Fe,onClose:()=>Se(!1)}),o.jsx("ul",{style:{listStyle:"none",padding:"10px 0",margin:0,overflowY:"auto",flex:1},children:m.map(Ce=>{const at=ie[Ce.id]||{completed:!1},Xe=(b==null?void 0:b.id)===Ce.id;return o.jsxs("li",{style:{cursor:"pointer",padding:"12px 20px",backgroundColor:Xe?"#4285f4":ce?"#121212":"transparent",color:Xe?"rgb(255, 255, 255)":ce?"#e0e0e0":"#333",borderBottom:ce?"1px solid #333":"1px solid #eee",display:"flex",alignItems:"center",borderRadius:Xe?"5px":"0",margin:Xe?"0 5px":"0",transition:"all 0.2s ease"},onClick:()=>Hn(Ce),children:[o.jsx("div",{style:{width:"14px",height:"14px",borderRadius:"50%",marginRight:"12px",backgroundColor:Xe?"#fff":at.completed?"#4285f4":ce?"#555":"#ccc",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"}}),o.jsx("span",{style:{fontSize:"14px"},children:Ce.title})]},Ce.id)})})]})]})}),x&&S&&o.jsxs("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",maxWidth:"600px",backgroundColor:ce?"#121212":"rgb(247, 247, 247)",zIndex:1e3,borderRadius:"10px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",overflow:"hidden"},children:[o.jsxs("div",{style:{backgroundColor:"#007bff",color:"#fff",padding:"15px",textAlign:"center",fontWeight:"bold",fontSize:"18px"},children:[S," Courses",o.jsx("button",{onClick:ba,style:{position:"absolute",top:"10px",right:"10px",background:"transparent",border:"none",fontSize:"20px",fontWeight:"bold",color:"#fff",cursor:"pointer"},children:""})]}),o.jsx("div",{style:{padding:"20px",maxHeight:"400px",overflowY:"auto"},children:o.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"15px"},children:Ti()[S].map((Ce,at)=>((ye[Ce.course.id]||{percentage:0}).percentage>=100,o.jsxs($t,{className:`${ce?"bg-dark text-white":""}`,style:{width:"220px",boxShadow:ce?"0 0 10px rgba(0, 0, 0, 0.5)":"0 0 10px rgba(0, 0, 0, 0.1)",border:"none",overflow:"hidden"},children:[o.jsx("div",{style:{height:"140px",overflow:"hidden",position:"relative"},children:Ce.course.image?o.jsx("img",{src:Ce.course.image,alt:"course",style:{width:"100%",height:"100%",objectFit:"cover"}}):o.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#4286f4",color:"white",fontSize:"32px",fontWeight:"bold"},children:Ce.course.title&&typeof Ce.course.title=="string"?Ce.course.title.charAt(0).toUpperCase():"?"})}),o.jsxs($t.Body,{children:[o.jsx($t.Title,{className:"text-truncate",children:Ce.course.title}),o.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[o.jsx("span",{style:{backgroundColor:en(Ce.course.level),color:"white",padding:"2px 6px",borderRadius:"4px",fontSize:"11px"},children:Ce.course.level}),o.jsx("small",{children:zt(Ce.date).format("MMM D, YYYY")})]}),o.jsx("div",{className:"mt-2 d-flex justify-content-between align-items-center",children:o.jsxs("span",{className:"fw-bold",style:{fontSize:"18px"},children:["R",parseFloat(Ce.price||0).toFixed(2)]})}),o.jsx("div",{className:"mt-auto pt-2",children:L!=null&&L.is_active&&(L.include_all_courses||L.courses&&L.courses.includes(Ce.id))?o.jsx("button",{className:"btn btn-success w-100",onClick:()=>ri(Ce.id),children:"Add to Library"}):o.jsx("button",{className:"btn btn-primary w-100",onClick:()=>Ds(Ce),children:"Add to Cart"})})]})]},at)))})})]}),D&&o.jsxs("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",maxWidth:"800px",backgroundColor:ce?"#121212":"#fff",zIndex:1e3,borderRadius:"10px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",overflow:"hidden"},children:[o.jsxs("div",{style:{backgroundColor:"#007bff",color:"#fff",padding:"15px",textAlign:"center",fontWeight:"bold",fontSize:"18px",position:"relative"},children:["Add More Courses",o.jsx("button",{onClick:xa,style:{position:"absolute",top:"10px",right:"10px",background:"transparent",border:"none",fontSize:"20px",fontWeight:"bold",color:"#fff",cursor:"pointer"},children:""}),o.jsxs("div",{style:{position:"absolute",top:"10px",left:"10px",display:"flex",alignItems:"center",cursor:"pointer"},onClick:Ur,children:[o.jsx("i",{className:"fas fa-shopping-cart",style:{fontSize:"24px",marginRight:"5px",color:"white"}}),o.jsx("span",{style:{backgroundColor:"red",color:"white",borderRadius:"50%",padding:"2px 6px",fontSize:"12px"},children:N.length})]})]}),o.jsx("div",{style:{padding:"20px",maxHeight:"400px",overflowY:"auto"},children:["Beginner","Intermediate","Advanced"].map(Ce=>{const at=A.filter(Xe=>Xe.level===Ce);return at.length===0?null:o.jsxs("div",{style:{marginBottom:"30px"},children:[o.jsxs("h5",{className:"mb-3",children:[Ce," Courses"]}),o.jsx(Cs,{className:"g-3",children:at.map(Xe=>o.jsx(An,{sm:6,md:4,lg:3,children:o.jsxs($t,{className:`${ce?"bg-dark text-white":""}`,style:{boxShadow:ce?"0 0 10px rgba(0, 0, 0, 0.5)":"0 0 10px rgba(0, 0, 0, 0.1)",border:"none",overflow:"hidden"},children:[o.jsx("div",{style:{height:"150px",overflow:"hidden",position:"relative"},children:Xe.image?o.jsx("img",{src:Xe.image,alt:Xe.title,style:{width:"100%",height:"100%",objectFit:"cover"}}):o.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#4286f4",color:"white",fontSize:"32px",fontWeight:"bold"},children:Xe.title&&typeof Xe.title=="string"?Xe.title.charAt(0).toUpperCase():"?"})}),o.jsxs($t.Body,{children:[o.jsx($t.Title,{className:"text-truncate",children:Xe.title}),o.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[o.jsx("span",{style:{backgroundColor:en(Xe.level),color:"white",padding:"2px 6px",borderRadius:"4px",fontSize:"11px"},children:Xe.level}),o.jsx("small",{children:zt(Xe.date).format("MMM D, YYYY")})]}),o.jsx("div",{className:"mt-2 d-flex justify-content-between align-items-center",children:o.jsxs("span",{className:"fw-bold",style:{fontSize:"18px"},children:["R",parseFloat(Xe.price||0).toFixed(2)]})}),o.jsx("div",{className:"mt-auto pt-2",children:L!=null&&L.is_active&&(L.include_all_courses||L.courses&&L.courses.includes(Xe.id))?o.jsx("button",{className:"btn btn-success w-100",onClick:()=>ri(Xe.id),children:"Add to Library"}):o.jsx("button",{className:"btn btn-primary w-100",onClick:()=>Ds(Xe),children:"Add to Cart"})})]})]})},Xe.id))})]},Ce)})}),te&&o.jsx(Su,{})]}),M&&o.jsxs("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"400px",backgroundColor:ce?"#333":"rgb(247, 247, 247)",border:ce?"1px solid rgba(89, 89, 89, 0.8)":"1px solid rgba(164, 164, 164, 0.8)",zIndex:1e3,borderRadius:"10px",padding:"20px"},children:[o.jsx("h5",{children:"Your Cart"}),o.jsx("ul",{children:N.map((Ce,at)=>o.jsxs("li",{style:{marginBottom:"10px"},children:[Ce.title," - R",parseFloat(Ce.price).toFixed(2)," ",o.jsx("button",{className:"btn btn-danger btn-sm",style:{marginLeft:"10px"},onClick:()=>ao(Ce.id),children:"Remove"})]},`cart-item-${Ce.id}-${at}`))}),o.jsxs("p",{children:["Total: R",ee.toFixed(2)]})," ",o.jsx("button",{className:"btn btn-primary",onClick:Xi,style:{marginRight:"10px"},disabled:N.length===0,children:"Checkout"}),o.jsx("button",{className:"btn btn-secondary",onClick:()=>q(!1),children:"Close"})]}),E&&o.jsxs("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"450px",backgroundColor:ce?"#333":"rgb(247, 247, 247)",border:ce?"1px solid rgba(89, 89, 89, 0.8)":"1px solid rgba(164, 164, 164, 0.8)",zIndex:1e3,borderRadius:"10px",padding:"20px"},children:[o.jsx("h5",{children:"Checkout"}),o.jsx("ul",{children:N.map((Ce,at)=>o.jsxs("li",{style:{marginBottom:"10px"},children:[Ce.title," - R",parseFloat(Ce.price).toFixed(2),o.jsx("button",{className:"btn btn-danger btn-sm",style:{marginLeft:"10px"},onClick:()=>ao(Ce.id),children:"Remove"})]},`checkout-item-${Ce.id}-${at}`))}),o.jsxs("p",{children:["Total: R",si().toFixed(2)]}),o.jsx("button",{className:"btn btn-success",onClick:va,disabled:Q,style:{marginRight:"10px"},children:Q?"Processing...":"Pay with Yoco"}),o.jsx("button",{className:"btn btn-secondary",onClick:()=>G(!1),children:"Close"})]}),Ye&&o.jsx(bB,{show:Ye,handleClose:()=>_t(!1),studentId:(gs=Vt())==null?void 0:gs.user_id,courseId:Ze}),te&&o.jsx(Su,{}),te&&o.jsx(Su,{})]})}const V4=({percentage:t,size:e=60,strokeWidth:n=6})=>{const r=(e-n)/2,s=r*2*Math.PI,i=s-t/100*s,a="#4285f4";return o.jsxs("div",{style:{position:"relative",width:e,height:e,display:"inline-block"},children:[o.jsxs("svg",{width:e,height:e,viewBox:`0 0 ${e} ${e}`,style:{transform:"rotate(-90deg)"},children:[o.jsx("circle",{cx:e/2,cy:e/2,r,fill:"transparent",stroke:"#eeeeee",strokeWidth:n}),o.jsx("circle",{cx:e/2,cy:e/2,r,fill:"transparent",stroke:a,strokeWidth:n,strokeDasharray:s,strokeDashoffset:i,strokeLinecap:"round"})]}),o.jsxs("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:`${e/3.5}px`,fontWeight:"bold",color:a},children:[t,"%"]})]})};var n2,q4;function wye(){if(q4)return n2;q4=1,n2=function(s,i,a){var l=document.head||document.getElementsByTagName("head")[0],c=document.createElement("script");typeof i=="function"&&(a=i,i={}),i=i||{},a=a||function(){},c.type=i.type||"text/javascript",c.charset=i.charset||"utf8",c.async="async"in i?!!i.async:!0,c.src=s,i.attrs&&t(c,i.attrs),i.text&&(c.text=""+i.text);var u="onload"in c?e:n;u(c,a),c.onload||e(c,a),l.appendChild(c)};function t(r,s){for(var i in s)r.setAttribute(i,s[i])}function e(r,s){r.onload=function(){this.onerror=this.onload=null,s(null,r)},r.onerror=function(){this.onerror=this.onload=null,s(new Error("Failed to load "+this.src),r)}}function n(r,s){r.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,s(null,r))}}return n2}var r2,Y4;function xB(){if(Y4)return r2;Y4=1;var t=function(S){return e(S)&&!n(S)};function e(_){return!!_&&typeof _=="object"}function n(_){var S=Object.prototype.toString.call(_);return S==="[object RegExp]"||S==="[object Date]"||i(_)}var r=typeof Symbol=="function"&&Symbol.for,s=r?Symbol.for("react.element"):60103;function i(_){return _.$$typeof===s}function a(_){return Array.isArray(_)?[]:{}}function l(_,S){return S.clone!==!1&&S.isMergeableObject(_)?y(a(_),_,S):_}function c(_,S,T){return _.concat(S).map(function(D){return l(D,T)})}function u(_,S){if(!S.customMerge)return y;var T=S.customMerge(_);return typeof T=="function"?T:y}function h(_){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(_).filter(function(S){return Object.propertyIsEnumerable.call(_,S)}):[]}function f(_){return Object.keys(_).concat(h(_))}function m(_,S){try{return S in _}catch{return!1}}function g(_,S){return m(_,S)&&!(Object.hasOwnProperty.call(_,S)&&Object.propertyIsEnumerable.call(_,S))}function b(_,S,T){var D={};return T.isMergeableObject(_)&&f(_).forEach(function(j){D[j]=l(_[j],T)}),f(S).forEach(function(j){g(_,j)||(m(_,j)&&T.isMergeableObject(S[j])?D[j]=u(j,T)(_[j],S[j],T):D[j]=l(S[j],T))}),D}function y(_,S,T){T=T||{},T.arrayMerge=T.arrayMerge||c,T.isMergeableObject=T.isMergeableObject||t,T.cloneUnlessOtherwiseSpecified=l;var D=Array.isArray(S),j=Array.isArray(_),A=D===j;return A?D?T.arrayMerge(_,S,T):b(_,S,T):l(S,T)}y.all=function(S,T){if(!Array.isArray(S))throw new Error("first argument should be an array");return S.reduce(function(D,j){return y(D,j,T)},{})};var x=y;return r2=x,r2}var s2,G4;function i1(){if(G4)return s2;G4=1;var t=Object.create,e=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,s=Object.getPrototypeOf,i=Object.prototype.hasOwnProperty,a=(Z,K)=>{for(var F in K)e(Z,F,{get:K[F],enumerable:!0})},l=(Z,K,F,W)=>{if(K&&typeof K=="object"||typeof K=="function")for(let me of r(K))!i.call(Z,me)&&me!==F&&e(Z,me,{get:()=>K[me],enumerable:!(W=n(K,me))||W.enumerable});return Z},c=(Z,K,F)=>(F=Z!=null?t(s(Z)):{},l(!Z||!Z.__esModule?e(F,"default",{value:Z,enumerable:!0}):F,Z)),u=Z=>l(e({},"__esModule",{value:!0}),Z),h={};a(h,{callPlayer:()=>E,getConfig:()=>M,getSDK:()=>U,isBlobUrl:()=>Q,isMediaStream:()=>G,lazy:()=>b,omit:()=>q,parseEndTime:()=>A,parseStartTime:()=>j,queryString:()=>L,randomString:()=>O,supportsWebKitPresentationMode:()=>re}),s2=u(h);var f=c(Ja()),m=c(wye()),g=c(xB());const b=Z=>f.default.lazy(async()=>{const K=await Z();return typeof K.default=="function"?K:K.default}),y=/[?&#](?:start|t)=([0-9hms]+)/,x=/[?&#]end=([0-9hms]+)/,_=/(\d+)(h|m|s)/g,S=/^\d+$/;function T(Z,K){if(Z instanceof Array)return;const F=Z.match(K);if(F){const W=F[1];if(W.match(_))return D(W);if(S.test(W))return parseInt(W)}}function D(Z){let K=0,F=_.exec(Z);for(;F!==null;){const[,W,me]=F;me==="h"&&(K+=parseInt(W,10)*60*60),me==="m"&&(K+=parseInt(W,10)*60),me==="s"&&(K+=parseInt(W,10)),F=_.exec(Z)}return K}function j(Z){return T(Z,y)}function A(Z){return T(Z,x)}function O(){return Math.random().toString(36).substr(2,5)}function L(Z){return Object.keys(Z).map(K=>`${K}=${Z[K]}`).join("&")}function P(Z){return window[Z]?window[Z]:window.exports&&window.exports[Z]?window.exports[Z]:window.module&&window.module.exports&&window.module.exports[Z]?window.module.exports[Z]:null}const N={},U=function(K,F,W=null,me=()=>!0,ne=m.default){const ge=P(F);return ge&&me(ge)?Promise.resolve(ge):new Promise((we,je)=>{if(N[K]){N[K].push({resolve:we,reject:je});return}N[K]=[{resolve:we,reject:je}];const Re=ke=>{N[K].forEach(We=>We.resolve(ke))};if(W){const ke=window[W];window[W]=function(){ke&&ke(),Re(P(F))}}ne(K,ke=>{ke?(N[K].forEach(We=>We.reject(ke)),N[K]=null):W||Re(P(F))})})};function M(Z,K){return(0,g.default)(K.config,Z.config)}function q(Z,...K){const F=[].concat(...K),W={},me=Object.keys(Z);for(const ne of me)F.indexOf(ne)===-1&&(W[ne]=Z[ne]);return W}function E(Z,...K){if(!this.player||!this.player[Z]){let F=`ReactPlayer: ${this.constructor.displayName} player could not call %c${Z}%c  `;return this.player?this.player[Z]||(F+="The method was not available"):F+="The player was not available",console.warn(F,"font-weight: bold",""),null}return this.player[Z](...K)}function G(Z){return typeof window<"u"&&typeof window.MediaStream<"u"&&Z instanceof window.MediaStream}function Q(Z){return/^blob:/.test(Z)}function re(Z=document.createElement("video")){const K=/iPhone|iPod/.test(navigator.userAgent)===!1;return Z.webkitSupportsPresentationMode&&typeof Z.webkitSetPresentationMode=="function"&&K}function ee(Z){return Z}return s2}var i2,K4;function Sye(){if(K4)return i2;K4=1;var t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,r=Object.prototype.hasOwnProperty,s=(E,G)=>{for(var Q in G)t(E,Q,{get:G[Q],enumerable:!0})},i=(E,G,Q,re)=>{if(G&&typeof G=="object"||typeof G=="function")for(let ee of n(G))!r.call(E,ee)&&ee!==Q&&t(E,ee,{get:()=>G[ee],enumerable:!(re=e(G,ee))||re.enumerable});return E},a=E=>i(t({},"__esModule",{value:!0}),E),l={};s(l,{AUDIO_EXTENSIONS:()=>O,DASH_EXTENSIONS:()=>N,FLV_EXTENSIONS:()=>U,HLS_EXTENSIONS:()=>P,MATCH_URL_DAILYMOTION:()=>T,MATCH_URL_FACEBOOK:()=>g,MATCH_URL_FACEBOOK_WATCH:()=>b,MATCH_URL_KALTURA:()=>A,MATCH_URL_MIXCLOUD:()=>D,MATCH_URL_MUX:()=>m,MATCH_URL_SOUNDCLOUD:()=>h,MATCH_URL_STREAMABLE:()=>y,MATCH_URL_TWITCH_CHANNEL:()=>S,MATCH_URL_TWITCH_VIDEO:()=>_,MATCH_URL_VIDYARD:()=>j,MATCH_URL_VIMEO:()=>f,MATCH_URL_WISTIA:()=>x,MATCH_URL_YOUTUBE:()=>u,VIDEO_EXTENSIONS:()=>L,canPlay:()=>q}),i2=a(l);var c=i1();const u=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,h=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/,f=/vimeo\.com\/(?!progressive_redirect).+/,m=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,g=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/,b=/^https?:\/\/fb\.watch\/.+$/,y=/streamable\.com\/([a-z0-9]+)$/,x=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,_=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/,S=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/,T=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/,D=/mixcloud\.com\/([^/]+\/[^/]+)/,j=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/,A=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/,O=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,L=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,P=/\.(m3u8)($|\?)/i,N=/\.(mpd)($|\?)/i,U=/\.(flv)($|\?)/i,M=E=>{if(E instanceof Array){for(const G of E)if(typeof G=="string"&&M(G)||M(G.src))return!0;return!1}return(0,c.isMediaStream)(E)||(0,c.isBlobUrl)(E)?!0:O.test(E)||L.test(E)||P.test(E)||N.test(E)||U.test(E)},q={youtube:E=>E instanceof Array?E.every(G=>u.test(G)):u.test(E),soundcloud:E=>h.test(E)&&!O.test(E),vimeo:E=>f.test(E)&&!L.test(E)&&!P.test(E),mux:E=>m.test(E),facebook:E=>g.test(E)||b.test(E),streamable:E=>y.test(E),wistia:E=>x.test(E),twitch:E=>_.test(E)||S.test(E),dailymotion:E=>T.test(E),mixcloud:E=>D.test(E),vidyard:E=>j.test(E),kaltura:E=>A.test(E),file:M};return i2}var a2,X4;function Cye(){if(X4)return a2;X4=1;var t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,r=Object.prototype.hasOwnProperty,s=(f,m)=>{for(var g in m)t(f,g,{get:m[g],enumerable:!0})},i=(f,m,g,b)=>{if(m&&typeof m=="object"||typeof m=="function")for(let y of n(m))!r.call(f,y)&&y!==g&&t(f,y,{get:()=>m[y],enumerable:!(b=e(m,y))||b.enumerable});return f},a=f=>i(t({},"__esModule",{value:!0}),f),l={};s(l,{default:()=>h}),a2=a(l);var c=i1(),u=Sye(),h=[{key:"youtube",name:"YouTube",canPlay:u.canPlay.youtube,lazyPlayer:(0,c.lazy)(()=>gi(()=>import("./YouTube-BdrGUbyS.js").then(f=>f.Y),[]))},{key:"soundcloud",name:"SoundCloud",canPlay:u.canPlay.soundcloud,lazyPlayer:(0,c.lazy)(()=>gi(()=>import("./SoundCloud-czPJzEnh.js").then(f=>f.S),[]))},{key:"vimeo",name:"Vimeo",canPlay:u.canPlay.vimeo,lazyPlayer:(0,c.lazy)(()=>gi(()=>import("./Vimeo-1pvI1KGI.js").then(f=>f.V),[]))},{key:"mux",name:"Mux",canPlay:u.canPlay.mux,lazyPlayer:(0,c.lazy)(()=>gi(()=>import("./Mux-ChUWd-Q2.js").then(f=>f.M),[]))},{key:"facebook",name:"Facebook",canPlay:u.canPlay.facebook,lazyPlayer:(0,c.lazy)(()=>gi(()=>import("./Facebook-Bmg1rRtS.js").then(f=>f.F),[]))},{key:"streamable",name:"Streamable",canPlay:u.canPlay.streamable,lazyPlayer:(0,c.lazy)(()=>gi(()=>import("./Streamable-CMCBFU0h.js").then(f=>f.S),[]))},{key:"wistia",name:"Wistia",canPlay:u.canPlay.wistia,lazyPlayer:(0,c.lazy)(()=>gi(()=>import("./Wistia-BdKlRhGx.js").then(f=>f.W),[]))},{key:"twitch",name:"Twitch",canPlay:u.canPlay.twitch,lazyPlayer:(0,c.lazy)(()=>gi(()=>import("./Twitch-BR7BMeZo.js").then(f=>f.T),[]))},{key:"dailymotion",name:"DailyMotion",canPlay:u.canPlay.dailymotion,lazyPlayer:(0,c.lazy)(()=>gi(()=>import("./DailyMotion-C75-BPhg.js").then(f=>f.D),[]))},{key:"mixcloud",name:"Mixcloud",canPlay:u.canPlay.mixcloud,lazyPlayer:(0,c.lazy)(()=>gi(()=>import("./Mixcloud-Dy7I77Z0.js").then(f=>f.M),[]))},{key:"vidyard",name:"Vidyard",canPlay:u.canPlay.vidyard,lazyPlayer:(0,c.lazy)(()=>gi(()=>import("./Vidyard-P3m_0g67.js").then(f=>f.V),[]))},{key:"kaltura",name:"Kaltura",canPlay:u.canPlay.kaltura,lazyPlayer:(0,c.lazy)(()=>gi(()=>import("./Kaltura-BJLoDHpZ.js").then(f=>f.K),[]))},{key:"file",name:"FilePlayer",canPlay:u.canPlay.file,canEnablePIP:f=>u.canPlay.file(f)&&(document.pictureInPictureEnabled||(0,c.supportsWebKitPresentationMode)())&&!u.AUDIO_EXTENSIONS.test(f),lazyPlayer:(0,c.lazy)(()=>gi(()=>import("./FilePlayer-2Mjjcp3w.js").then(f=>f.F),[]))}];return a2}var Q4=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Tye(t,e){return!!(t===e||Q4(t)&&Q4(e))}function kye(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!Tye(t[n],e[n]))return!1;return!0}function Eye(t,e){e===void 0&&(e=kye);var n,r=[],s,i=!1;function a(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return i&&n===this&&e(l,r)||(s=t.apply(this,l),i=!0,n=this,r=l),s}return a}const jye=Object.freeze(Object.defineProperty({__proto__:null,default:Eye},Symbol.toStringTag,{value:"Module"})),Nye=qP(jye);var o2,Z4;function vB(){if(Z4)return o2;Z4=1;var t=typeof Element<"u",e=typeof Map=="function",n=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function s(i,a){if(i===a)return!0;if(i&&a&&typeof i=="object"&&typeof a=="object"){if(i.constructor!==a.constructor)return!1;var l,c,u;if(Array.isArray(i)){if(l=i.length,l!=a.length)return!1;for(c=l;c--!==0;)if(!s(i[c],a[c]))return!1;return!0}var h;if(e&&i instanceof Map&&a instanceof Map){if(i.size!==a.size)return!1;for(h=i.entries();!(c=h.next()).done;)if(!a.has(c.value[0]))return!1;for(h=i.entries();!(c=h.next()).done;)if(!s(c.value[1],a.get(c.value[0])))return!1;return!0}if(n&&i instanceof Set&&a instanceof Set){if(i.size!==a.size)return!1;for(h=i.entries();!(c=h.next()).done;)if(!a.has(c.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(i)&&ArrayBuffer.isView(a)){if(l=i.length,l!=a.length)return!1;for(c=l;c--!==0;)if(i[c]!==a[c])return!1;return!0}if(i.constructor===RegExp)return i.source===a.source&&i.flags===a.flags;if(i.valueOf!==Object.prototype.valueOf&&typeof i.valueOf=="function"&&typeof a.valueOf=="function")return i.valueOf()===a.valueOf();if(i.toString!==Object.prototype.toString&&typeof i.toString=="function"&&typeof a.toString=="function")return i.toString()===a.toString();if(u=Object.keys(i),l=u.length,l!==Object.keys(a).length)return!1;for(c=l;c--!==0;)if(!Object.prototype.hasOwnProperty.call(a,u[c]))return!1;if(t&&i instanceof Element)return!1;for(c=l;c--!==0;)if(!((u[c]==="_owner"||u[c]==="__v"||u[c]==="__o")&&i.$$typeof)&&!s(i[u[c]],a[u[c]]))return!1;return!0}return i!==i&&a!==a}return o2=function(a,l){try{return s(a,l)}catch(c){if((c.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw c}},o2}var l2,J4;function _B(){if(J4)return l2;J4=1;var t=Object.create,e=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,s=Object.getPrototypeOf,i=Object.prototype.hasOwnProperty,a=(L,P)=>{for(var N in P)e(L,N,{get:P[N],enumerable:!0})},l=(L,P,N,U)=>{if(P&&typeof P=="object"||typeof P=="function")for(let M of r(P))!i.call(L,M)&&M!==N&&e(L,M,{get:()=>P[M],enumerable:!(U=n(P,M))||U.enumerable});return L},c=(L,P,N)=>(N=L!=null?t(s(L)):{},l(!L||!L.__esModule?e(N,"default",{value:L,enumerable:!0}):N,L)),u=L=>l(e({},"__esModule",{value:!0}),L),h={};a(h,{defaultProps:()=>O,propTypes:()=>j}),l2=u(h);var f=c(sv());const{string:m,bool:g,number:b,array:y,oneOfType:x,shape:_,object:S,func:T,node:D}=f.default,j={url:x([m,y,S]),playing:g,loop:g,controls:g,volume:b,muted:g,playbackRate:b,width:x([m,b]),height:x([m,b]),style:S,progressInterval:b,playsinline:g,pip:g,stopOnUnmount:g,light:x([g,m,S]),playIcon:D,previewTabIndex:b,previewAriaLabel:m,fallback:D,oEmbedUrl:m,wrapper:x([m,T,_({render:T.isRequired})]),config:_({soundcloud:_({options:S}),youtube:_({playerVars:S,embedOptions:S,onUnstarted:T}),facebook:_({appId:m,version:m,playerId:m,attributes:S}),dailymotion:_({params:S}),vimeo:_({playerOptions:S,title:m}),mux:_({attributes:S,version:m}),file:_({attributes:S,tracks:y,forceVideo:g,forceAudio:g,forceHLS:g,forceSafariHLS:g,forceDisableHls:g,forceDASH:g,forceFLV:g,hlsOptions:S,hlsVersion:m,dashVersion:m,flvVersion:m}),wistia:_({options:S,playerId:m,customControls:y}),mixcloud:_({options:S}),twitch:_({options:S,playerId:m}),vidyard:_({options:S})}),onReady:T,onStart:T,onPlay:T,onPause:T,onBuffer:T,onBufferEnd:T,onEnded:T,onError:T,onDuration:T,onSeek:T,onPlaybackRateChange:T,onPlaybackQualityChange:T,onProgress:T,onClickPreview:T,onEnablePIP:T,onDisablePIP:T},A=()=>{},O={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:A},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},mux:{attributes:{},version:"2"},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0",forceDisableHls:!1},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:A,onStart:A,onPlay:A,onPause:A,onBuffer:A,onBufferEnd:A,onEnded:A,onError:A,onDuration:A,onSeek:A,onPlaybackRateChange:A,onPlaybackQualityChange:A,onProgress:A,onClickPreview:A,onEnablePIP:A,onDisablePIP:A};return l2}var c2,eP;function Dye(){if(eP)return c2;eP=1;var t=Object.create,e=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,s=Object.getPrototypeOf,i=Object.prototype.hasOwnProperty,a=(T,D,j)=>D in T?e(T,D,{enumerable:!0,configurable:!0,writable:!0,value:j}):T[D]=j,l=(T,D)=>{for(var j in D)e(T,j,{get:D[j],enumerable:!0})},c=(T,D,j,A)=>{if(D&&typeof D=="object"||typeof D=="function")for(let O of r(D))!i.call(T,O)&&O!==j&&e(T,O,{get:()=>D[O],enumerable:!(A=n(D,O))||A.enumerable});return T},u=(T,D,j)=>(j=T!=null?t(s(T)):{},c(!T||!T.__esModule?e(j,"default",{value:T,enumerable:!0}):j,T)),h=T=>c(e({},"__esModule",{value:!0}),T),f=(T,D,j)=>(a(T,typeof D!="symbol"?D+"":D,j),j),m={};l(m,{default:()=>S}),c2=h(m);var g=u(Ja()),b=u(vB()),y=_B(),x=i1();const _=5e3;class S extends g.Component{constructor(){super(...arguments),f(this,"mounted",!1),f(this,"isReady",!1),f(this,"isPlaying",!1),f(this,"isLoading",!0),f(this,"loadOnReady",null),f(this,"startOnPlay",!0),f(this,"seekOnPlay",null),f(this,"onDurationCalled",!1),f(this,"handlePlayerMount",D=>{if(this.player){this.progress();return}this.player=D,this.player.load(this.props.url),this.progress()}),f(this,"getInternalPlayer",D=>this.player?this.player[D]:null),f(this,"progress",()=>{if(this.props.url&&this.player&&this.isReady){const D=this.getCurrentTime()||0,j=this.getSecondsLoaded(),A=this.getDuration();if(A){const O={playedSeconds:D,played:D/A};j!==null&&(O.loadedSeconds=j,O.loaded=j/A),(O.playedSeconds!==this.prevPlayed||O.loadedSeconds!==this.prevLoaded)&&this.props.onProgress(O),this.prevPlayed=O.playedSeconds,this.prevLoaded=O.loadedSeconds}}this.progressTimeout=setTimeout(this.progress,this.props.progressFrequency||this.props.progressInterval)}),f(this,"handleReady",()=>{if(!this.mounted)return;this.isReady=!0,this.isLoading=!1;const{onReady:D,playing:j,volume:A,muted:O}=this.props;D(),!O&&A!==null&&this.player.setVolume(A),this.loadOnReady?(this.player.load(this.loadOnReady,!0),this.loadOnReady=null):j&&this.player.play(),this.handleDurationCheck()}),f(this,"handlePlay",()=>{this.isPlaying=!0,this.isLoading=!1;const{onStart:D,onPlay:j,playbackRate:A}=this.props;this.startOnPlay&&(this.player.setPlaybackRate&&A!==1&&this.player.setPlaybackRate(A),D(),this.startOnPlay=!1),j(),this.seekOnPlay&&(this.seekTo(this.seekOnPlay),this.seekOnPlay=null),this.handleDurationCheck()}),f(this,"handlePause",D=>{this.isPlaying=!1,this.isLoading||this.props.onPause(D)}),f(this,"handleEnded",()=>{const{activePlayer:D,loop:j,onEnded:A}=this.props;D.loopOnEnded&&j&&this.seekTo(0),j||(this.isPlaying=!1,A())}),f(this,"handleError",(...D)=>{this.isLoading=!1,this.props.onError(...D)}),f(this,"handleDurationCheck",()=>{clearTimeout(this.durationCheckTimeout);const D=this.getDuration();D?this.onDurationCalled||(this.props.onDuration(D),this.onDurationCalled=!0):this.durationCheckTimeout=setTimeout(this.handleDurationCheck,100)}),f(this,"handleLoaded",()=>{this.isLoading=!1})}componentDidMount(){this.mounted=!0}componentWillUnmount(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}componentDidUpdate(D){if(!this.player)return;const{url:j,playing:A,volume:O,muted:L,playbackRate:P,pip:N,loop:U,activePlayer:M,disableDeferredLoading:q}=this.props;if(!(0,b.default)(D.url,j)){if(this.isLoading&&!M.forceLoad&&!q&&!(0,x.isMediaStream)(j)){console.warn(`ReactPlayer: the attempt to load ${j} is being deferred until the player has loaded`),this.loadOnReady=j;return}this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(j,this.isReady)}!D.playing&&A&&!this.isPlaying&&this.player.play(),D.playing&&!A&&this.isPlaying&&this.player.pause(),!D.pip&&N&&this.player.enablePIP&&this.player.enablePIP(),D.pip&&!N&&this.player.disablePIP&&this.player.disablePIP(),D.volume!==O&&O!==null&&this.player.setVolume(O),D.muted!==L&&(L?this.player.mute():(this.player.unmute(),O!==null&&setTimeout(()=>this.player.setVolume(O)))),D.playbackRate!==P&&this.player.setPlaybackRate&&this.player.setPlaybackRate(P),D.loop!==U&&this.player.setLoop&&this.player.setLoop(U)}getDuration(){return this.isReady?this.player.getDuration():null}getCurrentTime(){return this.isReady?this.player.getCurrentTime():null}getSecondsLoaded(){return this.isReady?this.player.getSecondsLoaded():null}seekTo(D,j,A){if(!this.isReady){D!==0&&(this.seekOnPlay=D,setTimeout(()=>{this.seekOnPlay=null},_));return}if(j?j==="fraction":D>0&&D<1){const L=this.player.getDuration();if(!L){console.warn("ReactPlayer: could not seek using fraction duration not yet available");return}this.player.seekTo(L*D,A);return}this.player.seekTo(D,A)}render(){const D=this.props.activePlayer;return D?g.default.createElement(D,{...this.props,onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError}):null}}return f(S,"displayName","Player"),f(S,"propTypes",y.propTypes),f(S,"defaultProps",y.defaultProps),c2}var u2,tP;function Aye(){if(tP)return u2;tP=1;var t=Object.create,e=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,s=Object.getPrototypeOf,i=Object.prototype.hasOwnProperty,a=(U,M,q)=>M in U?e(U,M,{enumerable:!0,configurable:!0,writable:!0,value:q}):U[M]=q,l=(U,M)=>{for(var q in M)e(U,q,{get:M[q],enumerable:!0})},c=(U,M,q,E)=>{if(M&&typeof M=="object"||typeof M=="function")for(let G of r(M))!i.call(U,G)&&G!==q&&e(U,G,{get:()=>M[G],enumerable:!(E=n(M,G))||E.enumerable});return U},u=(U,M,q)=>(q=U!=null?t(s(U)):{},c(!U||!U.__esModule?e(q,"default",{value:U,enumerable:!0}):q,U)),h=U=>c(e({},"__esModule",{value:!0}),U),f=(U,M,q)=>(a(U,typeof M!="symbol"?M+"":M,q),q),m={};l(m,{createReactPlayer:()=>N}),u2=h(m);var g=u(Ja()),b=u(xB()),y=u(Nye),x=u(vB()),_=_B(),S=i1(),T=u(Dye());const D=(0,S.lazy)(()=>gi(()=>import("./Preview-DtMAlNvi.js").then(U=>U.P),[])),j=typeof window<"u"&&window.document&&typeof document<"u",A=typeof So<"u"&&So.window&&So.window.document,O=Object.keys(_.propTypes),L=j||A?g.Suspense:()=>null,P=[],N=(U,M)=>{var q;return q=class extends g.Component{constructor(){super(...arguments),f(this,"state",{showPreview:!!this.props.light}),f(this,"references",{wrapper:E=>{this.wrapper=E},player:E=>{this.player=E}}),f(this,"handleClickPreview",E=>{this.setState({showPreview:!1}),this.props.onClickPreview(E)}),f(this,"showPreview",()=>{this.setState({showPreview:!0})}),f(this,"getDuration",()=>this.player?this.player.getDuration():null),f(this,"getCurrentTime",()=>this.player?this.player.getCurrentTime():null),f(this,"getSecondsLoaded",()=>this.player?this.player.getSecondsLoaded():null),f(this,"getInternalPlayer",(E="player")=>this.player?this.player.getInternalPlayer(E):null),f(this,"seekTo",(E,G,Q)=>{if(!this.player)return null;this.player.seekTo(E,G,Q)}),f(this,"handleReady",()=>{this.props.onReady(this)}),f(this,"getActivePlayer",(0,y.default)(E=>{for(const G of[...P,...U])if(G.canPlay(E))return G;return M||null})),f(this,"getConfig",(0,y.default)((E,G)=>{const{config:Q}=this.props;return b.default.all([_.defaultProps.config,_.defaultProps.config[G]||{},Q,Q[G]||{}])})),f(this,"getAttributes",(0,y.default)(E=>(0,S.omit)(this.props,O))),f(this,"renderActivePlayer",E=>{if(!E)return null;const G=this.getActivePlayer(E);if(!G)return null;const Q=this.getConfig(E,G.key);return g.default.createElement(T.default,{...this.props,key:G.key,ref:this.references.player,config:Q,activePlayer:G.lazyPlayer||G,onReady:this.handleReady})})}shouldComponentUpdate(E,G){return!(0,x.default)(this.props,E)||!(0,x.default)(this.state,G)}componentDidUpdate(E){const{light:G}=this.props;!E.light&&G&&this.setState({showPreview:!0}),E.light&&!G&&this.setState({showPreview:!1})}renderPreview(E){if(!E)return null;const{light:G,playIcon:Q,previewTabIndex:re,oEmbedUrl:ee,previewAriaLabel:Z}=this.props;return g.default.createElement(D,{url:E,light:G,playIcon:Q,previewTabIndex:re,previewAriaLabel:Z,oEmbedUrl:ee,onClick:this.handleClickPreview})}render(){const{url:E,style:G,width:Q,height:re,fallback:ee,wrapper:Z}=this.props,{showPreview:K}=this.state,F=this.getAttributes(E),W=typeof Z=="string"?this.references.wrapper:void 0;return g.default.createElement(Z,{ref:W,style:{...G,width:Q,height:re},...F},g.default.createElement(L,{fallback:ee},K?this.renderPreview(E):this.renderActivePlayer(E)))}},f(q,"displayName","ReactPlayer"),f(q,"propTypes",_.propTypes),f(q,"defaultProps",_.defaultProps),f(q,"addCustomPlayer",E=>{P.push(E)}),f(q,"removeCustomPlayers",()=>{P.length=0}),f(q,"canPlay",E=>{for(const G of[...P,...U])if(G.canPlay(E))return!0;return!1}),f(q,"canEnablePIP",E=>{for(const G of[...P,...U])if(G.canEnablePIP&&G.canEnablePIP(E))return!0;return!1}),q};return u2}var d2,nP;function Pye(){if(nP)return d2;nP=1;var t=Object.create,e=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,s=Object.getPrototypeOf,i=Object.prototype.hasOwnProperty,a=(y,x)=>{for(var _ in x)e(y,_,{get:x[_],enumerable:!0})},l=(y,x,_,S)=>{if(x&&typeof x=="object"||typeof x=="function")for(let T of r(x))!i.call(y,T)&&T!==_&&e(y,T,{get:()=>x[T],enumerable:!(S=n(x,T))||S.enumerable});return y},c=(y,x,_)=>(_=y!=null?t(s(y)):{},l(!y||!y.__esModule?e(_,"default",{value:y,enumerable:!0}):_,y)),u=y=>l(e({},"__esModule",{value:!0}),y),h={};a(h,{default:()=>b}),d2=u(h);var f=c(Cye()),m=Aye();const g=f.default[f.default.length-1];var b=(0,m.createReactPlayer)(f.default,g);return d2}var Iye=Pye();const Oye=Jr(Iye);function Mye(){var se,ie,fe,Te;const[t,e]=w.useState([]),[n,r]=w.useState(null),[s,i]=w.useState(0),[a,l]=w.useState({}),[c,u]=w.useState({title:"",note:""}),[h,f]=w.useState(null),[m,g]=w.useState({title:"",message:""}),[b,y]=w.useState([]),[x,_]=w.useState(null),[S,T]=w.useState({rating:1,review:""}),[D,j]=w.useState([]),A=rh(),O=w.useRef(),[L,P]=w.useState(!1),N=()=>P(!1),U=he=>{P(!0),r(he)},[M,q]=w.useState(!1),E=()=>q(!1),G=he=>{q(!0),f(he)},[Q,re]=w.useState(!1),ee=()=>re(!1),Z=he=>{re(!0),_(he)},[K,F]=w.useState(!1),W=()=>F(!1),me=()=>F(!0),ne=async()=>{var he;vt().get(`student/course-detail/${(he=Vt())==null?void 0:he.user_id}/${A.enrollment_id}/`).then(ce=>{var Ie,Fe;e(ce.data),y(ce.data.question_answer),j(ce.data.review);const ve=((Ie=ce.data.completed_lesson)==null?void 0:Ie.length)/((Fe=ce.data.lectures)==null?void 0:Fe.length)*100;i(ve==null?void 0:ve.toFixed(0))})};w.useEffect(()=>{ne()},[]);const ge=he=>{var Ie,Fe;const ce=`lecture_${he}`;l({...a,[ce]:"Updating"});const ve=new FormData;ve.append("user_id",((Ie=Vt())==null?void 0:Ie.user_id)||0),ve.append("course_id",(Fe=t.course)==null?void 0:Fe.id),ve.append("variant_item_id",he),vt().post("student/course-completed/",ve).then(Se=>{ne(),l({...a,[ce]:"Updated"})})},we=he=>{u({...c,[he.target.name]:he.target.value})},je=async he=>{var ve,Ie;he.preventDefault();const ce=new FormData;ce.append("user_id",(ve=Vt())==null?void 0:ve.user_id),ce.append("enrollment_id",A.enrollment_id),ce.append("title",c.title),ce.append("note",c.note);try{await vt().post(`student/course-note/${(Ie=Vt())==null?void 0:Ie.user_id}/${A.enrollment_id}/`,ce).then(Fe=>{ne(),E(),dt().fire({icon:"success",title:"Note created"})})}catch{}},Re=(he,ce)=>{var Ie,Fe;he.preventDefault();const ve=new FormData;ve.append("user_id",(Ie=Vt())==null?void 0:Ie.user_id),ve.append("enrollment_id",A.enrollment_id),ve.append("title",c.title||(h==null?void 0:h.title)),ve.append("note",c.note||(h==null?void 0:h.note)),vt().patch(`student/course-note-detail/${(Fe=Vt())==null?void 0:Fe.user_id}/${A.enrollment_id}/${ce}/`,ve).then(Se=>{ne(),dt().fire({icon:"success",title:"Note updated"})})},ke=he=>{var ce;vt().delete(`student/course-note-detail/${(ce=Vt())==null?void 0:ce.user_id}/${A.enrollment_id}/${he}/`).then(ve=>{ne(),dt().fire({icon:"success",title:"Note deleted"})})},We=he=>{g({...m,[he.target.name]:he.target.value})},Je=async he=>{var ve,Ie,Fe;he.preventDefault();const ce=new FormData;ce.append("course_id",(ve=t.course)==null?void 0:ve.id),ce.append("user_id",(Ie=Vt())==null?void 0:Ie.user_id),ce.append("title",m.title),ce.append("message",m.message),await vt().post(`student/question-answer-list-create/${(Fe=t.course)==null?void 0:Fe.id}/`,ce).then(Se=>{ne(),W(),dt().fire({icon:"success",title:"Question sent"})})},nt=async he=>{var ve,Ie;he.preventDefault();const ce=new FormData;ce.append("course_id",(ve=t.course)==null?void 0:ve.id),ce.append("user_id",(Ie=Vt())==null?void 0:Ie.user_id),ce.append("message",m.message),ce.append("qa_id",x==null?void 0:x.qa_id),vt().post("student/question-answer-message-create/",ce).then(Fe=>{_(Fe.data.question)})};w.useEffect(()=>{O.current&&O.current.scrollIntoView({behavior:"smooth"})},[x]);const ct=he=>{const ce=he.target.value.toLowerCase();if(ce==="")ne();else{const ve=b==null?void 0:b.filter(Ie=>Ie.title.toLowerCase().includes(ce));y(ve)}},X=he=>{T({...S,[he.target.name]:he.target.value})},Me=he=>{var ve,Ie;he.preventDefault();const ce=new FormData;ce.append("course_id",(ve=t.course)==null?void 0:ve.id),ce.append("user_id",(Ie=Vt())==null?void 0:Ie.user_id),ce.append("rating",S.rating),ce.append("review",S.review),vt().post("student/rate-course/",ce).then(Fe=>{ne(),dt().fire({icon:"success",title:"Review created"})})},ye=he=>{var ve,Ie,Fe;he.preventDefault();const ce=new FormData;ce.append("course",(ve=t.course)==null?void 0:ve.id),ce.append("user",(Ie=Vt())==null?void 0:Ie.user_id),ce.append("rating",S.rating||(D==null?void 0:D.rating)),ce.append("review",S.review||(D==null?void 0:D.review)),vt().patch(`student/review-detail/${(Fe=Vt())==null?void 0:Fe.user_id}/${D==null?void 0:D.id}/`,ce).then(Se=>{ne(),dt().fire({icon:"success",title:"Review updated"})})};return o.jsxs(o.Fragment,{children:[o.jsx(BaseHeader,{}),o.jsx("section",{className:"pt-5 pb-5",children:o.jsxs("div",{className:"container",children:[o.jsx(Yi,{}),o.jsxs("div",{className:"row mt-0 mt-md-4",children:[o.jsx(Sc,{}),o.jsx("div",{className:"col-lg-9 col-md-8 col-12",children:o.jsx("section",{className:"mt-4",children:o.jsx("div",{className:"container",children:o.jsx("div",{className:"row",children:o.jsx("div",{className:"col-12",children:o.jsxs("div",{className:"card shadow rounded-2 p-0 mt-n5",children:[o.jsx("div",{className:"card-header border-bottom px-4 pt-3 pb-0",children:o.jsxs("ul",{className:"nav nav-bottom-line py-0",id:"course-pills-tab",role:"tablist",children:[o.jsx("li",{className:"nav-item me-2 me-sm-4",role:"presentation",children:o.jsx("button",{className:"nav-link mb-2 mb-md-0 active",id:"course-pills-tab-1","data-bs-toggle":"pill","data-bs-target":"#course-pills-1",type:"button",role:"tab","aria-controls":"course-pills-1","aria-selected":"true",children:"Course Lectures"})}),o.jsx("li",{className:"nav-item me-2 me-sm-4",role:"presentation",children:o.jsx("button",{className:"nav-link mb-2 mb-md-0",id:"course-pills-tab-2","data-bs-toggle":"pill","data-bs-target":"#course-pills-2",type:"button",role:"tab","aria-controls":"course-pills-2","aria-selected":"false",children:"Notes"})}),o.jsx("li",{className:"nav-item me-2 me-sm-4",role:"presentation",children:o.jsx("button",{className:"nav-link mb-2 mb-md-0",id:"course-pills-tab-3","data-bs-toggle":"pill","data-bs-target":"#course-pills-3",type:"button",role:"tab","aria-controls":"course-pills-3","aria-selected":"false",children:"Discussion"})}),o.jsx("li",{className:"nav-item me-2 me-sm-4",role:"presentation",children:o.jsx("button",{className:"nav-link mb-2 mb-md-0",id:"course-pills-tab-4","data-bs-toggle":"pill","data-bs-target":"#course-pills-4",type:"button",role:"tab","aria-controls":"course-pills-4","aria-selected":"false",children:"Leave a Review"})})]})}),o.jsx("div",{className:"card-body p-sm-4",children:o.jsxs("div",{className:"tab-content",id:"course-pills-tabContent",children:[o.jsx("div",{className:"tab-pane fade show active",id:"course-pills-1",role:"tabpanel","aria-labelledby":"course-pills-tab-1",children:o.jsxs("div",{className:"accordion accordion-icon accordion-border",id:"accordionExample2",children:[o.jsx("div",{className:"progress mb-3",children:o.jsxs("div",{className:"progress-bar",role:"progressbar",style:{width:`${s}%`},"aria-valuenow":s,"aria-valuemin":0,"aria-valuemax":100,children:[s,"%"]})}),(se=t==null?void 0:t.curriculum)==null?void 0:se.map((he,ce)=>{var ve,Ie,Fe;return o.jsxs("div",{className:"accordion-item mb-3 p-3 bg-light",children:[o.jsx("h6",{className:"accordion-header font-base",id:"heading-1",children:o.jsxs("button",{className:"accordfion-button p-3 w-100 bg-light btn border fw-bold rounded d-sm-flex d-inline-block collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":`#collapse-${he.variant_id}`,"aria-expanded":"true","aria-controls":`collapse-${he.variant_id}`,children:[he.title,o.jsxs("span",{className:"small ms-0 ms-sm-2",children:["(",(ve=he.variant_items)==null?void 0:ve.length," Lecture",((Ie=he.variant_items)==null?void 0:Ie.length)>1&&"s",")"]})]})}),o.jsx("div",{id:`collapse-${he.variant_id}`,className:"accordion-collapse collapse show","aria-labelledby":"heading-1","data-bs-parent":"#accordionExample2",children:o.jsx("div",{className:"accordion-body mt-3",children:(Fe=he.variant_items)==null?void 0:Fe.map((Se,ut)=>{var pt;return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[o.jsxs("div",{className:"position-relative d-flex align-items-center",children:[o.jsx("button",{onClick:()=>U(Se),className:"btn btn-danger-soft btn-round btn-sm mb-0 stretched-link position-static",children:o.jsx("i",{className:"fas fa-play me-0"})}),o.jsx("span",{className:"d-inline-block text-truncate ms-2 mb-0 h6 fw-light w-100px w-sm-200px w-md-400px",children:Se.title})]}),o.jsxs("div",{className:"d-flex",children:[o.jsx("p",{className:"mb-0",children:Se.content_duration||"0m 0s"}),o.jsx("input",{type:"checkbox",className:"form-check-input ms-2",name:"",id:"",onChange:()=>ge(Se.variant_item_id),checked:(pt=t.completed_lesson)==null?void 0:pt.some(Le=>Le.variant_item.id===Se.id)})]})]}),o.jsx("hr",{})]})})})})]})})]})}),o.jsx("div",{className:"tab-pane fade",id:"course-pills-2",role:"tabpanel","aria-labelledby":"course-pills-tab-2",children:o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"card-header border-bottom p-0 pb-3",children:o.jsxs("div",{className:"d-sm-flex justify-content-between align-items-center",children:[o.jsx("h4",{className:"mb-0 p-3",children:"All Notes"}),o.jsxs("button",{type:"button",className:"btn btn-primary me-3","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:["Add Note ",o.jsx("i",{className:"fas fa-pen"})]}),o.jsx("div",{className:"modal fade",id:"exampleModal",tabIndex:-1,"aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:o.jsx("div",{className:"modal-dialog modal-dialog-centered",children:o.jsxs("div",{className:"modal-content",children:[o.jsxs("div",{className:"modal-header",children:[o.jsxs("h5",{className:"modal-title",id:"exampleModalLabel",children:["Add New Note"," ",o.jsx("i",{className:"fas fa-pen"})]}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("form",{onSubmit:je,children:[o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:"Note Title"}),o.jsx("input",{type:"text",className:"form-control",name:"title",onChange:we})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Note Content"}),o.jsx("textarea",{className:"form-control",id:"",cols:"30",rows:"10",name:"note",onChange:we})]}),o.jsxs("button",{type:"button",className:"btn btn-secondary me-2","data-bs-dismiss":"modal",children:[o.jsx("i",{className:"fas fa-arrow-left"})," ","Close"]}),o.jsxs("button",{type:"submit",className:"btn btn-primary",children:["Save Note"," ",o.jsx("i",{className:"fas fa-check-circle"})]})]})})]})})})]})}),o.jsxs("div",{className:"card-body p-0 pt-3",children:[(ie=t==null?void 0:t.note)==null?void 0:ie.map((he,ce)=>o.jsx("div",{className:"row g-4 p-3",children:o.jsxs("div",{className:"col-sm-11 col-xl-11 shadow p-3 m-3 rounded",children:[o.jsxs("h5",{children:[" ",he.title]}),o.jsx("p",{children:he.note}),o.jsxs("div",{className:"hstack gap-3 flex-wrap",children:[o.jsxs("a",{onClick:()=>G(he),className:"btn btn-success mb-0",children:[o.jsx("i",{className:"bi bi-pencil-square me-2"})," ","Edit"]}),o.jsxs("a",{onClick:()=>ke(he.id),className:"btn btn-danger mb-0",children:[o.jsx("i",{className:"bi bi-trash me-2"})," ","Delete"]})]})]})})),((fe=t==null?void 0:t.note)==null?void 0:fe.length)<1&&o.jsx("p",{className:"mt-3 p-3",children:"No notes"}),o.jsx("hr",{})]})]})}),o.jsx("div",{className:"tab-pane fade",id:"course-pills-3",role:"tabpanel","aria-labelledby":"course-pills-tab-3",children:o.jsxs("div",{className:"card",children:[o.jsxs("div",{className:"card-header border-bottom p-0 pb-3",children:[o.jsx("h4",{className:"mb-3 p-3",children:"Discussion"}),o.jsxs("form",{className:"row g-4 p-3",children:[o.jsx("div",{className:"col-sm-6 col-lg-9",children:o.jsxs("div",{className:"position-relative",children:[o.jsx("input",{className:"form-control pe-5 bg-transparent",type:"search",placeholder:"Search","aria-label":"Search",onChange:ct}),o.jsx("button",{className:"bg-transparent p-2 position-absolute top-50 end-0 translate-middle-y border-0 text-primary-hover text-reset",type:"submit",children:o.jsx("i",{className:"fas fa-search fs-6 "})})]})}),o.jsx("div",{className:"col-sm-6 col-lg-3",children:o.jsx("a",{onClick:me,className:"btn btn-primary mb-0 w-100","data-bs-toggle":"modal","data-bs-target":"#modalCreatePost",children:"Ask Question"})})]})]}),o.jsx("div",{className:"card-body p-0 pt-3",children:o.jsx("div",{className:"vstack gap-3 p-3",children:b==null?void 0:b.map((he,ce)=>o.jsxs("div",{className:"shadow rounded-3 p-3",children:[o.jsx("div",{className:"d-sm-flex justify-content-sm-between mb-3",children:o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("div",{className:"avatar avatar-sm flex-shrink-0",children:o.jsx("img",{src:he.profile.image,className:"avatar-img rounded-circle",alt:"avatar",style:{width:"60px",height:"60px",borderRadius:"50%",objectFit:"cover"}})}),o.jsxs("div",{className:"ms-2",children:[o.jsx("h6",{className:"mb-0",children:o.jsx("a",{href:"#",className:"text-decoration-none text-dark",children:he.profile.full_name})}),o.jsx("small",{children:zt(he.date).format("DD MMM, YYYY")})]})]})}),o.jsx("h5",{children:he.title}),o.jsxs("button",{className:"btn btn-primary btn-sm mb-3 mt-3",onClick:()=>Z(he),children:["Join Conversation"," ",o.jsx("i",{className:"fas fa-arrow-right"})]})]},ce))})})]})}),o.jsx("div",{className:"tab-pane fade",id:"course-pills-4",role:"tabpanel","aria-labelledby":"course-pills-tab-4",children:o.jsx("div",{className:"card",children:o.jsxs("div",{className:"card-header border-bottom p-0 pb-3",children:[o.jsxs("h4",{className:"mb-3 p-3",children:["Leave a Review ",D.rating]}),o.jsxs("div",{className:"mt-2",children:[!D&&o.jsxs("form",{className:"row g-3 p-3",onSubmit:Me,children:[o.jsx("div",{className:"col-12 bg-light-input",children:o.jsxs("select",{id:"inputState2",className:"form-select js-choice",onChange:X,name:"rating",defaultValue:D.rating||0,children:[o.jsx("option",{value:1,children:" (1/5)"}),o.jsx("option",{value:2,children:" (2/5)"}),o.jsx("option",{value:3,children:" (3/5)"}),o.jsx("option",{value:4,children:" (4/5)"}),o.jsx("option",{value:5,children:" (5/5)"})]})}),o.jsx("div",{className:"col-12 bg-light-input",children:o.jsx("textarea",{className:"form-control",id:"exampleFormControlTextarea1",placeholder:"Your review",rows:3,onChange:X,name:"review",defaultValue:D.review||S.review})}),o.jsx("div",{className:"col-12",children:o.jsx("button",{type:"submit",className:"btn btn-primary mb-0",children:"Post Review"})})]}),D&&o.jsxs("form",{className:"row g-3 p-3",onSubmit:ye,children:[o.jsx("div",{className:"col-12 bg-light-input",children:o.jsxs("select",{id:"inputState2",className:"form-select js-choice",onChange:X,name:"rating",value:t.review.rating,children:[o.jsx("option",{value:1,children:" (1/5)"}),o.jsx("option",{value:2,children:" (2/5)"}),o.jsx("option",{value:3,children:" (3/5)"}),o.jsx("option",{value:4,children:" (4/5)"}),o.jsx("option",{value:5,children:" (5/5)"})]})}),o.jsx("div",{className:"col-12 bg-light-input",children:o.jsx("textarea",{className:"form-control",id:"exampleFormControlTextarea1",placeholder:"Your review",rows:3,onChange:X,name:"review",defaultValue:D.review})}),o.jsx("div",{className:"col-12",children:o.jsx("button",{type:"submit",className:"btn btn-primary mb-0",children:"Update Review"})})]})]})]})})})]})})]})})})})})})]})]})}),o.jsxs(Tt,{show:L,size:"lg",onHide:N,children:[o.jsx(Tt.Header,{closeButton:!0,children:o.jsxs(Tt.Title,{children:["Lesson: ",n==null?void 0:n.title]})}),o.jsx(Tt.Body,{children:o.jsx(Oye,{url:n==null?void 0:n.file,controls:!0,width:"100%",height:"100%"})}),o.jsx(Tt.Footer,{children:o.jsx(Mt,{variant:"secondary",onClick:N,children:"Close"})})]}),o.jsxs(Tt,{show:M,size:"lg",onHide:E,children:[o.jsx(Tt.Header,{closeButton:!0,children:o.jsxs(Tt.Title,{children:["Note: ",h==null?void 0:h.title]})}),o.jsx(Tt.Body,{children:o.jsxs("form",{onSubmit:he=>Re(he,h==null?void 0:h.id),children:[o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:"Note Title"}),o.jsx("input",{defaultValue:h==null?void 0:h.title,name:"title",onChange:we,type:"text",className:"form-control"})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Note Content"}),o.jsx("textarea",{defaultValue:h==null?void 0:h.note,name:"note",onChange:we,className:"form-control",cols:"30",rows:"10"})]}),o.jsxs("button",{type:"button",className:"btn btn-secondary me-2",onClick:E,children:[o.jsx("i",{className:"fas fa-arrow-left"})," Close"]}),o.jsxs("button",{type:"submit",className:"btn btn-primary",children:["Save Note ",o.jsx("i",{className:"fas fa-check-circle"})]})]})})]}),o.jsxs(Tt,{show:Q,size:"lg",onHide:ee,children:[o.jsx(Tt.Header,{closeButton:!0,children:o.jsxs(Tt.Title,{children:["Lesson: ",x==null?void 0:x.title]})}),o.jsx(Tt.Body,{children:o.jsxs("div",{className:"border p-2 p-sm-4 rounded-3",children:[o.jsxs("ul",{className:"list-unstyled mb-0",style:{overflowY:"scroll",height:"500px"},children:[(Te=x==null?void 0:x.messages)==null?void 0:Te.map((he,ce)=>{var ve;return o.jsx("li",{className:"comment-item mb-3",children:o.jsxs("div",{className:"d-flex",children:[o.jsx("div",{className:"avatar avatar-sm flex-shrink-0",children:o.jsx("a",{href:"#",children:o.jsx("img",{className:"avatar-img rounded-circle",src:(ve=he.profile.image)!=null&&ve.startsWith("https://127.0.0.1:8000")?he.profile.image:`https://127.0.0.1:8000${he.profile.image}`,style:{width:"40px",height:"40px",borderRadius:"50%",objectFit:"cover"},alt:"womans image"})})}),o.jsx("div",{className:"ms-2",children:o.jsx("div",{className:"bg-light p-3 rounded w-100",children:o.jsx("div",{className:"d-flex w-100 justify-content-center",children:o.jsxs("div",{className:"me-2 ",children:[o.jsxs("h6",{className:"mb-1 lead fw-bold",children:[o.jsxs("a",{href:"#!",className:"text-decoration-none text-dark",children:[" ",he.profile.full_name," "]}),o.jsx("br",{}),o.jsx("span",{style:{fontSize:"12px",color:"gray"},children:zt(he.date).format("DD MMM, YYYY")})]}),o.jsx("p",{className:"mb-0 mt-3  ",children:he.message})]})})})})]})})}),o.jsx("div",{ref:O})]}),o.jsxs("form",{class:"w-100 d-flex",onSubmit:nt,children:[o.jsx("textarea",{name:"message",class:"one form-control pe-4 bg-light w-75",id:"autoheighttextarea",rows:"2",onChange:We,placeholder:"What's your question?"}),o.jsxs("button",{class:"btn btn-primary ms-2 mb-0 w-25",type:"submit",children:["Post ",o.jsx("i",{className:"fas fa-paper-plane"})]})]})]})})]}),o.jsxs(Tt,{show:K,size:"lg",onHide:W,children:[o.jsx(Tt.Header,{closeButton:!0,children:o.jsx(Tt.Title,{children:"Ask Question"})}),o.jsx(Tt.Body,{children:o.jsxs("form",{onSubmit:Je,children:[o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:"Question Title"}),o.jsx("input",{value:m.title,name:"title",onChange:We,type:"text",className:"form-control"})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Question Message"}),o.jsx("textarea",{value:m.message,name:"message",onChange:We,className:"form-control",cols:"30",rows:"10"})]}),o.jsxs("button",{type:"button",className:"btn btn-secondary me-2",onClick:W,children:[o.jsx("i",{className:"fas fa-arrow-left"})," Close"]}),o.jsxs("button",{type:"submit",className:"btn btn-primary",children:["Send Message ",o.jsx("i",{className:"fas fa-check-circle"})]})]})})]}),o.jsx(BaseFooter,{})]})}function Rye(){var c;const[t,e]=w.useState([]),[n,r]=w.useContext(Yg),s=()=>{var u;vt().get(`student/wishlist/${(u=Vt())==null?void 0:u.user_id}/`).then(h=>{console.log(h.data),e(h.data)})},i=(c=GC())==null?void 0:c.country;w.useEffect(()=>{s()},[]);const a=async(u,h,f,m,g)=>{const b=new FormData;b.append("course_id",u),b.append("user_id",h),b.append("price",f),b.append("country_name",m),b.append("cart_id",g);try{await vt().post("course/cart/",b).then(y=>{console.log(y.data),dt().fire({title:"Added To Cart",icon:"success"}),vt().get(`course/cart-list/${To()}/`).then(x=>{var _;r((_=x.data)==null?void 0:_.length)})})}catch(y){console.log(y)}},l=u=>{var f,m;const h=new FormData;h.append("user_id",(f=Vt())==null?void 0:f.user_id),h.append("course_id",u),vt().post(`student/wishlist/${(m=Vt())==null?void 0:m.user_id}/`,h).then(g=>{console.log(g.data),s(),dt().fire({icon:"success",title:g.data.message})})};return o.jsxs(o.Fragment,{children:[o.jsx(BaseHeader,{}),o.jsx("section",{className:"pt-5 pb-5",children:o.jsxs("div",{className:"container",children:[o.jsx(Yi,{}),o.jsxs("div",{className:"row mt-0 mt-md-4",children:[o.jsx(Sc,{}),o.jsxs("div",{className:"col-lg-9 col-md-8 col-12",children:[o.jsxs("h4",{className:"mb-0 mb-4",children:[" ",o.jsx("i",{className:"fas fa-heart"})," Wishlist"," "]}),o.jsx("div",{className:"row",children:o.jsx("div",{className:"col-md-12",children:o.jsxs("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4",children:[t==null?void 0:t.map((u,h)=>{var f,m,g,b,y;return o.jsx("div",{className:"col-lg-4",children:o.jsxs("div",{className:"card card-hover",children:[o.jsx(Fn,{to:`/course-detail/${u.course.slug}/`,children:o.jsx("img",{src:u.course.image,alt:"course",className:"card-img-top",style:{width:"100%",height:"200px",objectFit:"cover"}})}),o.jsxs("div",{className:"card-body",children:[o.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[o.jsxs("div",{children:[o.jsx("span",{className:"badge bg-info",children:u.course.level}),o.jsx("span",{className:"badge bg-success ms-2",children:u.course.language})]}),o.jsx("a",{onClick:()=>{var x;return l((x=u.course)==null?void 0:x.id)},className:"fs-5",children:o.jsx("i",{className:"fas fa-heart text-danger align-middle"})})]}),o.jsx("h4",{className:"mb-2 text-truncate-line-2 ",children:o.jsx(Fn,{to:"/course-detail/slug/",className:"text-inherit text-decoration-none text-dark fs-5",children:u.course.title})}),o.jsxs("small",{children:["By: ",(m=(f=u.course)==null?void 0:f.teacher)==null?void 0:m.full_name]})," ",o.jsx("br",{}),o.jsxs("small",{children:[(g=u.course.students)==null?void 0:g.length," Student",((b=u.course.students)==null?void 0:b.length)>1&&"s"]})," ",o.jsx("br",{}),o.jsxs("div",{className:"lh-1 mt-3 d-flex",children:[o.jsx("span",{className:"align-text-top",children:o.jsx("span",{className:"fs-6",children:o.jsx(CO,{total:5,rating:u.course.average_rating||0})})}),o.jsx("span",{className:"text-warning",children:"4.5"}),o.jsxs("span",{className:"fs-6 ms-2",children:["(",(y=u.course.reviews)==null?void 0:y.length," Reviews)"]})]})]}),o.jsx("div",{className:"card-footer",children:o.jsxs("div",{className:"row align-items-center g-0",children:[o.jsx("div",{className:"col",children:o.jsxs("h5",{className:"mb-0",children:["$",u.course.price]})}),o.jsxs("div",{className:"col-auto",children:[o.jsx("button",{type:"button",onClick:()=>{var x;return a(u.course.id,(x=Vt())==null?void 0:x.user_id,u.course.price,i,To())},className:"text-inherit text-decoration-none btn btn-primary me-2",children:o.jsx("i",{className:"fas fa-shopping-cart text-primary text-white"})}),o.jsxs(Fn,{to:"",className:"text-inherit text-decoration-none btn btn-primary",children:["Enroll Now"," ",o.jsx("i",{className:"fas fa-arrow-right text-primary align-middle me-2 text-white"})]})]})]})})]})})}),t.length<1&&o.jsx("p",{className:"mt-4 p-3",children:"No item in wishlist"})]})})})]})]})]})}),o.jsx(BaseFooter,{})]})}function dE({sidebarCollapsed:t,toggleSidebar:e}){const[n]=w.useContext(Gg),[r,s]=w.useState(!1),[i,a]=w.useState([]),[l,c]=w.useState(window.innerWidth<700),u=w.useRef(null),h=w.useRef(null);mr(),w.useEffect(()=>{const g=()=>c(window.innerWidth<700);return window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[]),w.useEffect(()=>{(async()=>{var b;try{const y=(b=Vt())==null?void 0:b.user_id;if(y){const x=await vt().get(`/notifications/user/${y}/`);a(x.data)}}catch{a([])}})()},[]);const f=async()=>{var g;try{const b=(g=Vt())==null?void 0:g.user_id;b&&(await vt().post("/notifications/read-all/",{user_id:b}),a(y=>y.map(x=>({...x,seen:!0}))))}catch{}},m=()=>{s(g=>{const b=!g;return b&&f(),b})};return w.useEffect(()=>{const g=b=>{u.current&&!u.current.contains(b.target)&&h.current&&!h.current.contains(b.target)&&s(!1)};return document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[]),o.jsxs("header",{className:"dashboard-header",style:{position:"sticky",top:0,zIndex:1e3,display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",backgroundColor:"#fff",padding:"10px 20px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",borderRadius:"8px"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[!l&&o.jsx("button",{onClick:e,style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",marginRight:"15px"},children:""}),o.jsxs("h2",{style:{fontSize:"24px",fontWeight:"bold",margin:0},children:["Welcome back, ",(n==null?void 0:n.full_name)||"User","!"]})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px"},children:[o.jsxs("div",{ref:h,style:{position:"relative"},children:[o.jsxs("button",{onClick:m,style:{background:"none",border:"none",cursor:"pointer",position:"relative"},children:[o.jsx("i",{className:"fas fa-bell",style:{fontSize:"20px"}}),i.some(g=>!g.seen)&&o.jsx("span",{style:{position:"absolute",top:"-5px",right:"-5px",backgroundColor:"red",color:"white",borderRadius:"50%",padding:"2px 6px",fontSize:"12px"},children:i.filter(g=>!g.seen).length})]}),r&&o.jsx("div",{style:{position:"absolute",top:"30px",right:0,backgroundColor:"#fff",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",borderRadius:"8px",width:"300px",zIndex:1e3,color:"black",maxHeight:"350px",overflowY:"auto"},children:o.jsx("ul",{style:{listStyle:"none",padding:"10px",margin:0},children:i.length>0?i.map((g,b)=>o.jsxs("li",{style:{padding:"10px 0",borderBottom:"1px solid #f0f0f0",background:g.seen?"#fff":"#f5f7fa"},children:[o.jsx("div",{style:{fontWeight:600},children:g.title||g.type||"Notification"}),g.content&&o.jsx("div",{style:{fontSize:"0.95em",color:"#555"},children:g.content}),g.date&&o.jsx("div",{style:{fontSize:"0.8em",color:"#aaa"},children:new Date(g.date).toLocaleString()})]},b)):o.jsx("li",{style:{textAlign:"center",padding:"10px 0"},children:"No notifications"})})})]}),o.jsx("img",{src:(n==null?void 0:n.image)||"https://imgs.search.brave.com/RDlr00DIZWKKhPu4ymE1K_IzmblJm8CbiuCSzm-xnQ4/rs:fit:860:0:0:0/g:ce/aHR0cHM6Ly90NC5m/dGNkbi5uZXQvanBn/LzAxLzA3LzQzLzQ1/LzM2MF9GXzEwNzQz/NDUxMV9pYXJGMno4/OGM2RHM2QWxndHdv/dEhTQWt0V0NkWU9u/Ny5qcGc",alt:"User",className:"rounded-circle",style:{width:"40px",height:"40px",borderRadius:"50%",objectFit:"cover",cursor:"pointer"}})]})]})}function Lye(){var Me,ye,se;const[t,e]=w.useState(!0),[n,r]=w.useState("profile"),[s,i]=w.useContext(Gg),[a,l]=w.useState({image:"",full_name:"",about:""}),[c,u]=w.useState(""),[h,f]=w.useState(""),m=mr(),[g,b]=w.useState(!1),[y,x]=w.useState(16),[_,S]=w.useState(!1),[T,D]=w.useState("default"),[j,A]=w.useState("comfortable"),[O,L]=w.useState(!1),[P,N]=w.useState(null),[U,M]=w.useState([]),[q,E]=w.useState(!1),[G,Q]=w.useState(window.innerWidth<700),[re,ee]=w.useState(!1),Z=()=>{e(!t)},K=()=>{var ie;vt().get(`user/profile/${(ie=Vt())==null?void 0:ie.user_id}/`).then(fe=>{i(fe.data),l(fe.data),u(fe.data.image)}).catch(fe=>{fe.response&&fe.response.status===401&&(Cn.remove("access_token"),Cn.remove("refresh_token"),m("/"))})},F=async()=>{try{N(response.data)}catch{N({is_active:!1,package:null,include_all_courses:!1,courses:[]})}};w.useEffect(()=>{var fe;if(!((fe=Vt())==null?void 0:fe.user_id)){m("/");return}K(),F()},[]),w.useEffect(()=>{const ie=async()=>{try{const fe=await vt().get("/landingpage/subscription-packages/");M(fe.data)}catch{}};P!=null&&P.is_active||ie()},[P]),w.useEffect(()=>{const ie=document.body.classList.contains("dark-mode"),fe=localStorage.getItem("appearanceSettings");if(fe){const Te=JSON.parse(fe);b(ie||Te.darkMode||!1),x(Te.fontSize||16),S(Te.highContrast||!1),D(Te.colorTheme||"default"),A(Te.density||"comfortable")}else b(ie)},[]),w.useEffect(()=>{const ie=localStorage.getItem("appearanceSettings");if(ie)try{const fe=JSON.parse(ie);b(fe.darkMode||!1),x(fe.fontSize||16),S(fe.highContrast||!1),D(fe.colorTheme||"default"),A(fe.density||"comfortable")}catch{}},[]),w.useEffect(()=>{const fe=new URLSearchParams(window.location.search).get("subscription");fe==="success"?(f("Your subscription was successfully activated!"),F()):fe==="renewed"?(f("Your subscription was successfully renewed!"),F()):fe==="canceled"&&f("Subscription payment was canceled."),fe&&window.history.replaceState({},document.title,window.location.pathname)},[]);const W=()=>{document.body.classList.remove("dark-mode","high-contrast"),g&&document.body.classList.add("dark-mode"),_&&document.body.classList.add("high-contrast"),document.documentElement.style.fontSize=`${y}px`,document.body.setAttribute("data-theme",T),document.body.setAttribute("data-density",j),localStorage.setItem("appearanceSettings",JSON.stringify({darkMode:g,fontSize:y,highContrast:_,colorTheme:T,density:j}))},me=()=>{b(!g),L(!0)},ne=ie=>{x(parseInt(ie.target.value)),L(!0)},ge=()=>{S(!_),L(!0)},we=ie=>{A(ie.target.value),L(!0)},je=async()=>{try{W();const fe=await vt().post("user/appearance-settings/",{dark_mode:g,font_size:y,high_contrast:_,color_theme:T,density:j});L(!1),f("Settings applied and saved to your account!"),setTimeout(()=>f(""),3e3)}catch{f("Settings applied locally")}},Re=async ie=>{var fe,Te;try{if(E(!0),!((fe=Vt())==null?void 0:fe.user_id)){toast.error("You must be logged in to purchase a subscription");return}const ce=await vt().post("/payment/create-checkout/",{amount:parseFloat(ie.price)*100,item_name:`Subscription - ${ie.name}`,customer_email:(Te=Vt())==null?void 0:Te.email,subscription_pkg_id:ie.id,is_subscription:!0,success_url:`${window.location.origin}/student/profile?subscription=success`,cancel_url:`${window.location.origin}/student/profile?subscription=canceled`});if(ce.data&&ce.data.redirectUrl)window.location=ce.data.redirectUrl;else throw new Error("No redirect URL received from payment processor")}catch{toast.error("Payment processing error. Please try again.")}finally{E(!1)}},ke=async()=>{var ie,fe,Te;try{if(E(!0),!((ie=Vt())==null?void 0:ie.user_id)||!((fe=P==null?void 0:P.package)!=null&&fe.id)){dt().fire({icon:"error",title:"Unable to renew subscription"});return}const ce=await vt().post("/payment/create-checkout/",{amount:parseFloat(P.package.price)*100,item_name:`Subscription Renewal - ${P.package.name}`,customer_email:(Te=Vt())==null?void 0:Te.email,subscription_pkg_id:P.package.id,is_subscription:!0,success_url:`${window.location.origin}/student/profile?subscription=renewed`,cancel_url:`${window.location.origin}/student/profile?subscription=canceled`});if(ce.data&&ce.data.redirectUrl)dt().fire({icon:"info",title:"Redirecting to payment page..."}),window.location=ce.data.redirectUrl;else throw new Error("No redirect URL received from payment processor")}catch(he){let ce="Renewal processing error. Please try again.";he.response&&he.response.data&&he.response.data.error&&(ce=he.response.data.error),dt().fire({icon:"error",title:ce})}finally{E(!1)}},We=ie=>{l({...a,[ie.target.name]:ie.target.value})},Je=ie=>{const fe=ie.target.files[0];if(fe&&fe.size>3*1024*1024){f("File size exceeds 3MB limit. Please choose a smaller image.");const ce=document.getElementById("profile-message");ce&&(ce.style.color="white",ce.style.backgroundColor="#d9534f",ce.style.padding="8px 12px",ce.style.borderRadius="4px",ce.style.marginLeft="10px"),setTimeout(()=>{f(""),ce&&(ce.style.color="green",ce.style.backgroundColor="transparent",ce.style.padding="0")},5e3),ie.target.value=null;return}l({...a,[ie.target.name]:fe});const Te=new FileReader;Te.onloadend=()=>{u(Te.result)},fe&&Te.readAsDataURL(fe)},nt=async ie=>{var Te;ie.preventDefault();const fe=new FormData;a.image&&typeof a.image!="string"&&fe.append("image",a.image),fe.append("id",a.id||""),fe.append("full_name",a.full_name||""),fe.append("country",a.country||""),fe.append("about",a.about||""),fe.append("date",a.date||""),fe.append("otp",a.otp||null),fe.append("user",a.user||"");try{const he=await vt().patch(`user/profile/${(Te=Vt())==null?void 0:Te.user_id}/`,fe,{headers:{"Content-Type":"multipart/form-data"}});i(he.data),f("Profile was successfully updated!"),setTimeout(()=>f(""),5e3)}catch{f("Failed to update profile. Please try again."),setTimeout(()=>f(""),5e3)}},ct=async()=>{try{if(!window.confirm(`Are you sure you want to cancel your subscription?
Your access will continue until the end of your current billing period, but your subscription will not renew.`))return;await vt().delete("/subscription/"),dt().fire({icon:"success",title:"Subscription cancelled. Your access will remain until the current period ends."}),P&&N({...P,auto_renew:!1})}catch{dt().fire({icon:"error",title:"Failed to cancel subscription. Please try again."})}};w.useEffect(()=>{const ie=()=>{const fe=window.innerWidth<700;Q(fe),fe||ee(!1)};return window.addEventListener("resize",ie),()=>window.removeEventListener("resize",ie)},[]);const X={container:{display:"flex",minHeight:"100vh"},mainContent:{flex:1,marginLeft:t?"80px":"270px",transition:"margin-left 0.3s ease"},profileContainer:{display:"flex",marginTop:"20px",height:"calc(100vh - 80px)"},content:{flex:1,padding:"20px",overflowY:"auto"},avatar:{width:"100px",height:"100px",borderRadius:"50%",objectFit:"cover"},successMessage:{color:"green",marginLeft:"10px",fontSize:"14px"},mobileSettingsNav:{width:"100%",height:"100%",minHeight:"calc(100vh - 60px)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",background:g?"#181818":"#f8f9fa",padding:"0 16px",gap:"16px"},mobileNavButton:{width:"100%",maxWidth:"350px",padding:"16px 0",borderRadius:"8px",border:"none",fontSize:"1.1rem",background:g?"#232323":"#222",color:"#fff",fontWeight:500,marginBottom:0,boxShadow:"0 1px 4px rgba(0,0,0,0.08)",transition:"background 0.2s, color 0.2s",outline:"none",textAlign:"left",paddingLeft:"24px",position:"relative"},mobileNavButtonActive:{background:"#3973f7",color:"#fff"}};return o.jsxs("div",{style:X.container,children:[!G&&o.jsx(Sc,{sidebarCollapsed:t}),o.jsxs("div",{style:{...X.mainContent,marginLeft:G?0:t?"80px":"270px"},children:[!G&&o.jsx(dE,{sidebarCollapsed:t,toggleSidebar:Z}),G&&o.jsx(Su,{}),o.jsx("div",{style:X.profileContainer,children:G&&!re?o.jsxs("div",{style:X.mobileSettingsNav,children:[o.jsx("button",{style:{...X.mobileNavButton,...n==="profile"?X.mobileNavButtonActive:{}},onClick:()=>{r("profile"),ee(!0)},children:"Profile"}),o.jsx("button",{style:{...X.mobileNavButton,...n==="subscriptions"?X.mobileNavButtonActive:{}},onClick:()=>{r("subscriptions"),ee(!0)},children:"Subscriptions"}),o.jsx("button",{style:{...X.mobileNavButton,...n==="Appearance"?X.mobileNavButtonActive:{}},onClick:()=>{r("Appearance"),ee(!0)},children:"Appearance"})]}):o.jsxs(o.Fragment,{children:[!G&&o.jsxs("div",{className:"settings-nav",children:[o.jsx("button",{className:`settings-nav-btn${n==="profile"?" active":""}`,onClick:()=>r("profile"),children:"Profile"}),o.jsx("button",{className:`settings-nav-btn${n==="subscriptions"?" active":""}`,onClick:()=>r("subscriptions"),children:"Subscriptions"}),o.jsx("button",{className:`settings-nav-btn${n==="Appearance"?" active":""}`,onClick:()=>r("Appearance"),children:"Appearance"})]}),o.jsxs("div",{style:X.content,children:[G&&o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"18px",cursor:"pointer",position:"relative",minHeight:"40px",width:"100%",maxWidth:"350px"},onClick:()=>ee(!1),children:[o.jsx("i",{className:"fas fa-chevron-left",style:{fontSize:"18px",color:g?"#fff":"#3973f7",zIndex:2,position:"relative",marginRight:"8px"}}),o.jsx("span",{style:{fontSize:"1.1rem",color:g?"#fff":"#3973f7",fontWeight:500,zIndex:2,position:"relative"},children:"Back"})]}),n==="profile"&&o.jsxs("div",{children:[o.jsx("h4",{className:"mb-4",children:"Profile Details"}),o.jsxs("form",{onSubmit:nt,children:[o.jsxs("div",{className:"d-flex align-items-center mb-4",children:[o.jsx("img",{src:c,alt:"avatar",style:X.avatar}),o.jsxs("div",{className:"ms-3",children:[o.jsx("h5",{children:"Change Profile Image"}),"                          ",o.jsx("label",{htmlFor:"upload-avatar",style:{display:"inline-block",padding:"10px 20px",fontSize:"14px",color:"red",border:"2px solid red",borderRadius:"4px",backgroundColor:"transparent",cursor:"pointer",transition:"background-color 0.3s ease, color 0.3s ease"},onMouseEnter:ie=>{ie.target.style.backgroundColor="red",ie.target.style.color="white"},onMouseLeave:ie=>{ie.target.style.backgroundColor="transparent",ie.target.style.color="red"},children:"Upload Profile Picture"}),o.jsx("div",{style:{fontSize:"12px",marginTop:"5px",color:"#666"},children:"Maximum file size: 3MB"}),o.jsx("input",{type:"file",id:"upload-avatar",className:"form-control mt-2",name:"image",onChange:Je,style:{display:"none"},accept:"image/*"})]})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"form-label",children:"UserName"}),o.jsx("input",{type:"text",className:"form-control",name:"full_name",value:a.full_name,onChange:We,required:!0})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"form-label",children:"About Me"}),o.jsx("textarea",{className:"form-control",name:"about",rows:"4",value:a.about,onChange:We})]}),"                      ",o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Update Profile"}),h&&o.jsx("span",{id:"profile-message",style:X.successMessage,children:h})]})]}),n==="subscriptions"&&o.jsxs("div",{children:[o.jsx("h4",{className:"mb-4",children:"Manage Subscriptions"}),P!=null&&P.is_active?o.jsxs("div",{style:{position:"relative",margin:"20px",padding:"20px",width:"300px",borderRadius:"15px",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.2)",backgroundColor:"#f8f9fa",color:"#000",textAlign:"left",fontFamily:"Arial, sans-serif"},children:[o.jsx("h2",{style:{fontSize:"32px",fontWeight:"bold",marginBottom:"10px",background:"linear-gradient(135deg, #EF4135, #0055A4)",backgroundSize:"100% 150%",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:((Me=P==null?void 0:P.package)==null?void 0:Me.name)||"N/A"}),o.jsxs("p",{style:{fontSize:"16px",marginBottom:"10px",color:P!=null&&P.valid_until&&new Date(P.valid_until)-new Date<=10*24*60*60*1e3?"red":"#0bde00"},children:[o.jsx("strong",{children:"Active Until:"})," ",P!=null&&P.valid_until?new Date(P.valid_until).toLocaleDateString():"No expiration date"]}),o.jsxs("p",{style:{fontSize:"16px",marginBottom:"10px"},children:[o.jsx("strong",{children:"Included Courses:"})," ",((ye=P==null?void 0:P.package)==null?void 0:ye.include_all_courses)===!0||((se=P==null?void 0:P.package)==null?void 0:se.include_all_courses)===1?"All Courses":"Refer to package details"]}),o.jsx("button",{className:"btn btn-danger mb-3",onClick:ct,disabled:q,style:{width:"100%"},children:"Cancel Subscription"}),(P==null?void 0:P.valid_until)&&new Date(P.valid_until)-new Date<=10*24*60*60*1e3&&o.jsxs("div",{className:"alert alert-warning mb-3",children:[o.jsx("strong",{children:"Your subscription is expiring soon!"}),o.jsx("br",{}),"Please renew to maintain access to your courses."]}),o.jsx("button",{className:"btn btn-success",onClick:ke,disabled:q,style:{width:"100%"},children:q?"Processing...":"Renew Subscription"})]}):o.jsxs("div",{className:"subscription-packages-container",children:[o.jsx("div",{className:"mb-3",children:o.jsx("p",{children:"You do not have an active subscription. Choose a package below:"})}),o.jsx("div",{className:"row",children:U&&U.length>0?U.map(ie=>o.jsx("div",{className:"col-md-6 mb-4",children:o.jsx("div",{className:"card shadow border-0 h-100",style:{backgroundColor:g?"#212121":"#ffffff",color:g?"white":"#333",borderRadius:"6px",border:g?"none":"1px solid #e0e0e0"},children:o.jsxs("div",{className:"card-body text-center p-0 d-flex flex-column",children:[o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"mb-4",children:ie.name}),o.jsxs("h2",{className:"display-4 fw-bold mb-0",style:{fontSize:"42px"},children:["R",ie.price,o.jsx("span",{className:`text fs-6 fw-light ${g?"text":"text-secondary"}`,children:"/month"})]})]}),o.jsxs("div",{style:{backgroundColor:"#33b5e5",padding:"10px",color:"white",textAlign:"center"},children:["Duration: ",ie.duration||ie.duration," days"]}),o.jsx("div",{className:"p-4 text-start flex-grow-1",children:o.jsxs("ul",{className:"list-unstyled",children:[ie.include_all_courses&&o.jsx("li",{className:"mb-3",children:" Access to premium content"}),o.jsx("li",{className:"mb-3",children:" Expert teacher support"}),o.jsxs("li",{className:"mb-3",children:[" Course access for ",ie.duration_days||ie.duration," days"]}),ie.features&&ie.features.map((fe,Te)=>fe.included&&o.jsxs("li",{className:"mb-3",children:[" ",fe.name]},Te))]})}),o.jsx("div",{className:"p-4 mt-auto",children:o.jsx("button",{style:{backgroundColor:"#dc3545",border:"none",borderRadius:"4px",color:"white",padding:"10px 24px",fontSize:"16px",fontWeight:"500",width:"100%"},onClick:()=>Re(ie),disabled:q,className:"btn-get-started",children:q?"Processing...":"Get Started"})})]})})},ie.id)):o.jsx("div",{className:"col-12 text-center py-5",children:o.jsx("p",{children:"No subscription packages found. Please check back later."})})})]})]}),n==="Appearance"&&o.jsxs("div",{children:[o.jsx("h4",{className:"mb-4",children:"Appearance Settings"}),o.jsxs("div",{className:"appearance-setting-container p-4 mb-4 bg-light rounded",children:[o.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-4",children:[o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("div",{className:"me-3",children:g?o.jsx(sF,{size:24}):o.jsx(aF,{size:24})}),o.jsx("span",{className:"fw-medium",children:"Dark Mode"})]}),o.jsx(qe.Check,{type:"switch",id:"dark-mode-switch",checked:g,onChange:me})]}),o.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-4",children:[o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("div",{className:"me-3",children:o.jsx(rF,{size:24})}),o.jsx("span",{className:"fw-medium",children:"Font Size"})]}),o.jsx(qe.Range,{min:12,max:24,step:1,value:y,onChange:ne,style:{width:"50%"}})]}),o.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-4",children:[o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("div",{className:"me-3",children:o.jsx(nF,{size:24})}),o.jsx("span",{className:"fw-medium",children:"High Contrast"})]}),o.jsx(qe.Check,{type:"switch",id:"high-contrast-switch",checked:_,onChange:ge})]}),o.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-4",children:[o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("div",{className:"me-3",children:o.jsx(iF,{size:24})}),o.jsx("span",{className:"fw-medium",children:"Density"})]}),o.jsxs(qe.Select,{value:j,onChange:we,style:{width:"50%"},children:[o.jsx("option",{value:"comfortable",children:"Comfortable"}),o.jsx("option",{value:"compact",children:"Compact"})]})]})]}),o.jsxs("div",{className:`p-4 mb-4 rounded border ${g?"bg-dark text-light":"bg-white"}`,children:[o.jsx("h4",{children:"Settings Preview"}),o.jsxs("p",{style:{fontSize:`${y}px`},children:["This text shows how your current settings will appear.",g?" Dark mode is enabled.":" Light mode is enabled.",_?" High contrast is enabled.":"","Font size is set to ",y,"px and UI density is ",j,"."]}),o.jsxs("div",{className:"d-flex gap-2 mt-3",children:[o.jsx("button",{className:"btn btn-primary",children:"Primary Button"}),o.jsx("button",{className:"btn btn-secondary",children:"Secondary Button"})]})]}),o.jsx("button",{className:"btn btn-outline-danger mt-3",onClick:()=>{b(!1),x(16),S(!1),D("default"),A("comfortable"),setTimeout(()=>W(),0)},children:"Reset to Default Settings"}),o.jsx("button",{className:"btn btn-primary mt-3 ms-3",onClick:je,disabled:!O,children:"Apply Settings"})]})]})]})})]})]})}const Fye=({certificate:t})=>{const{studentName:e,courseName:n,completionDate:r,filePath:s}=t,i=()=>{window.open(s,"_blank")};return o.jsxs("div",{className:"certificate-card border rounded p-4 shadow-lg",children:[o.jsx("h2",{className:"text-xl font-bold",children:n}),o.jsxs("p",{className:"text-gray-700",children:["Awarded to: ",e]}),o.jsxs("p",{className:"text-gray-500",children:["Completion Date: ",new Date(r).toLocaleDateString()]}),o.jsx("button",{className:"mt-4 bg-blue-500 text-white py-2 px-4 rounded",onClick:i,children:"Download Certificate"})]})};function Bye(){const[t,e]=w.useState([]),[n,r]=w.useState(!0),[s,i]=w.useState(null),[a,l]=w.useState(null),[c,u]=w.useState(!1);w.useEffect(()=>{(async()=>{try{const g=await gye();e(g)}catch{i("Failed to load certificates.")}finally{r(!1)}})()},[]);const h=m=>{l(m),u(!0)},f=()=>{u(!1),l(null)};return n?o.jsx("div",{children:"Loading..."}):s?o.jsx("div",{children:s}):o.jsxs("div",{className:"container mt-4",children:[o.jsx("h1",{className:"mb-4",children:"Your Certificates"}),o.jsx("p",{children:"Here you can view and download your certificates."}),o.jsx("div",{className:"row",children:t.map(m=>o.jsx("div",{className:"col-md-4 mb-4",children:o.jsx(Fye,{certificate:m,onClick:()=>h(m)})},m.id))}),c&&o.jsx(bB,{certificate:a,onClose:f})]})}function $ye(){var Se,ut,pt,Le,Ue,Qe,ot,Ke,xt,ae,Be,Ye,_t,Ze;const[t,e]=w.useState([]),[n,r]=w.useState(!0),[s,i]=w.useState(!0),[a,l]=w.useState(!1),[c,u]=w.useState(window.innerWidth<700),[h,f]=w.useState(!1),[m,g]=w.useState(null),[b,y]=w.useState(0),[x,_]=w.useState(null),[S,T]=w.useState([]),[D,j]=w.useState(!1),[A,O]=w.useState(!1),[L,P]=w.useState(!1),[N,U]=w.useState(5),[M,q]=w.useState([]),[E,G]=w.useState([]),[Q,re]=w.useState(!1),[ee,Z]=w.useState(!1),[K,F]=w.useState(!1),[W,me]=w.useState(!1),[ne,ge]=w.useState([]),[we,je]=w.useState([]),[Re,ke]=w.useState("all"),[We,Je]=w.useState("newest"),nt=mr(),ct="#0055A4",X="#FFFFFF",Me="#EF4135",ye=async it=>{j(!0);try{const le=(await vt().get(`student/quiz/${it}/`)).data;g(le),T(le.questions||[]),y(0),_(null),f(!0),O(!1),U(5),q([]),G([]),re(!1),me(!1),Z(!1),ge([]),je([])}catch{}finally{j(!1)}},se=()=>{F(!1),f(!1),y(0),_(null),T([]),g(null),q([]),G([]),U(5),O(!1),re(!1),me(!1),Z(!1)},ie=async()=>{var it;if(((it=S[b])==null?void 0:it.type)==="sentence_building"){if(ne.length===0)return;const te=ne.map(ue=>ue.originalIndex),le=S[b].options.correct_order||Array.from({length:S[b].options.words.length},(ue,Oe)=>Oe),be=te.length===le.length&&te.every((ue,Oe)=>ue===le[Oe]);P(be),O(!0);try{await vt().post("student/quiz-answer-check/",{quiz_id:m.id,question_id:S[b].id,selected_answer:te,question_type:"sentence_building"})}catch{}setTimeout(()=>{be?(G(ue=>[...ue,b]),ee&&q(ue=>ue.filter(Oe=>Oe!==b)),fe()):(U(ue=>ue-1),ee||M.includes(b)||q(ue=>[...ue,b]),N<=1?(U(0),me(!0),setTimeout(()=>{f(!1),me(!1)},3e3)):ve(S[b])),O(!1)},2e3)}else{if(x===null)return;const te=S[b],le=(te==null?void 0:te.options)||[];try{const be=await vt().post("student/quiz-answer-check/",{quiz_id:m.id,question_id:te.id,selected_answer:x}),{is_correct:ue}=be.data;P(ue),O(!0),setTimeout(()=>{ue?(G(Oe=>[...Oe,b]),ee&&q(Oe=>Oe.filter(wt=>wt!==b)),fe()):(U(Oe=>Oe-1),ee||M.includes(b)||q(Oe=>[...Oe,b]),N<=1?(U(0),me(!0),setTimeout(()=>{f(!1),me(!1)},3e3)):_(null)),O(!1)},2e3)}catch{let ue=!1;if(te.type==="true_false"||te.type==="multiple_choice"){const Oe=le.findIndex(wt=>wt.isCorrect===!0);ue=x===Oe}else if(te.type==="checkbox"){const Oe=Array.isArray(x)?x:[x],wt=le.reduce((At,Ut,Ct)=>(Ut.isCorrect&&At.push(Ct),At),[]);ue=Oe.length===wt.length&&Oe.every(At=>wt.includes(At))}P(ue),O(!0),setTimeout(()=>{ue?(G(Oe=>[...Oe,b]),ee&&q(Oe=>Oe.filter(wt=>wt!==b)),fe()):(U(Oe=>Oe-1),ee||M.includes(b)||q(Oe=>[...Oe,b]),N<=1?(U(0),me(!0),setTimeout(()=>{f(!1),me(!1)},3e3)):_(null)),O(!1)},2e3)}}},fe=()=>{if(ee)if(M.length<=1)re(!0),Z(!1),setTimeout(()=>{f(!1)},3e3);else{const te=(M.indexOf(b)+1)%M.length;y(M[te]),_(null)}else b<S.length-1?(y(b+1),_(null)):M.length>0?(Z(!0),y(M[0]),_(null)):(re(!0),setTimeout(()=>{f(!1)},3e3))},Te=()=>{i(!s)};w.useEffect(()=>{const it=()=>{const le=document.body.classList.contains("dark-mode")||localStorage.getItem("appearanceSettings")&&JSON.parse(localStorage.getItem("appearanceSettings")).darkMode;l(le)};it();const te=()=>{it()};return window.addEventListener("storage",te),()=>{window.removeEventListener("storage",te)}},[]);const he=async()=>{var it;try{r(!0);const te=await vt().get(`student/quiz-list/${(it=Vt())==null?void 0:it.user_id}/`);e(te.data),r(!1)}catch(te){te.response&&te.response.status===401&&(Cn.remove("access_token"),Cn.remove("refresh_token"),nt("/"))}};w.useEffect(()=>{var te;if(!((te=Vt())==null?void 0:te.user_id)){Cn.remove("access_token"),Cn.remove("refresh_token"),nt("/");return}he()},[]);const ce=it=>{const te=it.target.value.toLowerCase();if(te==="")he();else{const le=t.filter(be=>be.title.toLowerCase().includes(te));e(le)}},ve=it=>{var te;if(it.type==="sentence_building"&&Array.isArray((te=it.options)==null?void 0:te.words)){const be=[...it.options.words.map((ue,Oe)=>({word:ue,originalIndex:Oe}))];for(let ue=be.length-1;ue>0;ue--){const Oe=Math.floor(Math.random()*(ue+1));[be[ue],be[Oe]]=[be[Oe],be[ue]]}ge([]),je(be)}};w.useEffect(()=>{if(S.length>0&&b<S.length){const it=S[b];(it==null?void 0:it.type)==="sentence_building"&&ve(it),O(!1),_(null)}},[S,b]),w.useEffect(()=>{const it=()=>u(window.innerWidth<700);return window.addEventListener("resize",it),()=>window.removeEventListener("resize",it)},[]);const Ie=[...new Map(t.filter(it=>it.course_title).map(it=>[it.course,{id:it.course,title:it.course_title}])).values()],Fe=t.filter(it=>Re==="all"||it.course&&String(it.course)===String(Re)).sort((it,te)=>We==="newest"?new Date(te.created_at)-new Date(it.created_at):We==="oldest"?new Date(it.created_at)-new Date(te.created_at):We==="title_asc"?it.title.localeCompare(te.title):We==="title_desc"?te.title.localeCompare(it.title):0);return o.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:a?"#121212":"white"},children:[!c&&o.jsx(Sc,{sidebarCollapsed:s}),o.jsxs("div",{style:{flex:1,marginLeft:c?0:s?"80px":"270px",transition:"margin-left 0.3s ease",backgroundColor:a?"#121212":"white",color:a?"white":"black"},children:[o.jsx(dE,{sidebarCollapsed:s,toggleSidebar:Te}),o.jsxs("div",{style:{padding:"20px"},children:[o.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:o.jsx("h4",{style:{color:a?"white":"black"},children:"My Quizzes"})}),o.jsx("div",{className:"mb-4",children:o.jsxs("div",{style:{display:"flex",gap:16,flexWrap:"wrap"},children:[o.jsx("input",{type:"search",className:"form-control",placeholder:"Search your quizzes",onChange:ce,style:{flex:1,minWidth:200,backgroundColor:a?"rgb(255, 255, 255)":"rgb(247, 247, 247)",border:a?"1px solid rgba(89, 89, 89, 0.8)":"1px solid rgba(164, 164, 164, 0.8)",color:"black"}}),o.jsxs("select",{value:Re,onChange:it=>ke(it.target.value),style:{backgroundColor:a?"rgb(255, 255, 255)":"rgb(247, 247, 247)",border:a?"1px solid rgba(89, 89, 89, 0.8)":"1px solid rgba(164, 164, 164, 0.8)",color:"black",borderRadius:6,padding:"6px 12px",minWidth:160},children:[o.jsx("option",{value:"all",children:"All Courses"}),Ie.map(it=>o.jsx("option",{value:it.id,children:it.title},it.id))]}),o.jsxs("select",{value:We,onChange:it=>Je(it.target.value),style:{backgroundColor:a?"rgb(255, 255, 255)":"rgb(247, 247, 247)",border:a?"1px solid rgba(89, 89, 89, 0.8)":"1px solid rgba(164, 164, 164, 0.8)",color:"black",borderRadius:6,padding:"6px 12px",minWidth:140},children:[o.jsx("option",{value:"newest",children:"Newest First"}),o.jsx("option",{value:"oldest",children:"Oldest First"}),o.jsx("option",{value:"title_asc",children:"Title (A-Z)"}),o.jsx("option",{value:"title_desc",children:"Title (Z-A)"})]})]})}),o.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:8,gap:12},children:[o.jsxs("span",{style:{color:a?"#bbb":"#444",fontSize:15},children:["Showing ",Fe.length," of ",t.length," quizzes"]}),(Re!=="all"||We!=="newest"||t.length!==Fe.length)&&o.jsx("button",{onClick:()=>{ke("all"),Je("newest"),he()},style:{background:"#eee",color:"#333",border:"none",borderRadius:6,padding:"4px 14px",fontWeight:500,cursor:"pointer",fontSize:14},children:"Clear"})]}),n&&o.jsx("p",{style:{color:a?"white":"black"},children:"Loading..."}),!n&&Fe.length>0&&o.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"24px",marginTop:"10px",alignItems:"flex-start"},children:Fe.map((it,te)=>{var le,be,ue;return o.jsxs("div",{onClick:()=>ye(it.id),style:{cursor:"pointer",width:260,minHeight:180,maxWidth:280,background:a?"#23272f":"#fff",borderRadius:"14px",boxShadow:a?"0 2px 12px rgba(0,0,0,0.5)":"0 2px 12px rgba(0,0,0,0.08)",border:"1px solid "+(a?"#333":"#eee"),padding:"18px 18px 14px 18px",display:"flex",flexDirection:"column",transition:"transform 0.13s, box-shadow 0.13s",position:"relative",outline:"none"},tabIndex:0,onKeyDown:Oe=>{(Oe.key==="Enter"||Oe.key===" ")&&ye(it.id)},onMouseEnter:Oe=>{Oe.currentTarget.style.transform="scale(1.03)",Oe.currentTarget.style.boxShadow="0 6px 24px rgba(0,0,0,0.13)"},onMouseLeave:Oe=>{Oe.currentTarget.style.transform="scale(1)",Oe.currentTarget.style.boxShadow=a?"0 2px 12px rgba(0,0,0,0.5)":"0 2px 12px rgba(0,0,0,0.08)"},children:[o.jsx("h6",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"8px",color:a?"white":"#222",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%",display:"block"},title:it.title,children:it.title}),it.description&&o.jsx("div",{style:{fontSize:13,color:a?"#bbb":"#888",marginBottom:8,minHeight:32,overflow:"hidden",textOverflow:"ellipsis"},children:it.description}),o.jsxs("div",{style:{display:"flex",gap:10,marginBottom:8,alignItems:"center"},children:[o.jsxs("span",{children:[" ",it.num_questions??((le=it.questions)==null?void 0:le.length)??"?"," questions  ",it.num_questions??((be=it.questions)==null?void 0:be.length)?`${Math.ceil((it.num_questions??((ue=it.questions)==null?void 0:ue.length))*.5)} min`:"Time: ?"]}),it.category&&o.jsx("span",{style:{background:"#0055A4",color:"#fff",borderRadius:8,fontSize:12,padding:"2px 8px",marginLeft:"auto"},children:it.category})]}),o.jsx("button",{className:"btn btn-sm",style:{backgroundColor:"#0055A4",color:"white",marginTop:"auto",borderRadius:6,fontWeight:500,letterSpacing:.5,fontSize:14,boxShadow:"none",border:"none",outline:"none",pointerEvents:"none"},tabIndex:-1,children:"Start Quiz"})]},te)})}),!n&&Fe.length===0&&o.jsxs("div",{style:{textAlign:"center",marginTop:"40px",color:a?"#aaa":"#555"},children:[o.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/4076/4076549.png",alt:"No quizzes",style:{width:80,opacity:.5,marginBottom:16}}),o.jsx("div",{style:{fontSize:18,fontWeight:500},children:"No quizzes found!"}),o.jsx("div",{style:{fontSize:14},children:"Try a different filter or ask your teacher to assign one."})]})]})]}),o.jsx(Tt,{show:h,onHide:()=>{A||F(!0)},centered:!0,size:"lg",backdrop:"static",className:"duolingo-quiz-modal",children:o.jsxs(Tt.Body,{className:"p-0",children:[o.jsxs("div",{style:{backgroundColor:a?"#1c2c3a":"rgb(207, 207, 207)",minHeight:"500px",borderRadius:"8px",position:"relative",padding:"0"},children:[o.jsx("div",{style:{height:"6px",backgroundColor:a?"#2e3e4a":X,borderRadius:"8px 8px 0 0",overflow:"hidden"},children:o.jsx("div",{style:{height:"100%",width:`${E.length/S.length*100}%`,backgroundColor:Me,transition:"width 0.3s ease"}})}),o.jsxs("div",{style:{position:"absolute",top:"20px",right:"20px",display:"flex",alignItems:"center",backgroundColor:"rgba(255,255,255,0.2)",borderRadius:"20px",padding:"5px 10px"},children:[o.jsx("span",{style:{color:"red",marginRight:"5px",fontSize:"16px"},children:""}),o.jsx("span",{style:{color:a?"white":"black",fontWeight:"bold",fontSize:"16px"},children:N})]}),ee&&o.jsx("div",{style:{position:"absolute",top:"20px",left:"20px",backgroundColor:"rgba(255,255,255,0.2)",borderRadius:"20px",padding:"5px 10px",color:"white"},children:"Review Mode"}),W?o.jsxs("div",{style:{padding:"30px 20px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%",minHeight:"400px"},children:[o.jsx("div",{style:{width:"150px",height:"150px",borderRadius:"50%",backgroundColor:Me,display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"30px"},children:o.jsx(tp,{style:{fontSize:"80px",color:"white"}})}),o.jsx("h2",{style:{color:a?"white":"black",marginBottom:"20px",textAlign:"center"},children:"Quiz Failed!"}),o.jsx("p",{style:{color:a?"white":"black",fontSize:"20px",textAlign:"center",marginBottom:"30px"},children:"You ran out of hearts! Try again."}),o.jsxs("p",{style:{color:a?"white":"black",fontSize:"16px",textAlign:"center"},children:["You completed ",E.length," out of ",S.length," questions correctly."]})]}):Q?o.jsxs("div",{style:{padding:"30px 20px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%",minHeight:"400px"},children:[o.jsx("div",{style:{width:"150px",height:"150px",borderRadius:"50%",backgroundColor:"#4CAF50",display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"30px"},children:o.jsx(wx,{style:{fontSize:"80px",color:"white"}})}),o.jsx("h2",{style:{color:a?"white":"black",marginBottom:"20px",textAlign:"center"},children:"Quiz Completed!"}),o.jsxs("p",{style:{color:a?"white":"black",fontSize:"20px",textAlign:"center"},children:["You got ",E.length," out of ",S.length," questions correct!"]})]}):S.length>0&&b<S.length&&o.jsxs("div",{style:{padding:"30px 20px",display:"flex",flexDirection:"column",minHeight:"500px"},children:[o.jsxs("div",{style:{flex:1},children:[o.jsxs("div",{style:{textAlign:"center",marginBottom:"30px"},children:[o.jsxs("h3",{style:{color:a?"white":"black",marginBottom:"10px"},children:["Question ",ee?"(Review)":b+1]}),o.jsx("h2",{style:{color:a?"white":"black",fontSize:"24px"},children:((Se=S[b])==null?void 0:Se.title)||"Select the correct answer"})]}),o.jsx("div",{style:{textAlign:"center",backgroundColor:X,color:"#333",padding:"10px 15px",borderRadius:"20px",width:"fit-content",margin:"0 auto 30px",boxShadow:"0 2px 5px rgba(0,0,0,0.2)"},children:((ut=S[b])==null?void 0:ut.description)||"Choose the right answer!"}),A&&o.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:L?"rgba(0,100,0,0.9)":"rgba(200,0,0,0.9)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:10},children:L?o.jsxs(o.Fragment,{children:[o.jsx(wx,{style:{fontSize:"100px",color:"white"}}),o.jsx("h2",{style:{color:"white",marginTop:"20px"},children:"Correct!"})]}):o.jsxs(o.Fragment,{children:[o.jsx(tp,{style:{fontSize:"100px",color:"white"}}),o.jsx("h2",{style:{color:"white",marginTop:"20px"},children:"Incorrect!"})]})}),o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px",maxWidth:"600px",margin:"0 auto"},children:Array.isArray((pt=S[b])==null?void 0:pt.options)?(Le=S[b])==null?void 0:Le.options.map((it,te)=>{var le;return o.jsxs("div",{onClick:()=>{var be;if(!A)if(((be=S[b])==null?void 0:be.type)==="checkbox"){const ue=Array.isArray(x)?[...x]:[],Oe=ue.indexOf(te);Oe===-1?ue.push(te):ue.splice(Oe,1),_(ue)}else _(te)},style:{padding:"14px",backgroundColor:Array.isArray(x)?x.includes(te)?X:"rgba(255,255,255,0.9)":x===te?X:"rgba(255,255,255,0.9)",border:Array.isArray(x)?x.includes(te)?`2px solid ${Me}`:"2px solid transparent":x===te?`2px solid ${Me}`:"2px solid transparent",borderRadius:"12px",cursor:A?"default":"pointer",display:"flex",alignItems:"center",color:"#333"},children:[o.jsx("div",{style:{width:"30px",height:"30px",borderRadius:"50%",backgroundColor:ct,color:"white",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"10px",fontWeight:"bold"},children:te+1}),o.jsx("div",{style:{flex:1},children:it.text}),((le=S[b])==null?void 0:le.type)==="checkbox"&&o.jsx("div",{style:{width:"20px",height:"20px",border:"2px solid #ccc",marginLeft:"10px",backgroundColor:Array.isArray(x)&&x.includes(te)?Me:"transparent"}})]},te)}):Object.entries(((Ue=S[b])==null?void 0:Ue.options)||{}).map(([it,te],le)=>["words","correct_order","translation"].includes(it)?null:o.jsxs("div",{onClick:()=>{A||_(le)},style:{padding:"14px",backgroundColor:x===le?X:"rgba(255,255,255,0.9)",border:x===le?`2px solid ${Me}`:"2px solid transparent",borderRadius:"12px",cursor:A?"default":"pointer",display:"flex",alignItems:"center",color:"#333"},children:[o.jsx("div",{style:{width:"30px",height:"30px",borderRadius:"50%",backgroundColor:ct,color:"white",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"10px",fontWeight:"bold"},children:le+1}),o.jsx("div",{style:{flex:1},children:te.text||te})]},le)).filter(Boolean)}),((Qe=S[b])==null?void 0:Qe.type)==="sentence_building"&&o.jsxs("div",{style:{padding:"20px 0"},children:[((Ke=(ot=S[b])==null?void 0:ot.options)==null?void 0:Ke.translation)&&o.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.2)",padding:"10px 15px",marginBottom:"20px",borderRadius:"10px",color:a?"white":"black",textAlign:"center",fontStyle:"italic"},children:(ae=(xt=S[b])==null?void 0:xt.options)==null?void 0:ae.translation}),o.jsxs(ap,{onDragEnd:it=>{if(!it.destination)return;const te=it.source,le=it.destination;if(te.droppableId==="word-bank"&&le.droppableId==="sentence-area"){const be=we[te.index];je(ue=>ue.filter((Oe,wt)=>wt!==te.index)),ge(ue=>{const Oe=[...ue];return Oe.splice(le.index,0,be),Oe})}else if(te.droppableId==="sentence-area"&&le.droppableId==="word-bank"){const be=ne[te.index];ge(ue=>ue.filter((Oe,wt)=>wt!==te.index)),je(ue=>{const Oe=[...ue];return Oe.splice(le.index,0,be),Oe})}else te.droppableId==="sentence-area"&&le.droppableId==="sentence-area"?ge(be=>{const ue=[...be],[Oe]=ue.splice(te.index,1);return ue.splice(le.index,0,Oe),ue}):te.droppableId==="word-bank"&&le.droppableId==="word-bank"&&je(be=>{const ue=[...be],[Oe]=ue.splice(te.index,1);return ue.splice(le.index,0,Oe),ue})},children:[o.jsx(pc,{droppableId:"sentence-area",direction:"horizontal",children:(it,te)=>o.jsxs("div",{ref:it.innerRef,...it.droppableProps,style:{minHeight:"80px",backgroundColor:a?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.15)",borderRadius:"10px",padding:"15px",marginBottom:"20px",display:"flex",flexWrap:"wrap",alignItems:"center",border:te.isDraggingOver?"2px dashed white":"2px solid transparent"},children:[ne.length===0?o.jsx("div",{style:{color:a?"rgba(255,255,255,0.5)":"black",textAlign:"center",width:"100%"},children:"Drag words here to form a sentence"}):ne.map((le,be)=>o.jsx(fc,{draggableId:`selected-${be}`,index:be,children:(ue,Oe)=>o.jsx("div",{ref:ue.innerRef,...ue.draggableProps,...ue.dragHandleProps,style:{...ue.draggableProps.style,backgroundColor:X,color:"#333",padding:"8px 15px",margin:"5px",borderRadius:"5px",fontWeight:"500",boxShadow:Oe.isDragging?"0 5px 10px rgba(0,0,0,0.3)":"0 2px 4px rgba(0,0,0,0.1)",transform:Oe.isDragging?`${ue.draggableProps.style.transform} scale(1.05)`:ue.draggableProps.style.transform},children:le.word})},`selected-${be}`)),it.placeholder]})}),o.jsx(pc,{droppableId:"word-bank",direction:"horizontal",children:(it,te)=>o.jsxs("div",{ref:it.innerRef,...it.droppableProps,style:{backgroundColor:"rgba(0,0,0,0.2)",padding:"15px",borderRadius:"10px",display:"flex",flexWrap:"wrap",gap:"10px",justifyContent:"center",minHeight:"70px",border:te.isDraggingOver?"2px dashed white":"2px solid transparent"},children:[we.length===0?o.jsx("div",{style:{color:"rgba(255,255,255,0.5)",textAlign:"center",width:"100%"},children:"All words have been used"}):we.map((le,be)=>o.jsx(fc,{draggableId:`remaining-${be}`,index:be,children:(ue,Oe)=>o.jsx("div",{ref:ue.innerRef,...ue.draggableProps,...ue.dragHandleProps,style:{...ue.draggableProps.style,backgroundColor:ct,color:"white",padding:"8px 15px",margin:"5px",borderRadius:"5px",fontWeight:"500",boxShadow:Oe.isDragging?"0 5px 10px rgba(0,0,0,0.3)":"0 2px 4px rgba(0,0,0,0.2)",transform:Oe.isDragging?`${ue.draggableProps.style.transform} scale(1.05)`:ue.draggableProps.style.transform},children:le.word})},`remaining-${be}`)),it.placeholder]})})]})]})]}),o.jsx("div",{style:{marginTop:"40px",display:"flex",justifyContent:"center",padding:"20px"},children:o.jsx("button",{onClick:ie,disabled:(((Be=S[b])==null?void 0:Be.type)==="sentence_building"?ne.length===0:x===null)||A,style:{padding:"12px 40px",backgroundColor:(((Ye=S[b])==null?void 0:Ye.type)==="sentence_building"?ne.length>0:x!==null)&&!A?Me:"#e5e5e5",border:"none",borderRadius:"8px",color:(((_t=S[b])==null?void 0:_t.type)==="sentence_building"?ne.length>0:x!==null)&&!A?"white":"#999",fontWeight:"bold",cursor:(((Ze=S[b])==null?void 0:Ze.type)==="sentence_building"?ne.length>0:x!==null)&&!A?"pointer":"not-allowed"},children:"CHECK"})})]})]}),o.jsx("div",{style:{position:"absolute",top:"15px",left:"15px",zIndex:5},children:o.jsx("button",{onClick:()=>F(!0),style:{backgroundColor:"rgba(255,255,255,0.2)",color:a?"white":"black",border:"none",borderRadius:"4px",padding:"4px 10px",cursor:"pointer",fontSize:"14px"},children:"Quit"})})]})}),K&&o.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.8)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2e3},children:o.jsxs("div",{style:{backgroundColor:"#fff",padding:"20px",borderRadius:"8px",width:"80%",maxWidth:"400px",textAlign:"center"},children:[o.jsx("h3",{style:{color:"#333",marginBottom:"20px"},children:"Are you sure you want to quit?"}),o.jsx("p",{style:{color:"#666",marginBottom:"25px"},children:"If you quit now, you'll lose your progress and have to restart the quiz."}),o.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"15px"},children:[o.jsx("button",{onClick:()=>F(!1),style:{backgroundColor:"#ccc",color:"#333",border:"none",borderRadius:"4px",padding:"8px 20px",cursor:"pointer",fontWeight:"bold"},children:"Cancel"}),o.jsx("button",{onClick:se,style:{backgroundColor:Me,color:"white",border:"none",borderRadius:"4px",padding:"8px 20px",cursor:"pointer",fontWeight:"bold"},children:"Quit Quiz"})]})]})}),c&&o.jsx(Su,{})]})}function Au(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function $s(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function Lo(t){$s(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||qb(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function zye(t,e){$s(2,arguments);var n=Lo(t).getTime(),r=Au(e);return new Date(n+r)}var Uye={};function a1(){return Uye}function Hye(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}var wB=6e4,SB=36e5;function Wye(t){return $s(1,arguments),t instanceof Date||qb(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Vye(t){if($s(1,arguments),!Wye(t)&&typeof t!="number")return!1;var e=Lo(t);return!isNaN(Number(e))}function qye(t,e){$s(2,arguments);var n=Au(e);return zye(t,-n)}var Yye=864e5;function Gye(t){$s(1,arguments);var e=Lo(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),s=n-r;return Math.floor(s/Yye)+1}function Px(t){$s(1,arguments);var e=1,n=Lo(t),r=n.getUTCDay(),s=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-s),n.setUTCHours(0,0,0,0),n}function CB(t){$s(1,arguments);var e=Lo(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=Px(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var a=Px(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function Kye(t){$s(1,arguments);var e=CB(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=Px(n);return r}var Xye=6048e5;function Qye(t){$s(1,arguments);var e=Lo(t),n=Px(e).getTime()-Kye(e).getTime();return Math.round(n/Xye)+1}function Ix(t,e){var n,r,s,i,a,l,c,u;$s(1,arguments);var h=a1(),f=Au((n=(r=(s=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(a=e.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:h.weekStartsOn)!==null&&r!==void 0?r:(c=h.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=Lo(t),g=m.getUTCDay(),b=(g<f?7:0)+g-f;return m.setUTCDate(m.getUTCDate()-b),m.setUTCHours(0,0,0,0),m}function TB(t,e){var n,r,s,i,a,l,c,u;$s(1,arguments);var h=Lo(t),f=h.getUTCFullYear(),m=a1(),g=Au((n=(r=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(a=e.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:m.firstWeekContainsDate)!==null&&r!==void 0?r:(c=m.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var b=new Date(0);b.setUTCFullYear(f+1,0,g),b.setUTCHours(0,0,0,0);var y=Ix(b,e),x=new Date(0);x.setUTCFullYear(f,0,g),x.setUTCHours(0,0,0,0);var _=Ix(x,e);return h.getTime()>=y.getTime()?f+1:h.getTime()>=_.getTime()?f:f-1}function Zye(t,e){var n,r,s,i,a,l,c,u;$s(1,arguments);var h=a1(),f=Au((n=(r=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(a=e.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:h.firstWeekContainsDate)!==null&&r!==void 0?r:(c=h.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),m=TB(t,e),g=new Date(0);g.setUTCFullYear(m,0,f),g.setUTCHours(0,0,0,0);var b=Ix(g,e);return b}var Jye=6048e5;function ebe(t,e){$s(1,arguments);var n=Lo(t),r=Ix(n,e).getTime()-Zye(n,e).getTime();return Math.round(r/Jye)+1}function cr(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var au={y:function(e,n){var r=e.getUTCFullYear(),s=r>0?r:1-r;return cr(n==="yy"?s%100:s,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):cr(r+1,2)},d:function(e,n){return cr(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return cr(e.getUTCHours()%12||12,n.length)},H:function(e,n){return cr(e.getUTCHours(),n.length)},m:function(e,n){return cr(e.getUTCMinutes(),n.length)},s:function(e,n){return cr(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,s=e.getUTCMilliseconds(),i=Math.floor(s*Math.pow(10,r-3));return cr(i,n.length)}},of={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},tbe={G:function(e,n,r){var s=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var s=e.getUTCFullYear(),i=s>0?s:1-s;return r.ordinalNumber(i,{unit:"year"})}return au.y(e,n)},Y:function(e,n,r,s){var i=TB(e,s),a=i>0?i:1-i;if(n==="YY"){var l=a%100;return cr(l,2)}return n==="Yo"?r.ordinalNumber(a,{unit:"year"}):cr(a,n.length)},R:function(e,n){var r=CB(e);return cr(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return cr(r,n.length)},Q:function(e,n,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return cr(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,n,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return cr(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,n,r){var s=e.getUTCMonth();switch(n){case"M":case"MM":return au.M(e,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,n,r){var s=e.getUTCMonth();switch(n){case"L":return String(s+1);case"LL":return cr(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,n,r,s){var i=ebe(e,s);return n==="wo"?r.ordinalNumber(i,{unit:"week"}):cr(i,n.length)},I:function(e,n,r){var s=Qye(e);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):cr(s,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):au.d(e,n)},D:function(e,n,r){var s=Gye(e);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):cr(s,n.length)},E:function(e,n,r){var s=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,n,r,s){var i=e.getUTCDay(),a=(i-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(a);case"ee":return cr(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,n,r,s){var i=e.getUTCDay(),a=(i-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(a);case"cc":return cr(a,n.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,n,r){var s=e.getUTCDay(),i=s===0?7:s;switch(n){case"i":return String(i);case"ii":return cr(i,n.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,n,r){var s=e.getUTCHours(),i=s/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,n,r){var s=e.getUTCHours(),i;switch(s===12?i=of.noon:s===0?i=of.midnight:i=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,n,r){var s=e.getUTCHours(),i;switch(s>=17?i=of.evening:s>=12?i=of.afternoon:s>=4?i=of.morning:i=of.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var s=e.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return au.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):au.H(e,n)},K:function(e,n,r){var s=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):cr(s,n.length)},k:function(e,n,r){var s=e.getUTCHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):cr(s,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):au.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):au.s(e,n)},S:function(e,n){return au.S(e,n)},X:function(e,n,r,s){var i=s._originalDate||e,a=i.getTimezoneOffset();if(a===0)return"Z";switch(n){case"X":return sP(a);case"XXXX":case"XX":return Td(a);case"XXXXX":case"XXX":default:return Td(a,":")}},x:function(e,n,r,s){var i=s._originalDate||e,a=i.getTimezoneOffset();switch(n){case"x":return sP(a);case"xxxx":case"xx":return Td(a);case"xxxxx":case"xxx":default:return Td(a,":")}},O:function(e,n,r,s){var i=s._originalDate||e,a=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+rP(a,":");case"OOOO":default:return"GMT"+Td(a,":")}},z:function(e,n,r,s){var i=s._originalDate||e,a=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+rP(a,":");case"zzzz":default:return"GMT"+Td(a,":")}},t:function(e,n,r,s){var i=s._originalDate||e,a=Math.floor(i.getTime()/1e3);return cr(a,n.length)},T:function(e,n,r,s){var i=s._originalDate||e,a=i.getTime();return cr(a,n.length)}};function rP(t,e){var n=t>0?"-":"+",r=Math.abs(t),s=Math.floor(r/60),i=r%60;if(i===0)return n+String(s);var a=e;return n+String(s)+a+cr(i,2)}function sP(t,e){if(t%60===0){var n=t>0?"-":"+";return n+cr(Math.abs(t)/60,2)}return Td(t,e)}function Td(t,e){var n=e||"",r=t>0?"-":"+",s=Math.abs(t),i=cr(Math.floor(s/60),2),a=cr(s%60,2);return r+i+n+a}var iP=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},kB=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},nbe=function(e,n){var r=e.match(/(P+)(p+)?/)||[],s=r[1],i=r[2];if(!i)return iP(e,n);var a;switch(s){case"P":a=n.dateTime({width:"short"});break;case"PP":a=n.dateTime({width:"medium"});break;case"PPP":a=n.dateTime({width:"long"});break;case"PPPP":default:a=n.dateTime({width:"full"});break}return a.replace("{{date}}",iP(s,n)).replace("{{time}}",kB(i,n))},rbe={p:kB,P:nbe},sbe=["D","DD"],ibe=["YY","YYYY"];function abe(t){return sbe.indexOf(t)!==-1}function obe(t){return ibe.indexOf(t)!==-1}function aP(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var lbe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},cbe=function(e,n,r){var s,i=lbe[e];return typeof i=="string"?s=i:n===1?s=i.one:s=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function h2(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var ube={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},dbe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},hbe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},fbe={date:h2({formats:ube,defaultWidth:"full"}),time:h2({formats:dbe,defaultWidth:"full"}),dateTime:h2({formats:hbe,defaultWidth:"full"})},pbe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},mbe=function(e,n,r,s){return pbe[e]};function Nm(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&t.formattingValues){var i=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):i;s=t.formattingValues[a]||t.formattingValues[i]}else{var l=t.defaultWidth,c=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[c]||t.values[l]}var u=t.argumentCallback?t.argumentCallback(e):e;return s[u]}}var gbe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ybe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},bbe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},xbe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},vbe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},_be={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},wbe=function(e,n){var r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Sbe={ordinalNumber:wbe,era:Nm({values:gbe,defaultWidth:"wide"}),quarter:Nm({values:ybe,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Nm({values:bbe,defaultWidth:"wide"}),day:Nm({values:xbe,defaultWidth:"wide"}),dayPeriod:Nm({values:vbe,defaultWidth:"wide",formattingValues:_be,defaultFormattingWidth:"wide"})};function Dm(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;var a=i[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?Tbe(l,function(f){return f.test(a)}):Cbe(l,function(f){return f.test(a)}),u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;var h=e.slice(a.length);return{value:u,rest:h}}}function Cbe(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function Tbe(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function kbe(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var s=r[0],i=e.match(t.parsePattern);if(!i)return null;var a=t.valueCallback?t.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;var l=e.slice(s.length);return{value:a,rest:l}}}var Ebe=/^(\d+)(th|st|nd|rd)?/i,jbe=/\d+/i,Nbe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Dbe={any:[/^b/i,/^(a|c)/i]},Abe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Pbe={any:[/1/i,/2/i,/3/i,/4/i]},Ibe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Obe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Mbe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Rbe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Lbe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Fbe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Bbe={ordinalNumber:kbe({matchPattern:Ebe,parsePattern:jbe,valueCallback:function(e){return parseInt(e,10)}}),era:Dm({matchPatterns:Nbe,defaultMatchWidth:"wide",parsePatterns:Dbe,defaultParseWidth:"any"}),quarter:Dm({matchPatterns:Abe,defaultMatchWidth:"wide",parsePatterns:Pbe,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Dm({matchPatterns:Ibe,defaultMatchWidth:"wide",parsePatterns:Obe,defaultParseWidth:"any"}),day:Dm({matchPatterns:Mbe,defaultMatchWidth:"wide",parsePatterns:Rbe,defaultParseWidth:"any"}),dayPeriod:Dm({matchPatterns:Lbe,defaultMatchWidth:"any",parsePatterns:Fbe,defaultParseWidth:"any"})},$be={code:"en-US",formatDistance:cbe,formatLong:fbe,formatRelative:mbe,localize:Sbe,match:Bbe,options:{weekStartsOn:0,firstWeekContainsDate:1}},zbe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ube=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Hbe=/^'([^]*?)'?$/,Wbe=/''/g,Vbe=/[a-zA-Z]/;function Ox(t,e,n){var r,s,i,a,l,c,u,h,f,m,g,b,y,x;$s(2,arguments);var _=String(e),S=a1(),T=(r=(s=void 0)!==null&&s!==void 0?s:S.locale)!==null&&r!==void 0?r:$be,D=Au((i=(a=(l=(c=void 0)!==null&&c!==void 0?c:void 0)!==null&&l!==void 0?l:S.firstWeekContainsDate)!==null&&a!==void 0?a:(u=S.locale)===null||u===void 0||(h=u.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(D>=1&&D<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var j=Au((f=(m=(g=(b=void 0)!==null&&b!==void 0?b:void 0)!==null&&g!==void 0?g:S.weekStartsOn)!==null&&m!==void 0?m:(y=S.locale)===null||y===void 0||(x=y.options)===null||x===void 0?void 0:x.weekStartsOn)!==null&&f!==void 0?f:0);if(!(j>=0&&j<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!T.localize)throw new RangeError("locale must contain localize property");if(!T.formatLong)throw new RangeError("locale must contain formatLong property");var A=Lo(t);if(!Vye(A))throw new RangeError("Invalid time value");var O=Hye(A),L=qye(A,O),P={firstWeekContainsDate:D,weekStartsOn:j,locale:T,_originalDate:A},N=_.match(Ube).map(function(U){var M=U[0];if(M==="p"||M==="P"){var q=rbe[M];return q(U,T.formatLong)}return U}).join("").match(zbe).map(function(U){if(U==="''")return"'";var M=U[0];if(M==="'")return qbe(U);var q=tbe[M];if(q)return obe(U)&&aP(U,e,String(t)),abe(U)&&aP(U,e,String(t)),q(L,U,T.localize,P);if(M.match(Vbe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+M+"`");return U}).join("");return N}function qbe(t){var e=t.match(Hbe);return e?e[1].replace(Wbe,"'"):t}function Ybe(t){return $s(1,arguments),Lo(t).getTime()<Date.now()}function ag(t,e){var n;$s(1,arguments);var r=Au((n=void 0)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var s=Qbe(t),i;if(s.date){var a=Zbe(s.date,r);i=Jbe(a.restDateString,a.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var l=i.getTime(),c=0,u;if(s.time&&(c=exe(s.time),isNaN(c)))return new Date(NaN);if(s.timezone){if(u=txe(s.timezone),isNaN(u))return new Date(NaN)}else{var h=new Date(l+c),f=new Date(0);return f.setFullYear(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()),f.setHours(h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()),f}return new Date(l+c+u)}var qy={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Gbe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Kbe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Xbe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Qbe(t){var e={},n=t.split(qy.dateTimeDelimiter),r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],qy.timeZoneDelimiter.test(e.date)&&(e.date=t.split(qy.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){var s=qy.timezone.exec(r);s?(e.time=r.replace(s[1],""),e.timezone=s[1]):e.time=r}return e}function Zbe(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};var s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?s:i*100,restDateString:t.slice((r[1]||r[2]).length)}}function Jbe(t,e){if(e===null)return new Date(NaN);var n=t.match(Gbe);if(!n)return new Date(NaN);var r=!!n[4],s=Am(n[1]),i=Am(n[2])-1,a=Am(n[3]),l=Am(n[4]),c=Am(n[5])-1;if(r)return axe(e,l,c)?nxe(e,l,c):new Date(NaN);var u=new Date(0);return!sxe(e,i,a)||!ixe(e,s)?new Date(NaN):(u.setUTCFullYear(e,i,Math.max(s,a)),u)}function Am(t){return t?parseInt(t):1}function exe(t){var e=t.match(Kbe);if(!e)return NaN;var n=f2(e[1]),r=f2(e[2]),s=f2(e[3]);return oxe(n,r,s)?n*SB+r*wB+s*1e3:NaN}function f2(t){return t&&parseFloat(t.replace(",","."))||0}function txe(t){if(t==="Z")return 0;var e=t.match(Xbe);if(!e)return 0;var n=e[1]==="+"?-1:1,r=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return lxe(r,s)?n*(r*SB+s*wB):NaN}function nxe(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var s=r.getUTCDay()||7,i=(e-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}var rxe=[31,null,31,30,31,30,31,31,30,31,30,31];function EB(t){return t%400===0||t%4===0&&t%100!==0}function sxe(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(rxe[e]||(EB(t)?29:28))}function ixe(t,e){return e>=1&&e<=(EB(t)?366:365)}function axe(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function oxe(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function lxe(t,e){return e>=0&&e<=59}const pi="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTYgMjU2Ij48Y2lyY2xlIGN4PSIxMjgiIGN5PSIxMjgiIHI9IjEyMCIgZmlsbD0iI2U5ZWNlZiIvPjxjaXJjbGUgY3g9IjEyOCIgY3k9IjExMCIgcj0iNDAiIGZpbGw9IiM2Yzc1N2QiLz48cGF0aCBkPSJNMjE0LDIxMEE5MCw5MCwwLDAsMSwxMjgsMTcwYTkwLDkwLDAsMCwxLTg2LDQwYTkwLDkwLDAsMCwwLDg2LDQwQTkwLDkwLDAsMCwwLDIxNCwyMTBaIiBmaWxsPSIjNmM3NTdkIi8+PC9zdmc+",cxe=()=>{var Qe,ot,Ke,xt;const[t,e]=w.useState([]),[n,r]=w.useState(null),[s,i]=w.useState([]),[a,l]=w.useState(""),[c,u]=w.useState(!1),[h,f]=w.useState(!1),[m,g]=w.useState([]),[b,y]=w.useState(""),x=w.useRef(null),_=vt(),S=mr(),[T,D]=w.useState(!1),j=w.useRef(null),[A,O]=w.useState(null),[L,P]=w.useState(!0),[N,U]=w.useState(!1),[M,q]=w.useState(!1),[E,G]=w.useState(nn.createRef()),[Q,re]=w.useState(nn.createRef()),[ee,Z]=w.useState(nn.createRef()),[K,F]=w.useState(null),[W,me]=w.useState(null),ne=20*1024*1024,[ge,we]=w.useState(window.innerWidth<700),[je,Re]=w.useState(!1),ke=()=>{P(!L)},We=async()=>{try{u(!0);const Be=(await _.get("/conversations/")).data.map(Ye=>(Ye.other_participant||(Ye.other_participant={}),Ye));e(Be)}catch{dt().fire({icon:"error",title:"Failed to load conversations"})}finally{u(!1)}},Je=async()=>{try{const ae=await _.get("/users/profiles/");g(ae.data)}catch{dt().fire({icon:"error",title:"Failed to load users"})}},nt=async()=>{var ae;try{const Be=(ae=Vt())==null?void 0:ae.user_id;if(!Be)return;const Ye=await _.get(`/user/profile/${Be}/`);O(Ye.data)}catch(Be){Be.response&&Be.response.status===401&&S("/")}},ct=ae=>{r(ae),Me(ae.id),ge&&Re(!0)},X=()=>{ge&&Re(!1)},Me=async ae=>{if(ae)try{u(!0);const Be=await _.get(`/conversations/${ae}/`);i(Be.data.messages||[]),e(Ye=>Ye.map(_t=>_t.id===ae?{..._t,unread_count:0}:_t))}catch{dt().fire({icon:"error",title:"Failed to load messages"})}finally{u(!1)}},ye=async ae=>{if(n)try{await _.post("/typing-status/",{conversation_id:n.id,is_typing:ae})}catch{}},se=()=>{T||(D(!0),ye(!0)),j.current&&clearTimeout(j.current),j.current=setTimeout(()=>{D(!1),ye(!1)},2e3)},ie=ae=>{const Be=ae.target.files[0];if(Be){if(!Be.type.startsWith("image/")){dt().fire({icon:"error",title:"Please select an image file"});return}if(Be.size>ne){dt().fire({icon:"error",title:"File size exceeds 20MB limit"});return}F(Be)}},fe=ae=>{const Be=ae.target.files[0];if(!Be)return;if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain","application/rtf"].includes(Be.type)){dt().fire({icon:"error",title:"Please select a valid document file (PDF, DOC, DOCX, TXT, RTF)"});return}if(Be.size>ne){dt().fire({icon:"error",title:"File size exceeds 20MB limit"});return}F(Be)},Te=ae=>{const Be=ae.target.files[0];if(Be){if(Be.size>ne){dt().fire({icon:"error",title:"File size exceeds 20MB limit"});return}F(Be)}},he=async ae=>{if(ae.preventDefault(),!(!a.trim()&&!K||!n))try{D(!1),j.current&&clearTimeout(j.current),ye(!1);const Be=new FormData;Be.append("conversation_id",n.id),a.trim()&&Be.append("content",a),K&&Be.append("file",K);const Ye=`temp-${Date.now()}`,_t={id:Ye,content:a||"",is_sender:!0,sender_name:"You",created_at:new Date().toISOString()};K&&(K.type.startsWith("image/")?_t.attachment=URL.createObjectURL(K):(_t.tempAttachment=!0,_t.tempFileName=K.name)),i(le=>[...le,_t]),ce(n.id,a||`[File: ${(K==null?void 0:K.name)||"attachment"}]`);const Ze=a,it=K;l(""),F(null);const te=await _.post("/messages/",Be,{headers:{"Content-Type":"multipart/form-data"}});i(le=>le.map(be=>be.id===Ye?te.data:be)),We()}catch{dt().fire({icon:"error",title:"Failed to send message"}),i(Ye=>Ye.filter(_t=>!_t.id.toString().startsWith("temp-")))}},ce=(ae,Be)=>{e(Ye=>Ye.map(_t=>_t.id===ae?{..._t,last_message:{content:Be,timestamp:new Date().toISOString(),sender_name:"You"},updated_at:new Date().toISOString()}:_t))},ve=async ae=>{try{u(!0);const Be=await _.post("/conversations/",{participants:[ae.user_id],message:""});e(Ye=>[Be.data,...Ye]),r(Be.data),Me(Be.data.id),f(!1),setTimeout(()=>{const Ye=document.getElementById("message-input");Ye&&Ye.focus()},100)}catch{dt().fire({icon:"error",title:"Failed to start conversation"})}finally{u(!1)}};w.useEffect(()=>{x.current&&(x.current.scrollTop=x.current.scrollHeight)},[s]),w.useEffect(()=>{We(),nt()},[]),w.useEffect(()=>{const ae=setInterval(()=>{n&&Me(n.id),We()},5e3);return()=>clearInterval(ae)},[n]);const Ie=ae=>ae?ae.image&&!ae.image.includes("null")?ae.image.startsWith("/media/")?`${bi}${ae.image}`:ae.image.startsWith("/")?`${bi}/media${ae.image}`:ae.image:ae.profile_picture&&!ae.profile_picture.includes("null")?ae.profile_picture.startsWith("/media/")?`${bi}${ae.profile_picture}`:ae.profile_picture.startsWith("/")?`${bi}/media${ae.profile_picture}`:ae.profile_picture:ae.profile_image&&!ae.profile_image.includes("null")?ae.profile_image.startsWith("/media/")?`${bi}${ae.profile_image}`:ae.profile_image.startsWith("/")?`${bi}/media${ae.profile_image}`:ae.profile_image:pi:pi,Fe=ae=>ae?ae.name&&ae.name.trim()?ae.name:ae.full_name&&ae.full_name.trim()?ae.full_name:ae.username||"Unknown User":"Unknown User",Se=b?m.filter(ae=>{const Be=ae.full_name||"",Ye=ae.username||"",_t=b.toLowerCase();return Be.toLowerCase().includes(_t)||Ye.toLowerCase().includes(_t)}):m,ut=()=>o.jsxs("div",{className:"d-flex align-items-center text-muted mb-2 ps-5",children:[o.jsxs("div",{className:"typing-indicator",children:[o.jsx("span",{className:"dot"}),o.jsx("span",{className:"dot"}),o.jsx("span",{className:"dot"})]}),o.jsx("span",{className:"ms-2 small",children:"typing..."})]});w.useEffect(()=>{document.querySelectorAll(".conversation-avatar").forEach(Be=>{const Ye=Be.getAttribute("data-real-src");if(Ye&&Ye!==pi){const _t=new Image;_t.onload=()=>{Be.src=Ye},_t.onerror=()=>{Be.src=pi},_t.src=Ye}})},[t]),w.useEffect(()=>{const ae=()=>{const Ye=document.body.classList.contains("dark-mode")||localStorage.getItem("appearanceSettings")&&JSON.parse(localStorage.getItem("appearanceSettings")).darkMode;U(Ye)};ae();const Be=()=>{ae()};return window.addEventListener("storage",Be),()=>{window.removeEventListener("storage",Be)}},[]),w.useEffect(()=>{const ae=Be=>{M&&!Be.target.closest(".position-relative")&&q(!1)};return document.addEventListener("click",ae),()=>{document.removeEventListener("click",ae)}},[M]),w.useEffect(()=>{const ae=()=>{const Be=window.innerWidth<700;we(Be),!Be&&je&&Re(!1)};return window.addEventListener("resize",ae),()=>window.removeEventListener("resize",ae)},[je]);const pt=(ae,Be)=>{const Ye=ae.startsWith("http")?ae:`${ua}${ae}`;window.open(Ye,"_blank")},Le=ae=>ae?ae.startsWith("http")?ae:`${ua}${ae.startsWith("/")?"":"/"}${ae}`:"",Ue=(ae,Be)=>{const Ye=ae.startsWith("http")?ae:`${ua}${ae.startsWith("/")?"":"/"}${ae}`,_t=document.createElement("a");_t.href=Ye,_t.download=Be||"download",document.body.appendChild(_t),_t.click(),setTimeout(()=>{document.body.removeChild(_t)},100)};return o.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:N?"#121212":"white"},children:[!ge&&o.jsx(Sc,{sidebarCollapsed:L}),o.jsxs("div",{style:{flex:1,marginLeft:ge?0:L?"80px":"270px",transition:"margin-left 0.3s ease",backgroundColor:N?"#121212":"white",color:N?"white":"black"},children:[!ge&&o.jsx(dE,{sidebarCollapsed:L,toggleSidebar:ke}),o.jsxs(Xd,{fluid:!0,className:ge?"p-0":"py-4",children:[o.jsx("style",{jsx:"true",children:`
            .typing-indicator {
              display: inline-flex;
              align-items: center;
            }
            .typing-indicator .dot {
              display: inline-block;
              width: 7px;
              height: 7px;
              border-radius: 50%;
              background-color: #6c757d;
              margin-right: 3px;
              animation: typing 1s infinite ease-in-out;
            }
            .typing-indicator .dot:nth-child(1) {
              animation-delay: 0s;
            }
            .typing-indicator .dot:nth-child(2) {
              animation-delay: 0.2s;
            }
            .typing-indicator .dot:nth-child(3) {
              animation-delay: 0.4s;
            }
            @keyframes typing {
              0%,
              60%,
              100% {
                transform: translateY(0);
              }
              30% {
                transform: translateY(-5px);
              }
            }

            /* iMessage styled bubbles */
            .message-bubble {
              position: relative;
              border-radius: 18px;
              padding: 8px 12px;
              width: auto; /* Auto width instead of max-width */
              margin-bottom: 0;
              white-space: pre-wrap; /* Changed from normal to pre-wrap */
              word-break: normal; /* Keep normal to prevent breaking in middle of words */
              overflow-wrap: normal; /* Changed from break-word to normal */
              display: inline-block;
              text-align: left;
              line-height: 1.4;
            }

            .sender-bubble {
              background-color: #0b84ff; /* iMessage blue */
              color: white;
              border-top-right-radius: 4px;
            }

            .receiver-bubble {
              background-color: ${N?"#2c2c2e":"#e5e5ea"};
              color: ${N?"#ffffff":"#212529"};
              border-top-left-radius: 4px;
              letter-spacing: normal;
              white-space: pre-wrap; /* Explicitly set for receiver bubbles */
              word-break: normal; /* Explicitly set for receiver bubbles */
            }

            /* Message container */
            .message-container {
              display: flex;
              flex-direction: column;
              margin-bottom: 10px;
              max-width: 75%;
              word-wrap: normal;
            }

            /* Message info row below bubble */
            .message-info {
              display: flex;
              align-items: center;
              margin-top: 2px;
              font-size: 0.7rem;
              color: ${N?"#aaaaaa":"#8e8e93"};
              padding: 0 4px;
            }

            .sender-info {
              justify-content: flex-end;
            }

            .message-time {
              margin-right: 4px;
            }
            .dark-mode .list-group-item {
              background-color: #2c2c2e !important;
              color: white !important;
            }

            .dark-mode .list-group-item.active {
              background-color: #0d6efd !important;
              border-color: #0d6efd !important;
              color: #fff !important;
            }

            .dark-mode .list-group-item:hover:not(.active) {
              background-color: #3c3c3e !important;
              color: #fff !important;
            }
            .message-status {
              display: flex;
              align-items: center;
              margin-left: 4px;
            }

            .status-pending {
              color: #8e8e93;
            }

            .status-delivered {
              color: #8e8e93;
            }

            .status-read {
              color: #0b84ff;
            }

            /* Background color for messages area */
            .messages-wrapper {
              background-color: ${N?"#1c1c1e":"#f5f5f7"};
            }

            .attachment-menu-item {
              position: absolute;
              width: 40px;
              height: 40px;
              border-radius: 50%;
              display: flex;
              align-items: center;
              justify-content: center;
              color: white;
              box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
              transform: translateY(0);
              opacity: 0;
              pointer-events: none;
              transition: all 0.3s cubic-bezier(0.18, 0.89, 0.32, 1.28);
            }

            .attachment-menu-item.show {
              opacity: 1;
              pointer-events: all;
            }

            .attachment-menu-item:nth-child(1).show {
              transform: translateY(-60px);
            }

            .attachment-menu-item:nth-child(2).show {
              transform: translateY(-110px);
            }

            .attachment-menu-item:nth-child(3).show {
              transform: translateY(-160px);
            }

            .attachment-item-label {
              position: absolute;
              background-color: rgba(0, 0, 0, 0.7);
              color: white;
              padding: 2px 8px;
              border-radius: 4px;
              font-size: 12px;
              left: 50px;
              white-space: nowrap;
              opacity: 0;
              transition: opacity 0.2s;
            }

            .attachment-menu-item:hover .attachment-item-label {
              opacity: 1;
            }

            .file-attachment-preview {
              margin-bottom: 10px;
            }

            .file-card {
              background-color: ${N?"#1c1c1e":"#eaeaea"};
              border-radius: 8px;
              padding: 10px;
              display: flex;
              align-items: center;
              margin-bottom: 8px;
              box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            }

            .file-icon {
              width: 40px;
              height: 40px;
              border-radius: 5px;
              background-color: #094d90;
              color: white;
              display: flex;
              flex-direction: column;
              justify-content: center;
              align-items: center;
              margin-right: 12px;
              position: relative;
            }

            .file-type-icon {
              font-size: 16px;
              margin-bottom: 2px;
            }

            .file-extension {
              font-size: 7px;
              text-transform: uppercase;
              font-weight: bold;
            }

            .file-details {
              flex: 1;
              overflow: hidden;
            }

            .file-name {
              font-size: 14px;
              font-weight: 500;
              white-space: nowrap;
              overflow: hidden;
              text-overflow: ellipsis;
              color: ${N?"#fff":"#000"};
            }

            .file-size {
              font-size: 12px;
              color: ${N?"#aaa":"#666"};
            }

            .image-preview {
              width: 40px;
              height: 40px;
              margin-right: 12px;
              border-radius: 5px;
              overflow: hidden;
            }

            .preview-image {
              width: 100%;
              height: 100%;
              object-fit: cover;
            }

            .remove-file-btn {
              width: 24px;
              height: 24px;
              border-radius: 50%;
              background-color: transparent;
              border: none;
              color: ${N?"#999":"#666"};
              display: flex;
              align-items: center;
              justify-content: center;
              cursor: pointer;
              padding: 0;
              margin-left: 8px;
            }

            .remove-file-btn:hover {
              background-color: ${N?"#333":"#ddd"};
            }

            .timestamp {
              font-size: 11px;
              color: ${N?"#aaa":"#999"};
              text-align: right;
              margin-top: 2px;
            }

            .message-attachment-preview {
              margin-bottom: 5px;
              max-width: 100%;
            }

            .attachment-image-container {
              width: 100%;
              overflow: hidden;
            }

            .attachment-image {
              max-width: 200px;
              height: auto;
              border-radius: 8px;
              display: block;
            }

            .file-message-card {
              display: flex;
              align-items: center;
              background-color: ${N?"#333333":"#f0f0f0"};
              border-radius: 8px;
              padding: 8px;
              margin-bottom: 5px;
            }

            .file-message-icon {
              width: 36px;
              height: 36px;
              display: flex;
              flex-direction: column;
              align-items: center;
              justify-content: center;
              background-color: #094d90;
              border-radius: 4px;
              margin-right: 8px;
              color: white;
            }

            .file-message-icon i {
              font-size: 14px;
              margin-bottom: 2px;
            }

            .file-message-ext {
              font-size: 6px;
              text-transform: uppercase;
              font-weight: bold;
            }

            .file-message-name {
              font-size: 12px;
              font-weight: 500;
              white-space: nowrap;
              overflow: hidden;
              text-overflow: ellipsis;
              max-width: 120px;
            }

            .attachment-image-container {
              position: relative;
              width: 100%;
              overflow: hidden;
              cursor: pointer;
            }

            .attachment-image-container:hover .image-overlay {
              opacity: 1;
            }

            .image-overlay {
              position: absolute;
              top: 0;
              left: 0;
              width: 100%;
              height: 100%;
              background-color: rgba(0, 0, 0, 0.5);
              display: flex;
              align-items: center;
              justify-content: center;
              opacity: 0;
              transition: opacity 0.2s;
              border-radius: 8px;
            }

            .image-overlay i {
              color: white;
              font-size: 24px;
            }

            .file-action-btn {
              width: 32px;
              height: 32px;
              border-radius: 50%;
              background-color: ${N?"#444":"#e6e6e6"};
              border: none;
              color: ${N?"#fff":"#333"};
              display: flex;
              align-items: center;
              justify-content: center;
              cursor: pointer;
              margin-left: 8px;
              transition: background-color 0.2s;
            }

            .file-action-btn:hover {
              background-color: ${N?"#666":"#ccc"};
            }

            .file-message-name {
              font-size: 12px;
              font-weight: 500;
              white-space: nowrap;
              overflow: hidden;
              text-overflow: ellipsis;
              max-width: 120px;
              margin-right: 8px;
            }
            .file-action-buttons {
              display: flex;
              margin-left: 8px;
            }
            .file-action-buttons {
              display: flex;
              margin-left: 8px;
              opacity: 0;
              transition: opacity 0.2s ease;
            }

            .file-message-card:hover .file-action-buttons {
              opacity: 1;
            }

            .file-action-btn {
              width: 32px;
              height: 32px;
              border-radius: 50%;
              background-color: ${N?"#444":"#e6e6e6"};
              border: none;
              color: ${N?"#fff":"#333"};
              display: flex;
              align-items: center;
              justify-content: center;
              cursor: pointer;
              margin-left: 4px;
              transition:
                background-color 0.2s,
                transform 0.1s;
            }

            .file-action-btn:hover {
              background-color: ${N?"#666":"#ccc"};
              transform: scale(1.1);
            }
            .message-input-container {
              width: 100%;
              margin-top: 0;
            }

            .file-attachment-preview {
              width: 100%;
              margin-bottom: 12px;
            }

            /* Make the Form use flex column layout */
            .d-flex.flex-column {
              display: flex;
              flex-direction: column;
            }
          `}),ge?o.jsx("div",{className:"h-100",children:!je||!n?o.jsxs($t,{className:"h-100 shadow-sm mb-0",style:{backgroundColor:N?"#2c2c2e":"white",borderColor:N?"#444":"#ddd",borderRadius:0},children:[o.jsxs($t.Header,{className:"d-flex justify-content-between align-items-center text-white py-3",style:{backgroundColor:N?"#1c1c1e":"#0d6efd"},children:[o.jsx("h5",{className:"mb-0",children:"Conversations"}),o.jsx(Mt,{variant:N?"dark":"light",size:"sm",className:"rounded-circle d-flex align-items-center justify-content-center",style:{width:"32px",height:"32px",padding:0,boxShadow:"0px 2px 4px rgba(0,0,0,0.1)"},onClick:()=>{f(!0),Je()},children:o.jsx("i",{className:"fas fa-plus"})})]}),o.jsx($t.Body,{className:"p-0",style:{height:"calc(100vh - 200px)",overflowY:"auto",backgroundColor:N?"#2c2c2e":"white"},children:c&&!t.length?o.jsxs("div",{className:"text-center p-4",children:[o.jsx(Yr,{animation:"border",variant:"primary"}),o.jsx("p",{className:"mt-2 text-muted",children:"Loading conversations..."})]}):t.length===0?o.jsxs("div",{className:"text-center p-4",children:[o.jsx("i",{className:"fas fa-comments fa-2x mb-3"}),o.jsx("p",{style:{color:N?"white":"black"},children:"No conversations yet. Start a new one!"})]}):o.jsx("ul",{className:"list-group list-group-flush",children:t.map(ae=>{const Be=ae.other_participant||{},Ye=(Be==null?void 0:Be.name)||"Unknown User",_t=ae.last_message||{};return o.jsxs("li",{className:`list-group-item list-group-item-action d-flex align-items-center p-3 ${(n==null?void 0:n.id)===ae.id?"active":""}`,onClick:()=>ct(ae),style:{cursor:"pointer"},children:[o.jsxs("div",{className:"position-relative",children:[o.jsx("img",{src:Ie(Be),alt:Ye,className:"rounded-circle me-3",width:"48",height:"48",style:{objectFit:"cover"},onError:Ze=>{Ze.target.onerror=null,Ze.target.src=pi}}),ae.unread_count>0&&o.jsx(rr,{bg:"danger",pill:!0,className:"position-absolute top-0 end-0",children:ae.unread_count})]}),o.jsxs("div",{className:"flex-grow-1 overflow-hidden",children:[o.jsx("h6",{className:"mb-1 text-truncate",children:Ye}),_t.content?o.jsx("p",{className:"mb-0 small text-truncate text",children:_t.content}):o.jsx("p",{className:"mb-0 small text",children:"No messages yet"})]}),_t.timestamp&&o.jsx("small",{className:"text-muted ms-2",children:new Date(_t.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},ae.id)})})})]}):o.jsxs($t,{className:"h-100 shadow-sm",style:{backgroundColor:N?"#2c2c2e":"white",borderColor:N?"#444":"#ddd",marginBottom:"50px"},children:[o.jsxs($t.Header,{className:"d-flex align-items-center py-2 position-relative",style:{backgroundColor:N?"#1c1c1e":"#f8f9fa",color:N?"white":"black"},children:[o.jsx("div",{onClick:X,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:1,cursor:"pointer"}}),o.jsx("i",{className:"fas fa-chevron-left me-3",style:{fontSize:"16px",color:N?"white":"#0d6efd",zIndex:2,position:"relative"}}),o.jsxs("div",{className:"d-flex align-items-center mx-auto",style:{zIndex:2},children:[o.jsx("img",{src:Ie(n.other_participant),alt:((Ke=n.other_participant)==null?void 0:Ke.username)||"Unknown User",className:"rounded-circle me-2",width:"40",height:"40",style:{objectFit:"cover"},onError:ae=>{ae.target.onerror=null,ae.target.src=pi}}),o.jsxs("div",{children:[o.jsx("h5",{className:"mb-0",children:Fe(n.other_participant)}),((xt=n.other_participant)==null?void 0:xt.username)&&o.jsxs("small",{className:"text-muted",children:["@",n.other_participant.username]})]})]})]}),o.jsx($t.Body,{className:"p-3 messages-wrapper",style:{height:"calc(100vh - 220px)",overflowY:"auto"},ref:x,children:c&&!s.length?o.jsxs("div",{className:"text-center p-4",children:[o.jsx(Yr,{animation:"border",variant:"primary"}),o.jsx("p",{className:"mt-2 text-muted",children:"Loading messages..."})]}):s.length===0?o.jsxs("div",{className:"text-center p-5 text",children:[o.jsx("i",{className:"fas fa-paper-plane fa-3x mb-3"}),o.jsx("p",{children:"No messages yet. Send one to start the conversation!"})]}):o.jsxs(o.Fragment,{children:[s.map(ae=>{var Be;return o.jsxs("div",{className:`d-flex ${ae.is_sender?"justify-content-end":"justify-content-start"} mb-2`,children:[!ae.is_sender&&o.jsx("img",{src:Ie(n.other_participant),alt:((Be=n.other_participant)==null?void 0:Be.username)||"Unknown User",className:"rounded-circle me-2 align-self-start",width:"32",height:"32",style:{objectFit:"cover"},onError:Ye=>{Ye.target.onerror=null,Ye.target.src=pi}}),o.jsxs("div",{className:`message-container ${ae.is_sender?"sender-container":"receiver-container"}`,children:[o.jsxs("div",{className:`message-bubble ${ae.is_sender?"sender-bubble":"receiver-bubble"}`,children:[ae.attachment&&o.jsx("div",{className:"message-attachment-preview mb-2",children:ae.attachment.toLowerCase().match(/\.(jpeg|jpg|png|gif|webp|bmp)$/)?o.jsxs("div",{className:"attachment-image-container",onClick:()=>me(Le(ae.attachment)),children:[o.jsx("img",{src:Le(ae.attachment),alt:"Attachment",className:"attachment-image",style:{maxWidth:"200px",borderRadius:"8px",cursor:"pointer"}}),o.jsx("div",{className:"image-overlay",children:o.jsx("i",{className:"fas fa-search-plus"})})]}):o.jsxs("div",{className:"file-message-card",children:[o.jsxs("div",{className:"file-message-icon",children:[o.jsx("i",{className:ae.attachment.toLowerCase().endsWith(".pdf")?"fas fa-file-pdf":ae.attachment.toLowerCase().match(/\.(doc|docx)$/)?"fas fa-file-word":ae.attachment.toLowerCase().match(/\.(txt|rtf)$/)?"fas fa-file-alt":"fas fa-file"}),o.jsx("span",{className:"file-message-ext",children:ae.attachment.split(".").pop().toUpperCase()})]}),o.jsx("div",{className:"file-message-name",children:ae.attachment.split("/").pop()}),o.jsxs("div",{className:"file-action-buttons",children:[o.jsx("button",{className:"file-action-btn",onClick:Ye=>{Ye.stopPropagation(),pt(ae.attachment,ae.attachment.split("/").pop())},"aria-label":"Open file",title:"Open file",children:o.jsx("i",{className:"fas fa-external-link-alt"})}),o.jsx("button",{className:"file-action-btn",onClick:Ye=>{Ye.stopPropagation(),Ue(ae.attachment,ae.attachment.split("/").pop())},"aria-label":"Download file",title:"Download file",children:o.jsx("i",{className:"fas fa-download"})})]})]})}),ae.content]}),o.jsx("div",{className:`message-info ${ae.is_sender?"sender-info":""}`,children:o.jsx("span",{className:"message-time",children:ae.created_at?new Date(ae.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})})]}),ae.is_sender&&o.jsx("img",{src:Ie(A)||pi,alt:(A==null?void 0:A.username)||"You",className:"rounded-circle ms-2 align-self-start",width:"32",height:"32",style:{objectFit:"cover"},onError:Ye=>{Ye.target.onerror=null,Ye.target.src=pi}})]},ae.id)}),n.typing_status&&o.jsx(ut,{})]})}),o.jsx($t.Footer,{className:"p-3",style:{backgroundColor:N?"#2c2c2e":"white",borderTop:N?"1px solid #444":"1px solid #ddd"},children:o.jsxs(qe,{onSubmit:he,className:"d-flex flex-column",children:[K&&o.jsx("div",{className:"file-attachment-preview",children:o.jsxs("div",{className:"file-card",children:[K.type.startsWith("image/")?o.jsx("div",{className:"image-preview",children:o.jsx("img",{src:URL.createObjectURL(K),alt:K.name,className:"preview-image"})}):o.jsxs("div",{className:"file-icon",children:[o.jsx("div",{className:"file-type-icon",children:o.jsx("i",{className:K.type.startsWith("application/pdf")?"fas fa-file-pdf":K.name.match(/\.(doc|docx)$/i)?"fas fa-file-word":K.name.match(/\.(txt)$/i)?"fas fa-file-alt":"fas fa-file"})}),o.jsx("div",{className:"file-extension",children:K.name.split(".").pop().toUpperCase()})]}),o.jsxs("div",{className:"file-details",children:[o.jsx("div",{className:"file-name",children:K.name}),o.jsx("div",{className:"file-size",children:K.size<1024?`${K.size} B`:K.size<1024*1024?`${(K.size/1024).toFixed(1)} KB`:`${(K.size/(1024*1024)).toFixed(1)} MB`})]}),o.jsx("button",{type:"button",onClick:()=>F(null),className:"remove-file-btn",children:o.jsx("i",{className:"fas fa-times"})})]})}),o.jsxs("div",{className:"message-input-container position-relative",children:[o.jsx(Mt,{type:"button",variant:N?"dark":"primary",style:{position:"absolute",left:"5px",top:"5px",borderRadius:"50%",backgroundColor:"rgba(0,0,0,0)",borderColor:"rgba(0,0,0,0)",color:"rgb(2, 0, 125)",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",padding:0,boxShadow:"none",zIndex:2},onClick:()=>q(!M),children:o.jsx("i",{className:"fas fa-paperclip",style:{fontSize:"14px"}})}),o.jsx(qe.Control,{id:"message-input",type:"text",value:a,onChange:ae=>{l(ae.target.value),se()},placeholder:"Type your message...","aria-label":"Type your message",style:{backgroundColor:"white",color:"black",borderColor:N?"#555":"#ced4da",borderRadius:"24px",paddingRight:"50px",paddingLeft:"50px",height:"46px"}}),o.jsx(Mt,{type:"submit",variant:N?"dark":"primary",disabled:!a.trim()&&!K,style:{position:"absolute",right:"5px",top:"5px",zIndex:10,borderRadius:"50%",backgroundColor:"rgba(0,0,0,0)",borderColor:"rgba(0,0,0,0)",color:"rgb(2, 0, 125)",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",padding:0,boxShadow:"none"},children:o.jsx("i",{className:"fas fa-paper-plane",style:{fontSize:"14px"}})}),o.jsxs("div",{className:"attachment-menu",children:[o.jsxs("div",{className:`attachment-menu-item ${M?"show":""}`,style:{backgroundColor:"#0b84ff",bottom:"20px"},onClick:()=>{Q.current&&Q.current.click(),q(!1)},children:[o.jsx("i",{className:"fas fa-image"}),o.jsx("span",{className:"attachment-item-label",children:"Image"}),o.jsx("input",{type:"file",ref:Q,style:{display:"none"},accept:"image/*",onChange:ie})]}),o.jsxs("div",{className:`attachment-menu-item ${M?"show":""}`,style:{backgroundColor:"#28a745",bottom:"20px"},onClick:()=>{ee.current&&ee.current.click(),q(!1)},children:[o.jsx("i",{className:"fas fa-file-alt"}),o.jsx("span",{className:"attachment-item-label",children:"Document"}),o.jsx("input",{type:"file",ref:ee,style:{display:"none"},accept:".pdf,.doc,.docx,.txt,.rtf",onChange:fe})]}),o.jsxs("div",{className:`attachment-menu-item ${M?"show":""}`,style:{backgroundColor:"#ffc107",bottom:"20px"},onClick:()=>{E.current&&E.current.click(),q(!1)},children:[o.jsx("i",{className:"fas fa-file"}),o.jsx("span",{className:"attachment-item-label",children:"Any File"}),o.jsx("input",{type:"file",ref:E,style:{display:"none"},onChange:Te})]})]})]})]})})]})}):o.jsxs(Cs,{className:"h-100",children:[o.jsx(An,{md:4,lg:3,className:"mb-4",children:o.jsxs($t,{className:"h-100 shadow-sm",style:{backgroundColor:N?"#2c2c2e":"white",borderColor:N?"#444":"#ddd"},children:[o.jsxs($t.Header,{className:"d-flex justify-content-between align-items-center text-white py-3",style:{backgroundColor:N?"#1c1c1e":"#0d6efd"},children:[o.jsx("h5",{className:"mb-0",children:"Conversations"}),o.jsx(Mt,{variant:N?"dark":"light",size:"sm",className:"rounded-circle d-flex align-items-center justify-content-center",style:{width:"32px",height:"32px",padding:0,boxShadow:"0px 2px 4px rgba(0,0,0,0.1)"},onClick:()=>{f(!0),Je()},children:o.jsx("i",{className:"fas fa-plus"})})]}),o.jsx($t.Body,{className:"p-0",style:{maxHeight:"70vh",overflowY:"auto",backgroundColor:N?"#2c2c2e":"white"},children:c&&!t.length?o.jsxs("div",{className:"text-center p-4",children:[o.jsx(Yr,{animation:"border",variant:"primary"}),o.jsx("p",{className:"mt-2 text-muted",children:"Loading conversations..."})]}):t.length===0?o.jsxs("div",{className:"text-center p-4",children:[o.jsx("i",{className:"fas fa-comments fa-2x mb-3"}),o.jsx("p",{style:{color:N?"white":"black"},children:"No conversations yet. Start a new one!"})]}):o.jsx("ul",{className:"list-group list-group-flush",children:t.map(ae=>{const Be=ae.other_participant||{},Ye=(Be==null?void 0:Be.name)||"Unknown User",_t=ae.last_message||{};return o.jsxs("li",{className:`list-group-item list-group-item-action d-flex align-items-center p-3 ${(n==null?void 0:n.id)===ae.id?"active":""}`,onClick:()=>ct(ae),style:{cursor:"pointer"},children:[o.jsxs("div",{className:"position-relative",children:[o.jsx("img",{src:Ie(Be),alt:Ye,className:"rounded-circle me-3",width:"48",height:"48",style:{objectFit:"cover"},onError:Ze=>{Ze.target.onerror=null,Ze.target.src=pi}}),ae.unread_count>0&&o.jsx(rr,{bg:"danger",pill:!0,className:"position-absolute top-0 end-0",children:ae.unread_count})]}),o.jsxs("div",{className:"flex-grow-1 overflow-hidden",children:[o.jsx("h6",{className:"mb-1 text-truncate",children:Ye}),_t.content?o.jsx("p",{className:"mb-0 small text-truncate text",children:_t.content}):o.jsx("p",{className:"mb-0 small text",children:"No messages yet"})]}),_t.timestamp&&o.jsx("small",{className:"text-muted ms-2",children:new Date(_t.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},ae.id)})})})]})}),o.jsx(An,{md:8,lg:9,children:o.jsx($t,{className:"h-100 shadow-sm",style:{backgroundColor:N?"#2c2c2e":"white",borderColor:N?"#444":"#ddd"},children:n?o.jsxs(o.Fragment,{children:[o.jsx($t.Header,{className:"d-flex justify-content-between align-items-center py-2",style:{backgroundColor:N?"#1c1c1e":"#f8f9fa",color:N?"white":"black"},children:o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("img",{src:Ie(n.other_participant),alt:((Qe=n.other_participant)==null?void 0:Qe.username)||"Unknown User",className:"rounded-circle me-2",width:"40",height:"40",style:{objectFit:"cover"},onError:ae=>{ae.target.onerror=null,ae.target.src=pi}}),o.jsxs("div",{children:[o.jsx("h5",{className:"mb-0",children:Fe(n.other_participant)}),((ot=n.other_participant)==null?void 0:ot.username)&&o.jsxs("small",{className:"text-muted",children:["@",n.other_participant.username]})]})]})}),o.jsx($t.Body,{className:"p-3 messages-wrapper",style:{height:"60vh",overflowY:"auto"},ref:x,children:c&&!s.length?o.jsxs("div",{className:"text-center p-4",children:[o.jsx(Yr,{animation:"border",variant:"primary"}),o.jsx("p",{className:"mt-2 text-muted",children:"Loading messages..."})]}):s.length===0?o.jsxs("div",{className:"text-center p-5 text",children:[o.jsx("i",{className:"fas fa-paper-plane fa-3x mb-3"}),o.jsx("p",{children:"No messages yet. Send one to start the conversation!"})]}):o.jsxs(o.Fragment,{children:[s.map(ae=>{var Be;return o.jsxs("div",{className:`d-flex ${ae.is_sender?"justify-content-end":"justify-content-start"} mb-2`,children:[!ae.is_sender&&o.jsx("img",{src:Ie(n.other_participant),alt:((Be=n.other_participant)==null?void 0:Be.username)||"Unknown User",className:"rounded-circle me-2 align-self-start",width:"32",height:"32",style:{objectFit:"cover"},onError:Ye=>{Ye.target.onerror=null,Ye.target.src=pi}}),o.jsxs("div",{className:`message-container ${ae.is_sender?"sender-container":"receiver-container"}`,children:[o.jsxs("div",{className:`message-bubble ${ae.is_sender?"sender-bubble":"receiver-bubble"}`,children:[ae.attachment&&o.jsx("div",{className:"message-attachment-preview mb-2",children:ae.attachment.toLowerCase().match(/\.(jpeg|jpg|png|gif|webp|bmp)$/)?o.jsxs("div",{className:"attachment-image-container",onClick:()=>me(Le(ae.attachment)),children:[o.jsx("img",{src:Le(ae.attachment),alt:"Attachment",className:"attachment-image",style:{maxWidth:"200px",borderRadius:"8px",cursor:"pointer"}}),o.jsx("div",{className:"image-overlay",children:o.jsx("i",{className:"fas fa-search-plus"})})]}):o.jsxs("div",{className:"file-message-card",children:[o.jsxs("div",{className:"file-message-icon",children:[o.jsx("i",{className:ae.attachment.toLowerCase().endsWith(".pdf")?"fas fa-file-pdf":ae.attachment.toLowerCase().match(/\.(doc|docx)$/)?"fas fa-file-word":ae.attachment.toLowerCase().match(/\.(txt|rtf)$/)?"fas fa-file-alt":"fas fa-file"}),o.jsx("span",{className:"file-message-ext",children:ae.attachment.split(".").pop().toUpperCase()})]}),o.jsx("div",{className:"file-message-name",children:ae.attachment.split("/").pop()}),o.jsxs("div",{className:"file-action-buttons",children:[o.jsx("button",{className:"file-action-btn",onClick:Ye=>{Ye.stopPropagation(),pt(ae.attachment,ae.attachment.split("/").pop())},"aria-label":"Open file",title:"Open file",children:o.jsx("i",{className:"fas fa-external-link-alt"})}),o.jsx("button",{className:"file-action-btn",onClick:Ye=>{Ye.stopPropagation(),Ue(ae.attachment,ae.attachment.split("/").pop())},"aria-label":"Download file",title:"Download file",children:o.jsx("i",{className:"fas fa-download"})})]})]})}),ae.content]}),o.jsx("div",{className:`message-info ${ae.is_sender?"sender-info":""}`,children:o.jsx("span",{className:"message-time",children:ae.created_at?new Date(ae.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})})]}),ae.is_sender&&o.jsx("img",{src:Ie(A)||pi,alt:(A==null?void 0:A.username)||"You",className:"rounded-circle ms-2 align-self-start",width:"32",height:"32",style:{objectFit:"cover"},onError:Ye=>{Ye.target.onerror=null,Ye.target.src=pi}})]},ae.id)}),n.typing_status&&o.jsx(ut,{})]})}),o.jsx($t.Footer,{className:"p-3",style:{backgroundColor:N?"#2c2c2e":"white",borderTop:N?"1px solid #444":"1px solid #ddd"},children:o.jsxs(qe,{onSubmit:he,className:"d-flex flex-column",children:[K&&o.jsx("div",{className:"file-attachment-preview",children:o.jsxs("div",{className:"file-card",children:[K.type.startsWith("image/")?o.jsx("div",{className:"image-preview",children:o.jsx("img",{src:URL.createObjectURL(K),alt:K.name,className:"preview-image"})}):o.jsxs("div",{className:"file-icon",children:[o.jsx("div",{className:"file-type-icon",children:o.jsx("i",{className:K.type.startsWith("application/pdf")?"fas fa-file-pdf":K.name.match(/\.(doc|docx)$/i)?"fas fa-file-word":K.name.match(/\.(txt)$/i)?"fas fa-file-alt":"fas fa-file"})}),o.jsx("div",{className:"file-extension",children:K.name.split(".").pop().toUpperCase()})]}),o.jsxs("div",{className:"file-details",children:[o.jsx("div",{className:"file-name",children:K.name}),o.jsx("div",{className:"file-size",children:K.size<1024?`${K.size} B`:K.size<1024*1024?`${(K.size/1024).toFixed(1)} KB`:`${(K.size/(1024*1024)).toFixed(1)} MB`})]}),o.jsx("button",{type:"button",onClick:()=>F(null),className:"remove-file-btn",children:o.jsx("i",{className:"fas fa-times"})})]})}),o.jsxs("div",{className:"message-input-container position-relative",children:[o.jsx(Mt,{type:"button",variant:N?"dark":"primary",style:{position:"absolute",left:"5px",top:"5px",borderRadius:"50%",backgroundColor:"rgba(0,0,0,0)",borderColor:"rgba(0,0,0,0)",color:"rgb(2, 0, 125)",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",padding:0,boxShadow:"none",zIndex:2},onClick:()=>q(!M),children:o.jsx("i",{className:"fas fa-paperclip",style:{fontSize:"14px"}})}),o.jsx(qe.Control,{id:"message-input",type:"text",value:a,onChange:ae=>{l(ae.target.value),se()},placeholder:"Type your message...","aria-label":"Type your message",style:{backgroundColor:"white",color:"black",borderColor:N?"#555":"#ced4da",borderRadius:"24px",paddingRight:"50px",paddingLeft:"50px",height:"46px"}}),o.jsx(Mt,{type:"submit",variant:N?"dark":"primary",disabled:!a.trim()&&!K,style:{position:"absolute",right:"5px",top:"5px",zIndex:10,borderRadius:"50%",backgroundColor:"rgba(0,0,0,0)",borderColor:"rgba(0,0,0,0)",color:"rgb(2, 0, 125)",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",padding:0,boxShadow:"none"},children:o.jsx("i",{className:"fas fa-paper-plane",style:{fontSize:"14px"}})}),o.jsxs("div",{className:"attachment-menu",children:[o.jsxs("div",{className:`attachment-menu-item ${M?"show":""}`,style:{backgroundColor:"#0b84ff",bottom:"20px"},onClick:()=>{Q.current&&Q.current.click(),q(!1)},children:[o.jsx("i",{className:"fas fa-image"}),o.jsx("span",{className:"attachment-item-label",children:"Image"}),o.jsx("input",{type:"file",ref:Q,style:{display:"none"},accept:"image/*",onChange:ie})]}),o.jsxs("div",{className:`attachment-menu-item ${M?"show":""}`,style:{backgroundColor:"#28a745",bottom:"20px"},onClick:()=>{ee.current&&ee.current.click(),q(!1)},children:[o.jsx("i",{className:"fas fa-file-alt"}),o.jsx("span",{className:"attachment-item-label",children:"Document"}),o.jsx("input",{type:"file",ref:ee,style:{display:"none"},accept:".pdf,.doc,.docx,.txt,.rtf",onChange:fe})]}),o.jsxs("div",{className:`attachment-menu-item ${M?"show":""}`,style:{backgroundColor:"#ffc107",bottom:"20px"},onClick:()=>{E.current&&E.current.click(),q(!1)},children:[o.jsx("i",{className:"fas fa-file"}),o.jsx("span",{className:"attachment-item-label",children:"Any File"}),o.jsx("input",{type:"file",ref:E,style:{display:"none"},onChange:Te})]})]})]})]})})]}):o.jsxs($t.Body,{className:"text-center p-5",style:{backgroundColor:N?"#2c2c2e":"white",color:N?"white":"black"},children:[o.jsx("i",{className:"fas fa-comments fa-4x text mb-3"}),o.jsx("p",{className:"text mb-4",children:"Select a conversation or start a new one to begin chatting."}),o.jsxs(Mt,{variant:N?"dark":"primary",onClick:()=>{f(!0),Je()},children:[o.jsx("i",{className:"fas fa-plus me-2"}),"Start a New Conversation"]})]})})})]}),o.jsxs(Tt,{show:h,onHide:()=>f(!1),size:"lg",contentClassName:N?"bg-dark text-light":"",children:[o.jsxs(Tt.Header,{style:{backgroundColor:N?"#2c2c2e":"white",borderBottom:N?"1px solid #444":"1px solid #dee2e6",color:N?"white":"black",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx(Tt.Title,{children:"Start New Conversation"}),o.jsx("button",{onClick:()=>f(!1),style:{background:"transparent",border:"none",fontSize:"1.2rem",padding:"0.25rem 0.5rem",cursor:"pointer",color:N?"#fff":"#212529",transition:"color 0.15s ease-in-out"},"aria-label":"Close",className:"custom-close-button",onMouseOver:ae=>ae.currentTarget.style.color=N?"#999":"#666",onMouseOut:ae=>ae.currentTarget.style.color=N?"#fff":"#212529",children:""})]}),o.jsxs(Tt.Body,{style:{backgroundColor:N?"#2c2c2e":"white"},children:[o.jsx(qe.Group,{className:"mb-3",children:o.jsx(qe.Control,{type:"text",placeholder:"Search users...",value:b,onChange:ae=>y(ae.target.value),style:{backgroundColor:N?"#3c3c3e":"white",color:N?"white":"black",borderColor:N?"#555":"#ced4da"}})}),o.jsx("div",{style:{maxHeight:"400px",overflowY:"auto"},children:Se.length>0?o.jsx("ul",{className:"list-group",children:Se.map(ae=>o.jsxs("li",{className:"list-group-item list-group-item-action d-flex align-items-center",style:{cursor:"pointer"},onClick:()=>ve(ae),children:[o.jsx("img",{src:Ie(ae),alt:ae.username||"User",className:"rounded-circle me-3",width:"48",height:"48",style:{objectFit:"cover"},onError:Be=>{Be.target.onerror=null,Be.target.src=pi}}),o.jsxs("div",{children:[o.jsx("h6",{className:"mb-0",children:ae.full_name||ae.username}),o.jsxs("small",{className:"text",children:["@",ae.username]})]})]},ae.user_id))}):b?o.jsxs("p",{className:"text-center text-muted",children:['No users found matching "',b,'"']}):c?o.jsxs("div",{className:"text-center p-4",children:[o.jsx(Yr,{animation:"border",variant:"primary",size:"sm"}),o.jsx("p",{className:"mt-2 text-muted",children:"Loading users..."})]}):o.jsx("p",{className:"text-center text-muted",children:"No users available"})})]})]}),o.jsxs(Tt,{show:W!==null,onHide:()=>me(null),size:"xl",centered:!0,contentClassName:N?"bg-dark":"",children:[o.jsx(Tt.Header,{style:{backgroundColor:N?"#1c1c1e":"white",borderBottom:N?"1px solid #444":"1px solid #dee2e6",color:N?"white":"black"},closeButton:!0,children:o.jsx(Tt.Title,{children:"Image Preview"})}),o.jsx(Tt.Body,{style:{backgroundColor:N?"#2c2e":"white",padding:0,textAlign:"center"},children:W&&o.jsx("img",{src:W,alt:"Full size preview",style:{maxWidth:"100%",maxHeight:"80vh",margin:"0 auto",display:"block"}})}),o.jsxs(Tt.Footer,{style:{backgroundColor:N?"#1c1c1e":"white",borderTop:N?"1px solid #444":"1px solid #dee2e6"},children:[o.jsx(Mt,{variant:"secondary",onClick:()=>me(null),children:"Close"}),o.jsx(Mt,{variant:"primary",onClick:()=>Ue(W,W.split("/").pop()),children:"Download"})]})]})]})]}),ge&&o.jsx(Su,{})]})};/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function uxe(t,e,n){return(e=hxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function It(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oP(Object(n),!0).forEach(function(r){uxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hxe(t){var e=dxe(t,"string");return typeof e=="symbol"?e:e+""}const lP=()=>{};let hE={},jB={},NB=null,DB={mark:lP,measure:lP};try{typeof window<"u"&&(hE=window),typeof document<"u"&&(jB=document),typeof MutationObserver<"u"&&(NB=MutationObserver),typeof performance<"u"&&(DB=performance)}catch{}const{userAgent:cP=""}=hE.navigator||{},Pu=hE,Cr=jB,uP=NB,Yy=DB;Pu.document;const Cc=!!Cr.documentElement&&!!Cr.head&&typeof Cr.addEventListener=="function"&&typeof Cr.createElement=="function",AB=~cP.indexOf("MSIE")||~cP.indexOf("Trident/");var fxe=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,pxe=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,PB={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},mxe={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},IB=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],ti="classic",o1="duotone",gxe="sharp",yxe="sharp-duotone",OB=[ti,o1,gxe,yxe],bxe={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},xxe={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},vxe=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),_xe={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},wxe=["fak","fa-kit","fakd","fa-kit-duotone"],dP={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},Sxe=["kit"],Cxe={kit:{"fa-kit":"fak"}},Txe=["fak","fakd"],kxe={kit:{fak:"fa-kit"}},hP={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},Gy={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Exe=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],jxe=["fak","fa-kit","fakd","fa-kit-duotone"],Nxe={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},Dxe={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},Axe={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},ZS={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},Pxe=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],JS=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...Exe,...Pxe],Ixe=["solid","regular","light","thin","duotone","brands"],MB=[1,2,3,4,5,6,7,8,9,10],Oxe=MB.concat([11,12,13,14,15,16,17,18,19,20]),Mxe=[...Object.keys(Axe),...Ixe,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Gy.GROUP,Gy.SWAP_OPACITY,Gy.PRIMARY,Gy.SECONDARY].concat(MB.map(t=>"".concat(t,"x"))).concat(Oxe.map(t=>"w-".concat(t))),Rxe={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const xc="___FONT_AWESOME___",eC=16,RB="fa",LB="svg-inline--fa",eh="data-fa-i2svg",tC="data-fa-pseudo-element",Lxe="data-fa-pseudo-element-pending",fE="data-prefix",pE="data-icon",fP="fontawesome-i2svg",Fxe="async",Bxe=["HTML","HEAD","STYLE","SCRIPT"],FB=(()=>{try{return!0}catch{return!1}})();function w0(t){return new Proxy(t,{get(e,n){return n in e?e[n]:e[ti]}})}const BB=It({},PB);BB[ti]=It(It(It(It({},{"fa-duotone":"duotone"}),PB[ti]),dP.kit),dP["kit-duotone"]);const $xe=w0(BB),nC=It({},_xe);nC[ti]=It(It(It(It({},{duotone:"fad"}),nC[ti]),hP.kit),hP["kit-duotone"]);const pP=w0(nC),rC=It({},ZS);rC[ti]=It(It({},rC[ti]),kxe.kit);const mE=w0(rC),sC=It({},Dxe);sC[ti]=It(It({},sC[ti]),Cxe.kit);w0(sC);const zxe=fxe,$B="fa-layers-text",Uxe=pxe,Hxe=It({},bxe);w0(Hxe);const Wxe=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],p2=mxe,Vxe=[...Sxe,...Mxe],og=Pu.FontAwesomeConfig||{};function qxe(t){var e=Cr.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function Yxe(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}Cr&&typeof Cr.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[n,r]=e;const s=Yxe(qxe(n));s!=null&&(og[r]=s)});const zB={styleDefault:"solid",familyDefault:ti,cssPrefix:RB,replacementClass:LB,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};og.familyPrefix&&(og.cssPrefix=og.familyPrefix);const op=It(It({},zB),og);op.autoReplaceSvg||(op.observeMutations=!1);const an={};Object.keys(zB).forEach(t=>{Object.defineProperty(an,t,{enumerable:!0,set:function(e){op[t]=e,lg.forEach(n=>n(an))},get:function(){return op[t]}})});Object.defineProperty(an,"familyPrefix",{enumerable:!0,set:function(t){op.cssPrefix=t,lg.forEach(e=>e(an))},get:function(){return op.cssPrefix}});Pu.FontAwesomeConfig=an;const lg=[];function Gxe(t){return lg.push(t),()=>{lg.splice(lg.indexOf(t),1)}}const ou=eC,xl={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Kxe(t){if(!t||!Cc)return;const e=Cr.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;const n=Cr.head.childNodes;let r=null;for(let s=n.length-1;s>-1;s--){const i=n[s],a=(i.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=i)}return Cr.head.insertBefore(e,r),t}const Xxe="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Ug(){let t=12,e="";for(;t-- >0;)e+=Xxe[Math.random()*62|0];return e}function Np(t){const e=[];for(let n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function gE(t){return t.classList?Np(t.classList):(t.getAttribute("class")||"").split(" ").filter(e=>e)}function UB(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Qxe(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,'="').concat(UB(t[n]),'" '),"").trim()}function l1(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,": ").concat(t[n].trim(),";"),"")}function yE(t){return t.size!==xl.size||t.x!==xl.x||t.y!==xl.y||t.rotate!==xl.rotate||t.flipX||t.flipY}function Zxe(t){let{transform:e,containerWidth:n,iconWidth:r}=t;const s={transform:"translate(".concat(n/2," 256)")},i="translate(".concat(e.x*32,", ").concat(e.y*32,") "),a="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),l="rotate(".concat(e.rotate," 0 0)"),c={transform:"".concat(i," ").concat(a," ").concat(l)},u={transform:"translate(".concat(r/2*-1," -256)")};return{outer:s,inner:c,path:u}}function Jxe(t){let{transform:e,width:n=eC,height:r=eC,startCentered:s=!1}=t,i="";return s&&AB?i+="translate(".concat(e.x/ou-n/2,"em, ").concat(e.y/ou-r/2,"em) "):s?i+="translate(calc(-50% + ".concat(e.x/ou,"em), calc(-50% + ").concat(e.y/ou,"em)) "):i+="translate(".concat(e.x/ou,"em, ").concat(e.y/ou,"em) "),i+="scale(".concat(e.size/ou*(e.flipX?-1:1),", ").concat(e.size/ou*(e.flipY?-1:1),") "),i+="rotate(".concat(e.rotate,"deg) "),i}var eve=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function HB(){const t=RB,e=LB,n=an.cssPrefix,r=an.replacementClass;let s=eve;if(n!==t||r!==e){const i=new RegExp("\\.".concat(t,"\\-"),"g"),a=new RegExp("\\--".concat(t,"\\-"),"g"),l=new RegExp("\\.".concat(e),"g");s=s.replace(i,".".concat(n,"-")).replace(a,"--".concat(n,"-")).replace(l,".".concat(r))}return s}let mP=!1;function m2(){an.autoAddCss&&!mP&&(Kxe(HB()),mP=!0)}var tve={mixout(){return{dom:{css:HB,insertCss:m2}}},hooks(){return{beforeDOMElementCreation(){m2()},beforeI2svg(){m2()}}}};const vc=Pu||{};vc[xc]||(vc[xc]={});vc[xc].styles||(vc[xc].styles={});vc[xc].hooks||(vc[xc].hooks={});vc[xc].shims||(vc[xc].shims=[]);var vl=vc[xc];const WB=[],VB=function(){Cr.removeEventListener("DOMContentLoaded",VB),Mx=1,WB.map(t=>t())};let Mx=!1;Cc&&(Mx=(Cr.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Cr.readyState),Mx||Cr.addEventListener("DOMContentLoaded",VB));function nve(t){Cc&&(Mx?setTimeout(t,0):WB.push(t))}function S0(t){const{tag:e,attributes:n={},children:r=[]}=t;return typeof t=="string"?UB(t):"<".concat(e," ").concat(Qxe(n),">").concat(r.map(S0).join(""),"</").concat(e,">")}function gP(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var g2=function(e,n,r,s){var i=Object.keys(e),a=i.length,l=n,c,u,h;for(r===void 0?(c=1,h=e[i[0]]):(c=0,h=r);c<a;c++)u=i[c],h=l(h,e[u],u,e);return h};function rve(t){const e=[];let n=0;const r=t.length;for(;n<r;){const s=t.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){const i=t.charCodeAt(n++);(i&64512)==56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),n--)}else e.push(s)}return e}function iC(t){const e=rve(t);return e.length===1?e[0].toString(16):null}function sve(t,e){const n=t.length;let r=t.charCodeAt(e),s;return r>=55296&&r<=56319&&n>e+1&&(s=t.charCodeAt(e+1),s>=56320&&s<=57343)?(r-55296)*1024+s-56320+65536:r}function yP(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return!!r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function aC(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:r=!1}=n,s=yP(e);typeof vl.hooks.addPack=="function"&&!r?vl.hooks.addPack(t,yP(e)):vl.styles[t]=It(It({},vl.styles[t]||{}),s),t==="fas"&&aC("fa",e)}const{styles:Hg,shims:ive}=vl,qB=Object.keys(mE),ave=qB.reduce((t,e)=>(t[e]=Object.keys(mE[e]),t),{});let bE=null,YB={},GB={},KB={},XB={},QB={};function ove(t){return~Vxe.indexOf(t)}function lve(t,e){const n=e.split("-"),r=n[0],s=n.slice(1).join("-");return r===t&&s!==""&&!ove(s)?s:null}const ZB=()=>{const t=r=>g2(Hg,(s,i,a)=>(s[a]=g2(i,r,{}),s),{});YB=t((r,s,i)=>(s[3]&&(r[s[3]]=i),s[2]&&s[2].filter(l=>typeof l=="number").forEach(l=>{r[l.toString(16)]=i}),r)),GB=t((r,s,i)=>(r[i]=i,s[2]&&s[2].filter(l=>typeof l=="string").forEach(l=>{r[l]=i}),r)),QB=t((r,s,i)=>{const a=s[2];return r[i]=i,a.forEach(l=>{r[l]=i}),r});const e="far"in Hg||an.autoFetchSvg,n=g2(ive,(r,s)=>{const i=s[0];let a=s[1];const l=s[2];return a==="far"&&!e&&(a="fas"),typeof i=="string"&&(r.names[i]={prefix:a,iconName:l}),typeof i=="number"&&(r.unicodes[i.toString(16)]={prefix:a,iconName:l}),r},{names:{},unicodes:{}});KB=n.names,XB=n.unicodes,bE=c1(an.styleDefault,{family:an.familyDefault})};Gxe(t=>{bE=c1(t.styleDefault,{family:an.familyDefault})});ZB();function xE(t,e){return(YB[t]||{})[e]}function cve(t,e){return(GB[t]||{})[e]}function Md(t,e){return(QB[t]||{})[e]}function JB(t){return KB[t]||{prefix:null,iconName:null}}function uve(t){const e=XB[t],n=xE("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function Iu(){return bE}const e7=()=>({prefix:null,iconName:null,rest:[]});function dve(t){let e=ti;const n=qB.reduce((r,s)=>(r[s]="".concat(an.cssPrefix,"-").concat(s),r),{});return OB.forEach(r=>{(t.includes(n[r])||t.some(s=>ave[r].includes(s)))&&(e=r)}),e}function c1(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:n=ti}=e,r=$xe[n][t];if(n===o1&&!t)return"fad";const s=pP[n][t]||pP[n][r],i=t in vl.styles?t:null;return s||i||null}function hve(t){let e=[],n=null;return t.forEach(r=>{const s=lve(an.cssPrefix,r);s?n=s:r&&e.push(r)}),{iconName:n,rest:e}}function bP(t){return t.sort().filter((e,n,r)=>r.indexOf(e)===n)}function u1(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:n=!1}=e;let r=null;const s=JS.concat(jxe),i=bP(t.filter(f=>s.includes(f))),a=bP(t.filter(f=>!JS.includes(f))),l=i.filter(f=>(r=f,!IB.includes(f))),[c=null]=l,u=dve(i),h=It(It({},hve(a)),{},{prefix:c1(c,{family:u})});return It(It(It({},h),gve({values:t,family:u,styles:Hg,config:an,canonical:h,givenPrefix:r})),fve(n,r,h))}function fve(t,e,n){let{prefix:r,iconName:s}=n;if(t||!r||!s)return{prefix:r,iconName:s};const i=e==="fa"?JB(s):{},a=Md(r,s);return s=i.iconName||a||s,r=i.prefix||r,r==="far"&&!Hg.far&&Hg.fas&&!an.autoFetchSvg&&(r="fas"),{prefix:r,iconName:s}}const pve=OB.filter(t=>t!==ti||t!==o1),mve=Object.keys(ZS).filter(t=>t!==ti).map(t=>Object.keys(ZS[t])).flat();function gve(t){const{values:e,family:n,canonical:r,givenPrefix:s="",styles:i={},config:a={}}=t,l=n===o1,c=e.includes("fa-duotone")||e.includes("fad"),u=a.familyDefault==="duotone",h=r.prefix==="fad"||r.prefix==="fa-duotone";if(!l&&(c||u||h)&&(r.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(r.prefix="fab"),!r.prefix&&pve.includes(n)&&(Object.keys(i).find(m=>mve.includes(m))||a.autoFetchSvg)){const m=vxe.get(n).defaultShortPrefixId;r.prefix=m,r.iconName=Md(r.prefix,r.iconName)||r.iconName}return(r.prefix==="fa"||s==="fa")&&(r.prefix=Iu()||"fas"),r}class yve{constructor(){this.definitions={}}add(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const s=n.reduce(this._pullDefinitions,{});Object.keys(s).forEach(i=>{this.definitions[i]=It(It({},this.definitions[i]||{}),s[i]),aC(i,s[i]);const a=mE[ti][i];a&&aC(a,s[i]),ZB()})}reset(){this.definitions={}}_pullDefinitions(e,n){const r=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(r).map(s=>{const{prefix:i,iconName:a,icon:l}=r[s],c=l[2];e[i]||(e[i]={}),c.length>0&&c.forEach(u=>{typeof u=="string"&&(e[i][u]=l)}),e[i][a]=l}),e}}let xP=[],yf={};const Rf={},bve=Object.keys(Rf);function xve(t,e){let{mixoutsTo:n}=e;return xP=t,yf={},Object.keys(Rf).forEach(r=>{bve.indexOf(r)===-1&&delete Rf[r]}),xP.forEach(r=>{const s=r.mixout?r.mixout():{};if(Object.keys(s).forEach(i=>{typeof s[i]=="function"&&(n[i]=s[i]),typeof s[i]=="object"&&Object.keys(s[i]).forEach(a=>{n[i]||(n[i]={}),n[i][a]=s[i][a]})}),r.hooks){const i=r.hooks();Object.keys(i).forEach(a=>{yf[a]||(yf[a]=[]),yf[a].push(i[a])})}r.provides&&r.provides(Rf)}),n}function oC(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];return(yf[t]||[]).forEach(a=>{e=a.apply(null,[e,...r])}),e}function th(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(yf[t]||[]).forEach(i=>{i.apply(null,n)})}function Ou(){const t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Rf[t]?Rf[t].apply(null,e):void 0}function lC(t){t.prefix==="fa"&&(t.prefix="fas");let{iconName:e}=t;const n=t.prefix||Iu();if(e)return e=Md(n,e)||e,gP(t7.definitions,n,e)||gP(vl.styles,n,e)}const t7=new yve,vve=()=>{an.autoReplaceSvg=!1,an.observeMutations=!1,th("noAuto")},_ve={i2svg:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Cc?(th("beforeI2svg",t),Ou("pseudoElements2svg",t),Ou("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e}=t;an.autoReplaceSvg===!1&&(an.autoReplaceSvg=!0),an.observeMutations=!0,nve(()=>{Sve({autoReplaceSvgRoot:e}),th("watch",t)})}},wve={icon:t=>{if(t===null)return null;if(typeof t=="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:Md(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){const e=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],n=c1(t[0]);return{prefix:n,iconName:Md(n,e)||e}}if(typeof t=="string"&&(t.indexOf("".concat(an.cssPrefix,"-"))>-1||t.match(zxe))){const e=u1(t.split(" "),{skipLookups:!0});return{prefix:e.prefix||Iu(),iconName:Md(e.prefix,e.iconName)||e.iconName}}if(typeof t=="string"){const e=Iu();return{prefix:e,iconName:Md(e,t)||t}}}},ya={noAuto:vve,config:an,dom:_ve,parse:wve,library:t7,findIconDefinition:lC,toHtml:S0},Sve=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e=Cr}=t;(Object.keys(vl.styles).length>0||an.autoFetchSvg)&&Cc&&an.autoReplaceSvg&&ya.dom.i2svg({node:e})};function d1(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(n=>S0(n))}}),Object.defineProperty(t,"node",{get:function(){if(!Cc)return;const n=Cr.createElement("div");return n.innerHTML=t.html,n.children}}),t}function Cve(t){let{children:e,main:n,mask:r,attributes:s,styles:i,transform:a}=t;if(yE(a)&&n.found&&!r.found){const{width:l,height:c}=n,u={x:l/c/2,y:.5};s.style=l1(It(It({},i),{},{"transform-origin":"".concat(u.x+a.x/16,"em ").concat(u.y+a.y/16,"em")}))}return[{tag:"svg",attributes:s,children:e}]}function Tve(t){let{prefix:e,iconName:n,children:r,attributes:s,symbol:i}=t;const a=i===!0?"".concat(e,"-").concat(an.cssPrefix,"-").concat(n):i;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:It(It({},s),{},{id:a}),children:r}]}]}function vE(t){const{icons:{main:e,mask:n},prefix:r,iconName:s,transform:i,symbol:a,title:l,maskId:c,titleId:u,extra:h,watchable:f=!1}=t,{width:m,height:g}=n.found?n:e,b=Txe.includes(r),y=[an.replacementClass,s?"".concat(an.cssPrefix,"-").concat(s):""].filter(j=>h.classes.indexOf(j)===-1).filter(j=>j!==""||!!j).concat(h.classes).join(" ");let x={children:[],attributes:It(It({},h.attributes),{},{"data-prefix":r,"data-icon":s,class:y,role:h.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(m," ").concat(g)})};const _=b&&!~h.classes.indexOf("fa-fw")?{width:"".concat(m/g*16*.0625,"em")}:{};f&&(x.attributes[eh]=""),l&&(x.children.push({tag:"title",attributes:{id:x.attributes["aria-labelledby"]||"title-".concat(u||Ug())},children:[l]}),delete x.attributes.title);const S=It(It({},x),{},{prefix:r,iconName:s,main:e,mask:n,maskId:c,transform:i,symbol:a,styles:It(It({},_),h.styles)}),{children:T,attributes:D}=n.found&&e.found?Ou("generateAbstractMask",S)||{children:[],attributes:{}}:Ou("generateAbstractIcon",S)||{children:[],attributes:{}};return S.children=T,S.attributes=D,a?Tve(S):Cve(S)}function vP(t){const{content:e,width:n,height:r,transform:s,title:i,extra:a,watchable:l=!1}=t,c=It(It(It({},a.attributes),i?{title:i}:{}),{},{class:a.classes.join(" ")});l&&(c[eh]="");const u=It({},a.styles);yE(s)&&(u.transform=Jxe({transform:s,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);const h=l1(u);h.length>0&&(c.style=h);const f=[];return f.push({tag:"span",attributes:c,children:[e]}),i&&f.push({tag:"span",attributes:{class:"sr-only"},children:[i]}),f}function kve(t){const{content:e,title:n,extra:r}=t,s=It(It(It({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),i=l1(r.styles);i.length>0&&(s.style=i);const a=[];return a.push({tag:"span",attributes:s,children:[e]}),n&&a.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),a}const{styles:y2}=vl;function cC(t){const e=t[0],n=t[1],[r]=t.slice(4);let s=null;return Array.isArray(r)?s={tag:"g",attributes:{class:"".concat(an.cssPrefix,"-").concat(p2.GROUP)},children:[{tag:"path",attributes:{class:"".concat(an.cssPrefix,"-").concat(p2.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(an.cssPrefix,"-").concat(p2.PRIMARY),fill:"currentColor",d:r[1]}}]}:s={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:e,height:n,icon:s}}const Eve={found:!1,width:512,height:512};function jve(t,e){!FB&&!an.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function uC(t,e){let n=e;return e==="fa"&&an.styleDefault!==null&&(e=Iu()),new Promise((r,s)=>{if(n==="fa"){const i=JB(t)||{};t=i.iconName||t,e=i.prefix||e}if(t&&e&&y2[e]&&y2[e][t]){const i=y2[e][t];return r(cC(i))}jve(t,e),r(It(It({},Eve),{},{icon:an.showMissingIcons&&t?Ou("missingIconAbstract")||{}:{}}))})}const _P=()=>{},dC=an.measurePerformance&&Yy&&Yy.mark&&Yy.measure?Yy:{mark:_P,measure:_P},Um='FA "6.7.2"',Nve=t=>(dC.mark("".concat(Um," ").concat(t," begins")),()=>n7(t)),n7=t=>{dC.mark("".concat(Um," ").concat(t," ends")),dC.measure("".concat(Um," ").concat(t),"".concat(Um," ").concat(t," begins"),"".concat(Um," ").concat(t," ends"))};var _E={begin:Nve,end:n7};const wb=()=>{};function wP(t){return typeof(t.getAttribute?t.getAttribute(eh):null)=="string"}function Dve(t){const e=t.getAttribute?t.getAttribute(fE):null,n=t.getAttribute?t.getAttribute(pE):null;return e&&n}function Ave(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(an.replacementClass)}function Pve(){return an.autoReplaceSvg===!0?Sb.replace:Sb[an.autoReplaceSvg]||Sb.replace}function Ive(t){return Cr.createElementNS("http://www.w3.org/2000/svg",t)}function Ove(t){return Cr.createElement(t)}function r7(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:n=t.tag==="svg"?Ive:Ove}=e;if(typeof t=="string")return Cr.createTextNode(t);const r=n(t.tag);return Object.keys(t.attributes||[]).forEach(function(i){r.setAttribute(i,t.attributes[i])}),(t.children||[]).forEach(function(i){r.appendChild(r7(i,{ceFn:n}))}),r}function Mve(t){let e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}const Sb={replace:function(t){const e=t[0];if(e.parentNode)if(t[1].forEach(n=>{e.parentNode.insertBefore(r7(n),e)}),e.getAttribute(eh)===null&&an.keepOriginalSource){let n=Cr.createComment(Mve(e));e.parentNode.replaceChild(n,e)}else e.remove()},nest:function(t){const e=t[0],n=t[1];if(~gE(e).indexOf(an.replacementClass))return Sb.replace(t);const r=new RegExp("".concat(an.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const i=n[0].attributes.class.split(" ").reduce((a,l)=>(l===an.replacementClass||l.match(r)?a.toSvg.push(l):a.toNode.push(l),a),{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),i.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",i.toNode.join(" "))}const s=n.map(i=>S0(i)).join(`
`);e.setAttribute(eh,""),e.innerHTML=s}};function SP(t){t()}function s7(t,e){const n=typeof e=="function"?e:wb;if(t.length===0)n();else{let r=SP;an.mutateApproach===Fxe&&(r=Pu.requestAnimationFrame||SP),r(()=>{const s=Pve(),i=_E.begin("mutate");t.map(s),i(),n()})}}let wE=!1;function i7(){wE=!0}function hC(){wE=!1}let Rx=null;function CP(t){if(!uP||!an.observeMutations)return;const{treeCallback:e=wb,nodeCallback:n=wb,pseudoElementsCallback:r=wb,observeMutationsRoot:s=Cr}=t;Rx=new uP(i=>{if(wE)return;const a=Iu();Np(i).forEach(l=>{if(l.type==="childList"&&l.addedNodes.length>0&&!wP(l.addedNodes[0])&&(an.searchPseudoElements&&r(l.target),e(l.target)),l.type==="attributes"&&l.target.parentNode&&an.searchPseudoElements&&r(l.target.parentNode),l.type==="attributes"&&wP(l.target)&&~Wxe.indexOf(l.attributeName))if(l.attributeName==="class"&&Dve(l.target)){const{prefix:c,iconName:u}=u1(gE(l.target));l.target.setAttribute(fE,c||a),u&&l.target.setAttribute(pE,u)}else Ave(l.target)&&n(l.target)})}),Cc&&Rx.observe(s,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function Rve(){Rx&&Rx.disconnect()}function Lve(t){const e=t.getAttribute("style");let n=[];return e&&(n=e.split(";").reduce((r,s)=>{const i=s.split(":"),a=i[0],l=i.slice(1);return a&&l.length>0&&(r[a]=l.join(":").trim()),r},{})),n}function Fve(t){const e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"";let s=u1(gE(t));return s.prefix||(s.prefix=Iu()),e&&n&&(s.prefix=e,s.iconName=n),s.iconName&&s.prefix||(s.prefix&&r.length>0&&(s.iconName=cve(s.prefix,t.innerText)||xE(s.prefix,iC(t.innerText))),!s.iconName&&an.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=t.firstChild.data)),s}function Bve(t){const e=Np(t.attributes).reduce((s,i)=>(s.name!=="class"&&s.name!=="style"&&(s[i.name]=i.value),s),{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return an.autoA11y&&(n?e["aria-labelledby"]="".concat(an.replacementClass,"-title-").concat(r||Ug()):(e["aria-hidden"]="true",e.focusable="false")),e}function $ve(){return{iconName:null,title:null,titleId:null,prefix:null,transform:xl,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function TP(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:n,prefix:r,rest:s}=Fve(t),i=Bve(t),a=oC("parseNodeAttributes",{},t);let l=e.styleParser?Lve(t):[];return It({iconName:n,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:r,transform:xl,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:l,attributes:i}},a)}const{styles:zve}=vl;function a7(t){const e=an.autoReplaceSvg==="nest"?TP(t,{styleParser:!1}):TP(t);return~e.extra.classes.indexOf($B)?Ou("generateLayersText",t,e):Ou("generateSvgReplacementMutation",t,e)}function Uve(){return[...wxe,...JS]}function kP(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Cc)return Promise.resolve();const n=Cr.documentElement.classList,r=h=>n.add("".concat(fP,"-").concat(h)),s=h=>n.remove("".concat(fP,"-").concat(h)),i=an.autoFetchSvg?Uve():IB.concat(Object.keys(zve));i.includes("fa")||i.push("fa");const a=[".".concat($B,":not([").concat(eh,"])")].concat(i.map(h=>".".concat(h,":not([").concat(eh,"])"))).join(", ");if(a.length===0)return Promise.resolve();let l=[];try{l=Np(t.querySelectorAll(a))}catch{}if(l.length>0)r("pending"),s("complete");else return Promise.resolve();const c=_E.begin("onTree"),u=l.reduce((h,f)=>{try{const m=a7(f);m&&h.push(m)}catch(m){FB||m.name==="MissingIcon"&&console.error(m)}return h},[]);return new Promise((h,f)=>{Promise.all(u).then(m=>{s7(m,()=>{r("active"),r("complete"),s("pending"),typeof e=="function"&&e(),c(),h()})}).catch(m=>{c(),f(m)})})}function Hve(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;a7(t).then(n=>{n&&s7([n],e)})}function Wve(t){return function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=(e||{}).icon?e:lC(e||{});let{mask:s}=n;return s&&(s=(s||{}).icon?s:lC(s||{})),t(r,It(It({},n),{},{mask:s}))}}const Vve=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=xl,symbol:r=!1,mask:s=null,maskId:i=null,title:a=null,titleId:l=null,classes:c=[],attributes:u={},styles:h={}}=e;if(!t)return;const{prefix:f,iconName:m,icon:g}=t;return d1(It({type:"icon"},t),()=>(th("beforeDOMElementCreation",{iconDefinition:t,params:e}),an.autoA11y&&(a?u["aria-labelledby"]="".concat(an.replacementClass,"-title-").concat(l||Ug()):(u["aria-hidden"]="true",u.focusable="false")),vE({icons:{main:cC(g),mask:s?cC(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:f,iconName:m,transform:It(It({},xl),n),symbol:r,title:a,maskId:i,titleId:l,extra:{attributes:u,styles:h,classes:c}})))};var qve={mixout(){return{icon:Wve(Vve)}},hooks(){return{mutationObserverCallbacks(t){return t.treeCallback=kP,t.nodeCallback=Hve,t}}},provides(t){t.i2svg=function(e){const{node:n=Cr,callback:r=()=>{}}=e;return kP(n,r)},t.generateSvgReplacementMutation=function(e,n){const{iconName:r,title:s,titleId:i,prefix:a,transform:l,symbol:c,mask:u,maskId:h,extra:f}=n;return new Promise((m,g)=>{Promise.all([uC(r,a),u.iconName?uC(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(b=>{let[y,x]=b;m([e,vE({icons:{main:y,mask:x},prefix:a,iconName:r,transform:l,symbol:c,maskId:h,title:s,titleId:i,extra:f,watchable:!0})])}).catch(g)})},t.generateAbstractIcon=function(e){let{children:n,attributes:r,main:s,transform:i,styles:a}=e;const l=l1(a);l.length>0&&(r.style=l);let c;return yE(i)&&(c=Ou("generateAbstractTransformGrouping",{main:s,transform:i,containerWidth:s.width,iconWidth:s.width})),n.push(c||s.icon),{children:n,attributes:r}}}},Yve={mixout(){return{layer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:n=[]}=e;return d1({type:"layer"},()=>{th("beforeDOMElementCreation",{assembler:t,params:e});let r=[];return t(s=>{Array.isArray(s)?s.map(i=>{r=r.concat(i.abstract)}):r=r.concat(s.abstract)}),[{tag:"span",attributes:{class:["".concat(an.cssPrefix,"-layers"),...n].join(" ")},children:r}]})}}}},Gve={mixout(){return{counter(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:n=null,classes:r=[],attributes:s={},styles:i={}}=e;return d1({type:"counter",content:t},()=>(th("beforeDOMElementCreation",{content:t,params:e}),kve({content:t.toString(),title:n,extra:{attributes:s,styles:i,classes:["".concat(an.cssPrefix,"-layers-counter"),...r]}})))}}}},Kve={mixout(){return{text(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=xl,title:r=null,classes:s=[],attributes:i={},styles:a={}}=e;return d1({type:"text",content:t},()=>(th("beforeDOMElementCreation",{content:t,params:e}),vP({content:t,transform:It(It({},xl),n),title:r,extra:{attributes:i,styles:a,classes:["".concat(an.cssPrefix,"-layers-text"),...s]}})))}}},provides(t){t.generateLayersText=function(e,n){const{title:r,transform:s,extra:i}=n;let a=null,l=null;if(AB){const c=parseInt(getComputedStyle(e).fontSize,10),u=e.getBoundingClientRect();a=u.width/c,l=u.height/c}return an.autoA11y&&!r&&(i.attributes["aria-hidden"]="true"),Promise.resolve([e,vP({content:e.innerHTML,width:a,height:l,transform:s,title:r,extra:i,watchable:!0})])}}};const Xve=new RegExp('"',"ug"),EP=[1105920,1112319],jP=It(It(It(It({},{FontAwesome:{normal:"fas",400:"fas"}}),xxe),Rxe),Nxe),fC=Object.keys(jP).reduce((t,e)=>(t[e.toLowerCase()]=jP[e],t),{}),Qve=Object.keys(fC).reduce((t,e)=>{const n=fC[e];return t[e]=n[900]||[...Object.entries(n)][0][1],t},{});function Zve(t){const e=t.replace(Xve,""),n=sve(e,0),r=n>=EP[0]&&n<=EP[1],s=e.length===2?e[0]===e[1]:!1;return{value:iC(s?e[0]:e),isSecondary:r||s}}function Jve(t,e){const n=t.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(e),s=isNaN(r)?"normal":r;return(fC[n]||{})[s]||Qve[n]}function NP(t,e){const n="".concat(Lxe).concat(e.replace(":","-"));return new Promise((r,s)=>{if(t.getAttribute(n)!==null)return r();const a=Np(t.children).filter(m=>m.getAttribute(tC)===e)[0],l=Pu.getComputedStyle(t,e),c=l.getPropertyValue("font-family"),u=c.match(Uxe),h=l.getPropertyValue("font-weight"),f=l.getPropertyValue("content");if(a&&!u)return t.removeChild(a),r();if(u&&f!=="none"&&f!==""){const m=l.getPropertyValue("content");let g=Jve(c,h);const{value:b,isSecondary:y}=Zve(m),x=u[0].startsWith("FontAwesome");let _=xE(g,b),S=_;if(x){const T=uve(b);T.iconName&&T.prefix&&(_=T.iconName,g=T.prefix)}if(_&&!y&&(!a||a.getAttribute(fE)!==g||a.getAttribute(pE)!==S)){t.setAttribute(n,S),a&&t.removeChild(a);const T=$ve(),{extra:D}=T;D.attributes[tC]=e,uC(_,g).then(j=>{const A=vE(It(It({},T),{},{icons:{main:j,mask:e7()},prefix:g,iconName:S,extra:D,watchable:!0})),O=Cr.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(O,t.firstChild):t.appendChild(O),O.outerHTML=A.map(L=>S0(L)).join(`
`),t.removeAttribute(n),r()}).catch(s)}else r()}else r()})}function e1e(t){return Promise.all([NP(t,"::before"),NP(t,"::after")])}function t1e(t){return t.parentNode!==document.head&&!~Bxe.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(tC)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function DP(t){if(Cc)return new Promise((e,n)=>{const r=Np(t.querySelectorAll("*")).filter(t1e).map(e1e),s=_E.begin("searchPseudoElements");i7(),Promise.all(r).then(()=>{s(),hC(),e()}).catch(()=>{s(),hC(),n()})})}var n1e={hooks(){return{mutationObserverCallbacks(t){return t.pseudoElementsCallback=DP,t}}},provides(t){t.pseudoElements2svg=function(e){const{node:n=Cr}=e;an.searchPseudoElements&&DP(n)}}};let AP=!1;var r1e={mixout(){return{dom:{unwatch(){i7(),AP=!0}}}},hooks(){return{bootstrap(){CP(oC("mutationObserverCallbacks",{}))},noAuto(){Rve()},watch(t){const{observeMutationsRoot:e}=t;AP?hC():CP(oC("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}};const PP=t=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce((n,r)=>{const s=r.toLowerCase().split("-"),i=s[0];let a=s.slice(1).join("-");if(i&&a==="h")return n.flipX=!0,n;if(i&&a==="v")return n.flipY=!0,n;if(a=parseFloat(a),isNaN(a))return n;switch(i){case"grow":n.size=n.size+a;break;case"shrink":n.size=n.size-a;break;case"left":n.x=n.x-a;break;case"right":n.x=n.x+a;break;case"up":n.y=n.y-a;break;case"down":n.y=n.y+a;break;case"rotate":n.rotate=n.rotate+a;break}return n},e)};var s1e={mixout(){return{parse:{transform:t=>PP(t)}}},hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-transform");return n&&(t.transform=PP(n)),t}}},provides(t){t.generateAbstractTransformGrouping=function(e){let{main:n,transform:r,containerWidth:s,iconWidth:i}=e;const a={transform:"translate(".concat(s/2," 256)")},l="translate(".concat(r.x*32,", ").concat(r.y*32,") "),c="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),u="rotate(".concat(r.rotate," 0 0)"),h={transform:"".concat(l," ").concat(c," ").concat(u)},f={transform:"translate(".concat(i/2*-1," -256)")},m={outer:a,inner:h,path:f};return{tag:"g",attributes:It({},m.outer),children:[{tag:"g",attributes:It({},m.inner),children:[{tag:n.icon.tag,children:n.icon.children,attributes:It(It({},n.icon.attributes),m.path)}]}]}}}};const b2={x:0,y:0,width:"100%",height:"100%"};function IP(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function i1e(t){return t.tag==="g"?t.children:[t]}var a1e={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-mask"),r=n?u1(n.split(" ").map(s=>s.trim())):e7();return r.prefix||(r.prefix=Iu()),t.mask=r,t.maskId=e.getAttribute("data-fa-mask-id"),t}}},provides(t){t.generateAbstractMask=function(e){let{children:n,attributes:r,main:s,mask:i,maskId:a,transform:l}=e;const{width:c,icon:u}=s,{width:h,icon:f}=i,m=Zxe({transform:l,containerWidth:h,iconWidth:c}),g={tag:"rect",attributes:It(It({},b2),{},{fill:"white"})},b=u.children?{children:u.children.map(IP)}:{},y={tag:"g",attributes:It({},m.inner),children:[IP(It({tag:u.tag,attributes:It(It({},u.attributes),m.path)},b))]},x={tag:"g",attributes:It({},m.outer),children:[y]},_="mask-".concat(a||Ug()),S="clip-".concat(a||Ug()),T={tag:"mask",attributes:It(It({},b2),{},{id:_,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[g,x]},D={tag:"defs",children:[{tag:"clipPath",attributes:{id:S},children:i1e(f)},T]};return n.push(D,{tag:"rect",attributes:It({fill:"currentColor","clip-path":"url(#".concat(S,")"),mask:"url(#".concat(_,")")},b2)}),{children:n,attributes:r}}}},o1e={provides(t){let e=!1;Pu.matchMedia&&(e=Pu.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){const n=[],r={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:It(It({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const i=It(It({},s),{},{attributeName:"opacity"}),a={tag:"circle",attributes:It(It({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||a.children.push({tag:"animate",attributes:It(It({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:It(It({},i),{},{values:"1;0;1;1;0;1;"})}),n.push(a),n.push({tag:"path",attributes:It(It({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:It(It({},i),{},{values:"1;0;0;0;0;1;"})}]}),e||n.push({tag:"path",attributes:It(It({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:It(It({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},l1e={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-symbol"),r=n===null?!1:n===""?!0:n;return t.symbol=r,t}}}},c1e=[tve,qve,Yve,Gve,Kve,n1e,r1e,s1e,a1e,o1e,l1e];xve(c1e,{mixoutsTo:ya});ya.noAuto;ya.config;ya.library;ya.dom;const pC=ya.parse;ya.findIconDefinition;ya.toHtml;const u1e=ya.icon;ya.layer;ya.text;ya.counter;function OP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function hl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OP(Object(n),!0).forEach(function(r){bf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lx(t){"@babel/helpers - typeof";return Lx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lx(t)}function bf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d1e(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function h1e(t,e){if(t==null)return{};var n=d1e(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mC(t){return f1e(t)||p1e(t)||m1e(t)||g1e()}function f1e(t){if(Array.isArray(t))return gC(t)}function p1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function m1e(t,e){if(t){if(typeof t=="string")return gC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gC(t,e)}}function gC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function g1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y1e(t){var e,n=t.beat,r=t.fade,s=t.beatFade,i=t.bounce,a=t.shake,l=t.flash,c=t.spin,u=t.spinPulse,h=t.spinReverse,f=t.pulse,m=t.fixedWidth,g=t.inverse,b=t.border,y=t.listItem,x=t.flip,_=t.size,S=t.rotation,T=t.pull,D=(e={"fa-beat":n,"fa-fade":r,"fa-beat-fade":s,"fa-bounce":i,"fa-shake":a,"fa-flash":l,"fa-spin":c,"fa-spin-reverse":h,"fa-spin-pulse":u,"fa-pulse":f,"fa-fw":m,"fa-inverse":g,"fa-border":b,"fa-li":y,"fa-flip":x===!0,"fa-flip-horizontal":x==="horizontal"||x==="both","fa-flip-vertical":x==="vertical"||x==="both"},bf(e,"fa-".concat(_),typeof _<"u"&&_!==null),bf(e,"fa-rotate-".concat(S),typeof S<"u"&&S!==null&&S!==0),bf(e,"fa-pull-".concat(T),typeof T<"u"&&T!==null),bf(e,"fa-swap-opacity",t.swapOpacity),e);return Object.keys(D).map(function(j){return D[j]?j:null}).filter(function(j){return j})}function b1e(t){return t=t-0,t===t}function o7(t){return b1e(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(e,n){return n?n.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))}var x1e=["style"];function v1e(t){return t.charAt(0).toUpperCase()+t.slice(1)}function _1e(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var r=n.indexOf(":"),s=o7(n.slice(0,r)),i=n.slice(r+1).trim();return s.startsWith("webkit")?e[v1e(s)]=i:e[s]=i,e},{})}function l7(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var r=(e.children||[]).map(function(c){return l7(t,c)}),s=Object.keys(e.attributes||{}).reduce(function(c,u){var h=e.attributes[u];switch(u){case"class":c.attrs.className=h,delete e.attributes.class;break;case"style":c.attrs.style=_1e(h);break;default:u.indexOf("aria-")===0||u.indexOf("data-")===0?c.attrs[u.toLowerCase()]=h:c.attrs[o7(u)]=h}return c},{attrs:{}}),i=n.style,a=i===void 0?{}:i,l=h1e(n,x1e);return s.attrs.style=hl(hl({},s.attrs.style),a),t.apply(void 0,[e.tag,hl(hl({},s.attrs),l)].concat(mC(r)))}var c7=!1;try{c7=!0}catch{}function w1e(){if(!c7&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function MP(t){if(t&&Lx(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(pC.icon)return pC.icon(t);if(t===null)return null;if(t&&Lx(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}function x2(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?bf({},t,e):{}}var RP={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},ds=nn.forwardRef(function(t,e){var n=hl(hl({},RP),t),r=n.icon,s=n.mask,i=n.symbol,a=n.className,l=n.title,c=n.titleId,u=n.maskId,h=MP(r),f=x2("classes",[].concat(mC(y1e(n)),mC((a||"").split(" ")))),m=x2("transform",typeof n.transform=="string"?pC.transform(n.transform):n.transform),g=x2("mask",MP(s)),b=u1e(h,hl(hl(hl(hl({},f),m),g),{},{symbol:i,title:l,titleId:c,maskId:u}));if(!b)return w1e("Could not find icon",h),null;var y=b.abstract,x={ref:e};return Object.keys(n).forEach(function(_){RP.hasOwnProperty(_)||(x[_]=n[_])}),S1e(y[0],x)});ds.displayName="FontAwesomeIcon";ds.propTypes={beat:dn.bool,border:dn.bool,beatFade:dn.bool,bounce:dn.bool,className:dn.string,fade:dn.bool,flash:dn.bool,mask:dn.oneOfType([dn.object,dn.array,dn.string]),maskId:dn.string,fixedWidth:dn.bool,inverse:dn.bool,flip:dn.oneOf([!0,!1,"horizontal","vertical","both"]),icon:dn.oneOfType([dn.object,dn.array,dn.string]),listItem:dn.bool,pull:dn.oneOf(["right","left"]),pulse:dn.bool,rotation:dn.oneOf([0,90,180,270]),shake:dn.bool,size:dn.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:dn.bool,spinPulse:dn.bool,spinReverse:dn.bool,symbol:dn.oneOfType([dn.bool,dn.string]),title:dn.string,titleId:dn.string,transform:dn.oneOfType([dn.string,dn.object]),swapOpacity:dn.bool};var S1e=l7.bind(null,nn.createElement);/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const C1e={prefix:"fas",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160L0 416c0 53 43 96 96 96l256 0c53 0 96-43 96-96l0-96c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 96c0 17.7-14.3 32-32 32L96 448c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l96 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 64z"]},u7=C1e,T1e={prefix:"fas",iconName:"question",icon:[320,512,[10067,10068,61736],"3f","M80 160c0-35.3 28.7-64 64-64l32 0c35.3 0 64 28.7 64 64l0 3.6c0 21.8-11.1 42.1-29.4 53.8l-42.2 27.1c-25.2 16.2-40.4 44.1-40.4 74l0 1.4c0 17.7 14.3 32 32 32s32-14.3 32-32l0-1.4c0-8.2 4.2-15.8 11-20.2l42.2-27.1c36.6-23.6 58.8-64.1 58.8-107.7l0-3.6c0-70.7-57.3-128-128-128l-32 0C73.3 32 16 89.3 16 160c0 17.7 14.3 32 32 32s32-14.3 32-32zm80 320a40 40 0 1 0 0-80 40 40 0 1 0 0 80z"]},k1e={prefix:"fas",iconName:"clipboard-check",icon:[384,512,[],"f46c","M192 0c-41.8 0-77.4 26.7-90.5 64L64 64C28.7 64 0 92.7 0 128L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64l-37.5 0C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM305 273L177 401c-9.4 9.4-24.6 9.4-33.9 0L79 337c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L271 239c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"]},yC={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"]},d7={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M135.2 17.7L128 32 32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 0-7.2-14.3C307.4 6.8 296.3 0 284.2 0L163.8 0c-12.1 0-23.2 6.8-28.6 17.7zM416 128L32 128 53.2 467c1.6 25.3 22.6 45 47.9 45l245.8 0c25.3 0 46.3-19.7 47.9-45L416 128z"]},E1e={prefix:"fas",iconName:"circle-info",icon:[512,512,["info-circle"],"f05a","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336l24 0 0-64-24 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l48 0c13.3 0 24 10.7 24 24l0 88 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-80 0c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]},j1e=E1e,N1e={prefix:"fas",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M256 0a256 256 0 1 1 0 512A256 256 0 1 1 256 0zM232 120l0 136c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2 280 120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]},LP={prefix:"fas",iconName:"download",icon:[512,512,[],"f019","M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 242.7-73.4-73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l128-128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L288 274.7 288 32zM64 352c-35.3 0-64 28.7-64 64l0 32c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-32c0-35.3-28.7-64-64-64l-101.5 0-45.3 45.3c-25 25-65.5 25-90.5 0L165.5 352 64 352zm368 56a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"]},h7={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"]},f7={prefix:"fas",iconName:"file-export",icon:[576,512,["arrow-right-from-file"],"f56e","M0 64C0 28.7 28.7 0 64 0L224 0l0 128c0 17.7 14.3 32 32 32l128 0 0 128-168 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l168 0 0 112c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 64zM384 336l0-48 110.1 0-39-39c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l80 80c9.4 9.4 9.4 24.6 0 33.9l-80 80c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l39-39L384 336zm0-208l-128 0L256 0 384 128z"]};function D1e(){var _t;const[t,e]=w.useState(!0),[n,r]=w.useState([]),[s,i]=w.useState(!0),[a,l]=w.useState(null),[c,u]=w.useState(!1),[h,f]=w.useState(!1),[m,g]=w.useState([]),[b,y]=w.useState(""),[x,_]=w.useState("text"),[S,T]=w.useState(!1),[D,j]=w.useState(!1),[A,O]=w.useState(0),[L,P]=w.useState(0),[N,U]=w.useState(0),[M,q]=w.useState(null),[E,G]=w.useState(!1),Q=3,re=w.useRef(null),ee=w.useRef(null),Z=mr(),K=Po(),[F,W]=w.useState({}),[me,ne]=w.useState({}),[ge,we]=w.useState(!1),[je,Re]=w.useState(""),[ke,We]=w.useState(!1),[Je,nt]=w.useState(window.innerWidth<700);w.useEffect(()=>{const Ze=()=>nt(window.innerWidth<700);return window.addEventListener("resize",Ze),()=>window.removeEventListener("resize",Ze)},[]);const ct=()=>{e(!t)};w.useEffect(()=>{X()},[]);const X=async()=>{var Ze;try{i(!0);const it=(Ze=Vt())==null?void 0:Ze.user_id;if(!it){Z("/");return}const te=await vt().get(`/student/assignments/${it}/`);r(te.data),i(!1)}catch{dt().fire({icon:"error",title:"Failed to load assignments"}),i(!1)}},Me=Ze=>{l(Ze),Ze.has_test_mode?(u(!0),j(!1),O(0),P(0),Ze.time_limit_minutes&&U(Ze.time_limit_minutes*60)):Ze.status!=="submitted"&&Ze.status!=="graded"?f(!0):u(!0)};w.useEffect(()=>{if(D){const Ze=()=>{document.visibilityState==="hidden"&&he()},it=()=>{he()},te=()=>{document.fullscreenElement||Te()},le=Oe=>{Oe.preventDefault(),dt().fire({icon:"error",title:"Copying is not allowed during a test"})},be=Oe=>{Oe.preventDefault(),dt().fire({icon:"error",title:"Pasting is not allowed during a test"})},ue=Oe=>{(Oe.ctrlKey||Oe.metaKey)&&(Oe.key==="c"||Oe.key==="v"||Oe.key==="a"||Oe.key==="p"||Oe.key==="u"||Oe.key==="s"||Oe.key==="f"||Oe.key==="g"||Oe.key==="tab")&&(Oe.preventDefault(),dt().fire({icon:"error",title:"Keyboard shortcuts are disabled during tests"})),Oe.altKey&&Oe.key==="Tab"&&(Oe.preventDefault(),dt().fire({icon:"error",title:"Alt+Tab is not allowed during tests"}))};return document.addEventListener("visibilitychange",Ze),window.addEventListener("blur",it),document.addEventListener("fullscreenchange",te),document.addEventListener("copy",le),document.addEventListener("paste",be),document.addEventListener("keydown",ue),()=>{document.removeEventListener("visibilitychange",Ze),window.removeEventListener("blur",it),document.removeEventListener("fullscreenchange",te),document.removeEventListener("copy",le),document.removeEventListener("paste",be),document.removeEventListener("keydown",ue)}}},[D]),w.useEffect(()=>{if(D&&N>0){const Ze=setInterval(()=>{U(it=>it<=1?(clearInterval(Ze),ie(),0):it-1)},1e3);return q(Ze),()=>clearInterval(Ze)}return()=>{}},[D,N]),w.useEffect(()=>()=>{if(M&&clearInterval(M),D)try{ce()}catch{}},[M]),w.useEffect(()=>{const Ze=it=>{if(D)return it.preventDefault(),it.returnValue="Leaving this page will terminate your test. Are you sure?",it.returnValue};return window.addEventListener("beforeunload",Ze),()=>{window.removeEventListener("beforeunload",Ze)}},[D]),w.useEffect(()=>{var Ze;(Ze=K.state)!=null&&Ze.testCompleted&&(dt().fire({icon:"success",title:"Your test has been submitted successfully"}),Z(K.pathname,{replace:!0,state:{}}),X())},[K]),w.useEffect(()=>{async function Ze(){try{const it=await vt().get("/user/appearance-settings/");it.data&&it.data.dark_mode!==void 0&&We(it.data.dark_mode)}catch{}}Ze()},[]);const ye=async()=>{if(Je&&(a!=null&&a.has_test_mode)){dt().fire({icon:"error",title:"Secure tests must be taken on a PC or laptop. Please use a desktop device to complete this assignment."});return}try{await vt().post("/student/assignment-test-log/",{assignment_id:a.id,action:"start_test_prep",details:`Student clicked Start Secure Test button. Device type: ${Je?"Mobile":"Desktop"}`}),u(!1),setTimeout(()=>{Z(`/student/secure-test/${a.id}`)},100)}catch(Ze){dt().fire({icon:"error",title:`Failed to start test mode: ${Ze.message||"An error occurred"}`})}},se=async()=>{try{await vt().post("/student/assignment-test-log/",{assignment_id:a.id,action:"end_test",details:`Test completed. Fullscreen warnings: ${A}, Tab switch warnings: ${L}`}),fe(),dt().fire({icon:"success",title:"Test completed successfully"}),f(!0)}catch{dt().fire({icon:"error",title:"Error ending test"})}},ie=async()=>{try{await vt().post("/student/assignment-test-log/",{assignment_id:a.id,action:"time_up",details:"Test time expired"}),dt().fire({icon:"warning",title:"Time's up! Your test is being submitted automatically."}),fe(),f(!0)}catch{}},fe=()=>{j(!1),M&&clearInterval(M),ce(),Ie()},Te=async()=>{const Ze=A+1;O(Ze);try{await vt().post("/student/assignment-test-log/",{assignment_id:a.id,action:"fullscreen_exit",details:`Fullscreen exit detected (Warning ${Ze}/${Q})`}),Ze>=Q?(dt().fire({icon:"error",title:"Maximum fullscreen exit warnings reached. Test is being submitted."}),se()):(dt().fire({icon:"warning",title:`Warning: Please return to fullscreen mode! (${Ze}/${Q})`}),setTimeout(()=>{D&&!document.fullscreenElement&&ve().catch(it=>{})},1e3))}catch{}},he=async()=>{const Ze=L+1;P(Ze);try{await vt().post("/student/assignment-test-log/",{assignment_id:a.id,action:"tab_switch",details:`Tab switch detected (Warning ${Ze}/${Q})`}),Ze>=Q?(dt().fire({icon:"error",title:"Maximum tab switch warnings reached. Test is being submitted."}),se()):dt().fire({icon:"warning",title:`Warning: Tab switching detected! (${Ze}/${Q})`})}catch{}},ce=()=>{re.current&&re.current.srcObject&&(re.current.srcObject.getTracks().forEach(it=>it.stop()),re.current.srcObject=null),ee.current&&ee.current.srcObject&&(ee.current.srcObject.getTracks().forEach(it=>it.stop()),ee.current.srcObject=null)},ve=async()=>new Promise((Ze,it)=>{try{const te=document.documentElement,le=()=>{document.fullscreenElement&&(G(!0),document.removeEventListener("fullscreenchange",le),Ze())};document.addEventListener("fullscreenchange",le),te.requestFullscreen?te.requestFullscreen().catch(be=>{document.removeEventListener("fullscreenchange",le),it(be)}):te.mozRequestFullScreen?te.mozRequestFullScreen().catch(be=>{document.removeEventListener("fullscreenchange",le),it(be)}):te.webkitRequestFullscreen?te.webkitRequestFullscreen().catch(be=>{document.removeEventListener("fullscreenchange",le),it(be)}):te.msRequestFullscreen?te.msRequestFullscreen().catch(be=>{document.removeEventListener("fullscreenchange",le),it(be)}):(document.removeEventListener("fullscreenchange",le),it(new Error("Fullscreen API not supported")))}catch(te){it(te)}}),Ie=()=>{try{document.fullscreenElement&&document.visibilityState==="visible"&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()),G(!1)}catch{}},Fe=Ze=>{const it=Math.floor(Ze/60),te=Ze%60;return`${it}:${te<10?"0":""}${te}`},Se=Ze=>{g(Array.from(Ze.target.files))},ut=(Ze,it,te)=>{},pt=async()=>{try{T(!0);const Ze=new FormData;if(Ze.append("assignment_id",a.id),b&&Ze.append("submission_text",b),m.forEach(te=>{Ze.append("submission_files",te)}),a.has_test_mode&&(Ze.append("fullscreen_warnings",A),Ze.append("tab_switch_warnings",L),Ze.append("secure_mode_used",D)),!a.has_test_mode&&a.questions){const te={...F,...me};Ze.append("answers",JSON.stringify(te));let le=0,be=0,ue=0;a.questions.forEach(Oe=>{if(Oe.type==="multiple_choice"){ue+=Oe.points||1;const wt=F[Oe.id];if(wt!==void 0&&Oe.options&&Oe.options.length>0){const At=Oe.options.findIndex(Ut=>Ut.is_correct===!0);wt===At&&At!==-1&&(le++,be+=Oe.points||1)}}}),Ze.append("auto_grade",be),Ze.append("auto_grade_possible",ue),Ze.append("auto_grade_details",JSON.stringify({correct_answers:le,total_questions:a.questions.filter(Oe=>Oe.type==="multiple_choice").length}))}const it=await vt().post("/student/assignment-submission/",Ze,{headers:{"Content-Type":"multipart/form-data"}});dt().fire({icon:"success",title:"Assignment submitted successfully"}),f(!1),u(!1),X(),W({}),ne({})}catch{dt().fire({icon:"error",title:"Failed to submit assignment"})}finally{T(!1)}},Le=()=>{if(D){we(!0);return}},Ue=async()=>{if(!je||je.trim().length<10){dt().fire({icon:"error",title:"Please provide a detailed reason for leaving the test"});return}try{await vt().post("/student/assignment-test-log/",{assignment_id:a.id,action:"manual_exit",details:`Test aborted by student. Reason: ${je}`}),fe(),we(!1),dt().fire({icon:"warning",title:"Test has been aborted. Your instructor will be notified."}),f(!0)}catch{dt().fire({icon:"error",title:"Failed to exit test properly"})}},[Qe,ot]=w.useState(null),[Ke,xt]=w.useState(!1),ae=async Ze=>{try{const it=await vt().get(`student/assignment-submission/${Ze}/`);if(it.data&&(ot(it.data),it.data.answers)){const te=it.data.answers;te.multiple_choice&&W(te.multiple_choice),te.text&&ne(te.text)}xt(!0)}catch{xt(!0)}};w.useEffect(()=>{a&&a.id&&ae(a.id)},[a]);const Be=(Ze,it)=>{const te={...F,[Ze]:it};W(te)},Ye=(Ze,it)=>{const te={...me,[Ze]:it};ne(te),ut("text",Ze,it.length>50?it.substring(0,50)+"...":it)};return o.jsxs("div",{style:{display:"flex",minHeight:"100vh"},children:[!Je&&o.jsx(Sc,{sidebarCollapsed:t}),o.jsxs("div",{style:{flex:1,marginLeft:Je?0:t?"80px":"270px",transition:"margin-left 0.3s ease",color:ke?"white":"inherit"},children:[o.jsx(Yi,{sidebarCollapsed:t,toggleSidebar:ct}),o.jsxs("div",{style:{padding:Je?"10px":"20px"},children:[o.jsx(Cs,{className:"mb-4",children:o.jsxs(An,{children:[o.jsx("h3",{style:{color:ke?"white":"inherit"},children:"Assignments"}),o.jsx("p",{className:"text",style:{color:"rgb(255, 255, 255) !important"},children:"View and submit your course assignments"})]})}),s?o.jsx("div",{className:"text-center py-5",children:o.jsx(Yr,{animation:"border",role:"status",children:o.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):o.jsx(o.Fragment,{children:n.length>0?o.jsx(Cs,{children:n.map(Ze=>o.jsx(An,{md:6,lg:4,className:"mb-4",children:o.jsx($t,{className:"shadow-sm h-100",style:{backgroundColor:ke?"#333":"rgba(224, 224, 224, 0.8)",color:ke?"#fff":"#00000"},children:o.jsxs($t.Body,{className:"d-flex flex-column",children:[o.jsxs("div",{children:[o.jsx($t.Title,{style:{color:ke?"#fff":"#00000"},children:Ze.title}),o.jsxs($t.Text,{className:"mb-2",style:{color:ke?"#fff":"#00000"},children:["Course: ",Ze.course_name]}),Ze.due_date&&o.jsxs($t.Text,{className:"mb-3",style:{color:ke?"#fff":"#00000"},children:["Due: ",new Date(Ze.due_date).toLocaleDateString()]})]}),o.jsxs("div",{className:"mb-3",children:[Ze.has_test_mode&&o.jsx(rr,{bg:"warning",className:"me-2",children:"Secure Test"}),Ze.status==="pending"?o.jsx(rr,{bg:"info",children:"Not Submitted"}):Ze.status==="submitted"?o.jsx(rr,{bg:"success",children:"Submitted"}):Ze.status==="graded"?o.jsxs(rr,{bg:"success",children:["Graded: ",Ze.grade]}):Ze.due_date&&new Date(Ze.due_date)<new Date?o.jsx(rr,{bg:"danger",children:"Late"}):null]}),o.jsx("div",{className:"flex-grow-1"}),o.jsx("div",{children:o.jsx(Mt,{variant:ke?"primary":"light",style:{borderColor:ke?"#4285f4":"rgb(21, 0, 255)",backgroundColor:ke?"#4285f4":"rgb(21, 0, 255)",color:ke?"":"#fff"},onClick:()=>Me(Ze),children:"View Assignment"})})]})})},Ze.id))}):o.jsx("div",{className:"text-center py-5",children:o.jsx("p",{children:"No assignments available."})})})]}),o.jsxs(Tt,{show:c,onHide:()=>{if(D){Le();return}u(!1)},backdrop:D?"static":!0,keyboard:!D,size:"lg",centered:!0,fullscreen:D,className:ke?"dark-mode-modal":"",children:[o.jsxs(Tt.Header,{className:"border-0",closeButton:!1,children:[o.jsx(Tt.Title,{children:a==null?void 0:a.title}),o.jsx("button",{type:"button",className:"btn-close-custom",onClick:()=>{if(D){Le();return}u(!1)},"aria-label":"Close",style:{background:"transparent",border:"none",fontSize:"1.2rem",fontWeight:"bold",color:ke?"#fff":"#000",opacity:"0.5",cursor:D?"not-allowed":"pointer",padding:"0.25rem 0.5rem",marginLeft:"auto"},onMouseOver:Ze=>Ze.currentTarget.style.opacity="1",onMouseOut:Ze=>Ze.currentTarget.style.opacity="0.5",disabled:D,children:""}),D&&o.jsx("div",{className:"ms-auto me-3 d-flex align-items-center",children:o.jsxs("div",{className:"fw-bold text-danger",children:["Time Remaining: ",Fe(N)]})})]}),o.jsx(Tt.Body,{children:D?o.jsxs("div",{children:[o.jsx("div",{className:"mb-4",children:o.jsxs("div",{className:"alert alert-warning",children:[o.jsx("strong",{children:"Secure Test Mode Active"}),o.jsx("p",{children:"Do not exit fullscreen or switch tabs. Violations will be recorded."}),o.jsxs("p",{children:["Warnings: Fullscreen (",A,"/",Q,") | Tab Switches (",L,"/",Q,")"]})]})}),o.jsxs("div",{className:"mb-4",children:[o.jsx("h5",{children:"Test Instructions"}),o.jsx("div",{dangerouslySetInnerHTML:{__html:a==null?void 0:a.description}})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("h5",{children:"Test Questions"}),o.jsx("div",{dangerouslySetInnerHTML:{__html:a==null?void 0:a.test_content}})]}),o.jsx(qe,{children:o.jsxs(qe.Group,{className:"mb-3",children:[o.jsx(qe.Label,{children:"Your Answer"}),o.jsx(qe.Control,{as:"textarea",rows:6,value:b,onChange:Ze=>y(Ze.target.value),placeholder:"Type your answers here..."})]})})]}):o.jsxs("div",{children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("h5",{children:"Course"}),o.jsx("p",{children:a==null?void 0:a.course_name})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("h5",{children:"Due Date"}),o.jsx("p",{children:(a==null?void 0:a.due_date)&&new Date(a.due_date).toLocaleDateString()})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("h5",{children:"Description"}),o.jsx("div",{dangerouslySetInnerHTML:{__html:a==null?void 0:a.description}})]}),(a==null?void 0:a.files)&&a.files.length>0&&o.jsxs("div",{className:"mb-4",children:[o.jsx("h5",{children:"Resources"}),o.jsxs(Vf,{striped:!0,bordered:!0,hover:!0,children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"File Name"}),o.jsx("th",{children:"Action"})]})}),o.jsx("tbody",{children:a.files.map((Ze,it)=>o.jsxs("tr",{children:[o.jsx("td",{children:Ze.name}),o.jsx("td",{children:o.jsx(Mt,{variant:"outline-primary",size:"sm",onClick:()=>window.open(Ze.url,"_blank"),children:"Download"})})]},it))})]})]}),(a==null?void 0:a.has_test_mode)&&o.jsxs("div",{className:"alert alert-warning",children:[o.jsx("h5",{children:"Secure Test Mode"}),o.jsx("p",{children:"This assignment requires secure test mode:"}),o.jsxs("ul",{children:[o.jsx("li",{children:"Full-screen mode required"}),a.time_limit_minutes&&o.jsxs("li",{children:["Time limit: ",a.time_limit_minutes," ","minutes"]})]}),o.jsx("p",{children:"You cannot exit secure mode once started until submission."})]})]})}),o.jsx(Tt.Footer,{children:D?o.jsx(Mt,{variant:"danger",onClick:se,children:"End Test & Submit"}):o.jsxs(o.Fragment,{children:[o.jsx(Mt,{variant:"secondary",onClick:()=>u(!1),children:"Close"}),(a==null?void 0:a.status)!=="submitted"&&(a==null?void 0:a.status)!=="graded"&&(a!=null&&a.has_test_mode?o.jsxs(Mt,{variant:"warning",onClick:ye,children:[o.jsx("i",{className:"fas fa-lock me-2"}),"Start Secure Test"]}):o.jsx(Mt,{variant:"primary",onClick:()=>f(!0),children:"Submit Assignment"}))]})})]}),o.jsxs(Tt,{show:h,onHide:()=>!S&&f(!1),backdrop:"static",keyboard:!S,centered:!0,size:"lg",className:ke?"dark-mode-modal":"",children:[o.jsxs(Tt.Header,{className:"border-0",closeButton:!1,children:[o.jsx(Tt.Title,{children:"Submit Assignment"}),o.jsx("button",{type:"button",className:"btn-close-custom",onClick:()=>!S&&f(!1),disabled:S,"aria-label":"Close",style:{background:"transparent",border:"none",fontSize:"1.2rem",fontWeight:"bold",color:ke?"#fff":"#000",opacity:"0.5",cursor:S?"not-allowed":"pointer",padding:"0.25rem 0.5rem",marginLeft:"auto"},onMouseOver:Ze=>Ze.currentTarget.style.opacity="1",onMouseOut:Ze=>Ze.currentTarget.style.opacity="0.5",children:""})]}),o.jsxs(Tt.Body,{children:[a&&o.jsxs("div",{className:"mb-4",children:[o.jsx("h5",{children:"Assignment Details"}),o.jsx("div",{className:"card",children:o.jsxs("div",{className:"card-body",children:[o.jsxs("h6",{className:"card-subtitle mb-2 text-muted",children:["Course: ",a.course_name]}),o.jsx("p",{className:"card-text",children:a.due_date?`Due Date: ${new Date(a.due_date).toLocaleDateString()}`:"No Due Date"}),(a.status==="submitted"||a.status==="graded")&&o.jsx("div",{className:"alert alert-success mb-3",children:o.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[o.jsxs("div",{children:[o.jsx("strong",{children:a.status==="submitted"?"Submitted":"Graded"}),a.submitted_at&&o.jsxs("div",{className:"small",children:["on ",new Date(a.submitted_at).toLocaleString()]})]}),a.grade&&o.jsxs("div",{className:"badge bg-success fs-6",children:["Score: ",a.grade,"/",a.points||100]})]})}),o.jsxs("div",{className:"mb-3",children:[o.jsx("h6",{children:"Instructions:"}),o.jsx("div",{dangerouslySetInnerHTML:{__html:a.description}})]}),a.files&&a.files.length>0&&o.jsxs("div",{children:[o.jsx("h6",{children:"Resources:"}),o.jsx("ul",{className:"list-group",children:a.files.map((Ze,it)=>o.jsxs("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[Ze.name,o.jsx(Mt,{variant:"outline-primary",size:"sm",onClick:()=>window.open(Ze.url,"_blank"),children:"Download"})]},it))})]})]})})]}),a&&!a.has_test_mode&&o.jsxs("div",{className:"mb-4",children:[o.jsx("h5",{children:"Questions"}),a.questions&&a.questions.length>0?a.questions.map((Ze,it)=>o.jsxs("div",{className:"mb-4",children:[o.jsxs("h5",{className:"mb-2",children:["Question ",it+1]}),o.jsx("p",{className:"mb-3",children:Ze.text}),Ze.type==="multiple_choice"&&o.jsxs("div",{className:"ms-3 mt-3",children:[Ze.options.map((te,le)=>o.jsx(qe.Check,{type:"radio",id:`question-${Ze.id}-option-${le}`,name:`question-${Ze.id}`,label:te.text,checked:F[Ze.id]===le,onChange:()=>Be(Ze.id,le),disabled:Qe!==null,className:Qe!==null&&F[Ze.id]===le?"text-primary fw-bold":""},le)),Qe!==null&&o.jsx("div",{className:"mt-2 text-muted",children:o.jsx("small",{children:o.jsx("i",{children:"This answer was previously submitted and cannot be changed."})})})]}),Ze.type==="text"&&o.jsxs("div",{className:"ms-3 mt-3",children:[o.jsx(qe.Control,{as:"textarea",rows:4,placeholder:"Enter your answer...",value:me[Ze.id]||"",onChange:te=>Ye(Ze.id,te.target.value),disabled:Qe!==null}),Qe!==null&&o.jsx("div",{className:"mt-2 text-muted",children:o.jsx("small",{children:o.jsx("i",{children:"This answer was previously submitted and cannot be changed."})})})]})]},Ze.id)):o.jsx("p",{children:"No questions available."})]}),x==="text"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mt-4",children:[o.jsx("h6",{children:"Additional Comments for Teacher (Optional)"}),o.jsx(qe.Group,{className:"text",children:o.jsx(qe.Control,{as:"textarea",rows:3,placeholder:"Add any questions or comments for your instructor here...",value:b,onChange:Ze=>y(Ze.target.value),disabled:S,style:{backgroundColor:"#ffffff",color:"#000000",borderColor:ke?"#555":"inherit"}})})]}),o.jsxs("div",{className:"mt-4",children:[o.jsx("h6",{children:"Additional Files (Optional)"}),o.jsx(qe.Group,{className:"mb-3",children:o.jsx(qe.Control,{type:"file",multiple:!0,onChange:Se,disabled:S})})]})]})]}),o.jsxs(Tt.Footer,{className:"d-flex flex-column align-items-stretch",children:[o.jsx(Mt,{variant:"secondary",onClick:()=>f(!1),disabled:S,className:"mb-2 w-100",children:(a==null?void 0:a.status)==="submitted"||(a==null?void 0:a.status)==="graded"?"Close":"Cancel"}),!((a==null?void 0:a.status)==="submitted"||(a==null?void 0:a.status)==="graded")&&o.jsx(Mt,{variant:"primary",onClick:pt,disabled:S||Qe!==null||((_t=a==null?void 0:a.questions)==null?void 0:_t.some(Ze=>Ze.required&&(Ze.type==="multiple_choice"&&F[Ze.id]===void 0||Ze.type==="text"&&(!me[Ze.id]||me[Ze.id].trim()==="")))),className:"w-100",children:S?"Submitting...":"Submit Assignment"}),Qe!==null&&o.jsxs(Wa,{variant:"info",className:"mt-3 mb-0 w-100",children:[o.jsx(ds,{icon:j1e,className:"me-2"}),"You've already submitted this assignment on "," ",new Date(Qe.submitted_at).toLocaleString(),". Your submission is final and cannot be changed."]})]})]}),o.jsxs(Tt,{show:ge,backdrop:"static",keyboard:!1,centered:!0,children:[o.jsx(Tt.Header,{children:o.jsx(Tt.Title,{children:"Exit Test Mode?"})}),o.jsxs(Tt.Body,{children:[o.jsxs("div",{className:"alert alert-danger",children:[o.jsx("strong",{children:"Warning!"})," Leaving the test before completion may be considered an academic violation. Your instructor will be notified."]}),o.jsxs(qe.Group,{className:"mb-3",children:[o.jsx(qe.Label,{children:"Please explain in detail why you need to exit the test:"}),o.jsx(qe.Control,{as:"textarea",rows:3,value:je,onChange:Ze=>Re(Ze.target.value),placeholder:"Technical issues, emergency, etc. (minimum 10 characters)"})]})]}),o.jsxs(Tt.Footer,{children:[o.jsx(Mt,{variant:"secondary",onClick:()=>{we(!1),document.fullscreenElement||ve().catch(console.error)},children:"Return to Test"}),o.jsx(Mt,{variant:"danger",onClick:Ue,disabled:!je||je.trim().length<10,children:"Exit Test"})]})]}),Je&&o.jsx(Su,{}),o.jsx("style",{children:`
            .dark-mode-modal .modal-content {
              background-color: #333 !important;
              color: #fff !important;
            }
            
            .dark-mode-modal .modal-header,
            .dark-mode-modal .modal-footer {
              border-color: #444 !important;
            }
            
            .dark-mode-modal .card {
              background-color: ${ke?"#2a2a2a":"#fff"};
              border-color: ${ke?"#444":"rgba(0,0,0,.125)"};
              color: ${ke?"#fff":"inherit"};
            }
            
            .dark-mode-modal .text-muted {
              color: ${ke?"#aaa !important":"#6c757d !important"};
            }
            
            .dark-mode-modal .list-group-item {
              background-color: ${ke?"#2a2a2a":"#fff"};
              border-color: ${ke?"#444":"rgba(0,0,0,.125)"};
              color: ${ke?"#fff":"inherit"};
            }
            
            .dark-mode .btn-close {
              filter: invert(1) grayscale(100%) brightness(200%);
            }
            
            .dark-mode .form-control,
            .dark-mode .form-select {
              background-color: #444;
              color: #fff;
              border-color: #555;
            }
            
            .dark-mode-modal .form-control:focus,
            .dark-mode-modal .form-select:focus {
              background-color: #444;
              color: #fff;
            }
            
            .dark-mode-modal .form-control.white-bg {
              background-color: #fff !important;
              color: #000 !important;
            }

            /* Add mobile-specific styles */
            @media (max-width: 700px) {
              .card {
                margin-bottom: 15px;
              }
              
              .modal-dialog {
                margin: 0.5rem;
              }
              
              .modal-title {
                font-size: 1.1rem;
              }
            }
            
            /* Controls hiding/showing */
            .video-js.vjs-controls-hidden .vjs-control-bar {
              opacity: 0 !important;
              pointer-events: none;
              transition: opacity 0.3s ease;
            }
            
            .video-js:not(.vjs-controls-hidden) .vjs-control-bar {
              opacity: 1 !important;
              pointer-events: auto;
              transition: opacity 0.3s ease;
            }
          `})]})]})}function A1e(){const[t,e]=w.useState(!0),[n,r]=w.useState(null),[s,i]=w.useState(""),[a,l]=w.useState(!1),[c,u]=w.useState(!1),[h,f]=w.useState(0),[m,g]=w.useState(0),[b,y]=w.useState(0),[x,_]=w.useState(null),[S,T]=w.useState(""),[D,j]=w.useState(!1),[A,O]=w.useState(!1),[L,P]=w.useState(!0),[N,U]=w.useState({}),M=3,{assignmentId:q}=rh(),E=mr();w.useEffect(()=>{G();const F=W=>{if(a)return W.preventDefault(),W.returnValue="Leaving this page will terminate your test. Are you sure?",W.returnValue};return window.addEventListener("beforeunload",F),()=>{if(window.removeEventListener("beforeunload",F),x&&clearInterval(x),document.fullscreenElement)try{document.exitFullscreen()}catch{}}},[a,x]);const G=async()=>{try{e(!0);const me=(await vt().get(`/student/assignment/${q}/`)).data;if(!me)throw new Error("No assignment data returned");r(me),me.time_limit_minutes&&y(me.time_limit_minutes*60),e(!1)}catch(F){dt().fire({icon:"error",title:`Failed to load test: ${F.message||"Unknown error"}`}),E("/student/assignments")}};w.useEffect(()=>{if(a&&n&&b>0){const F=setInterval(()=>{y(W=>W<=1?(clearInterval(F),K(),0):W-1)},1e3);return _(F),()=>clearInterval(F)}},[a,n,b]),w.useEffect(()=>{if(!a)return;const F=()=>{document.fullscreenElement||Q()},W=()=>{const ke=document.visibilityState==="hidden";O(ke),ke&&re()},me=()=>{P(!1),re()},ne=()=>{P(!0)},ge=ke=>{ke.preventDefault(),dt().fire({icon:"error",title:"Right-click is disabled during the test"})},we=ke=>{ke.altKey&&(ke.key==="Tab"||ke.key==="F4")&&(ke.preventDefault(),dt().fire({icon:"warning",title:"Switching windows is not allowed during the test"})),ke.ctrlKey&&(ke.key==="n"||ke.key==="t")&&(ke.preventDefault(),dt().fire({icon:"warning",title:"Opening new tabs/windows is not allowed during the test"})),ke.key==="F11"&&ke.preventDefault(),ke.key==="PrintScreen"&&(ke.preventDefault(),dt().fire({icon:"warning",title:"Screenshots are not allowed during the test"}))},je=ke=>{ke.preventDefault(),dt().fire({icon:"warning",title:"Copy, cut, and paste are not allowed during the test"})};document.addEventListener("fullscreenchange",F),document.addEventListener("visibilitychange",W),window.addEventListener("blur",me),window.addEventListener("focus",ne),document.addEventListener("contextmenu",ge),document.addEventListener("keydown",we),document.addEventListener("copy",je),document.addEventListener("paste",je),document.addEventListener("cut",je);const Re=setInterval(()=>{!document.hasFocus()&&!A&&re()},2e3);return()=>{document.removeEventListener("fullscreenchange",F),document.removeEventListener("visibilitychange",W),window.removeEventListener("blur",me),window.removeEventListener("focus",ne),document.removeEventListener("contextmenu",ge),document.removeEventListener("keydown",we),document.removeEventListener("copy",je),document.removeEventListener("paste",je),document.removeEventListener("cut",je),clearInterval(Re),document.exitPointerLock&&document.exitPointerLock()}},[a,A]);const Q=async()=>{const F=h+1;f(F);try{await vt().post("/student/assignment-test-log/",{assignment_id:q,action:"fullscreen_exit",details:`Fullscreen exit detected (Warning ${F}/${M})`}),F>=M&&(T("Too many fullscreen exits"),j(!0))}catch{}},re=async()=>{const F=m+1;g(F);try{await vt().post("/student/assignment-test-log/",{assignment_id:q,action:"tab_switch",details:`Tab switch detected (Warning ${F}/${M})`}),F>=M&&(T("Too many tab switches"),j(!0))}catch{}},ee=()=>{const F=document.documentElement;F.requestFullscreen?F.requestFullscreen():F.mozRequestFullScreen?F.mozRequestFullScreen():F.webkitRequestFullscreen?F.webkitRequestFullscreen():F.msRequestFullscreen&&F.msRequestFullscreen(),l(!0)},Z=()=>{try{document.fullscreenElement&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()),l(!1)}catch{}},K=async()=>{try{u(!0),await vt().post("/student/assignment-test-log/",{assignment_id:q,action:"end_test",details:`Test completed. Fullscreen warnings: ${h}, Tab switch warnings: ${m}`});const F=new FormData;F.append("assignment_id",q),F.append("submission_text",s),F.append("fullscreen_warnings",h),F.append("tab_switch_warnings",m),F.append("secure_mode_used",!0),F.append("answers",JSON.stringify(N)),await vt().post("/student/assignment-submission/",F,{headers:{"Content-Type":"multipart/form-data"}}),dt().fire({icon:"success",title:"Test submitted successfully"});try{document.fullscreenElement&&(Z(),await new Promise(W=>setTimeout(W,300)))}catch{}E("/student/assignments",{state:{testCompleted:!0}})}catch{dt().fire({icon:"error",title:"Failed to submit test"}),u(!1)}};return o.jsxs("div",{className:"secure-test-page",children:[t?o.jsxs("div",{className:"text-center p-5",children:[o.jsx(Yr,{animation:"border",variant:"primary"}),o.jsx("p",{className:"mt-3",children:"Loading secure test environment..."})]}):a?o.jsxs(Xd,{fluid:!0,className:"p-4",children:[o.jsxs(Wa,{variant:"warning",className:"mb-4",children:[o.jsx("strong",{children:"SECURE TEST MODE ACTIVE"}),o.jsx("p",{children:"Do not exit fullscreen. Violations will be recorded."}),o.jsxs("p",{children:["Warnings: Fullscreen: ",h,"/",M," | Tab Switches: ",m,"/",M]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("h1",{children:n==null?void 0:n.title}),o.jsxs("div",{className:"my-4",children:[o.jsx("h3",{children:"Instructions"}),o.jsx("div",{dangerouslySetInnerHTML:{__html:n==null?void 0:n.description}})]}),(n==null?void 0:n.test_content)&&o.jsxs("div",{className:"my-4",children:[o.jsx("h3",{children:"Test Content"}),o.jsx("div",{dangerouslySetInnerHTML:{__html:n==null?void 0:n.test_content}})]}),n!=null&&n.questions&&n.questions.length>0?o.jsxs("div",{className:"my-4",children:[o.jsx("h3",{children:"Questions"}),n.questions.map((F,W)=>o.jsxs("div",{className:"card mb-3 p-3",children:[o.jsxs("h5",{children:[W+1,". ",F.title]}),F.description&&o.jsx("p",{children:F.description}),F.type==="multiple_choice"&&F.options&&o.jsx("div",{className:"mt-2",children:F.options.map((me,ne)=>o.jsxs("div",{className:"form-check",children:[o.jsx("input",{type:"radio",name:`question-${F.id}`,id:`option-${F.id||W}-${ne}`,className:"form-check-input",checked:N[F.id]===ne,onChange:()=>U(ge=>({...ge,[F.id]:ne}))}),o.jsx("label",{className:"form-check-label",htmlFor:`option-${F.id||W}-${ne}`,children:me.text})]},ne))}),F.type==="text"&&o.jsx(qe.Control,{as:"textarea",rows:3,placeholder:"Your answer...",className:"mt-2",value:N[F.id]||"",onChange:me=>U(ne=>({...ne,[F.id]:me.target.value}))}),F.type==="file_upload"&&o.jsx(qe.Control,{type:"file",className:"mt-2"}),o.jsx("div",{className:"mt-1 text-end text-muted",children:o.jsxs("small",{children:[F.points," point",F.points!==1?"s":""]})})]},F.id||W))]}):o.jsx("div",{className:"alert alert-info",children:"No questions found for this assignment."})]}),o.jsx("div",{className:"text-end",children:o.jsx(Mt,{variant:"primary",size:"lg",onClick:K,disabled:c,children:c?"Submitting...":"Submit Test"})})]}):o.jsx(Xd,{className:"py-5",children:o.jsx(Cs,{className:"justify-content-center",children:o.jsxs(An,{md:8,lg:6,children:[o.jsxs(Wa,{variant:"info",children:[o.jsx(Wa.Heading,{children:"Start Secure Test"}),o.jsx("p",{children:"This test must be taken in full-screen mode. No tab switching, copying/pasting, or printing is allowed during the test."}),o.jsx("hr",{}),o.jsx("p",{className:"mb-0",children:"When you're ready to begin, click the button below."})]}),o.jsx("div",{className:"text-center",children:o.jsx(Mt,{variant:"primary",size:"lg",onClick:ee,children:"Start Secure Test"})})]})})}),o.jsx("style",{children:`
      body.dark-mode .form-control, body.dark-mode .form-select
      {
        background-color: #ffffff;
        color: #000000;
      }
      
      `})]})}function Fu({sidebarCollapsed:t}){const e=mr(),n=Po(),r=()=>{Cn.remove("access_token"),Cn.remove("refresh_token"),e("/")},s=i=>n.pathname===i;return o.jsxs("div",{className:`sidebar ${t?"collapsed":""}`,style:{position:"fixed",top:"10px",left:"10px",height:"calc(100vh - 20px)",width:t?"60px":"250px",backgroundColor:"rgba(0, 0, 0, 0)",borderRadius:"15px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",transition:"width 0.3s ease",zIndex:1e3,overflow:"hidden",display:"flex",flexDirection:"column"},children:[o.jsxs("ul",{className:"list-unstyled",style:{padding:0,margin:0},children:[o.jsx("li",{className:"nav-item",children:o.jsxs(Fn,{className:`nav-link ${s("/teacher/dashboard")?"active":""}`,to:"/teacher/dashboard",style:{display:"flex",alignItems:"center",justifyContent:t?"center":"flex-start"},children:[o.jsx("i",{className:"bi bi-house",style:{fontSize:"20px",marginRight:t?"0":"10px"}}),!t&&o.jsx("span",{children:"Home"})]})}),o.jsx("li",{className:"nav-item",children:o.jsxs(Fn,{className:`nav-link ${s("/teacher/courses")?"active":""}`,to:"/teacher/courses",style:{display:"flex",alignItems:"center",justifyContent:t?"center":"flex-start"},children:[o.jsx("i",{className:"bi bi-book",style:{fontSize:"20px",marginRight:t?"0":"10px"}}),!t&&o.jsx("span",{children:"Courses"})]})}),o.jsx("li",{className:"nav-item",children:o.jsxs(Fn,{className:`nav-link ${s("/teacher/assignments")?"active":""}`,to:"/teacher/assignments",style:{display:"flex",alignItems:"center",justifyContent:t?"center":"flex-start"},children:[o.jsx("i",{className:"bi bi-pencil",style:{fontSize:"20px",marginRight:t?"0":"10px"}}),!t&&o.jsx("span",{children:"Assignments"})]})}),o.jsx("li",{className:"nav-item",children:o.jsxs(Fn,{className:`nav-link ${s("/teacher/quiz")?"active":""}`,to:"/teacher/quiz",style:{display:"flex",alignItems:"center",justifyContent:t?"center":"flex-start"},children:[o.jsx("i",{className:"bi bi-question-circle",style:{fontSize:"20px",marginRight:t?"0":"10px"}}),!t&&o.jsx("span",{children:"Quiz"})]})}),o.jsx("li",{className:"nav-item",children:o.jsxs(Fn,{className:`nav-link ${s("/teacher/messages")?"active":""}`,to:"/teacher/messages",style:{display:"flex",alignItems:"center",justifyContent:t?"center":"flex-start"},children:[o.jsx("i",{className:"bi bi-chat-dots",style:{fontSize:"20px",marginRight:t?"0":"10px"}}),!t&&o.jsx("span",{children:"Messages"})]})})]}),o.jsx("div",{style:{flex:1}}),o.jsxs("ul",{className:"list-unstyled",style:{padding:0,margin:0,marginBottom:"10px"},children:[o.jsx("li",{className:"nav-item",children:o.jsxs(Fn,{className:`nav-link ${s("/teacher/settings")?"active":""}`,to:"/teacher/settings",style:{display:"flex",alignItems:"center",justifyContent:t?"center":"flex-start"},children:[o.jsx("i",{className:"bi bi-gear",style:{fontSize:"20px",marginRight:t?"0":"10px"}}),!t&&o.jsx("span",{children:"Settings"})]})}),o.jsx("li",{className:"nav-item",children:o.jsxs("button",{className:"nav-link btn btn-link text-start",onClick:r,style:{display:"flex",alignItems:"center",justifyContent:t?"center":"flex-start"},children:[o.jsx("i",{className:"bi bi-box-arrow-right",style:{fontSize:"20px",marginRight:t?"0":"10px"}}),!t&&o.jsx("span",{children:"Log Out"})]})})]}),o.jsx("style",{children:`
        .nav-link {
          padding: 10px;
          border-radius: 8px;
          color: black;
          text-decoration: none;
          transition: background-color 0.3s ease, color 0.3s ease;
          width: 100%;
        }

        .nav-link:hover {
          background-color: rgb(3, 3, 153);
          color: white;
        }

        .nav-link:hover i,
        .nav-link:hover span {
          color: white;
        }

        .nav-link.active {
          background-color: rgb(140, 0, 0);
          font-weight: bold;
          color: white;
        }

        .nav-link.active i,
        .nav-link.active span {
          color: white;
        }

        .nav-item {
          width: 100%;
        }

        .sidebar.collapsed .nav-link {
          justify-content: center;
        }

        .sidebar.collapsed .nav-link i {
          margin-right: 0;
        }

        .sidebar.collapsed .nav-link span {
          display: none;
        }
      `})]})}function P1e(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}P1e(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var SE=t=>typeof t=="number"&&!isNaN(t),Wg=t=>typeof t=="string",p7=t=>typeof t=="function",I1e=t=>Wg(t)||SE(t),O1e=t=>w.isValidElement(t)||Wg(t)||p7(t)||SE(t),M1e=1,m7=()=>`${M1e++}`,wl=new Map,bC=[],FP=new Set,g7=()=>wl.size>0,R1e=(t,{containerId:e})=>{var n;return(n=wl.get(e||1))==null?void 0:n.toasts.get(t)};function L1e(t,e){var n;if(e)return!!((n=wl.get(e))!=null&&n.isToastActive(t));let r=!1;return wl.forEach(s=>{s.isToastActive(t)&&(r=!0)}),r}function F1e(t){if(!g7()){bC=bC.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||I1e(t))wl.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=wl.get(t.containerId);e?e.removeToast(t.id):wl.forEach(n=>{n.removeToast(t.id)})}}var B1e=(t={})=>{wl.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function $1e(t,e){O1e(t)&&(g7()||bC.push({content:t,options:e}),wl.forEach(n=>{n.buildToast(t,e)}))}function y7(t,e){wl.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function z1e(t){return FP.add(t),()=>{FP.delete(t)}}function U1e(t){return t&&(Wg(t.toastId)||SE(t.toastId))?t.toastId:m7()}function C0(t,e){return $1e(t,e),e.toastId}function h1(t,e){return{...e,type:e&&e.type||t,toastId:U1e(e)}}function f1(t){return(e,n)=>C0(e,h1(t,n))}function ar(t,e){return C0(t,h1("default",e))}ar.loading=(t,e)=>C0(t,h1("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function H1e(t,{pending:e,error:n,success:r},s){let i;e&&(i=Wg(e)?ar.loading(e,s):ar.loading(e.render,{...s,...e}));let a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,h,f)=>{if(h==null){ar.dismiss(i);return}let m={type:u,...a,...s,data:f},g=Wg(h)?{render:h}:h;return i?ar.update(i,{...m,...g}):ar(g.render,{...m,...g}),f},c=p7(t)?t():t;return c.then(u=>l("success",r,u)).catch(u=>l("error",n,u)),c}ar.promise=H1e;ar.success=f1("success");ar.info=f1("info");ar.error=f1("error");ar.warning=f1("warning");ar.warn=ar.warning;ar.dark=(t,e)=>C0(t,h1("default",{theme:"dark",...e}));function W1e(t){F1e(t)}ar.dismiss=W1e;ar.clearWaitingQueue=B1e;ar.isActive=L1e;ar.update=(t,e={})=>{let n=R1e(t,e);if(n){let{props:r,content:s}=n,i={delay:100,...r,...e,toastId:e.toastId||t,updateId:m7()};i.toastId!==t&&(i.staleId=t);let a=i.render||s;delete i.render,C0(a,i)}};ar.done=t=>{ar.update(t,{progress:1})};ar.onChange=z1e;ar.play=t=>y7(!0,t);ar.pause=t=>y7(!1,t);function V1e(t){var y;const[e,n]=w.useState(null),[r,s]=w.useState(!1),[i,a]=w.useState([]),[l,c]=w.useState(!1),u=vt();w.useEffect(()=>(h(),window.addEventListener("calendar-refresh",h),()=>{window.removeEventListener("calendar-refresh",h)}),[]);const h=async()=>{try{const x=await u.get(`${ua}events/`);a(x.data)}catch(x){console.error("Error fetching events: ",x)}},f=x=>{const _=Cl(x).format("YYYY-MM-DD"),S=i.filter(T=>T.event_date===_);n({date:_,events:S}),s(!0)},m=()=>{s(!1)},g=x=>{var _;s(!1),(_=e==null?void 0:e.events)==null||_.find(S=>S.id===x),t.handleEditEvent&&x&&t.handleEditEvent(x)},b=async x=>{if(window.confirm("Are you sure you want to delete this event?")){c(!0);try{const _=Cn.get("access_token"),S=await u.delete(`events/${x}/`,{headers:{Authorization:`Bearer ${_}`}});(S.status===204||S.status===200)&&(ar.success("Event deleted successfully"),s(!1),h(),t.fetchDashboardData&&t.fetchDashboardData())}catch(_){console.error("Error deleting event:",_),ar.error("Failed to delete event. Please try again.")}finally{c(!1)}}};return o.jsxs(bM,{dateAdapter:gM,children:[o.jsx(gR,{displayStaticWrapperAs:"desktop",value:(e==null?void 0:e.date)||null,onChange:x=>f(x),renderInput:x=>o.jsx("div",{...x}),renderDay:(x,_,S)=>{const T=x.format("YYYY-MM-DD"),D=x.isSame(Cl(),"day"),j=i.some(Q=>Q.event_date===T),A=S.outsideCurrentMonth,{isAnimating:O,allowSameDateSelection:L,outsideCurrentMonth:P,disableHighlightToday:N,showDaysOutsideCurrentMonth:U,onDayFocus:M,onDaySelect:q,today:E,...G}=S;return w.createElement("div",{...G,key:T,style:{...S.style,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:j?"#940303":void 0,color:j?"white":A?"#d3d3d3":void 0,border:D?"2px solid #032794":void 0,borderRadius:"50%",width:"36px",height:"36px",margin:"auto",cursor:"pointer"},onClick:()=>f(x)},x.date())}}),o.jsx(JM,{open:r,onClose:m,children:o.jsxs(QM,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,p:4,borderRadius:"8px"},children:[o.jsxs("h3",{style:{textAlign:"center"},children:["Schedule for ",(e==null?void 0:e.date)||""]}),((y=e==null?void 0:e.events)==null?void 0:y.length)>0?o.jsx("ul",{style:{listStyleType:"none",padding:0},children:e.events.map((x,_)=>o.jsx("li",{style:{marginBottom:"10px",padding:"10px",backgroundColor:"#f8f9fa",borderRadius:"4px"},children:o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:[o.jsxs("div",{children:[o.jsx("strong",{children:x.name})," ",o.jsx("br",{}),o.jsx("small",{children:new Date(x.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})," ",o.jsx("br",{}),x.platform&&x.platform!=="other"&&o.jsxs("small",{children:["Platform: ",x.platform]}),x.invite_link&&o.jsx("div",{children:o.jsx("a",{href:x.invite_link,target:"_blank",rel:"noopener noreferrer",style:{color:"#0066cc",fontSize:"14px"},children:"Join Event"})})]}),o.jsxs("div",{children:[o.jsx(XD,{onClick:()=>g(x.id),style:{minWidth:"32px",padding:"4px 8px",color:"#0066cc",marginRight:"5px"},title:"Edit event",disabled:l,children:o.jsx(Sx,{style:{fontSize:"14px"}})}),o.jsx(XD,{onClick:()=>b(x.id),style:{minWidth:"32px",padding:"4px 8px",color:"#dc3545"},title:"Delete event",disabled:l,children:o.jsx(np,{style:{fontSize:"14px"}})})]})]})},x.id||_))}):o.jsx("p",{style:{textAlign:"center"},children:"No events for this day."})]})})]})}r0.register(zb,Ub,Km,hf,oM,cM,iM,df);function q1e(){const[t,e]=w.useState(!1),[n,r]=w.useState(!0),[s,i]=w.useState({}),[a,l]=w.useState([]),[c,u]=w.useState(null),[h,f]=w.useState(!1),[m,g]=w.useState(!1),[b,y]=w.useState([]),[x,_]=w.useState(!0),[S,T]=w.useState(!1),[D,j]=w.useState([]),[A,O]=w.useState([]),[L,P]=w.useState(!1),[N,U]=w.useState([]),[M,q]=w.useState(!1),[E,G]=w.useState(!1),[Q,re]=w.useState(null),[ee,Z]=w.useState(!1),[K,F]=w.useState({name:"",date:"",time:"",description:"",platform:"Other",invite_link:"",groups:[],users:[],send_to_all:!1}),[W,me]=w.useState([]),[ne,ge]=w.useState([]),[we,je]=w.useState(!1),Re=vt(),ke=async()=>{try{const ue=await Re.get("/user/appearance-settings/");ue.data&&We(ue.data)}catch{const Oe=localStorage.getItem("darkMode")==="true";e(Oe)}},We=ue=>{ue.dark_mode?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode"),e(ue.dark_mode),ue.font_size&&(document.documentElement.style.fontSize=`${ue.font_size}px`),ue.high_contrast?document.body.classList.add("high-contrast"):document.body.classList.remove("high-contrast")};w.useEffect(()=>{ke();const ue=new MutationObserver(Oe=>{Oe.forEach(wt=>{if(wt.attributeName==="class"){const At=document.body.classList.contains("dark-Mode");e(At)}})});return ue.observe(document.body,{attributes:!0}),()=>ue.disconnect()},[]);const Je=w.useRef(null),nt=w.useRef(null),ct=mr(),X=()=>{r(!n)},Me=()=>{const ue=["January","February","March","April","May","June","July","August","September","October","November","December"],wt=new Date().getMonth();return[ue[(wt+10)%12],ue[(wt+11)%12],ue[wt]]},[ye,se]=w.useState(null),[ie,fe]=w.useState([]),[Te,he]=w.useState(!1),ce=ue=>{const Oe=ue.format("YYYY-MM-DD"),wt=a.filter(At=>At.event_date===Oe);wt.length>0?(se(Oe),fe(wt),he(!0)):(G(!1),re(null),F({...K,date:Oe}),q(!0))},ve=()=>{G(!1),re(null),F({name:"",date:"",time:"",description:"",platform:"Other",invite_link:"",groups:[],users:[],send_to_all:!1}),Z(!1),q(!0),Fe()},Ie=async ue=>{var Oe,wt;try{G(!0),re(ue),_(!0);const Ut=(await Re.get(`events/${ue}/`)).data,Ct=Ut.platform&&Ut.platform!=="other";Z(Ct);const en=new Date(Ut.date||Ut.event_datetime),qn=en.toISOString().split("T")[0],vr=en.getHours().toString().padStart(2,"0"),Un=en.getMinutes().toString().padStart(2,"0"),Jt=`${vr}:${Un}`;F({name:Ut.name||"",date:qn,time:Jt,description:Ut.description||"",platform:Ut.platform||"other",invite_link:Ut.invite_link||"",groups:((Oe=Ut.groups)==null?void 0:Oe.map(yn=>yn.id||yn))||[],users:((wt=Ut.users)==null?void 0:wt.map(yn=>yn.id||yn))||[],send_to_all:Ut.send_to_all||!1}),await Fe(),q(!0)}catch{ar.error("Failed to load event data. Please try again.")}finally{_(!1)}},Fe=async()=>{try{const ue=await Re.get("groups/");ue.data&&ue.data.groups?me(ue.data.groups):me([]),ue.data&&ue.data.users?ge(ue.data.users):ge([])}catch{me([]),ge([])}},Se=ue=>{const{name:Oe,value:wt,type:At,checked:Ut}=ue.target;F(At==="checkbox"?{...K,[Oe]:Ut}:{...K,[Oe]:wt})},ut=(ue,Oe)=>{const wt=Array.from(ue.target.selectedOptions).map(At=>At.value);F({...K,[Oe]:wt})},pt=ue=>{Z(ue.target.checked),ue.target.checked||F({...K,platform:"Other",invite_link:""})},Le=async ue=>{var Oe,wt;if(ue.preventDefault(),je(!0),!K.date||!K.time){ar.error("Date and time are required"),je(!1);return}try{const At=new Date(`${K.date}T${K.time}`),Ut={name:K.name,date:At.toISOString(),description:K.description||"",platform:ee?K.platform:"other",invite_link:ee?K.invite_link:"",send_to_all:K.send_to_all||!1,users:Array.isArray(K.users)?K.users:[],groups:Array.isArray(K.groups)?K.groups:[]},Ct=Cn.get("access_token");let en;E&&Q?(en=await Re.put(`events/${Q}/`,Ut,{headers:{Authorization:`Bearer ${Ct}`,"Content-Type":"application/json"}}),ar.success("Event updated successfully!")):(en=await Re.post("teacher/submit-event/",Ut,{headers:{Authorization:`Bearer ${Ct}`,"Content-Type":"application/json"}}),ar.success("Event created successfully!")),(en.status===201||en.status===200)&&(q(!1),Ye(),setTimeout(()=>{window.dispatchEvent(new CustomEvent("calendar-refresh"))},100))}catch(At){(wt=(Oe=At.response)==null?void 0:Oe.data)!=null&&wt.errors,ar.error(`Failed to ${E?"update":"create"} event. Please try again.`)}finally{je(!1)}},Ue=()=>{const Oe=new Date().toISOString().split("T")[0];F({...K,date:Oe})},Qe=()=>{const ue=new Date,Oe=ue.getHours().toString().padStart(2,"0"),wt=ue.getMinutes().toString().padStart(2,"0"),At=`${Oe}:${wt}`;F({...K,time:At})},ot=()=>ct("/instructor/students"),Ke=()=>ct("/instructor/assignments/to-grade"),xt=()=>ct("/instructor/quizzes"),ae=()=>ct("/instructor/certificates"),Be=async()=>{var ue;try{const Oe=await Re.get(`user/profile/${(ue=Vt())==null?void 0:ue.user_id}/`);u(Oe.data)}catch(Oe){Oe.response&&Oe.response.status===401&&ct("/")}},Ye=async()=>{var Oe,wt,At,Ut,Ct;const ue=(Oe=Vt())==null?void 0:Oe.teacher_id;if(!ue){ct("/404");return}try{const en=await Re.get(`teacher/dashboard/${ue}/`);i({total_students:((wt=en.data.stats)==null?void 0:wt.total_students)||0,assignments_to_grade:((At=en.data.stats)==null?void 0:At.assignments_to_grade)||0,quizzes_created:((Ut=en.data.stats)==null?void 0:Ut.quizzes_created)||0,certificates_issued:((Ct=en.data.stats)==null?void 0:Ct.certificates_issued)||0,monthly_submissions:en.data.monthly_submissions||[],monthly_logins:en.data.monthly_logins||[],monthly_quizzes:en.data.monthly_quizzes||[],activity_breakdown:en.data.activity_breakdown||[]}),j(en.data.recent_certificates||[]),O(en.data.recent_activity||[]),U(en.data.upcoming_events||[]),l(en.data.all_events||[]);const qn=await Re.get("notifications/");y(qn.data)}catch{}},_t=async()=>{T(!0),await Be(),T(!1)},Ze=async()=>{try{const ue=await Re.get("events/allowed-platforms/")}catch{}};if(w.useEffect(()=>{Ye(),Ze()},[]),w.useEffect(()=>{(async()=>{if(sessionStorage.getItem("refreshed_instructor_dashboard"))sessionStorage.removeItem("refreshed_instructor_dashboard"),P(!0),setTimeout(()=>{P(!1)},3e3);else{const Ct=`visited_${"/teacher/dashboard".replace(/\//g,"_")}`;sessionStorage.getItem(Ct)==="true"&&sessionStorage.setItem("refreshed_instructor_dashboard","true")}await Be(),await Ye();const At=setTimeout(()=>{_(!1)},1500);return()=>clearTimeout(At)})();const Oe=wt=>{Je.current&&!Je.current.contains(wt.target)&&nt.current&&!nt.current.contains(wt.target)&&(f(!1),g(!1))};return document.addEventListener("mousedown",Oe),()=>{document.removeEventListener("mousedown",Oe)}},[]),w.useEffect(()=>{c||_t()},[c]),x)return o.jsx(yR,{});if(S)return o.jsx("p",{children:"Refreshing user data..."});const it={labels:Me(),datasets:[{label:"Submissions",data:s.monthly_submissions?s.monthly_submissions.slice(-3):[0,0,0],borderColor:"#032794",backgroundColor:"rgba(3, 39, 148, 0.2)",tension:.4},{label:"Logins",data:s.monthly_logins?s.monthly_logins.slice(-3):[0,0,0],borderColor:"#15A362",backgroundColor:"rgba(21, 163, 98, 0.2)",tension:.4},{label:"Quiz Attempts",data:s.monthly_quizzes?s.monthly_quizzes.slice(-3):[0,0,0],borderColor:"#8c0101",backgroundColor:"rgba(140, 1, 1, 0.2)",tension:.4}]},te={responsive:!0,plugins:{legend:{display:!0,labels:{color:t?"#f0f0f0":"#666"}},tooltip:{callbacks:{label:ue=>`${ue.raw} Activities`}}},scales:{x:{grid:{display:!1},ticks:{color:t?"#f0f0f0":"#666"}},y:{beginAtZero:!0,grid:{color:t?"#444":"#f0f0f0"},ticks:{color:t?"#f0f0f0":"#666"}}}},le={labels:["Assignments","Quizzes","Discussions","Content"],datasets:[{data:s.activity_breakdown||[],backgroundColor:["#032794","#8c0101","#15A362","#FFC107"],hoverBackgroundColor:["#021c68","#5c0000","#0f8049","#e0aa00"]}]},be={responsive:!0,plugins:{legend:{display:!0,position:"bottom",labels:{boxWidth:12,font:{size:11},color:t?"#f0f0f0":"#666"}}},cutout:"70%"};return o.jsxs("div",{style:{display:"flex",minHeight:"100vh"},children:[o.jsx(Fu,{sidebarCollapsed:n}),o.jsxs("div",{style:{flex:1,marginTop:"40px",marginLeft:n?"80px":"270px",transition:"margin-left 0.3s ease",display:"flex",flexDirection:"column"},children:[o.jsxs("div",{style:{position:"fixed",top:0,right:0,left:n?"80px":"270px",zIndex:1e3,backgroundColor:"rgba(0,0,0,0)",boxShadow:"0 2px 4px rgba(0, 0, 0, 0)",transition:"left 0.3s ease"},children:["          ",o.jsx(Yi,{sidebarCollapsed:n,toggleSidebar:X}),L&&o.jsx("div",{style:{position:"fixed",top:"70px",right:"20px",backgroundColor:"#4CAF50",color:"white",padding:"10px 15px",borderRadius:"4px",boxShadow:"0 2px 5px rgba(0,0,0,0.2)",zIndex:1e3,animation:"fadeIn 0.5s, fadeOut 0.5s 2.5s forwards"},children:"Dashboard refreshed with the latest data"})]}),o.jsx("div",{style:{padding:"20px",marginTop:"60px"},children:o.jsxs("div",{className:"row mb-2",children:[o.jsxs("div",{className:"col-md-8",children:[o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-md-3",children:o.jsx("div",{className:"card shadow-sm text-center",style:{backgroundColor:t?"#333":"#e9ecef",color:t?"white":"black",border:"none",transition:"all 0.3s ease",cursor:"pointer"},onMouseEnter:ue=>{const Oe=Math.random()>.5?"#8c0101":"#034287";ue.currentTarget.style.backgroundColor=Oe,ue.currentTarget.style.color="white",ue.currentTarget.style.setProperty("background-color",Oe,"important")},onMouseLeave:ue=>{ue.currentTarget.style.backgroundColor=t?"#333":"#e9ecef",ue.currentTarget.style.color=t?"white":"black"},onClick:ot,children:o.jsxs("div",{className:"card-body",style:{padding:"10px"},children:[o.jsx("h6",{style:{color:t?"white":"inherit"},children:"Total Students"}),o.jsx("p",{className:"display-6",style:{color:t?"white":"inherit"},children:s.total_students||0})]})})}),o.jsx("div",{className:"col-md-3",children:o.jsx("div",{className:"card shadow-sm text-center",style:{backgroundColor:t?"#333":"#e9ecef",color:t?"white":"black",border:"none",transition:"all 0.3s ease",cursor:"pointer"},onMouseEnter:ue=>{const Oe=Math.random()>.5?"#8c0101":"#034287";ue.currentTarget.style.backgroundColor=Oe,ue.currentTarget.style.color="white",ue.currentTarget.style.setProperty("background-color",Oe,"important")},onMouseLeave:ue=>{ue.currentTarget.style.backgroundColor=t?"#333":"#e9ecef",ue.currentTarget.style.color=t?"white":"black"},onClick:Ke,children:o.jsxs("div",{className:"card-body",style:{padding:"10px"},children:[o.jsx("h6",{style:{color:t?"white":"inherit"},children:"Assignments to Grade"}),o.jsx("p",{className:"display-6",style:{color:t?"white":"inherit"},children:s.assignments_to_grade||0})]})})}),o.jsx("div",{className:"col-md-3",children:o.jsx("div",{className:"card shadow-sm text-center",style:{backgroundColor:t?"#333":"#e9ecef",color:t?"white":"black",border:"none",transition:"all 0.3s ease",cursor:"pointer"},onMouseEnter:ue=>{const Oe=Math.random()>.5?"#8c0101":"#034287";ue.currentTarget.style.backgroundColor=Oe,ue.currentTarget.style.color="white",ue.currentTarget.style.setProperty("background-color",Oe,"important")},onMouseLeave:ue=>{ue.currentTarget.style.backgroundColor=t?"#333":"#e9ecef",ue.currentTarget.style.color=t?"white":"black"},onClick:xt,children:o.jsxs("div",{className:"card-body",style:{padding:"10px"},children:[o.jsx("h6",{style:{color:t?"white":"inherit"},children:"Quizzes Created"}),o.jsx("p",{className:"display-6",style:{color:t?"white":"inherit"},children:s.quizzes_created||0})]})})}),o.jsx("div",{className:"col-md-3",children:o.jsx("div",{className:"card shadow-sm text-center",style:{backgroundColor:t?"#333":"#e9ecef",color:t?"white":"black",border:"none",transition:"all 0.3s ease",cursor:"pointer"},onMouseEnter:ue=>{const Oe=Math.random()>.5?"#8c0101":"#034287";ue.currentTarget.style.backgroundColor=Oe,ue.currentTarget.style.color="white",ue.currentTarget.style.setProperty("background-color",Oe,"important")},onMouseLeave:ue=>{ue.currentTarget.style.backgroundColor=t?"#333":"#e9ecef",ue.currentTarget.style.color=t?"white":"black"},onClick:ae,children:o.jsxs("div",{className:"card-body",style:{padding:"10px"},children:[o.jsx("h6",{style:{color:t?"white":"inherit"},children:"Certificates Issued"}),o.jsx("p",{className:"display-6",style:{color:t?"white":"inherit"},children:s.certificates_issued||0})]})})})]}),o.jsxs("div",{className:"row mt-2",children:[o.jsx("div",{className:"col-md-8",children:o.jsx("div",{className:"card shadow-sm",style:{backgroundColor:t?"#333":"white"},children:o.jsxs("div",{className:"card-body",style:{padding:"10px"},children:[o.jsx("h5",{style:{color:t?"white":"inherit"},children:"Class Activity Trends"}),o.jsx(pM,{data:it,options:te})]})})}),o.jsx("div",{className:"col-md-4",children:o.jsx("div",{className:"card shadow-sm",style:{backgroundColor:t?"#333":"white"},children:o.jsxs("div",{className:"card-body",style:{padding:"10px"},children:[o.jsx("h5",{style:{color:t?"white":"inherit"},children:"Activity Breakdown"}),o.jsx(mM,{data:le,options:be})]})})})]})]}),o.jsx("div",{className:"col-md-4",children:o.jsx("div",{className:"card shadow-sm",style:{backgroundColor:t?"#333":"white"},children:o.jsxs("div",{className:"card-body",style:{padding:"10px",display:"flex",justifyContent:"center",alignItems:"flex-start",height:"100%",flexDirection:"column"},children:[o.jsxs("div",{className:"d-flex justify-content-between align-items-center w-100 mb-2",children:[o.jsx("h5",{style:{margin:"0",color:t?"white":"inherit"},children:"Event Calendar"}),o.jsxs("button",{className:"btn btn-sm btn-primary",onClick:ve,style:{fontSize:"0.8rem",padding:"0.2rem 0.5rem"},children:[o.jsx(Vd,{size:12,className:"me-1"})," Add Event"]})]}),o.jsx(V1e,{renderDay:(ue,Oe,wt)=>{const At=ue.format("YYYY-MM-DD"),Ut=ue.isSame(Cl(),"day"),Ct=a.some(Un=>Un.event_date===At),en=wt.outsideCurrentMonth,{today:qn,...vr}=wt;return w.createElement("div",{...vr,key:At,style:{...wt.style,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:Ct?t?"#551c1c":"#ffcccc":void 0,color:en?t?"#777":"#d3d3d3":t?"white":void 0,border:Ut?"2px solid #032794":void 0,borderRadius:"50%",width:"36px",height:"36px",margin:"auto",cursor:"pointer"},onClick:()=>ce(ue)},ue.date())},handleEditEvent:Ie,fetchDashboardData:Ye})]})})})]})})]}),o.jsxs(Tt,{show:M,onHide:()=>q(!1),size:"lg",backdrop:"static",centered:!0,contentClassName:t?"bg-dark":"",children:[o.jsxs(Tt.Header,{style:{color:t?"white":"black",backgroundColor:t?"#333":"white"},className:t?"border-dark":"",children:[o.jsxs(Tt.Title,{children:[o.jsx(vb,{className:"me-2"}),E?"Edit Event":"Add New Event"]}),o.jsx("div",{onClick:()=>q(!1),style:{cursor:"pointer",fontSize:"20px",fontWeight:"bold",marginLeft:"auto",padding:"0 10px"},children:o.jsx(tp,{color:t?"white":"#333"})})]}),o.jsx(Tt.Body,{className:t?"bg-dark text-light":"",children:o.jsxs(qe,{onSubmit:Le,children:[o.jsxs(qe.Group,{className:"mb-3",children:[o.jsxs(qe.Label,{children:["Name ",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsx(qe.Control,{type:"text",name:"name",value:K.name,onChange:Se,required:!0,style:{backgroundColor:t?"white":"#f8f9fa",color:"black"}})]}),o.jsxs(qe.Group,{className:"mb-3",children:[o.jsxs(qe.Label,{children:["Date ",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx(qe.Control,{type:"date",name:"date",value:K.date,onChange:Se,required:!0,className:"me-2",style:{backgroundColor:t?"white":"#f8f9fa",color:"black"}}),o.jsxs(Mt,{variant:t?"outline-light":"outline-danger",size:"sm",onClick:Ue,className:"d-flex align-items-center",children:["Today ",o.jsx(vb,{className:"ms-1"})]})]})]}),o.jsxs(qe.Group,{className:"mb-3",children:[o.jsxs(qe.Label,{children:["Time ",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx(qe.Control,{type:"time",name:"time",value:K.time,onChange:Se,required:!0,className:"me-2",style:{backgroundColor:t?"white":"#f8f9fa",color:"black"}}),o.jsxs(Mt,{variant:t?"outline-light":"outline-danger",size:"sm",onClick:Qe,className:"d-flex align-items-center",children:["Now ",o.jsx(vb,{className:"ms-1"})]})]}),o.jsx(qe.Text,{className:t?"text-light":"text-muted",children:"Note: you are 2 hours ahead of server time."})]}),o.jsxs(qe.Group,{className:"mb-3",children:[o.jsx(qe.Check,{type:"checkbox",label:"This is a live video session",checked:ee,onChange:pt,className:"mb-2",style:{color:t?"#e0e0e0":"inherit"}}),ee&&o.jsxs(o.Fragment,{children:[o.jsxs(qe.Group,{className:"mb-3",children:[o.jsxs(qe.Label,{children:["Platform ",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsxs(qe.Select,{name:"platform",value:K.platform,onChange:Se,required:!0,style:{backgroundColor:t?"white":"#f8f9fa",color:"black"},children:[o.jsx("option",{value:"other",children:"Other"}),o.jsx("option",{value:"zoom",children:"Zoom"}),o.jsx("option",{value:"google_meet",children:"Google Meet"}),o.jsx("option",{value:"ms_teams",children:"Microsoft Teams"}),o.jsx("option",{value:"webex",children:"WebEx"})]})]}),o.jsxs(qe.Group,{className:"mb-3",children:[o.jsx(qe.Label,{children:"Invite link"}),o.jsx(qe.Control,{type:"url",name:"invite_link",value:K.invite_link,onChange:Se,placeholder:"https://",style:{backgroundColor:t?"white":"#f8f9fa",color:"black"}})]})]})]}),o.jsxs(qe.Group,{className:"mb-3",children:[o.jsx(qe.Label,{children:"Description"}),o.jsx(qe.Control,{as:"textarea",rows:3,name:"description",value:K.description,onChange:Se,style:{backgroundColor:t?"white":"#f8f9fa",color:"black"}})]}),o.jsxs(qe.Group,{className:"mb-3",children:[o.jsxs(qe.Label,{className:"d-flex align-items-center",children:[o.jsx(efe,{className:"me-1"})," Groups"]}),o.jsx(qe.Select,{multiple:!0,name:"groups",value:K.groups,onChange:ue=>ut(ue,"groups"),style:{backgroundColor:t?"white":"#f8f9fa",color:"black"},children:Array.isArray(W)?W.map(ue=>o.jsx("option",{value:ue.id,children:ue.name},ue.id)):o.jsx("option",{value:"",children:"No groups available"})}),o.jsx(qe.Text,{className:t?"text-light":"text-muted",children:'Hold down "Control", or "Command" on a Mac, to select more than one.'})]}),o.jsxs(qe.Group,{className:"mb-3",children:[o.jsxs(qe.Label,{className:"d-flex align-items-center",children:[o.jsx(tfe,{className:"me-1"})," Users"]}),o.jsx(qe.Select,{multiple:!0,name:"users",value:K.users,onChange:ue=>ut(ue,"users"),style:{backgroundColor:t?"white":"#f8f9fa",color:"black"},children:ne.map(ue=>o.jsx("option",{value:ue.id,children:ue.name||ue.email},ue.id))}),o.jsx(qe.Text,{className:t?"text-light":"text-muted",children:'Hold down "Control", or "Command" on a Mac, to select more than one.'})]}),o.jsx(qe.Group,{className:"mb-3",children:o.jsx(qe.Check,{type:"checkbox",id:"send-to-all",label:"Send to all",name:"send_to_all",checked:K.send_to_all,onChange:Se,style:{color:t?"#e0e0e0":"inherit"}})}),o.jsxs("div",{className:"d-flex justify-content-end",children:[o.jsx(Mt,{variant:t?"outline-light":"secondary",className:"me-2",onClick:()=>q(!1),children:"Cancel"}),o.jsx(Mt,{variant:"primary",type:"submit",disabled:we,children:we?"Saving...":"Save"})]})]})})]}),o.jsxs(Tt,{show:Te,onHide:()=>he(!1),size:"md",centered:!0,contentClassName:t?"bg-dark":"",children:[o.jsx(Tt.Header,{style:{color:t?"white":"black",backgroundColor:t?"#333":"white"},className:t?"border-dark":""}),o.jsx(Tt.Body,{className:t?"bg-dark text-light":"",children:ie.length>0?o.jsx("div",{children:ie.map(ue=>o.jsxs("div",{className:"d-flex justify-content-between align-items-center p-2 mb-2",style:{backgroundColor:t?"#444":"#f8f9fa",borderRadius:"4px"},children:[o.jsxs("div",{className:"flex-grow-1",children:[o.jsx("h6",{className:"mb-1",children:ue.name}),o.jsxs("small",{children:[new Date(ue.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),ue.platform&&ue.platform!=="other"&&` - ${ue.platform}`]})]}),o.jsxs("div",{children:[o.jsxs(Mt,{variant:"outline-primary",size:"sm",onClick:()=>{he(!1),Ie(ue.id)},className:"me-2",title:"Edit event",children:[o.jsx(Sx,{})," Edit"]}),o.jsxs(Mt,{variant:"outline-danger",size:"sm",onClick:()=>handleDeleteEvent(ue.id),title:"Delete event",children:[o.jsx(np,{})," Delete"]})]})]},ue.id))}):o.jsx("p",{className:"text-center",children:"No events scheduled for this day."})})]}),o.jsx("style",{children:`
          /* Dark mode text color overrides */
          .dark-mode h1, .dark-mode h2, .dark-mode h4, .dark-mode h5, .dark-mode h6,
          .dark-mode p, .dark-mode span, {
            color: white !important;
          }
          .dark-mode .card {
            background-color: #333 !important;
          }
          
          .dark-mode .card-body h5 {
            color: white !important;
          }
          
          .dark-mode .card-body h6 {
            color: white !important;
            
          }
          
          .dark-mode .card-body p {
            color: white !important;
          }
          
          .dark-mode .display-6 {
            color: white !important;
          }
          
          /* Calendar day styling override for dark mode */
          .dark-mode .MuiPickersDay-root:not(.Mui-selected) {
            color: white !important;
          }
          .dark-mode .css-1u9f8qc-MuiTypography-root {
          color: white !important;
          }
          .dark-mode .css-3vnhty  {
            color: black !important;
          }
          .dark-mode .css-yg5mi2 {
            color: white !important;
          }
            dark-mode .css-1bm6bgu {
            color: white !important;
        }
          .dark-mode .from-check-label {
          color: black !important;
          }
            .dark-mode .mb-3 {
            color: black !important;
          }
            .dark-mode .text-danger {
            color: #dc3545 !important;
          }
        `})]})}function Y1e(){return w.useEffect(()=>{const t=n=>{n.preventDefault(),alert("Right-click is disabled on this page.")},e=n=>{n.key==="F12"&&(n.preventDefault(),alert("F12 is disabled on this page.")),n.ctrlKey&&n.shiftKey&&n.key==="I"&&(n.preventDefault(),alert("Ctrl+Shift+I is disabled on this page."))};return document.addEventListener("contextmenu",t),document.addEventListener("keydown",e),()=>{document.removeEventListener("contextmenu",t),document.removeEventListener("keydown",e)}},[]),o.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:9999,pointerEvents:"none",backgroundColor:"rgba(0, 0, 0, 0)"}})}const G1e=({disabled:t=!0,preserveError:e=!0})=>(w.useEffect(()=>{if(t)return()=>{}},[t,e]),null);function K1e(){const[t,e]=w.useState(!0),[n,r]=w.useState("profile"),[s,i]=w.useContext(Gg),[a,l]=w.useState({image:"",full_name:"",about:""}),[c,u]=w.useState(""),[h,f]=w.useState(""),m=mr(),[g,b]=w.useState(!1),[y,x]=w.useState(16),[_,S]=w.useState(!1),[T,D]=w.useState("default"),[j,A]=w.useState("comfortable"),[O,L]=w.useState(!1),P=()=>{e(!t)},N=()=>{var F;vt().get(`user/profile/${(F=Vt())==null?void 0:F.user_id}/`).then(W=>{i(W.data),l(W.data),u(W.data.image)}).catch(W=>{W.response&&W.response.status===401&&(Cn.remove("access_token"),Cn.remove("refresh_token"),m("/"))})};w.useEffect(()=>{var W;if(!((W=Vt())==null?void 0:W.user_id)){m("/");return}N()},[]),w.useEffect(()=>{const F=document.body.classList.contains("dark-mode"),W=localStorage.getItem("appearanceSettings");if(W){const me=JSON.parse(W);b(F||me.darkMode||!1),x(me.fontSize||16),S(me.highContrast||!1),D(me.colorTheme||"default"),A(me.density||"comfortable")}else b(F);setTimeout(()=>U(),100)},[]),w.useEffect(()=>{const F=localStorage.getItem("appearanceSettings");if(F)try{const W=JSON.parse(F);b(W.darkMode||!1),x(W.fontSize||16),S(W.highContrast||!1),D(W.colorTheme||"default"),A(W.density||"comfortable"),setTimeout(()=>{W.darkMode&&document.body.classList.add("dark-mode"),W.highContrast&&document.body.classList.add("high-contrast"),document.documentElement.style.fontSize=`${W.fontSize}px`,document.body.setAttribute("data-theme",W.colorTheme||"default"),document.body.setAttribute("data-density",W.density||"comfortable")},100)}catch{}},[]);const U=()=>{document.body.classList.remove("dark-mode","high-contrast"),g&&document.body.classList.add("dark-mode"),_&&document.body.classList.add("high-contrast"),document.documentElement.style.fontSize=`${y}px`,document.body.setAttribute("data-theme",T),document.body.setAttribute("data-density",j),localStorage.setItem("appearanceSettings",JSON.stringify({darkMode:g,fontSize:y,highContrast:_,colorTheme:T,density:j}))},M=()=>{b(!g),L(!0)},q=F=>{x(parseInt(F.target.value)),L(!0)},E=()=>{S(!_),L(!0)},G=F=>{A(F.target.value),L(!0)},Q=async()=>{try{U();const W=await vt().post("user/appearance-settings/",{dark_mode:g,font_size:y,high_contrast:_,color_theme:T,density:j});L(!1),f("Settings applied and saved to your account!"),setTimeout(()=>f(""),3e3)}catch{f("Settings applied locally")}},re=F=>{l({...a,[F.target.name]:F.target.value})},ee=F=>{const W=F.target.files[0];l({...a,[F.target.name]:W});const me=new FileReader;me.onloadend=()=>{u(me.result)},W&&me.readAsDataURL(W)},Z=async F=>{var me;F.preventDefault();const W=new FormData;a.image&&typeof a.image!="string"&&W.append("image",a.image),W.append("id",a.id||""),W.append("full_name",a.full_name||""),W.append("country",a.country||""),W.append("about",a.about||""),W.append("date",a.date||""),W.append("otp",a.otp||null),W.append("user",a.user||"");try{const ne=await vt().patch(`user/profile/${(me=Vt())==null?void 0:me.user_id}/`,W,{headers:{"Content-Type":"multipart/form-data"}});i(ne.data),f("Profile was successfully updated!"),setTimeout(()=>f(""),5e3)}catch{f("Failed to update profile. Please try again."),setTimeout(()=>f(""),5e3)}},K={container:{display:"flex",minHeight:"100vh"},mainContent:{flex:1,marginLeft:t?"80px":"270px",transition:"margin-left 0.3s ease"},profileContainer:{display:"flex",marginTop:"20px",height:"calc(100vh - 80px)"},content:{flex:1,padding:"20px",overflowY:"auto"},avatar:{width:"100px",height:"100px",borderRadius:"50%",objectFit:"cover"},successMessage:{color:"green",marginLeft:"10px",fontSize:"14px"}};return o.jsxs("div",{style:K.container,children:[o.jsx(Fu,{sidebarCollapsed:t}),o.jsxs("div",{style:K.mainContent,children:[o.jsx(Yi,{sidebarCollapsed:t,toggleSidebar:P}),o.jsxs("div",{style:K.profileContainer,children:[o.jsxs("div",{className:"settings-nav",children:[o.jsx("button",{className:`settings-nav-btn${n==="profile"?" active":""}`,onClick:()=>r("profile"),children:"Profile"}),o.jsx("button",{className:`settings-nav-btn${n==="Appearance"?" active":""}`,onClick:()=>r("Appearance"),children:"Appearance"})]}),o.jsxs("div",{style:K.content,children:[n==="profile"&&o.jsxs("div",{children:[o.jsx("h4",{className:"mb-4",children:"Profile Details"}),o.jsxs("form",{onSubmit:Z,children:[o.jsxs("div",{className:"d-flex align-items-center mb-4",children:[o.jsx("img",{src:c,alt:"avatar",style:K.avatar}),o.jsxs("div",{className:"ms-3",children:[o.jsx("h5",{children:"Change Profile Image"}),o.jsx("label",{htmlFor:"upload-avatar",style:{display:"inline-block",padding:"10px 20px",fontSize:"14px",color:"red",border:"2px solid red",borderRadius:"4px",backgroundColor:"transparent",cursor:"pointer",transition:"background-color 0.3s ease, color 0.3s ease"},onMouseEnter:F=>{F.target.style.backgroundColor="red",F.target.style.color="white"},onMouseLeave:F=>{F.target.style.backgroundColor="transparent",F.target.style.color="red"},children:"Upload Profile Picture"}),o.jsx("input",{type:"file",id:"upload-avatar",className:"form-control mt-2",name:"image",onChange:ee,style:{display:"none"}})]})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"form-label",children:"UserName"}),o.jsx("input",{type:"text",className:"form-control",name:"full_name",value:a.full_name,onChange:re,required:!0})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"form-label",children:"About Me"}),o.jsx("textarea",{className:"form-control",name:"about",rows:"4",value:a.about,onChange:re})]}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Update Profile"}),h&&o.jsx("span",{style:K.successMessage,children:h})]})]}),n==="Appearance"&&o.jsxs("div",{children:[o.jsx("h4",{className:"mb-4",children:"Appearance Settings"}),o.jsxs("div",{className:"appearance-setting-container p-4 mb-4 bg-light rounded",children:[o.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-4",children:[o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("div",{className:"me-3",children:g?o.jsx(sF,{size:24}):o.jsx(aF,{size:24})}),o.jsx("span",{className:"fw-medium",children:"Dark Mode"})]}),o.jsx(qe.Check,{type:"switch",id:"dark-mode-switch",checked:g,onChange:M})]}),o.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-4",children:[o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("div",{className:"me-3",children:o.jsx(rF,{size:24})}),o.jsx("span",{className:"fw-medium",children:"Font Size"})]}),o.jsx(qe.Range,{min:12,max:24,step:1,value:y,onChange:q,style:{width:"50%"}})]}),o.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-4",children:[o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("div",{className:"me-3",children:o.jsx(nF,{size:24})}),o.jsx("span",{className:"fw-medium",children:"High Contrast"})]}),o.jsx(qe.Check,{type:"switch",id:"high-contrast-switch",checked:_,onChange:E})]}),o.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-4",children:[o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("div",{className:"me-3",children:o.jsx(iF,{size:24})}),o.jsx("span",{className:"fw-medium",children:"Density"})]}),o.jsxs(qe.Select,{value:j,onChange:G,style:{width:"50%"},children:[o.jsx("option",{value:"comfortable",children:"Comfortable"}),o.jsx("option",{value:"compact",children:"Compact"})]})]})]}),o.jsxs("div",{className:`p-4 mb-4 rounded border ${g?"bg-dark text-light":"bg-white"}`,children:[o.jsx("h4",{children:"Settings Preview"}),o.jsxs("p",{style:{fontSize:`${y}px`},children:["This text shows how your current settings will appear.",g?" Dark mode is enabled.":" Light mode is enabled.",_?" High contrast is enabled.":"","Font size is set to ",y,"px and UI density is ",j,"."]}),o.jsxs("div",{className:"d-flex gap-2 mt-3",children:[o.jsx("button",{className:"btn btn-primary",children:"Primary Button"}),o.jsx("button",{className:"btn btn-secondary",children:"Secondary Button"})]})]}),o.jsx("button",{className:"btn btn-outline-danger mt-3",onClick:()=>{b(!1),x(16),S(!1),D("default"),A("comfortable"),setTimeout(()=>U(),0)},children:"Reset to Default Settings"}),o.jsx("button",{className:"btn btn-primary mt-3 ms-3",onClick:Q,disabled:!O,children:"Apply Settings"})]})]})]})]})]})}function CE(t){return wi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M9 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M9 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M15 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M15 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M15 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]}]})(t)}const wo=(t="")=>`${t}${Math.random().toString(36).substring(2,10)}`,BP=()=>{const[t,e]=w.useState(!0),[n,r]=w.useState(null),[s,i]=w.useState([]),[a,l]=w.useState(""),[c,u]=w.useState("Untitled Assignment"),[h,f]=w.useState(""),[m,g]=w.useState(!1),[b,y]=w.useState(new Date),[x,_]=w.useState("23:59"),[S,T]=w.useState("draft"),[D,j]=w.useState(0),[A,O]=w.useState(!0),[L,P]=w.useState(null),[N,U]=w.useState(!1),[M,q]=w.useState(!1),[E,G]=w.useState(!1),[Q,re]=w.useState(!1),[ee,Z]=w.useState(30),[K,F]=w.useState(""),[W,me]=w.useState(!1),[ne,ge]=w.useState([{id:wo("q"),type:"multiple_choice",title:"Question 1",description:"",required:!0,points:1,options:[{id:wo("opt"),text:"Option 1",isCorrect:!1},{id:wo("opt"),text:"Option 2",isCorrect:!1}],correctFeedback:"Correct!",incorrectFeedback:"Try again!"}]),we=vt(),{assignmentId:je}=rh(),Re=mr(),ke=!!je,We=w.useRef(!1),Je=Vt(),nt=Je==null?void 0:Je.teacher_id;w.useEffect(()=>{nt||(dt().fire({icon:"error",title:"Teacher access required"}),Re("/404"))},[nt,Re]);const ct=w.useRef({}),X=()=>{e(!t)},Me="#0d6efd",ye="#0a58ca",se=(Le,Ue)=>{ge(ne.map(Qe=>{if(Qe.id!==Le)return Qe;const ot={...Qe,type:Ue};return Ue==="multiple_choice"?((!ot.options||ot.options.length<2)&&(ot.options=[{id:wo("opt"),text:"Option 1",isCorrect:!0},{id:wo("opt"),text:"Option 2",isCorrect:!1}]),ot.correctFeedback=ot.correctFeedback||"Correct!",ot.incorrectFeedback=ot.incorrectFeedback||"Try again!"):Ue==="text"&&(ot.sampleAnswer=ot.sampleAnswer||""),ot})),r(null)},ie=(Le,Ue,Qe)=>{ge(ne.map(ot=>ot.id===Le?{...ot,[Ue]:Qe}:ot))},fe=Le=>{Le.target.value?y(new Date(Le.target.value)):y(null)},Te=()=>{y(new Date)},he=()=>{const Le=new Date,Ue=Le.getHours().toString().padStart(2,"0"),Qe=Le.getMinutes().toString().padStart(2,"0");_(`${Ue}:${Qe}`)},ce=Le=>{if(!Le.destination)return;const Ue=Array.from(ne),[Qe]=Ue.splice(Le.source.index,1);Ue.splice(Le.destination.index,0,Qe),ge(Ue)},ve=async()=>{if(je)try{const Ue=(await we.get(`/teacher/assignment/${je}/get/`)).data;u(Ue.title||""),f(Ue.description||"");let Qe=null;if(Ue.course_id!==void 0&&Ue.course_id!==null?Qe=Ue.course_id:Ue.course&&Ue.course.id?Qe=Ue.course.id:Ue.course&&(Qe=Ue.course),Qe!==null&&l(Qe.toString()),Ue.due_date){g(!0);const ot=new Date(Ue.due_date);y(ot);const Ke=ot.getHours().toString().padStart(2,"0"),xt=ot.getMinutes().toString().padStart(2,"0");_(`${Ke}:${xt}`)}if(T(Ue.status||"draft"),q(Ue.has_test_mode||!1),Ue.questions&&Ue.questions.length>0){const ot=Ue.questions.map(xt=>({id:wo("q"),type:xt.type||"multiple_choice",title:xt.title||"Question",description:xt.description||"",required:xt.required!==void 0?xt.required:!0,points:xt.points||1,options:(xt.options||[]).map(ae=>({id:wo("opt"),text:ae.text||"Option",isCorrect:ae.is_correct||!1})),correctFeedback:xt.correct_feedback||"Correct!",incorrectFeedback:xt.incorrect_feedback||"Try again!",sampleAnswer:xt.sample_answer||""}));ge(ot);const Ke=ot.reduce((xt,ae)=>xt+ae.points,0);j(Ke)}}catch{dt().fire({icon:"error",title:"Failed to load assignment details"})}};if(w.useEffect(()=>{const Le=async()=>{try{if(!nt){dt().fire({icon:"error",title:"Teacher profile not found. Please ensure you're logged in with a teacher account."});return}const Ke=await we.get(`teacher/course-lists/${nt}/`);i(Ke.data)}catch{dt().fire({icon:"error",title:"Failed to load courses"})}},Ue=()=>{const Ke=document.body.classList.contains("dark-mode")||localStorage.getItem("appearanceSettings")&&JSON.parse(localStorage.getItem("appearanceSettings")).darkMode;U(Ke)},Qe=async()=>{O(!0);try{await Le(),ke&&await ve(),Ue()}finally{O(!1),We.current=!0}},ot=Ke=>{if(n){let xt=!1;Object.keys(ct.current).forEach(ae=>{ct.current[ae]&&ct.current[ae].contains(Ke.target)&&(xt=!0)}),xt||r(null)}};return document.addEventListener("mousedown",ot),We.current||Qe(),()=>{document.removeEventListener("mousedown",ot)}},[je,we,nt]),A)return o.jsx("div",{className:"p-5 text-center",children:"Loading assignment data..."});const Ie=async()=>{var ot,Ke,xt,ae;if(!a){dt().fire({icon:"error",title:"Please select a course"});return}if(!c.trim()){dt().fire({icon:"error",title:"Please enter an assignment title"});return}let Le=null;if(m&&b){const[Be,Ye]=x.split(":").map(Number),_t=new Date(b);_t.setHours(Be,Ye,0,0),Le=_t.toISOString()}const Ue=ne.map((Be,Ye)=>{const _t={title:Be.title||`Question ${Ye+1}`,type:Be.type,required:Be.required,points:Be.points,order:Ye};return Be.type==="multiple_choice"?(_t.options=Be.options.map(Ze=>({text:Ze.text,is_correct:Ze.isCorrect})),_t.correct_feedback=Be.correctFeedback,_t.incorrect_feedback=Be.incorrectFeedback):Be.type==="text"&&(_t.sample_answer=Be.sampleAnswer||""),_t}),Qe={title:c,description:h,course_id:a,due_date:m&&b?Le:null,status:S,has_test_mode:M,time_limit_minutes:M&&Q?ee:null,test_content:M?K:null,questions:Ue};ke&&(Qe.assignment_id=je),me(!0);try{let Be;ke?(Be=await we.post(`/teacher/assignment/${je}/`,Qe),dt().fire({icon:"success",title:"Assignment updated successfully"})):(Be=await we.post("/teacher/assignment/",Qe),dt().fire({icon:"success",title:"Assignment created successfully"}),Re("/teacher/assignments"))}catch(Be){const Ye=((Ke=(ot=Be.response)==null?void 0:ot.data)==null?void 0:Ke.error)||((ae=(xt=Be.response)==null?void 0:xt.data)==null?void 0:ae.message)||"Failed to save assignment";dt().fire({icon:"error",title:Ye})}finally{me(!1)}},Fe=Le=>{const Ue=wo("q");let ot={id:Ue,type:Le,title:`Question ${ne.length+1}`,description:"",required:!0,points:1};ot.options=[{id:wo("opt"),text:"Option 1",isCorrect:!0},{id:wo("opt"),text:"Option 2",isCorrect:!1}],ot.correctFeedback="Correct!",ot.incorrectFeedback="Try again!",ge([...ne,ot]),P(Ue)},Se=(Le,Ue)=>{const Qe=ne.find(Ke=>Ke.id===Le);if(!Qe||Qe.type!=="multiple_choice")return;if(Qe.options.length<=2){dt().fire({icon:"error",title:"Multiple choice questions must have at least two options"});return}const ot=Qe.options.filter(Ke=>Ke.id!==Ue);ie(Le,"options",ot)},ut=Le=>{const Ue=ne.find(ot=>ot.id===Le);if(!Ue||Ue.type!=="multiple_choice")return;const Qe={id:wo("opt"),text:`Option ${Ue.options.length+1}`,isCorrect:!1};ie(Le,"options",[...Ue.options,Qe])},pt=Le=>{ge(ne.filter(Ue=>Ue.id!==Le)),L===Le&&P(null)};return o.jsxs("div",{style:{display:"flex",minHeight:"100vh"},children:[o.jsx(Fu,{sidebarCollapsed:t}),o.jsxs("div",{style:{flex:1,marginTop:"40px",marginLeft:t?"80px":"270px",transition:"margin-left 0.3s ease",display:"flex",flexDirection:"column"},children:[o.jsx("div",{style:{position:"fixed",top:0,right:0,left:t?"80px":"270px",zIndex:1e3,backgroundColor:"rgba(0,0,0,0)",boxShadow:"0 2px 4px rgba(0, 0, 0, 0)",transition:"left 0.3s ease"},children:o.jsx(Yi,{sidebarCollapsed:t,toggleSidebar:X})}),o.jsx("div",{style:{padding:"20px",marginTop:"60px"},children:o.jsxs("div",{className:`assignment-editor ${N?"dark-mode":"light-mode"}`,children:[o.jsx("style",{jsx:"true",children:`
              .assignment-editor {
                font-family: 'Roboto', Arial, sans-serif;
                padding: 0; /* Adjusted padding since we have outer padding */
              }
              
              .dark-mode {
                background-color: #121212;
                color: white;
                min-height: 100vh;
              }
              
              .light-mode {
                background-color:rgb(255, 254, 254);
                color: black;
                min-height: 100vh;
              }
              
              .header-card {
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                margin-bottom: 16px;
                padding: 24px;
              }
              
              .dark-mode .header-card {
                background-color: #333;
                border-left-color: #444;
              }
              
              .light-mode .header-card {
                background-color: white;
              }
              
              .question-card {
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                margin-bottom: 16px;
                border-left: 1px solid #dadce0;
                transition: all 0.2s;
              }

              .DropdownIndicator {
               color: rgba(0,0,0,0);
              }
              
              .dark-mode .question-card {
                background-color: #333;
                border-left-color: #444;
              }
              
              .light-mode .question-card {
                background-color: white;
              }
              
              .question-card.active {
                border-left: 6px solid ${Me};
              }
              
              .question-card:hover {
                box-shadow: 0 3px 12px rgba(0,0,0,0.15);
              }
              
              .question-header {
                display: flex;
                align-items: center;
                padding: 16px 24px;
                border-bottom: 1px solid #e0e0e0;
              }
              
              .dark-mode .question-header {
                border-bottom-color: #444;
              }
              
              .question-drag-handle {
                cursor: grab;
                margin-right: 12px;
              }
              
              .dark-mode .question-drag-handle {
                color: #ddd;
              }
              
              .light-mode .question-drag-handle {
                color: #5f6368;
              }
              
              .question-body {
                padding: 16px 24px;
              }
              
              .question-footer {
                display: flex;
                justify-content: space-between;
                padding: 8px 24px;
                border-top: 1px solid #e0e0e0;
              }
              
              .dark-mode .question-footer {
                background-color: #2a2a2a;
                border-top-color: #444;
              }
              
              .light-mode .question-footer {
                background-color: #f8f9fa;
              }
              
              .btn-custom {
                background-color:rgba(54, 6, 151, 0);
                color : Blue;
                box-shadow: 0 1px 3px rgba(0,0,0,0.2);
                border : 1px solid rgb(0, 22, 145);
                padding: 8px 24px;
                border-radius: 4px;
                font-weight: 500;
              }
              
              .btn-custom.outline {
                background-color: transparent;
                color:rgb(60, 0, 165);
                border: 1px solidrgb(66, 0, 181);
              }
              
              .dark-mode .btn-custom.outline {
                background-color: #444;
                color: white;
                border: 1px solid #777;
              }
              
              .btn-custom:hover {
                background-color:rgb(0, 13, 193);
                color: #fff;

              }
              
              .btn-custom.outline:hover {
                background-color: #f0f0f0;
              }
              
              .dark-mode .btn-custom.outline:hover {
                background-color: #555;
              }
              
              .option-row {
                display: flex;
                align-items: center;
                margin-bottom: 12px;
              }
              
              .option-circle {
                width: 20px;
                height: 20px;
                border-radius: 50%;
                border: 2px solid #5f6368;
                margin-right: 12px;
              }
              
              .dark-mode .option-circle {
                border-color: #aaa;
              }
              
              /* Input styling */
              .form-control, .form-select {
                border-radius: 4px;
                padding: 8px;
                margin-bottom: 12px;
              }
              
              /* Fix the toggle slider indicator */
              .toggle-slider:before {
                position: absolute;
                content: "";
                height: 16px;
                width: 16px;
                left: 4px;
                bottom: 4px;
                background-color: white;
                transition: .4s;
                border-radius: 50%;
              }
              
              /* Remove dropdown indicators from all select elements */
              .form-select {
                appearance: none !important;
                -webkit-appearance: none !important;
                -moz-appearance: none !important;
                background-image: none !important;
                padding-right: 8px !important;
              }
              
              .dark-mode .form-control,
              .dark-mode .form-select {
                background-color: white !important;
                color: black !important;
                border: 1px solid #444;
              }
              
              .light-mode .form-control,
              .light-mode .form-select {
                background-color: #f8f9fa !important;
                color: black !important;
                border: 1px solid #ddd;
              }
              
              /* Toggle switch styling */
              .toggle-switch {
                position: relative;
                display: inline-block;
                width: 48px;
                height: 24px;
                margin-right: 10px;
              }
              
              .toggle-switch input {
                opacity: 0;
                width: 0;
                height: 0;
              }
              
              .toggle-slider {
                position: absolute;
                cursor: pointer;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background-color: #ccc;
                transition: .4s;
                border-radius: 24px;
              }
              
              .toggle-slider:before {
                position: absolute;
                content: "";
                height: 16px;
                width: 16px;
                left: 4px;
                bottom: 4px;
                background-color: white;
                transition: .4s;
                border-radius: 50%;
              }
              
              input:checked + .toggle-slider {
                background-color:rgb(0, 13, 160);
              }
              
              input:checked + .toggle-slider:before {
                transform: translateX(24px);
              }
              
              .toggle-label {
                vertical-align: middle;
                margin-left: 5px;
              }
              
              /* Date/time styling */
              .date-time-container {
                display: flex;
                gap: 10px;
                align-items: center;
                margin-bottom: 10px;
              }

              /* Floating Action Button */
              .add-question-wrapper {
                margin: 30px 0;
                display: flex;
                flex-direction: column;
                align-items: center;
                position: relative;
              }
              
              .add-question-button {
                width: 56px;
                height: 56px;
                border-radius: 50%;
                background-color: ${Me};
                color: white;
                font-size: 24px;
                display: flex;
                align-items: center;
                justify-content: center;
                box-shadow: 0 3px 10px rgba(13, 110, 253, 0.3);
                cursor: pointer;
                border: none;
                transition: all 0.2s ease;
                overflow: hidden;
              }

              .add-question-button:hover {
                transform: scale(1.05);
                background-color: ${ye};
                box-shadow: 0 5px 15px rgba(13, 110, 253, 0.4);
              }
              
              .add-question-button:active {
                transform: scale(0.95);
              }
              
              .add-question-button::before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: radial-gradient(circle, rgba(255,255,255,0.3) 0%, rgba(255,255,255,0) 70%);
                opacity: 0;
                transition: opacity 0.3s;
              }
              
              .add-question-button:hover::before {
                opacity: 1;
              }
              
              /* Question Type Menu Styling */
              .question-type-menu {
                position: absolute;
                right: 30px;
                bottom: 100px;
                background-color: white;
                box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
                border-radius: 4px;
                width: 200px;
                z-index: 999;
                overflow: hidden;
                transition: transform 0.3s, opacity 0.3s;
                transform-origin: bottom right;
              }

              .dark-mode .question-type-menu {
                background-color: #333;
              }

              .question-type-menu.hidden {
                transform: scale(0.8);
                opacity: 0;
                pointer-events: none;
              }

              .question-type-option {
                padding: 12px 16px;
                cursor: pointer;
                display: flex;
                align-items: center;
                transition: background-color 0.2s;
              }

              .light-mode .question-type-option:hover {
                background-color: #f0f0f0;
              }

              .dark-mode .question-type-option {
                color: #fff;
              }

              .dark-mode .question-type-option:hover {
                background-color: #444;
              }

              .question-type-option i {
                margin-right: 12px;
                width: 20px;
                text-align: center;
              }

              .question-type-button {
                display: flex;
                align-items: center;
                justify-content: space-between;
                padding: 0.4rem 0.8rem;
                background-color: ${N?"#3a3a3a":"#ffffff"};
                color: ${N?"#ffffff":"#333333"};
                border: 1px solid ${N?"#555555":"#e0e0e0"};
                border-radius: 4px;
                font-size: 0.85rem;
                font-weight: 500;
                min-width: 140px;
                cursor: pointer;
                transition: all 0.2s ease;
                margin-right: 12px;
                box-shadow: 0 1px 2px rgba(0,0,0,0.08);
              }

              .question-type-button:hover {
                border-color: ${N?"#777777":"#ccc"};
                background-color: ${N?"#444444":"#f9f9f9"};
              }

              .question-type-dropdown {
                position: absolute;
                top: calc(100% + 5px);
                left: 0;
                z-index: 1050;
                min-width: 180px;
                background-color: ${N?"#2d2d2d":"#ffffff"};
                border-radius: 6px;
                box-shadow: 0 6px 16px rgba(0,0,0,${N?"0.3":"0.15"});
                overflow: hidden;
                opacity: 0;
                transform: translateY(-10px);
                animation: dropdownFadeIn 0.2s ease forwards;
                border: 1px solid ${N?"#444444":"rgba(0,0,0,0.08)"};
              }

              @keyframes dropdownFadeIn {
                to {
                  opacity: 1;
                  transform: translateY(0);
                }
              }

              .question-type-item {
                display: flex;
                width: 100%;
                padding: 10px 16px;
                border: none;
                background: none;
                text-align: left;
                font-size: 0.9rem;
                color: ${N?"#e0e0e0":"#333333"};
                cursor: pointer;
                transition: all 0.15s ease;
                border-left: 2px solid transparent;
              }

              .question-type-item:hover {
                background-color: ${N?"#3a3a3a":"#f5f9ff"};
                border-left-color: ${Me};
                color: ${N?"#ffffff":Me};
              }

              .question-type-item:not(:last-child) {
                border-bottom: 1px solid ${N?"#3a3a3a":"#f0f0f0"};
              }

              .question-type-item-icon {
                margin-right: 8px;
                width: 16px;
                opacity: 0.7;
              }
            `}),o.jsxs("div",{className:"header-card mb-4",children:[o.jsx("input",{type:"text",className:"form-control form-control-lg mb-3",style:{fontSize:"24px",border:"none",borderBottom:"1px solid #ccc"},value:c,onChange:Le=>u(Le.target.value),placeholder:"Assignment Title"}),o.jsx("textarea",{className:"form-control",style:{border:"none",borderBottom:"1px solid #ccc"},value:h,onChange:Le=>f(Le.target.value),placeholder:"Description (optional)",rows:"2"}),o.jsxs("div",{className:"d-flex justify-content-between align-items-center mt-4",children:[o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsxs("label",{className:"toggle-switch",children:[o.jsx("input",{type:"checkbox",checked:M,onChange:()=>q(!M)}),o.jsx("span",{className:"toggle-slider"})]}),o.jsx("span",{className:"toggle-label",children:"Secure Test Mode"})]}),o.jsxs("select",{className:"form-select ms-2",style:{width:"auto"},value:S,onChange:Le=>T(Le.target.value),children:[o.jsx("option",{value:"draft",children:"Draft"}),o.jsx("option",{value:"published",children:"Published"}),o.jsx("option",{value:"archived",children:"Archived"})]})]}),M&&o.jsxs("div",{className:`alert mt-3 ${N?"alert-info bg-dark text-light":"alert-info"}`,children:[o.jsx("strong",{children:"Secure Test Mode:"})," Students will be unable to navigate away from the test or open other applications while taking it.",o.jsxs("div",{className:"mt-3",children:[o.jsxs("div",{className:"d-flex align-items-center mb-2",children:[o.jsxs("label",{className:"toggle-switch",children:[o.jsx("input",{type:"checkbox",checked:Q,onChange:()=>re(!Q)}),o.jsx("span",{className:"toggle-slider"})]}),o.jsx("span",{className:"toggle-label",children:"Time Limited Test"})]}),Q&&o.jsxs("div",{className:"d-flex align-items-center mt-2",children:[o.jsx("input",{type:"number",className:"form-control form-control-sm",style:{width:"80px"},value:ee,onChange:Le=>Z(parseInt(Le.target.value)||0),min:"1"}),o.jsx("span",{className:"ms-2",children:"minutes"})]}),o.jsxs("div",{className:"mt-3",children:[o.jsx("label",{className:"form-label",children:"Test Instructions/Content"}),o.jsx("textarea",{className:"form-control",value:K,onChange:Le=>F(Le.target.value),placeholder:"Enter test instructions or additional content...",rows:"3"})]})]})]})]}),o.jsx("div",{className:"question-card mb-4",children:o.jsxs("div",{className:"question-body",children:[o.jsx("h5",{className:"mb-3",children:"Assignment Details"}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"form-label",children:"Course"}),o.jsxs("select",{className:"form-select",value:a,onChange:Le=>l(Le.target.value),required:!0,disabled:ke,children:[o.jsx("option",{value:"",children:"Select a course"}),s.map(Le=>o.jsx("option",{value:Le.id,children:Le.title},Le.id))]}),ke&&o.jsx("div",{className:"form-text text-info",children:"Course cannot be changed after assignment creation"})]}),o.jsxs("div",{className:"mb-3",children:[o.jsxs("div",{className:"d-flex align-items-center mb-2",children:[o.jsxs("label",{className:"toggle-switch",children:[o.jsx("input",{type:"checkbox",checked:m,onChange:()=>g(!m)}),o.jsx("span",{className:"toggle-slider"})]}),o.jsx("span",{className:"toggle-label",children:"Set Due Date"})]}),m&&o.jsxs("div",{children:[o.jsxs("div",{className:"date-time-container",children:[o.jsx("input",{type:"date",className:"form-control",value:b?b.toISOString().split("T")[0]:"",onChange:fe}),o.jsxs(Mt,{variant:N?"outline-light":"outline-secondary",size:"sm",onClick:Te,className:"btn-today",children:["Today ",o.jsx(vb,{className:"ms-1"})]})]}),o.jsxs("div",{className:"date-time-container",children:[o.jsx("input",{type:"time",className:"form-control",value:x,onChange:Le=>_(Le.target.value)}),o.jsxs(Mt,{variant:N?"outline-light":"outline-secondary",size:"sm",onClick:he,className:"btn-now",children:["Now ",o.jsx(Jhe,{className:"ms-1"})]})]}),o.jsx("div",{className:"text small",children:"Note: you are 2 hours ahead of server time."})]})]})]})}),o.jsx("div",{className:"d-flex justify-content-between align-items-center mb-3",children:o.jsxs("h5",{children:["Total Points: ",D]})}),o.jsx(ap,{onDragEnd:ce,children:o.jsx(pc,{droppableId:"questions",type:"QUESTIONS",children:Le=>o.jsxs("div",{ref:Le.innerRef,...Le.droppableProps,className:"questions-container",style:{minHeight:"50px"},children:[ne.map((Ue,Qe)=>o.jsx(fc,{draggableId:Ue.id,index:Qe,children:ot=>o.jsxs("div",{ref:ot.innerRef,...ot.draggableProps,className:`question-card mb-3 ${L===Ue.id?"active":""}`,onClick:()=>P(Ue.id),children:[o.jsxs("div",{className:"question-header",children:[o.jsx("div",{...ot.dragHandleProps,className:"question-drag-handle",children:o.jsx(CE,{size:18})}),o.jsxs("span",{className:"me-2",children:["Question ",Qe+1]}),o.jsxs("div",{className:"ms-auto d-flex align-items-center",children:[o.jsx("div",{className:"position-relative",children:o.jsxs("select",{className:"form-select",value:Ue.type,onChange:Ke=>se(Ue.id,Ke.target.value),style:{minWidth:"140px",marginRight:"20px"},children:[o.jsx("option",{value:"multiple_choice",children:"Multiple Choice"}),o.jsx("option",{value:"text",children:"Text Answer"}),o.jsx("option",{value:"file_upload",children:"File Upload"})]})}),o.jsxs("span",{className:"badge bg-secondary ms-2",children:[Ue.points," ",Ue.points===1?"point":"points"]})]})]}),o.jsxs("div",{className:"question-body",children:[o.jsx("input",{type:"text",className:"form-control mb-3",value:Ue.title,onChange:Ke=>ie(Ue.id,"title",Ke.target.value),placeholder:"Question"}),Ue.type==="multiple_choice"&&o.jsxs("div",{className:"mt-3",children:[Ue.options.map((Ke,xt)=>o.jsxs("div",{className:"option-row",children:[o.jsx("div",{className:"form-check",children:o.jsx("input",{type:"radio",className:"form-check-input",name:`correct-${Ue.id}`,checked:Ke.isCorrect,onChange:()=>{const ae=Ue.options.map((Be,Ye)=>({...Be,isCorrect:Ye===xt}));ie(Ue.id,"options",ae)}})}),o.jsx("input",{type:"text",className:"form-control",value:Ke.text,onChange:ae=>{const Be=[...Ue.options];Be[xt]={...Be[xt],text:ae.target.value},ie(Ue.id,"options",Be)},placeholder:`Option ${xt+1}`}),Ue.options.length>2&&o.jsx("button",{className:"btn btn-sm btn-outline-danger ms-2",onClick:()=>Se(Ue.id,Ke.id),children:""})]},Ke.id)),o.jsxs("button",{className:"btn btn-sm btn-outline-primary mt-2",onClick:()=>ut(Ue.id),children:[o.jsx("i",{className:"fas fa-plus me-1"})," Add option"]})]}),Ue.type==="text"&&o.jsx("div",{className:"mt-3",children:o.jsxs("div",{className:"border rounded p-3",style:{background:N?"#444":"#f8f9fa",color:N?"#ccc":"#666"},children:[o.jsx("p",{className:"mb-2",children:"Text answer field will appear for students"}),o.jsx("textarea",{className:"form-control",value:Ue.sampleAnswer||"",onChange:Ke=>ie(Ue.id,"sampleAnswer",Ke.target.value),placeholder:"Enter a sample or expected answer (optional)",rows:"2"})]})}),Ue.type==="file_upload"&&o.jsx("div",{className:"mt-3",children:o.jsxs("div",{className:"border rounded p-3 text-center",style:{background:"#f8f9fa",color:N?"#ccc":"#666"},children:[o.jsx("i",{className:"fas fa-cloud-upload-alt me-2"}),"File Upload Area",o.jsx("div",{className:"mt-2",children:o.jsx("small",{children:"Students will be able to upload files here"})})]})})]}),o.jsxs("div",{className:"question-footer",children:[o.jsx("div",{children:o.jsxs("div",{className:"form-check",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:`required-${Ue.id}`,checked:Ue.required,onChange:Ke=>ie(Ue.id,"required",Ke.target.checked)}),o.jsx("label",{className:"form-check-label",htmlFor:`required-${Ue.id}`,children:"Required"})]})}),o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("input",{type:"number",className:"form-control form-control-sm",style:{width:"60px"},value:Ue.points,onChange:Ke=>ie(Ue.id,"points",parseInt(Ke.target.value)||0),min:"0"}),o.jsx("span",{className:"ms-2 me-3",children:"points"}),o.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>pt(Ue.id),children:"Delete"})]})]})]})},Ue.id)),Le.placeholder]})})}),o.jsx("div",{className:"add-question-wrapper",children:o.jsx("button",{className:"add-question-button",onClick:()=>Fe("multiple_choice"),"aria-label":"Add question",children:o.jsx(Vd,{})})}),o.jsxs("div",{className:"d-flex justify-content-between mt-5",children:[o.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>Re("/teacher/assignments"),children:"Cancel"}),o.jsx("button",{className:"btn btn-custom",onClick:Ie,disabled:W,children:W?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),ke?"Updating...":"Saving..."]}):ke?"Update Assignment":"Save Assignment"})]})]})})]})]})};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1e=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Q1e=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),$P=t=>{const e=Q1e(t);return e.charAt(0).toUpperCase()+e.slice(1)},b7=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Z1e=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var J1e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_e=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...l},c)=>w.createElement("svg",{ref:c,...J1e,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:b7("lucide",s),...!i&&!Z1e(l)&&{"aria-hidden":"true"},...l},[...a.map(([u,h])=>w.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=(t,e)=>{const n=w.forwardRef(({className:r,...s},i)=>w.createElement(e_e,{ref:i,iconNode:e,className:b7(`lucide-${X1e($P(t))}`,`lucide-${t}`,r),...s}));return n.displayName=$P(t),n};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_e=[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h.01",key:"1bh4kh"}],["path",{d:"M12 4h.01",key:"1ujb9j"}],["path",{d:"M17 4h.01",key:"1upcoc"}]],n_e=TE("cake",t_e);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r_e=[["path",{d:"m4.6 13.11 5.79-3.21c1.89-1.05 4.79 1.78 3.71 3.71l-3.22 5.81C8.8 23.16.79 15.23 4.6 13.11Z",key:"1ozxlb"}],["path",{d:"m10.5 9.5-1-2.29C9.2 6.48 8.8 6 8 6H4.5C2.79 6 2 6.5 2 8.5a7.71 7.71 0 0 0 2 4.83",key:"ffuyb5"}],["path",{d:"M8 6c0-1.55.24-4-2-4-2 0-2.5 2.17-2.5 4",key:"osnpzi"}],["path",{d:"m14.5 13.5 2.29 1c.73.3 1.21.7 1.21 1.5v3.5c0 1.71-.5 2.5-2.5 2.5a7.71 7.71 0 0 1-4.83-2",key:"1vubaw"}],["path",{d:"M18 16c1.55 0 4-.24 4 2 0 2-2.17 2.5-4 2.5",key:"wxr772"}]],zP=TE("croissant",r_e);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_e=[["path",{d:"M8 22h8",key:"rmew8v"}],["path",{d:"M7 10h10",key:"1101jm"}],["path",{d:"M12 15v7",key:"t2xh3l"}],["path",{d:"M12 15a5 5 0 0 0 5-5c0-2-.5-4-2-8H9c-1.5 4-2 6-2 8a5 5 0 0 0 5 5Z",key:"10ffi3"}]],i_e=TE("wine",s_e),a_e=()=>o.jsx("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 1000 1000",style:{enableBackground:"new 0 0 1000 1000"},xmlSpace:"preserve",children:o.jsx("g",{id:"Layer_3",children:o.jsxs("g",{children:[o.jsx("path",{style:{fill:"#58595B"},d:`M470.117,149.896c-0.011,0.009-16.071,12.518-16.464,13.949c-0.581,2.109-0.086,4.915-0.059,7.133\r
            c-0.033,0.19-0.024,0.389,0.059,0.589c2.323,5.647,4.646,11.294,6.969,16.941c-0.012,13.005-1.706,44.212-4.601,83.829\r
            l-0.092,0.218l0.074,0.031c-7.64,104.476-23.608,267.174-39.1,308.923l-18.516,8.55v6.896l-0.163,0.075l9.646,14.761\r
            l-5.451,17.744l-4.152,11.952l-40.169,108.329l-32.209,8.655l1.038,3.863l2.567-0.689l-0.746,17.033l-4.105,0.933l3.923,19.093\r
            l-93.705,146.295h12.964h2.2l37.739-54.015c39.22-46.766,73.303-70.036,91.169-62.249c11.102,4.837,15.181,21.778,11.798,48.992\r
            l-15.52,69.271h32.143l-9.201-24.8l0.619-0.732h12.49v-3h-9.953l16.262-19.231l-1.146-0.969l1.344-0.666l-9.812-19.814\r
            l13.994-1.519l-0.323-2.982l-11.089,1.203l16.812-19.073l-1.125-0.992l-0.2-1.486l-13.269,1.785l3.947-18.083l0.082-0.099\r
            l0.242-0.04l8.548,15.511l2.627-1.447l-8.039-14.587l10.804-1.8l-0.493-2.959l-10.758,1.793l16.126-19.417l-1.253-1.041\r
            l0.613-0.102l-0.491-2.959l-26.32,4.369l1.781-7.802l27.811-5.591l-0.591-2.941l-2.499,0.503l3.386-4.277l0.403-0.046\r
            l-0.046-0.404l0.674-0.851l-0.848-0.672l-0.442-3.86l0.013-0.031l2.564-2.896l-0.969-0.858l0.379-0.893l-1.841-0.781l-0.608,1.431\r
            l-0.234-2.046l4.686-5.131l-1.42-1.298l2.008-0.457v-20.975l0.04,0.068l2.576-1.537l-8.388-14.059l5.015-7.002l3.944-1.06\r
            l-0.869-3.233l6.486-9.055l-0.636-0.455l1.988-0.563l-0.816-2.887l-12.556,3.551l2.058-13.897l8.217,10.964l2.4-1.799\r
            l-8.996-12.002l12.916-18.645l-1.233-0.855l-0.367-1.454l-9.782,2.468l2.013-13.598l0.282-0.383l7.036,10.261l2.475-1.697\r
            l-7.625-11.119l11.91-16.144l-1.207-0.891l-0.4-1.445l-9.697,2.683l1.077-7.275l-2.968-0.439l-1.271,8.59l-8.029,2.222\r
            l0.746-4.806l2.233-1.497l-1.625-2.425l2.671-17.207l21.675-8.59l0.326-17.487l-0.825,0.37l-2.491-5.18l4.292-9.015l0.31-0.138\r
            l1.723-22.093l-1.571,0.724l0.518-7.197l-4.691,2.166l-1.417-2.144l7.475-16.497l-0.598-0.27l1.732-0.864l-1.182-2.367\r
            l1.257-0.873l-6.49-9.343l8.35-18.036l-1.361-0.63l-0.705-1.324l-11.644,6.197l5.383-13.145l5.228,7.388l2.449-1.732\r
            l-6.33-8.944l6.381-15.582l1.459-0.768l-1.378-2.62l1.312-0.886l-6.339-9.379l6.971-16.576l0.873-0.546l-0.795-1.272\r
            l1.177-0.93l-7.11-8.996l6.027-13.918l2.095-1.422l-0.294-0.433l0.704-0.4l-1.484-2.607l-0.91,0.518l-5.547-8.169\r
            l6.108-14.508l2.337-1.567l-1.03-1.536l0.095-0.225l1.387-1.002l-1.758-2.432l-1.467,1.06l-4.499-6.708l6.733-16.184\r
            l1.328-0.957l-6.478-8.994l5.821-14.814l1.367-0.931l-1.689-2.479l-0.745,0.508l-4.261-5.893l4.94-13.953l2.091-1.642\r
            l-0.58-0.739l0.272-0.194l-1.742-2.442l-0.384,0.274l-3.831-4.879l4.787-12.813l1.766-1.466l-5.472-6.589l5.404-13.994\r
            l-0.191-0.074l0.794-0.616l-1.84-2.37l-0.223,0.173l-3.22-3.683l4.677-11.942l-0.248-0.097l0.132-0.106l-0.248-0.308\r
            l1.16-1.033l-5.005-5.623l3.619-10.511l1.38-1.148l-0.854-1.025l0.546-0.552l-4.155-4.106l3.675-9.466l-0.313-0.122\r
            l1.021-0.954l-0.211-0.226l0.28-0.258l-4.17-4.532l2.821-8.993l1.369-1.161l-1.615-1.906l0.828-0.798l-2.623-2.722\r
            l2.155-6.169l-0.606-0.211l2.673-2.288l-1.951-2.279l-4.634,3.966l1.476-4.125l1.425,1.285l2.01-2.227l-2.342-2.112\r
            l2.42-6.762l-0.568-0.204l1.365-1.182l-1.965-2.268l-5.474,4.742c0.021-0.677,0.038-1.274,0.053-1.763\r
            c2.443-1.889,4.888-3.777,7.331-5.667c0.108-0.07,0.204-0.154,0.288-0.249c0.451-0.452,0.447-0.999,0.185-1.451\r
            c-0.787-2.348-1.573-4.695-2.359-7.044l0.108-0.074l-0.259-0.376c-0.922-2.75,1.109-16.803,1.109-16.803\r
            S470.387,149.64,470.117,149.896z`}),o.jsx("path",{style:{fill:"#58595B"},d:`M757.338,943.768c-46.643-59.521-83.619-108.982-113.318-155.521l2.066-15.569l0.092,0.008\r
            l0.342-3.984l-3.197-0.275v-17.091l0.125,0.013l0.412-3.978l-25.951-2.691c-1.943-3.486-3.854-6.97-5.723-10.452l0.121-0.15\r
            l-0.357-0.29c-6.674-12.455-12.865-24.904-18.631-37.493l0.135-0.161l-0.336-0.28c-5.322-11.643-10.281-23.408-14.908-35.413\r
            l0.127-0.148l-0.275-0.237c-3.144-8.176-6.137-16.465-8.99-24.9l-5.711-17.667c-1.73-5.611-3.398-11.305-5.02-17.071l7.209-14.832\r
            l0.139-1.169v-6.002l-13.877-2.74c-1.691-6.858-3.32-13.846-4.892-20.972l0.064-0.056l-0.105-0.124\r
            c-2.19-9.924-4.27-20.125-6.256-30.636l0.027-0.021l-0.041-0.052c-16.176-85.661-26.021-192.134-36.752-341.124\r
            c2.252-5.29,4.504-10.581,6.754-15.871c0.131-0.211,0.215-0.467,0.215-0.779v-7.125c0.004-0.138-0.012-0.279-0.053-0.421\r
            c-3.047-10.626-11.144-18.861-21.375-21.875v-10.889c0-2.812-1.98-5.23-4.795-6.259v-61.2c0-1.694-1.357-3.073-3.026-3.073\r
            c-1.669,0-3.027,1.378-3.027,3.073v61.2c-2.814,1.029-4.794,3.447-4.794,6.259v10.81c-11.848,3.489-17.589,14.419-20.101,27.313\r
            l-0.059,7.133l18.231-13.313l5.667,18.167l-2.15,4.072c0,186.295-5.369,314.583-14.371,421.426l-0.099-0.016l-1.608,18.146\r
            l0.116,0.017c-3.589,39.383-7.729,74.805-12.349,107.478l-5.553-0.576l-0.216,2.086h-0.053v0.509l-0.144,1.384l0.144,0.015v21.383\r
            l-0.282,3.28l0.171,0.015v10.852c-10.774,65.934-23.648,121.443-37.94,178.612l-0.677,2.485h60.969l0.287-1.664l10.46-61.298\r
            c8.729-31.849,27.746-53.775,53.97-61.367c21.103-6.11,45.896-2.617,71.693,10.106c26.904,13.268,53.881,35.724,80.271,66.797\r
            l34.018,46.604l0.545,0.821h45.479L757.338,943.768z`})]})})}),o_e=()=>{const[t,e]=w.useState(!1),[n,r]=w.useState(!1),s={position:"relative",width:"100%",height:"100vh",backgroundColor:"#ffffff",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",fontFamily:"Arial, sans-serif"},i={display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"20px"},a={width:"50px",height:"5px",margin:"0 5px"},l={...a,backgroundColor:"blue"},c={...a,backgroundColor:"white",border:"1px solid #ccc"},u={...a,backgroundColor:"red"},h={fontSize:"8rem",fontWeight:"bold",background:"linear-gradient(to right, #4a90e2, #8e44ad,rgb(146, 0, 0))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textAlign:"center",margin:"0"},f={fontSize:"1.2rem",color:"#6b4226",textAlign:"center"},m={position:"absolute",opacity:.5,animation:"tilt 3s infinite ease-in-out"},g={...m,top:"20px",left:"20px",color:"#d4a373"},b={...m,top:"20px",right:"20px",color:"#d4a373"},y={...m,bottom:"20px",left:"20px",color:"#d4a373"},x={...m,bottom:"20px",right:"20px",color:"#d4a373"};return o.jsxs("div",{style:s,children:[o.jsx("div",{style:g,children:o.jsx(zP,{size:32})}),o.jsx("div",{style:b,children:o.jsx(i_e,{size:32})}),o.jsx("div",{style:y,children:o.jsx(n_e,{size:32})}),o.jsx("div",{style:x,children:o.jsx(zP,{size:32})}),o.jsxs("div",{style:i,children:[o.jsx("div",{style:l}),o.jsx("div",{style:c}),o.jsx("div",{style:u})]}),o.jsx("div",{children:o.jsx("h1",{style:h,children:"404"})}),o.jsxs("div",{className:"flex justify-center items-center -mt-6 mb-6",style:{flexDirection:"column",width:"20%"},children:[o.jsx(a_e,{}),o.jsx("h2",{style:{fontSize:"2rem",fontWeight:"bold",textAlign:"center",marginTop:"10px"},children:"Oops! Page Not Found"}),o.jsx("p",{style:f,children:"Looks like you've wandered into a Parisian side street that doesn't exist. Shall we help you find your way back?"})]}),o.jsx("div",{children:o.jsxs("div",{className:"flex justify-center items-center",style:{marginTop:"20px"},children:[o.jsx("button",{style:{backgroundColor:t?"#003d99":"blue",color:"white",border:"none",padding:"10px 20px",borderRadius:"5px",fontSize:"1rem",marginRight:"10px",cursor:"pointer",transition:"background-color 0.3s ease"},onMouseEnter:()=>e(!0),onMouseLeave:()=>e(!1),onClick:()=>window.location.href="/",children:"Back to Home"}),o.jsx("button",{style:{backgroundColor:n?"rgba(0, 0, 255, 0.1)":"transparent",color:n?"#003d99":"blue",border:"2px solid blue",padding:"10px 20px",borderRadius:"5px",fontSize:"1rem",cursor:"pointer",transition:"background-color 0.3s ease, color 0.3s ease"},onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),onClick:()=>window.location.href="https://www.google.com/maps/place/Paris,+France",children:"Find your way in Paris"})]})}),o.jsxs("div",{style:{display:"flex",position:"absolute",bottom:"0",width:"100%"},children:[o.jsx("div",{style:{height:"5px",backgroundColor:"blue",flexGrow:1}}),o.jsx("div",{style:{height:"5px",backgroundColor:"white",flexGrow:1}}),o.jsx("div",{style:{height:"5px",backgroundColor:"red",flexGrow:1}})]}),o.jsx("style",{children:`
          @keyframes tilt {
            0%, 100% {
              transform: rotate(0deg);
            }
            25% {
              transform: rotate(-5deg);
            }
            50% {
              transform: rotate(5deg);
            }
            75% {
              transform: rotate(-3deg);
            }
          }
        `}),o.jsx("style",{children:`
    .hover-darken-blue:hover {
      background-color: #003d99; /* Darker blue */
    }
    .hover-darken-outline:hover {
      background-color: rgba(0, 0, 255, 0.1); /* Light blue background */
      color: #003d99; /* Darker blue text */
    }
  `})]})},l_e=()=>{var Fe;const[t,e]=w.useState(!0),[n,r]=w.useState(!0),[s,i]=w.useState([]),[a,l]=w.useState([]),[c,u]=w.useState("all"),[h,f]=w.useState("all"),[m,g]=w.useState(""),[b,y]=w.useState(!1),[x,_]=w.useState(null),[S,T]=w.useState(!1),[D,j]=w.useState(!1),[A,O]=w.useState(null),[L,P]=w.useState(""),[N,U]=w.useState(""),[M,q]=w.useState(!1),[E,G]=w.useState(!1),[Q,re]=w.useState(null),[ee,Z]=w.useState([]),[K,F]=w.useState(!1),[W,me]=w.useState({total:0,submitted:0,graded:0,pending:0,averageGrade:0}),ne=mr(),ge=vt(),we=Vt(),je=we==null?void 0:we.teacher_id;w.useEffect(()=>{const Se=()=>{const pt=document.body.classList.contains("dark-mode")||localStorage.getItem("appearanceSettings")&&JSON.parse(localStorage.getItem("appearanceSettings")).darkMode;G(pt)};Se();const ut=()=>{Se()};return window.addEventListener("appearanceChanged",ut),()=>{window.removeEventListener("appearanceChanged",ut)}},[]),w.useEffect(()=>{je||(dt().fire({icon:"error",title:"Teacher access required"}),ne("/404"))},[je,ne]);const Re=()=>{e(!t)},ke=async()=>{try{const Se=await ge.get(`teacher/course-lists/${je}/`);l(Se.data)}catch{dt().fire({icon:"error",title:"Failed to load courses"})}},We=async()=>{r(!0);try{const Se=await ge.get(`teacher/assignments/all/${je}/`);Array.isArray(Se.data)?i(Se.data):i([])}catch{dt().fire({icon:"error",title:"Failed to load assignments"}),i([])}finally{r(!1)}},Je=async Se=>{r(!0);try{const ut=Se==="all"?`teacher/assignments/all/${je}/`:`teacher/assignments/${Se}/`,pt=await ge.get(ut);Array.isArray(pt.data)?i(pt.data):i([])}catch{dt().fire({icon:"error",title:"Failed to load assignments"}),i([])}finally{r(!1)}},nt=Se=>{u(Se),Je(Se)},ct=Se=>{f(Se)},X=()=>{ne("/teacher/assignment/editor")},Me=Se=>{ne(`/teacher/assignment/editor/${Se}`)},ye=Se=>{_(Se),y(!0)},se=async()=>{try{await ge.delete(`teacher/assignment/${x.id}/`),y(!1),_(null),dt().fire({icon:"success",title:"Assignment deleted successfully"}),c==="all"?We():Je(c)}catch{dt().fire({icon:"error",title:"Failed to delete assignment"})}},ie=async Se=>{re(Se),F(!0),T(!0);try{const ut=await ge.get(`teacher/assignment-submissions/${Se.id}/`),pt=Array.isArray(ut.data)?ut.data:[];Z(pt);const Le=Se.enrolled_students||0,Ue=pt.length,Qe=pt.filter(ae=>ae.status==="graded"),ot=Qe.length;let Ke=0;if(ot>0){const ae=Qe.reduce((Be,Ye)=>Be+(parseFloat(Ye.grade)||0),0);Ke=Math.round(ae/ot*10)/10}const xt=s.map(ae=>ae.id===Se.id?{...ae,submissions_count:Ue}:ae);i(xt),me({total:Le,submitted:Ue,graded:ot,pending:Ue-ot,averageGrade:Ke})}catch{dt().fire({icon:"error",title:"Failed to load submissions"}),Z([])}finally{F(!1)}},fe=async Se=>{if(!(Q!=null&&Q.questions)||Q.questions.length===0){const ut=await ge.get(`teacher/assignment/${Se.assignment}/get/`);re(ut.data)}O(Se),P(Se.grade||""),U(Se.feedback||""),j(!0)},Te=async()=>{q(!0);try{await ge.put(`teacher/grade-submission/${A.id}/`,{grade:parseInt(L),feedback:N}),j(!1),O(null),P(""),U(""),dt().fire({icon:"success",title:"Submission graded successfully"}),Q&&ie(Q)}catch{dt().fire({icon:"error",title:"Failed to submit grade"})}finally{q(!1)}},he=()=>{if(!ee.length)return;let Se="data:text/csv;charset=utf-8,";Se+=`Student,Email,Submission Date,Status,Grade,Feedback\r
`,ee.forEach(Le=>{const Ue=[Le.student_name,Le.student_email||"N/A",Le.submitted_at?Ox(ag(Le.submitted_at),"MMM d, yyyy"):"N/A",Le.status,Le.grade||"Not graded",`"${(Le.feedback||"").replace(/"/g,'""')}"`];Se+=Ue.join(",")+`\r
`});const ut=encodeURI(Se),pt=document.createElement("a");pt.setAttribute("href",ut),pt.setAttribute("download",`${Q.title}-submissions.csv`),document.body.appendChild(pt),pt.click(),document.body.removeChild(pt)},ce=Se=>{dt().fire({icon:"info",title:"Test logs feature coming soon"})};w.useEffect(()=>{je&&(ke(),We())},[je]);const ve=Array.isArray(s)?s.filter(Se=>{var ut,pt;if(h!=="all"&&Se.status!==h)return!1;if(m){const Le=m.toLowerCase();return((ut=Se.title)==null?void 0:ut.toLowerCase().includes(Le))||((pt=Se.course_name)==null?void 0:pt.toLowerCase().includes(Le))}return!0}):[],Ie=Se=>{if(!Se)return o.jsx(rr,{bg:"info",children:"No deadline"});try{const ut=ag(Se);return Ybe(ut)?o.jsx(rr,{bg:"danger",children:"Past Due"}):o.jsx(rr,{bg:"success",children:"Upcoming"})}catch{return o.jsx(rr,{bg:"info",children:"No deadline"})}};return o.jsxs("div",{children:[o.jsx(Fu,{sidebarCollapsed:t}),o.jsxs("div",{style:{flex:1,marginLeft:t?"80px":"270px",transition:"margin-left 0.3s ease"},className:E?"dark-mode":"light-mode",children:[o.jsx(Yi,{sidebarCollapsed:t,toggleSidebar:Re}),o.jsxs(Xd,{fluid:!0,className:"py-4",children:[o.jsxs(Cs,{className:"mb-4",children:[o.jsx(An,{children:o.jsx("h3",{children:"Assignment Management"})}),o.jsx(An,{className:"text-end",children:o.jsxs(Mt,{variant:"primary",onClick:X,children:[o.jsx(ds,{icon:h7,className:"me-2"}),"Create Assignment"]})})]}),o.jsx($t,{className:"mb-4",children:o.jsx($t.Body,{children:o.jsxs(Cs,{children:[o.jsx(An,{md:4,children:o.jsxs(qe.Group,{className:"mb-3 mb-md-0",children:[o.jsx(qe.Label,{children:"Filter by Course"}),o.jsxs(qe.Select,{value:c,onChange:Se=>nt(Se.target.value),children:[o.jsx("option",{value:"all",children:"All Courses"}),a.map(Se=>o.jsx("option",{value:Se.id,children:Se.title},Se.id))]})]})}),o.jsx(An,{md:4,children:o.jsxs(qe.Group,{className:"mb-3 mb-md-0",children:[o.jsx(qe.Label,{children:"Filter by Status"}),o.jsxs(qe.Select,{value:h,onChange:Se=>ct(Se.target.value),children:[o.jsx("option",{value:"all",children:"All Statuses"}),o.jsx("option",{value:"draft",children:"Draft"}),o.jsx("option",{value:"published",children:"Published"}),o.jsx("option",{value:"archived",children:"Archived"})]})]})}),o.jsx(An,{md:4,children:o.jsxs(qe.Group,{children:[o.jsx(qe.Label,{children:"Search"}),o.jsx(qe.Control,{type:"text",placeholder:"Search assignments...",value:m,onChange:Se=>g(Se.target.value),className:"search-bar",style:{backgroundColor:"#fff",color:E?"#fff":"#000"}})]})})]})})}),n?o.jsx("div",{className:"text-center my-5",style:{color:E?"black":"white",padding:"20px"},children:o.jsx(Yr,{animation:"border",role:"status",children:o.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):ve.length===0?o.jsxs(Wa,{variant:"info",style:{backgroundColor:E?"#2a3f4a":"#cff4fc",borderColor:E?"#205e7c":"#b6effb",color:E?"#a9d5de":"#055160"},children:["No assignments found based on your filters. Try changing your filter options or "," ",o.jsx(Wa.Link,{onClick:X,style:{cursor:"pointer",color:E?"#8ed6fb":"#055160",fontWeight:"bold",textDecoration:"underline"},children:"create a new assignment"}),"."]}):o.jsx($t,{style:{backgroundColor:"transparent",color:E?"#ffffff":"inherit",borderColor:E?"#333":"rgba(0, 0, 0, 0)"},children:o.jsxs($t.Body,{style:{backgroundColor:"transparent",padding:"1.25rem"},children:[o.jsx("style",{children:`
                    .custom-transparent-table {
                      --bs-table-color: ${E?"#ffffff":"inherit"};
                      --bs-table-bg: transparent !important;
                      --bs-table-border-color: ${E?"#444":"inherit"};
                      --bs-table-accent-bg: transparent !important;
                      --bs-table-striped-color: ${E?"#ffffff":"inherit"};
                      --bs-table-striped-bg: transparent !important;
                      --bs-table-active-color: ${E?"#ffffff":"inherit"};
                      --bs-table-active-bg: transparent !important;
                      --bs-table-hover-color: ${E?"#ffffff":"inherit"};
                      --bs-table-hover-bg: ${E?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.075)"} !important;
                      width: 100%;
                      margin-bottom: 1rem;
                      vertical-align: top;
                      }
                    
                    .custom-transparent-table th,
                    .custom-transparent-table td {
                      background-color: transparent !important;
                      color: ${E?"#ffffff":"inherit"} !important;
                    }
                    
                    .custom-transparent-table tbody tr:hover td,
                    .custom-transparent-table tbody tr:hover th {
                      background-color: ${E?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.075)"} !important;
                    }
                  `}),o.jsxs(Vf,{responsive:!0,hover:!0,className:`${E?"table-dark":""} custom-transparent-table`,style:{backgroundColor:"transparent"},children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Title"}),o.jsx("th",{children:"Course"}),o.jsx("th",{children:"Due Date"}),o.jsx("th",{children:"Status"}),o.jsx("th",{children:"Type"}),o.jsx("th",{children:"Submissions"}),o.jsx("th",{children:"Actions"})]})}),o.jsx("tbody",{children:ve.map(Se=>o.jsxs("tr",{children:[o.jsx("td",{children:Se.title}),o.jsx("td",{children:Se.course_name}),o.jsx("td",{children:o.jsx("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap",gap:"5px"},children:Ie(Se.due_date)})}),o.jsx("td",{children:o.jsxs("div",{className:"d-flex align-items-center",children:[Se.status==="draft"&&o.jsx(rr,{bg:"secondary",children:"Draft"}),Se.status==="published"&&o.jsx(rr,{bg:"success",children:"Published"}),Se.status==="archived"&&o.jsx(rr,{bg:"dark",children:"Archived"})]})}),o.jsx("td",{children:o.jsx("div",{className:"d-flex align-items-center",children:Se.has_test_mode?o.jsxs(rr,{bg:"warning",className:"text-dark",children:[o.jsx(ds,{icon:N1e,className:"me-1"}),"Secure Test"]}):o.jsx(rr,{bg:"info",children:"Regular"})})}),o.jsxs("td",{children:[Se.submissions_count||0,"/",Se.enrolled_students||0]}),o.jsx("td",{children:o.jsxs("div",{className:"d-flex",children:[o.jsx(Mt,{variant:E?"outline-light":"outline-primary",size:"sm",className:"me-1",onClick:()=>ie(Se),title:"View submissions",style:{color:E?"#ffffff":void 0,borderColor:E?"#0d6efd":void 0},children:o.jsx(ds,{icon:yC})}),o.jsx(Mt,{variant:E?"outline-light":"outline-secondary",size:"sm",className:"me-1",onClick:()=>Me(Se.id),title:"Edit assignment",style:{color:E?"#ffffff":void 0,borderColor:E?"#6c757d":void 0},children:o.jsx(ds,{icon:u7})}),o.jsx(Mt,{variant:"outline-danger",size:"sm",onClick:()=>ye(Se),title:"Delete assignment",style:{color:E?"#f8d7da":void 0,borderColor:E?"#dc3545":void 0},children:o.jsx(ds,{icon:d7})})]})})]},Se.id))})]})]})})]}),o.jsxs(Tt,{show:b,onHide:()=>y(!1),children:[o.jsxs(Tt.Header,{children:[o.jsx(Tt.Title,{children:"Confirm Delete"}),o.jsx("button",{type:"button","aria-label":"Close",onClick:()=>y(!1),style:{position:"absolute",top:16,right:16,background:"none",border:"none",fontSize:"1.5rem",color:E?"#fff":"#000",cursor:"pointer",zIndex:10},children:""})]}),o.jsxs(Tt.Body,{children:['Are you sure you want to delete the assignment "',x==null?void 0:x.title,'"? This action cannot be undone and will remove all student submissions.']}),o.jsxs(Tt.Footer,{children:[o.jsx(Mt,{variant:E?"outline-light":"secondary",onClick:()=>y(!1),children:"Cancel"}),o.jsx(Mt,{variant:"danger",onClick:se,children:"Delete Assignment"})]})]}),o.jsxs(Tt,{show:S,onHide:()=>T(!1),size:"xl",children:[o.jsxs(Tt.Header,{children:[o.jsxs(Tt.Title,{children:["Submissions - ",Q==null?void 0:Q.title]}),o.jsx("button",{type:"button","aria-label":"Close",onClick:()=>T(!1),style:{position:"absolute",top:16,right:16,background:"none",border:"none",fontSize:"1.5rem",color:E?"#fff":"#000",cursor:"pointer",zIndex:10},children:""})]}),o.jsx(Tt.Body,{children:K?o.jsx("div",{className:"text-center my-5",children:o.jsx(Yr,{animation:"border",role:"status",children:o.jsx("span",{className:"visually-hidden",children:"Loading submissions..."})})}):o.jsx(o.Fragment,{children:o.jsxs(sk,{defaultActiveKey:"submissions",className:"mb-3",children:[o.jsxs(Jb,{eventKey:"submissions",title:"Submissions",children:[ee.length===0?o.jsx(Wa,{variant:E?"info bg-dark text-light border-info":"info",children:"No submissions received yet for this assignment."}):o.jsxs(Vf,{responsive:!0,hover:!0,className:`align-middle custom-transparent-table ${E?"table-dark":""}`,style:{backgroundColor:"transparent"},children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Student"}),o.jsx("th",{children:"Submitted"}),o.jsx("th",{children:"Type"}),o.jsx("th",{children:"Secure Mode"}),o.jsx("th",{children:"Status"}),o.jsx("th",{children:"Grade"}),o.jsx("th",{children:"Actions"})]})}),o.jsx("tbody",{children:ee.map(Se=>o.jsxs("tr",{children:[o.jsx("td",{children:Se.student_name}),o.jsx("td",{children:Se.submitted_at?Ox(ag(Se.submitted_at),"MMM d, yyyy h:mm a"):"N/A"}),o.jsx("td",{children:Se.submission_text?"Text":"Files"}),o.jsx("td",{children:o.jsxs("div",{className:"d-flex align-items-center",children:[Se.secure_mode_used?o.jsx(rr,{bg:"success",children:"Yes"}):o.jsx(rr,{bg:"secondary",children:"No"}),Se.fullscreen_warnings>0||Se.tab_switch_warnings>0?o.jsx("div",{className:"d-flex align-items-center",children:o.jsxs(rr,{bg:"warning",text:"dark",children:["Warnings: ",Se.fullscreen_warnings+Se.tab_switch_warnings]})}):null]})}),o.jsx("td",{children:o.jsx("div",{className:"d-flex align-items-center",children:Se.status==="pending"?o.jsx(rr,{bg:"warning",text:"dark",children:"Pending"}):o.jsx(rr,{bg:"success",children:"Graded"})})}),o.jsx("td",{children:Se.grade?`${Se.grade}/${(Q==null?void 0:Q.points)||100}`:"-"}),o.jsx("td",{children:o.jsxs("div",{className:"d-flex",children:[o.jsx(Mt,{variant:E?"outline-light":"outline-primary",size:"sm",className:"me-1",onClick:()=>fe(Se),title:"Grade submission",children:o.jsx(ds,{icon:k1e})}),o.jsx(Mt,{variant:E?"outline-light":"outline-secondary",size:"sm",title:"Download submission",children:o.jsx(ds,{icon:LP})})]})})]},Se.id))})]}),o.jsxs("div",{className:"text-end mt-3",children:[o.jsxs(Mt,{variant:E?"outline-light":"outline-primary",onClick:he,disabled:ee.length===0,children:[o.jsx(ds,{icon:f7,className:"me-2"}),"Export as CSV"]}),(Q==null?void 0:Q.has_test_mode)&&o.jsxs(Mt,{variant:"outline-info",className:"ms-2",onClick:()=>ce(),children:[o.jsx(ds,{icon:yC,className:"me-2"}),"View Test Logs"]})]})]}),o.jsxs(Jb,{eventKey:"stats",title:"Statistics",children:[o.jsxs(Cs,{children:[o.jsx(An,{md:3,children:o.jsx($t,{bg:E?"dark":"light",text:E?"light":"dark",className:"mb-3",children:o.jsxs($t.Body,{className:"text-center",children:[o.jsx("h3",{children:W.total}),o.jsx("p",{className:"mb-0",children:"Total Students"})]})})}),o.jsx(An,{md:3,children:o.jsx($t,{bg:"primary",text:"white",className:"mb-3",children:o.jsxs($t.Body,{className:"text-center",children:[o.jsx("h3",{children:W.submitted}),o.jsx("p",{className:"mb-0",children:"Submissions"})]})})}),o.jsx(An,{md:3,children:o.jsx($t,{bg:"success",text:"white",className:"mb-3",children:o.jsxs($t.Body,{className:"text-center",children:[o.jsx("h3",{children:W.graded}),o.jsx("p",{className:"mb-0",children:"Graded"})]})})}),o.jsx(An,{md:3,children:o.jsx($t,{bg:"info",text:"white",className:"mb-3",children:o.jsxs($t.Body,{className:"text-center",children:[o.jsx("h3",{children:W.averageGrade}),o.jsx("p",{className:"mb-0",children:"Avg. Grade"})]})})})]}),o.jsx($t,{children:o.jsxs($t.Body,{children:[o.jsx("h5",{children:"Submission Rate"}),o.jsx("div",{className:"progress mb-3",style:{height:"25px"},children:o.jsxs("div",{className:"progress-bar",role:"progressbar",style:{width:`${W.total>0?W.submitted/W.total*100:0}%`},"aria-valuenow":W.submitted,"aria-valuemin":"0","aria-valuemax":W.total,children:[W.total>0?Math.round(W.submitted/W.total*100):0,"%"]})}),o.jsx("h5",{children:"Grading Progress"}),o.jsx("div",{className:"progress",style:{height:"25px"},children:o.jsxs("div",{className:"progress-bar bg-success",role:"progressbar",style:{width:`${W.submitted>0?W.graded/W.submitted*100:0}%`},"aria-valuenow":W.graded,"aria-valuemin":"0","aria-valuemax":W.submitted,children:[W.submitted>0?Math.round(W.graded/W.submitted*100):0,"%"]})})]})})]})]})})}),o.jsx(Tt.Footer,{children:o.jsx(Mt,{variant:E?"outline-light":"secondary",onClick:()=>T(!1),children:"Close"})})]}),o.jsxs(Tt,{show:D,onHide:()=>j(!1),size:"lg",children:[o.jsxs(Tt.Header,{children:[o.jsx(Tt.Title,{children:"Grade Submission"}),o.jsx("button",{type:"button","aria-label":"Close",onClick:()=>j(!1),style:{position:"absolute",top:16,right:16,background:"none",border:"none",fontSize:"1.5rem",color:E?"#fff":"#333",cursor:"pointer",zIndex:10},children:""})]}),o.jsxs(Tt.Body,{children:[o.jsxs(qe,{children:[o.jsxs(qe.Group,{className:"mb-3",children:[o.jsx(qe.Label,{children:"Student"}),o.jsx(qe.Control,{type:"text",value:(A==null?void 0:A.student_name)||"",readOnly:!0})]}),(Q==null?void 0:Q.questions)&&Q.questions.length>0&&o.jsx(c_e,{questions:Q.questions,submission:A,darkMode:E}),o.jsxs(qe.Group,{className:"mb-3",children:[o.jsx(qe.Label,{children:"Submission Content"}),A!=null&&A.submission_text?o.jsx(qe.Control,{as:"textarea",rows:5,value:A.submission_text,readOnly:!0}):((Fe=A==null?void 0:A.files)==null?void 0:Fe.length)>0?o.jsx("ul",{className:"list-group",children:A.files.map((Se,ut)=>o.jsxs("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[Se.name,o.jsx(Mt,{variant:E?"outline-light":"outline-primary",size:"sm",href:Se.url,target:"_blank",children:o.jsx(ds,{icon:LP})})]},ut))}):o.jsx("p",{className:"text-muted",children:"No text or files submitted."})]}),o.jsxs(qe.Group,{className:"mb-3",children:[o.jsxs(qe.Label,{children:["Grade (out of ",(Q==null?void 0:Q.points)||100,")"]}),o.jsx(qe.Control,{type:"number",min:"0",max:(Q==null?void 0:Q.points)||100,value:L,onChange:Se=>P(Se.target.value)})]}),o.jsxs(qe.Group,{className:"mb-3",children:[o.jsx(qe.Label,{children:"Feedback"}),o.jsx(qe.Control,{as:"textarea",rows:4,value:N,onChange:Se=>U(Se.target.value),placeholder:"Provide feedback to the student..."})]})]}),(A==null?void 0:A.secure_mode_used)&&o.jsxs(Wa,{variant:E?"info bg-dark text-light border-info":"info",className:"mb-0 mt-3",children:[o.jsx("strong",{children:"Test Mode Info:"}),o.jsx("br",{}),"This submission was completed in secure test mode.",A.fullscreen_warnings>0&&o.jsxs("div",{children:["Fullscreen exit warnings: ",A.fullscreen_warnings]}),A.tab_switch_warnings>0&&o.jsxs("div",{children:["Tab switch warnings: ",A.tab_switch_warnings]})]})]}),o.jsxs(Tt.Footer,{children:[o.jsx(Mt,{variant:E?"outline-light":"secondary",onClick:()=>j(!1),children:"Cancel"}),o.jsx(Mt,{variant:E?"custom":"primary",onClick:Te,disabled:M,className:E?"btn-custom":"",children:M?o.jsxs(o.Fragment,{children:[o.jsx(Yr,{size:"sm",animation:"border",className:"me-2"}),"Submitting..."]}):"Submit Grade"})]})]}),o.jsx("style",{children:`
            .dark-mode .modal-content {
              background-color: #333 !important;
              color: #fff !important;
            }
              .form-control, body.dark-mode .form-select {
              background-color: #fff!important;
              color: #121212!important;
          }
          `})]})]})};function c_e({questions:t,submission:e,darkMode:n}){const[r,s]=nn.useState({}),i=Object.values(r).filter(Boolean).length,a=(c,u)=>{s(h=>({...h,[c]:u}))},l=c=>{if(!e)return null;if(c.type==="file_upload"&&e.files&&e.files.length>0)return e.files.filter(u=>u.question_id===c.id).map((u,h)=>o.jsx("div",{children:o.jsx("a",{href:u.url,target:"_blank",rel:"noopener noreferrer",children:u.name})},h));if(e.answers&&typeof e.answers=="object"){if(c.type==="multiple_choice"&&Array.isArray(c.options)){const u=e.answers[c.id];return o.jsx("div",{children:c.options.map((h,f)=>o.jsxs("div",{style:{padding:"2px 8px",borderRadius:"4px",marginBottom:2,background:u===f?n?"#198754":"#d1e7dd":"transparent",color:u===f?n?"#fff":"#155724":n?"#fff":"#212529",fontWeight:u===f?"bold":"normal",border:u===f?"1px solid #198754":"1px solid transparent"},children:[h.text,u===f&&o.jsx("span",{style:{marginLeft:8,fontSize:"1.1em"},children:"(Selected)"}),h.is_correct&&o.jsx("span",{style:{marginLeft:8,color:"#0d6efd",fontSize:"1em"},children:"(Correct)"})]},f))})}return e.answers[c.id]!==void 0&&e.answers[c.id]!==null&&e.answers[c.id]!==""?o.jsx("span",{children:e.answers[c.id]}):o.jsx("span",{className:"text-muted",children:"No answer"})}return e.submission_text&&t.length===1?e.submission_text:o.jsx("span",{className:"text-muted",children:"No answer"})};return o.jsxs("div",{className:"mb-4",children:[o.jsx("h5",{children:"Questions"}),t.map((c,u)=>{const h=r[c.id]===!0,f=r[c.id]===!1;return o.jsxs("div",{className:"mb-3 p-3 border rounded position-relative",style:{background:n?"#232323":"#f8f9fa"},children:[o.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[o.jsxs("div",{children:[o.jsxs("strong",{children:[u+1,". ",c.title]}),c.points!==void 0&&o.jsxs("span",{className:"ms-2 badge bg-secondary",children:[c.points," pt",c.points===1?"":"s"]}),c.description&&o.jsx("div",{className:"text-muted small mt-1",children:c.description})]}),o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx(Mt,{variant:h?"success":"outline-success",size:"sm",className:"me-2",onClick:()=>a(c.id,!0),children:" "}),o.jsx(Mt,{variant:f?"danger":"outline-danger",size:"sm",onClick:()=>a(c.id,!1),children:" "}),c.points!==void 0&&o.jsxs("span",{className:"ms-2",style:{fontWeight:"bold"},children:[c.points," pt",c.points===1?"":"s"]})]})]}),o.jsxs("div",{className:"mt-2",children:[o.jsx("span",{className:"fw-bold",children:"Student Answer:"}),o.jsx("div",{className:"mt-1",children:l(c)})]})]},c.id)}),o.jsx("div",{className:"mt-3 text-end",children:o.jsxs("strong",{children:["Total Correct: ",i," / ",t.length]})})]})}const vs=(t="")=>`${t}${Math.random().toString(36).substring(2,10)}`,UP=()=>{const[t,e]=w.useState(!0),[n,r]=w.useState(null),[s,i]=w.useState([]),[a,l]=w.useState([]),[c,u]=w.useState(""),[h,f]=w.useState(""),[m,g]=w.useState("Untitled Quiz"),[b,y]=w.useState(""),[x,_]=w.useState("draft"),[S,T]=w.useState(0),[D,j]=w.useState(!0),[A,O]=w.useState(!1),[L,P]=w.useState(null),[N,U]=w.useState(!1),[M,q]=w.useState([{id:vs("q"),type:"multiple_choice",title:"Question 1",description:"",required:!0,points:1,options:[{id:vs("opt"),text:"Option 1",isCorrect:!0},{id:vs("opt"),text:"Option 2",isCorrect:!1}]}]),E=vt(),{quizId:G}=rh(),Q=mr(),re=!!G;w.useRef(!1);const ee=w.useRef({}),Z=Vt(),K=Z==null?void 0:Z.teacher_id,F="#0d6efd",W="#0a58ca";w.useEffect(()=>{K||(dt().fire({icon:"error",title:"Teacher access required"}),Q("/404"))},[K,Q]);const me=()=>{e(!t)},ne=ye=>{switch(ye){case"multiple_choice":return"Multiple Choice";case"true_false":return"True/False";case"checkbox":return"Checkbox";default:return ye}},ge=(ye,se)=>{q(M.map(ie=>{if(ie.id!==ye)return ie;const fe={...ie,type:se};return se==="multiple_choice"?fe.options=[{id:vs("opt"),text:"Option 1",isCorrect:!0},{id:vs("opt"),text:"Option 2",isCorrect:!1}]:se==="true_false"?fe.options=[{id:vs("opt"),text:"True",isCorrect:!0},{id:vs("opt"),text:"False",isCorrect:!1}]:se==="checkbox"?fe.options=[{id:vs("opt"),text:"Option 1",isCorrect:!0},{id:vs("opt"),text:"Option 2",isCorrect:!1},{id:vs("opt"),text:"Option 3",isCorrect:!1}]:se==="sentence_building"&&(fe.options={words:[],correct_order:[],translation:""}),fe})),r(null)},we=(ye,se,ie)=>{if(q(M.map(fe=>fe.id!==ye?fe:se==="options"&&fe.type==="sentence_building"?{...fe,options:ie}:{...fe,[se]:ie})),se==="options"){const fe=M.find(Te=>Te.id===ye);fe==null||fe.type}},je=(ye,se)=>{q(M.map(ie=>{if(ie.id!==ye)return ie;if(ie.type==="multiple_choice"||ie.type==="true_false"){const fe=ie.options.map(Te=>({...Te,isCorrect:Te.id===se}));return{...ie,options:fe}}if(ie.type==="checkbox"){const fe=ie.options.map(Te=>Te.id===se?{...Te,isCorrect:!Te.isCorrect}:Te);return{...ie,options:fe}}return ie}))},Re=ye=>{if(!ye.destination)return;const se=Array.from(M),[ie]=se.splice(ye.source.index,1);se.splice(ye.destination.index,0,ie),q(se)},ke=async()=>{if(G)try{const se=(await E.get(`/quizzes/${G}/`)).data;if(g(se.title||""),y(se.description||""),se.course&&u(se.course.toString()),se.lecture&&f(se.lecture.toString()),_(se.status||"draft"),se.questions&&se.questions.length>0){const ie=se.questions.map(Te=>{var ce,ve,Ie;const he={id:vs("q"),type:Te.type||"multiple_choice",title:Te.title||"Question",description:Te.description||"",required:Te.required!==void 0?Te.required:!0,points:Te.points||1};return Te.type==="sentence_building"?he.options={words:Array.isArray((ce=Te.options)==null?void 0:ce.words)?Te.options.words:[],correct_order:Array.isArray((ve=Te.options)==null?void 0:ve.correct_order)?Te.options.correct_order:[],translation:((Ie=Te.options)==null?void 0:Ie.translation)||""}:he.options=Array.isArray(Te.options)?Te.options.map(Fe=>({id:vs("opt"),text:Fe.text||"Option",isCorrect:Fe.is_correct||!1})):[{id:vs("opt"),text:"Option 1",isCorrect:!0},{id:vs("opt"),text:"Option 2",isCorrect:!1}],he});q(ie);const fe=ie.reduce((Te,he)=>Te+(parseInt(he.points)||0),0);T(fe)}}catch{dt().fire({icon:"error",title:"Failed to load quiz details"})}};w.useEffect(()=>{(async()=>{if(!c){l([]);return}try{const se=await E.get(`/course/${c}/lectures/`);l(se.data)}catch{dt().fire({icon:"error",title:"Failed to load lectures"})}})()},[c]),w.useEffect(()=>{const ye=async()=>{try{if(!K)return;const Te=await E.get(`teacher/course-lists/${K}/`);i(Te.data)}catch{dt().fire({icon:"error",title:"Failed to load courses"})}},se=()=>{const Te=document.body.classList.contains("dark-mode")||localStorage.getItem("appearanceSettings")&&JSON.parse(localStorage.getItem("appearanceSettings")).darkMode;U(Te)},ie=async()=>{j(!0);try{await ye(),re&&G&&await ke(),se()}finally{j(!1)}},fe=Te=>{if(n){let he=!1;Object.keys(ee.current).forEach(ce=>{ee.current[ce]&&ee.current[ce].contains(Te.target)&&(he=!0)}),he||r(null)}};return document.addEventListener("mousedown",fe),ie(),()=>{document.removeEventListener("mousedown",fe)}},[]),w.useEffect(()=>{const ye=M.reduce((se,ie)=>se+(parseInt(ie.points)||0),0);T(ye)},[M]);const We=async()=>{var ie,fe,Te,he;if(!c&&!h){dt().fire({icon:"error",title:"Please select either a course or a lecture"});return}if(!m.trim()){dt().fire({icon:"error",title:"Please enter a quiz title"});return}const ye=M.map((ce,ve)=>{var Fe,Se,ut,pt;const Ie={title:ce.title||`Question ${ve+1}`,type:ce.type,required:ce.required,points:ce.points,order:ve};return["multiple_choice","true_false","checkbox"].includes(ce.type)?Ie.options=ce.options.map(Le=>({text:Le.text,is_correct:Le.isCorrect})):ce.type==="sentence_building"&&(Ie.options={words:Array.isArray((Fe=ce.options)==null?void 0:Fe.words)?ce.options.words:[],correct_order:Array.isArray((Se=ce.options)==null?void 0:Se.correct_order)?ce.options.correct_order:Array.from({length:(((ut=ce.options)==null?void 0:ut.words)||[]).length},(Le,Ue)=>Ue),translation:((pt=ce.options)==null?void 0:pt.translation)||""}),Ie}),se={title:m,description:b,course_id:c||null,lecture_id:h||null,status:x,points:S,questions:ye};re&&(se.quiz_id=G),O(!0);try{let ce;re?(ce=await E.put(`/quizzes/${G}/update/`,se),dt().fire({icon:"success",title:"Quiz updated successfully"})):(ce=await E.post("/quizzes/create/",se),dt().fire({icon:"success",title:"Quiz created successfully"}),Q("/teacher/quizzes"))}catch(ce){const ve=((fe=(ie=ce.response)==null?void 0:ie.data)==null?void 0:fe.error)||((he=(Te=ce.response)==null?void 0:Te.data)==null?void 0:he.message)||"Failed to save quiz";dt().fire({icon:"error",title:ve})}finally{O(!1)}},Je=()=>{const ye=vs("q"),se={id:ye,type:"multiple_choice",title:`Question ${M.length+1}`,description:"",required:!0,points:1,options:[{id:vs("opt"),text:"Option 1",isCorrect:!0},{id:vs("opt"),text:"Option 2",isCorrect:!1}]};q([...M,se]),P(ye)},nt=(ye,se)=>{const ie=M.find(he=>he.id===ye);if(!ie||!["multiple_choice","checkbox"].includes(ie.type))return;const fe=ie.type==="multiple_choice"?2:3;if(ie.options.length<=fe){dt().fire({icon:"error",title:`${ne(ie.type)} questions must have at least ${fe} options`});return}const Te=ie.options.filter(he=>he.id!==se);we(ye,"options",Te)},ct=ye=>{const se=M.find(fe=>fe.id===ye);if(!se||!["multiple_choice","checkbox"].includes(se.type))return;const ie={id:vs("opt"),text:`Option ${se.options.length+1}`,isCorrect:!1};we(ye,"options",[...se.options,ie])},X=ye=>{q(M.filter(se=>se.id!==ye)),L===ye&&P(null)},Me=(ye,se)=>{const ie=M.map(fe=>{if(fe.id!==ye)return fe;const Te={...fe};Te.options||(Te.options={words:[],correct_order:[]});const he=Array.isArray(Te.options.words)?[...Te.options.words]:[];return he.push(se),Te.options={...Te.options,words:he},Te.newWord="",Te});q(ie)};return D?o.jsx("div",{className:"p-5 text-center",children:"Loading quiz data..."}):o.jsxs("div",{style:{display:"flex",minHeight:"100vh"},children:[o.jsx(Fu,{sidebarCollapsed:t}),o.jsxs("div",{style:{flex:1,marginTop:"40px",marginLeft:t?"80px":"270px",transition:"margin-left 0.3s ease",display:"flex",flexDirection:"column"},children:[o.jsx("div",{style:{position:"fixed",top:0,right:0,left:t?"80px":"270px",zIndex:1e3,transition:"left 0.3s ease"},children:o.jsx(Yi,{sidebarCollapsed:t,toggleSidebar:me})}),o.jsx("div",{style:{padding:"20px",marginTop:"60px"},children:o.jsxs("div",{className:`quiz-editor ${N?"dark-mode":"light-mode"}`,children:[o.jsx("style",{jsx:"true",children:`
              .quiz-editor {
                font-family: 'Roboto', Arial, sans-serif;
                padding: 0;
              }
              
              .dark-mode {
                background-color: #121212;
                color: white;
                min-height: 100vh;
              }
              
              .light-mode {
                background-color: rgb(255, 254, 254);
                color: black;
                min-height: 100vh;
              }
              
              .header-card {
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                margin-bottom: 16px;
                padding: 24px;
              }
              
              .dark-mode .header-card {
                background-color: #333;
                border-left-color: #444;
              }
              
              .light-mode .header-card {
                background-color: white;
              }
              
              .question-card {
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                margin-bottom: 16px;
                border-left: 1px solid #dadce0;
                transition: all 0.2s;
              }
              
              .dark-mode .question-card {
                background-color: #333;
                border-left-color: #444;
              }
              
              .light-mode .question-card {
                background-color: white;
              }
              
              .question-card.active {
                border-left: 6px solid ${F};
              }
              
              .question-card:hover {
                box-shadow: 0 3px 12px rgba(0,0,0,0.15);
              }
              
              .question-header {
                display: flex;
                align-items: center;
                padding: 16px 24px;
                border-bottom: 1px solid #e0e0e0;
              }
              
              .dark-mode .question-header {
                border-bottom-color: #444;
              }
              
              .question-drag-handle {
                cursor: grab;
                margin-right: 12px;
              }
              
              .dark-mode .question-drag-handle {
                color: #ddd;
              }
              
              .light-mode .question-drag-handle {
                color: #5f6368;
              }
              
              .question-body {
                padding: 16px 24px;
              }
              
              .question-footer {
                display: flex;
                justify-content: space-between;
                padding: 8px 24px;
                border-top: 1px solid #e0e0e0;
              }
              
              .dark-mode .question-footer {
                background-color: #2a2a2a;
                border-top-color: #444;
              }
              
              .light-mode .question-footer {
                background-color: #f8f9fa;
              }
              
              .btn-custom {
                background-color: rgba(54, 6, 151, 0);
                color: Blue;
                box-shadow: 0 1px 3px rgba(0,0,0,0.2);
                border: 1px solid rgb(0, 22, 145);
                padding: 8px 24px;
                border-radius: 4px;
                font-weight: 500;
              }
              
              .btn-custom.outline {
                background-color: transparent;
                color: rgb(60, 0, 165);
                border: 1px solid rgb(66, 0, 181);
              }
              
              .dark-mode .btn-custom.outline {
                background-color: #444;
                color: white;
                border: 1px solid #777;
              }
              
              .btn-custom:hover {
                background-color: rgb(0, 13, 193);
                color: #fff;
              }
              
              .option-row {
                display: flex;
                align-items: center;
                margin-bottom: 12px;
              }
              
              .option-circle {
                width: 20px;
                height: 20px;
                border-radius: 50%;
                border: 2px solid #5f6368;
                margin-right: 12px;
              }
              
              .dark-mode .option-circle {
                border-color: #aaa;
              }
              
              .form-control, .form-select {
                border-radius: 4px;
                padding: 8px;
                margin-bottom: 12px;
              }
              
              .toggle-slider:before {
                position: absolute;
                content: "";
                height: 16px;
                width: 16px;
                left: 4px;
                bottom: 4px;
                background-color: white;
                transition: .4s;
                border-radius: 50%;
              }
              
              .form-select {
                appearance: none !important;
                -webkit-appearance: none !important;
                -moz-appearance: none !important;
                background-image: none !important;
                padding-right: 8px !important;
              }
              
              .dark-mode .form-control,
              .dark-mode .form-select {
                background-color: white !important;
                color: black !important;
                border: 1px solid #444;
              }
              
              .light-mode .form-control,
              .light-mode .form-select {
                background-color: #f8f9fa !important;
                color: black !important;
                border: 1px solid #ddd;
              }
              
              .toggle-switch {
                position: relative;
                display: inline-block;
                width: 48px;
                height: 24px;
                margin-right: 10px;
              }
              
              .toggle-switch input {
                opacity: 0;
                width: 0;
                height: 0;
              }
              
              .toggle-slider {
                position: absolute;
                cursor: pointer;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background-color: #ccc;
                transition: .4s;
                border-radius: 24px;
              }
              
              .toggle-slider:before {
                position: absolute;
                content: "";
                height: 16px;
                width: 16px;
                left: 4px;
                bottom: 4px;
                background-color: white;
                transition: .4s;
                border-radius: 50%;
              }
              
              input:checked + .toggle-slider {
                background-color: rgb(0, 13, 160);
              }
              
              input:checked + .toggle-slider:before {
                transform: translateX(24px);
              }
              
              .toggle-label {
                vertical-align: middle;
                margin-left: 5px;
              }
              
              .add-question-wrapper {
                margin: 30px 0;
                display: flex;
                flex-direction: column;
                align-items: center;
                position: relative;
              }
              
              .add-question-button {
                width: 56px;
                height: 56px;
                border-radius: 50%;
                background-color: ${F};
                color: white;
                font-size: 24px;
                display: flex;
                align-items: center;
                justify-content: center;
                box-shadow: 0 3px 10px rgba(13, 110, 253, 0.3);
                cursor: pointer;
                border: none;
                transition: all 0.2s ease;
                overflow: hidden;
              }

              .add-question-button:hover {
                transform: scale(1.05);
                background-color: ${W};
                box-shadow: 0 5px 15px rgba(13, 110, 253, 0.4);
              }
              
              .add-question-button:active {
                transform: scale(0.95);
              }
              
              .action-buttons {
                display: flex;
                justify-content: flex-end;
                margin-top: 20px;
              }
              
              .action-buttons button {
                margin-left: 10px;
              }
              
              .save-button {
                min-width: 100px;
              }
              
              .points-badge {
                background-color: ${F};
                color: white;
                font-size: 12px;
                padding: 2px 8px;
                border-radius: 4px;
                margin-left: 10px;
              }
            `}),o.jsxs("div",{className:"header-card",children:[o.jsx("h2",{children:re?"Edit Quiz":"Create Quiz"}),o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-md-6 mb-3",children:o.jsxs(qe.Group,{children:[o.jsx(qe.Label,{children:"Title"}),o.jsx(qe.Control,{type:"text",value:m,onChange:ye=>g(ye.target.value),placeholder:"Quiz Title"})]})}),o.jsx("div",{className:"col-md-6 mb-3",children:o.jsxs(qe.Group,{children:[o.jsx(qe.Label,{children:"Status"}),o.jsxs(qe.Select,{value:x,onChange:ye=>_(ye.target.value),children:[o.jsx("option",{value:"draft",children:"Draft"}),o.jsx("option",{value:"published",children:"Published"})]})]})}),o.jsx("div",{className:"col-md-6 mb-3",children:o.jsxs(qe.Group,{children:[o.jsx(qe.Label,{children:"Select Course"}),o.jsxs(qe.Select,{value:c,onChange:ye=>{u(ye.target.value),f("")},children:[o.jsx("option",{value:"",children:"Select a Course"}),s.map(ye=>o.jsx("option",{value:ye.id,children:ye.title},ye.id))]})]})}),o.jsx("div",{className:"col-md-6 mb-3",children:o.jsxs(qe.Group,{children:[o.jsx(qe.Label,{children:"Select Lecture (Optional)"}),o.jsxs(qe.Select,{value:h,onChange:ye=>f(ye.target.value),disabled:!c,children:[o.jsx("option",{value:"",children:"Select a Lecture"}),a.map(ye=>o.jsx("option",{value:ye.id,children:ye.title},ye.id))]})]})}),o.jsx("div",{className:"col-12 mb-3",children:o.jsxs(qe.Group,{children:[o.jsx(qe.Label,{children:"Description (Optional)"}),o.jsx(qe.Control,{as:"textarea",value:b,onChange:ye=>y(ye.target.value),placeholder:"Quiz description",rows:"3"})]})})]})]}),o.jsx("div",{className:"mb-3",children:o.jsxs("span",{style:{fontWeight:"500"},children:["Total Points: ",S]})}),o.jsxs("div",{className:"questions-section",children:[o.jsx(ap,{onDragEnd:Re,children:o.jsx(pc,{droppableId:"questions",children:ye=>o.jsxs("div",{...ye.droppableProps,ref:ye.innerRef,children:[M.map((se,ie)=>o.jsx(fc,{draggableId:se.id,index:ie,children:fe=>{var Te;return o.jsxs("div",{ref:fe.innerRef,...fe.draggableProps,className:`question-card mb-4 ${L===se.id?"active":""}`,onClick:()=>P(se.id),children:[o.jsxs("div",{className:"question-header",children:[o.jsx("div",{...fe.dragHandleProps,className:"question-drag-handle",children:o.jsx(CE,{size:18})}),o.jsx("div",{style:{flex:1},children:o.jsxs("strong",{children:["Question ",ie+1]})}),o.jsxs("div",{className:"ms-auto d-flex align-items-center",children:[o.jsx("div",{className:"position-relative",children:o.jsxs("select",{className:"form-select",value:se.type,onChange:he=>ge(se.id,he.target.value),style:{minWidth:"160px",marginRight:"20px"},children:[o.jsx("option",{value:"multiple_choice",children:"Multiple Choice"}),o.jsx("option",{value:"true_false",children:"True/False"}),o.jsx("option",{value:"checkbox",children:"Checkbox"}),o.jsx("option",{value:"sentence_building",children:"Sentence Building"})]})}),o.jsxs("span",{className:"badge bg-secondary ms-2",children:[se.points," ",se.points!==1?"pts":"pt"]})]})]}),o.jsxs("div",{className:"question-body",children:[o.jsx(qe.Control,{type:"text",value:se.title,onChange:he=>we(se.id,"title",he.target.value),placeholder:"Question text",className:"mb-3"}),["multiple_choice","true_false","checkbox"].includes(se.type)&&o.jsxs("div",{className:"mt-3",children:[se.options.map((he,ce)=>o.jsxs("div",{className:"option-row",children:[se.type==="multiple_choice"||se.type==="true_false"?o.jsx("div",{className:"form-check",children:o.jsx("input",{type:"radio",className:"form-check-input",name:`correct-${se.id}`,checked:he.isCorrect,onChange:()=>{const ve=se.options.map((Ie,Fe)=>({...Ie,isCorrect:Fe===ce}));we(se.id,"options",ve)}})}):o.jsx(qe.Check,{type:"checkbox",checked:he.isCorrect,onChange:()=>je(se.id,he.id)}),o.jsx("input",{type:"text",className:"form-control",value:he.text,onChange:ve=>{const Ie=[...se.options];Ie[ce]={...Ie[ce],text:ve.target.value},we(se.id,"options",Ie)},placeholder:`Option ${ce+1}`}),se.type!=="true_false"&&se.options.length>2&&o.jsx("button",{className:"btn btn-sm btn-outline-danger ms-2",onClick:()=>nt(se.id,he.id),style:{width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center",padding:"0"},children:o.jsx(tp,{})})]},he.id)),se.type!=="true_false"&&o.jsxs("button",{className:"btn btn-sm btn-outline-primary mt-2",onClick:()=>ct(se.id),children:[o.jsx(Vd,{className:"me-1"})," Add option"]})]}),se.type==="sentence_building"&&o.jsxs("div",{className:"mt-3",children:[o.jsxs(qe.Group,{className:"mb-3",children:[o.jsx(qe.Label,{children:"Pre-Translated Sentence:"}),o.jsx(qe.Control,{type:"text",value:((Te=se.options)==null?void 0:Te.translation)||"",onChange:he=>{var ve,Ie;const ce={...se.options,words:((ve=se.options)==null?void 0:ve.words)||[],correct_order:((Ie=se.options)==null?void 0:Ie.correct_order)||[],translation:he.target.value};we(se.id,"options",ce)},placeholder:"English Version of the sentence of the sentence (e.g., 'I am a student')"})]}),o.jsxs(ap,{onDragEnd:he=>{var Ie,Fe,Se,ut;if(!he.destination)return;const ce=he.source.droppableId,ve=he.destination.droppableId;if(ce===`reservoir-${se.id}`&&ve===`reservoir-${se.id}`){const pt=Array.from(((Ie=se.options)==null?void 0:Ie.words)||[]),[Le]=pt.splice(he.source.index,1);pt.splice(he.destination.index,0,Le);const Ue={...se.options,words:pt};we(se.id,"options",Ue)}else if(ce===`sentence-${se.id}`&&ve===`sentence-${se.id}`){const pt=Array.isArray((Fe=se.options)==null?void 0:Fe.correct_order)?[...se.options.correct_order]:[],[Le]=pt.splice(he.source.index,1);pt.splice(he.destination.index,0,Le);const Ue={...se.options,correct_order:pt};we(se.id,"options",Ue)}else if(ce===`reservoir-${se.id}`&&ve===`sentence-${se.id}`){const pt=he.source.index,Le=Array.isArray((Se=se.options)==null?void 0:Se.correct_order)?[...se.options.correct_order]:[];Le.splice(he.destination.index,0,pt);const Ue={...se.options,correct_order:Le};we(se.id,"options",Ue)}else if(ce===`sentence-${se.id}`&&ve===`reservoir-${se.id}`){const pt=Array.isArray((ut=se.options)==null?void 0:ut.correct_order)?[...se.options.correct_order]:[];pt.splice(he.source.index,1);const Le={...se.options,correct_order:pt};we(se.id,"options",Le)}},children:[o.jsxs(qe.Group,{className:"mb-4",children:[o.jsxs(qe.Label,{children:[o.jsx("strong",{children:"Word Reservoir"})," - Add words here first, then drag them to the sentence builder below"]}),o.jsxs("div",{className:"border rounded p-3 mb-3",style:{backgroundColor:"#f8f9fa"},children:[o.jsx(pc,{droppableId:`reservoir-${se.id}`,direction:"horizontal",children:(he,ce)=>{var ve;return o.jsxs("div",{ref:he.innerRef,...he.droppableProps,className:"d-flex flex-wrap gap-2 mb-3",style:{minHeight:"60px",border:ce.isDraggingOver?"2px solid #007bff":"2px dashed #ccc",padding:"10px",backgroundColor:ce.isDraggingOver?"#e8f4ff":"#f0f0f0",borderRadius:"4px",transition:"all 0.2s ease"},children:[Array.isArray((ve=se.options)==null?void 0:ve.words)&&se.options.words.length>0?se.options.words.map((Ie,Fe)=>o.jsx(fc,{draggableId:`word-${se.id}-${Fe}`,index:Fe,children:(Se,ut)=>o.jsxs("div",{ref:Se.innerRef,...Se.draggableProps,...Se.dragHandleProps,className:"d-flex align-items-center",style:{...Se.draggableProps.style,boxShadow:ut.isDragging?"0 5px 10px rgba(0,0,0,0.3)":"0 2px 4px rgba(0,0,0,0.3)",cursor:"grab",backgroundColor:ut.isDragging?"#007bff":"#fff",color:ut.isDragging?"white":"black",padding:"8px 12px",margin:"5px",borderRadius:"4px",fontWeight:"bold",fontSize:"16px",transform:ut.isDragging?`${Se.draggableProps.style.transform} scale(1.05)`:Se.draggableProps.style.transform,userSelect:"none",transition:"background-color 0.2s ease"},children:[o.jsx("span",{className:"me-2",children:Ie}),o.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm ms-2 p-1","aria-label":"Remove word",onClick:pt=>{pt.stopPropagation();const Le=[...se.options.words];Le.splice(Fe,1);const Qe=(Array.isArray(se.options.correct_order)?se.options.correct_order.filter(Ke=>Ke!==Fe):[]).map(Ke=>Ke>Fe?Ke-1:Ke),ot={...se.options,words:Le,correct_order:Qe};we(se.id,"options",ot)},style:{display:"flex",alignItems:"center",justifyContent:"center",width:"26px",height:"26px",color:"#dc3545",borderColor:"transparent"},children:o.jsx(np,{size:14})})]})},`word-${Fe}`)):o.jsx("div",{className:"text-center w-100 p-3",style:{fontWeight:"bold",color:"#6c757d"},children:"No words added yet. Use the input below to add words."}),he.placeholder]})}}),o.jsxs("div",{className:"input-group",children:[o.jsx("input",{type:"text",className:"form-control",placeholder:"Type a new word or phrase",value:se.newWord||"",onChange:he=>{we(se.id,"newWord",he.target.value)},onKeyPress:he=>{if(he.key==="Enter"&&he.target.value.trim()){he.preventDefault();const ce=he.target.value.trim();Me(se.id,ce)}}}),o.jsx("button",{className:"btn btn-primary",type:"button",onClick:()=>{var he;if((he=se.newWord)!=null&&he.trim()){const ce=se.newWord.trim();Me(se.id,ce)}},children:"Add Word"})]})]})]}),o.jsxs(qe.Group,{className:"mb-4",children:[o.jsxs(qe.Label,{children:[o.jsx("strong",{children:"Sentence Builder"})," - Drag words from above to arrange them in the correct order"]}),o.jsxs("div",{className:"border rounded p-3",style:{backgroundColor:"#f8f9fa"},children:[o.jsx(pc,{droppableId:`sentence-${se.id}`,direction:"horizontal",children:(he,ce)=>{var ve;return o.jsxs("div",{ref:he.innerRef,...he.droppableProps,className:"d-flex flex-wrap gap-2 mb-3",style:{minHeight:"60px",border:ce.isDraggingOver?"2px solid #28a745":"2px dashed #28a745",padding:"10px",backgroundColor:ce.isDraggingOver?"#e8fff0":"#f0f0f0",borderRadius:"4px",transition:"all 0.2s ease"},children:[Array.isArray((ve=se.options)==null?void 0:ve.correct_order)&&se.options.correct_order.length>0?se.options.correct_order.map((Ie,Fe)=>{var ut,pt;const Se=((pt=(ut=se.options)==null?void 0:ut.words)==null?void 0:pt[Ie])||"Unknown";return o.jsx(fc,{draggableId:`sentence-${se.id}-${Fe}`,index:Fe,children:(Le,Ue)=>o.jsxs("div",{ref:Le.innerRef,...Le.draggableProps,...Le.dragHandleProps,className:"d-flex align-items-center",style:{...Le.draggableProps.style,boxShadow:Ue.isDragging?"0 5px 10px rgba(0,0,0,0.3)":"0 2px 4px rgba(0,0,0,0.3)",cursor:"grab",backgroundColor:Ue.isDragging?"#28a745":"#e8fff0",color:Ue.isDragging?"white":"black",padding:"8px 12px",margin:"5px",borderRadius:"4px",fontWeight:"bold",fontSize:"16px",transform:Ue.isDragging?`${Le.draggableProps.style.transform} scale(1.05)`:Le.draggableProps.style.transform,userSelect:"none",transition:"background-color 0.2s ease"},children:[o.jsx("span",{className:"me-2",children:Se}),o.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm ms-2 p-1","aria-label":"Remove word",onClick:Qe=>{Qe.stopPropagation();const ot=[...se.options.correct_order];ot.splice(Fe,1);const Ke={...se.options,correct_order:ot};we(se.id,"options",Ke)},style:{display:"flex",alignItems:"center",justifyContent:"center",width:"26px",height:"26px",color:"#dc3545",borderColor:"transparent"},children:o.jsx(np,{size:14})})]})},`sentence-word-${Fe}`)}):o.jsx("div",{className:"text-center w-100 p-3",style:{fontWeight:"bold",color:"#28a745"},children:"Drag words here to build the correct sentence order."}),he.placeholder]})}}),o.jsxs("div",{className:"d-flex justify-content-between align-items-center mt-3",children:[o.jsx("div",{children:o.jsx("button",{className:"btn btn-outline-secondary btn-sm me-2",onClick:()=>{const he={...se.options,correct_order:[]};we(se.id,"options",he)},children:"Clear Sentence"})}),o.jsx("div",{className:"text-end",children:o.jsx("small",{className:"text-muted",children:"Drag words from above to arrange them in the correct order. This will be the solution against which student answers will be checked."})})]})]})]})]})]})]}),o.jsxs("div",{className:"question-footer",children:[o.jsx("div",{className:"d-flex align-items-center",children:o.jsx(qe.Check,{type:"checkbox",label:"Required",checked:se.required,onChange:he=>we(se.id,"required",he.target.checked)})}),o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx(qe.Control,{type:"number",value:se.points,onChange:he=>we(se.id,"points",he.target.value),min:"0",max:"100",style:{width:"70px"}}),o.jsx("span",{className:"ms-2",children:"points"}),o.jsx(Mt,{variant:"outline-danger",size:"sm",className:"ms-3",onClick:he=>{he.stopPropagation(),X(se.id)},children:"Delete"})]})]})]})}},se.id)),ye.placeholder]})})}),o.jsx("div",{className:"add-question-wrapper",children:o.jsx("button",{className:"add-question-button",onClick:()=>Je(),"aria-label":"Add question",children:o.jsx(Vd,{})})})]}),o.jsxs("div",{className:"d-flex justify-content-between mt-5",children:[o.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>Q("/teacher/quiz"),children:"Cancel"}),o.jsx("button",{className:"btn btn-custom",onClick:We,disabled:A,children:A?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),re?"Updating...":"Saving..."]}):re?"Update Quiz":"Create Quiz"})]})]})})]})]})},u_e=()=>{const[t,e]=w.useState(!0),[n,r]=w.useState(!0),[s,i]=w.useState([]),[a,l]=w.useState([]),[c,u]=w.useState("all"),[h,f]=w.useState("all"),[m,g]=w.useState(""),[b,y]=w.useState(!1),[x,_]=w.useState(null),[S,T]=w.useState(!1),[D,j]=w.useState(!1),[A,O]=w.useState(null),[L,P]=w.useState(""),[N,U]=w.useState(""),[M,q]=w.useState(!1),[E,G]=w.useState(!1),[Q,re]=w.useState(null),[ee,Z]=w.useState([]),[K,F]=w.useState(!1),[W,me]=w.useState({total:0,submitted:0,graded:0,pending:0,averageGrade:0}),ne=mr(),ge=vt(),we=Vt(),je=we==null?void 0:we.teacher_id;w.useEffect(()=>{const ve=()=>{const Fe=document.body.classList.contains("dark-mode")||localStorage.getItem("appearanceSettings")&&JSON.parse(localStorage.getItem("appearanceSettings")).darkMode;G(Fe)};ve();const Ie=()=>{ve()};return window.addEventListener("appearanceChanged",Ie),()=>{window.removeEventListener("appearanceChanged",Ie)}},[]),w.useEffect(()=>{je||(dt().fire({icon:"error",title:"Teacher access required"}),ne("/404"))},[je,ne]);const Re=()=>{e(!t)},ke=async()=>{try{const ve=await ge.get(`teacher/course-lists/${je}/`);l(ve.data)}catch{dt().fire({icon:"error",title:"Failed to load courses"})}},We=async()=>{r(!0);try{const ve=await ge.get(`teacher/quizzes/all/${je}/`);if(Array.isArray(ve.data)){const Ie=ve.data.map(Fe=>{let Se=null,ut=null;return Fe.course&&(typeof Fe.course=="object"?(Se=Fe.course.title,ut=Fe.course.id):ut=Fe.course),!Se&&Fe.course_name&&(Se=Fe.course_name),!Se&&Fe.course_title&&(Se=Fe.course_title),{...Fe,course_name:Se,course_id:ut}});i(Ie)}else i([])}catch{dt().fire({icon:"error",title:"Failed to load quizzes"}),i([])}finally{r(!1)}},Je=async ve=>{r(!0);try{const Ie=ve==="all"?`teacher/quizzes/all/${je}/`:`teacher/quizzes/${ve}/`,Fe=await ge.get(Ie);if(Array.isArray(Fe.data)){const Se=Fe.data.map(ut=>{let pt=null,Le=null;if(ut.course&&(typeof ut.course=="object"?(pt=ut.course.title,Le=ut.course.id):Le=ut.course),!pt&&ut.course_name&&(pt=ut.course_name),!pt&&ut.course_title&&(pt=ut.course_title),!pt&&Le&&Le!=="all"){const Ue=a.find(Qe=>Qe.id===Le||Qe.id===parseInt(Le));Ue&&(pt=Ue.title)}return{...ut,course_name:pt,course_id:Le}});i(Se)}else i([])}catch{dt().fire({icon:"error",title:"Failed to load quizzes"}),i([])}finally{r(!1)}},nt=ve=>{u(ve),Je(ve)},ct=ve=>{f(ve)},X=()=>{ne("/teacher/quiz/editor")},Me=ve=>{ne(`/teacher/quiz/editor/${ve}`)},ye=ve=>{_(ve),y(!0)},se=async()=>{try{await ge.delete(`quizzes/${x.id}/`),y(!1),_(null),dt().fire({icon:"success",title:"Quiz deleted successfully"}),c==="all"?We():Je(c)}catch{dt().fire({icon:"error",title:"Failed to delete quiz"})}},ie=async ve=>{re(ve),F(!0),T(!0);try{const Ie=await ge.get(`quizzes/submissions/${ve.id}/`),Fe=Array.isArray(Ie.data)?Ie.data:[];Z(Fe);const Se=ve.enrolled_students||0,ut=Fe.length,pt=Fe.filter(ot=>ot.status==="graded"),Le=pt.length;let Ue=0;if(Le>0){const ot=pt.reduce((Ke,xt)=>Ke+(parseFloat(xt.score)||0),0);Ue=Math.round(ot/Le*10)/10}const Qe=s.map(ot=>ot.id===ve.id?{...ot,submissions_count:ut}:ot);i(Qe),me({total:Se,submitted:ut,graded:Le,pending:ut-Le,averageGrade:Ue})}catch{dt().fire({icon:"error",title:"Failed to load submissions"}),Z([])}finally{F(!1)}},fe=ve=>{O(ve),P(ve.score||""),U(ve.feedback||""),j(!0)},Te=async()=>{q(!0);try{await ge.put(`quizzes/grade-submission/${A.id}/`,{score:parseInt(L),feedback:N}),j(!1),O(null),P(""),U(""),dt().fire({icon:"success",title:"Submission graded successfully"}),Q&&ie(Q)}catch{dt().fire({icon:"error",title:"Failed to submit grade"})}finally{q(!1)}},he=()=>{if(!ee.length)return;let ve="data:text/csv;charset=utf-8,";ve+=`Student,Email,Submission Date,Status,Score,Feedback\r
`,ee.forEach(Se=>{const ut=[Se.student_name,Se.student_email||"N/A",Se.submitted_at?Ox(ag(Se.submitted_at),"MMM d, yyyy"):"N/A",Se.status,Se.score||"Not graded",`"${(Se.feedback||"").replace(/"/g,'""')}"`];ve+=ut.join(",")+`\r
`});const Ie=encodeURI(ve),Fe=document.createElement("a");Fe.setAttribute("href",Ie),Fe.setAttribute("download",`${Q.title}-submissions.csv`),document.body.appendChild(Fe),Fe.click(),document.body.removeChild(Fe)};w.useEffect(()=>{je&&(ke(),We())},[je]);const ce=Array.isArray(s)?s.filter(ve=>{var Ie,Fe;if(h!=="all"&&ve.status!==h)return!1;if(m){const Se=m.toLowerCase();return((Ie=ve.title)==null?void 0:Ie.toLowerCase().includes(Se))||((Fe=ve.course_name)==null?void 0:Fe.toLowerCase().includes(Se))}return!0}):[];return o.jsxs("div",{children:[o.jsx(Fu,{sidebarCollapsed:t}),o.jsxs("div",{style:{flex:1,marginLeft:t?"80px":"270px",transition:"margin-left 0.3s ease"},className:E?"dark-mode":"light-mode",children:[o.jsx(Yi,{sidebarCollapsed:t,toggleSidebar:Re}),o.jsxs(Xd,{fluid:!0,className:"py-4",children:[o.jsxs(Cs,{className:"mb-4",children:[o.jsx(An,{children:o.jsx("h3",{children:"Quiz Management"})}),o.jsx(An,{className:"text-end",children:o.jsxs(Mt,{variant:"primary",onClick:X,children:[o.jsx(ds,{icon:h7,className:"me-2"}),"Create Quiz"]})})]}),o.jsx($t,{className:"mb-4",children:o.jsx($t.Body,{children:o.jsxs(Cs,{children:[o.jsx(An,{md:4,children:o.jsxs(qe.Group,{className:"mb-3 mb-md-0",children:[o.jsx(qe.Label,{children:"Filter by Course"}),o.jsxs(qe.Select,{value:c,onChange:ve=>nt(ve.target.value),children:[o.jsx("option",{value:"all",children:"All Courses"}),a.map(ve=>o.jsx("option",{value:ve.id,children:ve.title},ve.id))]})]})}),o.jsx(An,{md:4,children:o.jsxs(qe.Group,{className:"mb-3 mb-md-0",children:[o.jsx(qe.Label,{children:"Filter by Status"}),o.jsxs(qe.Select,{value:h,onChange:ve=>ct(ve.target.value),children:[o.jsx("option",{value:"all",children:"All Statuses"}),o.jsx("option",{value:"draft",children:"Draft"}),o.jsx("option",{value:"published",children:"Published"})]})]})}),o.jsx(An,{md:4,children:o.jsxs(qe.Group,{children:[o.jsx(qe.Label,{children:"Search"}),o.jsx(qe.Control,{type:"text",placeholder:"Search quizzes...",value:m,onChange:ve=>g(ve.target.value),className:"search-bar",style:{backgroundColor:"#fff",color:"#000"}})]})})]})})}),n?o.jsx("div",{className:"text-center my-5",style:{color:E?"black":"white",padding:"20px"},children:o.jsx(Yr,{animation:"border",role:"status",children:o.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):ce.length===0?o.jsxs(Wa,{variant:"info",style:{backgroundColor:E?"#2a3f4a":"#cff4fc",borderColor:E?"#205e7c":"#b6effb",color:E?"#a9d5de":"#055160"},children:["No quizzes found based on your filters. Try changing your filter options or "," ",o.jsx(Wa.Link,{onClick:X,style:{cursor:"pointer",color:E?"#8ed6fb":"#055160",fontWeight:"bold",textDecoration:"underline"},children:"create a new quiz"}),"."]}):o.jsx($t,{style:{backgroundColor:"transparent",color:E?"#ffffff":"inherit",borderColor:E?"#333":"rgba(0, 0, 0, 0)"},children:o.jsxs($t.Body,{style:{backgroundColor:"transparent",padding:"1.25rem"},children:[o.jsx("style",{children:`
                    .custom-transparent-table {
                      --bs-table-color: ${E?"#ffffff":"inherit"};
                      --bs-table-bg: transparent !important;
                      --bs-table-border-color: ${E?"#444":"inherit"};
                      --bs-table-accent-bg: transparent !important;
                      --bs-table-striped-color: ${E?"#ffffff":"inherit"};
                      --bs-table-striped-bg: transparent !important;
                      --bs-table-active-color: ${E?"#ffffff":"inherit"};
                      --bs-table-active-bg: transparent !important;
                      --bs-table-hover-color: ${E?"#ffffff":"inherit"};
                      --bs-table-hover-bg: ${E?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.075)"} !important;
                      width: 100%;
                      margin-bottom: 1rem;
                      vertical-align: top;
                      }
                    
                    .custom-transparent-table th,
                    .custom-transparent-table td {
                      background-color: transparent !important;
                      color: ${E?"#ffffff":"inherit"} !important;
                    }
                    
                    .custom-transparent-table tbody tr:hover td,
                    .custom-transparent-table tbody tr:hover th {
                      background-color: ${E?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.075)"} !important;
                    }
                  `}),o.jsxs(Vf,{responsive:!0,hover:!0,className:`${E?"table-dark":""} custom-transparent-table`,style:{backgroundColor:"transparent"},children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Title"}),o.jsx("th",{children:"Course"}),o.jsx("th",{children:"Lecture"}),o.jsx("th",{children:"Status"}),o.jsx("th",{children:"Points"}),o.jsx("th",{children:"Actions"})]})}),o.jsx("tbody",{children:ce.map(ve=>{var Ie,Fe,Se,ut;return o.jsxs("tr",{"data-quiz-id":ve.id,children:[o.jsx("td",{children:ve.title||"Untitled Quiz"}),o.jsxs("td",{children:[ve.course_name||((Ie=ve.course)==null?void 0:Ie.title)||"No Course",!ve.course_name&&!((Fe=ve.course)!=null&&Fe.title)&&o.jsx("span",{className:"text-muted fst-italic",children:"(Unassigned)"})]}),o.jsxs("td",{children:[ve.lecture_title||((Se=ve.lecture)==null?void 0:Se.title)||"No Lecture",!ve.lecture_title&&!((ut=ve.lecture)!=null&&ut.title)&&o.jsx("span",{className:"text-muted fst-italic",children:"(Unassigned)"})]}),o.jsx("td",{children:o.jsxs("div",{className:"d-flex align-items-center",children:[ve.status==="draft"&&o.jsx(rr,{bg:"secondary",children:"Draft"}),ve.status==="published"&&o.jsx(rr,{bg:"success",children:"Published"})]})}),o.jsx("td",{children:ve.points||0}),o.jsx("td",{children:o.jsxs("div",{className:"d-flex",children:[o.jsx(Mt,{variant:E?"outline-light":"outline-secondary",size:"sm",className:"me-1",onClick:()=>Me(ve.id),title:"Edit quiz",style:{color:E?"#ffffff":void 0,borderColor:E?"#6c757d":void 0},children:o.jsx(ds,{icon:u7})}),o.jsx(Mt,{variant:"outline-danger",size:"sm",onClick:()=>ye(ve),title:"Delete quiz",style:{color:E?"#f8d7da":void 0,borderColor:E?"#dc3545":void 0},children:o.jsx(ds,{icon:d7})})]})})]},ve.id)})})]})]})})]}),o.jsxs(Tt,{show:b,onHide:()=>y(!1),children:[o.jsxs(Tt.Header,{children:[o.jsx(Tt.Title,{children:"Confirm Delete"}),o.jsx("button",{type:"button","aria-label":"Close",onClick:()=>y(!1),style:{position:"absolute",top:16,right:16,background:"none",border:"none",fontSize:"1.5rem",color:E?"#fff":"#000",cursor:"pointer",zIndex:10},children:""})]}),o.jsxs(Tt.Body,{children:['Are you sure you want to delete the quiz "',x==null?void 0:x.title,'"? This action cannot be undone and will remove all student submissions.']}),o.jsxs(Tt.Footer,{children:[o.jsx(Mt,{variant:E?"outline-light":"secondary",onClick:()=>y(!1),children:"Cancel"}),o.jsx(Mt,{variant:"danger",onClick:se,children:"Delete Quiz"})]})]}),o.jsxs(Tt,{show:S,onHide:()=>T(!1),size:"xl",children:[o.jsxs(Tt.Header,{children:[o.jsxs(Tt.Title,{children:["Submissions - ",Q==null?void 0:Q.title]}),o.jsx("button",{type:"button","aria-label":"Close",onClick:()=>T(!1),style:{position:"absolute",top:16,right:16,background:"none",border:"none",fontSize:"1.5rem",color:E?"#fff":"#000",cursor:"pointer",zIndex:10},children:""})]}),o.jsx(Tt.Body,{children:K?o.jsx("div",{className:"text-center my-5",children:o.jsx(Yr,{animation:"border",role:"status",children:o.jsx("span",{className:"visually-hidden",children:"Loading submissions..."})})}):o.jsx(o.Fragment,{children:o.jsxs(sk,{defaultActiveKey:"submissions",className:"mb-3",children:[o.jsxs(Jb,{eventKey:"submissions",title:"Submissions",children:[ee.length===0?o.jsx(Wa,{variant:E?"info bg-dark text-light border-info":"info",children:"No submissions received yet for this quiz."}):o.jsxs(Vf,{responsive:!0,hover:!0,className:"align-middle",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Student"}),o.jsx("th",{children:"Submitted"}),o.jsx("th",{children:"Status"}),o.jsx("th",{children:"Score"}),o.jsx("th",{children:"Correct Answers"}),o.jsx("th",{children:"Actions"})]})}),o.jsx("tbody",{children:ee.map(ve=>o.jsxs("tr",{children:[o.jsx("td",{children:ve.student_name}),o.jsx("td",{children:ve.submitted_at?Ox(ag(ve.submitted_at),"MMM d, yyyy h:mm a"):"N/A"}),o.jsx("td",{children:o.jsx("div",{className:"d-flex align-items-center",children:ve.status==="pending"?o.jsx(rr,{bg:"warning",text:"dark",children:"Pending"}):o.jsx(rr,{bg:"success",children:"Graded"})})}),o.jsx("td",{children:ve.score?`${ve.score}/${(Q==null?void 0:Q.points)||100}`:"-"}),o.jsxs("td",{children:[ve.correct_answers||0,"/",ve.total_questions||0]}),o.jsx("td",{children:o.jsxs("div",{className:"d-flex",children:[o.jsx(Mt,{variant:E?"outline-light":"outline-primary",size:"sm",className:"me-1",onClick:()=>fe(ve),title:"Review submission",children:o.jsx(ds,{icon:yC})}),o.jsx(Mt,{variant:E?"outline-light":"outline-secondary",size:"sm",title:"View details",children:o.jsx(ds,{icon:T1e})})]})})]},ve.id))})]}),o.jsx("div",{className:"text-end mt-3",children:o.jsxs(Mt,{variant:E?"outline-light":"outline-primary",onClick:he,disabled:ee.length===0,children:[o.jsx(ds,{icon:f7,className:"me-2"}),"Export as CSV"]})})]}),o.jsxs(Jb,{eventKey:"stats",title:"Statistics",children:[o.jsxs(Cs,{children:[o.jsx(An,{md:3,children:o.jsx($t,{bg:E?"dark":"light",text:E?"light":"dark",className:"mb-3",children:o.jsxs($t.Body,{className:"text-center",children:[o.jsx("h3",{children:W.total}),o.jsx("p",{className:"mb-0",children:"Total Students"})]})})}),o.jsx(An,{md:3,children:o.jsx($t,{bg:"primary",text:"white",className:"mb-3",children:o.jsxs($t.Body,{className:"text-center",children:[o.jsx("h3",{children:W.submitted}),o.jsx("p",{className:"mb-0",children:"Submissions"})]})})}),o.jsx(An,{md:3,children:o.jsx($t,{bg:"success",text:"white",className:"mb-3",children:o.jsxs($t.Body,{className:"text-center",children:[o.jsx("h3",{children:W.graded}),o.jsx("p",{className:"mb-0",children:"Graded"})]})})}),o.jsx(An,{md:3,children:o.jsx($t,{bg:"info",text:"white",className:"mb-3",children:o.jsxs($t.Body,{className:"text-center",children:[o.jsx("h3",{children:W.averageGrade}),o.jsx("p",{className:"mb-0",children:"Avg. Score"})]})})})]}),o.jsx($t,{children:o.jsxs($t.Body,{children:[o.jsx("h5",{children:"Submission Rate"}),o.jsx("div",{className:"progress mb-3",style:{height:"25px"},children:o.jsxs("div",{className:"progress-bar",role:"progressbar",style:{width:`${W.total>0?W.submitted/W.total*100:0}%`},"aria-valuenow":W.submitted,"aria-valuemin":"0","aria-valuemax":W.total,children:[W.total>0?Math.round(W.submitted/W.total*100):0,"%"]})}),o.jsx("h5",{children:"Performance Distribution"}),o.jsxs("div",{className:"progress",style:{height:"25px"},children:[o.jsx("div",{className:"progress-bar bg-danger",style:{width:"10%"}}),o.jsx("div",{className:"progress-bar bg-warning",style:{width:"30%"}}),o.jsx("div",{className:"progress-bar bg-info",style:{width:"40%"}}),o.jsx("div",{className:"progress-bar bg-success",style:{width:"20%"}})]}),o.jsxs("div",{className:"d-flex justify-content-between mt-1",children:[o.jsx("small",{children:"0-25%"}),o.jsx("small",{children:"26-50%"}),o.jsx("small",{children:"51-75%"}),o.jsx("small",{children:"76-100%"})]})]})})]})]})})}),o.jsx(Tt.Footer,{children:o.jsx(Mt,{variant:E?"outline-light":"secondary",onClick:()=>T(!1),children:"Close"})})]}),o.jsxs(Tt,{show:D,onHide:()=>j(!1),children:[o.jsxs(Tt.Header,{children:[o.jsx(Tt.Title,{children:"Review Quiz Submission"}),o.jsx("button",{type:"button","aria-label":"Close",onClick:()=>j(!1),style:{position:"absolute",top:16,right:16,background:"none",border:"none",fontSize:"1.5rem",color:E?"#fff":"#000",cursor:"pointer",zIndex:10},children:""})]}),o.jsxs(Tt.Body,{children:[o.jsxs(qe,{children:[o.jsxs(qe.Group,{className:"mb-3",children:[o.jsx(qe.Label,{children:"Student"}),o.jsx(qe.Control,{type:"text",value:(A==null?void 0:A.student_name)||"",readOnly:!0})]}),o.jsxs(Cs,{className:"mb-3",children:[o.jsx(An,{md:6,children:o.jsx($t,{children:o.jsxs($t.Body,{children:[o.jsx("h6",{children:"Score"}),o.jsxs("h3",{children:[(A==null?void 0:A.score)||0,"/",(Q==null?void 0:Q.points)||0]})]})})}),o.jsx(An,{md:6,children:o.jsx($t,{children:o.jsxs($t.Body,{children:[o.jsx("h6",{children:"Correct Answers"}),o.jsxs("h3",{children:[(A==null?void 0:A.correct_answers)||0,"/",(A==null?void 0:A.total_questions)||0]})]})})})]}),o.jsxs(qe.Group,{className:"mb-3",children:[o.jsx(qe.Label,{children:"Additional Feedback"}),o.jsx(qe.Control,{as:"textarea",rows:4,value:N,onChange:ve=>U(ve.target.value),placeholder:"Provide feedback to the student..."})]})]}),o.jsxs(Wa,{variant:"info",className:"mb-0 mt-3",children:[o.jsx("strong",{children:"Note:"})," This quiz was auto-graded based on correct answers. You can provide additional feedback to the student."]})]}),o.jsxs(Tt.Footer,{children:[o.jsx(Mt,{variant:E?"outline-light":"secondary",onClick:()=>j(!1),children:"Cancel"}),o.jsx(Mt,{variant:E?"custom":"primary",onClick:Te,disabled:M,className:E?"btn-custom":"",children:M?o.jsxs(o.Fragment,{children:[o.jsx(Yr,{size:"sm",animation:"border",className:"me-2"}),"Submitting..."]}):"Save Feedback"})]})]}),o.jsx("style",{children:`
            .dark-mode .modal-content {
              background-color: #333 !important;
              color: #fff !important;
            }
            .form-control, body.dark-mode .form-select {
              background-color: #fff!important;
              color: #121212!important;
            }
          `})]})]})};let HP=!1;const d_e=t=>{if(!t||t.isDisposed())return;t.addClass("vjs-youtube-style");const n=(()=>{const r=["#8c0101","#034287"];return r[Math.floor(Math.random()*r.length)]})();if(!HP){const r="vjs-youtube-global-styles";if(!document.getElementById(r)){const s=document.createElement("style");s.id=r,s.textContent=`
        .video-js.vjs-youtube-style {
          font-family: 'Roboto', Arial, sans-serif;
        }
        body.dark-mode button:not(.btn-primary):not(.btn-success):not(.btn-danger) {
        background-color: rgba(255, 255, 255, 0) !important;
        border-color: rgba(255, 255, 255, 0) !important;
    }
        .video-js.vjs-youtube-style .vjs-control-bar {
          background: transparent; /* Changed from gradient to transparent */
          height: 40px;
          padding: 0;
          margin: 0;
          opacity: 0;
          transition: opacity 0.2s ease;
          display: flex;
          justify-content: space-between;
          width: 100%;
        }
        
        .video-js.vjs-youtube-style:hover .vjs-control-bar {
          opacity: 1;
          background: rgba(0, 0, 0, 0);
        }
        
        .video-js.vjs-youtube-style .vjs-progress-control {
          position: absolute !important;
          top: -10px !important;
          left: 0 !important;
          right: 0 !important;
          width: 100% !important;
          height: 3px;
          transition: height 0.1s;
          padding: 0 !important;
          margin: 0 !important;
          box-sizing: border-box;
          backgroundcolor: rgba(0, 0, 0, 0)!important;
        }
        
        .video-js.vjs-youtube-style:hover .vjs-progress-control {
          height: 5px;
        }
        
        .video-js.vjs-youtube-style .vjs-play-progress {
          background-color: ${n};
        }
        
        .video-js.vjs-youtube-style .vjs-progress-holder {
          height: 3px;
          margin: 0;
          width: 100%;
          max-width: 100%;
        }
        
        .video-js.vjs-youtube-style .vjs-load-progress,
        .video-js.vjs-youtube-style .vjs-load-progress div {
          backgroundcolor: rgba(0, 0, 0, 0);
        }
        
        .video-js.vjs-youtube-style .vjs-progress-control .vjs-progress-holder {
          margin: 0;
          padding: 0;
          width: 100%;
        }
        
        .video-js.vjs-youtube-style .vjs-progress-control,
        .video-js.vjs-youtube-style .vjs-progress-holder,
        .video-js.vjs-youtube-style .vjs-slider,
        .video-js.vjs-youtube-style .vjs-slider-horizontal {
          margin: 0;
          padding: 0;
          backgroundcolor: rgba(0, 0, 0, 0);
        }
        
        .video-js.vjs-youtube-style .vjs-button > .vjs-icon-placeholder:before {
          font-size: 20px;
          line-height: 40px;
        }
        
        .vjs-youtube-left-controls,
        .vjs-youtube-right-controls {
          display: flex;
          align-items: center;
          padding: 0 5px;
          backgroundcolor: rgba(0, 0, 0, 0)!important;
        }
        
        .video-js.vjs-youtube-style .vjs-control {
          width: 30px;
          backgroundcolor: rgba(0, 0, 0, 0)!important;
        }
        
        /* Compact Time Display in YouTube style */
        .video-js.vjs-youtube-style .vjs-current-time,
        .video-js.vjs-youtube-style .vjs-time-divider,
        .video-js.vjs-youtube-style .vjs-duration {
          padding: 0;
          margin: 0;
          font-size: 12px;
          display: block !important;
          line-height: 40px;
          width: auto;
          backgroundcolor: rgba(0, 0, 0, 0)!important;
        }
        
        /* Make current time and duration display tight together */
        .video-js.vjs-youtube-style .vjs-current-time-display,
        .video-js.vjs-youtube-style .vjs-duration-display {
          padding: 0 1px;
        }
        
        /* Adjust time divider */
        .video-js.vjs-youtube-style .vjs-time-divider {
          padding: 0;
          min-width: 8px;
          text-align: center;
        }
        
        /* Hide the time remaining display */
        .video-js.vjs-youtube-style .vjs-remaining-time {
          display: none !important;
        }
        
        .video-js.vjs-youtube-style .vjs-volume-panel {
          display: flex;
          margin-right: 0;
          backgroundcolor: rgba(0, 0, 0, 0)!important;
        }
        
        .video-js.vjs-youtube-style .vjs-volume-control {
          width: 0;
          transition: width 0.2s;
          height: 100%;
          backgroundcolor: rgba(0, 0, 0, 0)!important;
        }
        
        .video-js.vjs-youtube-style .vjs-volume-panel:hover .vjs-volume-control,
        .video-js.vjs-youtube-style .vjs-volume-panel:focus .vjs-volume-control,
        .video-js.vjs-youtube-style .vjs-volume-panel.vjs-hover .vjs-volume-control {
          visibility: visible;
          opacity: 1;
          width: 50px;
          height: 100%;
          backgroundcolor: rgba(0, 0, 0, 0)!important;
        }
        
        /* Settings button (Speedometer icon) */
        .vjs-youtube-settings-button .vjs-icon-placeholder:before {
          content: "";
          font-size: 18px;
        }
        
        /* Group right-aligned controls tighter */
        .vjs-youtube-right-controls {
          display: flex;
          align-items: center;
          gap: 0;
        }
        
        .vjs-speed-menu {
          position: absolute;
          bottom: 50px;
          right: 10px;
          background-color: rgba(28, 28, 28, 0.9);
          border-radius: 2px;
          padding: 8px 0;
          width: 200px;
          display: none;
          z-index: 100;
        }
        
        .vjs-speed-menu.active {
          display: block;
        }
        
        .vjs-speed-menu-item {
          padding: 8px 20px;
          color: white;
          cursor: pointer;
          display: flex;
          justify-content: space-between;
        }
        
        .vjs-speed-menu-item:hover {
          background-color: rgba(255, 255, 255, 0.1);
        }
        
        .vjs-speed-menu-item.selected {
          font-weight: bold;
        }
        
        .vjs-speed-menu-item.selected:after {
          content: "";
        }
        
        .video-js.vjs-youtube-style .vjs-volume-level {
          background-color: white;
        }

        /* Volume panel - with centered control */
        .video-js.vjs-youtube-style .vjs-volume-panel {
          display: flex;
          align-items: center;
          margin-right: 0;
        }

        /* Volume control - centered position */
        .video-js.vjs-youtube-style .vjs-volume-control {
          width: 0;
          transition: width 0.2s;
          height: 100%;
          display: flex;
          align-items: center;
        }

        /* Volume bar container */
        .video-js.vjs-youtube-style .vjs-volume-bar {
          margin: 0 auto;
          height: 3px;
        }

        /* When hovering the volume panel */
        .video-js.vjs-youtube-style .vjs-volume-panel:hover .vjs-volume-control,
        .video-js.vjs-youtube-style .vjs-volume-panel:focus .vjs-volume-control,
        .video-js.vjs-youtube-style .vjs-volume-panel.vjs-hover .vjs-volume-control {
          visibility: visible;
          opacity: 1;
          width: 50px;
          height: 100%;
        }

        /* Volume level indicator */
        .video-js.vjs-youtube-style .vjs-volume-level {
          background-color: white;
          height: 100%;
        }

        /* Volume panel - with centered control */
        .video-js.vjs-youtube-style .vjs-volume-panel {
          display: flex;
          align-items: center;
          margin-right: 0;
        }

        /* Volume control - adjust vertical position */
        .video-js.vjs-youtube-style .vjs-volume-control {
          width: 0;
          transition: width 0.2s;
          height: 100%;
          display: flex;
          align-items: center;
          margin-top:0.7px; 
        }

        /* Volume bar container - adjust position */
        .video-js.vjs-youtube-style .vjs-volume-bar {
          margin: 0 auto;
          height: 3px;
          position: relative;
          top: 0.5px; /* Move the bar down for better alignment */
        }

        /* When hovering the volume panel */
        .video-js.vjs-youtube-style .vjs-volume-panel:hover .vjs-volume-control,
        .video-js.vjs-youtube-style .vjs-volume-panel:focus .vjs-volume-control,
        .video-js.vjs-youtube-style .vjs-volume-panel.vjs-hover .vjs-volume-control {
          visibility: visible;
          opacity: 1;
          width: 50px;
          height: 100%;
        }
      `,document.head.appendChild(s),HP=!0}}t.ready(()=>{setTimeout(()=>{const T=t.el().querySelector(".vjs-progress-control");if(T){T.style.width="100%";const D=t.el().querySelector(".vjs-progress-holder");D&&(D.style.width="100%")}},100);const r=document.createElement("button");r.className="vjs-control vjs-button vjs-youtube-settings-button",r.type="button",r.title="Settings";const s=document.createElement("span");s.className="vjs-icon-placeholder",r.appendChild(s);const i=document.createElement("div");i.className="vjs-speed-menu",[.25,.5,.75,1,1.25,1.5,1.75,2].forEach(T=>{const D=document.createElement("div");D.className="vjs-speed-menu-item",D.textContent=T===1?"Normal":`${T}`,D.dataset.speed=T,t.playbackRate()===T&&D.classList.add("selected"),D.addEventListener("click",()=>{t.playbackRate(T),document.querySelectorAll(".vjs-speed-menu-item").forEach(j=>{j.classList.remove("selected")}),D.classList.add("selected"),i.classList.remove("active")}),i.appendChild(D)}),r.addEventListener("click",T=>{T.stopPropagation(),i.classList.toggle("active")});const l=T=>{!i.contains(T.target)&&!r.contains(T.target)&&i.classList.remove("active")};document.addEventListener("click",l),t.closeMenuHandler_=l;const c=t.getChild("controlBar").el(),u=document.createElement("div");u.className="vjs-youtube-left-controls";const h=document.createElement("div");h.className="vjs-youtube-right-controls";const f=c.querySelector(".vjs-play-control"),m=c.querySelector(".vjs-volume-panel"),g=c.querySelector(".vjs-current-time"),b=c.querySelector(".vjs-time-divider"),y=c.querySelector(".vjs-duration"),x=c.querySelector(".vjs-progress-control"),_=c.querySelector(".vjs-fullscreen-control"),S=c.querySelector(".vjs-picture-in-picture-control");Array.from(c.children).forEach(T=>{T!==x&&!u.contains(T)&&!h.contains(T)&&c.removeChild(T)}),f&&u.appendChild(f),m&&u.appendChild(m),g&&u.appendChild(g),b&&u.appendChild(b),y&&u.appendChild(y),h.appendChild(r),S&&h.appendChild(S),_&&h.appendChild(_),c.appendChild(u),c.appendChild(h),t.el().appendChild(i)})};function WP(){var bt;const[t,e]=w.useState([]),[n,r]=w.useState(!0),[s,i]=w.useState(!0),[a,l]=w.useState(!0),[c,u]=w.useState(!1),[h,f]=w.useState(null),[m,g]=w.useState([]),[b,y]=w.useState(null),[x,_]=w.useState("all"),[S,T]=w.useState(!1),[D,j]=w.useState(null),[A,O]=w.useState(!1),[L,P]=w.useState([]),[N,U]=w.useState(null),[M,q]=w.useState([]),[E,G]=w.useState(!1),[Q,re]=w.useState(!1),[ee,Z]=w.useState(!1),[K,F]=w.useState(0),[W,me]=w.useState([]),[ne,ge]=w.useState([]),[we,je]=w.useState(localStorage.getItem("cart_id")||null),[Re,ke]=w.useState("description"),[We,Je]=w.useState([]),[nt,ct]=w.useState(!1),[X,Me]=w.useState(0),[ye,se]=w.useState(0),[ie,fe]=w.useState({}),[Te,he]=w.useState({}),[ce,ve]=w.useState(!1),[Ie,Fe]=w.useState(!1),Se=mr(),[ut,pt]=w.useState(!1),[Le,Ue]=w.useState(!1),[Qe,ot]=w.useState(!1),[Ke,xt]=w.useState(null),[ae,Be]=w.useState(!1),[Ye,_t]=w.useState(null),[Ze,it]=w.useState(!1),[te,le]=w.useState(!1),[be,ue]=w.useState(""),[Oe,wt]=w.useState(!1),[At,Ut]=w.useState({title:"",price:"",level:"",category:""}),[Ct,en]=w.useState(null),[qn,vr]=w.useState(!1),Un=w.useRef(null),Jt=w.useRef(null),yn=w.useRef(null),Ir=w.useRef(null),js=()=>{l(!a)},Hn=async()=>{try{r(!0);const pe=await vt().get("teacher/courses/");e(pe.data),r(!1)}catch(pe){pe.response&&pe.response.status===401&&(Cn.remove("access_token"),Cn.remove("refresh_token"),Se("/"))}},zr=async pe=>{try{const et=[...(await vt().get(`/teacher/course/${pe}/lectures/`)).data].sort((St,jt)=>(St.order??0)-(jt.order??0));g(et)}catch{g([])}},as=async pe=>{f(pe),await zr(pe.id),u(!0),y(null)},vn=()=>{xt(null),Ue(!0)},Fo=async pe=>{if(!pe.destination)return;const He=Array.from(m),[et]=He.splice(pe.source.index,1);He.splice(pe.destination.index,0,et),g(He);try{await vt().post(`/teacher/course/${h.id}/lecture-order/`,{lecture_order:He.map(St=>St.id)})}catch{dt().fire({icon:"error",title:"Failed to save lecture order."})}},Ns=async()=>{if(h&&m.length>0)try{await vt().post(`/teacher/course/${h.id}/lecture-order/`,{lecture_order:m.map(pe=>pe.id)})}catch{dt().fire({icon:"error",title:"Failed to save lecture order."})}u(!1),f(null),y(null),Jt.current&&(Jt.current.dispose(),Jt.current=null)},zs=()=>{pt(!0)},Gi=async(pe,He)=>{try{ct(!0);const St=(await vt().get(`/course/${pe}/lecture/${He}/resources/`)).data.map(jt=>(jt.file_size&&!isNaN(parseFloat(jt.file_size))&&(jt.file_size=parseFloat(jt.file_size)),jt));Je(St)}catch{Je([])}finally{ct(!1)}},os=async pe=>{if(!(!pe||!h)&&!((b==null?void 0:b.id)===pe.id&&Jt.current)){ve(!0),y(pe);try{let He;try{if(He=vt(),!He)throw new Error("Axios instance is not available.")}catch{ve(!1);return}const[et,St,jt]=await Promise.all([He.get(`/lecture/${pe.id}/progress/`).catch(Ft=>({data:null})),He.get(`/lecture/${pe.id}/video-metadata/`).catch(Ft=>({data:null})),Gi(h.id,pe.id)]);et!=null&&et.data&&(Me(et.data.current_time||0),se(et.data.duration||0),he(Ft=>({...Ft,[pe.id]:{percentage:et.data.percentage_complete||0,completed:et.data.completed||!1,current_time:et.data.current_time||0}}))),await new Promise(Ft=>{if(Jt.current)try{Jt.current.dispose()}catch{}finally{Jt.current=null,Un.current=null}Ft()}),setTimeout(()=>{var Wt;const Ft=Ir.current;if(!Ft){ve(!1);return}Ft.firstChild;const cn=document.createElement("video");if(cn.className="video-js vjs-default-skin",cn.setAttribute("controls","true"),cn.setAttribute("preload","auto"),cn.style.width="100%",cn.style.height="100%",Ft.appendChild(cn),Un.current=cn,!((Wt=St==null?void 0:St.data)!=null&&Wt.url)){Un.current&&Un.current.parentNode===Ft&&Ft.removeChild(Un.current),Un.current=null,ve(!1);return}const mn={};try{Jt.current=tt(Un.current,mn),Jt.current.ready(()=>{var On;if(!Jt.current||Jt.current.isDisposed())return;let Xt=St.data.url;const Sn=St.data.mime_type||"video/mp4";if(Xt&&Xt.startsWith("/")){const Yn=He.defaults.baseURL||"https://127.0.0.1:8000",Or=Yn.endsWith("/")?Yn.slice(0,-1):Yn,Mr=Xt.startsWith("/")?Xt.slice(1):Xt;Xt=`${Or}/${Mr}`}else if(Xt&&!Xt.startsWith("http")){const Yn=He.defaults.baseURL||"https://127.0.0.1:8000";Xt=`${Yn.endsWith("/")?Yn.slice(0,-1):Yn}/${Xt}`}Xt=Xt.replace(/\\/g,"/"),Jt.current.src({src:Xt,type:Sn}),Jt.current.on("timeupdate",ba),Jt.current.on("loadedmetadata",so),Jt.current.on("error",()=>{ve(!1)}),Jt.current.on("loadeddata",()=>{ve(!1)}),Jt.current.on("canplay",()=>{}),d_e(Jt.current);const Nn=(On=et==null?void 0:et.data)==null?void 0:On.current_time;Nn&&Nn>0&&Jt.current.currentTime(Nn),ce&&ve(!1)})}catch{Un.current&&Un.current.parentNode===Ft&&Ft.removeChild(Un.current),Un.current=null,ve(!1)}},100)}catch{ve(!1)}}},wn=pe=>{xt(pe),Ue(!0)},so=()=>{try{if(!Jt.current||!b)return;const pe=Jt.current.duration();if(isNaN(pe)||pe<=0)return;se(pe),X>0&&X<pe&&Jt.current.currentTime(X),b.chapters&&b.chapters.length&&xa(Jt.current,b),er(Jt.current)}catch{}},ba=()=>{if(!(!Jt.current||!b))try{const pe=Jt.current.currentTime(),He=Jt.current.duration();if(isNaN(pe)||isNaN(He)||He<=0)return;const et=io(pe),St=io(He);Me(pe);const jt=Math.round(pe/He*100);he(Ft=>({...Ft,[b.id]:{...Ft[b.id],percentage:jt,current_time:pe}}));const Nt=Jt.current.lastProgressSave||0;pe-Nt>=10&&(Ki(),Jt.current.lastProgressSave=pe)}catch{}},Ki=async()=>{if(!(!Jt.current||!b))try{const pe=Jt.current.currentTime(),He=Jt.current.duration();if(isNaN(pe)||isNaN(He)||He<=0)return;yn.current&&clearTimeout(yn.current),yn.current=setTimeout(async()=>{var et;try{const St=await vt().post(`/lecture/${b.id}/progress/`,{current_time:pe,duration:He});if(St.data){const jt=((et=Te[b.id])==null?void 0:et.completed)||!1,Nt=St.data.completed||!1;he(Ft=>({...Ft,[b.id]:{percentage:St.data.percentage_complete||0,completed:St.data.completed||!1,current_time:St.data.current_time||0}})),!jt&&Nt&&Ce()}}catch{}},1e3)}catch{}};w.useEffect(()=>()=>{yn.current&&(clearTimeout(yn.current),yn.current=null),Jt.current&&b&&Ki()},[b]),w.useEffect(()=>()=>{if(Jt.current)try{Jt.current.closeMenuHandler_&&document.removeEventListener("click",Jt.current.closeMenuHandler_),Jt.current.dispose()}catch{}finally{Jt.current=null}},[]);const er=pe=>{pe&&pe.ready(()=>{const He=pe.tech().el_;He.preload="auto";const et=Wt=>{if(!Wt||isNaN(Wt)||Wt<=0)return null;const Xt=2,Sn=[],Nn=[];for(let On=0;On<=Wt;On+=Xt){const Yn=On/Wt;Sn.push({time:On,position:Yn}),Nn.push({index:Sn.length-1,time:On.toFixed(2)+"s",position:(Yn*100).toFixed(2)+"%",formatTime:io(On)})}return Sn.length>0&&(Sn.length>=3&&Math.floor(Sn.length/2),Sn.length-1),Sn},St=(Wt,Xt)=>{if(!Wt||Wt.length===0)return null;let Sn=Wt[0],Nn=Math.abs(Xt-Sn.time);for(let On=1;On<Wt.length;On++){const Yn=Math.abs(Xt-Wt[On].time);Yn<Nn&&(Nn=Yn,Sn=Wt[On])}return Sn};let jt=null;pe.on("loadedmetadata",()=>{const Wt=pe.duration();Wt&&Wt>0&&(jt=et(Wt))}),pe.on("seeking",()=>{pe.addClass("vjs-seeking")}),pe.on("seeked",()=>{pe.removeClass("vjs-seeking"),Me(pe.currentTime())});const Nt=pe.el().querySelector(".vjs-progress-holder");if(!Nt)return;const Ft=function(Wt){Wt.preventDefault(),Wt.stopPropagation();const Xt=Nt.getBoundingClientRect(),Sn=Wt.clientX-Xt.left,Nn=Math.max(0,Math.min(1,Sn/Xt.width)),On=pe.duration();if(isNaN(On)||On<=0)return!1;let Yn=Nn*On;if(jt){const Or=St(jt,Yn);Or&&Math.abs(Yn-Or.time)<.5&&(Yn=Or.time)}try{pe.addClass("vjs-seeking"),Me(Yn);const Or=!pe.paused();Or&&pe.pause(),He.currentTime=Yn,pe.currentTime(Yn);const Mr=function(){Or&&pe.play(),pe.off("seeked",Mr)};pe.on("seeked",Mr),setTimeout(()=>{Ki()},500)}catch{pe.removeClass("vjs-seeking")}return!1};Nt.onclick=null,Nt._clickHandler&&Nt.removeEventListener("click",Nt._clickHandler),Nt._clickHandler=Ft,Nt.addEventListener("click",Ft);const cn=()=>{const Wt=()=>{try{const Xt=pe.buffered(),Sn=pe.duration();if(!Xt||!Sn)return;const Nn=pe.el().querySelector(".vjs-load-progress");if(!Nn)return;Nn.innerHTML="";for(let On=0;On<Xt.length;On++){const Yn=Xt.start(On)/Sn*100,Or=(Xt.end(On)-Xt.start(On))/Sn*100,Mr=document.createElement("div");Mr.className="vjs-load-progress-segment",Mr.style.left=Yn+"%",Mr.style.width=Or+"%",Nn.appendChild(Mr)}}catch{}};pe.on("progress",Wt)},mn=document.createElement("style");mn.textContent=`
      .video-js.vjs-seeking .vjs-loading-spinner {
        display: block;
        opacity: 0.8;
        visibility: visible;
      }
      
      .video-js .vjs-progress-holder:hover {
        cursor: pointer;
        height: 6px;
      }
      
      .video-js .vjs-play-progress {
        background-color: generate-color;
      }
      
      .video-js .vjs-time-tooltip {
        padding: 2px 5px;
        background-color: #000;
        border-radius: 3px;
      }
      
     
      .video-js .vjs-load-progress-segment {
        background-color: rgba(255, 255, 255, 0);
      }
    `,pe.el().appendChild(mn),cn()})},io=pe=>{if(pe==null||isNaN(pe)||pe<0)return"0:00";if(pe>=3600){const St=Math.floor(pe/3600),jt=Math.floor(pe%3600/60),Nt=Math.floor(pe%60);return`${St}:${jt.toString().padStart(2,"0")}:${Nt.toString().padStart(2,"0")}`}const He=Math.floor(pe/60),et=Math.floor(pe%60);return`${He}:${et.toString().padStart(2,0)}`},xa=(pe,He)=>{!pe||!He.chapters||!He.chapters.length||pe.ready(()=>{const et=pe.duration();if(!et)return;let St=pe.el().querySelector(".vjs-chapter-markers");if(!St){St=document.createElement("div"),St.className="vjs-chapter-markers",St.style.position="absolute",St.style.bottom="34px",St.style.width="100%",St.style.height="3px",St.style.pointerEvents="none";const jt=pe.el().querySelector(".vjs-progress-control");jt&&jt.appendChild(St)}St.innerHTML="",He.chapters.forEach(jt=>{const Nt=document.createElement("div");Nt.className="vjs-chapter-marker",Nt.style.position="absolute",Nt.style.height="100%",Nt.style.width="2px",Nt.style.backgroundColor="rgba(255, 255, 255, 0.5)",Nt.style.left=`${jt.time/et*100}%`,St.appendChild(Nt)})})},[ri,Ds]=w.useState([]),ao=async()=>{try{const pe=await vt().get("/course/category/");pe.data&&Ds(pe.data)}catch{}};w.useEffect(()=>{var et;const pe=setTimeout(()=>{i(!1)},3e3);if(!((et=Vt())==null?void 0:et.user_id)){Cn.remove("access_token"),Cn.remove("refresh_token"),Se("/");return}return Hn(),Ce(),ao(),()=>clearTimeout(pe)},[]),w.useEffect(()=>{const pe=localStorage.getItem("user_cart");if(pe)try{const et=JSON.parse(pe);q(et);const St=et.reduce((jt,Nt)=>{const Ft=typeof Nt.price=="string"?parseFloat(Nt.price):Nt.price;return jt+(isNaN(Ft)?0:Ft)},0);F(St)}catch{}const He=localStorage.getItem("cart_id");He&&je(He)},[]),w.useEffect(()=>{(async()=>{var He;try{if(!((He=Vt())==null?void 0:He.user_id))return;const St=localStorage.getItem("user_cart");if(St)try{const jt=JSON.parse(St);q(jt);const Nt=jt.reduce((Ft,cn)=>{const mn=typeof cn.price=="string"?parseFloat(cn.price):cn.price;return Ft+(isNaN(mn)?0:mn)},0);F(Nt)}catch{}else{const jt=localStorage.getItem("cart_id");if(jt){const Nt=await vt().get(`/course/cart-list/${jt}/`);if(Nt.data&&Array.isArray(Nt.data)){const Ft=Nt.data.map(mn=>({id:mn.course.id,title:mn.course.title,price:parseFloat(mn.price).toFixed(2),image:mn.course.image,level:mn.course.level,cartId:jt}));q(Ft),localStorage.setItem("user_cart",JSON.stringify(Ft));const cn=Ft.reduce((mn,Wt)=>{const Xt=typeof Wt.price=="string"?parseFloat(Wt.price):Wt.price;return mn+(isNaN(Xt)?0:parseFloat(Xt))},0);F(cn)}}}}catch{}})()},[]),w.useEffect(()=>{(async()=>{var jt;const He=(jt=Vt())==null?void 0:jt.user_id;if(!He)return;let et=localStorage.getItem("cart_id");const St=`user_${He}`;(!et||!et.includes(He))&&(et=St,localStorage.setItem("cart_id",et),je(et));try{const Nt=await vt().get(`/course/cart-list/${et}/`);if(Nt.data&&Array.isArray(Nt.data)){const Ft=Nt.data.map(mn=>({id:mn.course.id,title:mn.course.title,price:parseFloat(mn.price).toFixed(2),image:mn.course.image,level:mn.course.level}));q(Ft);const cn=Ft.reduce((mn,Wt)=>{const Xt=typeof Wt.price=="string"?parseFloat(Wt.price):Wt.price;return mn+(isNaN(Xt)?0:parseFloat(Xt))},0);F(cn)}}catch{}})()},[(bt=Vt())==null?void 0:bt.user_id]),w.useEffect(()=>{var et;const pe=new URLSearchParams(window.location.search);if(pe.get("payment")==="success"){dt().fire({icon:"success",title:"Payment Successful!",text:"Your course enrollment is complete. You can now access your courses."});const St=window.location.pathname;window.history.replaceState({},document.title,St),pe.get("order")&&(Hn(),q([]),(et=Vt())!=null&&et.user_id&&(localStorage.removeItem("user_cart"),_a()))}},[]);const[si,va]=w.useState("all"),[_r,Si]=w.useState("newest"),[Ur,Ci]=w.useState(""),[Xi,Ti]=w.useState("all"),ts=()=>{if(!Array.isArray(t))return[];let pe=[...t];if(Ur){const He=Ur.toLowerCase();pe=pe.filter(et=>{var St,jt;return((St=et.title)==null?void 0:St.toLowerCase().includes(He))||((jt=et.description)==null?void 0:jt.toLowerCase().includes(He))})}return si!=="all"&&(pe=pe.filter(He=>si==="published"&&He.platform_status==="Published"||si==="draft"&&He.platform_status!=="Published")),x!=="all"&&(pe=pe.filter(He=>He.category_id===x)),_r==="newest"?pe.sort((He,et)=>new Date(et.date||et.created_at||0)-new Date(He.date||He.created_at||0)):_r==="oldest"?pe.sort((He,et)=>new Date(He.date||He.created_at||0)-new Date(et.date||et.created_at||0)):_r==="title_asc"?pe.sort((He,et)=>(He.title||"").localeCompare(et.title||"")):_r==="title_desc"&&pe.sort((He,et)=>(et.title||"").localeCompare(He.title||"")),pe},Qi=async pe=>{if(window.confirm("Are you sure you want to delete this course?"))try{await vt().delete(`/teacher/course/${pe}/`),dt().fire({icon:"success",title:"Course deleted"}),Hn()}catch{dt().fire({icon:"error",title:"Failed to delete course"})}},ki=pe=>{Ut({id:pe.id,title:pe.title||"",price:pe.price||"",level:pe.level||"",category:pe.category_id||""}),le(!0)},_a=async()=>{try{const pe=localStorage.getItem("cart_id");if(!pe)return;for(const He of M)await vt().delete(`/course/cart-item-delete/${pe}/${He.id}/`);await Bo(),dt().fire({icon:"success",title:"Cart cleared"})}catch{dt().fire({icon:"error",title:"Failed to clear cart"})}},Bo=async(pe=!1)=>{var He;try{const et=(He=Vt())==null?void 0:He.user_id;if(!et)return;let St=localStorage.getItem("cart_id");if(!St||pe){const Nt=new Date().getTime(),Ft=Math.random().toString(36).substring(2,8);St=`cart_${Nt}_${Ft}_${et}`,localStorage.setItem("cart_id",St),je(St)}const jt=await vt().get(`/course/cart-list/${St}/`);if(jt.data&&Array.isArray(jt.data)){const Nt=jt.data.map(cn=>({id:cn.course.id,title:cn.course.title,price:parseFloat(cn.price).toFixed(2),image:cn.course.image,level:cn.course.level,cartItemId:cn.id}));q(Nt);const Ft=Nt.reduce((cn,mn)=>{const Wt=typeof mn.price=="string"?parseFloat(mn.price):mn.price;return cn+(isNaN(Wt)?0:parseFloat(Wt))},0);F(Ft)}else q([]),F(0)}catch{}},gs=()=>{G(!1),re(!0)};t.filter(pe=>pe.course&&pe.course.level==="Beginner"),t.filter(pe=>pe.course&&pe.course.level==="Intermediate"),t.filter(pe=>pe.course&&pe.course.level==="Advanced");const Ce=async()=>{var pe;try{const He=(pe=Vt())==null?void 0:pe.user_id;if(!He)return;const et=await vt().get(`/student/${He}/progress/`);if(et.data&&Array.isArray(et.data)){const St={};et.data.forEach(jt=>{St[jt.course_id]={percentage:jt.progress||0,completed_lectures:jt.completed_lectures||0,total_lectures:jt.total_lectures||0}}),fe(St)}}catch{}};w.useEffect(()=>()=>{yn.current&&clearTimeout(yn.current),Jt.current&&b&&Ki()},[b]);const at=pe=>pe?(pe=pe.toLowerCase(),pe==="pdf"?"file-pdf":["doc","docx"].includes(pe)?"file-word":["xls","xlsx"].includes(pe)?"file-excel":["ppt","pptx"].includes(pe)?"file-powerpoint":["jpg","jpeg","png","gif"].includes(pe)?"file-image":["mp3","wav","ogg"].includes(pe)?"file-audio":["mp4","mov","avi"].includes(pe)?"file-video":["zip","rar","7z"].includes(pe)?"file-archive":"file"):"file",Xe=pe=>{if(pe==null||isNaN(pe))return"Unknown size";if(pe===0)return"0 KB";const He=["KB","MB","GB","TB"];if(pe<1024)return"1 KB";const et=pe/1024,St=Math.floor(Math.log(et)/Math.log(1024));let jt=0;return St===1?jt=1:St>=2&&(jt=2),`${(et/Math.pow(1024,St)).toFixed(jt)} ${He[St]}`};return w.useEffect(()=>{async function pe(){try{const He=await vt().get("/user/appearance-settings/");He.data&&He.data.dark_mode!==void 0&&Fe(He.data.dark_mode)}catch{}}pe()},[]),o.jsxs("div",{style:{display:"flex",minHeight:"100vh"},children:[o.jsx(Fu,{sidebarCollapsed:a}),o.jsxs("div",{style:{flex:1,marginLeft:a?"80px":"270px",transition:"margin-left 0.3s ease",paddingTop:"60px"},children:[o.jsx("div",{style:{position:"fixed",top:0,left:a?"80px":"270px",width:`calc(100% - ${a?"80px":"270px"})`,zIndex:2e3,transition:"left 0.3s, width 0.3s"},children:o.jsx(Yi,{sidebarCollapsed:a,toggleSidebar:js,children:o.jsxs("button",{className:"btn btn-secondary",onClick:gs,style:{marginLeft:"auto"},children:["Cart (",M.length,")"]})})}),o.jsxs("div",{style:{padding:"20px"},children:[o.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[o.jsx("h3",{children:"My Courses"}),o.jsxs(Mt,{variant:"primary",onClick:()=>le(!0),children:[o.jsx("i",{className:"fas fa-plus me-2"})," Create Course"]})]}),o.jsx("div",{className:"mb-4",children:o.jsxs(Cs,{children:[o.jsx(An,{md:3,className:"mb-3 mb-md-0",children:o.jsxs(qe.Group,{children:[o.jsx(qe.Label,{children:"Filter by Category"}),o.jsxs(qe.Select,{value:x,onChange:pe=>_(pe.target.value),className:Ie?"bg-dark text-white border-secondary":"",children:[o.jsx("option",{value:"all",children:"All Categories"}),ri.map(pe=>o.jsx("option",{value:pe.id.toString(),children:pe.title},pe.id))]})]})}),o.jsx(An,{md:3,className:"mb-3 mb-md-0",children:o.jsxs(qe.Group,{children:[o.jsx(qe.Label,{children:"Filter by Status"}),o.jsxs(qe.Select,{value:si,onChange:pe=>va(pe.target.value),className:Ie?"bg-dark text-white border-secondary":"",children:[o.jsx("option",{value:"all",children:"All Statuses"}),o.jsx("option",{value:"published",children:"Published"}),o.jsx("option",{value:"draft",children:"Draft"})]})]})}),o.jsx(An,{md:3,className:"mb-3 mb-md-0",children:o.jsxs(qe.Group,{children:[o.jsx(qe.Label,{children:"Sort By"}),o.jsxs(qe.Select,{value:_r,onChange:pe=>Si(pe.target.value),className:Ie?"bg-dark text-white border-secondary":"",children:[o.jsx("option",{value:"newest",children:"Newest First"}),o.jsx("option",{value:"oldest",children:"Oldest First"}),o.jsx("option",{value:"title_asc",children:"Title (A-Z)"}),o.jsx("option",{value:"title_desc",children:"Title (Z-A)"})]})]})}),o.jsx(An,{md:3,children:o.jsxs(qe.Group,{children:[o.jsx(qe.Label,{children:"Search"}),o.jsx(qe.Control,{type:"text",placeholder:"Search courses...",value:Ur,onChange:pe=>Ci(pe.target.value),className:Ie?"bg-dark text-white border-secondary":""})]})})]})}),o.jsxs(Tt,{show:te,onHide:()=>{le(!1),Ut({title:"",price:"",level:"",category:""})},centered:!0,backdrop:"static",children:[o.jsx(Tt.Header,{closeButton:!0,children:o.jsx(Tt.Title,{children:At.id?"Edit Course":"Create Course"})}),o.jsx(Tt.Body,{children:o.jsxs(qe,{onSubmit:async pe=>{pe.preventDefault();try{const He=new FormData;He.append("title",At.title),He.append("price",At.price),He.append("level",At.level),At.category&&He.append("category",At.category),pe.target.image.files[0]&&He.append("image",pe.target.image.files[0]),At.id?(await vt().put(`teacher/course-update/${Vt().teacher_id}/${At.id}/`,He,{headers:{"Content-Type":"multipart/form-data"}}),dt().fire({icon:"success",title:"Course updated successfully"})):(await vt().post("teacher/course-create/",He,{headers:{"Content-Type":"multipart/form-data"}}),dt().fire({icon:"success",title:"Course created successfully"})),le(!1),Ut({title:"",price:"",level:"",category:""}),Hn()}catch{dt().fire({icon:"error",title:At.id?"Failed to update course.":"Failed to create course."})}},children:[o.jsxs(qe.Group,{className:"mb-3",children:[o.jsxs(qe.Label,{children:["Course Title ",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsx(qe.Control,{type:"text",value:At.title,onChange:pe=>Ut({...At,title:pe.target.value}),required:!0})]}),o.jsxs(qe.Group,{className:"mb-3",children:[o.jsxs(qe.Label,{children:["Price ",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsx(qe.Control,{type:"number",min:"0",step:"0.01",value:At.price,onChange:pe=>Ut({...At,price:pe.target.value}),required:!0})]}),o.jsxs(qe.Group,{className:"mb-3",children:[o.jsxs(qe.Label,{children:["Level ",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsxs(qe.Select,{value:At.level,onChange:pe=>Ut({...At,level:pe.target.value}),required:!0,children:[o.jsx("option",{value:"",children:"Select Level"}),o.jsx("option",{value:"Beginner",children:"Beginner"}),o.jsx("option",{value:"Intermediate",children:"Intermediate"}),o.jsx("option",{value:"Advanced",children:"Advanced"})]})]}),o.jsxs(qe.Group,{className:"mb-3",children:[o.jsx(qe.Label,{children:"Category (optional)"}),o.jsxs("div",{className:"d-flex",children:[o.jsxs(qe.Select,{value:At.category,onChange:pe=>Ut({...At,category:pe.target.value}),style:{flex:1},children:[o.jsx("option",{value:"",children:"None"}),ri.map(pe=>o.jsx("option",{value:pe.id,children:pe.title},pe.id))]}),o.jsx(Mt,{variant:"outline-primary",className:"ms-2",onClick:()=>wt(!0),children:"Add Category"})]})]}),Oe&&o.jsxs(qe.Group,{className:"mb-3",children:[o.jsx(qe.Label,{children:"New Category"}),o.jsxs("div",{className:"d-flex",children:[o.jsx(qe.Control,{type:"text",value:be,onChange:pe=>ue(pe.target.value),placeholder:"Category name"}),o.jsx(Mt,{variant:"success",className:"ms-2",onClick:async()=>{if(be.trim())try{const pe=await vt().post("course/category/",{title:be});Ds([...ri,pe.data]),Ut({...At,category:pe.data.id}),ue(""),wt(!1)}catch{dt().fire({icon:"error",title:"Failed to add category."})}},children:"Save"}),o.jsx(Mt,{variant:"outline-secondary",className:"ms-2",onClick:()=>wt(!1),children:"Cancel"})]})]}),o.jsxs(qe.Group,{className:"mb-3",children:[o.jsx(qe.Label,{children:"Course Image"}),o.jsx(qe.Control,{type:"file",name:"image",accept:"image/*"})]}),o.jsxs("div",{className:"d-flex justify-content-end",children:[o.jsx(Mt,{variant:"secondary",className:"me-2",onClick:()=>{le(!1),Ut({title:"",price:"",level:"",category:""})},children:"Cancel"}),o.jsx(Mt,{variant:"primary",type:"submit",children:At.id?"Update":"Create"})]})]})})]}),n?o.jsx("div",{className:"text-center py-5",children:o.jsx(Yr,{animation:"border",role:"status",children:o.jsx("span",{className:"visually-hidden",children:"Loading... "})})}):ts().length===0?o.jsxs("div",{className:"text-center py-5",children:[o.jsx("p",{children:"No courses found."}),o.jsxs(Mt,{variant:"primary",onClick:zs,children:[o.jsx("i",{className:"fas fa-plus me-2"})," Create Your First Course"]})]}):o.jsx(Cs,{children:ts().map(pe=>o.jsx(An,{md:6,lg:4,xl:3,className:"mb-4",children:o.jsxs($t,{className:`h-100 ${Ie?"bg-dark text-white":""}`,onClick:()=>Se(`/teacher/courses/${pe.id}`),style:{cursor:"pointer"},children:[o.jsx("div",{className:"position-relative",children:o.jsxs("div",{className:"course-image",style:{height:"180px",backgroundColor:"#fffff",display:"flex",justifyContent:"center",alignItems:"center"},children:[pe.image?o.jsx("img",{src:pe.image,alt:"course",style:{width:"100%",height:"100%",objectFit:"cover"}}):o.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#4286f4",color:"white",fontSize:"32px",fontWeight:"bold"},children:pe.title&&typeof pe.title=="string"?pe.title.charAt(0).toUpperCase():"?"}),o.jsx("div",{style:{position:"absolute",top:"10px",right:"10px"},children:o.jsx(rr,{bg:pe.platform_status==="Published"?"success":"secondary",children:pe.platform_status||"Draft"})})]})}),o.jsxs($t.Body,{className:"d-flex flex-column",children:[o.jsx($t.Title,{className:"text-truncate",children:pe.title}),o.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[o.jsx(rr,{bg:"info",children:pe.level}),o.jsx("small",{children:zt(pe.date).format("MMM D, YYYY")})]}),o.jsxs("div",{className:"d-flex justify-content-between align-items-center mt-auto",children:[o.jsxs("span",{className:"fw-bold",children:["R",parseFloat(pe.price||0).toFixed(2)]}),o.jsxs("div",{className:"d-flex gap-2",children:[o.jsx(Mt,{variant:"outline-primary",size:"sm",style:{width:38,height:38,display:"flex",alignItems:"center",justifyContent:"center"},onClick:He=>{He.stopPropagation(),ki(pe)},children:o.jsx("i",{className:"fas fa-edit"})}),o.jsx(Mt,{size:"sm",variant:Ie?"dark":"light",style:{width:38,height:38,display:"flex",alignItems:"center",justifyContent:"center"},onClick:async He=>{He.stopPropagation(),await as(pe)},children:o.jsx("i",{className:"fas fa-external-link-alt"})}),o.jsx(Mt,{variant:"outline-danger",size:"sm",style:{width:38,height:38,display:"flex",alignItems:"center",justifyContent:"center"},onClick:He=>{He.stopPropagation(),Qi(pe.id)},children:o.jsx("i",{className:"fas fa-trash"})})]})]})]})]})},pe.id))})]})]}),c&&h&&o.jsxs("div",{className:`lecture-popup ${Ie?"dark":""}`,style:{position:"fixed",top:"60px",left:a?"80px":"270px",width:`calc(100% - ${a?"80px":"270px"})`,height:"calc(100vh - 60px)",backgroundColor:"#fff",color:Ie?"#e0e0e0":"inherit",zIndex:1e3,display:"flex",overflow:"hidden",transition:"left 0.3s ease, width 0.3s ease"},children:[o.jsxs("div",{style:{flex:2,display:"flex",flexDirection:"column",height:"100%",overflow:"hidden",borderRight:Ie?"1px solid #333":"1px solid #ddd"},children:[o.jsx("div",{ref:Ir,style:{width:"100%",height:"60%",backgroundColor:"#000",position:"relative",overflow:"hidden"},children:ce&&o.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.7)",zIndex:10},children:o.jsx("div",{className:"spinner-border text-light",role:"status",children:o.jsx("span",{className:"visually-hidden",children:"Loading..."})})})}),o.jsxs("div",{style:{display:"flex",borderBottom:Ie?"1px solid #333":"1px solid #ddd",backgroundColor:Ie?"#1e1e1e":"#f8f8f8",flexShrink:0},children:[o.jsx("div",{onClick:()=>ke("description"),style:{padding:"10px 20px",cursor:"pointer",fontWeight:Re==="description"?"bold":"normal",color:Ie?"#e0e0e0":"inherit"},children:"Description"}),o.jsx("div",{onClick:()=>ke("resources"),style:{padding:"10px 20px",cursor:"pointer",fontWeight:Re==="resources"?"bold":"normal",color:Ie?"#e0e0e0":"inherit"},children:"Resources"})]}),o.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"20px",backgroundColor:Ie?"#121212":"#fff",color:Ie?"#e0e0e0":"inherit"},children:[Re==="description"&&b&&o.jsxs("div",{children:[o.jsx("h4",{children:b.title||"Lecture Title"}),o.jsx("p",{children:b.description||"Lecture description goes here..."})]}),Re==="resources"&&o.jsxs("div",{children:[o.jsxs("div",{className:"d-flex justify-content-between align-items-center",style:{marginBottom:16},children:[o.jsx("h4",{style:{margin:0},children:"Resources"}),o.jsxs(Mt,{size:"sm",variant:"primary",onClick:()=>it(!0),children:[o.jsx(Vd,{})," Add Resource"]})]}),nt?o.jsx("div",{className:"d-flex justify-content-center my-4",children:o.jsx("div",{className:"spinner-border text-primary",role:"status",children:o.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):We.length>0?o.jsx("div",{className:"list-group mt-3",children:We.map(pe=>{var He;return o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 16px",marginBottom:"8px",borderRadius:"4px",cursor:"pointer",backgroundColor:Ie?"#2a2a2a":"#fff",border:Ie?"1px solid #333":"1px solid #ddd",color:Ie?"#e0e0e0":"inherit",transition:"background-color 0.2s ease"},className:"list-group-item-action",children:[o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("i",{className:`fas fa-${at(pe.file_type)} me-3 text-primary`}),o.jsxs("div",{children:[o.jsx("h6",{className:"mb-0",style:{color:Ie?"#fff":"inherit"},children:pe.title}),o.jsxs("small",{style:{color:Ie?"#aaa":"#6c757d"},children:[((He=pe.file_type)==null?void 0:He.toUpperCase())||"Unknown","  ",Xe(pe.file_size)]})]})]}),o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx(Mt,{size:"sm",variant:"light",style:{marginLeft:8,color:"#fff",background:"#4285f4",border:"1px solid #fff"},onClick:et=>{et.stopPropagation(),_t(pe),Be(!0)},children:o.jsx(Sx,{})}),o.jsx(Mt,{size:"sm",variant:"danger",style:{marginLeft:8,color:"#fff",background:"#dc3545",border:"1px solid #fff"},onClick:async et=>{if(et.stopPropagation(),window.confirm("Are you sure you want to delete this resource?"))try{await vt().delete(`resources/${pe.id}/`),dt().fire({icon:"success",title:"Resource deleted"}),Gi(h.id,b.id)}catch{dt().fire({icon:"error",title:"Failed to delete resource."})}},children:o.jsx(np,{})})]})]},pe.id)})}):b?o.jsxs("div",{className:"alert mt-3",style:{backgroundColor:Ie?"#2a3f54":"#cff4fc",color:Ie?"#8fcaff":"#055160",borderColor:Ie?"#1f3146":"#b6effb"},children:[o.jsx("i",{className:"fas fa-info-circle me-2"}),"No resources available for this lecture."]}):o.jsx("p",{style:{color:Ie?"#aaa":"#6c757d"},className:"mt-3",children:"Select a lecture to view its resources."})]}),!b&&Re==="description"&&o.jsx("p",{children:"Select a lecture to view its description."})]})]}),o.jsxs("div",{style:{width:"400px",backgroundColor:Ie?"#121212":"#fff",color:Ie?"#e0e0e0":"inherit",display:"flex",flexDirection:"column",height:"100%",position:"relative"},children:[o.jsxs("div",{style:{padding:"15px 20px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("div",{style:{fontWeight:"bold",fontSize:"18px"},children:h.title}),o.jsxs(Mt,{size:"sm",variant:"primary",onClick:vn,children:[o.jsx(Vd,{})," Add Lecture"]}),o.jsx("button",{onClick:Ns,style:{background:"none",border:"none",fontSize:"18px",fontWeight:"bold",cursor:"pointer",color:"#666",marginLeft:8},children:""})]}),o.jsx(ap,{onDragEnd:Fo,children:o.jsx(pc,{droppableId:"lectures-droppable",children:pe=>o.jsxs("ul",{ref:pe.innerRef,...pe.droppableProps,style:{listStyle:"none",padding:"10px 0",margin:0,minHeight:60},children:[m.map((He,et)=>{const St=(b==null?void 0:b.id)===He.id;return o.jsx(fc,{draggableId:He.id.toString(),index:et,children:jt=>o.jsxs("li",{ref:jt.innerRef,...jt.draggableProps,style:{...jt.draggableProps.style,cursor:"pointer",padding:"12px 20px",backgroundColor:St?"#4285f4":Ie?"#121212":"transparent",color:St?"rgb(255, 255, 255)":Ie?"#e0e0e0":"#333",borderBottom:Ie?"1px solid #333":"1px solid #ddd",display:"flex",alignItems:"center",borderRadius:St?"5px":"0",margin:St?"0 5px":"0",transition:"all 0.2s ease"},onClick:()=>os(He),children:[o.jsx("span",{...jt.dragHandleProps,style:{marginRight:10,cursor:"grab"},children:o.jsx(CE,{size:18})}),o.jsx("span",{style:{fontSize:"14px",flex:1},children:He.title}),St&&o.jsxs(o.Fragment,{children:[o.jsx(Mt,{size:"sm",variant:"light",style:{marginLeft:8,color:"#fff",background:"#4285f4",border:"1px solid #fff"},onClick:Nt=>{Nt.stopPropagation(),wn(He)},children:o.jsx(Sx,{})}),o.jsx(Mt,{size:"sm",variant:"danger",style:{marginLeft:8,color:"#fff",background:"#dc3545",border:"1px solid #fff"},onClick:async Nt=>{if(Nt.stopPropagation(),window.confirm("Are you sure you want to delete this lecture?"))try{await vt().delete(`/teacher/lecture/${He.id}/`),dt().fire({icon:"success",title:"Lecture deleted"}),zr(h.id),y(null)}catch{dt().fire({icon:"error",title:"Failed to delete lecture."})}},children:o.jsx(np,{})})]})]})},He.id)}),pe.placeholder]})})}),m.length===0&&o.jsxs("div",{style:{padding:24,textAlign:"center"},children:[o.jsx("p",{children:"No lectures yet for this course."}),o.jsxs(Mt,{variant:"primary",onClick:vn,children:[o.jsx(Vd,{})," Add Lecture"]})]})]})]}),o.jsxs(Tt,{show:Le,onHide:()=>Ue(!1),centered:!0,backdrop:"static",children:[o.jsx(Tt.Header,{closeButton:!0,children:o.jsx(Tt.Title,{children:Ke?"Edit Lecture":"Add Lecture"})}),o.jsx(Tt.Body,{children:o.jsxs(qe,{onSubmit:async pe=>{pe.preventDefault();const He=new FormData;He.append("title",pe.target.title.value),He.append("description",pe.target.description.value),pe.target.video.files[0]&&He.append("video",pe.target.video.files[0]);try{Ke?await vt().put(`/teacher/lecture/${Ke.id}/`,He,{headers:{"Content-Type":"multipart/form-data"}}):await vt().post(`/teacher/course/${h.id}/lecture-create/`,He,{headers:{"Content-Type":"multipart/form-data"}}),Ue(!1),zr(h.id)}catch{dt().fire({icon:"error",title:Ke?"Failed to save lecture.":"Failed to add lecture."})}},children:[o.jsxs(qe.Group,{className:"mb-3",children:[o.jsx(qe.Label,{children:"Lecture Title"}),o.jsx(qe.Control,{type:"text",defaultValue:(Ke==null?void 0:Ke.title)||"",name:"title",required:!0})]}),o.jsxs(qe.Group,{className:"mb-3",children:[o.jsx(qe.Label,{children:"Description"}),o.jsx(qe.Control,{as:"textarea",rows:3,defaultValue:(Ke==null?void 0:Ke.description)||"",name:"description"})]}),o.jsxs(qe.Group,{className:"mb-3",children:[o.jsx(qe.Label,{children:"Video File"}),o.jsx(qe.Control,{type:"file",accept:"video/*",name:"video"}),(Ke==null?void 0:Ke.video)&&o.jsxs("div",{className:"mt-2",style:{fontSize:"0.95em"},children:[o.jsx("strong",{children:"Current Video:"})," ",Ke.video.split("/").pop()]})]}),o.jsxs("div",{className:"d-flex justify-content-end",children:[o.jsx(Mt,{variant:"secondary",className:"me-2",onClick:()=>Ue(!1),children:"Cancel"}),o.jsx(Mt,{variant:"primary",type:"submit",children:Ke?"Save":"Add"})]})]})})]}),o.jsxs(Tt,{show:Ze||ae,onHide:()=>{it(!1),Be(!1),_t(null)},centered:!0,backdrop:"static",children:[o.jsx(Tt.Header,{closeButton:!0,children:o.jsx(Tt.Title,{children:Ye?"Edit Resource":"Add Resource"})}),o.jsx(Tt.Body,{children:o.jsxs(qe,{onSubmit:async pe=>{pe.preventDefault();const He=new FormData;He.append("title",pe.target.title.value),pe.target.resource_file.files[0]&&He.append("file",pe.target.resource_file.files[0]);try{Ye?await vt().put(`teacher/course/${h.id}/${b.id}/resources/${Ye.id}/`,He,{headers:{"Content-Type":"multipart/form-data"}}):await vt().post(`teacher/course/${h.id}/${b.id}/resources/${Ye.id}/`,He,{headers:{"Content-Type":"multipart/form-data"}}),it(!1),Be(!1),_t(null),Gi(h.id,b.id)}catch{dt().fire({icon:"error",title:Ye?"Failed to update resource.":"Failed to add resource."})}},children:[o.jsxs(qe.Group,{className:"mb-3",children:[o.jsx(qe.Label,{children:"Resource Name"}),o.jsx(qe.Control,{type:"text",name:"title",defaultValue:(Ye==null?void 0:Ye.title)||"",required:!0})]}),o.jsxs(qe.Group,{className:"mb-3",children:[o.jsx(qe.Label,{children:"Resource File"}),o.jsx(qe.Control,{type:"file",name:"resource_file"}),(Ye==null?void 0:Ye.file_url)&&o.jsxs("div",{className:"mt-2",style:{fontSize:"0.95em"},children:[o.jsx("strong",{children:"Current File:"})," ",o.jsx("a",{href:Ye.file_url,target:"_blank",rel:"noopener noreferrer",children:Ye.file_url.split("/").pop()})]})]}),o.jsxs("div",{className:"d-flex justify-content-end",children:[o.jsx(Mt,{variant:"secondary",className:"me-2",onClick:()=>{it(!1),Be(!1),_t(null)},children:"Cancel"}),o.jsx(Mt,{variant:"primary",type:"submit",children:Ye?"Save":"Add"})]})]})})]}),o.jsx("style",{children:`
.video-js.vjs-youtube-style .vjs-volume-panel {
  display: flex;
  align-items: center;
  margin-right: 0;
}

.video-js.vjs-youtube-style .vjs-volume-control {
  width: 0;
  transition: width 0.2s;
  height: 100%;
  backgroundcolor: rgba(0, 0, 0, 0)!important;
}

.video-js.vjs-youtube-style .vjs-volume-panel:hover .vjs-volume-control,
.video-js.vjs-youtube-style .vjs-volume-panel:focus .vjs-volume-control,
.video-js.vjs-youtube-style .vjs-volume-panel.vjs-hover .vjs-volume-control {
  visibility: visible;
  opacity: 1;
  width: 50px;
  height: 100%;
  backgroundcolor: rgba(0, 0, 0, 0)!important;
}

.video-js.vjs-youtube-style .vjs-volume-level {
  background-color: white;
  height: 100%;
}

.video-js.vjs-youtube-style .vjs-volume-panel {
  display: flex;
  align-items: center;
  margin-right: 0;
}

.video-js.vjs-youtube-style .vjs-volume-control {
  width: 0;
  transition: width 0.2s;
  height: 100%;
  display: flex;
  align-items: center;
  margin-top:0.7px; 
}

.video-js.vjs-youtube-style .vjs-volume-bar {
  margin: 0 auto;
  height: 3px;
}

.video-js.vjs-youtube-style .vjs-volume-panel:hover .vjs-volume-control,
.video-js.vjs-youtube-style .vjs-volume-panel:focus .vjs-volume-control,
.video-js.vjs-youtube-style .vjs-volume-panel.vjs-hover .vjs-volume-control {
  visibility: visible;
  opacity: 1;
  width: 50px;
  height: 100%;
}  .dark-mode .modal-content {
    background-color: #222 !important;
    color: #fff !important;
  }
  .dark-mode .modal-content .form-control,
  .dark-mode .modal-content .form-select,
  .dark-mode .modal-content input,
  .dark-mode .modal-content textarea,
  .dark-mode .modal-content select {
    background-color: #fff !important;
    color: #222 !important;
    border-color: #bbb !important;
  }

.swal2-container, /* For SweetAlert2 */
.toast-container, /* For react-toastify */
#toast-container, /* For some other libraries */
.custom-toast-container { /* For your own Toast */
  z-index: 3000 !important;
}
`})]})}const h_e=[{label:"Courses",icon:o.jsx("i",{className:"bi bi-book"}),path:"/teacher/courses"},{label:"Quizzes",icon:o.jsx("i",{className:"bi bi-question-circle"}),path:"/teacher/quiz"},{label:"Home",icon:o.jsx("i",{className:"bi bi-house"}),path:"/teacher/dashboard"},{label:"Messages",icon:o.jsx("i",{className:"bi bi-chat-dots"}),path:"/teacher/messages"}],f_e=t=>{Cn.remove("access_token"),Cn.remove("refresh_token"),t("/")},p_e=[{label:"Assignments",icon:o.jsx("i",{className:"bi bi-pencil"}),path:"/teacher/assignments"},{label:"Settings",icon:o.jsx("i",{className:"bi bi-gear"}),path:"/teacher/settings"},{label:"Logout",icon:o.jsx("i",{className:"bi bi-box-arrow-right"}),action:"logout"}];function m_e(){const t=Po(),e=mr(),[n,r]=w.useState(!1),s=w.useRef();w.useEffect(()=>{function a(l){n&&s.current&&!s.current.contains(l.target)&&r(!1)}return n&&document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[n]);const i=(a,l="mobile-nav-btn",c=!0)=>a.map(u=>{const h=t.pathname.startsWith(u.path);return o.jsxs("button",{onClick:()=>{u.action==="logout"?f_e(e):u.path&&(c&&r(!1),e(u.path))},className:`${l}${h?" active":""}`,"aria-label":u.label,type:"button",children:[o.jsx("span",{className:"mobile-nav-icon",children:u.icon}),o.jsx("span",{className:"mobile-nav-label",children:u.label})]},u.path||u.label)});return o.jsxs(o.Fragment,{children:[o.jsx("nav",{className:"mobile-nav-bar",children:o.jsxs("div",{className:"mobile-nav-scroll",children:[i(h_e),o.jsxs("button",{className:`mobile-nav-btn${n?" active":""}`,"aria-label":"More",type:"button",onClick:()=>r(!0),children:[o.jsx("span",{className:"mobile-nav-icon",children:o.jsx("i",{className:"bi bi-three-dots"})}),o.jsx("span",{className:"mobile-nav-label",children:"More"})]})]})}),o.jsx("div",{ref:s,className:`mobile-nav-slide-menu${n?" open":""}`,children:o.jsxs("div",{className:"mobile-nav-slide-content",children:[i(p_e,"mobile-nav-btn",!0),o.jsxs("button",{className:"mobile-nav-btn","aria-label":"Back",type:"button",onClick:()=>r(!1),children:[o.jsx("span",{className:"mobile-nav-icon",children:o.jsx("i",{className:"bi bi-chevron-left"})}),o.jsx("span",{className:"mobile-nav-label",children:"Back"})]})]})}),o.jsx("style",{children:`
        .mobile-nav-bar {
          position: fixed;
          left: 0;
          bottom: 0;
          width: 100vw;
          height: 64px;
          background: #232323;
          border-top: 1.5px solid #23272f;
          display: flex;
          justify-content: center;
          align-items: center;
          z-index: 2000;
          box-shadow: 0 -2px 16px rgba(0,0,0,0.10);
          border-radius: 18px 18px 0 0;
          padding: 0;
          overflow: hidden;
        }
        .mobile-nav-scroll {
          display: flex;
          flex-direction: row;
          width: 100vw;
          height: 100%;
          justify-content: space-evenly;
        }
        .mobile-nav-btn {
          background: none!important;
          border: none;
          outline: none;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          color: #bdbdbd;
          font-size: 13px;
          font-weight: 500;
          min-width: 64px;
          height: 100%;
          transition: color 0.18s;
          position: relative;
          cursor: pointer;
          padding: 0 12px;
          border-radius: 10px;
        }
        .mobile-nav-btn.active {
          color: #4F8CFF;
          font-weight: 700;
        }
        .mobile-nav-btn.active .mobile-nav-icon {
          color: #4F8CFF;
        }
        .mobile-nav-btn:active {
          background: #232323;
        }
        .mobile-nav-icon {
          font-size: 20px;
          margin-bottom: 2px;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: color 0.18s;
        }
        .mobile-nav-label {
          font-size: 11px;
          margin-top: 1px;
          letter-spacing: 0.1em;
        }
        /* Slide-in More Menu */
        .mobile-nav-slide-menu {
          position: fixed;
          right: 0;
          bottom: 0;
          width: 100vw;
          height: 64px;
          background: #232323;
          border-top: 1.5px solid #23272f;
          border-radius: 18px 18px 0 0;
          z-index: 2101;
          display: flex;
          align-items: center;
          pointer-events: none;
          transform: translateX(100%);
          transition: transform 0.35s cubic-bezier(.77,0,.18,1);
          overflow: hidden;
        }
        .mobile-nav-slide-menu.open {
          transform: translateX(0%);
          pointer-events: auto;
        }
        .mobile-nav-slide-content {
          display: flex;
          flex-direction: row;
          width: 100vw;
          height: 100%;
          justify-content: space-evenly;
          align-items: center;
        }
        /* Overlay removed */
        @media (min-width: 700px) {
          .mobile-nav-bar, .mobile-nav-slide-menu {
            display: none !important;
          }
        }
      `})]})}const mi="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTYgMjU2Ij48Y2lyY2xlIGN4PSIxMjgiIGN5PSIxMjgiIHI9IjEyMCIgZmlsbD0iI2U5ZWNlZiIvPjxjaXJjbGUgY3g9IjEyOCIgY3k9IjExMCIgcj0iNDAiIGZpbGw9IiM2Yzc1N2QiLz48cGF0aCBkPSJNMjE0LDIxMEE5MCw5MCwwLDAsMSwxMjgsMTcwYTkwLDkwLDAsMCwxLTg2LDQwYTkwLDkwLDAsMCwwLDg2LDQwQTkwLDkwLDAsMCwwLDIxNCwyMTBaIiBmaWxsPSIjNmM3NTdkIi8+PC9zdmc+",g_e=()=>{var Qe,ot,Ke,xt;const[t,e]=w.useState([]),[n,r]=w.useState(null),[s,i]=w.useState([]),[a,l]=w.useState(""),[c,u]=w.useState(!1),[h,f]=w.useState(!1),[m,g]=w.useState([]),[b,y]=w.useState(""),x=w.useRef(null),_=vt(),S=mr(),[T,D]=w.useState(!1),j=w.useRef(null),[A,O]=w.useState(null),[L,P]=w.useState(!0),[N,U]=w.useState(!1),[M,q]=w.useState(!1),[E,G]=w.useState(nn.createRef()),[Q,re]=w.useState(nn.createRef()),[ee,Z]=w.useState(nn.createRef()),[K,F]=w.useState(null),[W,me]=w.useState(null),ne=20*1024*1024,[ge,we]=w.useState(window.innerWidth<700),[je,Re]=w.useState(!1),ke=()=>{P(!L)},We=async()=>{try{u(!0);const Be=(await _.get("/conversations/")).data.map(Ye=>(Ye.other_participant||(Ye.other_participant={}),Ye));e(Be)}catch{dt().fire({icon:"error",title:"Failed to load conversations"})}finally{u(!1)}},Je=async()=>{try{const ae=await _.get("/users/profiles/");g(ae.data)}catch{dt().fire({icon:"error",title:"Failed to load users"})}},nt=async()=>{var ae;try{const Be=(ae=Vt())==null?void 0:ae.user_id;if(!Be)return;const Ye=await _.get(`/user/profile/${Be}/`);O(Ye.data)}catch(Be){Be.response&&Be.response.status===401&&S("/")}},ct=ae=>{r(ae),Me(ae.id),ge&&Re(!0)},X=()=>{ge&&Re(!1)},Me=async ae=>{if(ae)try{u(!0);const Be=await _.get(`/conversations/${ae}/`);i(Be.data.messages||[]),e(Ye=>Ye.map(_t=>_t.id===ae?{..._t,unread_count:0}:_t))}catch{dt().fire({icon:"error",title:"Failed to load messages"})}finally{u(!1)}},ye=async ae=>{if(n)try{await _.post("/typing-status/",{conversation_id:n.id,is_typing:ae})}catch{}},se=()=>{T||(D(!0),ye(!0)),j.current&&clearTimeout(j.current),j.current=setTimeout(()=>{D(!1),ye(!1)},2e3)},ie=ae=>{const Be=ae.target.files[0];if(Be){if(!Be.type.startsWith("image/")){dt().fire({icon:"error",title:"Please select an image file"});return}if(Be.size>ne){dt().fire({icon:"error",title:"File size exceeds 20MB limit"});return}F(Be)}},fe=ae=>{const Be=ae.target.files[0];if(!Be)return;if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain","application/rtf"].includes(Be.type)){dt().fire({icon:"error",title:"Please select a valid document file (PDF, DOC, DOCX, TXT, RTF)"});return}if(Be.size>ne){dt().fire({icon:"error",title:"File size exceeds 20MB limit"});return}F(Be)},Te=ae=>{const Be=ae.target.files[0];if(Be){if(Be.size>ne){dt().fire({icon:"error",title:"File size exceeds 20MB limit"});return}F(Be)}},he=async ae=>{if(ae.preventDefault(),!(!a.trim()&&!K||!n))try{D(!1),j.current&&clearTimeout(j.current),ye(!1);const Be=new FormData;Be.append("conversation_id",n.id),a.trim()&&Be.append("content",a),K&&Be.append("file",K);const Ye=`temp-${Date.now()}`,_t={id:Ye,content:a||"",is_sender:!0,sender_name:"You",created_at:new Date().toISOString()};K&&(K.type.startsWith("image/")?_t.attachment=URL.createObjectURL(K):(_t.tempAttachment=!0,_t.tempFileName=K.name)),i(le=>[...le,_t]),ce(n.id,a||`[File: ${(K==null?void 0:K.name)||"attachment"}]`);const Ze=a,it=K;l(""),F(null);const te=await _.post("/messages/",Be,{headers:{"Content-Type":"multipart/form-data"}});i(le=>le.map(be=>be.id===Ye?te.data:be)),We()}catch{dt().fire({icon:"error",title:"Failed to send message"}),i(Ye=>Ye.filter(_t=>!_t.id.toString().startsWith("temp-")))}},ce=(ae,Be)=>{e(Ye=>Ye.map(_t=>_t.id===ae?{..._t,last_message:{content:Be,timestamp:new Date().toISOString(),sender_name:"You"},updated_at:new Date().toISOString()}:_t))},ve=async ae=>{try{u(!0);const Be=await _.post("/conversations/",{participants:[ae.user_id],message:""});e(Ye=>[Be.data,...Ye]),r(Be.data),Me(Be.data.id),f(!1),setTimeout(()=>{const Ye=document.getElementById("message-input");Ye&&Ye.focus()},100)}catch{dt().fire({icon:"error",title:"Failed to start conversation"})}finally{u(!1)}};w.useEffect(()=>{x.current&&(x.current.scrollTop=x.current.scrollHeight)},[s]),w.useEffect(()=>{We(),nt()},[]),w.useEffect(()=>{const ae=setInterval(()=>{n&&Me(n.id),We()},5e3);return()=>clearInterval(ae)},[n]);const Ie=ae=>ae?ae.image&&!ae.image.includes("null")?ae.image.startsWith("/media/")?`${bi}${ae.image}`:ae.image.startsWith("/")?`${bi}/media${ae.image}`:ae.image:ae.profile_picture&&!ae.profile_picture.includes("null")?ae.profile_picture.startsWith("/media/")?`${bi}${ae.profile_picture}`:ae.profile_picture.startsWith("/")?`${bi}/media${ae.profile_picture}`:ae.profile_picture:ae.profile_image&&!ae.profile_image.includes("null")?ae.profile_image.startsWith("/media/")?`${bi}${ae.profile_image}`:ae.profile_image.startsWith("/")?`${bi}/media${ae.profile_image}`:ae.profile_image:mi:mi,Fe=ae=>ae?ae.name&&ae.name.trim()?ae.name:ae.full_name&&ae.full_name.trim()?ae.full_name:ae.username||"Unknown User":"Unknown User",Se=b?m.filter(ae=>{const Be=ae.full_name||"",Ye=ae.username||"",_t=b.toLowerCase();return Be.toLowerCase().includes(_t)||Ye.toLowerCase().includes(_t)}):m,ut=()=>o.jsxs("div",{className:"d-flex align-items-center text-muted mb-2 ps-5",children:[o.jsxs("div",{className:"typing-indicator",children:[o.jsx("span",{className:"dot"}),o.jsx("span",{className:"dot"}),o.jsx("span",{className:"dot"})]}),o.jsx("span",{className:"ms-2 small",children:"typing..."})]});w.useEffect(()=>{document.querySelectorAll(".conversation-avatar").forEach(Be=>{const Ye=Be.getAttribute("data-real-src");if(Ye&&Ye!==mi){const _t=new Image;_t.onload=()=>{Be.src=Ye},_t.onerror=()=>{Be.src=mi},_t.src=Ye}})},[t]),w.useEffect(()=>{const ae=()=>{const Ye=document.body.classList.contains("dark-mode")||localStorage.getItem("appearanceSettings")&&JSON.parse(localStorage.getItem("appearanceSettings")).darkMode;U(Ye)};ae();const Be=()=>{ae()};return window.addEventListener("storage",Be),()=>{window.removeEventListener("storage",Be)}},[]),w.useEffect(()=>{const ae=Be=>{M&&!Be.target.closest(".position-relative")&&q(!1)};return document.addEventListener("click",ae),()=>{document.removeEventListener("click",ae)}},[M]),w.useEffect(()=>{const ae=()=>{const Be=window.innerWidth<700;we(Be),!Be&&je&&Re(!1)};return window.addEventListener("resize",ae),()=>window.removeEventListener("resize",ae)},[je]);const pt=(ae,Be)=>{const Ye=ae.startsWith("http")?ae:`${ua}${ae}`;window.open(Ye,"_blank")},Le=ae=>ae?ae.startsWith("http")?ae:`${ua}${ae.startsWith("/")?"":"/"}${ae}`:"",Ue=(ae,Be)=>{const Ye=ae.startsWith("http")?ae:`${ua}${ae.startsWith("/")?"":"/"}${ae}`,_t=document.createElement("a");_t.href=Ye,_t.download=Be||"download",document.body.appendChild(_t),_t.click(),setTimeout(()=>{document.body.removeChild(_t)},100)};return o.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:N?"#121212":"white"},children:[!ge&&o.jsx(Fu,{sidebarCollapsed:L}),o.jsxs("div",{style:{flex:1,marginLeft:ge?0:L?"80px":"270px",transition:"margin-left 0.3s ease",backgroundColor:N?"#121212":"white",color:N?"white":"black"},children:[!ge&&o.jsx(Yi,{sidebarCollapsed:L,toggleSidebar:ke}),o.jsxs(Xd,{fluid:!0,className:ge?"p-0":"py-4",children:[o.jsx("style",{jsx:"true",children:`
            .typing-indicator {
              display: inline-flex;
              align-items: center;
            }
            .typing-indicator .dot {
              display: inline-block;
              width: 7px;
              height: 7px;
              border-radius: 50%;
              background-color: #6c757d;
              margin-right: 3px;
              animation: typing 1s infinite ease-in-out;
            }
            .typing-indicator .dot:nth-child(1) {
              animation-delay: 0s;
            }
            .typing-indicator .dot:nth-child(2) {
              animation-delay: 0.2s;
            }
            .typing-indicator .dot:nth-child(3) {
              animation-delay: 0.4s;
            }
            @keyframes typing {
              0%,
              60%,
              100% {
                transform: translateY(0);
              }
              30% {
                transform: translateY(-5px);
              }
            }

            /* iMessage styled bubbles */
            .message-bubble {
              position: relative;
              border-radius: 18px;
              padding: 8px 12px;
              width: auto; /* Auto width instead of max-width */
              margin-bottom: 0;
              white-space: pre-wrap; /* Changed from normal to pre-wrap */
              word-break: normal; /* Keep normal to prevent breaking in middle of words */
              overflow-wrap: normal; /* Changed from break-word to normal */
              display: inline-block;
              text-align: left;
              line-height: 1.4;
            }

            .sender-bubble {
              background-color: #0b84ff; /* iMessage blue */
              color: white;
              border-top-right-radius: 4px;
            }

            .receiver-bubble {
              background-color: ${N?"#2c2c2e":"#e5e5ea"};
              color: ${N?"#ffffff":"#212529"};
              border-top-left-radius: 4px;
              letter-spacing: normal;
              white-space: pre-wrap; /* Explicitly set for receiver bubbles */
              word-break: normal; /* Explicitly set for receiver bubbles */
            }

            /* Message container */
            .message-container {
              display: flex;
              flex-direction: column;
              margin-bottom: 10px;
              max-width: 75%;
              word-wrap: normal;
            }

            /* Message info row below bubble */
            .message-info {
              display: flex;
              align-items: center;
              margin-top: 2px;
              font-size: 0.7rem;
              color: ${N?"#aaaaaa":"#8e8e93"};
              padding: 0 4px;
            }

            .sender-info {
              justify-content: flex-end;
            }

            .message-time {
              margin-right: 4px;
            }
            .dark-mode .list-group-item {
              background-color: #2c2c2e !important;
              color: white !important;
            }

            .dark-mode .list-group-item.active {
              background-color: #0d6efd !important;
              border-color: #0d6efd !important;
              color: #fff !important;
            }

            .dark-mode .list-group-item:hover:not(.active) {
              background-color: #3c3c3e !important;
              color: #fff !important;
            }
            .message-status {
              display: flex;
              align-items: center;
              margin-left: 4px;
            }

            .status-pending {
              color: #8e8e93;
            }

            .status-delivered {
              color: #8e8e93;
            }

            .status-read {
              color: #0b84ff;
            }

            /* Background color for messages area */
            .messages-wrapper {
              background-color: ${N?"#1c1c1e":"#f5f5f7"};
            }

            .attachment-menu-item {
              position: absolute;
              width: 40px;
              height: 40px;
              border-radius: 50%;
              display: flex;
              align-items: center;
              justify-content: center;
              color: white;
              box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
              transform: translateY(0);
              opacity: 0;
              pointer-events: none;
              transition: all 0.3s cubic-bezier(0.18, 0.89, 0.32, 1.28);
            }

            .attachment-menu-item.show {
              opacity: 1;
              pointer-events: all;
            }

            .attachment-menu-item:nth-child(1).show {
              transform: translateY(-60px);
            }

            .attachment-menu-item:nth-child(2).show {
              transform: translateY(-110px);
            }

            .attachment-menu-item:nth-child(3).show {
              transform: translateY(-160px);
            }

            .attachment-item-label {
              position: absolute;
              background-color: rgba(0, 0, 0, 0.7);
              color: white;
              padding: 2px 8px;
              border-radius: 4px;
              font-size: 12px;
              left: 50px;
              white-space: nowrap;
              opacity: 0;
              transition: opacity 0.2s;
            }

            .attachment-menu-item:hover .attachment-item-label {
              opacity: 1;
            }

            .file-attachment-preview {
              margin-bottom: 10px;
            }

            .file-card {
              background-color: ${N?"#1c1c1e":"#eaeaea"};
              border-radius: 8px;
              padding: 10px;
              display: flex;
              align-items: center;
              margin-bottom: 8px;
              box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            }

            .file-icon {
              width: 40px;
              height: 40px;
              border-radius: 5px;
              background-color: #094d90;
              color: white;
              display: flex;
              flex-direction: column;
              justify-content: center;
              align-items: center;
              margin-right: 12px;
              position: relative;
            }

            .file-type-icon {
              font-size: 16px;
              margin-bottom: 2px;
            }

            .file-extension {
              font-size: 7px;
              text-transform: uppercase;
              font-weight: bold;
            }

            .file-details {
              flex: 1;
              overflow: hidden;
            }

            .file-name {
              font-size: 14px;
              font-weight: 500;
              white-space: nowrap;
              overflow: hidden;
              text-overflow: ellipsis;
              color: ${N?"#fff":"#000"};
            }

            .file-size {
              font-size: 12px;
              color: ${N?"#aaa":"#666"};
            }

            .image-preview {
              width: 40px;
              height: 40px;
              margin-right: 12px;
              border-radius: 5px;
              overflow: hidden;
            }

            .preview-image {
              width: 100%;
              height: 100%;
              object-fit: cover;
            }

            .remove-file-btn {
              width: 24px;
              height: 24px;
              border-radius: 50%;
              background-color: transparent;
              border: none;
              color: ${N?"#999":"#666"};
              display: flex;
              align-items: center;
              justify-content: center;
              cursor: pointer;
              padding: 0;
              margin-left: 8px;
            }

            .remove-file-btn:hover {
              background-color: ${N?"#333":"#ddd"};
            }

            .timestamp {
              font-size: 11px;
              color: ${N?"#aaa":"#999"};
              text-align: right;
              margin-top: 2px;
            }

            .message-attachment-preview {
              margin-bottom: 5px;
              max-width: 100%;
            }

            .attachment-image-container {
              width: 100%;
              overflow: hidden;
            }

            .attachment-image {
              max-width: 200px;
              height: auto;
              border-radius: 8px;
              display: block;
            }

            .file-message-card {
              display: flex;
              align-items: center;
              background-color: ${N?"#333333":"#f0f0f0"};
              border-radius: 8px;
              padding: 8px;
              margin-bottom: 5px;
            }

            .file-message-icon {
              width: 36px;
              height: 36px;
              display: flex;
              flex-direction: column;
              align-items: center;
              justify-content: center;
              background-color: #094d90;
              border-radius: 4px;
              margin-right: 8px;
              color: white;
            }

            .file-message-icon i {
              font-size: 14px;
              margin-bottom: 2px;
            }

            .file-message-ext {
              font-size: 6px;
              text-transform: uppercase;
              font-weight: bold;
            }

            .file-message-name {
              font-size: 12px;
              font-weight: 500;
              white-space: nowrap;
              overflow: hidden;
              text-overflow: ellipsis;
              max-width: 120px;
            }

            .attachment-image-container {
              position: relative;
              width: 100%;
              overflow: hidden;
              cursor: pointer;
            }

            .attachment-image-container:hover .image-overlay {
              opacity: 1;
            }

            .image-overlay {
              position: absolute;
              top: 0;
              left: 0;
              width: 100%;
              height: 100%;
              background-color: rgba(0, 0, 0, 0.5);
              display: flex;
              align-items: center;
              justify-content: center;
              opacity: 0;
              transition: opacity 0.2s;
              border-radius: 8px;
            }

            .image-overlay i {
              color: white;
              font-size: 24px;
            }

            .file-action-btn {
              width: 32px;
              height: 32px;
              border-radius: 50%;
              background-color: ${N?"#444":"#e6e6e6"};
              border: none;
              color: ${N?"#fff":"#333"};
              display: flex;
              align-items: center;
              justify-content: center;
              cursor: pointer;
              margin-left: 8px;
              transition: background-color 0.2s;
            }

            .file-action-btn:hover {
              background-color: ${N?"#666":"#ccc"};
            }

            .file-message-name {
              font-size: 12px;
              font-weight: 500;
              white-space: nowrap;
              overflow: hidden;
              text-overflow: ellipsis;
              max-width: 120px;
              margin-right: 8px;
            }
            .file-action-buttons {
              display: flex;
              margin-left: 8px;
            }
            .file-action-buttons {
              display: flex;
              margin-left: 8px;
              opacity: 0;
              transition: opacity 0.2s ease;
            }

            .file-message-card:hover .file-action-buttons {
              opacity: 1;
            }

            .file-action-btn {
              width: 32px;
              height: 32px;
              border-radius: 50%;
              background-color: ${N?"#444":"#e6e6e6"};
              border: none;
              color: ${N?"#fff":"#333"};
              display: flex;
              align-items: center;
              justify-content: center;
              cursor: pointer;
              margin-left: 4px;
              transition:
                background-color 0.2s,
                transform 0.1s;
            }

            .file-action-btn:hover {
              background-color: ${N?"#666":"#ccc"};
              transform: scale(1.1);
            }
            .message-input-container {
              width: 100%;
              margin-top: 0;
            }

            .file-attachment-preview {
              width: 100%;
              margin-bottom: 12px;
            }

            /* Make the Form use flex column layout */
            .d-flex.flex-column {
              display: flex;
              flex-direction: column;
            }
          `}),ge?o.jsx("div",{className:"h-100",children:!je||!n?o.jsxs($t,{className:"h-100 shadow-sm mb-0",style:{backgroundColor:N?"#2c2c2e":"white",borderColor:N?"#444":"#ddd",borderRadius:0},children:[o.jsxs($t.Header,{className:"d-flex justify-content-between align-items-center text-white py-3",style:{backgroundColor:N?"#1c1c1e":"#0d6efd"},children:[o.jsx("h5",{className:"mb-0",children:"Conversations"}),o.jsx(Mt,{variant:N?"dark":"light",size:"sm",className:"rounded-circle d-flex align-items-center justify-content-center",style:{width:"32px",height:"32px",padding:0,boxShadow:"0px 2px 4px rgba(0,0,0,0.1)"},onClick:()=>{f(!0),Je()},children:o.jsx("i",{className:"fas fa-plus"})})]}),o.jsx($t.Body,{className:"p-0",style:{height:"calc(100vh - 200px)",overflowY:"auto",backgroundColor:N?"#2c2c2e":"white"},children:c&&!t.length?o.jsxs("div",{className:"text-center p-4",children:[o.jsx(Yr,{animation:"border",variant:"primary"}),o.jsx("p",{className:"mt-2 text-muted",children:"Loading conversations..."})]}):t.length===0?o.jsxs("div",{className:"text-center p-4",children:[o.jsx("i",{className:"fas fa-comments fa-2x mb-3"}),o.jsx("p",{style:{color:N?"white":"black"},children:"No conversations yet. Start a new one!"})]}):o.jsx("ul",{className:"list-group list-group-flush",children:t.map(ae=>{const Be=ae.other_participant||{},Ye=(Be==null?void 0:Be.name)||"Unknown User",_t=ae.last_message||{};return o.jsxs("li",{className:`list-group-item list-group-item-action d-flex align-items-center p-3 ${(n==null?void 0:n.id)===ae.id?"active":""}`,onClick:()=>ct(ae),style:{cursor:"pointer"},children:[o.jsxs("div",{className:"position-relative",children:[o.jsx("img",{src:Ie(Be),alt:Ye,className:"rounded-circle me-3",width:"48",height:"48",style:{objectFit:"cover"},onError:Ze=>{Ze.target.onerror=null,Ze.target.src=mi}}),ae.unread_count>0&&o.jsx(rr,{bg:"danger",pill:!0,className:"position-absolute top-0 end-0",children:ae.unread_count})]}),o.jsxs("div",{className:"flex-grow-1 overflow-hidden",children:[o.jsx("h6",{className:"mb-1 text-truncate",children:Ye}),_t.content?o.jsx("p",{className:"mb-0 small text-truncate text",children:_t.content}):o.jsx("p",{className:"mb-0 small text",children:"No messages yet"})]}),_t.timestamp&&o.jsx("small",{className:"text-muted ms-2",children:new Date(_t.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},ae.id)})})})]}):o.jsxs($t,{className:"h-100 shadow-sm",style:{backgroundColor:N?"#2c2c2e":"white",borderColor:N?"#444":"#ddd",marginBottom:"50px"},children:[o.jsxs($t.Header,{className:"d-flex align-items-center py-2 position-relative",style:{backgroundColor:N?"#1c1c1e":"#f8f9fa",color:N?"white":"black"},children:[o.jsx("div",{onClick:X,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:1,cursor:"pointer"}}),o.jsx("i",{className:"fas fa-chevron-left me-3",style:{fontSize:"16px",color:N?"white":"#0d6efd",zIndex:2,position:"relative"}}),o.jsxs("div",{className:"d-flex align-items-center mx-auto",style:{zIndex:2},children:[o.jsx("img",{src:Ie(n.other_participant),alt:((Ke=n.other_participant)==null?void 0:Ke.username)||"Unknown User",className:"rounded-circle me-2",width:"40",height:"40",style:{objectFit:"cover"},onError:ae=>{ae.target.onerror=null,ae.target.src=mi}}),o.jsxs("div",{children:[o.jsx("h5",{className:"mb-0",children:Fe(n.other_participant)}),((xt=n.other_participant)==null?void 0:xt.username)&&o.jsxs("small",{className:"text-muted",children:["@",n.other_participant.username]})]})]})]}),o.jsx($t.Body,{className:"p-3 messages-wrapper",style:{height:"calc(100vh - 220px)",overflowY:"auto"},ref:x,children:c&&!s.length?o.jsxs("div",{className:"text-center p-4",children:[o.jsx(Yr,{animation:"border",variant:"primary"}),o.jsx("p",{className:"mt-2 text-muted",children:"Loading messages..."})]}):s.length===0?o.jsxs("div",{className:"text-center p-5 text",children:[o.jsx("i",{className:"fas fa-paper-plane fa-3x mb-3"}),o.jsx("p",{children:"No messages yet. Send one to start the conversation!"})]}):o.jsxs(o.Fragment,{children:[s.map(ae=>{var Be;return o.jsxs("div",{className:`d-flex ${ae.is_sender?"justify-content-end":"justify-content-start"} mb-2`,children:[!ae.is_sender&&o.jsx("img",{src:Ie(n.other_participant),alt:((Be=n.other_participant)==null?void 0:Be.username)||"Unknown User",className:"rounded-circle me-2 align-self-start",width:"32",height:"32",style:{objectFit:"cover"},onError:Ye=>{Ye.target.onerror=null,Ye.target.src=mi}}),o.jsxs("div",{className:`message-container ${ae.is_sender?"sender-container":"receiver-container"}`,children:[o.jsxs("div",{className:`message-bubble ${ae.is_sender?"sender-bubble":"receiver-bubble"}`,children:[ae.attachment&&o.jsx("div",{className:"message-attachment-preview mb-2",children:ae.attachment.toLowerCase().match(/\.(jpeg|jpg|png|gif|webp|bmp)$/)?o.jsxs("div",{className:"attachment-image-container",onClick:()=>me(Le(ae.attachment)),children:[o.jsx("img",{src:Le(ae.attachment),alt:"Attachment",className:"attachment-image",style:{maxWidth:"200px",borderRadius:"8px",cursor:"pointer"}}),o.jsx("div",{className:"image-overlay",children:o.jsx("i",{className:"fas fa-search-plus"})})]}):o.jsxs("div",{className:"file-message-card",children:[o.jsxs("div",{className:"file-message-icon",children:[o.jsx("i",{className:ae.attachment.toLowerCase().endsWith(".pdf")?"fas fa-file-pdf":ae.attachment.toLowerCase().match(/\.(doc|docx)$/)?"fas fa-file-word":ae.attachment.toLowerCase().match(/\.(txt|rtf)$/)?"fas fa-file-alt":"fas fa-file"}),o.jsx("span",{className:"file-message-ext",children:ae.attachment.split(".").pop().toUpperCase()})]}),o.jsx("div",{className:"file-message-name",children:ae.attachment.split("/").pop()}),o.jsxs("div",{className:"file-action-buttons",children:[o.jsx("button",{className:"file-action-btn",onClick:Ye=>{Ye.stopPropagation(),pt(ae.attachment,ae.attachment.split("/").pop())},"aria-label":"Open file",title:"Open file",children:o.jsx("i",{className:"fas fa-external-link-alt"})}),o.jsx("button",{className:"file-action-btn",onClick:Ye=>{Ye.stopPropagation(),Ue(ae.attachment,ae.attachment.split("/").pop())},"aria-label":"Download file",title:"Download file",children:o.jsx("i",{className:"fas fa-download"})})]})]})}),ae.content]}),o.jsx("div",{className:`message-info ${ae.is_sender?"sender-info":""}`,children:o.jsx("span",{className:"message-time",children:ae.created_at?new Date(ae.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})})]}),ae.is_sender&&o.jsx("img",{src:Ie(A)||mi,alt:(A==null?void 0:A.username)||"You",className:"rounded-circle ms-2 align-self-start",width:"32",height:"32",style:{objectFit:"cover"},onError:Ye=>{Ye.target.onerror=null,Ye.target.src=mi}})]},ae.id)}),n.typing_status&&o.jsx(ut,{})]})}),o.jsx($t.Footer,{className:"p-3",style:{backgroundColor:N?"#2c2c2e":"white",borderTop:N?"1px solid #444":"1px solid #ddd"},children:o.jsxs(qe,{onSubmit:he,className:"d-flex flex-column",children:[K&&o.jsx("div",{className:"file-attachment-preview",children:o.jsxs("div",{className:"file-card",children:[K.type.startsWith("image/")?o.jsx("div",{className:"image-preview",children:o.jsx("img",{src:URL.createObjectURL(K),alt:K.name,className:"preview-image"})}):o.jsxs("div",{className:"file-icon",children:[o.jsx("div",{className:"file-type-icon",children:o.jsx("i",{className:K.type.startsWith("application/pdf")?"fas fa-file-pdf":K.name.match(/\.(doc|docx)$/i)?"fas fa-file-word":K.name.match(/\.(txt)$/i)?"fas fa-file-alt":"fas fa-file"})}),o.jsx("div",{className:"file-extension",children:K.name.split(".").pop().toUpperCase()})]}),o.jsxs("div",{className:"file-details",children:[o.jsx("div",{className:"file-name",children:K.name}),o.jsx("div",{className:"file-size",children:K.size<1024?`${K.size} B`:K.size<1024*1024?`${(K.size/1024).toFixed(1)} KB`:`${(K.size/(1024*1024)).toFixed(1)} MB`})]}),o.jsx("button",{type:"button",onClick:()=>F(null),className:"remove-file-btn",children:o.jsx("i",{className:"fas fa-times"})})]})}),o.jsxs("div",{className:"message-input-container position-relative",children:[o.jsx(Mt,{type:"button",variant:N?"dark":"primary",style:{position:"absolute",left:"5px",top:"5px",borderRadius:"50%",backgroundColor:"rgba(0,0,0,0)",borderColor:"rgba(0,0,0,0)",color:"rgb(2, 0, 125)",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",padding:0,boxShadow:"none",zIndex:2},onClick:()=>q(!M),children:o.jsx("i",{className:"fas fa-paperclip",style:{fontSize:"14px"}})}),o.jsx(qe.Control,{id:"message-input",type:"text",value:a,onChange:ae=>{l(ae.target.value),se()},placeholder:"Type your message...","aria-label":"Type your message",style:{backgroundColor:"white",color:"black",borderColor:N?"#555":"#ced4da",borderRadius:"24px",paddingRight:"50px",paddingLeft:"50px",height:"46px"}}),o.jsx(Mt,{type:"submit",variant:N?"dark":"primary",disabled:!a.trim()&&!K,style:{position:"absolute",right:"5px",top:"5px",zIndex:10,borderRadius:"50%",backgroundColor:"rgba(0,0,0,0)",borderColor:"rgba(0,0,0,0)",color:"rgb(2, 0, 125)",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",padding:0,boxShadow:"none"},children:o.jsx("i",{className:"fas fa-paper-plane",style:{fontSize:"14px"}})}),o.jsxs("div",{className:"attachment-menu",children:[o.jsxs("div",{className:`attachment-menu-item ${M?"show":""}`,style:{backgroundColor:"#0b84ff",bottom:"20px"},onClick:()=>{Q.current&&Q.current.click(),q(!1)},children:[o.jsx("i",{className:"fas fa-image"}),o.jsx("span",{className:"attachment-item-label",children:"Image"}),o.jsx("input",{type:"file",ref:Q,style:{display:"none"},accept:"image/*",onChange:ie})]}),o.jsxs("div",{className:`attachment-menu-item ${M?"show":""}`,style:{backgroundColor:"#28a745",bottom:"20px"},onClick:()=>{ee.current&&ee.current.click(),q(!1)},children:[o.jsx("i",{className:"fas fa-file-alt"}),o.jsx("span",{className:"attachment-item-label",children:"Document"}),o.jsx("input",{type:"file",ref:ee,style:{display:"none"},accept:".pdf,.doc,.docx,.txt,.rtf",onChange:fe})]}),o.jsxs("div",{className:`attachment-menu-item ${M?"show":""}`,style:{backgroundColor:"#ffc107",bottom:"20px"},onClick:()=>{E.current&&E.current.click(),q(!1)},children:[o.jsx("i",{className:"fas fa-file"}),o.jsx("span",{className:"attachment-item-label",children:"Any File"}),o.jsx("input",{type:"file",ref:E,style:{display:"none"},onChange:Te})]})]})]})]})})]})}):o.jsxs(Cs,{className:"h-100",children:[o.jsx(An,{md:4,lg:3,className:"mb-4",children:o.jsxs($t,{className:"h-100 shadow-sm",style:{backgroundColor:N?"#2c2c2e":"white",borderColor:N?"#444":"#ddd"},children:[o.jsxs($t.Header,{className:"d-flex justify-content-between align-items-center text-white py-3",style:{backgroundColor:N?"#1c1c1e":"#0d6efd"},children:[o.jsx("h5",{className:"mb-0",children:"Conversations"}),o.jsx(Mt,{variant:N?"dark":"light",size:"sm",className:"rounded-circle d-flex align-items-center justify-content-center",style:{width:"32px",height:"32px",padding:0,boxShadow:"0px 2px 4px rgba(0,0,0,0.1)"},onClick:()=>{f(!0),Je()},children:o.jsx("i",{className:"fas fa-plus"})})]}),o.jsx($t.Body,{className:"p-0",style:{maxHeight:"70vh",overflowY:"auto",backgroundColor:N?"#2c2c2e":"white"},children:c&&!t.length?o.jsxs("div",{className:"text-center p-4",children:[o.jsx(Yr,{animation:"border",variant:"primary"}),o.jsx("p",{className:"mt-2 text-muted",children:"Loading conversations..."})]}):t.length===0?o.jsxs("div",{className:"text-center p-4",children:[o.jsx("i",{className:"fas fa-comments fa-2x mb-3"}),o.jsx("p",{style:{color:N?"white":"black"},children:"No conversations yet. Start a new one!"})]}):o.jsx("ul",{className:"list-group list-group-flush",children:t.map(ae=>{const Be=ae.other_participant||{},Ye=(Be==null?void 0:Be.name)||"Unknown User",_t=ae.last_message||{};return o.jsxs("li",{className:`list-group-item list-group-item-action d-flex align-items-center p-3 ${(n==null?void 0:n.id)===ae.id?"active":""}`,onClick:()=>ct(ae),style:{cursor:"pointer"},children:[o.jsxs("div",{className:"position-relative",children:[o.jsx("img",{src:Ie(Be),alt:Ye,className:"rounded-circle me-3",width:"48",height:"48",style:{objectFit:"cover"},onError:Ze=>{Ze.target.onerror=null,Ze.target.src=mi}}),ae.unread_count>0&&o.jsx(rr,{bg:"danger",pill:!0,className:"position-absolute top-0 end-0",children:ae.unread_count})]}),o.jsxs("div",{className:"flex-grow-1 overflow-hidden",children:[o.jsx("h6",{className:"mb-1 text-truncate",children:Ye}),_t.content?o.jsx("p",{className:"mb-0 small text-truncate text",children:_t.content}):o.jsx("p",{className:"mb-0 small text",children:"No messages yet"})]}),_t.timestamp&&o.jsx("small",{className:"text-muted ms-2",children:new Date(_t.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},ae.id)})})})]})}),o.jsx(An,{md:8,lg:9,children:o.jsx($t,{className:"h-100 shadow-sm",style:{backgroundColor:N?"#2c2c2e":"white",borderColor:N?"#444":"#ddd"},children:n?o.jsxs(o.Fragment,{children:[o.jsx($t.Header,{className:"d-flex justify-content-between align-items-center py-2",style:{backgroundColor:N?"#1c1c1e":"#f8f9fa",color:N?"white":"black"},children:o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("img",{src:Ie(n.other_participant),alt:((Qe=n.other_participant)==null?void 0:Qe.username)||"Unknown User",className:"rounded-circle me-2",width:"40",height:"40",style:{objectFit:"cover"},onError:ae=>{ae.target.onerror=null,ae.target.src=mi}}),o.jsxs("div",{children:[o.jsx("h5",{className:"mb-0",children:Fe(n.other_participant)}),((ot=n.other_participant)==null?void 0:ot.username)&&o.jsxs("small",{className:"text-muted",children:["@",n.other_participant.username]})]})]})}),o.jsx($t.Body,{className:"p-3 messages-wrapper",style:{height:"60vh",overflowY:"auto"},ref:x,children:c&&!s.length?o.jsxs("div",{className:"text-center p-4",children:[o.jsx(Yr,{animation:"border",variant:"primary"}),o.jsx("p",{className:"mt-2 text-muted",children:"Loading messages..."})]}):s.length===0?o.jsxs("div",{className:"text-center p-5 text",children:[o.jsx("i",{className:"fas fa-paper-plane fa-3x mb-3"}),o.jsx("p",{children:"No messages yet. Send one to start the conversation!"})]}):o.jsxs(o.Fragment,{children:[s.map(ae=>{var Be;return o.jsxs("div",{className:`d-flex ${ae.is_sender?"justify-content-end":"justify-content-start"} mb-2`,children:[!ae.is_sender&&o.jsx("img",{src:Ie(n.other_participant),alt:((Be=n.other_participant)==null?void 0:Be.username)||"Unknown User",className:"rounded-circle me-2 align-self-start",width:"32",height:"32",style:{objectFit:"cover"},onError:Ye=>{Ye.target.onerror=null,Ye.target.src=mi}}),o.jsxs("div",{className:`message-container ${ae.is_sender?"sender-container":"receiver-container"}`,children:[o.jsxs("div",{className:`message-bubble ${ae.is_sender?"sender-bubble":"receiver-bubble"}`,children:[ae.attachment&&o.jsx("div",{className:"message-attachment-preview mb-2",children:ae.attachment.toLowerCase().match(/\.(jpeg|jpg|png|gif|webp|bmp)$/)?o.jsxs("div",{className:"attachment-image-container",onClick:()=>me(Le(ae.attachment)),children:[o.jsx("img",{src:Le(ae.attachment),alt:"Attachment",className:"attachment-image",style:{maxWidth:"200px",borderRadius:"8px",cursor:"pointer"}}),o.jsx("div",{className:"image-overlay",children:o.jsx("i",{className:"fas fa-search-plus"})})]}):o.jsxs("div",{className:"file-message-card",children:[o.jsxs("div",{className:"file-message-icon",children:[o.jsx("i",{className:ae.attachment.toLowerCase().endsWith(".pdf")?"fas fa-file-pdf":ae.attachment.toLowerCase().match(/\.(doc|docx)$/)?"fas fa-file-word":ae.attachment.toLowerCase().match(/\.(txt|rtf)$/)?"fas fa-file-alt":"fas fa-file"}),o.jsx("span",{className:"file-message-ext",children:ae.attachment.split(".").pop().toUpperCase()})]}),o.jsx("div",{className:"file-message-name",children:ae.attachment.split("/").pop()}),o.jsxs("div",{className:"file-action-buttons",children:[o.jsx("button",{className:"file-action-btn",onClick:Ye=>{Ye.stopPropagation(),pt(ae.attachment,ae.attachment.split("/").pop())},"aria-label":"Open file",title:"Open file",children:o.jsx("i",{className:"fas fa-external-link-alt"})}),o.jsx("button",{className:"file-action-btn",onClick:Ye=>{Ye.stopPropagation(),Ue(ae.attachment,ae.attachment.split("/").pop())},"aria-label":"Download file",title:"Download file",children:o.jsx("i",{className:"fas fa-download"})})]})]})}),ae.content]}),o.jsx("div",{className:`message-info ${ae.is_sender?"sender-info":""}`,children:o.jsx("span",{className:"message-time",children:ae.created_at?new Date(ae.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})})]}),ae.is_sender&&o.jsx("img",{src:Ie(A)||mi,alt:(A==null?void 0:A.username)||"You",className:"rounded-circle ms-2 align-self-start",width:"32",height:"32",style:{objectFit:"cover"},onError:Ye=>{Ye.target.onerror=null,Ye.target.src=mi}})]},ae.id)}),n.typing_status&&o.jsx(ut,{})]})}),o.jsx($t.Footer,{className:"p-3",style:{backgroundColor:N?"#2c2c2e":"white",borderTop:N?"1px solid #444":"1px solid #ddd"},children:o.jsxs(qe,{onSubmit:he,className:"d-flex flex-column",children:[K&&o.jsx("div",{className:"file-attachment-preview",children:o.jsxs("div",{className:"file-card",children:[K.type.startsWith("image/")?o.jsx("div",{className:"image-preview",children:o.jsx("img",{src:URL.createObjectURL(K),alt:K.name,className:"preview-image"})}):o.jsxs("div",{className:"file-icon",children:[o.jsx("div",{className:"file-type-icon",children:o.jsx("i",{className:K.type.startsWith("application/pdf")?"fas fa-file-pdf":K.name.match(/\.(doc|docx)$/i)?"fas fa-file-word":K.name.match(/\.(txt)$/i)?"fas fa-file-alt":"fas fa-file"})}),o.jsx("div",{className:"file-extension",children:K.name.split(".").pop().toUpperCase()})]}),o.jsxs("div",{className:"file-details",children:[o.jsx("div",{className:"file-name",children:K.name}),o.jsx("div",{className:"file-size",children:K.size<1024?`${K.size} B`:K.size<1024*1024?`${(K.size/1024).toFixed(1)} KB`:`${(K.size/(1024*1024)).toFixed(1)} MB`})]}),o.jsx("button",{type:"button",onClick:()=>F(null),className:"remove-file-btn",children:o.jsx("i",{className:"fas fa-times"})})]})}),o.jsxs("div",{className:"message-input-container position-relative",children:[o.jsx(Mt,{type:"button",variant:N?"dark":"primary",style:{position:"absolute",left:"5px",top:"5px",borderRadius:"50%",backgroundColor:"rgba(0,0,0,0)",borderColor:"rgba(0,0,0,0)",color:"rgb(2, 0, 125)",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",padding:0,boxShadow:"none",zIndex:2},onClick:()=>q(!M),children:o.jsx("i",{className:"fas fa-paperclip",style:{fontSize:"14px"}})}),o.jsx(qe.Control,{id:"message-input",type:"text",value:a,onChange:ae=>{l(ae.target.value),se()},placeholder:"Type your message...","aria-label":"Type your message",style:{backgroundColor:"white",color:"black",borderColor:N?"#555":"#ced4da",borderRadius:"24px",paddingRight:"50px",paddingLeft:"50px",height:"46px"}}),o.jsx(Mt,{type:"submit",variant:N?"dark":"primary",disabled:!a.trim()&&!K,style:{position:"absolute",right:"5px",top:"5px",zIndex:10,borderRadius:"50%",backgroundColor:"rgba(0,0,0,0)",borderColor:"rgba(0,0,0,0)",color:"rgb(2, 0, 125)",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",padding:0,boxShadow:"none"},children:o.jsx("i",{className:"fas fa-paper-plane",style:{fontSize:"14px"}})}),o.jsxs("div",{className:"attachment-menu",children:[o.jsxs("div",{className:`attachment-menu-item ${M?"show":""}`,style:{backgroundColor:"#0b84ff",bottom:"20px"},onClick:()=>{Q.current&&Q.current.click(),q(!1)},children:[o.jsx("i",{className:"fas fa-image"}),o.jsx("span",{className:"attachment-item-label",children:"Image"}),o.jsx("input",{type:"file",ref:Q,style:{display:"none"},accept:"image/*",onChange:ie})]}),o.jsxs("div",{className:`attachment-menu-item ${M?"show":""}`,style:{backgroundColor:"#28a745",bottom:"20px"},onClick:()=>{ee.current&&ee.current.click(),q(!1)},children:[o.jsx("i",{className:"fas fa-file-alt"}),o.jsx("span",{className:"attachment-item-label",children:"Document"}),o.jsx("input",{type:"file",ref:ee,style:{display:"none"},accept:".pdf,.doc,.docx,.txt,.rtf",onChange:fe})]}),o.jsxs("div",{className:`attachment-menu-item ${M?"show":""}`,style:{backgroundColor:"#ffc107",bottom:"20px"},onClick:()=>{E.current&&E.current.click(),q(!1)},children:[o.jsx("i",{className:"fas fa-file"}),o.jsx("span",{className:"attachment-item-label",children:"Any File"}),o.jsx("input",{type:"file",ref:E,style:{display:"none"},onChange:Te})]})]})]})]})})]}):o.jsxs($t.Body,{className:"text-center p-5",style:{backgroundColor:N?"#2c2c2e":"white",color:N?"white":"black"},children:[o.jsx("i",{className:"fas fa-comments fa-4x text mb-3"}),o.jsx("p",{className:"text mb-4",children:"Select a conversation or start a new one to begin chatting."}),o.jsxs(Mt,{variant:N?"dark":"primary",onClick:()=>{f(!0),Je()},children:[o.jsx("i",{className:"fas fa-plus me-2"}),"Start a New Conversation"]})]})})})]}),o.jsxs(Tt,{show:h,onHide:()=>f(!1),size:"lg",contentClassName:N?"bg-dark text-light":"",children:[o.jsxs(Tt.Header,{style:{backgroundColor:N?"#2c2c2e":"white",borderBottom:N?"1px solid #444":"1px solid #dee2e6",color:N?"white":"black",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx(Tt.Title,{children:"Start New Conversation"}),o.jsx("button",{onClick:()=>f(!1),style:{background:"transparent",border:"none",fontSize:"1.2rem",padding:"0.25rem 0.5rem",cursor:"pointer",color:N?"#fff":"#212529",transition:"color 0.15s ease-in-out"},"aria-label":"Close",className:"custom-close-button",onMouseOver:ae=>ae.currentTarget.style.color=N?"#999":"#666",onMouseOut:ae=>ae.currentTarget.style.color=N?"#fff":"#212529",children:""})]}),o.jsxs(Tt.Body,{style:{backgroundColor:N?"#2c2c2e":"white"},children:[o.jsx(qe.Group,{className:"mb-3",children:o.jsx(qe.Control,{type:"text",placeholder:"Search users...",value:b,onChange:ae=>y(ae.target.value),style:{backgroundColor:N?"#3c3c3e":"white",color:N?"white":"black",borderColor:N?"#555":"#ced4da"}})}),o.jsx("div",{style:{maxHeight:"400px",overflowY:"auto"},children:Se.length>0?o.jsx("ul",{className:"list-group",children:Se.map(ae=>o.jsxs("li",{className:"list-group-item list-group-item-action d-flex align-items-center",style:{cursor:"pointer"},onClick:()=>ve(ae),children:[o.jsx("img",{src:Ie(ae),alt:ae.username||"User",className:"rounded-circle me-3",width:"48",height:"48",style:{objectFit:"cover"},onError:Be=>{Be.target.onerror=null,Be.target.src=mi}}),o.jsxs("div",{children:[o.jsx("h6",{className:"mb-0",children:ae.full_name||ae.username}),o.jsxs("small",{className:"text",children:["@",ae.username]})]})]},ae.user_id))}):b?o.jsxs("p",{className:"text-center text-muted",children:['No users found matching "',b,'"']}):c?o.jsxs("div",{className:"text-center p-4",children:[o.jsx(Yr,{animation:"border",variant:"primary",size:"sm"}),o.jsx("p",{className:"mt-2 text-muted",children:"Loading users..."})]}):o.jsx("p",{className:"text-center text-muted",children:"No users available"})})]})]}),o.jsxs(Tt,{show:W!==null,onHide:()=>me(null),size:"xl",centered:!0,contentClassName:N?"bg-dark":"",children:[o.jsx(Tt.Header,{style:{backgroundColor:N?"#1c1c1e":"white",borderBottom:N?"1px solid #444":"1px solid #dee2e6",color:N?"white":"black"},closeButton:!0,children:o.jsx(Tt.Title,{children:"Image Preview"})}),o.jsx(Tt.Body,{style:{backgroundColor:N?"#2c2e":"white",padding:0,textAlign:"center"},children:W&&o.jsx("img",{src:W,alt:"Full size preview",style:{maxWidth:"100%",maxHeight:"80vh",margin:"0 auto",display:"block"}})}),o.jsxs(Tt.Footer,{style:{backgroundColor:N?"#1c1c1e":"white",borderTop:N?"1px solid #444":"1px solid #dee2e6"},children:[o.jsx(Mt,{variant:"secondary",onClick:()=>me(null),children:"Close"}),o.jsx(Mt,{variant:"primary",onClick:()=>Ue(W,W.split("/").pop()),children:"Download"})]})]})]})]}),ge&&o.jsx(m_e,{})]})};function y_e(){const t=Po();return w.useEffect(()=>{const e=t.pathname==="/",n=t.pathname==="/404"||!t.pathname.match(/^\/(student|teacher|course-detail|cart|checkout|search)/);if(e||n)document.body.classList.remove("dark-mode");else try{const r=localStorage.getItem("appearanceSettings");r&&(JSON.parse(r).darkMode?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode"))}catch{}},[t.pathname]),null}function b_e(){const t=Po();return w.useEffect(()=>{gi(()=>import("./dashboardRefresh-DFLwCXyI.js"),[]).then(e=>{e.checkAndRefreshDashboard(t.pathname)}).catch(e=>{console.error("Error loading dashboard refresh utility:",e)})},[t.pathname]),null}function x_e(){const[t,e]=w.useState(0),[n,r]=w.useState([]),[s,i]=w.useState(!1),a=u=>{const h=window.location.pathname==="/",f=window.location.pathname==="/404"||document.title.includes("404")||document.body.classList.contains("not-found-page");document.body.classList.remove("dark-mode","high-contrast"),u.dark_mode&&!h&&!f&&document.body.classList.add("dark-mode"),u.high_contrast&&!h&&!f&&document.body.classList.add("high-contrast"),document.documentElement.style.fontSize=`${u.font_size||16}px`,document.body.setAttribute("data-theme",u.color_theme||"default"),document.body.setAttribute("data-density",u.density||"comfortable"),localStorage.setItem("appearanceSettings",JSON.stringify({darkMode:u.dark_mode,fontSize:u.font_size||16,highContrast:u.high_contrast,colorTheme:u.color_theme||"default",density:u.density||"comfortable"}))},l=async()=>{try{const u=Vt();if(u&&u.user_id){const f=await vt().get("user/appearance-settings/");if(f.data){a(f.data),i(!0);return}}}catch{}try{const u=localStorage.getItem("appearanceSettings");if(u){const h=JSON.parse(u);a({dark_mode:h.darkMode,font_size:h.fontSize,high_contrast:h.highContrast,color_theme:h.colorTheme,density:h.density})}}catch{}i(!0)};w.useEffect(()=>{l(),oa.get(`course/cart-list/${To()}/`).then(h=>{var f;e((f=h.data)==null?void 0:f.length)}).catch(h=>{});const u=Vt();u&&u.user_id&&vt().get(`user/profile/${u.user_id}/`).then(h=>{r(h.data)}).catch(h=>{})},[]);const c=()=>{const u=Cn.get("access_token");u&&qx(u)&&vU()};return S$({timeout:1e3*60*15,onIdle:c,debounce:500}),o.jsx(Yg.Provider,{value:[t,e],children:o.jsx(Gg.Provider,{value:[n,r],children:o.jsx(t$,{children:o.jsxs(_U,{children:[o.jsx(SU,{}),o.jsx(wU,{}),o.jsx(CU,{}),o.jsx(Y1e,{}),o.jsx(G1e,{}),o.jsx(y_e,{}),o.jsx(b_e,{}),o.jsx("div",{style:{position:"relative",userSelect:"none",overflow:"hidden"},children:o.jsxs(X9,{children:[o.jsx(lr,{path:"/",element:o.jsx(OU,{})}),o.jsx(lr,{path:"/course-detail/:slug/",element:o.jsx(Mq,{})}),o.jsx(lr,{path:"/cart/",element:o.jsx(Rq,{})}),o.jsx(lr,{path:"/checkout/:order_oid/",element:o.jsx(Lq,{})}),o.jsx(lr,{path:"/payment-success/:order_oid/",element:o.jsx(Fq,{})}),o.jsx(lr,{path:"/search/",element:o.jsx(Wq,{})}),o.jsx(lr,{path:"/student/dashboard/",element:o.jsx(qse,{})}),o.jsx(lr,{path:"/student/secure-test/:assignmentId/",element:o.jsx(A1e,{})}),o.jsx(lr,{path:"/student/courses/",element:o.jsx(_ye,{})}),o.jsx(lr,{path:"/student/assignments/",element:o.jsx(D1e,{})}),o.jsx(lr,{path:"/student/courses/:enrollment_id/",element:o.jsx(Mye,{})}),o.jsx(lr,{path:"/student/wishlist/",element:o.jsx(Rye,{})}),o.jsx(lr,{path:"/student/Settings/",element:o.jsx(Lye,{})}),o.jsx(lr,{path:"/student/certificates/",element:o.jsx(Bye,{})}),o.jsx(lr,{path:"/student/quiz/",element:o.jsx($ye,{})}),o.jsx(lr,{path:"/student/messages/",element:o.jsx(cxe,{})}),o.jsx(lr,{path:"/teacher/dashboard",element:o.jsx(q1e,{})}),o.jsx(lr,{path:"/teacher/Settings/",element:o.jsx(K1e,{})}),o.jsx(lr,{path:"/teacher/assignment/editor/:assignmentId/",element:o.jsx(BP,{})}),o.jsx(lr,{path:"/teacher/assignment/editor/",element:o.jsx(BP,{})}),o.jsx(lr,{path:"/teacher/assignments/",element:o.jsx(l_e,{})}),o.jsx(lr,{path:"/teacher/quiz/editor/:quizId/",element:o.jsx(UP,{})}),o.jsx(lr,{path:"/teacher/quiz/editor/",element:o.jsx(UP,{})}),o.jsx(lr,{path:"/teacher/quiz/",element:o.jsx(u_e,{})}),o.jsx(lr,{path:"/teacher/courses",element:o.jsx(WP,{})}),o.jsx(lr,{path:"/teacher/courses/:teacherId/",element:o.jsx(WP,{})}),o.jsx(lr,{path:"/teacher/messages",element:o.jsx(g_e,{})}),o.jsx(lr,{path:"*",element:o.jsx(o_e,{})})]})})]})})})})}d9.createRoot(document.getElementById("root")).render(o.jsx(nn.StrictMode,{children:o.jsx(x_e,{})}));export{gi as _,i1 as a,Sye as b,Jr as g,Ja as r};
